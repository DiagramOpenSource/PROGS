|FICHEROS;
     ver00001 #100;
     rem02000 #0;
     rem02002 #1;
     rem00008 #8;
     rem00999 #999;
     rem01000 #1000;
     retabla1 #401;
     retabla2 #102;
     retabla3 #103;
|FIN;

|VARIABLES;
     &enError    = 0;

      nSwHay     = 0;
      nLimite    = 0;
      nPorce     = 0;
      nCanti1    = 0;
      nCanti2    = 0;
      nCanti3    = 0;
      nCanti4    = 0;
      nDias      = 0;
      nValor     = 0;

      aAlfa      = "";
|FIN;

|| ************************************************************************
|| PROCESOS DE CAMBIO DE VERSION
|| ************************************************************************

|PROCESO MiraPatrones;
     nSwHay = 0;

     |ABRE #401;
     |LEE 040#401p;
     |SI FSalida ! 0;  |O #401#2 ! 300.51;
         |CIERRA #401;  |DELINDEX #401;
         nSwHay = 1;
     |FINSI;
     |CIERRA #401;

     |ABRE #0;
     #0#0  = 2;
     #0#1  = 24;
     |LEE 040#0=;
     |SI FSalida ! 0;
         nSwHay = 1;
         |CIERRA #0;  |DELINDEX #0;
     |FINSI;
     |CIERRA #0;

     |ABRE #8;
     #8#0 = 13;
     #8#1 = 882;
     |LEE 040#8=;
     |SI FSalida ! 0;  |O #8#9 ! 20000;
         |CIERRA #8;
         |DELINDEX #8;
         nSwHay = 1;
     |SINO;
         |CIERRA #8;
     |FINSI;

     |ABRE #1;
     |LEE 040#1p;
     |SI FSalida ! 0;
         |CIERRA #1;  |DELINDEX #1;
         nSwHay = 1;
     |FINSI;
     |CIERRA #1;

     |ABRE #999;
     #999#0 = 30;
     #999#1 = " 50";
     |LEE 040#999=;
     |SI FSalida ! 0;
                        |CIERRA #999;   |DELINDEX #999;
         |ABRE #401;    |CIERRA #401;   |DELINDEX #401;
         |ABRE #102;    |CIERRA #102;   |DELINDEX #102;
         |ABRE #103;    |CIERRA #103;   |DELINDEX #103;
         |ABRE #1000;   |CIERRA #1000;  |DELINDEX #1000;
         nSwHay = 1;
     |SINO;
         |CIERRA #999;
     |FINSI;

     |SI nSwHay = 1;
         |MENAV "0000 Han cambiado o no se han instalado los ficheros patrones, por favor instalelos.";
         |SUB_EJECUTA_NP "rez00001";
     |FINSI;

     |ABRE #0;
     #0#0  = 2;
     #0#1  = 24;
     |LEE 040#0=;
     |SI FSalida ! 0;
         |CIERRA #0;  |DELINDEX #0;
         enError = 1;
     |SINO;
         |CIERRA #0;
     |FINSI;

     |ABRE #8;
     #8#0 = 13;
     #8#1 = 882;
     |LEE 040#8=;
     |SI FSalida ! 0;  |O #8#9 ! 20000;
         |CIERRA #8;   |DELINDEX #8;
         enError = 1;
     |SINO;
         |CIERRA #8;
     |FINSI;

     |ABRE #401;
     |LEE 040#401p;
     |SI FSalida ! 0;  |O #401#2 ! 300.51;
         |CIERRA #401;  |DELINDEX #401;
         enError = 1;
     |SINO;
         |CIERRA #401;
     |FINSI;

     |ABRE #1;
     |LEE 040#1p;
     |SI FSalida ! 0;
         enError = 1;
     |FINSI;
     |CIERRA #1;

     |ABRE #999;
     #999#0 = 30;
     #999#1 = " 50";
     |LEE 040#999=;
     |SI FSalida ! 0;
         |CIERRA #999;
         |DELINDEX #999;
         enError = 1;
     |SINO;
         |CIERRA #999;
     |FINSI;

     |ABRE #1000;
     |LEE 040#1000p;
     |SI FSalida ! 0;
         |ABRE #999;   |CIERRA #999;  |DELINDEX #999;
         enError = 1;
     |FINSI;
     |CIERRA #1000;

     |ABRE #102;
     |LEE 040#102p;
     |SI FSalida ! 0;
         |ABRE #999;   |CIERRA #999;  |DELINDEX #999;
         enError = 1;
     |FINSI;
     |CIERRA #102;

     |ABRE #103;
     |LEE 040#103p;
     |SI FSalida ! 0;
         |ABRE #999;   |CIERRA #999;  |DELINDEX #999;
         enError = 1;
     |FINSI;
     |CIERRA #103;
|FPRC;

|PROGRAMA;
     |MENSA "0000Comprobando configuracion patrones.";
     enError = 0;
     |HAZ MiraPatrones;
     |SI enError = 1;
         |ABRE #100;
         |LEE 101#100p;
         |SI FSalida = 0;
             |BORRA 020#100a;
             |LIBERA #100;
         |FINSI;
         |CIERRA #100;

         |ACABA;
     |FINSI;

     |BLIN 5;
|FPRO;
