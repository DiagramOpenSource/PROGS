|FICHEROS;
     juanma05 #0;
|FIN;

|VARIABLES;
     &eaPrograma =  "";
     &eaExiste   = "";
     &eaCadena   = "";
     &enMenu     = 0;
     &enContador = 0;

     aBase       = "";
     aMenu       = "";
     aAlfa       = "";

     nCanal1     = 0;
     nSwPrint    = 0;
|FIN;

|PROCESO Repite;  |TIPO 7;
     #0#1 = #0#0;
     |PINTA #0#1;
|FPRC;

|PROCESO CogePrograma;
     enMenu     = 1;
     enContador = 0;
     |HAZ Rastreo;
     |HAZ BuscaEnIntegral;

     |SI eaCadena = "";  |ACABA;  |FINSI;

     #0#4 = eaCadena;  |PINTA #0#4;
     #0#2 = eaPrograma;
     #0#3 = eaExiste + " Esta en: " + enContador;

     |SI #0#5 = "T";
         nSwPrint = 1;
         |PRINT;
     |FINSI;

     |SI #0#5 = "S";
         aAlfa = eaExiste;  |QBF aAlfa;

         |SI aAlfa ! "Inexistente en INTEGRAL";
             nSwPrint = 1;
             |PRINT;
         |FINSI;
     |FINSI;

     |SI #0#5 = "N";
         aAlfa = eaExiste;  |QBF aAlfa;

         |SI aAlfa = "Inexistente en INTEGRAL";
             nSwPrint = 1;
             |PRINT;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO Tipo3;  |TIPO 3;
     |IMPRE 0;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |INFOR "juanma05";
     |SI FSalida ! 0;  |FINIMP;  |ACABA;  |FINSI;

     |DBASS aBase;                         |QBF aBase;
     aBase = aBase + #0#0;                 |QBF aBase;
     aMenu = aBase + "/" + #0#1 + ".men";  |QBT aMenu;
     |XABRE "U", aMenu, nCanal1;
     |SI FSalida ] 0;
         |PARA;  |SI;  |HACIENDO;
              |XLEE nCanal1, 255, eaPrograma;
              |SI FSalida < 0;  |SAL;  |FINSI;
              |HAZ CogePrograma;
         |SIGUE;
     |SINO;
         |MENAV "      Menu Inexistente.";
     |FINSI;
     |XCIERRA nCanal1;

     |SI nSwPrint ! 0;  |PIEINF;  |FINSI;

     |FININF;
     |FINIMP;
|FPRC;
