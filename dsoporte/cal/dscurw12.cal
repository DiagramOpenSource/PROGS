|FICHEROS;
     dscurm10 #10;
     dscurm12 #12;

     dscurw12 #912;
|FIN;

|VARIABLES;
     nPanta0        = 0;
     nCampoD        = 0;
     nCampoH        = 0;
     nCampoHasta    = 0;

     aAlfa          = "";

     &eaEmpresa     = "";
     &eaTrabaja     = "";
     &enModo        = 0;
|FIN;

|| ------------------------------------------------------
|| Procesos Grabacion del Trabajador
|| ------------------------------------------------------

|PROCESO GrabaTrabajador;
     #12#0 = #912#0;
     #12#1 = #912#2;
     |LEE 101#12=;
     |SI FSalida ! 0;
         |DDEFECTO #12;
         #12#0 = #912#0;
         #12#1 = #912#2;
         |GRABA 020#12b;
     |FINSI;

     |PARA nCampoD = 2;  |SI nCampoD [ nCampoHasta;  |HACIENDO nCampoD = nCampoD + 1;
           nCampoH    = nCampoD + 1;
           #12nCampoD = #912nCampoH;
     |SIGUE;

     |GRABA 020#12a;
     |LIBERA #12;
|FPRC;

|| ------------------------------------------------------
|| Procesos de la Pantalla
|| ------------------------------------------------------

|PROCESO Otros;
     |C_M #912#26, 1, "S";
     |SI #912#25 = "N";
         |C_M #912#26, 1, "N";  #912#26 = "";  |PINTA #912#26;
     |FINSI;
|FPRC;

|| ------------------------------------------------------
|| Procesos del Incio del Programa
|| ------------------------------------------------------

|PROCESO Trabajador;  |TIPO 0;
     |SI enModo ! 1;  |ACABA;  |FINSI;

     #12#0 = #912#0;
     #12#1 = #912#2;
     |LEE 000#12=;
     |SI FSalida = 0;
         |MENAV "0000 El Trabajador ya existe.";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo12;  |TIPO 12;
|FPRC;

|PROCESO Tipo80;  |TIPO 80;
     FSalida = 2799;
|FPRC;

|PROCESO Tipo90;  |TIPO 90;
|FPRC;

|PROGRAMA;
     |C_M #912#2, 1, "S";

     nCampoHasta    = 25;

     |ABRE #10;
     #10#0 = eaEmpresa;
     |LEE 000#10=;
     |SI FSalida ! 0;  |DDEFECTO #10; |FINSI;
     |CIERRA #10;

     #912#0  = #10#0;
     #912#1  = #10#1;

     |ABRE #12;
     |SI enModo ! 1;
         #12#0 = #912#0;
         #12#1 = eaTrabaja;
         |LEE 101#12=;
         |SI FSalida ! 0;  |DDEFECTO #12; |FINSI;

         |PARA nCampoD = 1;  |SI nCampoD [ nCampoHasta;  |HACIENDO nCampoD = nCampoD + 1;
               nCampoH     = nCampoD + 1;
               #912nCampoH = #12nCampoD;
         |SIGUE;

         |C_M #912#2, 1, "N";
     |FINSI;

     |CABEZA "Trabajadores";

     |PINPA #0#912;  nPanta0 = FSalida;
     |PINDA #0#912;

     |SI enModo = 1;  |ENDATOS #1#912;  |FINSI;
     |SI enModo = 2;  |ENDATOS #2#912;  |FINSI;

     |SI FSalida = 0;
         |HAZ GrabaTrabajador;
     |FINSI;
     |CIERRA #12;

     |PULSATECLA;
|FPRO;
