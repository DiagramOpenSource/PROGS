|FICHEROS;
     dscurm00 #0;
     dscurm02 #2;
     dscurm03 #3;
     dscurm04 #4;
     dscurm05 #5;
     dscurm06 #6;
     dscurm07 #7;

     dscurw09 #909;
|FIN;

|VARIABLES;
     nPanta0        = 0;

     aAlfa          = "";

     &enCurso       = 0;
     &enModo        = 1;
     &eaAplica      = "";
     &eaPracti      = "";
     &eaEjerc       = "";
|FIN;

|| ------------------------------------------------------
|| Procesos Grabacion del Apartado
|| ------------------------------------------------------

|PROCESO GrabaEjercicio;
     #7#0 = #909#1;
     #7#1 = #909#4;
     #7#2 = #909#6;
     #7#3 = #909#8;
     |LEE 101#7=;
     |SI FSalida ! 0;
         |DDEFECTO #7;
         #7#0 = #909#1;
         #7#1 = #909#4;
         #7#2 = #909#6;
         #7#3 = #909#8;
         |GRABA 020#7b;
     |FINSI;

     #7#4 = #909#9;
     #7#5 = #909#10;
     #7#6 = #909#12;
     #7#7 = #909#14;
     #7#8 = #909#16;
     |GRABA 020#7a;
     |LIBERA #7;
|FPRC;

|| ------------------------------------------------------
|| Procesos de la Pantalla
|| ------------------------------------------------------

|PROCESO PintaDescripcion;
     |ABRE #3;
     #3#0 = #909#1;
     #3#1 = #909#4;
     #3#2 = #909#10;
     |LEE 000#3=;
     |SI FSalida ! 0;  |DDEFECTO #3;  |FINSI;
     |CIERRA #3;

     |ABRE #4;
     #4#0 = #909#1;
     #4#1 = #909#4;
     #4#2 = #909#10;
     #4#3 = #909#12;
     |LEE 000#4=;
     |SI FSalida ! 0;  |DDEFECTO #4;  |FINSI;
     |CIERRA #4;

     |ABRE #5;
     #5#0 = #909#1;
     #5#1 = #909#4;
     #5#2 = #909#10;
     #5#3 = #909#12;
     #5#4 = #909#14;
     |LEE 000#5=;
     |SI FSalida ! 0;  |DDEFECTO #5;  |FINSI;
     |CIERRA #5;

     #909#11 = #3#3;  |PINTA #909#11;
     #909#13 = #4#4;  |PINTA #909#13;
     #909#15 = #5#5;  |PINTA #909#15;
|FPRC;

|PROCESO Baja3;
     #3#0 = #909#1;
     #3#1 = #909#4;
     #3#2 = "";
|FPRC;

|PROCESO Alta3;
     #3#0 = #909#1;
     #3#1 = #909#4;
     #3#2 = "zz";
|FPRC;

|PROCESO Baja4;
     #4#0 = #909#1;
     #4#1 = #909#4;
     #4#2 = #909#10;
     #4#3 = "";
|FPRC;

|PROCESO Alta4;
     #4#0 = #909#1;
     #4#1 = #909#4;
     #4#2 = #909#10;
     #4#3 = "zz";
|FPRC;

|PROCESO Baja5;
     #5#0 = #909#1;
     #5#1 = #909#4;
     #5#2 = #909#10;
     #5#3 = #909#12;
     #5#4 = "";
|FPRC;

|PROCESO Alta5;
     #5#0 = #909#1;
     #5#1 = #909#4;
     #5#2 = #909#10;
     #5#3 = #909#12;
     #5#4 = "zz";
|FPRC;

|PROCESO Tipo66Bloque; |TIPO 66;
     |ABRE #3;
     #3#0 = #909#1;
     #3#1 = #909#4;
     #3#2 = #909#10;
     |LEE 000#3=;

     |CONSULTA_F_CLAVE #1#3, Baja3, Alta3;
     |SI FSalida = 0;
         #909#10 = #3#2;
     |FINSI;
     |CIERRA #3;
|FPRC;

|PROCESO Tipo0Bloque;  |TIPO 0;
     |ABRE #3;
     #3#0 = #909#1;
     #3#1 = #909#4;
     #3#2 = #909#10;
     |LEE 000#3=;
     |SI FSalida ! 0;
         |MENAV "0000 No Existe el Bloque.";
         |ERROR;
     |SINO;
         #909#11 = #3#3;
         |PINTA #909#10;
         |PINTA #909#11;
     |FINSI;
     |CIERRA #3;
|FPRC;

|PROCESO Tipo66Leccion; |TIPO 66;
     |ABRE #4;
     #4#0 = #909#1;
     #4#1 = #909#4;
     #4#2 = #909#10;
     #4#3 = #909#12;
     |LEE 000#4=;

     |CONSULTA_F_CLAVE #1#4, Baja4, Alta4;
     |SI FSalida = 0;
         #909#12 = #4#3;
     |FINSI;
     |CIERRA #4;
|FPRC;

|PROCESO Tipo0Leccion;  |TIPO 0;
     |ABRE #4;
     #4#0 = #909#1;
     #4#1 = #909#4;
     #4#2 = #909#10;
     #4#3 = #909#12;
     |LEE 000#4=;
     |SI FSalida ! 0;
         |MENAV "0000 No Existe la Leccion.";
         |ERROR;
     |SINO;
         #909#13 = #4#4;
         |PINTA #909#12;
         |PINTA #909#13;
     |FINSI;
     |CIERRA #4;
|FPRC;

|PROCESO Tipo66Apartado; |TIPO 66;
     |ABRE #5;
     #5#0 = #909#1;
     #5#1 = #909#4;
     #5#2 = #909#10;
     #5#3 = #909#12;
     #5#4 = #909#14;
     |LEE 000#5=;

     |CONSULTA_F_CLAVE #1#5, Baja5, Alta5;
     |SI FSalida = 0;
         #909#14 = #5#4;
     |FINSI;
     |CIERRA #5;
|FPRC;

|PROCESO Tipo0Apartado;  |TIPO 0;
     |ABRE #5;
     #5#0 = #909#1;
     #5#1 = #909#4;
     #5#2 = #909#10;
     #5#3 = #909#12;
     #5#4 = #909#14;
     |LEE 000#5=;
     |SI FSalida ! 0;
         |MENAV "0000 No Existe el Apartado.";
         |ERROR;
     |SINO;
         #909#15 = #5#5;
         |PINTA #909#14;
         |PINTA #909#15;
     |FINSI;
     |CIERRA #5;
|FPRC;

|| ------------------------------------------------------
|| Procesos del Incio del Programa
|| ------------------------------------------------------

|PROCESO Ejercicio;  |TIPO 0;
     |SI enModo ! 1;  |ACABA;  |FINSI;

     #7#0 = #909#1;
     #7#1 = #909#4;
     #7#2 = #909#6;
     #7#3 = #909#8;
     |LEE 000#7=;
     |SI FSalida = 0;
         |MENAV "0000 El Ejercicio ya existe.";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo12;  |TIPO 12;
|FPRC;

|PROCESO Tipo80;  |TIPO 80;
     FSalida = 2799;
|FPRC;

|PROCESO Tipo90;  |TIPO 90;
|FPRC;

|PROGRAMA;
     |C_M #909#8, 1, "S";

     |ABRE #0;
     #0#0 = enCurso;
     |LEE 000#0=;
     |SI FSalida ! 0;  |DDEFECTO #0; |FINSI;
     |CIERRA #0;

     |ABRE #2;
     #2#0 = #0#1;
     #2#1 = eaAplica;
     |LEE 000#2=;
     |SI FSalida ! 0;  |DDEFECTO #2; |FINSI;
     |CIERRA #2;

     |ABRE #6;
     #6#0 = #0#1;
     #6#1 = #2#1;
     #6#2 = eaPracti;
     |LEE 000#6=;
     |SI FSalida ! 0;  |DDEFECTO #6; |FINSI;
     |CIERRA #6;

     #909#0  = #0#0;
     #909#1  = #0#1;
     #909#2  = #0#2;
     #909#3  = #0#3;
     #909#4  = #2#1;
     #909#5  = #2#2;
     #909#6  = #6#2;
     #909#7  = #6#3;

     |ABRE #7;
     |SI enModo ! 1;
         #7#0 = #909#1;
         #7#1 = #909#4;
         #7#2 = #909#6;
         #7#3 = eaEjerc;
         |LEE 101#7=;
         |SI FSalida ! 0;  |DDEFECTO #7; |FINSI;

         #909#8  = #7#3;
         #909#9  = #7#4;
         #909#10 = #7#5;
         #909#12 = #7#6;
         #909#14 = #7#7;
         #909#16 = #7#8;

         |HAZ PintaDescripcion;

         |C_M #909#8, 1, "N";
     |FINSI;

     |CABEZA "Ejercicios";

     |PINPA #0#909;  nPanta0 = FSalida;
     |PINDA #0#909;

     |SI enModo = 1;  |ENDATOS #1#909;  |FINSI;
     |SI enModo = 2;  |ENDATOS #2#909;  |FINSI;

     |SI FSalida = 0;
         |HAZ GrabaEjercicio;
     |FINSI;
     |CIERRA #7;

     |PULSATECLA;
|FPRO;
