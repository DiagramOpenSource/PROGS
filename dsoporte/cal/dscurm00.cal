|FICHEROS;
     dscurm00 #0;
     dscurm02 #2;
     dscurm03 #3;
     dscurm04 #4;
     dscurm05 #5;
     dscurm06 #6;
     dscurm07 #7;
|FIN;

|VARIABLES;
     nGrid1         = 0;
     nPanta0        = 0;
     nVentana       = 0;
     nPos1          = 0;
     nPos2          = 0;
     nRango         = 0;
     nBoton0_1      = 0;
     nBoton0_2      = 0;
     nBoton0_3      = 0;

     aEsc1          = "";
     aEsc2          = "";
     aRetu          = "";
     aTecla         = "";
     aAlfa          = "";

     &enCurso       = 0;
     &enModo        = 0;
|FIN;


|| ------------------------------------------------------------------------
|| PROCESOS DE ASIGNACION DE MENUS
|| ------------------------------------------------------------------------

|PROCESO BajaPanta1;
     #0#0 = 0;
|FPRC;

|PROCESO AltaPanta1;
     #0#0 = 9;
|FPRC;

|| ------------------------------------------------------------------------
|| PROCESOS DE BAJAS DE FICHEROS
|| ------------------------------------------------------------------------

|PROCESO dscurm07B;
     |BORRA 020#7a;
     |LIBERA #7;
|FPRC;

|DEFBUCLE dscurm07B;
     #7#1;
     ;
     #6#0, #6#1, #6#2, "  ";
     #6#0, #6#1, #6#2, "zz";
     be;
     NULL, dscurm07B;
|FIN;

|PROCESO dscurm06B;
     |BUCLE dscurm07B;

     |BORRA 020#6a;
     |LIBERA #6;
|FPRC;

|DEFBUCLE dscurm06B;
     #6#1;
     ;
     #2#0, #2#1, "  ";
     #2#0, #2#1, "zz";
     be;
     NULL, dscurm06B;
|FIN;

|PROCESO dscurm05B;
     |BORRA 020#5a;
     |LIBERA #5;
|FPRC;

|DEFBUCLE dscurm05B;
     #5#1;
     ;
     #4#0, #4#1, #4#2, #4#3, "  ";
     #4#0, #4#1, #4#2, #4#3, "zz";
     be;
     NULL, dscurm05B;
|FIN;

|PROCESO dscurm04B;
     |BUCLE dscurm05B;

     |BORRA 020#4a;
     |LIBERA #4;
|FPRC;

|DEFBUCLE dscurm04B;
     #4#1;
     ;
     #3#0, #3#1, #3#2, "  ";
     #3#0, #3#1, #3#2, "zz";
     be;
     NULL, dscurm04B;
|FIN;

|PROCESO dscurm03B;
     |BUCLE dscurm04B;

     |BORRA 020#3a;
     |LIBERA #3;
|FPRC;

|DEFBUCLE dscurm03B;
     #3#1;
     ;
     #2#0, #2#1, "  ";
     #2#0, #2#1, "zz";
     be;
     NULL, dscurm03B;
|FIN;

|PROCESO dscurm02B;
     |BUCLE dscurm03B;
     |BUCLE dscurm06B;

     |BORRA 020#2a;
     |LIBERA #2;
|FPRC;

|DEFBUCLE dscurm02B;
     #2#1;
     ;
     #0#1, "  ";
     #0#1, "zz";
     be;
     NULL, dscurm02B;
|FIN;

|| ------------------------------------------------------
|| Procesos del Boton 0_1
|| ------------------------------------------------------

|PROCESO Boton0_1;
     |VENTANA 0501, 2799, -1, -1, "";
     nVentana = FSalida;

     enCurso   = #0#0;
     enModo    = 1;
     |SUB_EJECUTA_NP "dscurw02";

     |FINVENTANA nVentana;

     |REFRESCACONTROL nGrid1;
|FPRC;

|| ------------------------------------------------------
|| Procesos del Boton 0_2
|| ------------------------------------------------------

|PROCESO Boton0_2;
     |VENTANA 0501, 2799, -1, -1, "";
     nVentana = FSalida;

     enCurso   = #0#0;
     enModo    = 2;
     |SUB_EJECUTA_NP "dscurw02";

     |FINVENTANA nVentana;

     |REFRESCACONTROL nGrid1;
|FPRC;

|| ------------------------------------------------------
|| Procesos del Boton 0_3
|| ------------------------------------------------------

|PROCESO Boton0_3;
     |LEE 000#0=;
     |SI FSalida ! 0;
         |ESTADO_CONTROL nBoton0_2, "DISABLE";
         |ESTADO_CONTROL nBoton0_3, "DISABLE";
     |FINSI;

     aAlfa = "0000NSeguro de dar de baja el Curso Base: " + #0#2;
     |CONFI aAlfa;
     |SI FSalida ! 0;   |ACABA;  |FINSI;

     |LEE 101#0=;
     |SI FSalida = 0;
         |BUCLE dscurm02B;
         |BORRA 020#0a;
         |LIBERA #0;
         |REFRESCACONTROL nGrid1;
     |FINSI;

     |LEE 000#0p;
     |SI FSalida = 0;
         |ESTADO_CONTROL nBoton0_2, "ENABLE";
         |ESTADO_CONTROL nBoton0_3, "ENABLE";
     |SINO;
         |ESTADO_CONTROL nBoton0_2, "DISABLE";
         |ESTADO_CONTROL nBoton0_3, "DISABLE";
     |FINSI;
|FPRC;

|| ------------------------------------------------------
|| Procesos del Inicio del Programa
|| ------------------------------------------------------

|PROCESO EventoPanta1;
     |SI FSalida = 1;  |O FSalida = 2;
         |ESTADO_CONTROL nBoton0_1, "ENABLE";

         |LEE 000#0=;
         |SI FSalida = 0;
             |ESTADO_CONTROL nBoton0_2, "ENABLE";
             |ESTADO_CONTROL nBoton0_3, "ENABLE";
         |SINO;
             |ESTADO_CONTROL nBoton0_2, "DISABLE";
             |ESTADO_CONTROL nBoton0_3, "DISABLE";
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO BotonesPanta0;
     |CONTROL_SIMPLE nPanta0, "BOTON,{{193}} Alta", 0977, 1098, Boton0_1;
     nBoton0_1 = FSalida;

     |CONTROL_SIMPLE nPanta0, "BOTON,{{197}} Modificar", 1277, 1398, Boton0_2;
     nBoton0_2 = FSalida;

     |CONTROL_SIMPLE nPanta0, "BOTON,{{199}} Baja ", 1577, 1698, Boton0_3;
     nBoton0_3 = FSalida;

     |ESTADO_CONTROL nBoton0_1, "ENABLE";
     |ESTADO_CONTROL nBoton0_2, "DISABLE";
     |ESTADO_CONTROL nBoton0_3, "DISABLE";
|FPRC;

|PROCESO Tipo80;  |TIPO 80;
     |ABRET #0;

     FSalida = 2799;
|FPRC;

|PROCESO Tipo90;  |TIPO 90;
     |CIERRAT #0;
|FPRC;

|PROGRAMA;
     |PINPA #0#0;  nPanta0 = FSalida;

     nRango = 4 + 8 + 16 + 32;
     nPos1  = 0802;
     nPos2  = 2675;

     |LINEAL_SIMPLE #1#0, nRango, nPos1, nPos2, BajaPanta1, AltaPanta1, EventoPanta1;
     nGrid1 = FSalida;

     |HAZ BotonesPanta0;

     aEsc1  = &255 + "806";
     aEsc2  = &255 + "807";
     aRetu  = &255 + "802";
     |PARA; |SI;  |HACIENDO;
         FSalida = "::Salir";
         |LEETECLA aTecla;
         |SI aTecla = aEsc1; |SAL;  |FINSI;
         |SI aTecla = aEsc2; |SAL;  |FINSI;
         |SI aTecla = aRetu; |SAL;  |FINSI;
     |SIGUE;

     |FIN_CONTROL_WINDOWS nBoton0_1;
     |FIN_CONTROL_WINDOWS nBoton0_2;
     |FIN_CONTROL_WINDOWS nBoton0_3;

     |DESTRUYECONTROL nGrid1;

     |PULSATECLA;
|FPRO;
