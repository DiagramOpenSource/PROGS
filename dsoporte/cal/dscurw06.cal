|FICHEROS;
     dscurm00 #0;
     dscurm02 #2;
     dscurm03 #3;
     dscurm04 #4;
     dscurm05 #5;

     dscurw06 #906;
|FIN;

|VARIABLES;
     nPanta0        = 0;

     aAlfa          = "";

     &enCurso       = 0;
     &enModo        = 1;
     &eaAplica      = "";
     &eaBloque      = "";
     &eaLeccion     = "";
     &eaApartad     = "";
|FIN;

|| ------------------------------------------------------
|| Procesos Grabacion del Apartado
|| ------------------------------------------------------

|PROCESO GrabaApartado;
     #5#0 = #906#1;
     #5#1 = #906#4;
     #5#2 = #906#6;
     #5#3 = #906#8;
     #5#4 = #906#10;
     |LEE 101#5=;
     |SI FSalida ! 0;
         |DDEFECTO #5;
         #5#0 = #906#1;
         #5#1 = #906#4;
         #5#2 = #906#6;
         #5#3 = #906#8;
         #5#4 = #906#10;
         |GRABA 020#5b;
     |FINSI;

     #5#5 = #906#11;
     #5#6 = #906#12;
     |GRABA 020#5a;
     |LIBERA #5;
|FPRC;

|| ------------------------------------------------------
|| Procesos del Incio del Programa
|| ------------------------------------------------------

|PROCESO Apartado;  |TIPO 0;
     |SI enModo ! 1;  |ACABA;  |FINSI;

     #5#0 = #906#1;
     #5#1 = #906#4;
     #5#2 = #906#6;
     #5#3 = #906#8;
     #5#4 = #906#10;
     |LEE 000#5=;
     |SI FSalida = 0;
         |MENAV "0000 El Apartado ya existe.";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo12;  |TIPO 12;
|FPRC;

|PROCESO Tipo80;  |TIPO 80;
     FSalida = 2799;
|FPRC;

|PROCESO Tipo90;  |TIPO 90;
|FPRC;

|PROGRAMA;
     |C_M #906#10, 1, "S";

     |ABRE #0;
     #0#0 = enCurso;
     |LEE 000#0=;
     |SI FSalida ! 0;  |DDEFECTO #0; |FINSI;
     |CIERRA #0;

     |ABRE #2;
     #2#0 = #0#1;
     #2#1 = eaAplica;
     |LEE 000#2=;
     |SI FSalida ! 0;  |DDEFECTO #2; |FINSI;
     |CIERRA #2;

     |ABRE #3;
     #3#0 = #0#1;
     #3#1 = #2#1;
     #3#2 = eaBloque;
     |LEE 000#3=;
     |SI FSalida ! 0;  |DDEFECTO #3; |FINSI;
     |CIERRA #3;

     |ABRE #4;
     #4#0 = #0#1;
     #4#1 = #2#1;
     #4#2 = #3#2;
     #4#3 = eaLeccion;
     |LEE 000#4=;
     |SI FSalida ! 0;  |DDEFECTO #4; |FINSI;
     |CIERRA #4;

     #906#0  = #0#0;
     #906#1  = #0#1;
     #906#2  = #0#2;
     #906#3  = #0#3;
     #906#4  = #2#1;
     #906#5  = #2#2;
     #906#6  = #3#2;
     #906#7  = #3#3;
     #906#8  = #4#3;
     #906#9  = #4#4;

     |ABRE #5;
     |SI enModo ! 1;
         #5#0 = #906#1;
         #5#1 = #906#4;
         #5#2 = #906#6;
         #5#3 = #906#8;
         #5#4 = eaApartad;
         |LEE 101#5=;
         |SI FSalida ! 0;  |DDEFECTO #5; |FINSI;

         #906#10 = #5#4;
         #906#11 = #5#5;
         #906#12 = #5#6;

         |C_M #906#10, 1, "N";
     |FINSI;

     |CABEZA "Apartados";

     |PINPA #0#906;  nPanta0 = FSalida;
     |PINDA #0#906;

     |SI enModo = 1;  |ENDATOS #1#906;  |FINSI;
     |SI enModo = 2;  |ENDATOS #2#906;  |FINSI;

     |SI FSalida = 0;
         |HAZ GrabaApartado;
     |FINSI;
     |CIERRA #5;

     |PULSATECLA;
|FPRO;
