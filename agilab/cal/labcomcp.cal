|FICHEROS;
    labcomcp #0;
    labempre #1;
    labcomc1 #2;
    labcontr #3;
|FIN;

|VARIABLES;
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    para1 = 0;
    para2 = 0;
    para3 = 0;
    para4 = 0;
    fech1 = @;
    fech2 = @;
    fech3 = @;
    fech4 = @;
    elsw1 = 0;
    elsw2 = 0;
    elsw3 = 0;
    elsw4 = 0;
    FEstado = 0;
    seleccio = 0;
    modo = 0;
    sw_rup = 0;
|FIN;

|INCLUYE i_comun;
____________________________________/
|PROCESO min;
    #0#0 = 1;
|FPRC;

|PROCESO max;
    #0#0 = 9999;
|FPRC;

|PROGRAMA;
|CLS;
|CABEZA "Reten.Aplic.";
|PINPA #0#0;
|ABRE #0;
|LEE 000#0p;
    FEstado = FSalida;
|CIERRA #0;

|DDEFECTO #3;
|ABRE #3;
|LEE 000#3p;
|CIERRA #3;

|SI FEstado ! 0;    |ENTLINEAL #1#0, 1, 1, 20, 0, min, max; |FINSI;
|SI FEstado = 0;    |ENTLINEAL #1#0, 1, 3, 20, 0, min, max; |FINSI;

|PUSHV 0501 2380;
|DDEFECTO #2;
|PINPA #0#2;
|PINDA #0#2;
|ENDATOS #1#2;
|SI FSalida = 0;
    |HAZ impresion;
|FINSI;
|POPV;
|FPRO;

|PROCESO lee_lineas1;
    alfa1 = "    Imprimiendo Empresa Codigo " + #0#1 + " ...";
|ATRI P;  |MENSA alfa1;  |ATRI 0;
|HAZ r_regis0;
    r_emp = #0#1;
|HAZ r_regis1;
|PARA para1 = 1; |SI para1 [ #2#0; |HACIENDO para1 = para1 + 1;
    |DDEFECTO #1;
    |ABRE #1;
        #1#0 = #0#1;
    |LEE 020#1=;
    |CIERRA #1;
    |INFOR "labcomcp";
    |PRINT;
    |PIEINF;
    |FININF;
|SIGUE;
|FPRC;

|DEFBUCLE lee_lineas;
 #0#1;
 ;
    1;
 9999;
 ;
 NULL, lee_lineas1;
|FIN;

|PROCESO impresion;
|IMPRE 0;
|SI FSalida = 0;
    |BUCLE lee_lineas;
    |BLIN 4;
|SINO;
    |MENAV "    Proceso abortado ...";
|FINSI;
|FINIMP;
|FPRC;
