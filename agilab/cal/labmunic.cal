|FICHEROS;
     labmunic;
|FIN;

|VARIABLES;
     nNume1 = 0;
     &aCodPos = "";
     &aCodigoMunicipio = "";
     &nMensajeF5 = 0;
     aAlfa = "";
|FIN;

|PROCESO min_labmunic;
     #labmunic#4 = "00000";
     #labmunic#1 = "00000";
|FPRC;

|PROCESO max_labmunic;
     #labmunic#4 = "99999";
     #labmunic#1 = "99999";
|FPRC;

|PROCESO min_labmunic2;
     #labmunic#4 = aCodPos;
     #labmunic#1 = "00000";
|FPRC;

|PROCESO max_labmunic2;
     #labmunic#4 = aCodPos;
     #labmunic#1 = "99999";
|FPRC;


|PROGRAMA;
     |CLS;
     |CABEZA "Relacion Munic./Cod.Pos.";
     |ABRE #labmunic;

     |PINPA #0#labmunic;
     |SI nMensajeF5 = 1;
          aAlfa = "<Pulse F5 para elegir un municipio de los disponibles.>";
          |PINTA 2220, aAlfa;
     |FINSI;
     aAlfa = "- Es posible dar de alta nuevos municipios si no estan disponibles -";
     |PINTA 2209, aAlfa;

     |SI aCodPos = "";
          |ENTLINEAL #1#labmunic, 1, 3, 20, 0, min_labmunic, max_labmunic;
     |SINO;
          |ENTLINEAL #1#labmunic, 1, 3, 20, 0, min_labmunic2, max_labmunic2;
          |SI nMensajeF5 = 1;
               nMensajeF5 = 0;
          |FINSI;
     |FINSI;
     |CIERRA #labmunic;
|FPRO;

|PROCESO SacaContenido; |TIPO 11;
     |SI FSalida = 10;
          |CONSULTA_CLAVE #3#labmunic;
          |SI FSalida = 0;
               aCodigoMunicipio = #labmunic#1;
               |PTEC 806;   ||hacemos el escape.
          |SINO;
               |ERROR;
          |FINSI;
     |SINO;
          |SI FSalida = 13;
               |SI #labmunic#1 ! "00000";
                    aCodigoMunicipio = #labmunic#1;
                    |PTEC 806;   ||hacemos el escape.
               |SINO;
                    |ERROR;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO GuardaAlta; |TIPO 0;
     nNume1 = (FEntrada / 100) ! 0;
     |SI nNume1 = 1;
          aCodigoMunicipio = #labmunic#1;
     |FINSI;
|FPRC;
