|FICHEROS;
    fuecatip #0;
    fuelitip #1;
    labtraba #2;
|FIN;

|VARIABLES;
    ejercicio = "";
    alfa = "";   ||fecha minimo mes
    beta = "";   ||fecha maximo mes
    ini_fecha = @;
    meshasta = @;
    mesdesde = @;
    alfa2 = "";
    alfa3 = "";
    aany = "";
    mes = 0;
    sw = 0;
|FIN;

|PROCESO fechab; |TIPO 0;
    alfa2 = #fuecatip#4;
    alfa2 = ("00" + alfa2) % -102;
    mes = alfa2;
    alfa3 = #fuecatip#1;
    alfa3 = ("00" + alfa3) % -102;
    |SI #0#1 > 80;
        aany = "19" + alfa3;
    |SINO;
        aany = "20" + alfa3;
    |FINSI;

    alfa = "01." + alfa2 + "." + aany;
    |SI mes = 1; |O mes = 3; |O mes = 5;  |O mes = 7; |O mes = 8; |O mes = 10; |O mes = 12;
        beta = "31." + alfa2 + "." + aany;
    |SINO;
        |SI mes = 4; |O mes = 6; |O mes = 9;  |O mes = 11;
            beta = "30." + alfa2 + "." + aany;
        |SINO;
            || Quiere decir que es FEB (02). Atencion con bisiestos
            sw = aany $ 4;
            |SI sw = 0;
                ||bisiesto
                beta = "29." + alfa2 + "." + aany;
            |SINO;
                beta = "28." + alfa2 + "." + aany;
            |FINSI;
        |FINSI;
    |FINSI;

    |SI #1#6 < alfa;
        mesdesde = alfa;
    |SINO;
        mesdesde = #1#6;
    |FINSI;

    |SI #1#7 > beta;
        meshasta = beta;
    |SINO;
        meshasta = #1#7;
    |FINSI;

    #1#8 = (#1#7 - #1#6) + 1;
    #1#9 = (meshasta - mesdesde) + 1;
    #1#10 = #1#9 / #0#3;

    |ABRE #labtraba;
    #2#0 = #1#0  ;  || Codigo empresa
    #2#1 = #1#5  ;  || Codigo trabajador
    |LEE 000#2=;

    |SI #2#42 = "X";|O #2#42 = "T";
        |SI #2#234 ! 0;|Y #2#234 ! 40;
            #1#11 = "Tiempo parcial: proporcion " + #2#234 + "/40";
            #1#10 = #1#10 * (#2#234 / 40);
        |FINSI;
    |FINSI;

    |CIERRA #labtraba;

    |PINTA #1#8;
    |PINTA #1#9;
    |PINTA #1#10;
|FPRC;
