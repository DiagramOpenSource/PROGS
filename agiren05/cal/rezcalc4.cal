|FICHEROS;
      rew99999 #999;

     &refere1@ #1001;
     &refere2@ #1002;
     &referr3@ #1003;

      datfic0@ #0;
      datfic1@ #1;
      datfic2@ #2;

      retabla1 #401;
|FIN;

|VARIABLES;
      aDef             = "";
      aAlfa            = "";
      aFichero         = "";
      aTCalc           = "";
      aTipo            = "";
      aRenta           = "";

      nCoefi           = 0;
      nSwFich          = 0;
      nLinea           = 0;
      nCampo           = 0;
      nCampo1          = 0;
      nCampo2          = 0;
      nValor           = 0;
      nPasada          = 0;
      nTCalc           = 0;
      nCanti           = 0;
      nAportaT1        = 0;
      nAportaT2        = 0;
      nAportaC1        = 0;
      nAportaC2        = 0;
      nResta           = 0;
      nResto           = 0;
      nRestoT          = 0;
      nRestoC          = 0;
      nSuma            = 0;

     &enEmpresa        = 0;
     &enComplementaria = 0;
     &eaPathDef        = "";
     &eaContri         = "";
     &enMinusvalia     = 0;
     &eaMinuAyuda      = "";
     &enBloque         = 0;
     &eaCasilla        = "";
     &enImporte        = 0;
     &enImporteA       = 0;
     &enSwAcum         = 0;
     &enNomeDat        = 0;
     &enNomeAgr        = 0;
     &eaMuerto         = "";
     &efFechaMuerto    = @;
     &enCalcuMuerto    = 0;
     &eaPrograma       = "";
     &enLinea          = 0;
     &eaObserva        = "";
|FIN;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO G0
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaG0;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     |SI #1#35 = "          ";
         #1#35 = eaContri;
         |SI #1#2 = "CONJUNTA  ";
             #1#35 = #0#2;
         |SINO;
             #1#35 = "TITULAR";
         |FINSI;
         #1#44 = #0#5;
     |SINO;
         |SI #1#37 = "          ";
             #1#37 = eaContri;
             |SI #1#2 = "CONJUNTA  ";
                 #1#37 = #0#2;
             |SINO;
                 #1#37 = "TITULAR";
             |FINSI;
             #1#45 = #0#5;
         |FINSI;
     |FINSI;

     |GRABA 020#1a;
     |LIBERA #1;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO G1_1
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaG1_1;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     #1#3 = 99;
     |LEE 040#1];
     |SI FSalida = 0;
         |LEE 040#1a;
     |SINO;
         |LEE 040#1u;
     |FINSI;

     |SI FSalida = 0; |Y #1#0 = #1001#0; |Y #1#1 = #1001#1; |Y #1#2 = #1001#2;
         nLinea = #1#3 + 1;
     |SINO;
         nLinea = 1;
     |FINSI;

     |DDEFECTO #1;
     #1#0  = #1001#0;
     #1#1  = #1001#1;
     #1#2  = #1001#2;
     #1#3  = nLinea;
     #1#4  = #0#11;
     #1#5  = eaContri;
     |SI #1#2 = "CONJUNTA  ";
         #1#5 = #0#2;
         |SI #1#5 = "VARIOS    ";  #1#5 = "COMUNES";  |FINSI;
         |SI #1#5 = "GANANCIAL ";  #1#5 = "COMUNES";  |FINSI;
     |FINSI;

     #1#6  = (N\ #0#12 % nCoefi);
     #1#7  = (N\ #0#13 % nCoefi);
     #1#8  = (N\ #0#14 % nCoefi);
     #1#9  = (N\ #0#15 % nCoefi);
     #1#10 = (N\ #0#19 % nCoefi);

     |GRABA 020#1n;
     |LIBERA #1;

     #2#0 = #1001#0;
     #2#1 = #1001#1;
     #2#2 = #1001#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1001#0;
         #2#1 = #1001#1;
         #2#2 = #1001#2;
         |GRABA 020#2b;
     |FINSI;

     #2#3 = (N\ #2#3 + (#0#12 % nCoefi));
     #2#4 = (N\ #2#4 + (#0#13 % nCoefi));
     #2#5 = (N\ #2#5 + (#0#14 % nCoefi));
     #2#6 = (N\ #2#6 + (#0#15 % nCoefi));

     |GRABA 020#2a;
     |LIBERA #2;

     enSwAcum  = 1;
     enBloque  = 29;
     eaCasilla = "746";
     enImporte = #0#19 % nCoefi;
     |HAZ GrabaLineal;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO G1_2
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaG1_2;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     #1#7  = (N\ #1#7  + (#0#11 % nCoefi));
     #1#8  = (N\ #1#8  + (#0#12 % nCoefi));
     #1#9  = (N\ #1#9  + (#0#13 % nCoefi));
     #1#10 = (N\ #1#10 + (#0#14 % nCoefi));
     #1#11 = (N\ #1#11 + (#0#15 % nCoefi));

     |GRABA 020#1a;
     |LIBERA #1;

     enBloque  = 29;
     enSwAcum  = 1;
     eaCasilla = "746";  enImporte = (#0#16 % nCoefi) + (#0#13 % nCoefi);   |HAZ GrabaLineal;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO G2
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaG2;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     #1#3 = 99;
     |LEE 040#1];
     |SI FSalida = 0;
         |LEE 040#1a;
     |SINO;
         |LEE 040#1u;
     |FINSI;

     |SI FSalida = 0; |Y #1#0 = #1001#0; |Y #1#1 = #1001#1; |Y #1#2 = #1001#2;
         nLinea = #1#3 + 1;
     |SINO;
         nLinea = 1;
     |FINSI;

     |DDEFECTO #1;
     #1#0  = #1001#0;
     #1#1  = #1001#1;
     #1#2  = #1001#2;
     #1#3  = nLinea;
     #1#4  = #0#13;
     #1#5  = eaContri;
     |SI #1#2 = "CONJUNTA  ";
         #1#5 = #0#2;
         |SI #1#5 = "VARIOS    ";  #1#5 = "COMUNES";  |FINSI;
         |SI #1#5 = "GANANCIAL ";  #1#5 = "COMUNES";  |FINSI;
     |FINSI;

     #1#6  = (N\ #0#14 % nCoefi);
     #1#7  = (N\ #0#15 % nCoefi);
     #1#8  = (N\ #0#16 % nCoefi);
     #1#9  = (N\ #0#17 % nCoefi);
     #1#10 = (N\ #0#18 % nCoefi);
     #1#11 = (N\ #0#19 % nCoefi);
     #1#12 = (N\ #0#20 % nCoefi);
     #1#13 = (N\ #0#21 % nCoefi);
     #1#14 = (N\ #0#22 % nCoefi);

     |GRABA 020#1n;
     |LIBERA #1;

     #2#0 = #1001#0;
     #2#1 = #1001#1;
     #2#2 = #1001#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1001#0;
         #2#1 = #1001#1;
         #2#2 = #1001#2;
         |GRABA 020#2b;
     |FINSI;

     #2#39 = (N\ #2#39 + (#0#16 % nCoefi));
     #2#40 = (N\ #2#40 + (#0#18 % nCoefi));
     #2#41 = (N\ #2#41 + (#0#20 % nCoefi));
     #2#42 = (N\ #2#42 + (#0#22 % nCoefi));

     |GRABA 020#2a;
     |LIBERA #2;

     enSwAcum  = 1;
     enBloque  = 29;
     eaCasilla = "746";
     enImporte = #0#23 % nCoefi;
     |HAZ GrabaLineal;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO G3_1
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaG3_1;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     #1#3 = 99;
     |LEE 040#1];
     |SI FSalida = 0;
         |LEE 040#1a;
     |SINO;
         |LEE 040#1u;
     |FINSI;

     |SI FSalida = 0; |Y #1#0 = #1001#0; |Y #1#1 = #1001#1; |Y #1#2 = #1001#2;
         nLinea = #1#3 + 1;
     |SINO;
         nLinea = 1;
     |FINSI;

     |DDEFECTO #1;
     #1#0  = #1001#0;
     #1#1  = #1001#1;
     #1#2  = #1001#2;
     #1#3  = nLinea;
     #1#4  = #0#11;
     #1#5  = eaContri;
     |SI #1#2 = "CONJUNTA  ";
         #1#5 = #0#2;
         |SI #1#5 = "VARIOS    ";  #1#5 = "COMUNES";  |FINSI;
         |SI #1#5 = "GANANCIAL ";  #1#5 = "COMUNES";  |FINSI;
     |FINSI;

                       #1#6 = #0#12;
     |SI #0#12 = "N";  #1#6 = "3";    |FINSI;
     |SI #0#12 = "S";  #1#6 = "1";    |FINSI;

     #1#7  = #0#13;
     #1#8  = #0#14;
     #1#9  = (N\ #0#15 % nCoefi);
     #1#10 = (N\ #0#16 % nCoefi);
     #1#11 = (N\ #0#17 % nCoefi);
     #1#12 = (N\ #0#18 % nCoefi);
     #1#13 = (N\ #0#19 % nCoefi);
     #1#14 = (N\ #0#20 % nCoefi);
     #1#15 = (N\ #0#21 % nCoefi);
     #1#16 = (N\ #0#22 % nCoefi);
     #1#17 = (N\ #0#23 % nCoefi);
     #1#18 = (N\ #0#24 % nCoefi);
     #1#20 = (N\ #0#26 % nCoefi);
     #1#21 = (N\ #0#29);
     #1#22 = #0#30;

     |GRABA 020#1n;
     |LIBERA #1;

     #2#0 = #1001#0;
     #2#1 = #1001#1;
     #2#2 = #1001#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1001#0;
         #2#1 = #1001#1;
         #2#2 = #1001#2;
         |GRABA 020#2b;
     |FINSI;

     #2#12 = (N\ #2#12 + (#0#18 % nCoefi));
     #2#13 = (N\ #2#13 + (#0#22 % nCoefi));
     #2#14 = (N\ #2#14 + (#0#26 % nCoefi));

     |GRABA 020#2a;
     |LIBERA #2;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO G3_2
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaG3_2;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     #1#3 = 99;
     |LEE 040#1];
     |SI FSalida = 0;
         |LEE 040#1a;
     |SINO;
         |LEE 040#1u;
     |FINSI;

     |SI FSalida = 0; |Y #1#0 = #1001#0; |Y #1#1 = #1001#1; |Y #1#2 = #1001#2;
         nLinea = #1#3 + 1;
     |SINO;
         nLinea = 1;
     |FINSI;

     |DDEFECTO #1;
     #1#0  = #1001#0;
     #1#1  = #1001#1;
     #1#2  = #1001#2;
     #1#3  = nLinea;
     #1#4  = eaContri;
     |SI #1#2 = "CONJUNTA  ";
         #1#4 = #0#2;
         |SI #1#4 = "VARIOS    ";  #1#4 = "COMUNES";  |FINSI;
         |SI #1#4 = "GANANCIAL ";  #1#4 = "COMUNES";  |FINSI;
     |FINSI;

     |SI #0#11 = "G";
         #1#5  = (N\ #0#12 % nCoefi);
         #1#6  = (N\ #0#13 % nCoefi);
     |SINO;
         #1#7  = (N\ #0#12 % nCoefi);
         #1#8  = (N\ #0#13 % nCoefi);
     |FINSI;

     |GRABA 020#1n;
     |LIBERA #1;

     #2#0 = #1001#0;
     #2#1 = #1001#1;
     #2#2 = #1001#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1001#0;
         #2#1 = #1001#1;
         #2#2 = #1001#2;
         |GRABA 020#2b;
     |FINSI;

     #2#15 = (N\ #2#15 + #1#6);
     #2#16 = (N\ #2#16 + #1#8);

     |GRABA 020#2a;
     |LIBERA #2;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO G3_3
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaG3_3;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     #1#3 = 99;
     |LEE 040#1];
     |SI FSalida = 0;
         |LEE 040#1a;
     |SINO;
         |LEE 040#1u;
     |FINSI;

     |SI FSalida = 0; |Y #1#0 = #1001#0; |Y #1#1 = #1001#1; |Y #1#2 = #1001#2;
         nLinea = #1#3 + 1;
     |SINO;
         nLinea = 1;
     |FINSI;

     |DDEFECTO #1;
     #1#0  = #1001#0;
     #1#1  = #1001#1;
     #1#2  = #1001#2;
     #1#3  = nLinea;
     #1#4  = eaContri;
     |SI #1#2 = "CONJUNTA  ";
         #1#4 = #0#2;
         |SI #1#4 = "VARIOS    ";  #1#4 = "COMUNES";  |FINSI;
         |SI #1#4 = "GANANCIAL ";  #1#4 = "COMUNES";  |FINSI;
     |FINSI;

     #1#5  = (N\ #0#11 % nCoefi);
     #1#6  = (N\ #0#12 % nCoefi);
     #1#7  = #0#13;

     |GRABA 020#1n;
     |LIBERA #1;

     #2#0 = #1001#0;
     #2#1 = #1001#1;
     #2#2 = #1001#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1001#0;
         #2#1 = #1001#1;
         #2#2 = #1001#2;
         |GRABA 020#2b;
     |FINSI;

     #2#17 = (N\ #2#17 + #1#6);

     |GRABA 020#2a;
     |LIBERA #2;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO G3_4
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaG3_4;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     #1#3 = 99;
     |LEE 040#1];
     |SI FSalida = 0;
         |LEE 040#1a;
     |SINO;
         |LEE 040#1u;
     |FINSI;

     |SI FSalida = 0; |Y #1#0 = #1001#0; |Y #1#1 = #1001#1; |Y #1#2 = #1001#2;
         nLinea = #1#3 + 1;
     |SINO;
         nLinea = 1;
     |FINSI;

     |DDEFECTO #1;
     #1#0  = #1001#0;
     #1#1  = #1001#1;
     #1#2  = #1001#2;
     #1#3  = nLinea;
     #1#4  = #0#11;
     #1#5  = eaContri;
     |SI #1#2 = "CONJUNTA  ";
         #1#5 = #0#2;
         |SI #1#5 = "VARIOS    ";  #1#5 = "COMUNES";  |FINSI;
         |SI #1#5 = "GANANCIAL ";  #1#5 = "COMUNES";  |FINSI;
     |FINSI;

                       #1#6 = #0#12;
     |SI #0#12 = "N";  #1#6 = "3";    |FINSI;
     |SI #0#12 = "S";  #1#6 = "1";    |FINSI;

     #1#7  = #0#14;
     #1#8  = #0#15;
     #1#9  = (N\ #0#16 % nCoefi);
     #1#10 = (N\ #0#21 % nCoefi);
     #1#11 = (N\ #0#22 % nCoefi);
     #1#12 = (N\ #0#23 % nCoefi);
     #1#13 = (N\ #0#24 % nCoefi);
     #1#14 = (N\ #0#25);
     #1#15 = (N\ #0#26 % nCoefi);
     #1#16 = (N\ #0#27 % nCoefi);
     #1#17 = (N\ #0#28 % nCoefi);
     #1#18 = (N\ #0#29 % nCoefi);
     #1#19 = (N\ #0#30 % nCoefi);
     #1#20 = (N\ #0#31 % nCoefi);
     #1#22 = (N\ #0#33 % nCoefi);
     #1#23 = (N\ #0#36);
     #1#24 = #0#37;
     #1#25 = #0#38;

     |GRABA 020#1n;
     |LIBERA #1;

     #2#0 = #1001#0;
     #2#1 = #1001#1;
     #2#2 = #1001#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1001#0;
         #2#1 = #1001#1;
         #2#2 = #1001#2;
         |GRABA 020#2b;
     |FINSI;

     #2#18 = (N\ #2#18 + #1#12);
     #2#19 = (N\ #2#19 + #1#18);
     #2#20 = (N\ #2#20 + #1#22);

     |GRABA 020#2a;
     |LIBERA #2;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO G3_5
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaG3_5;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     #1#3 = 99;
     |LEE 040#1];
     |SI FSalida = 0;
         |LEE 040#1a;
     |SINO;
         |LEE 040#1u;
     |FINSI;

     |SI FSalida = 0; |Y #1#0 = #1001#0; |Y #1#1 = #1001#1; |Y #1#2 = #1001#2;
         nLinea = #1#3 + 1;
     |SINO;
         nLinea = 1;
     |FINSI;

     |DDEFECTO #1;
     #1#0  = #1001#0;
     #1#1  = #1001#1;
     #1#2  = #1001#2;
     #1#3  = nLinea;
     #1#4  = eaContri;
     |SI #1#2 = "CONJUNTA  ";
         #1#4 = #0#2;
         |SI #1#4 = "VARIOS    ";  #1#4 = "COMUNES";  |FINSI;
         |SI #1#4 = "GANANCIAL ";  #1#4 = "COMUNES";  |FINSI;
     |FINSI;

     |SI #0#11 = "G";
         #1#5  = (N\ #0#12 % nCoefi);
         #1#6  = (N\ #0#13 % nCoefi);
     |SINO;
         #1#7  = (N\ #0#12 % nCoefi);
         #1#8  = (N\ #0#13 % nCoefi);
     |FINSI;

     |GRABA 020#1n;
     |LIBERA #1;

     #2#0 = #1001#0;
     #2#1 = #1001#1;
     #2#2 = #1001#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1001#0;
         #2#1 = #1001#1;
         #2#2 = #1001#2;
         |GRABA 020#2b;
     |FINSI;

     #2#21 = (N\ #2#21 + #1#6);
     #2#22 = (N\ #2#22 + #1#8);

     |GRABA 020#2a;
     |LIBERA #2;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO I1
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaI1;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |SI #0#2 = "TITULAR   ";
         nLinea = 1;
     |SINO;
         nLinea = 2;
     |FINSI;

     |DDEFECTO #1;
     #1#0  = #1001#0;
     #1#1  = #1001#1;
     #1#2  = #1001#2;
     #1#3  = nLinea;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0  = #1001#0;
         #1#1  = #1001#1;
         #1#2  = #1001#2;
         #1#3  = nLinea;
         |GRABA 020#1b;
     |FINSI;

     #1#4  = eaContri;
     |SI #1#2 = "CONJUNTA  ";
         #1#4 = #0#2;
         |SI #1#4 = "VARIOS    ";  #1#4 = "COMUNES";  |FINSI;
         |SI #1#4 = "GANANCIAL ";  #1#4 = "COMUNES";  |FINSI;
     |FINSI;

     |SI #1#4 = "1 FAMILIAR";  #1#4 = "TITULAR";  |FINSI;
     |SI #1#4 = "2 FAMILIAR";  #1#4 = "TITULAR";  |FINSI;
     |SI #1#4 = "3 FAMILIAR";  #1#4 = "TITULAR";  |FINSI;
     |SI #1#4 = "4 FAMILIAR";  #1#4 = "TITULAR";  |FINSI;

     #2#0 = #1001#0;
     #2#1 = #1001#1;
     #2#2 = #1001#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1001#0;
         #2#1 = #1001#1;
         #2#2 = #1001#2;
         |GRABA 020#2b;
     |FINSI;

     |SI #0#23 = "N";
         |SI #0#15 = 0;
             #1#5  = (N\ #1#5 + (#0#14 % nCoefi));
             #1#6  = (N\ #1#6 + (#0#16 % nCoefi));
         |SINO;
             #1#9  = (N\ #1#9  + (#0#14 % nCoefi));
             #1#10 = (N\ #1#10 + ((#0#15 % nCoefi) + (#0#16 % nCoefi)));
         |FINSI;

         #1#13 = #0#17;

         #1#19 = (N\ #1#19 + (#0#26 % nCoefi));

         #1#14 = (N\ #1#14 + ((#0#18 % nCoefi) + (#0#19 % nCoefi)));
         |SI #1#14 > #401#25;  #1#14 = #401#25;  |FINSI;

         #1#15 = (N\ #1#15 + (#0#20 % nCoefi));
         |SI #1#15 > #401#26;  #1#15 = #401#26;  |FINSI;

         |SI nPasada = 0;
             aTipo   = #0#24;
             nCanti  = #0#25;
             nPasada = 1;
         |FINSI;
     |SINO;
         #2#45 = (N\ #2#20 + ((#0#15 % nCoefi) + (#0#16 % nCoefi)));
         #1#16 = "S";
     |FINSI;

     #1#17 = aTipo;
     #1#18 = nCanti;

     |GRABA 020#1a;
     |LIBERA #1;

     #2#35 = (N\ #1#5 + #1#6);
     #2#37 = (N\ #1#8 + #1#9);

     |GRABA 020#2a;
     |LIBERA #2;

     enBloque  = 12;
     enSwAcum  = 0;
     eaCasilla = "550";  enImporte = #2#35;   |HAZ GrabaLineal;

     enBloque  = 12;
     enSwAcum  = 0;
     eaCasilla = "580";  enImporte = #2#38;   |HAZ GrabaLineal;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO I2
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaI2;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     |SI #0#14 = "N";
         |SI #0#2 = "TITULAR   ";
             #1#38 = "X";
             #1#39 = #0#12;
             #1#40 = (N\ #1#40 + (#0#13 % nCoefi));
         |SINO;
             #1#41 = "X";
             #1#42 = #0#12;
             #1#43 = (N\ #1#43 + (#0#13 % nCoefi));
         |FINSI;
         #1#44 = (N\ #1#44 + (#0#13 % nCoefi));
         |GRABA 020#1a;

         enSwAcum  = 0;
         enBloque  = 12;
         eaCasilla = "600";  enImporte = #1#25;   |HAZ GrabaLineal;
     |SINO;
         enSwAcum  = 1;
         enBloque  = 15;
         eaCasilla = "674";  enImporte = #0#13 % nCoefi;   |HAZ GrabaLineal;
     |FINSI;
     |LIBERA #1;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO I3
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaI3;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     #1#3 = 99;
     |LEE 040#1];
     |SI FSalida = 0;
         |LEE 040#1a;
     |SINO;
         |LEE 040#1u;
     |FINSI;

     |SI FSalida = 0; |Y #1#0 = #1001#0; |Y #1#1 = #1001#1; |Y #1#2 = #1001#2;
         nLinea = #1#3 + 1;
     |SINO;
         nLinea = 1;
     |FINSI;

     |DDEFECTO #1;
     #1#0  = #1001#0;
     #1#1  = #1001#1;
     #1#2  = #1001#2;
     #1#3  = nLinea;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0  = #1001#0;
         #1#1  = #1001#1;
         #1#2  = #1001#2;
         #1#3  = nLinea;
         |GRABA 020#1b;
     |FINSI;

     #1#4  = eaContri;
     |SI #1#2 = "CONJUNTA  ";
         #1#4 = #0#2;
         |SI #1#4 = "VARIOS    ";  #1#4 = "COMUNES";  |FINSI;
         |SI #1#4 = "GANANCIAL ";  #1#4 = "COMUNES";  |FINSI;
     |FINSI;

     |SI #1#4 = "1 FAMILIAR";  #1#4 = "TITULAR";  |FINSI;
     |SI #1#4 = "2 FAMILIAR";  #1#4 = "TITULAR";  |FINSI;
     |SI #1#4 = "3 FAMILIAR";  #1#4 = "TITULAR";  |FINSI;
     |SI #1#4 = "4 FAMILIAR";  #1#4 = "TITULAR";  |FINSI;

     #1#5 = #0#11;
     #1#6 = (N\ #1#6 + (#0#12 % nCoefi));
     #1#7 = (N\ #1#7 + (#0#13 % nCoefi));

     |GRABA 020#1a;
     |LIBERA #1;
|FPRC;

|PROCESO Individual1035;
     nSuma  = #1#7 + #1#6;
     nResta = 8000;
     nResto = nSuma - nResta;
     |SI nResto < 0;  nResto = 0;  |FINSI;

     |SI nResto > 0;
         |SI #1#7 > nResta;
             #1#7   = nResta;
             #1#6   = 0;
             nResta = 0;
         |SINO;
             nResta = nResta - #1#7;
         |FINSI;

         |SI #1#6 > nResta;
             #1#6 = nResta;
        |FINSI;
     |FINSI;
     |GRABA 020#1a;
     |LIBERA #1;

     #2#0 = #1#0;
     #2#1 = #1#1;
     #2#2 = #1#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1#0;
         #2#1 = #1#1;
         #2#2 = #1#2;
         |GRABA 020#2b;
     |FINSI;

     #2#75 = (N\ #1#6 + #1#7);
     #2#89 = (N\ nResto);

     |GRABA 020#2a;
     |LIBERA #2;

     enBloque  = 12;
     enSwAcum  = 0;
     eaCasilla = "517";  enImporte = #2#75;   |HAZ GrabaLineal;
|FPRC;

|PROCESO Conjunta1035;
     |SI nPasada = 0;
         |SI #1#4 = "TITULAR   ";
             nAportaT1 = nAportaT1 + #1#6;
             nAportaT2 = nAportaT2 + #1#7;
         |FINSI;

         |SI #1#4 = "CONYUGE   ";
             nAportaC1 = nAportaC1 + #1#6;
             nAportaC2 = nAportaC2 + #1#7;
         |FINSI;

         |ACABA;
     |FINSI;

     |SI #1#4 = "TITULAR   ";
         #1#6 = nAportaT1;
         #1#7 = nAportaT2;
     |FINSI;

     |SI #1#4 = "CONYUGE   ";
         #1#6 = nAportaC1;
         #1#7 = nAportaC2;
     |FINSI;

     |GRABA 020#1a;
     |LIBERA #1;

     #2#0 = #1#0;
     #2#1 = #1#1;
     #2#2 = #1#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1#0;
         #2#1 = #1#1;
         #2#2 = #1#2;
         |GRABA 020#2b;
     |FINSI;

     #2#75 = (N\ #2#75 + #1#6 + #1#7);
     #2#89 = (N\ nRestoT);
     #2#90 = (N\ nRestoC);

     |GRABA 020#2a;
     |LIBERA #2;

     enBloque  = 12;
     enSwAcum  = 0;
     eaCasilla = "517";  enImporte = #2#75;   |HAZ GrabaLineal;
|FPRC;

|PROCESO AjustaConjunta;
     nSuma  = nAportaT1 + nAportaT2 + nAportaC1 + nAportaC2;
     nResta = 8000;
     nResto = nSuma - nResta;
     |SI nResto < 0;  nResto = 0;  |FINSI;

     |SI nResto > 0;
         |SI nAportaT2 ] nResta;
             nRestoT   = nRestoT + (nAportaT2 - nResta) + nAportaT1;
             nRestoC   = nRestoC + nAportaC2 + nAportaC1;
             nAportaT2 = nResta;
             nAportaT1 = 0;
             nAportaC2 = 0;
             nAportaC1 = 0;
             nRestoC   = 0;

             nResta = 0;
         |SINO;
             nResta = nResta - nAportaT2;
         |FINSI;

         |SI nAportaC2 ] nResta;
             nRestoC   = nRestoC + (nAportaC2 - nResta) + nAportaC1;
             nRestoT   = nRestoT + nAportaT1;
             nAportaC2 = nResta;
             nAportaT1 = 0;
             nAportaC1 = 0;
             nRestoC   = nResto;

             nResta = 0;
         |SINO;
             nResta = nResta - nAportaC2;
         |FINSI;

         |SI nAportaT1 ] nResta;
             nRestoT   = nRestoT + (nAportaT1 - nResta);
             nRestoC   = nRestoC + nAportaC1;
             nAportaT1 = nResta;
             nAportaC1 = 0;

             nResta = 0;
         |SINO;
             nResta = nResta - nAportaT1;
         |FINSI;

         |SI nAportaC1 ] nResta;
             nRestoC   = nRestoC + (nAportaC1 - nResta);
             nAportaC1 = nResta;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO rem01035C4;
     |SI #1#2 = "CONJUNTA  ";  |O #1#2 = "CONJUNTAE ";
         |HAZ Conjunta1035;
     |SINO;
         |HAZ Individual1035;
     |FINSI;
|FPRC;

|DEFBUCLE rem01035C4;
     #1#1004;
     ;
     #1001#0, #1001#1, aRenta, 001;
     #1001#0, #1001#1, aRenta, 999;
     ;
     NULL, rem01035C4;
|FIN;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                   PROCESOS DE SELECCION
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO Liquida4;
     |HAZ CreaLiquida;               || En el rezcalut

     |SI nSwFich = 10; |HAZ LiquidaG0;    |FINSI;
     |SI nSwFich = 1;  |HAZ LiquidaG1_1;  |FINSI;
     |SI nSwFich = 2;  |HAZ LiquidaG1_2;  |FINSI;
     |SI nSwFich = 11; |HAZ LiquidaG2;    |FINSI;
     |SI nSwFich = 3;  |HAZ LiquidaG3_1;  |FINSI;
     |SI nSwFich = 4;  |HAZ LiquidaG3_2;  |FINSI;
     |SI nSwFich = 5;  |HAZ LiquidaG3_3;  |FINSI;
     |SI nSwFich = 6;  |HAZ LiquidaG3_4;  |FINSI;
     |SI nSwFich = 7;  |HAZ LiquidaG3_5;  |FINSI;
     |SI nSwFich = 8;  |HAZ LiquidaI1;    |FINSI;
     |SI nSwFich = 9;  |HAZ LiquidaI2;    |FINSI;
     |SI nSwFich = 12; |HAZ LiquidaI3;    |FINSI;
|FPRC;

|PROCESO Seleccion4;
     |SI #0#2 = "GANANCIAL ";                || Si es Ganancial
         nCoefi = 50;  eaContri = "TITULAR   ";   |HAZ Liquida4;
         nCoefi = 50;  eaContri = "CONYUGE   ";   |HAZ Liquida4;
         nCoefi = 100; eaContri = "CONJUNTA  ";   |HAZ Liquida4;

         |SI eaMuerto ! "";
             nCoefi = 50;  eaContri = "CONJUNTAE ";   |HAZ Liquida4;
         |FINSI;

         |ACABA;
     |FINSI;

     |SI #0#2 ! "VARIOS    ";                || SI es TITULAR O CONYUGE;
         nCoefi = 100;  eaContri = #0#2;          |HAZ Liquida4;
         nCoefi = 100;  eaContri = "CONJUNTA  ";  |HAZ Liquida4;

         |SI eaMuerto = "T";  |Y #0#2 ! "TITULAR   ";
             nCoefi = 100;  eaContri = "CONJUNTAE ";   |HAZ Liquida4;
         |FINSI;

         |SI eaMuerto = "C";  |Y #0#2 ! "CONYUGE   ";
             nCoefi = 100;  eaContri = "CONJUNTAE ";   |HAZ Liquida4;
         |FINSI;
         |ACABA;
     |FINSI;
                                             || SI es Varios

     |SI #0#5  ! 0; nCoefi = #0#5;   eaContri = "TITULAR   ";  |HAZ Liquida4;  |FINSI;
     |SI #0#6  ! 0; nCoefi = #0#6;   eaContri = "CONYUGE   ";  |HAZ Liquida4;  |FINSI;
     |SI #0#7  ! 0; nCoefi = #0#7;   eaContri = "1 FAMILIAR";  |HAZ Liquida4;  |FINSI;
     |SI #0#8  ! 0; nCoefi = #0#8;   eaContri = "2 FAMILIAR";  |HAZ Liquida4;  |FINSI;
     |SI #0#9  ! 0; nCoefi = #0#9;   eaContri = "3 FAMILIAR";  |HAZ Liquida4;  |FINSI;
     |SI #0#10 ! 0; nCoefi = #0#10;  eaContri = "4 FAMILIAR";  |HAZ Liquida4;  |FINSI;

     nCoefi  = #0#5 + #0#6 + #0#7 + #0#8 + #0#9 + #0#10;
     eaContri = "CONJUNTA  "; |HAZ Liquida4;

     |SI eaMuerto = "T";
         nCoefi  = #0#6 + #0#7 + #0#8 + #0#9 + #0#10;
         eaContri = "CONJUNTAE "; |HAZ Liquida4;
     |FINSI;

     |SI eaMuerto = "C";
         nCoefi  = #0#5 + #0#7 + #0#8 + #0#9 + #0#10;
         eaContri = "CONJUNTAE "; |HAZ Liquida4;
     |FINSI;
|FPRC;

|PROCESO PuntoG0;
     nSwFich = 10;
     aDef    = eaPathDef + "rem00057.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1033"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";   |HAZ Seleccion4;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00057";
                enLinea    = #0#1;
                eaObserva  = "(G0) ENTIDADES NO RESIDENTES EN ESPA쩇";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;

     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoG1_1;
     nSwFich = 1;
     aDef    = eaPathDef + "rem00036.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01027.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1027"#;  |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1033"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";   |HAZ Seleccion4;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00036";
                enLinea    = #0#1;
                eaObserva  = "(G1) INSTITUCIONES DE INVERSION COLECTIVA";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;

     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoG1_2;
     nSwFich = 2;
     aDef    = eaPathDef + "rem00037.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1033"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";   |HAZ Seleccion4;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00037";
                enLinea    = #0#1;
                eaObserva  = "(G1) PREMIOS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;

     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoG2;
     nSwFich = 11;
     aDef    = eaPathDef + "rem00059.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01039.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1039"#;  |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1033"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";   |HAZ Seleccion4;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00059";
                enLinea    = #0#1;
                eaObserva  = "(G2) ACCIONES ADMITIDAS EN MERCADOS OFICIALES";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;

     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoG3_1;
     nSwFich = 3;
     aDef    = eaPathDef + "rem00038.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01028.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1028"#;  |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1033"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";   |HAZ Seleccion4;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00038";
                enLinea    = #0#1;
                eaObserva  = "(G3) GANANCIAS Y PERDIDAS PROD.EN EL 2005";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;

     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoG3_2;
     nSwFich = 4;
     aDef    = eaPathDef + "rem00039.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01029.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1029"#;  |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1033"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";   |HAZ Seleccion4;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00039";
                enLinea    = #0#1;
                eaObserva  = "(G3) GANANCIAS Y PERDIDAS EJERCICIOS ANTERIORES";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;

     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoG3_3;
     nSwFich = 5;
     aDef    = eaPathDef + "rem00040.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01030.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1030"#;  |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1033"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";   |HAZ Seleccion4;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00040";
                enLinea    = #0#1;
                eaObserva  = "(G3) GANANCIAS Y PERDIDAS DIFER.POR REINVERSION";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;

     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoG3_4;
     nSwFich = 6;
     aDef    = eaPathDef + "rem00041.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01031.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1031"#;  |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1033"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";   |HAZ Seleccion4;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00041";
                enLinea    = #0#1;
                eaObserva  = "(G3) GANANCIAS Y PERDIDAS PRODUCIDAS EN EL 2005.";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;

     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoG3_5;
     nSwFich = 7;
     aDef    = eaPathDef + "rem00042.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01032.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1032"#;  |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1033"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";   |HAZ Seleccion4;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00042";
                enLinea    = #0#1;
                eaObserva  = "(G3) GANANCIAS Y PERDIDAS A쩙S ANTER. COBROS 2005";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;

     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoI1;
     nSwFich = 8;
     aDef    = eaPathDef + "rem00053.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01037.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1037"#;  |FINSI;

     aDef    = eaPathDef + "rem01034.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1034"#;  |FINSI;

     nPasada = 0;
     aTipo   = "";
     nCanti  = 0;
     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";   |HAZ Seleccion4;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00053";
                enLinea    = #0#1;
                eaObserva  = "(J) PLANES DE PENSIONES Y MUTUALIDADES";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;

     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoI2;
     nSwFich = 9;
     aDef    = eaPathDef + "rem00054.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01034.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1034"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";   |HAZ Seleccion4;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00054";
                enLinea    = #0#1;
                eaObserva  = "(J) PENSIONES COMPENSATORIAS Y ANUALIDADES ALIMENTOS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;

     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoI3;
     nSwFich = 12;
     aDef    = eaPathDef + "rem00061.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01035.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1035"#;  |FINSI;

     aDef    = eaPathDef + "rem01034.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1034"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";   |HAZ Seleccion4;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00061";
                enLinea    = #0#1;
                eaObserva  = "(J) APORTACIONES A LOS PATRIMONIOS PROTEGIDOS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;

     nAportaT1 = 0;
     nAportaT2 = 0;
     nAportaC1 = 0;
     nAportaC2 = 0;
     nRestoT   = 0;
     nRestoC   = 0;

     aRenta = "TITULAR";   nPasada = 0;  |BUCLE rem01035C4;
     aRenta = "CONYUGE";   nPasada = 0;  |BUCLE rem01035C4;
     aRenta = "CONJUNTA";  nPasada = 0;  |BUCLE rem01035C4;
                                         |HAZ AjustaConjunta;
     aRenta = "CONJUNTA";  nPasada = 1;  |BUCLE rem01035C4;

     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;

     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO Bloque4;
     enImporteA   = 0;
     nAportaT1    = 0;
     nAportaT2    = 0;
     nAportaC1    = 0;
     nAportaC2    = 0;

     |HAZ PuntoG0;
     |HAZ PuntoG1_1;
     |HAZ PuntoG1_2;
     |HAZ PuntoG2;
     |HAZ PuntoG3_1;
     |HAZ PuntoG3_2;
     |HAZ PuntoG3_3;
     |HAZ PuntoG3_4;
     |HAZ PuntoG3_5;
     |HAZ PuntoI1;
     |HAZ PuntoI2;
     |HAZ PuntoI3;
|FPRC;
