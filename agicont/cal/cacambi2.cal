|FICHEROS;
    cacambi2 #0;
    cacambix #1;    || preparacion

    cacuenta #20;   || plan contable
    casieali #21;   || asientos predefinidos lins.
    camanban #24;   || bancos
    camaasic #25;   || apuntes cabs.
    camaasil #26;   || apuntes lins.
    caiivsol #28;   || intr. fras. soportado
    caivasop #29;   || iva soportado
    caivarep #31;   || iva repercutido
    cacuivli #32;   || ctas. iva lins.
    cacoivli #33;   || ctas. contrapartidas iva lins.
    camancob #34;   || cobros
    camanpag #35;   || pagos
    caremesc #36;   || remesas cabs.
    capagcab #37;   || pagares cabs.
    caconcic #38;   || diferencias cabs.
    cacuepre #39;   || cuentas presupuestarias
    camoauxc #40;   || cuentas inventario
    camocabe #41;   || amortizaciones cabs.
    camogrup #42;   || grupos amortiz.
    caexistc #43;   || descarga existencias cabs.
    caexistl #44;   || descarga existencias lins.

    caconcil #45;   || diferencias lineas.
    camoauxl #52;   || diferencias lineas.

    camaylin #46;   || lineas mayor
    caiivrel #47;   || intr. fras. repercutido

    capasven #51;   || asiento ventas autom ticas.
    cacup300 #49;   || control pase contable 300.

    caclipro #50;   || Clientes Proveedores GENERAL
    plancont #60;   || plan contable basico

    cacup130 #61;   || control pase contable 130.
    cacup202 #62;   || control pase contable 202.
    cacupimp #63;   || control pase contable Impuesto.
    caivaasi #64;   || Ctrl Entrada IVA asientos.
    cagruiva #65;   || Grupos facturas Englobadas.
    cavengca #66;   || Ventas Englobadas Cabecera.

    calicont #67;   || Contrapartidas Apuntes
    caliconb #68;   || Contrapartidas Bloques

    camautol #69;   || Asientos Automaticos Lineas

    ca8m0003 #403;
    ca8m0004 #404;
|FIN;

|VARIABLES;
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    para1 = 0;
    para2 = 0;
    para3 = 0;
    para4 = 0;
    fech1 = @;
    fech2 = @;
    fech3 = @;
    fech4 = @;
    elsw1 = 0;
    elsw2 = 0;
    elsw3 = 0;
    elsw4 = 0;
    FEstado = 0;
    seleccio = 0;
    modo = 0;
    sw_rup = 0;

    mens = "";
    longi = 0;
    niveles = 0;
    cuenta = "";
    feini = @;
    fefin = @;
    traba = "";
    x = 0;
    mascara = "";
    aNombre = "";
    aCuenta = "";
    nSwC08 = 0;
|FIN;

|INCLUYE acceso_i;
|INCLUYE varnue_i;
____________________________________/ CALCULOS DE PANTALLA
|PROCESO mayus; |TIPO 0;
  #0Campo = #0Campo > #0Campo;
  |PINTA #0Campo;
|FPRC;

|PROCESO tipo8; |TIPO 8;
  |ABRE #1;
  |LEE 000#1p;
  |SI FSalida ! 0;
      |PINPA #0#0;                        || para que puedan leer
      |MENAV "    Preparacion Nula ...";
      |PTEC 807;
  |SINO;
      |HAZ inicio;
      |HAZ eVarEmpresa;
  |FINSI;
  |CIERRA #1;
|FPRC;
____________________________________/ CARGA DE NIVELES NUEVOS
|PROCESO niveles;
  |SI dig3 ! #20#1;  |ACABA;  |FINSI;
  niveles = dig3 - 1;
  aCuenta = #20#0;
  aNombre = "<Cambio de Niveles>";
  |PARA para1 = 1; |SI para1 [ niveles; |HACIENDO para1 = para1 + 1;
        |SI para1 = 5;  nume1 = dig8;  |FINSI;
        |SI para1 = 4;  nume1 = dig7;  |FINSI;
        |SI para1 = 3;  nume1 = dig6;  |FINSI;
        |SI para1 = 2;  nume1 = dig5;  |FINSI;
        |SI para1 = 1;  nume1 = dig4;  |FINSI;
        nume1 = 100 + nume1;
        ||cuenta = #20#0;
        cuenta = aCuenta;

        #20#0 = cuenta % nume1;
        #20#1 = para1;
        |LEE 000#20=;
        |SI FSalida ! 0;
            #60#0 = #20#0;
            #60#1 = #20#1;
            |LEE 000#60=;
            |SI FSalida = 0;
                |PARA para2 = 0; |SI para2 [ 59; |HACIENDO para2 = para2 + 1;
                      #20para2 = #60para2;
                |SIGUE;
                |GRABA 020#20n;
            |SINO;
                #20#0 = cuenta;
                #20#1 = dig3;
                |LEE 000#20=;
                #20#0 = #60#0;
                #20#1 = #60#1;
                #20#2 = aNombre;
                |SI #20#1 ! dig3;  #20#3 = "N";   |FINSI;
                |GRABA 020#20n;
            |FINSI;
        |SINO;
            aNombre = #20#2;
        |FINSI;
  |SIGUE;
|FPRC;
____________________________________/ CAMBIO DE CUENTAS
____________________________________/ camautol
|PROCESO camautol1;
  mens = " Astos Automaticos > " + #69#0 + "-" + #69#1;   #0#1 = mens;   |PINTA #0#1;

  #1#0 = #69#2;
  #1#1 = #69#3;
  |LEE 000#1=;
  |SI FSalida = 0;
      #69#2 = #1#2;
      #69#3 = #1#3;
      |GRABA 020#69a;
  |FINSI;

  |LIBERA #69;
|FPRC;

|DEFBUCLE camautol;
 #69#1;
 ;
 00001,    0;
 99999, 9999;
 be;
 NULL, camautol1;
|FIN;

|PROCESO camautol;
  |ABRE #1;
  |BUCLE camautol;
  |CIERRA #1;
|FPRC;

____________________________________/ caliconb
|PROCESO caliconb1;
 mens = " Contrapartidas> " + #68#0 + "-" + #68#1; #0#1 = mens; |PINTA #0#1;
 #1#0 = #68#2;
 #1#1 = #68#3;
 |LEE 000#1=;
 |SI FSalida = 0;
     #68#2 = #1#2;
     #68#3 = #1#3;
     |GRABA 020#68a;
 |FINSI;
 |LIBERA #68;
|FPRC;

|DEFBUCLE caliconb;
 #68#1;
 ;
 "        ",     0;
 "zzzzzzzz", 99999;
 be;
 NULL, caliconb1;
|FIN;

|PROCESO caliconb;
  |ABRE #1;
  |BUCLE caliconb;
  |CIERRA #1;
|FPRC;
____________________________________/ calicont
|PROCESO calicont1;
 mens = " Contrapartidas> " + #67#0 + "-" + #67#1 + "-" + #67#2; #0#1 = mens; |PINTA #0#1;
 #1#0 = #67#4;
 #1#1 = #67#5;
 |LEE 000#1=;
 |SI FSalida = 0;
     #67#4 = #1#2;
     #67#5 = #1#3;
     |GRABA 020#67a;
 |FINSI;
 |LIBERA #67;
|FPRC;

|DEFBUCLE calicont;
 #67#1;
 ;
  0, feini,      0,    0;
 99, fefin, 999999, 9999;
 be;
 NULL, calicont1;
|FIN;

|PROCESO calicont;
  |ABRE #1;
  feini = "01.01.0001";
  fefin = "31.12.9999";
  |BUCLE calicont;
  |CIERRA #1;
|FPRC;
____________________________________/ camaylin
|PROCESO camaylin1;
    mens = " Mayor> " + #46#0 + "-" + #46#1;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #46#4;
    #1#1 = #46#5;
|LEE 000#1=;
|SI FSalida = 0;
        #46#4 = #1#2;
        #46#5 = #1#3;
    |GRABA 020#46a;
|FINSI;

    #1#0 = #46#10;
    #1#1 = #46#11;
|LEE 000#1=;
|SI FSalida = 0;
        #46#10 = #1#2;
        #46#11 = #1#3;
    |GRABA 020#46a;
|FINSI;

|LIBERA #46;
|FPRC;

|DEFBUCLE camaylin;
 #46#1;
 ;
  0, feini,      0,    0;
 99, fefin, 999999, 9999;
 be;
 NULL, camaylin1;
|FIN;

|PROCESO camaylin;
  |ABRE #1;
  feini = "01.01.0001";
  fefin = "31.12.9999";
  |BUCLE camaylin;
  |CIERRA #1;
|FPRC;
____________________________________/ caexistl
|PROCESO caexistl1;
    mens = " Descarga Existencias> " + #44#0;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #44#2;
    #1#1 = #44#3;
    |LEE 000#1=;
    |SI FSalida = 0;
        #44#2 = #1#2;
        #44#3 = #1#3;
        |GRABA 020#44a;
    |FINSI;

    #1#0 = #44#5;
    #1#1 = #44#6;
|LEE 000#1=;
|SI FSalida = 0;
        #44#5 = #1#2;
        #44#6 = #1#3;
    |GRABA 020#44a;
|FINSI;

    #1#0 = #44#8;
    #1#1 = #44#9;
|LEE 000#1=;
|SI FSalida = 0;
        #44#8 = #1#2;
        #44#9 = #1#3;
    |GRABA 020#44a;
|FINSI;

|LIBERA #44;
|FPRC;

|DEFBUCLE caexistl;
 #44#1;
 ;
  0,  0;
 99, 99;
 be;
 NULL, caexistl1;
|FIN;

|PROCESO caexistl;
|ABRE #1;
|BUCLE caexistl;
|CIERRA #1;
|FPRC;
____________________________________/ caexistc
|PROCESO caexistc1;
    mens = " Descarga Existencias> " + #43#0;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #43#2;
    #1#1 = #43#3;
|LEE 000#1=;
|SI FSalida = 0;
        #43#2 = #1#2;
        #43#3 = #1#3;
    |GRABA 020#43a;
|FINSI;

|LIBERA #43;
|FPRC;

|DEFBUCLE caexistc;
 #43#1;
 ;
  0;
 99;
 be;
 NULL, caexistc1;
|FIN;

|PROCESO caexistc;
|ABRE #1;
|BUCLE caexistc;
|CIERRA #1;
|FPRC;
____________________________________/ caivaasi
|PROCESO caivaasi;
|ABRE #1;
|ABRE #64;
  #64#0 = 1;
  |LEE 000#64=;
  |SI FSalida ! 0;
      |CIERRA #64;
      |CIERRA #1;
      |ACABA;
  |FINSI;
  mens = " Control Entrada Asientos IVA > ";  #0#1 = mens;   |PINTA #0#1;

        #1#0 = #64#39;
        #1#1 = #64#40;
        |LEE 000#1=;
        |SI FSalida = 0;
            #64#39 = #1#2;
            #64#40 = #1#3;
        |FINSI;

  |GRABA 020#64a;
  |LIBERA #64;

|CIERRA #64;
|CIERRA #1;
|FPRC;
____________________________________/ cacup300
|PROCESO cacup300;
|ABRE #1;
|ABRE #49;
  #49#0 = 1;
  |LEE 000#49=;
  |SI FSalida ! 0;
      |CIERRA #49;
      |CIERRA #1;
      |ACABA;
  |FINSI;
  mens = " Control Pase Modelo 300 > ";  #0#1 = mens;   |PINTA #0#1;

  |PARA para4 = 1; |SI para4 [ 11; |HACIENDO para4 = para4 + 1;
        para3 = para4 + 11;
        #1#0 = #49para4;
        #1#1 = #49para3;
        |LEE 000#1=;
        |SI FSalida = 0;
            #49para4 = #1#2;
            #49para3 = #1#3;
        |FINSI;
  |SIGUE;

  |GRABA 020#49a;
  |LIBERA #49;

|CIERRA #49;
|CIERRA #1;
|FPRC;
____________________________________/ cacup130
|PROCESO cacup130;
|ABRE #1;
|ABRE #61;
  #61#0 = 1;
  |LEE 000#61=;
  |SI FSalida ! 0;
      |CIERRA #61;
      |CIERRA #1;
      |ACABA;
  |FINSI;
  mens = " Control Pase Modelo 130 > ";  #0#1 = mens;   |PINTA #0#1;

  |PARA para4 = 1; |SI para4 [ 11; |HACIENDO para4 = para4 + 1;
        para3 = para4 + 11;
        #1#0 = #61para4;
        #1#1 = #61para3;
        |LEE 000#1=;
        |SI FSalida = 0;
            #61para4 = #1#2;
            #61para3 = #1#3;
        |FINSI;
  |SIGUE;

  |GRABA 020#61a;
  |LIBERA #61;

|CIERRA #61;
|CIERRA #1;
|FPRC;
____________________________________/ cacup202
|PROCESO cacup202;
|ABRE #1;
|ABRE #62;
  #62#0 = 1;
  |LEE 000#62=;
  |SI FSalida ! 0;
      |CIERRA #1;
      |CIERRA #62;
      |ACABA;
  |FINSI;
  mens = " Control Pase Modelo 202 > ";  #0#1 = mens;   |PINTA #0#1;

  |PARA para4 = 1; |SI para4 [ 11; |HACIENDO para4 = para4 + 1;
        para3 = para4 + 11;
        #1#0 = #62para4;
        #1#1 = #62para3;
        |LEE 000#1=;
        |SI FSalida = 0;
            #62para4 = #1#2;
            #62para3 = #1#3;
        |FINSI;
  |SIGUE;

  |GRABA 020#62a;
  |LIBERA #62;

|CIERRA #62;
|CIERRA #1;
|FPRC;
____________________________________/ cacupimp
|PROCESO cacupimp;
|ABRE #1;
|ABRE #63;
  #63#0 = 1;
  |LEE 000#63=;
  |SI FSalida ! 0;
      |CIERRA #1;
      |CIERRA #63;
      |ACABA;
  |FINSI;
  mens = " Control Pase Dist. Impuesto Soc. > ";  #0#1 = mens;   |PINTA #0#1;

  |PARA para4 = 1; |SI para4 [ 11; |HACIENDO para4 = para4 + 1;
        para3 = para4 + 11;
        #1#0 = #63para4;
        #1#1 = #63para3;
        |LEE 000#1=;
        |SI FSalida = 0;
            #63para4 = #1#2;
            #63para3 = #1#3;
        |FINSI;
  |SIGUE;
        #1#0 = #63#58;
        #1#1 = #63#59;
        |LEE 000#1=;
        |SI FSalida = 0;
            #63#58 = #1#2;
            #63#59 = #1#3;
        |FINSI;

  |GRABA 020#63a;
  |LIBERA #63;

|CIERRA #63;
|CIERRA #1;
|FPRC;
____________________________________/ camogrup
|PROCESO camogrup1;
    mens = " Grupos Amortizacion> " + #42#0;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #42#1;
    #1#1 = #42#2;
|LEE 000#1=;
|SI FSalida = 0;
        #42#1 = #1#2;
        #42#2 = #1#3;
    |GRABA 020#42a;
|FINSI;

    #1#0 = #42#3;
    #1#1 = #42#4;
|LEE 000#1=;
|SI FSalida = 0;
        #42#3 = #1#2;
        #42#4 = #1#3;
    |GRABA 020#42a;
|FINSI;

    #1#0 = #42#5;
    #1#1 = #42#6;
|LEE 000#1=;
|SI FSalida = 0;
        #42#5 = #1#2;
        #42#6 = #1#3;
    |GRABA 020#42a;
|FINSI;

    #1#0 = #42#7;
    #1#1 = #42#8;
|LEE 000#1=;
|SI FSalida = 0;
        #42#7 = #1#2;
        #42#8 = #1#3;
    |GRABA 020#42a;
|FINSI;

|LIBERA #42;
|FPRC;

|DEFBUCLE camogrup;
 #42#1;
 ;
    0;
 9999;
 be;
 NULL, camogrup1;
|FIN;

|PROCESO camogrup;
|ABRE #1;
|BUCLE camogrup;
|CIERRA #1;
|FPRC;
____________________________________/ camocabe
|PROCESO camocabe1;
    mens = " Elementos Amortizacion> " + #41#0;   #0#1 = mens;   |PINTA #0#1;
    #1#0 = #41#3;
    #1#1 = #41#4;
|LEE 000#1=;
|SI FSalida = 0;
        #41#3 = #1#2;
        #41#4 = #1#3;
    |GRABA 020#41a;
|FINSI;

|LIBERA #41;
|FPRC;

|DEFBUCLE camocabe;
 #41#1;
 ;
 "        ",00;
 "zzzzzzzz",99;
 be;
 NULL, camocabe1;
|FIN;

|PROCESO camocabe;
|ABRE #1;
|BUCLE camocabe;
|CIERRA #1;
|FPRC;
____________________________________/ camoauxl
|PROCESO camoauxl1;
    mens = " Lineas Ctas.Inventario> " + #1#0;   #0#1 = mens;   |PINTA #0#1;

    |PARA para3 = 1; |SI para3 [ 999; |HACIENDO para3 = para3 + 1;
          #52#0 = #1#0;
          #52#1 = #1#1;
          #52#2 = para3;
          |LEE 000#52];
          |SI FSalida ! 0;
              |SAL;
          |SINO;
              |SI #52#0 = #1#0; |Y #52#1 = #1#1;
                  #52#0 = #1#2;
                  #52#1 = #1#3;
                  para3 = #52#2;
                  |LEE 000#52=;
                  |SI FSalida = 0;
                      |BORRA 020#52a;
                  |FINSI;
                  #52#0 = #1#0;
                  #52#1 = #1#1;
                  #52#2 = para3;
                  |LEE 000#52=;
                  |SI FSalida = 0;
                      |BORRA 020#52a;
                      #52#0 = #1#2;
                      #52#1 = #1#3;
                      #52#2 = para3;
                      |GRABA 020#52n;
                  |FINSI;
              |SINO;
                  |SAL;
              |FINSI;
          |FINSI;
    |SIGUE;

|FPRC;

|DEFBUCLE camoaux2l;
 #1#1;
 ;
 "            ", 0;
 "zzzzzzzzzzzz", 9;
 ;
 NULL, camoauxl1;
|FIN;

|PROCESO camoauxl;
|ABRE #52;
|BUCLE camoaux2l;
|CIERRA #52;
|FPRC;
____________________________________/ camoauxc
|PROCESO camoauxc1;
    mens = " Ctas.Inventario> " + #1#0;   #0#1 = mens;   |PINTA #0#1;

    #40#0 = #1#2;
    #40#1 = #1#3;
|LEE 000#40=;
|SI FSalida ! 0;
        #40#0 = #1#0;
        #40#1 = #1#1;
    |LEE 000#40=;
    |SI FSalida = 0;
        |BORRA 020#40a;
            #40#0 = #1#2;
            #40#1 = #1#3;
        |GRABA 020#40n;
    |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE cacambix3;
 #1#1;
 ;
 "            ", 0;
 "zzzzzzzzzzzz", 9;
 ;
 NULL, camoauxc1;
|FIN;

|PROCESO camoauxc;
|ABRE #40;
|BUCLE cacambix3;
|CIERRA #40;
|FPRC;
____________________________________/ cacuepre
|PROCESO cacuepre1;
    mens = " Ctas.Presup.> " + #1#0;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #39#0;
    #1#1 = #39#1;
|LEE 000#1=;
|SI FSalida = 0;
    |BORRA 020#39a;
        #39#0 = #1#2;
        #39#1 = #1#3;
    |GRABA 000#39n;
|FINSI;
|FPRC;

|DEFBUCLE cacuepre;
 #39#1;
 ;
  0, "            ", 0;
 99, "zzzzzzzzzzzz", 9;
 ;
 NULL, cacuepre1;
|FIN;

|PROCESO cacuepre;
|ABRE #1;
|BUCLE cacuepre;
|CIERRA #1;
|FPRC;
____________________________________/ caconcic
|PROCESO caconcic1;
    mens = " Diferencias> " + #1#0;   #0#1 = mens;   |PINTA #0#1;

    #38#0 = #1#2;
    #38#1 = #1#3;
|LEE 000#38=;
|SI FSalida ! 0;
        #38#0 = #1#0;
        #38#1 = #1#1;
    |LEE 000#38=;
    |SI FSalida = 0;
        |BORRA 020#38a;
            #38#0 = #1#2;
            #38#1 = #1#3;
        |GRABA 020#38n;
    |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE cacambix2;
 #1#1;
 ;
 "            ", 0;
 "zzzzzzzzzzzz", 9;
 ;
 NULL, caconcic1;
|FIN;

|PROCESO caconcic;
|ABRE #38;
|BUCLE cacambix2;
|CIERRA #38;
|FPRC;
____________________________________/ caconcil
|PROCESO caconcil1;
    mens = " Diferencias Lineas> " + #1#0;   #0#1 = mens;   |PINTA #0#1;

    |PARA para3 = 1; |SI para3 [ 999; |HACIENDO para3 = para3 + 1;
          #45#0 = #1#0;
          #45#1 = #1#1;
          #45#2 = para3;
          |LEE 000#45];
          |SI FSalida ! 0;
              |SAL;
          |SINO;
              |SI #45#0 = #1#0; |Y #45#1 = #1#1;
                  #45#0 = #1#2;
                  #45#1 = #1#3;
                  para3 = #45#2;
                  |LEE 000#45=;
                  |SI FSalida = 0;
                      |BORRA 020#45a;
                  |FINSI;
                  #45#0 = #1#0;
                  #45#1 = #1#1;
                  #45#2 = para3;
                  |LEE 000#45=;
                  |SI FSalida = 0;
                      |BORRA 020#45a;
                      #45#0 = #1#2;
                      #45#1 = #1#3;
                      #45#2 = para3;
                      |GRABA 020#45n;
                  |FINSI;
              |SINO;
                  |SAL;
              |FINSI;
          |FINSI;
    |SIGUE;
|FPRC;

|DEFBUCLE cacambix2l;
 #1#1;
 ;
 "            ", 0;
 "zzzzzzzzzzzz", 9;
 ;
 NULL, caconcil1;
|FIN;

|PROCESO caconcil;
|ABRE #45;
|BUCLE cacambix2l;
|CIERRA #45;
|FPRC;
____________________________________/ capagcab
|PROCESO capagcab1;
    mens = " Pagares> " + #37#0;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #37#1;
    #1#1 = #37#2;
|LEE 000#1=;
|SI FSalida = 0;
        #37#1 = #1#2;
        #37#2 = #1#3;
    |GRABA 020#37a;
|FINSI;

    #1#0 = #37#3;
    #1#1 = #37#4;
|LEE 000#1=;
|SI FSalida = 0;
        #37#3 = #1#2;
        #37#4 = #1#3;
    |GRABA 020#37a;
|FINSI;

|LIBERA #37;
|FPRC;

|DEFBUCLE capagcab;
 #37#1;
 ;
      0;
 999999;
 be;
 NULL, capagcab1;
|FIN;

|PROCESO capagcab;
|ABRE #1;
|BUCLE capagcab;
|CIERRA #1;
|FPRC;
____________________________________/ caremesc
|PROCESO caremesc1;
    mens = " Remesas> " + #36#0;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #36#14;
    #1#1 = #36#15;
|LEE 000#1=;
|SI FSalida = 0;
        #36#14 = #1#2;
        #36#15 = #1#3;
    |GRABA 020#36a;
|FINSI;

|LIBERA #36;
|FPRC;

|DEFBUCLE caremesc;
 #36#1;
 ;
     0;
 99999;
 be;
 NULL, caremesc1;
|FIN;

|PROCESO caremesc;
|ABRE #1;
|BUCLE caremesc;
|CIERRA #1;
|FPRC;
____________________________________/ camanpag
|PROCESO camanpag1;
    mens = " Pagos> " + #35#0 + "-" + #35#1;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #35#4;
    #1#1 = #35#5;
|LEE 000#1=;
|SI FSalida = 0;
        #35#4 = #1#2;
        #35#5 = #1#3;
    |GRABA 020#35a;
|FINSI;

|LIBERA #35;
|FPRC;

|DEFBUCLE camanpag;
 #35#1;
 ;
  0, "  ",      0,    0;
 99, "zz", 999999,  999;
 be;
 NULL, camanpag1;
|FIN;

|PROCESO camanpag;
|ABRE #1;
|BUCLE camanpag;
|CIERRA #1;
|FPRC;
____________________________________/ camancob
|PROCESO camancob1;
    mens = " Cobros> " + #34#0 + "-" + #34#1;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #34#4;
    #1#1 = #34#5;
|LEE 000#1=;
|SI FSalida = 0;
        #34#4 = #1#2;
        #34#5 = #1#3;
    |GRABA 020#34a;
|FINSI;

|LIBERA #34;
|FPRC;

|DEFBUCLE camancob;
 #34#1;
 ;
  0, "  ",      0,   0;
 99, "zz", 999999, 999;
 be;
 NULL, camancob1;
|FIN;

|PROCESO camancob;
|ABRE #1;
|BUCLE camancob;
|CIERRA #1;
|FPRC;
____________________________________/ cacoivli
|PROCESO cacoivli1;
    mens = " Contrapartidas.IVA Lins.> " + #33#0 + "-" + #33#1;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #33#2;
    #1#1 = #33#3;
|LEE 000#1=;
|SI FSalida = 0;
        #33#2 = #1#2;
        #33#3 = #1#3;
    |GRABA 020#33a;
|FINSI;

    #1#0 = #33#11;
    #1#1 = #33#12;
|LEE 000#1=;
|SI FSalida = 0;
        #33#11 = #1#2;
        #33#12 = #1#3;
    |GRABA 020#33a;
|FINSI;

|LIBERA #33;
|FPRC;

|DEFBUCLE cacoivli;
 #33#1;
 ;
 " ",  0;
 "z", 99;
 be;
 NULL, cacoivli1;
|FIN;

|PROCESO cacoivli;
|ABRE #1;
|BUCLE cacoivli;
|CIERRA #1;
|FPRC;
____________________________________/ cacuivli
|PROCESO cacuivli1;
    mens = " Ctas.IVA Lins.> " + #32#0 + "-" + #32#1;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #32#3;
    #1#1 = #32#4;
|LEE 000#1=;
|SI FSalida = 0;
        #32#3 = #1#2;
        #32#4 = #1#3;
    |GRABA 020#32a;
|FINSI;

    #1#0 = #32#6;
    #1#1 = #32#7;
|LEE 000#1=;
|SI FSalida = 0;
        #32#6 = #1#2;
        #32#7 = #1#3;
    |GRABA 020#32a;
|FINSI;

|LIBERA #32;
|FPRC;

|DEFBUCLE cacuivli;
 #32#1;
 ;
 " ",  0;
 "z", 99;
 be;
 NULL, cacuivli1;
|FIN;

|PROCESO cacuivli;
|ABRE #1;
|BUCLE cacuivli;
|CIERRA #1;
|FPRC;
____________________________________/ cavengca
|PROCESO cavengca1;
    mens = " Ventas Englobadas > " + #66#0;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #66#4;
    #1#1 = #66#5;
|LEE 000#1=;
|SI FSalida = 0;
        #66#4 = #1#2;
        #66#5 = #1#3;
    |GRABA 020#66a;
|FINSI;

|LIBERA #66;
|FPRC;

|DEFBUCLE cavengca;
 #66#1;
 ;
 feini;
 fefin;
 be;
 NULL, cavengca1;
|FIN;

|PROCESO cavengca;
|ABRE #1;
  feini = "01.01.0001";
  fefin = "31.12.9999";
  |BUCLE cavengca;
|CIERRA #1;
|FPRC;
____________________________________/ cagruiva
|PROCESO cagruiva1;
    mens = " Grupos Facturas Englobadas IVA > " + #65#0;   #0#1 = mens;   |PINTA #0#1;

  |PARA para4 = 2; |SI para4 [ 16; |HACIENDO para4 = para4 + 1;
        para3 = para4 + 15;
        #1#0 = #65para4;
        #1#1 = #65para3;
        |LEE 000#1=;
        |SI FSalida = 0;
            #65para4 = #1#2;
            #65para3 = #1#3;
        |FINSI;
  |SIGUE;
        #1#0 = #65#72;
        #1#1 = #65#73;
        |LEE 000#1=;
        |SI FSalida = 0;
            #65#73 = #1#2;
            #65#73 = #1#3;
        |FINSI;

    |GRABA 020#65a;

|LIBERA #65;
|FPRC;

|DEFBUCLE cagruiva;
 #65#1;
 ;
 00;
 99;
 be;
 NULL, cagruiva1;
|FIN;

|PROCESO cagruiva;
|ABRE #1;
  |BUCLE cagruiva;
|CIERRA #1;
|FPRC;
____________________________________/ capasven
|PROCESO capasven2;
    mens = " Control Pase Ventas Automaticas > " + #51#0;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #51#9;  || cuenta clientes
    #1#1 = #51#12;
|LEE 000#1=;
|SI FSalida = 0;
        #51#9  = #1#2;
        #51#12 = #1#3;
    |GRABA 020#51a;
|FINSI;

    #1#0 = #51#10;  || cuenta Ventas
    #1#1 = #51#13;
|LEE 000#1=;
|SI FSalida = 0;
        #51#10 = #1#2;
        #51#13 = #1#3;
    |GRABA 020#51a;
|FINSI;

    #1#0 = #51#11;  || cuenta IVA
    #1#1 = #51#14;
|LEE 000#1=;
|SI FSalida = 0;
        #51#11 = #1#2;
        #51#14 = #1#3;
    |GRABA 020#51a;
|FINSI;

|LIBERA #51;
|FPRC;

|DEFBUCLE capasven1;
 #51#1;
 ;
 00;
 99;
 be;
 NULL, capasven2;
|FIN;

|PROCESO capasven;
|ABRE #1;
|BUCLE capasven1;
|CIERRA #1;
|FPRC;
____________________________________/ caivarep
|PROCESO caivarep1;
    mens = " Iva Repercutido> " + #31#0 + "-" + #31#2;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #31#4;
    #1#1 = #31#5;
|LEE 000#1=;
|SI FSalida = 0;
        #31#4 = #1#2;
        #31#5 = #1#3;
    |GRABA 020#31a;
|FINSI;

|LIBERA #31;
|FPRC;

|DEFBUCLE caivarep;
 #31#1;
 ;
  0, "  ",      0;
 99, "zz", 999999;
 be;
 NULL, caivarep1;
|FIN;

|PROCESO caivarep;
|ABRE #1;
|BUCLE caivarep;
|CIERRA #1;
|FPRC;
____________________________________/ caiivrel
|PROCESO caiivrel1;
    mens = " Intr. Fras. Reperc.> " + #47#0 + "-" + #47#1;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #47#5;
    #1#1 = #47#6;
|LEE 000#1=;
|SI FSalida = 0;
        #47#5 = #1#2;
        #47#6 = #1#3;
    |GRABA 020#47a;
|FINSI;

    #1#0 = #47#17;
    #1#1 = #47#18;
|LEE 000#1=;
|SI FSalida = 0;
        #47#17 = #1#2;
        #47#18 = #1#3;
    |GRABA 020#47a;
|FINSI;

    #1#0 = #47#20;
    #1#1 = #47#21;
|LEE 000#1=;
|SI FSalida = 0;
        #47#20 = #1#2;
        #47#21 = #1#3;
    |GRABA 020#47a;
|FINSI;

    #1#0 = #47#22;
    #1#1 = #47#23;
|LEE 000#1=;
|SI FSalida = 0;
        #47#22 = #1#2;
        #47#23 = #1#3;
    |GRABA 020#47a;
|FINSI;

    #1#0 = #47#24;
    #1#1 = #47#25;
|LEE 000#1=;
|SI FSalida = 0;
        #47#24 = #1#2;
        #47#25 = #1#3;
    |GRABA 020#47a;
|FINSI;

|LIBERA #47;
|FPRC;

|DEFBUCLE b_caiivrel;
 #47#1;
 ;
  0,   0;
 99, 999;
 be;
 NULL, caiivrel1;
|FIN;

|PROCESO caiivrel;
|ABRE #1;
|BUCLE b_caiivrel;
|CIERRA #1;
|FPRC;
____________________________________/ caivasop
|PROCESO caivasop1;
    mens = " Iva Soportado> " + #29#0 + "-" + #29#2;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #29#4;
    #1#1 = #29#5;
|LEE 000#1=;
|SI FSalida = 0;
        #29#4 = #1#2;
        #29#5 = #1#3;
    |GRABA 020#29a;
|FINSI;

|LIBERA #29;
|FPRC;

|DEFBUCLE caivasop;
 #29#1;
 ;
  0, "  ",      0;
 99, "zz", 999999;
 be;
 NULL, caivasop1;
|FIN;

|PROCESO caivasop;
|ABRE #1;
|BUCLE caivasop;
|CIERRA #1;
|FPRC;
____________________________________/ caiivsol
|PROCESO caiivsol1;
    mens = " Intr. Fras. Soport.> " + #28#0 + "-" + #28#1;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #28#5;
    #1#1 = #28#6;
|LEE 000#1=;
|SI FSalida = 0;
        #28#5 = #1#2;
        #28#6 = #1#3;
    |GRABA 020#28a;
|FINSI;

    #1#0 = #28#17;
    #1#1 = #28#18;
|LEE 000#1=;
|SI FSalida = 0;
        #28#17 = #1#2;
        #28#18 = #1#3;
    |GRABA 020#28a;
|FINSI;

    #1#0 = #28#20;
    #1#1 = #28#21;
|LEE 000#1=;
|SI FSalida = 0;
        #28#20 = #1#2;
        #28#21 = #1#3;
    |GRABA 020#28a;
|FINSI;

    #1#0 = #28#22;
    #1#1 = #28#23;
|LEE 000#1=;
|SI FSalida = 0;
        #28#22 = #1#2;
        #28#23 = #1#3;
    |GRABA 020#28a;
|FINSI;

    #1#0 = #28#24;
    #1#1 = #28#25;
|LEE 000#1=;
|SI FSalida = 0;
        #28#24 = #1#2;
        #28#25 = #1#3;
    |GRABA 020#28a;
|FINSI;

|LIBERA #28;
|FPRC;

|DEFBUCLE b_caiivsol;
 #28#1;
 ;
  0,   0;
 99, 999;
 be;
 NULL, caiivsol1;
|FIN;

|PROCESO caiivsol;
|ABRE #1;
|BUCLE b_caiivsol;
|CIERRA #1;
|FPRC;
____________________________________/ camaasil
|PROCESO camaasil1;
    mens = " Apuntes Lins.> " + #26#0 + "-" + #26#1;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #26#4;
    #1#1 = #26#5;
|LEE 000#1=;
|SI FSalida = 0;
        #26#4 = #1#2;
        #26#5 = #1#3;
    |GRABA 020#26a;
|FINSI;

    #1#0 = #26#10;
    #1#1 = #26#11;
|LEE 000#1=;
|SI FSalida = 0;
        #26#10 = #1#2;
        #26#11 = #1#3;
    |GRABA 020#26a;
|FINSI;

    #1#0 = #26#16;
    #1#1 = #26#17;
|LEE 000#1=;
|SI FSalida = 0;
        #26#16 = #1#2;
        #26#17 = #1#3;
    |GRABA 020#26a;
|FINSI;

|LIBERA #26;
|FPRC;

|DEFBUCLE camaasil;
 #26#1;
 ;
  0, feini,      0,    0;
 99, fefin, 999999, 9999;
 be;
 NULL, camaasil1;
|FIN;

|PROCESO camaasil;
  |ABRE #1;
  feini = "01.01.0001";
  fefin = "31.12.9999";
  |BUCLE camaasil;
  |CIERRA #1;
|FPRC;
____________________________________/ camaasic
|PROCESO camaasic1;
    mens = " Apuntes Cabs.> " + #25#0 + "-" + #25#1;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #25#8;
    #1#1 = #25#9;
|LEE 000#1=;
|SI FSalida = 0;
        #25#8 = #1#2;
        #25#9 = #1#3;
    |GRABA 020#25a;
|FINSI;

    #1#0 = #25#10;
    #1#1 = #25#11;
|LEE 000#1=;
|SI FSalida = 0;
        #25#10 = #1#2;
        #25#11 = #1#3;
    |GRABA 020#25a;
|FINSI;

|LIBERA #25;
|FPRC;

|DEFBUCLE camaasic;
 #25#1;
 ;
  0, feini,      0;
 99, fefin, 999999;
 be;
 NULL, camaasic1;
|FIN;

|PROCESO camaasic;
  |ABRE #1;
  feini = "01.01.0001";
  fefin = "31.12.9999";
  |BUCLE camaasic;
  |CIERRA #1;
|FPRC;
____________________________________/ camanban
|PROCESO camanban1;
    mens = " Bancos> " + #24#0;   #0#1 = mens;   |PINTA #0#1;

    #1#0 = #24#10;
    #1#1 = #24#11;
|LEE 000#1=;
|SI FSalida = 0;
        #24#10 = #1#2;
        #24#11 = #1#3;
    |GRABA 020#24a;
|FINSI;

|LIBERA #24;
|FPRC;

|DEFBUCLE camanban;
 #24#1;
 ;
   0;
 999;
 be;
 NULL, camanban1;
|FIN;

|PROCESO camanban;
|ABRE #1;
|BUCLE camanban;
|CIERRA #1;
|FPRC;
____________________________________/ casieali
|PROCESO buscala;
    nume1 = #1#1;
|ERROR10;
|FPRC;

|DEFBUCLE buscala;
 #1#1;
 ;
 #21#3, 0;
 #21#3, 9;
 ;
 NULL, buscala;
|FIN;

|PROCESO casieali1;
    mens = " Predefinidos> " + #21#0;   #0#1 = mens;   |PINTA #0#1;

    nume1 = -1;
|BUCLE buscala;
|SI nume1 ! -1;
        #21#3 = #1#2;
        #21#4 = #1#3;
    |GRABA 020#21a;
|FINSI;
|LIBERA #21;
|FPRC;

|DEFBUCLE casieali;
 #21#1;
 ;
    1,  1;
 9999, 99;
 be;
 NULL, casieali1;
|FIN;

|PROCESO casieali;
|BUCLE casieali;
|FPRC;

____________________________________/ CLIENTES Y PROVEEDORES
|PROCESO clienpro1;
  mens = "Contrapartida Cli./Prov.> " + #50#10;   #0#1 = mens;   |PINTA #0#1;
  #1#0 = #50#21;
  #1#1 = #50#22;
  |LEE 000#1=;
  |SI FSalida = 0;
      #50#21 = #1#2;        || contrapartida
      #50#22 = #1#3;
      |GRABA 020#50a;
  |FINSI;
  |LIBERA #50;
|FPRC;

|DEFBUCLE clienpro;
#50#1;
;
" ","            ",0;
"z","zzzzzzzzzzzz",9;
be;
NULL, clienpro1;
|FIN;

|PROCESO clienpro;
  |ABRE #1;
  |BUCLE clienpro;
  |CIERRA #1;
|FPRC;
____________________________________/ caclirpo
|PROCESO caclipro1;
  mens = " CLIE/PROV.> " + #1#0;   #0#1 = mens;   |PINTA #0#1;
  #50#10 = #1#2;
  #50#11 = #1#3;
  traba = #50#10 % 102;
  |SI traba = "43"; |O traba = "44";
      #50#23 = "C";
  |SINO;
      #50#23 = "P";
  |FINSI;
  |LEE 000#50=;
  |SI FSalida = 0;  |ACABA;  |FINSI;
  #50#10 = #1#0;
  #50#11 = #1#1;
  traba = #50#10 % 102;
  |SI traba = "43";  |O traba = "44";
      #50#23 = "C";
  |SINO;
      #50#23 = "P";
  |FINSI;
  |LEE 000#50=;
  |SI FSalida ! 0;  |ACABA;  |FINSI;
  |BORRA 020#50a;
  #50#10 = #1#2;
  #50#11 = #1#3;
  |GRABA 020#50n;
|FPRC;

|DEFBUCLE cacambix4;
 #1#1;
 ;
 "            ", 0;
 "zzzzzzzzzzzz", 9;
 ;
 NULL, caclipro1;
|FIN;

|PROCESO caclipro;
|ABRE #50;
|BUCLE cacambix4;
|CIERRA #50;
|FPRC;
____________________________________/ cacuenta
|PROCESO cacuenta1;
  mens = " Plan Contable> " + #1#0;   #0#1 = mens;   |PINTA #0#1;

  #20#0 = #1#2;
  #20#1 = #1#3;
  |LEE 000#20=;
  |SI FSalida = 0;  |ACABA;   |FINSI;
  #20#0 = #1#0;
  #20#1 = #1#1;
  |LEE 000#20=;
  |SI FSalida ! 0;  |ACABA;  |FINSI;
  |BORRA 020#20a;
  #20#0 = #1#2;
  #20#1 = #1#3;

|| la 3a clave esta formada por la cta + zzzz y el campo fantasma del nivel;
  mascara = #20#0;
  |QBF mascara;
  mascara = mascara +"zzzzzzzzzzzz";
  mascara = mascara % 112;
  #20#54    = mascara;
  #20#55    = #1#3;

  |GRABA 020#20n;
  |SI FSalida = 0;
      |HAZ niveles;
  |FINSI;
|FPRC;

|DEFBUCLE cacambix;
 #1#1;
 ;
 "            ", 0;
 "zzzzzzzzzzzz", 9;
 ;
 NULL, cacuenta1;
|FIN;

|PROCESO cacuenta;
 |PATH_DAT #60 dir_fich;
 |ABRE #20;
 |ABRE #60;
 |BUCLE cacambix;
 |CIERRA #20;
 |CIERRA #60;
|FPRC;

|PROCESO Para8m003;
  mens = "Equivalencia Cuentas Plan 2008> " + #1#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

  #403#0 = #1#0;
  |LEE 101#403=;
  |SI FSalida = 0;
      |BORRA 020#403a;
      #403#0 = #1#2;
      |GRABA 040#403n;
  |FINSI;
  |LIBERA #403;
|FPRC;

|DEFBUCLE Para8m003;
   #1#1;
   ;
   "            ", 0;
   "zzzzzzzzzzzz", 9;
   ;
   NULL, Para8m003;
|FIN;

|PROCESO Leoca8m003;
   mens = "Equivalencia Cuentas Plan 2008> " + #403#2;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;
   eaCuenta = #403#2;
   #cacambix#0 = #403#2;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #403#2;
      #403#2 = #cacambix#2;
      |GRABA 020#403a;
   |FINSI;
   |LIBERA #403;
|FPRC;

|DEFBUCLE Leoca8m003;
 #403#1;
 ;
 "            ";
 "zzzzzzzzzzzz";
 be;
 NULL, Leoca8m003;
|FIN;

|PROCESO Leoca8m004
   mens = "Diario Apertura Plan 2008> " + #404#11 + "-" + #404#12 + "-" + #404#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;
   |SI nSwC08 = 1;
       eaCuenta = #404#8;
   |SINO;
       eaCuenta = #404#1;
   |FINSI;
   #cacambix#0 = eaCuenta;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = eaCuenta;
       |SI nSwC08 = 1;
           #404#8 = #cacambix#2;
           #404#9 = #cacambix#3;
       |SINO;
           #404#1 = #cacambix#2;
           #404#7 = #cacambix#3;
       |FINSI;
       |GRABA 020#404a;
   |FINSI;
   |LIBERA #404;
|FPRC;

|DEFBUCLE Leoca8m004;
 #404#1;
 ;
 00, "01.01.0000", 000001, 0001;
 99, "31.12.2999", 999999, 9999;
 be;
 NULL, Leoca8m004;
|FIN;

|PROCESO BuscoEmp8;
    nSwC08 = 2;
    |DFICB alfa1;
    alfa2 = #30#2; |QBF alfa2; alfa2 = ("00000" + alfa2) % -105;
    alfa3 = #30#3; |QBF alfa3; alfa3 = ("0"     + alfa3) % -101;
    alfa1 = alfa1 + alfa2 + alfa3 + "/";
    |PATH_DAT #403 alfa1;
    |PATH_DAT #404 alfa1;
|FPRC;

|DEFBUCLE BuscoEmp8;
 #30#1;
 26;
 enEmpresa, 0, 8;
 enEmpresa, 9, 8;
 ;
 NULL, BuscoEmp8;
|FIN;

|PROCESO ca8m3y4;

  nSwC08 = 0;
  |SI enEjercicio ] 2008;
      nSwC08 = 1;
  |FINSI;
  |SI enEjercicio = 2007;
      |SALVA_DATOS #30;
      |BUCLE BuscoEmp8;
      |REPON_DATOS #30;
  |FINSI;

  |SI nSwC08 ! 0;
      |SI nSwC08 = 1;
          |ABRE #1;
          |BUCLE Leoca8m003;
          |CIERRA #1;
      |SINO;
          |ABRE #403;
          |BUCLE Para8m003;
          |CIERRA #403;
      |FINSI;

      |ABRE #1;
      |BUCLE Leoca8m004;
      |CIERRA #1;
  |FINSI;
|FPRC;
____________________________________/
|PROCESO tipo3; |TIPO 3;
  |SI #0#0 ! "SI";  |ACABA;  |FINSI;
  |HAZ cacuenta;
  |HAZ caclipro;
  |HAZ clienpro;
  |HAZ casieali;
  |HAZ camanban;
  |HAZ camaasic;
  |HAZ camaasil;

  |HAZ caiivsol;
  |HAZ caivasop;
  |HAZ caiivrel;
  |HAZ caivarep;
  |HAZ cavengca;
  |HAZ capasven;
  |HAZ cacuivli;
  |HAZ cacoivli;
  |HAZ caivaasi;
  |HAZ cagruiva;

  |HAZ camancob;
  |HAZ camanpag;
  |HAZ caremesc;
  |HAZ capagcab;
  |HAZ caconcic;
  |HAZ caconcil;
  |HAZ cacuepre;
  |HAZ camoauxc;
  |HAZ camoauxl;
  |HAZ camogrup;
  |HAZ camocabe;

  |HAZ cacup300;
  |HAZ cacup130;
  |HAZ cacup202;
  |HAZ cacupimp;

  |HAZ caexistc;
  |HAZ caexistl;
  |HAZ camaylin;

  |HAZ calicont;
  |HAZ caliconb;

  |HAZ camautol;

  |HAZ ca8m3y4;
|FPRC;
