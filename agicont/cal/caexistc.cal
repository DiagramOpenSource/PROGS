|FICHEROS;
  caexistc #0;
  caexistl #1;
  cacuenta #2;

  &espejo@ #901;
|FIN;

|VARIABLES;
    &entrada = 1;
    potra = 0;
    campi1 = 0;
    campi2 = 0;
    campi3 = 0;
    estru = 0;
    linea = 0;
    cta = 0;
    sw = 0;
    campi = 0;
    digini = 0;
    m = 0;
    mm = 0;
    exini = 0;
    exiini = 0;
    exifin = 0;
    cueini = "";
    cuefin = 0;
    men2  = "     Longitud de Cuenta Fuera de Nivel !";
    men3  = "      Esta Cuenta NO tiene Pase directo";
    mensa1 = "    ERROR ESTA FECHA NO CORRESPONDE AL EJERCICIO";
    men1  = "     NO EXISTE EMPRESA !";
    long = 0;
    ctaalf = "";
    longnum = "";
    vacio = "            ";
    ini = 0;
    fecalf = "";
    fiac = "  ";
    guarda = "  ";
    relleno = "                                       ";
    aponer = "  ";
    digito = "";
    opera = "";
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    aDef901  = "";
    aDirInicio = "";

    doce   = "            ";
    &c_err = 0;
|FIN;

|INCLUYE acceso_i;
|INCLUYE puntos_i;

|CALCULO elTipo8Exis; |TIPO 8;
   |HAZ inicio;

   |DBASE aDirInicio;
   aDef901  = aDirInicio + "def/caexistl";
   |CARGA_DEF aDef901, espejo@;
   |SI FSalida ! 0;
       aDef901 = "";
       |MENAV "    Error Cargado Fichero de Existencias. Proceso Interrumpido";
       |ACABA;
   |FINSI;
|FCAL;

|CALCULO alSalir; |TIPO 9;
  |SI aDef901 ! ""; |DESCARGA_DEF #901; aDef901 = ""; |FINSI;
|FCAL;

|PROCESO cuefin1; |TIPO 0;
|ABRE #2;
    #2#0 = #0#2;
    #2#1 = #0#3;
|LEE 040#2=;
|SI FSalida = 0;
    |SI #2#3 = "N";
        |MENAV men3;
        |ERROR;
    |FINSI;
|SINO;
    |ERROR;
|FINSI;
|CIERRA #2;
|FPRC;

|PROCESO cuenta1;|TIPO 6;
     |SI #0Campo = doce; |ACABA; |FINSI;
     salidas = FSalida;
    p_alfa1 = #0Campo;
|HAZ punto;
|SI p_error ! 0;  |ERROR;  |ACABA;  |FINSI;
    alfa1 = #0Campo;
|QBF alfa1;
    alfa2 = alfa1 % 0;
    long = alfa2;
    sw = 0;
|SI long = dig4; sw = 1; #0#3 = 1; |FINSI;
|SI long = dig5; sw = 1; #0#3 = 2; |FINSI;
|SI long = dig6; sw = 1; #0#3 = 3; |FINSI;
|SI long = dig7; sw = 1; #0#3 = 4; |FINSI;
|SI long = dig8; sw = 1; #0#3 = 5; |FINSI;
|SI long = dig9; sw = 1; #0#3 = 6; |FINSI;
|SI long = 0;    sw = 0; #0#3 = 0; |FINSI;
|SI sw = 0;
    |MENAV men2;
    |ERROR;
|FINSI;
|FPRC;

|CALCULO ImpNegativo; |TIPO 0;
  |SI #1Campo < 0;
      |MENAV "    Error. Importe de Existencias en Negativo";
      |ERROR;
  |FINSI;
|FCAL;

|CALCULO El13; |TIPO 13;
   |HAZ PintaTexto;
|FCAL;
