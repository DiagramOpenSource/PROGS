|FICHEROS;
  capas349 #0;
  catra347 #1;
  caivasop #2;
  caivarep #3;
  caclipro #4;
  camac349 #10;
  camal349 #11;
  cacongru #13;
  canempre #30;
  caivaasi #200;

|FIN;

|VARIABLES;
  alfa11 = "catra349";
  desde = 0;
  hasta = 0;
  modif1 = "";
  modif2 = "";
  xy = 0;
  x = 0;
  y = 0;
  z = 0;
  yz = 0;
  juan = 0;

  direcc = "";
  linea = 0;
  sien = 0;
  alfa1 = "";
  alfa2 = "";
  alfa3 = "";
  lonagi = "";
  longi = 0;
  nume1 = 0;
  nume2 = 0;
  nume3 = 0;
  nume4 = 0;

  totalcomp = 0;
  totalvent  = 0;
  numpro = 0;
  numcli = 0;
  tipo1 = 0;
  tipo2 = 0;
  total = 0;
  des_p = 0;
  has_p = 0;
  des_f = @;
  has_f = @;

  swgr = 0;
  grupo = 0;
  concepto = 0;
  swclipro = 0;
  aTrM = "";
  nEjer = 0;
|FIN;

|INCLUYE acceso_i;

|| ************************************************************************

|PROCESO Tipo0C1;
     nEjer = 1900 + #30#26;
     |SI #30#26 < 80;
         nEjer = 2000 + #30#26;
     |FINSI;

     |SI #0#1 = 0;
         |C_M #0#105, 1, "N";
         #0#105 = "A";
         |PINTA #0#105;
         |ACABA;
     |FINSI;

     |SI nEjer [ 2009;
         |C_M #0#105, 1, "N";
         #0#105 = "T";
         |PINTA #0#105;
         |ACABA;
     |FINSI;

     |SI #0#1 [ 4;
         |C_M #0#105, 1, "S";
         |ACABA;
     |FINSI;

     |C_M #0#105, 1, "N";
     #0#105 = "M";
     |PINTA #0#105;
|FPRC;

|PROCESO Tipo0C105;
     alfa1 = "01.01";
     alfa2 = "31.12";

     |SI #0#105 = "T";
         |SI #0#1 = 1; alfa2 = "31.03"; |FINSI;
         |SI #0#1 = 2; alfa1 = "01.04"; alfa2 = "30.06"; |FINSI;
         |SI #0#1 = 3; alfa1 = "01.07"; alfa2 = "30.09"; |FINSI;
         |SI #0#1 = 4; alfa1 = "01.10"; |FINSI;
     |FINSI;

     |SI #0#105 = "M";
         |SI #0#1 = 1;  alfa1 = "01.01"; alfa2 = "31.01"; |FINSI;
         |SI #0#1 = 2;  alfa1 = "01.02"; alfa2 = "28.02"; |FINSI;
         |SI #0#1 = 3;  alfa1 = "01.03"; alfa2 = "31.03"; |FINSI;
         |SI #0#1 = 4;  alfa1 = "01.04"; alfa2 = "30.04"; |FINSI;
         |SI #0#1 = 5;  alfa1 = "01.05"; alfa2 = "31.05"; |FINSI;
         |SI #0#1 = 6;  alfa1 = "01.06"; alfa2 = "30.06"; |FINSI;
         |SI #0#1 = 7;  alfa1 = "01.07"; alfa2 = "31.07"; |FINSI;
         |SI #0#1 = 8;  alfa1 = "01.08"; alfa2 = "31.08"; |FINSI;
         |SI #0#1 = 9;  alfa1 = "01.09"; alfa2 = "30.09"; |FINSI;
         |SI #0#1 = 10; alfa1 = "01.10"; alfa2 = "31.10"; |FINSI;
         |SI #0#1 = 11; alfa1 = "01.11"; alfa2 = "30.11"; |FINSI;
         |SI #0#1 = 12; alfa1 = "01.12"; alfa2 = "31.12"; |FINSI;
     |FINSI;

     alfa3 = fec2 % -105;
     alfa1 = alfa1 + alfa3; #0#2 = alfa1; |PINTA #0#2;
     alfa2 = alfa2 + alfa3; #0#3 = alfa2; |PINTA #0#3;
|FPRC;

|PROCESO fecha;
 |SI #0Campo < fec1; |O #0Campo > fec2;
     |MENAV " Fecha erronea ... !";
     |ERROR;
     |ACABA;
 |FINSI;
 |SI Campo = 2;
     |SI #0#1 > #0#2;
         |MENAV " Fecha erronea ... !";
         |ERROR;
     |FINSI;
 |FINSI;
|FPRC;

|PROCESO mayor2;
  alfa1 = #0Campo > " ";
  #0Campo = alfa1;
  |PINTA #0Campo;
|FPRC;

|PROCESO mayor1;
  |HAZ mayor2;
  |SI #0Campo = "N";
      |CAMPO_MODIFICA #0#2, 1, "S";
      |CAMPO_MODIFICA #0#3, 1, "S";
  |SINO;
      |CAMPO_MODIFICA #0#2, 1, "N";
      |CAMPO_MODIFICA #0#3, 1, "N";
  |FINSI;
|FPRC;

|PROCESO mayor;
  |HAZ mayor2;
  desde = Campo;
  xy = 34;
  hasta = desde + xy;
  modif1 = "N";
  modif2 = "N"
  |SI #0Campo = "N";
      modif1 = "S";
      modif2 = "N";
  |SINO;
      |SI #0Campo = "S";
          modif1 = "N";
          modif2 = "S"
      |FINSI;
  |FINSI;
  juan = 0;
  |PARA desde = Campo + 1;  |SI desde [ hasta;  |HACIENDO desde = desde + 1;
        juan = juan + 1;
        |SI juan > 2;
            |CAMPO_MODIFICA #0desde, 1,modif1;
            |SI modif1 = "N";
                #0desde = 0;
                |PINTA #0desde;
            |FINSI;
        |SINO;
            |CAMPO_MODIFICA #0desde, 1,modif2;
            |SI modif2 = "N";
                #0desde = 0;
                |PINTA #0desde;
            |FINSI;
        |FINSI;
  |SIGUE;
|FPRC;

|PROCESO saltacon1;
  |SI FSalida = 2; |ACABA; |FINSI;
  x = Campo - 3;
  |SI #0x ! "N"; |ACABA; |FINSI;
  |SI #0Campo = 0;
      |MENAV "    Error!!! Introduzca como minimo  UN CONCEPTO ";
      |ERROR;
  |FINSI;
|FPRC;

|PROCESO saltacon;
  xy = 0;  hasta = 121;
  |SI Campo < 114; hasta = 113; xy = 0;   |FINSI;
  |SI Campo < 105; hasta = 96;  xy = 104; |FINSI;
  |SI Campo < 96;  hasta = 95;  xy = 87;  |FINSI;
  |SI Campo < 87;  hasta = 86;  xy = 78;  |FINSI;
  |SI Campo < 74;  hasta = 73;  xy = 39;  |FINSI;
  |SI Campo < 39;  hasta = 38;  xy = 4;   |FINSI;

  |SI xy ! 0;
      |SI xy < 74;
          |SI #0xy ! "N"; |ACABA; |FINSI;  || ha pedido desde/hasta
      |SINO;
          |SI #0xy = "N"; |ACABA; |FINSI;  || no tiene ejecucion obra o triangular
      |FINSI;
  |FINSI;

  |PARA desde = Campo + 1;  |SI desde [ hasta;  |HACIENDO desde = desde + 1;
        |SI #0Campo = 0;
            |CAMPO_MODIFICA #0desde, 1, "N";
            #0desde = 0;
        |SINO;
            |CAMPO_MODIFICA #0desde, 1, "S";
        |FINSI;
  |SIGUE;
|FPRC;

|PROCESO mayor3;
  |HAZ mayor2;
  desde = Campo;
  hasta = desde + 8;
  modif2 = #0Campo;
  |PARA desde = Campo + 1;  |SI desde [ hasta;  |HACIENDO desde = desde + 1;
        |CAMPO_MODIFICA #0desde, 1,modif2;
        |SI modif2 = "N";
            #0desde = 0;
            |PINTA #0desde;
        |FINSI;
  |SIGUE;
|FPRC;

|PROCESO saltacon2; |TIPO 7;
  xy = Campo - 4;
  |SI #0xy = "N"; |ACABA; |FINSI;
  x = Campo - 1;
  y = Campo - 2;
  z = Campo - 3;
  yz = Campo + 4;
|SI #0x ! 0; |O #0y ! 0; |O #0z ! 0;
  |PARA desde = Campo;  |SI desde [ yz;  |HACIENDO desde = desde + 1;
        |CAMPO_MODIFICA #0desde, 1, "N";
        #0desde = 0;
        |PINTA #0desde;
  |SIGUE;
|SINO;
   |PARA desde = Campo;  |SI desde [ yz;  |HACIENDO desde = desde + 1;
         |CAMPO_MODIFICA #0desde, 1, "S";
   |SIGUE;
|FINSI;
|FPRC;

|PROCESO saltagru;
  |SI #0Campo ! 0;  |ACABA;  |FINSI;
  hasta = 99;
  |SI Campo < 91; hasta = 90; |FINSI;
  |SI Campo < 82; hasta = 81; |FINSI;
  |PARA desde = Campo + 1;  |SI desde [ hasta;  |HACIENDO desde = desde + 1;
        |CAMPO_MODIFICA #0desde, 1, "N";
        #0desde = 0;
  |SIGUE;
|FPRC;

|| ************************************************************************

|PROGRAMA;
  |HAZ inicio;
  |CLS;
  |CABEZA "Pase a Mant.Modelo 349";

  |ABRE #200;
  |DDEFECTO #200;
  |LEE 141#200p;
  aTrM = #200#46;
  |CIERRA #200;

  |ABRE #0;
  |LEE 141#0p;
  |SI FSalida ! 0;
      |DDEFECTO #0;
      |GRABA 001#0b;
  |FINSI;
  |PINPA #0#0;
  |PINDA #0#0;
  |ENDATOS #2#0;
  |SI FSalida = 0;
      |GRABA 001#0a;
      |SI #0#77 = "S"; || Agrupados por Cuentas Contables
         |HAZ elpase;
      |SINO;
          |CIERRA #0;
          |CORRE "capas350";
      |FINSI;
  |FINSI;
  |CIERRA #0;
|FPRO;

|| ************************************************************************
|| ****************** CREAR FICHERO DE LINEA DEL 349 *********************
|| ***********************************************************************

|PROCESO lineas;
  total = #1#2 + #1#5 + #1#6;

|SI #1#2 ! 0;
    #11#0 = #30#2;
    #11#1 = #0#1;
    #11#2 = #30#26;
    linea = linea + 1;
    #11#3 = linea;
    |SI #1#4 = 1; #11#4 = "E"; |FINSI;
    |SI #1#4 = 2; #11#4 = "A"; |FINSI;
    |SI #1#4 = 3; #11#4 = "I"; |FINSI;
    |SI #1#4 = 4; #11#4 = "S"; |FINSI;
    #11#5 = #1#8;
    #11#6 = #1#3;
    #11#7 = #1#7;
    #11#8 = #1#2;
    |PDEFECTO #11, 9,17;
    |GRABA 011#11n;
    |LIBERA #11;
    |HAZ suma;
|FINSI;

|SI #1#5 ! 0;
    #11#0 = #30#2;
    #11#1 = #0#1;
    #11#2 = #30#26;
    linea = linea + 1;
    #11#3 = linea;
    |SI #1#4 = 1; #11#4 = "E"; |FINSI;
    |SI #1#4 = 2; #11#4 = "A"; |FINSI;
    |SI #1#4 = 3; #11#4 = "I"; |FINSI;
    |SI #1#4 = 4; #11#4 = "S"; |FINSI;
    #11#5 = #1#8;
    #11#6 = #1#3;
    #11#7 = #1#7;
    #11#8  = #1#5;
    |PDEFECTO #11, 9,17;
    #11#9 = "X";
    |GRABA 011#11n;
    |LIBERA #11;
    |HAZ suma;
|FINSI;

|SI #1#6 ! 0;
    #11#0 = #30#2;
    #11#1 = #0#1;
    #11#2 = #30#26;
    linea = linea + 1;
    #11#3 = linea;
    |SI #1#4 = 1; #11#4 = "E"; |FINSI;
    |SI #1#4 = 2; #11#4 = "A"; |FINSI;
    |SI #1#4 = 3; #11#4 = "I"; |FINSI;
    |SI #1#4 = 4; #11#4 = "S"; |FINSI;
    #11#5 = #1#8;
    #11#6 = #1#3;
    #11#7 = #1#7;
    #11#8  = #1#6;
    |PDEFECTO #11, 9,17;
    #11#13 = "X";
    |GRABA 011#11n;
    |LIBERA #11;
    |HAZ suma;
|FINSI;
|FPRC;

|PROCESO suma;
  |SI #1#4 = 1; numcli = numcli + 1; |FINSI;
  |SI #1#4 = 4; numcli = numcli + 1; |FINSI;
  |SI #1#4 = 2; numpro = numpro + 1; |FINSI;
  |SI #1#4 = 3; numpro = numpro + 1; |FINSI;
|FPRC;

|DEFBUCLE escribe;
#1#1;
;
"            ",0, 1;
"zzzzzzzzzzzz",9, 9;
e;
NULL,lineas;
|FIN;

|| ***********************************************************************
|| ********************* CREAR FICHERO DE TRABAJO ************************
|| ***********************************************************************

|PROCESO sumacomp;
  tipo1 = 0; || (2) compras
  tipo2 = 0; || (2) normal, (5) obras
  sien = 0;


|| .................................... Seleccion de Compras
  |SI #0#4 = "S";
      |SI #2#6 ] #0#5;  |Y #2#6 [ #0#6;
          sien  = 1;
          tipo1 = 2;
          tipo2 = 2;
      |FINSI;
  |SINO;
      sien = 0;
      |PARA desde = 7;  |SI desde [ 38;  |HACIENDO desde = desde + 1;
            |SI #0desde = 0;  |SAL;  |FINSI;
            |SI #2#6 = #0desde;
                sien = 1;
                tipo1 = 2;
                tipo2 = 2;
                |SAL;
            |FINSI;
      |SIGUE;
  |FINSI;

|| .................................... Seleccion de ejecucion obra
  |SI #0#78 = "S";
      |SI #0#79 ! 0; |O #0#80 ! 0; |Y #0#81 ! 0;
          swgr = 0; concepto = #2#6;
          |SI #0#79 ! 0; grupo = #0#79; |HAZ vergrupo; |FINSI;
          |SI #0#80 ! 0; |Y swgr = 0; grupo = #0#80; |HAZ vergrupo; |FINSI;
          |SI #0#81 ! 0; |Y swgr = 0; grupo = #0#81; |HAZ vergrupo; |FINSI;
          |SI swgr = 1;
              sien = 1;
              tipo1 = 2;
              tipo2 = 5;
          |FINSI;
      |SINO;
          |PARA desde = 82;  |SI desde [ 86;  |HACIENDO desde = desde + 1;
                |SI #0desde = 0;  |SAL;  |FINSI;
                |SI #2#6 = #0desde;
                    sien = 1;
                    tipo1 = 2;
                    tipo2 = 5;
                    |SAL;
                |FINSI;
          |SIGUE;
      |FINSI;
  |FINSI;

  |PARA desde = 106;  |SI desde [ 113;  |HACIENDO desde = desde + 1;
            |SI #0desde = 0;  |SAL;  |FINSI;

            |SI #2#6 = #0desde;
                sien = 1;
                tipo1 = 3;
                tipo2 = 2;
                |SAL;
            |FINSI;
  |SIGUE;

  |PARA desde = 114;  |SI desde [ 121;  |HACIENDO desde = desde + 1;
        |SI #0desde = 0;  |SAL;  |FINSI;
        |SI #2#6 = #0desde;
            sien = 1;
            tipo1 = 4;
            tipo2 = 2;
            |SAL;
        |FINSI;
  |SIGUE;

|| .................................../ Fin compras.

|SI sien = 1; || Es concepto elegido.
    #1#0 = #2#4;
    #1#1 = #2#5;
    #1#4 = tipo1;
    |LIBERA #1;
    |LEE 101#1=;
    |SI FSalida ! 0;
        #1#0 = #2#4;
        #1#1 = #2#5;
        #1#2 = 0;
        #1#3 = #2#51;
        #1#4 = tipo1;
        #1#5 = 0;
        #1#6 = 0;
        |HAZ leeclipro;
         |SI swclipro = 0;
             #1#3 = #2#51;
             #1#7 = #2#50;
         |FINSI;
        |GRABA 020#1b;
   |FINSI;
   #1tipo2 = #1tipo2 + (#2#8 + #2#9 + #2#10 + #2#52 + #2#53);
   |GRABA 020#1a;
   |LIBERA #1;

   |SI tipo1 = 2; totalcomp = totalcomp + (#2#8 + #2#9 + #2#10 + #2#52 + #2#53); |FINSI;
   |SI tipo1 = 3; totalcomp = totalcomp + (#2#8 + #2#9 + #2#10 + #2#52 + #2#53); |FINSI;
   |SI tipo1 = 4; totalvent = totalvent + (#2#8 + #2#9 + #2#10 + #2#52 + #2#53); |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE compras;
 #2#1;
 3,44;
 00, "  ", 000001, des_f, des_p;
 99, "zz", 999999, has_f, has_p;
 e;
 NULL,sumacomp;
|FIN;

|PROCESO sumavent;
  tipo1 = 0; || (1) ventas
  tipo2 = 0; || (2) normal, (5) ejecucion obras, (6) triangular
  sien = 0;

|| .................................... Seleccion de Ventas
  |SI #0#39 = "S";
      |SI #3#6 ] #0#40;  |Y #3#6 [ #0#41;
          sien = 1;
          tipo1 = 1;
          tipo2 = 2;
      |FINSI;
  |SINO;
      sien = 0;
      |PARA desde = 42;  |SI desde [ 73;  |HACIENDO desde = desde + 1;
            |SI #0desde = 0;  |SAL;  |FINSI;
            |SI #3#6 = #0desde;
                sien = 1;
                tipo1 = 1;
                tipo2 = 2;
                |SAL;
            |FINSI;
      |SIGUE;
  |FINSI;
|| .................................... Seleccion de ejecucion obra
  |SI #0#87 = "S";
      |SI #0#88 ! 0; |O #0#89 ! 0; |Y #0#90 ! 0;
          swgr = 0; concepto = #3#6;
          |SI #0#88 ! 0; grupo = #0#88; |HAZ vergrupo; |FINSI;
          |SI #0#89 ! 0; |Y swgr = 0; grupo = #0#89; |HAZ vergrupo; |FINSI;
          |SI #0#90 ! 0; |Y swgr = 0; grupo = #0#90; |HAZ vergrupo; |FINSI;
          |SI swgr = 1;
              sien = 1;
              tipo1 = 1;
              tipo2 = 5;
          |FINSI;
      |SINO;
          |PARA desde = 91;  |SI desde [ 95;  |HACIENDO desde = desde + 1;
                |SI #0desde = 0;  |SAL;  |FINSI;
                |SI #3#6 = #0desde;
                    sien = 1;
                    tipo1 = 1;
                    tipo2 = 5;
                    |SAL;
                |FINSI;
          |SIGUE;
      |FINSI;
  |FINSI;
|| .................................... Seleccion de triangular
  |SI #0#96 = "S";
      |SI #0#97 ! 0; |O #0#98 ! 0; |Y #0#99 ! 0;
          swgr = 0; concepto = #3#6;
          |SI #0#97 ! 0; grupo = #0#97; |HAZ vergrupo; |FINSI;
          |SI #0#98 ! 0; |Y swgr = 0; grupo = #0#98; |HAZ vergrupo; |FINSI;
          |SI #0#99 ! 0; |Y swgr = 0; grupo = #0#99; |HAZ vergrupo; |FINSI;
          |SI swgr = 1;
              sien = 1;
              tipo1 = 1;
              tipo2 = 6;
          |FINSI;
      |SINO;
          |PARA desde = 100;  |SI desde [ 104;  |HACIENDO desde = desde + 1;
                |SI #0desde = 0;  |SAL;  |FINSI;
                |SI #3#6 = #0desde;
                    sien = 1;
                    tipo1 = 1;
                    tipo2 = 6;
                    |SAL;
                |FINSI;
          |SIGUE;
      |FINSI;
  |FINSI;

  |PARA desde = 114;  |SI desde [ 121;  |HACIENDO desde = desde + 1;
        |SI #0desde = 0;  |SAL;  |FINSI;
        |SI #3#6 = #0desde;
            sien = 1;
            tipo1 = 4;
            tipo2 = 2;
            |SAL;
        |FINSI;
  |SIGUE;
|| .................................../ Fin ventas.

|SI sien = 1; || Es concepto elegido.
    #1#0 = #3#4;
    #1#1 = #3#5;
    #1#4 = tipo1;
    |LIBERA #1;
    |LEE 101#1=;
    |SI FSalida ! 0;
        #1#0 = #3#4;
        #1#1 = #3#5;
        #1#2 = 0;
        #1#3 = #3#51;
        #1#4 = tipo1;
        #1#5 = 0;
        #1#6 = 0;
        |HAZ leeclipro;
         |SI swclipro = 0;
             #1#3 = #3#51;
             #1#7 = #3#50;
         |FINSI;
        |GRABA 020#1b;
   |FINSI;
   #1tipo2 = #1tipo2 + (#3#8 + #3#9 + #3#10 + #3#52 + #3#53);
   |GRABA 020#1a;
   |LIBERA #1;

   |SI tipo1 = 1; totalvent = totalvent + (#3#8 + #3#9 + #3#10 + #3#52 + #3#53); |FINSI;
   |SI tipo1 = 4; totalvent = totalvent + (#3#8 + #3#9 + #3#10 + #3#52 + #3#53); |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE ventas;
 #3#1;
 3, 44;
 00, "  ", 000001, des_f, des_p;
 99, "zz", 999999, has_f, has_p;
 e;
 NULL,sumavent;
|FIN;

|| ............... ver grupo;
|PROCESO vergrupo;
 swgr = 0;
 |ABRE #13;
 #13#0 = grupo;
 |LEE 001#13=;
 |SI FSalida = 0;
     |PARA x = 2; |SI x [ 21; |HACIENDO x = x + 1;
           |SI #13x  = concepto;
               swgr = 1;
               |SAL;
            |FINSI;
     |SIGUE;
 |FINSI;
 |CIERRA #13;
|FPRC;
|| ***********************************************************************

|PROCESO borralin;
  |BORRA 041#11a;
|FPRC;

|PROCESO elpase;
  |SI #0#74 = "S";
      |SI #0#1 = 0; des_p = 1; has_p = 12; |FINSI;

      |SI #0#105 = "M";
          des_p = #0#1;
          has_p = #0#1;
      |SINO;
          |SI #0#1 = 1; des_p = 1;  has_p = 3;  |FINSI;
          |SI #0#1 = 2; des_p = 4;  has_p = 6;  |FINSI;
          |SI #0#1 = 3; des_p = 7;  has_p = 9;  |FINSI;
          |SI #0#1 = 4; des_p = 10; has_p = 12; |FINSI;
      |FINSI;
      des_f = "00.00.0000";
      has_f = "31.12.2099";
  |SINO;
      des_p = 1;
      has_p = 12;
      des_f = #0#2;
      has_f = #0#3;
  |FINSI;

  |ABRE #10;
  #10#0 = #30#2;
  #10#1 = #0#1;
  #10#2 = #30#26;
  |LEE 001#10=;
  |SI FSalida = 0;
      |BUCLELIN 2borralin#10;
      |BORRA 001#10a;
  |FINSI;

  |ABRE #11;
  |NOME_DAT #1 alfa11;
  |ABRE #1;
  |CIERRA #1;
  |DELINDEX #1;
  |ABRE #1;

  totalvent = 0;
  totalcomp = 0;

  |ABRE #4;

  |BUCLE compras;  || lee el fichero de Compras
  |BUCLE ventas;   || lee el fichero de Ventas

  |CIERRA #4;
  |CIERRA #1;

  numpro = 0;
  numcli = 0;
  linea  = 0;

  |BUCLE escribe;

  |CIERRA #1;
  |DELINDEX #1;

  |CIERRA #11;

|| ... Graba la cabecera del 349
  |SI linea ! 0;
      #10#0 = #30#2;
      #10#1 = #0#1;
      #10#2 = #30#26;
      #10#3 = #30#1;
      #10#4 = "";
      #10#5 = "N";
      #10#6 = numcli;
      #10#7 = totalvent;
      #10#8 = numpro;
      #10#9 = totalcomp;
      #10#10 = 0;
      #10#11 = 0;
      #10#12 = "N";
      #10#13 = " ";
      #10#14 = 0;
      #10#15 = 0;
      #10#16 = #0#105;
      |GRABA 020#10n;
      |LIBERA #10;
  |FINSI;
  |CIERRA #10;
|FPRC;

|| ........ Lecturas de clientes / proveedores
|PROCESO leeclipro;
 #1#3 = "";
 #1#7 = "";
 #1#8 = "ES";

 #4#23 = "C";
 |HAZ clipro;
 |SI swclipro = 0;
     #4#23 = "P";
     |HAZ clipro;
 |FINSI;
|FPRC;

|PROCESO clipro;
  swclipro = 0;
  #4#10 = #1#0;
  #4#11 = #1#1;
  |LEE 001#4=;
  |SI FSalida = 0;
      swclipro = 1;
      #1#8 =  #4#24;     ||pais
      #1#3 =  #4#9;      ||dni
      #1#7 =  #4#1;      ||nombre
  |FINSI;
|FPRC;
