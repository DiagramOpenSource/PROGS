|FICHEROS;
    cacuesig #0;         || cuentas balance
    caagrupa #1;         || agrupaciones
    caepigra #2;         || epigrafes
    caparbal #3;         || partidas balance
    caparexp #4;         || partidas explotacion
    cacuebal #5;         || para facilitar creacion
|FIN;

|VARIABLES;
    &entrada = 1;
    doce = "            "
    uno = "";
    text = "";
    xx = 0;
    nn = 0;
    mm = 0;
    blanco = " ";
    &enEjercicio = 0;
    nNume1 = 0;
|FIN;


|PROCESO Prim_sig;  |TIPO 8;
   nNume1 = #48#26;
   |SI nNume1 < 80;
       enEjercicio = 2000 + nNume1;
   |SINO;
       enEjercicio = 1900 + nNume1;
   |FINSI;
||   |SI enEjercicio ] 2008;
||       |MENAV "    Estructuras Plan Contable 1990. No modificables en este Ejercicio";
||       |PTEC 807;
||   |FINSI;
|FPRC;

|PROCESO bloque;
    uno = #0#0 % A101;
|SI uno = "6"; |O uno = "7";
    |SI #0Campo < 1;
          |AVISO;
          |ERROR;
    |FINSI;
    text = "                          ";
    |SI #0Campo = 1;  text = "RESULTADOS EXPLOTACION    "; |FINSI;
    |SI #0Campo = 2;  text = "RESULTADOS FINANCIEROS    "; |FINSI;
    |SI #0Campo = 3;  text = "RESULTADOS EXTRAORDINARIOS"; |FINSI;
    |SI #0Campo = 4;  text = "IMPUESTOS";                  |FINSI;
    |SI Campo = 1;
        |PINTA 1135, text;
    |SINO;
        |PINTA 1735, text;
    |FINSI;
|SINO;
    |SI #0Campo ! 0;
          |AVISO;
          |ERROR;
    |FINSI;
|FINSI;
|FPRC;

|PROCESO tipo;
  #0Campo = #0Campo > " ";
  |PINTA #0Campo;
  uno = #0#0 % A101;
  text  = "      ";
  |SI uno = "6"; |O uno = "7";
      |SI #0Campo ! "D"; |Y #0Campo ! "H";
          |AVISO;
          |ERROR;
      |FINSI;
      |SI #0Campo = "D";  text = "DEBE  "; |FINSI;
      |SI #0Campo = "H";  text = "HABER "; |FINSI;
  |SINO;
      |SI #0Campo ! "A"; |Y #0Campo ! "P";
          |AVISO;
          |ERROR;
      |FINSI;
      |SI #0Campo = "A";  text = "ACTIVO"; |FINSI;
      |SI #0Campo = "P";  text = "PASIVO"; |FINSI;
  |FINSI;
  |SI Campo = 2;
      |PINTA 1235, text;
  |SINO;
      |PINTA 1835, text;
  |FINSI;
|FPRC;

|PROCESO agrupa;
|ABRE #1;
    nn = Campo - 1;
    #1#0 = #0nn;
    #1#1 = #0Campo;

|LEE 001#1=;
|SI FSalida = 0;
    |SI Campo = 3;
        |PINTA 1335, #1#2;
    |SINO;
        |PINTA 1935, #1#2;
    |FINSI;
|SINO;
    |ERROR;
|FINSI;
|CIERRA #1;
|FPRC;

|PROCESO epigra;
|ABRE #2;
    nn = Campo - 1;
    mm = Campo - 2;
    #2#0 = #0mm;
    #2#1 = #0nn;
    #2#3 = #0Campo;
|LEE 001#2=;
|SI FSalida = 0;
    |SI Campo = 4;
        |PINTA 1435, #2#4;
    |SINO;
        |PINTA 2035, #2#4;
    |FINSI;
|SINO;
    |ERROR;
|FINSI;
|CIERRA #2;
|FPRC;

|PROCESO part_Deu;
    uno = #0#0 % A101;
|SI uno = "6"; |O uno = "7";
    |ABRE #4;
        #4#0 = #0#1;
        #4#1 = #0#2;
        #4#2 = #0#3;
        #4#4 = #0#4;
        #4#6 = #0#5;
    |LEE 001#4=;
    |SI FSalida = 0;
        |PINTA 1535, #4#7;
    |SINO;
          |AVISO;
          |ERROR;
    |FINSI;
    |CIERRA #4;
|SINO;
    |ABRE #3;
        #3#0 = #0#2;
        #3#1 = #0#3;
        #3#3 = #0#4;
        #3#5 = #0#5;
    |LEE 001#3=;
    |SI FSalida = 0;
        |PINTA 1535, #3#6;
    |SINO;
        |AVISO;
        |ERROR;
    |FINSI;
    |CIERRA #3;
|FINSI;
|FPRC;
|PROCESO part_Acr;
    uno = #0#0 % A101;
|SI uno = "6"; |O uno = "7";
    |ABRE #4;
        #4#0 = #0#6;
        #4#1 = #0#7;
        #4#2 = #0#8;
        #4#4 = #0#9;
        #4#6 = #0#10;
    |LEE 001#4=;
    |SI FSalida = 0;
        |PINTA 2135, #4#7;
    |SINO;
          |AVISO;
          |ERROR;
    |FINSI;
    |CIERRA #4;
|SINO;
    |ABRE #3;
        #3#0 = #0#7;
        #3#1 = #0#8;
        #3#3 = #0#9;
        #3#5 = #0#10;
    |LEE 001#3=;
    |SI FSalida = 0;
        |PINTA 2135, #3#6;
    |SINO;
        |AVISO;
        |ERROR;
    |FINSI;
    |CIERRA #3;
|FINSI;
|FPRC;

|PROCESO deudor;
    text = "                          ";
    |SI #0#1 = 0;  text = "                          "; |FINSI;
    |SI #0#1 = 1;  text = "RESULTADOS EXPLOTACION    "; |FINSI;
    |SI #0#1 = 2;  text = "RESULTADOS FINANCIEROS    "; |FINSI;
    |SI #0#1 = 3;  text = "RESULTADOS EXTRAORDINARIOS"; |FINSI;
    |SI #0#1 = 4;  text = "IMPUESTOS                 "; |FINSI;
    |PINTA 1135, text;

    text = "      ";
    |SI #0#2 = "D";  text = "DEBE  "; |FINSI;
    |SI #0#2 = "H";  text = "HABER "; |FINSI;
    |SI #0#2 = "A";  text = "ACTIVO"; |FINSI;
    |SI #0#2 = "P";  text = "PASIVO"; |FINSI;
    |PINTA 1235, text;

    |ABRE #1;
    #1#0 = #0#2;
    #1#1 = #0#3;
    |LEE 001#1=;
    |SI FSalida = 0;
        |PINTA 1335, #1#2;
    |FINSI;
    |CIERRA #1;

    |ABRE #2;
    #2#0 = #0#2;
    #2#1 = #0#3;
    #2#3 = #0#4;
    |LEE 001#2=;
    |SI FSalida = 0;
        |PINTA 1435, #2#4;
    |FINSI;
    |CIERRA #2;

    |HAZ part_Deu;
|FPRC;

|PROCESO acreedor;
    text = "                          ";
    |SI #0#6 = 0;  text = "                          "; |FINSI;
    |SI #0#6 = 1;  text = "RESULTADOS EXPLOTACION    "; |FINSI;
    |SI #0#6 = 2;  text = "RESULTADOS FINANCIEROS    "; |FINSI;
    |SI #0#6 = 3;  text = "RESULTADOS EXTRAORDINARIOS"; |FINSI;
    |SI #0#6 = 4;  text = "IMPUESTOS                 "; |FINSI;
    |PINTA 1735, text;

    text = "      ";
    |SI #0#7 = "D";  text = "DEBE  "; |FINSI;
    |SI #0#7 = "H";  text = "HABER "; |FINSI;
    |SI #0#7 = "A";  text = "ACTIVO"; |FINSI;
    |SI #0#7 = "P";  text = "PASIVO"; |FINSI;
    |PINTA 1835, text;

    |ABRE #1;
    #1#0 = #0#7;
    #1#1 = #0#8;
    |LEE 001#1=;
    |SI FSalida = 0;
        |PINTA 1935, #1#2;
    |FINSI;
    |CIERRA #1;

    |ABRE #2;
    #2#0 = #0#7;
    #2#1 = #0#8;
    #2#3 = #0#9;
    |LEE 001#2=;
    |SI FSalida = 0;
        |PINTA 2035, #2#4;
    |FINSI;
    |CIERRA #2;

    |HAZ part_Acr;
|FPRC;

|PROCESO pintas; |TIPO 13;
    uno = #0#0 % A101;
    |SI uno [ blanco;
        |ACABA;
    |FINSI;
    |HAZ deudor;
    |HAZ acreedor;
|FPRC;

|| cuando da alta saca lo que existe en Cuentas Balance
|PROCESO ver_bal; |TIPO 0;
    xx = (FEntrada / 100) ! 0;
    |SI xx ! 1; |ACABA; |FINSI;
    |SI #0#0 = doce;
        |AVISO;
        |ERROR;
        |ACABA;
    |FINSI;
  |ABRET #5;
  #5#0 = #0#0;
  |LEE 001#5=;
  |SI FSalida = 0;
      #0#0 = #5#0;
      #0#1 = #5#1;
      #0#2 = #5#2;
      #0#3 = #5#3;
      #0#4 = #5#4;
      #0#5 = #5#5;
      #0#6 = #5#1;
      #0#7 = #5#2;
      #0#8 = #5#3;
      #0#9 = #5#4;
      #0#10= #5#5;
      |PINDA #0#0;
      |HAZ deudor;
      |HAZ acreedor;
  |FINSI;
  |CIERRAT #5;
|FPRC;
