|FICHEROS;
    n43zdato #0;
    n43datos #1,MANTE; || Este Def.
    cacuenta #2; || Cuentas Contables.
    espej43@ #10;
|FIN;

|VARIABLES;
    &entrada = 1;
    cont = 0;
    long = "  ";
    cta  = 0;
    men1  = "     NO EXISTE EMPRESA !";
    men2  = "     Longitud de Cuenta Fuera de Nivel !";
    num   = 0;
    sw = 0;
    juan = "            ";
    ctanum = 0;
    ctaalf = "";
    longnum = "";
    vacio = "            ";
    xxxxfiac = " ";
    xxaponer = " ";
    xrelleno = "                              ";
     letra = "";
     alfa1 = "";
     alfa2 = "";
     final = "";
     x = "";
     nume1 = 0;
     nume2 = 0;
     lugar = 0;
     nifnum = 0;

     cuentat = "";
     inkey   = 0;
     aMas    = "";
     aDef    = "";
     nTecla  = 0;
     nConta  = 0;
     nModo   = 0;
|FIN;

|INCLUYE acceso_i;
|INCLUYE puntos_i;

|PROCESO cuenta;|TIPO 6;

    entrada = 1;
    p_alfa1 = #0Campo;
    salidas = FSalida;
    |HAZ punto;
    |SI p_error ! 0;  |ERROR;  |ACABA;  |FINSI;

    |SI #0Campo = vacio;
        |ABRE #1;
        |LEE 040#1u;
        |SI FSalida = 0;
            #0#0 = #1#1;
            |PINTA #0#0;
        |SINO;
            |CIERRA #1;
            |MENAV "    No existen Datos";
            |ERROR;
            |ACABA;
        |FINSI;
        |CIERRA #1;
     |FINSI;

    |PINTA #0#0;

    cta  = #0#0;
    long = cta % A0;
     cont = 0;
     sw = 0;
     |PARA num = 14;|SI num [ 19;|HACIENDO num = num + 1;
           cont = cont + 1
           |SI long = #30num; sw = 1; |SAL; |FINSI;
    |SIGUE;
    |SI sw = 0;
        |MENAV men2;
        |ERROR;
        |ACABA;
    |FINSI;
    #0#1    = cont;
    cuentat = #0#0;
|FPRC;

|RUTINA inf;
     #1#1 = cuentat;
     #1#0 = 000001;
|FRUT;

|RUTINA sup;
     #1#0 = 999999;
     #1#1 = cuentat;
|FRUT;

|PROCESO Tipo12; |TIPO 12;
   |SI FSalida = 1; |O FSalida = 7;
       inkey = 1;
   |SINO;
       inkey = 0;
       |ENTLINEAL #2#1, -2, 2, 17, 0, inf , sup;
   |FINSI;
|FPRC;

|PROGRAMA;

     |HAZ inicio;

     |DBASE aMas;
     aDef = aMas + "def/n43datos";
     |CARGA_DEF aDef, espej43@;
     |SI FSalida ! 0;
         |MENAV "    Error cargando def n43datos";
         |ACABA;
     |FINSI;

     |CLS;
     |CABEZA "Mantenimiento Datos Importados";
     |PINPA #0#0;

     |PARA; |SI; |HACIENDO;
            |ENDATOS #2#0;
            |SI inkey ! 0; |SAL; |FINSI;
     |SIGUE;

     |DESCARGA_DEF #10;
|FPRO;

|PROCESO tecla; |TIPO 11;
 nTecla = FSalida;
 nModo = (FEntrada / 100) ! 0;

 |SI nTecla = 10;
         nConta = 0;
         |DDEFECTO #10;
         |ABRE #10;
         |LEE 001#10u;
         nConta = #10#0 + 1;
         |CIERRA #10;
         #1#0 = nConta;
     |SI nModo = 1;
         |PTEC 802;
     |SINO;
         |PTEC 801;
         |PTEC 802;
         |PTEC 809;
         |PTEC 808;
     |FINSI;
 |FINSI;
|FPRC;

|PROCESO Todos; |TIPO 3;
 #1#10 = #0#2;
 #1#1  = #0#0;
 #1#12 = #0#1;
|FPRC;

|PROCESO Miro; |TIPO 0;
 |ABRE #10;
 |DDEFECTO #10;
 #10#0 = #1#0;
 |LEE 001#10=;
 |SI FSalida = 0;
     |SI #10#1 ! #0#0;
         |MENAV "      Este Apunte no corresponde a la Cuenta Contable";
         |ERROR;
     |FINSI;
 |FINSI;
 |CIERRA #10;
|FPRC;
