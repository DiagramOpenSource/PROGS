|FICHEROS;
  caboramo #0;
  camocabe #1;
  camoline #2;
|FIN;

|VARIABLES;
  &entrada = 1;
  alfa1 = "";
  a = "";
|FIN;

|INCLUYE acceso_i;
|INCLUYE numamo_i;

|PROCESO numamo; |TIPO 0;
    x_alfa1 = #0Campo;
|HAZ x_punto;
    #0Campo = x_alfa1;
    |PINTA #0Campo;
|FPRC;

|PROCESO mayor;
  alfa1 = #0Campo > " ";
  #0Campo = alfa1;
  |PINTA #0Campo;
|FPRC;

|PROCESO def_fecha; |TIPO 7;
  #0#2 = fec1; |PINTA #0#2;
  #0#3 = fec2; |PINTA #0#3;
|FPRC;

|PROCESO hasfec;
  |SI #0#2 > #0#3;
      |MENAV "    ERROR !.  Fecha incorrecta !";
      |ERROR;
  |FINSI;
|FPRC;

|| ********************************************************************

|PROCESO borrar;
  |SI #0#4 ! "A";
      |SI #2#6 ! #0#4; |ACABA; |FINSI;
  |FINSI;
  #1#0 = #2#0;
  #1#1 = #2#1;
  |PINTA 2245, #1#0;
  |PINTA 2254, #1#1;
  |LEE 001#1=;
  |SI FSalida = 0;
      |SI #0#6 = "X"; |O #1#21 = #0#6;
          #1#12 = #1#12 - #2#5;
          #1#18 = #1#18 - #2#9;
          #1#13 = #1#13 + #2#5;
          #1#19 = #1#19 + #2#9;
          |SI #1#23 ! "00.00.0000";
              |SI #2#7 ] #1#23;
                  #1#13 = #1#7 - #1#12;
                  #1#19 = #1#7 - #1#18;
              |FINSI;
          |FINSI;

          |GRABA 020#1a;
          |LIBERA #1;

          |BORRA 020#2a;
          |LIBERA #2;
      |FINSI;
  |FINSI;
|FPRC;

|DEFBUCLE boramo0;
 #2#1;
 4,7;
 #0#0, 00, 001, a, #0#2;
 #0#1, 99, 999, a, #0#3;
 e;
 NULL, borrar;
|FIN;

|PROCESO impre; |TIPO 3;
  |SI #0#7 = "SI";
      |ABRE #1;
      a = "A";
      |BUCLE boramo0;
      |CIERRA #1;
  |FINSI;
|FPRC;
