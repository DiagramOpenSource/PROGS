|| Proceso de Conceptos Automanticos Filtros.
|| ...  Departamento, Subdepartamentos ( Arrendamientos y Cultivos)

|FICHEROS;
 cafantas #98;
 camandep #960;
|FIN;

|VARIABLES;
 aAlfa1 = "";
 nNume1 = 0;
 aBlancs = "";

 &enEmpresa = 0;
 &enPeriodo = 0;
 &eaDepar   = "";
|FIN;

|INCLUYE vardep_i;

|| **************************** Procesos para Departamento y Subdepartamento
|RUTINA inferior2;
   #960#0 = enEmpresa;
   #960#1 = "  ";
|FRUT;

|RUTINA superior2;
   #960#0 = enEmpresa;
   #960#1 = "zz";
|FRUT;

|PROCESO Actividad;

   eaNombreAct  = "";
   eswLect = 0;
   |ABRE #960;
   |SI eOpDep = 1;
       |CONSULTA_F_CLAVE #1#960,inferior2,superior2;
        eaCodDep    = #960#1;
   |FINSI;

 |ET LaLecturaDep;
       |DDEFECTO #960;
       #960#0 = enEmpresa;
       #960#1 = eaCodDep;
       |LEE 001#960=;
       |SI FSalida ! 0;
           eswLect = 1;
           |SI eSwNoalta  = 0;
               |CONFI  "    SNo Existe Departamento, Desea dar de Alta ";
               |SI FSalida = 0;
                    |SUB_EJECUTA_NP ":agicont/camandep";
                    eswLect = 0;
                    |VETE LaLecturaDep;
               |FINSI;
           |FINSI;
       |SINO;
           eaCodDep    = #960#1;
           eaNombreAct = #960#2;
       |FINSI;
       eaCodDep    = #960#1;
       |CIERRA #960;
|FPRC;

|PROCESO pDepartamento;
  aBlancs = " " * 78;
  |PINTA 2302, aBlancs;
  #cafantas#4 = eaNombreAct;
  |SI eaNombreAct ! "";
      |ATRI P; |PINTA 2302, "Depar.: "; |ATRI 0;
               |PINTA 2310, #cafantas#4;
  |FINSI;
|FPRC;
