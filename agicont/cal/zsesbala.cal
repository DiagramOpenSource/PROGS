|FICHEROS;
  cacreano #0;
  casesion #100;
  caseslin #110;
  camandep #101;
|FIN;

|VARIABLES;
  &eaFicbal = "";
  &enNumSes = 0;
  &eaNomSes = "";
  &eaDepSes = "";
  &eaDesDep = "";
  &enMasDep = 0;
  alfa1 = "";
|FIN;

|PROCESO AntesSesion;

 eaFicbal  = "cabalano";
 enNumSes  = 0;
 enMasDep  = 0;
 eaNomSes = "";
 eaDepSes = "";
 eaDesDep = "";

 |ABRE #0;
 |LEE 101#0p;
 |SI FSalida ! 0;
     |DDEFECTO #0;
     |GRABA 020#0b;
 |FINSI;
 |CIERRA #0;

 |SI #0#25 = "N";
     |ACABA;     ||... No existe sesion
 |FINSI;

 enNumSes = #0#26;
 |ABRE #100;
 #100#0 = #0#26;
 |LEE 001#100=;
 |SI FSalida = 0;
     eaNomSes = #100#4;
     alfa1 = #100#32; |QBF alfa1;
     |SI alfa1 ! ""; eaFicbal  = alfa1; |FINSI;
     |SI #0#27 = "S";
         |SI #100#33 = "S"; enMasDep = 1; |FINSI;
         |ABRE #110;
         #110#0 = #100#0;
         #110#1 = #0#28;
         |LEE 001#110=;
         |SI FSalida = 0;
             eaDepSes = #110#1;
             eaDesDep = #110#7;
             alfa1 = #110#6; |QBF alfa1;
             |SI alfa1 ! ""; eaFicbal  = alfa1; |FINSI;
             |SI #100#33 = "S"; eaDepSes = "TODOS"; |FINSI;
         |FINSI;
      |FINSI;
 |FINSI;
 |CIERRA #100;

 |SI eaFicbal = ""; eaFicbal = "cabalano"; |FINSI;
|FPRC;
