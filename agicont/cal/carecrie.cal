|FICHEROS;
   carecrie #0;
   camanban #1;
   caremesc #2;
   caremesl #3;
|FIN;

|PROCESO Recalcula;
   #caremesc#0 = #caremesl#0;
   |LEE 010#caremesc.=;
   |SI FSalida = 0;
      #camanban#0 = #caremesc#2;
      |LEE 010#camanban.=;
      |SI FSalida = 0;
         #camanban#13 = #camanban#13 + #caremesl#7;
         |GRABA 020#camanban.a;
      |FINSI;
   |FINSI;
|FPRC;

|DEFBUCLE Recalcula;
#caremesl#1;
15;
00001,001,"N";
99999,999,"N";
;
NULL,Recalcula;
|FIN;

|PROCESO AceraBancos;
   #camanban#13 = 0;
   |GRABA 020#camanban.a;
|FPRC;

|DEFBUCLE AceraBancos;
#camanban#1;
;
#0#0;
#0#1;
;
NULL,AceraBancos;
|FIN;

|PROGRAMA;
   |CLS;
   |CABEZA "Recalculo riesgo bancaria";
   |PINPA #0#0;
   |PINDA #0#0;
   |ENDATOS #1#0;
   |SI FSalida = 0;
      |ABRE #camanban;
      |ABRE #caremesc;
      |BUCLE AceraBancos;
      |BUCLE Recalcula;
      |CIERRA #caremesc;
      |CIERRA #camanban;
   |FINSI;
|FPRO;
