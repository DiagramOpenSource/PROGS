|FICHEROS;
   caremesp #0;
   caremesc #1;     || remesas cabs.
   caremesl #2;     || remesas lins.
   camancob #3;     || cobros
   caclipro #4;     || clientes/proveedores
   cacuadre #9;
|FIN;

|VARIABLES;
    &eaNombreMon = "";
    &entrada = 1;
    alfa1    = "";
    alfa2    = "";
    sw       = 0;
    informe  = "";
|FIN;

|INCLUYE acceso_i;
|PROCESO mayus;
  #0Campo = #0Campo > " ";
  |PINTA #0Campo;
|FPRC;

|PROCESO lee_cobro;
|DDEFECTO #3;
    #3#0 = #2#2;         || lee el cobro para sacar datos del cliente
    #3#1 = #2#3;
    #3#2 = #2#4;
    #3#3 = #2#5;
|LEE 021#3=;
|FPRC;

|PROCESO lee_clien;
  |DDEFECTO #4;
  #4#23 = "C";
  #4#10 = #2#11;  || cuenta
  #4#11 = #2#12;  || digito
  |LEE 040#4=;
|FPRC;

|PROCESO lineaspri;
    sw = 1;
|HAZ lee_cobro;
|HAZ lee_clien;
|PRINT;
|FPRC;

|DEFBUCLE lineas;
 #2#1;
 ;
 #1#0,   1;
 #1#0, 999;
 e;
 NULL, NULL, NULL, NULL, NULL, lineaspri;
 #2#0, #2#6, #2#2, #2#3, #2#4, #2#1;
|FIN;

|PROCESO cabecera;
    sw = 0;
||BUCLELIN 0lineaspri#1;
|BUCLE lineas;
|SI sw = 1; |PIEINF; |FINSI;
|SI #0#2 = "N";
    #1#8 = "S";
    |GRABA 020#1a;
|FINSI;
|LIBERA #1;
|FPRC;

|DEFBUCLE caremesc;
 #1#1;
 8;
 #0#0, alfa1;
 #0#1, alfa2;
 be;
 NULL, cabecera;
|FIN;

|PROCESO impre; |TIPO 3;

    |ABRE #9;
    |DDEFECTO #9;
    #9#0 = 1;
    |LEE 001#9=;
    |CIERRA #9;
    alfa1 = #9#86; |QBF alfa1;
    |SI alfa1 = ""; #9#86 = "caremesp";  |FINSI;
    informe = #9#86;

  |SI EURODB = 2; eaNombreMon = "EUROS"; |SINO; eaNombreMon = "PESETAS"; |FINSI;
  |IMPRE 0;
  |SI FSalida ! 0;  |ACABA;  |FINSI;
  |INFOR informe;
  |SI FSalida ! 0;  |FINIMP;  |ACABA;  |FINSI;
  |ABRE #3;
  |ABRE #4;
  alfa1 = #0#2; |SI #0#2 = "S"; alfa1 = "D"; |FINSI;
  alfa2 = #0#2;
  |BUCLE caremesc;
  |CIERRA #3;
  |CIERRA #4;
  |FININF;
  |FINIMP;
|FPRC;
