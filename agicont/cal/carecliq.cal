|FICHEROS;
  carecliq #0;

  caportad #2;
  caivarep #10;
  caivasop #11;
  caivaasi #200;
|FIN;

|VARIABLES;
  alfa1 = "";
  alfa2 = "";
  aParam = "";
|FIN;

|INCLUYE acceso_i;       || lectura de la empresa

|| *************************************************************************
||                        CALCULOS DE PANTALLA
|| *************************************************************************

|| *************** propio del rec lculo
|PROCESO CalPeriodo_R;
   |PINTA 2210, "Registro: ";
   |PINTA 2220, #10#0;
   |PINTA 2223, #10#27;
   |PINTA 2226, #10#2;

   alfa1 = #10#3; |QBF alfa1;
   alfa1 = alfa1 % 0402;
   #10#44 = alfa1;
   |SI #200#46 = "T";
       |SI alfa1 ] "01"; |Y alfa1 [ "03"; #10#44 = 1; |FINSI;
       |SI alfa1 ] "04"; |Y alfa1 [ "06"; #10#44 = 2; |FINSI;
       |SI alfa1 ] "07"; |Y alfa1 [ "09"; #10#44 = 3; |FINSI;
       |SI alfa1 ] "10"; |Y alfa1 [ "12"; #10#44 = 4; |FINSI;
   |SINO;
       |SI #200#46 = "A"; #10#44 = 0; |FINSI;
   |FINSI;
   |GRABA 020#10a;
   |LIBERA #10;
|FPRC;

|DEFBUCLE caivarep;
     #10#1;
     ;
     #0#0, "  ", 000001;
     #0#1, "zz", 999999;
     be;
     NULL, CalPeriodo_R;
|FIN;

|PROCESO CalPeriodo_S;
   |PINTA 2210, "Registro: ";
   |PINTA 2220, #11#0;
   |PINTA 2223, #11#27;
   |PINTA 2226, #11#2;

   alfa1 = #11#3; |QBF alfa1;
   alfa1 = alfa1 % 0402;
   #11#44 = alfa1;
   |SI #200#46 = "T";
       |SI alfa1 ] "01"; |Y alfa1 [ "03"; #11#44 = 1; |FINSI;
       |SI alfa1 ] "04"; |Y alfa1 [ "06"; #11#44 = 2; |FINSI;
       |SI alfa1 ] "07"; |Y alfa1 [ "09"; #11#44 = 3; |FINSI;
       |SI alfa1 ] "10"; |Y alfa1 [ "12"; #11#44 = 4; |FINSI;
   |SINO;
       |SI #200#46 = "A"; #11#44 = 0; |FINSI;
   |FINSI;
   |GRABA 020#11a;
   |LIBERA #11;
|FPRC;

|DEFBUCLE caivasop;
     #11#1;
     ;
     #0#0, "  ", 000001;
     #0#1, "zz", 999999;
     be;
     NULL, CalPeriodo_S;
|FIN;

|PROCESO impre; |TIPO 3;

  |ATRI 0;
  |ABRE #200;
  |DDEFECTO #200;
  |LEE 101#200p;
  |SI FSalida ! 0;
      |DDEFECTO #200;
  |FINSI;
  |CIERRA #200;

  |ABRE #2;
  #2#0 = #30#2;
  #2#1 = #30#26;
  |LEE 101#2=;
  |SI FSalida = 0;
      #2#93 = #200#46;
      |GRABA 020#2a;
  |FINSI;
  |LIBERA #2;
  |CIERRA #2;

  |SI #0#2 ! "S";
      |BUCLE caivarep;
  |FINSI;

  |SI #0#2 ! "R";
      |BUCLE caivasop;
  |FINSI;
|FPRC;


|PROGRAMA;
  aParam = PARAMETRO; |QBF aParam;

  |SI aParam = "";
      |MANTE #0;
  |SINO;
      |DDEFECTO #0;
      |HAZ impre;
  |FINSI;
|FPRO;
