|FICHEROS;
   cabordif #0;
   caconcic #2;
   caconcil #3;
|FIN;

|VARIABLES;
   &entrada = 1;
   alfa1    = "";
   swalg    = 0;
   feini    = @;
   fefin    = @;
   mensa1   = "    ATENCION !!! Fecha fuera de periodo ... ";
|FIN;

|INCLUYE acceso_i;
|INCLUYE puntos_i;

|| *********************************************************************
|PROCESO mayus;
 alfa1 = #0Campo > " ";
 #0Campo = alfa1;
 |PINTA #0Campo;
|FPRC;

|PROCESO cuenta; |TIPO 0;
  salidas = FSalida;
  p_alfa1 = #0Campo;
  |HAZ punto;
  |SI p_error ! 0;  |ERROR;  |ACABA;  |FINSI;
|FPRC;

|PROCESO tipo7; |TIPO 7;
 #0#5 = fec1; |PINTA #0#5;
 #0#6 = fec2; |PINTA #0#6;
|FPRC;

|CALCULO fechad; |TIPO 0;
  |SI #0#5 < fec1; |O #0#5 > fec2;
      |MENAV mensa1;
||      |ERROR;
  |FINSI;
|FCAL;

|CALCULO fechah; |TIPO 0;
  |SI #0#6 < fec1; |O #0#6 > fec2; |O #0#6 < #0#5;
      |MENAV mensa1;
      |ERROR;
  |FINSI;
|FCAL;

|| *********************************************************************
|PROCESO borrarlo;

 |SI #0#3 ! 3;                           || Seleccion de Tipo Anotacion
     |SI #0#3 ! #3#3; |ACABA; |FINSI;
 |FINSI;
 |SI #0#4 ! "T";                         || Seleccion de Punteo
     |SI #0#4 = "S"; |Y #3#8 = " "; |ACABA; |FINSI;
     |SI #0#4 = "N"; |Y #3#8 ! " "; |ACABA; |FINSI;
 |FINSI;

 |BORRA 020#3a;
 |LIBERA #3;
|FPRC;

|DEFBUCLE borrar_a;
 #3#1;
 4;
 #0#0, 0, 001, feini;
 #0#1, 9, 999, fefin;
 be;
 NULL, borrarlo;
|FIN;

|| *********************************************************************

|PROCESO leelineas;
 swalg = 1;
 |ERROR10;
|FPRC;

|PROCESO borrar_cab;
 swalg = 0;
 |BUCLELIN 2leelineas#2;
 |SI swalg = 0;
     |BORRA 020#2a;
     |LIBERA #2;
 |FINSI;
|FPRC;

|DEFBUCLE borrar_c;
 #2#1;
 ;
 #0#0, 0;
 #0#1, 9;
 be;
 NULL, borrar_cab;
|FIN;


|PROCESO pase; |TIPO 3;

  feini = #0#5;
  fefin = #0#6;

  |BUCLE borrar_a;  ||Bucle para borrar Lineas
  |BUCLE borrar_c;  ||Repasar las cabeceras.

|FPRC;
