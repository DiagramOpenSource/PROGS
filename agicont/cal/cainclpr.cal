|FICHEROS;
  cainclpr #0;
  caclipro #1;
  cainfcl1 #2;
|FIN;

|VARIABLES;
  &entrada = 1;
  &tinforme = "";
  error     = 0;
  linea     = 0;
  informe   = "cainclpr";
  desde = "";
  {-1}menu  = "";
      menu1 = "2400";
      menu2 = "1";
      menu3 = " Elija opcion: ";
      menu4 = "PI";
      menu5 = " Pantalla ";
      menu6 = " Impresora ";
|FIN;

|INCLUYE acceso_i;

|PROCESO mayor;
  #0Campo = #0Campo > " ";
  |PINTA #0Campo;
|FPRC;

|PROCESO porimpre;
    |SI #1#23 ! desde; |ACABA; |FINSI;
    |SI #1#10 < #0#1; |O #1#10 > #0#2; |ACABA; |FINSI;
    |SI #1#1  < #0#3; |O #1#1  > #0#4; |ACABA; |FINSI;
    |SI #1#0  < #0#5; |O #1#0  > #0#6; |ACABA; |FINSI;
  |SI desde = "C";
      tinforme = "CLIENTES *";
  |SINO;
      tinforme = "PROVEEDORES *";
  |FINSI;
  |PRINT;
|FPRC;

|PROCESO porpanta;
    |SI #1#23 ! desde; |ACABA; |FINSI;
    |SI #1#10 < #0#1; |O #1#10 > #0#2; |ACABA; |FINSI;
    |SI #1#1  < #0#3; |O #1#1  > #0#4; |ACABA; |FINSI;
    |SI #1#0  < #0#5; |O #1#0  > #0#6; |ACABA; |FINSI;

  error     = 0;
  #2#0 = #30#1;
  #2#1 = #30#26;
  |PINTA #2#0;
  |PINTA #2#1;
  |PINTA #2#6;

  Pos  = linea;
  #2#2 = #1#10;
  #2#3 = #1#1;
  #2#4 = #1#2;
  #2#5 = #1#7;
  |PINDA #0#2;
  Pos = -1;
  linea = linea + 100;
  |SI linea > 1200; |HAZ cambiapa; |FINSI;
|FPRC;

|PROCESO cambiapa;
    error = 0;
    linea = 100;
|PAUSA;
|SI FSalida = 1; |O FSalida = 7;
        error = 1;
    |ERROR10;
|SINO;
    |PINPA #0#2;
|FINSI;
|FPRC;

|DEFBUCLE leeimp_1;
#1#1;
;
desde,#0#1,0;
desde,#0#2,9;
e;
NULL,porimpre;
|FIN;

|DEFBUCLE leeimp_2;
#1#2;
23;
#0#3,desde;
#0#4,desde;
e;
NULL,porimpre;
|FIN;

|DEFBUCLE leeimp_3;
#1#3;
23;
#0#5,desde;
#0#6,desde;
 e;
NULL, porimpre;
|FIN;

|DEFBUCLE leepan_1;
#1#1;
;
desde,#0#1,0;
desde,#0#2,9;
e;
NULL, porpanta;
|FIN;

|DEFBUCLE leepan_2;
#1#2;
23;
#0#3,desde;
#0#4,desde;
 e;
NULL, porpanta;
|FIN;

|DEFBUCLE leepan_3;
#1#3;
23;
#0#5,desde;
#0#6,desde;
e;
NULL,porpanta;
|FIN;

|PROCESO impresora;
  |SI #0#7 = 1;  |BUCLE leeimp_1;  |FINSI;
  |SI #0#7 = 2;  |BUCLE leeimp_2;  |FINSI;
  |SI #0#7 = 3;  |BUCLE leeimp_3;  |FINSI;
|FPRC;

|PROCESO pantalla;
  |SI desde = "C";
      #2#6 = "CLIENTES";
  |SINO;
      #2#6 = "PROVEEDORES";
  |FINSI;
  error = 1;
  linea = 100;
  |PINPA #0#2;
  |SI #0#7 = 1;  |BUCLE leepan_1;  |FINSI;
  |SI #0#7 = 2;  |BUCLE leepan_2;  |FINSI;
  |SI #0#7 = 3;  |BUCLE leepan_3;  |FINSI;
  |SI error = 0; |PAUSA; |FINSI;
|FPRC;

|PROCESO impre;|TIPO 3;
  |HAZ inicio;
  |MENU menu;
  menu2 = FSalida;
  |SI FSalida ! 1; |Y FSalida ! 2;  |ACABA; |FINSI;
  |SI menu2 = 1;
      |SI #0#0 = "A";
          desde = "C";
          |HAZ pantalla;
          desde = "P";
          |HAZ pantalla;
      |SINO;
          desde = #0#0;
          |HAZ pantalla;
      |FINSI;
  |FINSI;
  |SI menu2 = 2;
      |IMPRE 0;
      |SI FSalida ! 0;  |ACABA;  |FINSI;
      |INFOR informe;
      |SI FSalida ! 0;  |FINIMP;  |ACABA;  |FINSI;
      |SI #0#0 = "A";
          desde = "C";
          |HAZ impresora;
          |PIEINF;
          |FININF;
          |INFOR informe;
          desde = "P";
          |HAZ impresora;
      |SINO;
          desde = #0#0;
          |HAZ impresora;
      |FINSI;
      |PIEINF;
      |FININF;
      |FINIMP;
  |FINSI;
|FPRC;
