|FICHEROS;
   cainfmin #0;
   camingca #1;     || Confirming cabs.
   camingli #2;     || Confirming lins.
   camanban #3;     || Nombre del Banco
|FIN;

|VARIABLES;
    &entrada = 1;
    &sw  = 0;
    &swlin = 1;
    informe = "";
    inform1 = "cainfmin";
    inform2 = "cainfmir";
    &tot1 = 0;
|FIN;

|INCLUYE acceso_i;

|PROCESO mayus;
  #0Campo = #0Campo > " ";
  |PINTA #0Campo;
|FPRC;

|PROCESO lineaspri;
  swlin = 1;
  |PRINT;
|FPRC;

|DEFBUCLE lineas;
 #2#1;
 ;
 #1#0,   1;
 #1#0, 999;
 e;
 NULL, lineaspri;
|FIN;

|PROCESO cabecera;
  |SI #0#8 ! "A";
      |SI #0#8 = "N";
          |SI #0#8 ! #1#10; |ACABA;  |FINSI;  || impreso
      |SINO;
          |SI #1#10 = "N";  |ACABA;  |FINSI;  || impreso
      |FINSI;
  |FINSI;
  |SI #0#9 ! "A";
      |SI #0#9 ! #1#11;  |ACABA;  |FINSI;  || contabilizada
  |FINSI;

  |DDEFECTO #3;
  #3#0 = #1#3;
  |LEE 001#3=;

  |SI #0#10 = "R";
      |PRINT;
  |SINO;
      swlin = 0;
      |BUCLELIN 2lineaspri#1;
  |FINSI;
  tot1 = tot1 + #1#9;
  sw = 1;
|FPRC;

|DEFBUCLE cainfmin;
 #1#1;
 1, 2, 3, 7;
 #0#0, #0#2, #0#11, #0#4, #0#6;
 #0#1, #0#3, #0#12, #0#5, #0#7;
 be;
 NULL, cabecera;
|FIN;

|PROCESO impre; |TIPO 3;

  |IMPRE 0;
  |SI FSalida ! 0;  |ACABA;  |FINSI;
  |SI #0#10 = "D";
      informe = inform1;
  |SINO;
      informe = inform2;
  |FINSI;
  |INFOR informe
  |SI FSalida ! 0;  |FINIMP;  |ACABA;  |FINSI;

  sw = 0;
  |ABRE #3;
  |BUCLE cainfmin;
  |SI sw = 1; |PIEINF; |FINSI;
  |CIERRA #3;

  |FININF;
  |FINIMP;
|FPRC;
