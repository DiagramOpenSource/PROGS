|FICHEROS;
   caemimin #0;
   camingca #1;     || Confirming cabs.
   camingli #2;     || Confirming lins.
   camanban #3;     || Nombre del Banco
|FIN;

|VARIABLES;
    &entrada = 1;
    &sw      = 0;
    &swlin   = 0;
    &fp      = "";
    &fecha   = @;
    informe  = "caemimin";
    alfa1    = "";
    &CLetra3 = "";
|FIN;

|INCLUYE acceso_i;

|PROCESO mayus;
  alfa1   = #0Campo > " ";
  #0Campo = alfa1;
  |PINTA #0Campo;
  |SI Campo = 9;
      alfa1 = #0Campo;
      |C_M #0#2,1,alfa1;
  |FINSI;
|FPRC;

|PROCESO lineaspri;
  swlin = 1;
  |SI #2#12 = "T";
      fp = "TRANS.";
  |SINO;
      fp = "CHEQUE";
  |FINSI;
  |PRINT;
|FPRC;

|DEFBUCLE lineas;
 #2#1;
 ;
 #1#0,   1;
 #1#0, 999;
 e;
 NULL, lineaspri;
|FIN;

|PROCESO cabecera;

  |SI #0#8 = "S";
      |SI #1#10 = "N";  |ACABA;  |FINSI;  || no impresa ni en D
  |SINO;
      |SI #1#10 ! "N";  |ACABA;  |FINSI;  || SI esta impresa o en Diskette
  |FINSI;

  |DDEFECTO #3;
  #3#0 = #1#3;
  |LEE 001#3=;
  fecha = #1#1;
  |SI #0#9 = "S";
      fecha = #0#2;
  |FINSI;

  swlin = 0;
  |BUCLELIN 2lineaspri#1;
  |SI swlin = 1;
      |PIEINF;
      |SI #0#9 = "S";
          #1#1 = #0#2;
      |FINSI;
      |SI #1#10 ! "D"; #1#10 = "S"; |FINSI;
      |GRABA 020#1a;
  |FINSI;
  sw = 1;
  |LIBERA #1;
|FPRC;

|DEFBUCLE caemimin;
 #1#1;
 2, 3, 7;
 #0#0, #0#11, #0#4, #0#6;
 #0#1, #0#12, #0#5, #0#7;
 be;
 NULL, cabecera;
|FIN;


|PROCESO impre; |TIPO 3;
  CLetra3 = "PESETAS";
  |SI EURODB ! 0;
      CLetra3 = "EUROS";
  |FINSI;

  |IMPRE 0;
  |SI FSalida ! 0;  |ACABA;  |FINSI;

  |INFOR informe
  |SI FSalida ! 0;  |FINIMP;  |ACABA;  |FINSI;

  sw = 0;
  |ABRE #3;
  |BUCLE caemimin;
  |CIERRA #3;
  |FININF;
  |FINIMP;
|FPRC;
