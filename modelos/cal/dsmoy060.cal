|FICHEROS;
     dsmom016 #116;
     dsmom017 #17;
     dsmom019 #19;

     dsmow011 #111;
|FIN;

|VARIABLES;
     aAlfa  = "";
     nHay   = 0;
|FIN;

|PROCESO dsmom017;
     #116#0  = #17#4;
     #116#1  = #17#5;
     #116#41 = #17#6;
     #116#2  = #17#1;
     |LEE 000#116=;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     #19#0 = #17#0;
     #19#1 = #17#1;
     #19#2 = #17#2;
     #19#3 = #17#3;
     |LEE 000#19=;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |SI #19#122 = #116#48;  |ACABA;  |FINSI;

     #111#0  = #19#123;
     #111#1  = #19#124;
     #111#2  = #19#125;
     #111#3  = #19#126;
     #111#4  = #19#127;
     #111#5  = #19#128;
     #111#6  = #19#129;
     #111#7  = #19#130;
     #111#8  = #19#131;
     #111#9  = #19#132;
     #111#20 = #19#118 - #19#132;
     #111#10 = #19#118;
     #111#11 = #19#133;
     #111#12 = #19#134;
     #111#13 = #19#135;
     #111#14 = #19#120;
     #111#15 = #19#136;
     #111#16 = #116#48;
     #111#17 = #19#137;
     #111#18 = #19#138;
     #111#19 = #19#147;

     #111#21 = #19#151;
     #111#22 = #19#152;
     #111#23 = #19#153;

     #111#24 = #19#164;
     #111#25 = #19#165;
     #111#26 = #19#166;
     #111#27 = #19#167;
     #111#28 = #19#168;
     #111#29 = #19#169;

     #111#2  = #111#1 * #111#0;
     #111#4  = #111#3 * #111#21;
     #111#6  = #111#5 * #111#22;
     |SI #19#1 = 2012;
         |SI #111#24 = 0; |Y #111#27 = 0; |Y #111#23 ! 0;
             #111#24 = #111#23;
             #111#25 = #111#7;
             #111#26 = #111#8;
             #111#28 = 0;
             #111#29 = 0;
         |FINSI;
         #111#26  = #111#25 * #111#24;
         #111#29  = #111#28 * #111#27;
         #111#7 = #111#25 + #111#28;
         #111#8 = #111#26 + #111#29;
         |SI #111#25 ! 0; |Y #111#28 ! 0;
             #111#23 = (#111#8 / #111#7) ! 2;
         |SINO;
             #111#23 = 0;
             |SI #111#25 ! 0; #111#23 = #111#24; |FINSI;
             |SI #111#28 ! 0; #111#23 = #111#27; |FINSI;
         |FINSI;
     |SINO;
         #111#8  = #111#7 * #111#23;
     |FINSI;

     #111#9  = #111#2 + #111#4 + #111#6 + #111#8;
     #111#10 = #111#20 + #111#9;
     #111#11 = #111#10 % 1;           || 1 % Cuota Devengada
     #111#13 = #111#11 + #111#12;                || Total Cuota Soportada

     #111#15 = #111#10 - #111#13;                || Resultado
     |SI #111#14 ! 0;
         #111#15 = #111#15 * #111#14;            || Resultado
     |FINSI;

     #111#17  = #111#10 % #111#16;               || Total Cuota Minima
     |SI #111#14 ! 0;
         #111#17 = #111#17 * #111#14;            || Total Cuota Minima
     |FINSI;
     #111#17  = #111#17 + #111#19;

     #111#18  = #111#15;                         || Cuota derivada regiman general
     |SI #111#18 < #111#17;  #111#18 = #111#17;  |FINSI;

     |SI #19#138 ! #111#18;
         nHay = 1;
         |PRINT;
     |FINSI;
|FPRC;

|DEFBUCLE dsmom017;
     #17#1;
     ;
     00000, 2006, 00, 00;
     99999, 2006, 99, 99;
     ;
     NULL, dsmom017;
|FIN;

|PROGRAMA;
      |ABRE #116;

      #116#0  = "E";
      #116#1  = "722";
      #116#41 = 1;
      #116#2  = 2006;
      |LEE 101#116=;
      |SI FSalida = 0;
          #116#48 = 30;
          |GRABA 020#116a;
          |LIBERA #116;
      |FINSI;

      #116#0  = "E";
      #116#1  = "7211";
      #116#41 = 1;
      #116#2  = 2006;
      |LEE 101#116=;
      |SI FSalida = 0;
          #116#48 = 3;
          |GRABA 020#116a;
          |LIBERA #116;
      |FINSI;

      #116#0  = "E";
      #116#1  = "7212";
      #116#41 = 1;
      #116#2  = 2006;
      |LEE 101#116=;
      |SI FSalida = 0;
          #116#48 = 32;
          |GRABA 020#116a;
          |LIBERA #116;
      |FINSI;

      #116#0  = "E";
      #116#1  = "7213";
      #116#41 = 1;
      #116#2  = 2006;
      |LEE 101#116=;
      |SI FSalida = 0;
          #116#48 = 3;
          |GRABA 020#116a;
          |LIBERA #116;
      |FINSI;

      #116#0  = "E";
      #116#1  = "757";
      #116#41 = 1;
      #116#2  = 2006;
      |LEE 101#116=;
      |SI FSalida = 0;
          #116#48 = 30;
          |GRABA 020#116a;
          |LIBERA #116;
      |FINSI;

      |IMPRE 0;
      |SI FSalida ! 0;  |ACABA;  |FINSI;

      |INFOR "dsmoy060";
      |SI FSalida ! 0;  |FINIMP;  |ACABA;  |FINSI;

      |ABRE #19;
      |BUCLE dsmom017;
      |CIERRA #19;
      |CIERRA #116;

      |SI nHay = 0;
          |MENAV "0000 Todos los datos son correctos";
      |SINO;
          |PIEINF;
      |FINSI;
      |FININF;
      |FINIMP;
|FPRO;
