|FICHEROS;
     dsmoz094;
     dsm190li;
     dsm19001;

     &clientes@;
|FIN;

|VARIABLES;
      nPrint      = 0;

     &eaDni       = "";
     &enCodCli    = 0;
     &enEmpresa   = 0;
     &eaNEmpresa  = "";
     &eaNomDni    = "";
     &eaClave     = "";
     &eaSubClave  = "";
|FIN;

|PROCESO dsm190li;
     |SI eaDni ! #dsm190li#6;
         |SI nPrint = 1;  |PRINT;  |FINSI;

         enEmpresa = 0;
         nPrint    = 0;
     |FINSI;

     |SI enEmpresa ! #dsm190li#0;  |Y enEmpresa ! 0;
         nPrint     = 1;

         |PRINT;
     |FINSI;

     enCodCli    = #dsm190li#0;
     |HAZ LeePersona;

     enEmpresa   = #dsm190li#0;
     eaClave     = #dsm190li#8;
     eaSubClave  = #dsm190li#9;
     eaDni       = #dsm190li#6;
     eaNomDni    = #dsm190li#12;
     eaNEmpresa  = #clientes@#1;
|FPRC;

|DEFBUCLE dsm190li;
     #dsm190li#5;
     ;
     #dsmoz094#0, "            ", 00001;
     #dsmoz094#0, "zzzzzzzzzzzz", 99999;
     ;
     NULL, dsm190li;
|FIN;

|PROCESO dsm19001;
     |SI eaDni ! #dsm19001#6;
         |SI nPrint = 1;  |PRINT;  |FINSI;

         enEmpresa = 0;
         nPrint    = 0;
     |FINSI;

     |SI enEmpresa ! #dsm19001#0;  |Y enEmpresa ! 0;
         nPrint     = 1;

         |PRINT;
     |FINSI;

     enCodCli    = #dsm19001#0;
     |HAZ LeePersona;

     enEmpresa   = #dsm19001#0;
     eaClave     = #dsm19001#8;
     eaSubClave  = #dsm19001#9;
     eaDni       = #dsm19001#6;
     eaNomDni    = #dsm19001#12;
     eaNEmpresa = #clientes@#1;
|FPRC;

|DEFBUCLE dsm19001;
     #dsm19001#5;
     ;
     #dsmoz094#0, "            ", 00001;
     #dsmoz094#0, "zzzzzzzzzzzz", 99999;
     ;
     NULL, dsm19001;
|FIN;

|PROCESO Tipo3;  |TIPO 3;
     |IMPRE 0;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |INFOR "dsmoz094";
     |SI FSalida ! 0;  |FINIMP;  |ACABA;  |FINSI;

     |SI #dsmoz094#0 [ 2015;
         |BUCLE dsm190li;
     |FINSI;

     |SI #dsmoz094#0 ] 2016;
         |BUCLE dsm19001;
     |FINSI;

     |SI nPrint = 1;  |PRINT;  |FINSI;

     |PIEINF;
     |FININF;
     |FINIMP;
|FPRC;
