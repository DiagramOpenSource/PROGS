|VARIABLES;
     nCampo1       = 0;
     nCampo2       = 0;
     nCampo3       = 0;
     nCampo4       = 0;
     nCampo5       = 0;
     nCampo6       = 0;
     nCampo7       = 0;
     nCampo8       = 0;
     nCampo9       = 0;
     nCampo10      = 0;
     nCampo11      = 0;
     nCampo12      = 0;
     nCampo13      = 0;
     nCampo14      = 0;

     aAbre         = "";
     aBase         = "";
     aAlfa         = "";

     &enCalculado  = 0;
     &enEmpresa    = 0;
     &eaBloqueo    = "";
|FIN;

|PROCESO Calculadora;
     |PUSHV  0501 2380;
     |BLANCO 0720 2248;
     |CUADRO 0720 2248;

     |PINTA 0821, "Importe 1 :                ";
     |PINTA 0921, "Importe 2 :                ";
     |PINTA 1021, "Importe 3 :                ";
     |PINTA 1121, "Importe 4 :                ";
     |PINTA 1221, "Importe 5 :                ";
     |PINTA 1321, "Importe 6 :                ";
     |PINTA 1421, "Importe 7 :                ";
     |PINTA 1521, "Importe 8 :                ";
     |PINTA 1621, "Importe 9 :                ";
     |PINTA 1721, "Importe 10:                ";
     |PINTA 1821, "Importe 11:                ";
     |PINTA 1921, "Importe 12:                ";
     |PINTA 2021, "Importe 13:                ";
     |PINTA 2121, "Importe 14:                ";

     E_inf = -999999999.99;
     E_sup = 9999999999.99;

     nCampo1  = enCalculado;
     nCampo2  = 0;
     nCampo3  = 0;
     nCampo4  = 0;
     nCampo5  = 0;
     nCampo6  = 0;
     nCampo7  = 0;
     nCampo8  = 0;
     nCampo9  = 0;
     nCampo10 = 0;
     nCampo11 = 0;
     nCampo12 = 0;
     nCampo13 = 0;
     nCampo14 = 0;

     |ET nCampo1;
         nCampo1 = 0833 ? 1;
         |SI FSalida = 1;  |VETE Abajo;    |FINSI;
         |SI FSalida = 7;  |VETE Abajo;    |FINSI;

     |ET nCampo2;
         nCampo2 = 0933 ? 1;
         |SI FSalida = 2;  |VETE nCampo1;  |FINSI;
         |SI FSalida = 1;  |VETE Abajo;    |FINSI;
         |SI FSalida = 7;  |VETE Abajo;    |FINSI;

     |ET nCampo3;
         nCampo3 = 1033 ? 1;
         |SI FSalida = 2;  |VETE nCampo2;  |FINSI;
         |SI FSalida = 1;  |VETE Abajo;    |FINSI;
         |SI FSalida = 7;  |VETE Abajo;    |FINSI;

     |ET nCampo4;
         nCampo4 = 1133 ? 1;
         |SI FSalida = 2;  |VETE nCampo3;  |FINSI;
         |SI FSalida = 1;  |VETE Abajo;    |FINSI;
         |SI FSalida = 7;  |VETE Abajo;    |FINSI;

     |ET nCampo5;
         nCampo5 = 1233 ? 1;
         |SI FSalida = 2;  |VETE nCampo4;  |FINSI;
         |SI FSalida = 1;  |VETE Abajo;    |FINSI;
         |SI FSalida = 7;  |VETE Abajo;    |FINSI;

     |ET nCampo6;
         nCampo6 = 1333 ? 1;
         |SI FSalida = 2;  |VETE nCampo5;  |FINSI;
         |SI FSalida = 1;  |VETE Abajo;    |FINSI;
         |SI FSalida = 7;  |VETE Abajo;    |FINSI;

     |ET nCampo7;
         nCampo7 = 1433 ? 1;
         |SI FSalida = 2;  |VETE nCampo6;  |FINSI;
         |SI FSalida = 1;  |VETE Abajo;    |FINSI;
         |SI FSalida = 7;  |VETE Abajo;    |FINSI;

     |ET nCampo8;
         nCampo8 = 1533 ? 1;
         |SI FSalida = 2;  |VETE nCampo7;  |FINSI;
         |SI FSalida = 1;  |VETE Abajo;    |FINSI;
         |SI FSalida = 7;  |VETE Abajo;    |FINSI;

     |ET nCampo9;
         nCampo9 = 1633 ? 1;
         |SI FSalida = 2;  |VETE nCampo8;  |FINSI;
         |SI FSalida = 1;  |VETE Abajo;    |FINSI;
         |SI FSalida = 7;  |VETE Abajo;    |FINSI;

     |ET nCampo10;
         nCampo10 = 1733 ? 1;
         |SI FSalida = 2;  |VETE nCampo9;  |FINSI;
         |SI FSalida = 1;  |VETE Abajo;    |FINSI;
         |SI FSalida = 7;  |VETE Abajo;    |FINSI;

     |ET nCampo11;
         nCampo11 = 1833 ? 1;
         |SI FSalida = 2;  |VETE nCampo10; |FINSI;
         |SI FSalida = 1;  |VETE Abajo;    |FINSI;
         |SI FSalida = 7;  |VETE Abajo;    |FINSI;

     |ET nCampo12;
         nCampo12 = 1933 ? 1;
         |SI FSalida = 2;  |VETE nCampo11; |FINSI;
         |SI FSalida = 1;  |VETE Abajo;    |FINSI;
         |SI FSalida = 7;  |VETE Abajo;    |FINSI;

     |ET nCampo13;
         nCampo13 = 2033 ? 1;
         |SI FSalida = 2;  |VETE nCampo12; |FINSI;
         |SI FSalida = 1;  |VETE Abajo;    |FINSI;
         |SI FSalida = 7;  |VETE Abajo;    |FINSI;

     |ET nCampo14;
         nCampo14 = 2133 ? 1;
         |SI FSalida = 2;  |VETE nCampo13; |FINSI;
         |SI FSalida = 1;  |VETE Abajo;    |FINSI;
         |SI FSalida = 7;  |VETE Abajo;    |FINSI;

     |ET Abajo;
         enCalculado = nCampo1  + nCampo2  + nCampo3  + nCampo4  + nCampo5;
         enCalculado = enCalculado + nCampo6  + nCampo7  + nCampo8  + nCampo9;
         enCalculado = enCalculado + nCampo10 + nCampo11 + nCampo12 + nCampo13;
         enCalculado = enCalculado + nCampo14;

     |POPV;
|FPRC;

|PROCESO MiraBloqueo;
     |DBASS aBase;
     aAbre = aBase + "integral/def/dsam0021.mas";
     |XABRE "E", aAbre, 0;
     |SI FSalida ] 0;
         aAlfa = ":integral/dsam0021;" + (("00000" + enEmpresa) % -105);
         aAlfa = aAlfa + "CHEQUEO";
         |SUB_EJECUTA aAlfa;

         |SI eaBloqueo ! "1";
             aAlfa = "|:integral/dsam0021;" + (("00000" + enEmpresa) % -105);
             aAlfa = aAlfa + "PANTALLA";
             |SUB_EJECUTA aAlfa;
         |FINSI;
     |FINSI;
|FPRC;
