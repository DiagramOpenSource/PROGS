|FICHEROS;
     dsmoc130;
     dsmom010,MANTE;
     dsmopl10,MANTE;
|FIN;

|VARIABLES;
     aConcepto = "";
     nDosIntro = 0;
     nCampo    = 0;
     nCampo1   = 0;
     nTecla    = 0;
     &enCalculado = 0;
     nConte    = 0;
     nModo     = 0;
     aAlfa     = "";
     nAlta     = 0;
     &eaDCta   = "";
     &eaHCta   = "";
     &enTotal  = 0;
|FIN;

|INCLUYE i_variar;

|PROCESO DosIntrom010;  |TIPO 7;
     |BLIN 4;
     eaCta60 = #dsmom010#5;
     eaTip60 = "G";
     |HAZ HayDesglose60;
     |SI enDesglose60 = 1;
         |MENSA "0000Pulse F6 para ver Desglose";
     |FINSI;
|FPRC;

|PROCESO Tipo11m010; |TIPO 11;
     nTecla = FSalida;
     |SI enDesglose60 = 1; |Y nTecla = 14;
         nModo = 4;
         |HAZ Verpl10;
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Sumapl10;
    nConte = nConte + #dsmopl10#8;
|FPRC;

|DEFBUCLE Sumapl10;
    #dsmopl10#1;
    ;
    #dsmom010#0, #dsmom010#1, #dsmom010#2, #dsmom010#3, #dsmom010#4, eaDCta;
    #dsmom010#0, #dsmom010#1, #dsmom010#2, #dsmom010#3, #dsmom010#4, eaHCta;
    e;
    NULL, Sumapl10;
|FIN;

|PROCESO Bajapl10;
    #dsmopl10#0 = #dsmom010#0;
    #dsmopl10#1 = #dsmom010#1;
    #dsmopl10#2 = #dsmom010#2;
    #dsmopl10#3 = #dsmom010#3;
    #dsmopl10#4 = #dsmom010#4;
    #dsmopl10#5 = eaDCta;
|FPRC;

|PROCESO Altapl10;
    #dsmopl10#0 = #dsmom010#0;
    #dsmopl10#1 = #dsmom010#1;
    #dsmopl10#2 = #dsmom010#2;
    #dsmopl10#3 = #dsmom010#3;
    #dsmopl10#4 = #dsmom010#4;
    #dsmopl10#5 = eaHCta;
|FPRC;

|PROCESO Verpl10;
    nAlta = 0;
    |ABRE #dsmopl10;
    #dsmopl10#0 = #dsmom010#0;
    #dsmopl10#1 = #dsmom010#1;
    #dsmopl10#2 = #dsmom010#2;
    #dsmopl10#3 = #dsmom010#3;
    #dsmopl10#4 = #dsmom010#4;
    #dsmopl10#5 = #dsmom010#5;
    |LEE 041#dsmopl10.];
    |SI FSalida ! 0;
        nAlta = 1;
    |SINO;
        aAlfa = #dsmopl10#5 % 104;
        |SI aAlfa ! #dsmom010#5;
            nAlta = 1;
        |FINSI;
    |FINSI;
    |SI nAlta = 1; |Y #dsmom010#8 ! 0;
        #dsmopl10#0 = #dsmom010#0;
        #dsmopl10#1 = #dsmom010#1;
        #dsmopl10#2 = #dsmom010#2;
        #dsmopl10#3 = #dsmom010#3;
        #dsmopl10#4 = #dsmom010#4;
        #dsmopl10#5 = #dsmom010#5;
        #dsmopl10#6 = #dsmom010#6;
        #dsmopl10#7 = #dsmom010#7;
        #dsmopl10#8 = #dsmom010#8;
        |GRABA 041#dsmopl10.n;
    |FINSI;
    |CIERRA #dsmopl10;

    eaDCta = #dsmom010#5 + "        ";
    eaHCta = #dsmom010#5 + "zzzzzzzz";

    |PUSHV 0501 2380;
    |PINPA #0#dsmopl10;
    |PINTA 2069, #dsmom010#8;
    |ENTLINEAL #1#dsmopl10, -6, nModo, 18, 0, Bajapl10, Altapl10;
    |POPV;

    nConte = 0;
    |BUCLE Sumapl10;
    #dsmom010#8 = nConte; |PINTA #dsmom010#8;
|FPRC;

|PROCESO NoPasom010;  |TIPO 7;
     eaCta60 = #dsmom010#5;
     eaTip60 = "G";
     |HAZ HayDesglose60;

     nModo = 2;

     |SI enEjer ] 2019; |Y enDesglose60 = 1;
         |HAZ Verpl10;
     |SINO;
         |MENSA "    <F5> Calculadora";
     |FINSI;

|FPRC;

|PROCESO Teclam010;
     nTecla = FSalida;

     |SI nTecla = 12;
         enCalculado = #dsmom010#8;
         |HAZ Calculadora;
         #dsmom010#8 = enCalculado;
         |PINTA #dsmom010#8;
     |FINSI;
|FPRC;

|PROCESO Tipo2m010;  |TIPO 2;
     |SI #dsmom010#7 = "+";
         #dsmoc130#6 = #dsmoc130#6 +. #dsmom010#8;
     |SINO;
         #dsmoc130#6 = #dsmoc130#6 -. #dsmom010#8;
     |FINSI;

     |ATRI S;  |PINTA 2269, #dsmoc130#6;  |ATRI s;
|FPRC;

|PROCESO Descarga10;
|FPRC;
