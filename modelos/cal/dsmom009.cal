|FICHEROS;
     dsmom009 #9,MANTE;
     dsmom001 #1;
     dsmom004 #4;
     dsmom008 #8;
     dsmom010 #10;
     dsmom011 #11;
     dsmom012 #12;
     dsmom013 #13;
     dsmopl10;
     dsmopl12;
     dsmopl13;
     dsmom065;
     dsmoc130 #130;
     dsmow006 #998;

     dsmom107 #107;
     dsmom09@ #909;
     :/basica/def/agicen14 #114;
|FIN;

|VARIABLES;
     aPathModelo = "";
     aDef        = "";
     aAlfa       = "";
     aLong       = "";
     aCampo      = "";

     nCampo      = 0;
     nPosi       = 0;
     nLong       = 0;
     nConta      = 0;
     nIVA        = 0;
     nTri        = 0;
     nSwIva      = 0;
     nSw130      = 0;
     nTecla      = 0;
     nBoton1     = 0;
     nBoton2     = 0;
     nBoton3     = 0;
     nBoton4     = 0;
     nBoton5     = 0;
     nSw0        = 0;
     nDato       = 0;

     &eaHay130   = "";
     &eaHay303   = "";
     &enModo65   = 0;
     &enRec65    = 0;
|FIN;

|INCLUYE i_variar;

|PROCESO Borra65;
     |BORRA 020#dsmom065.a;
     |LIBERA #dsmom065;
|FPRC;

|DEFBUCLE dsmom065B;
     #dsmom065#1;
     ;
     #9#0, #9#1, #9#2, #9#3, #9#4, 0001;
     #9#0, #9#1, #9#2, #9#3, #9#4, 9999;
     be;
     NULL, Borra65;
|FIN;

|PROCESO Borra10;
     |BORRA 020#10a;
     |LIBERA #10;
|FPRC;

|DEFBUCLE dsmom010B;
     #10#1;
     ;
     #9#0, #9#1, #9#2, #9#3, #9#4, "    ";
     #9#0, #9#1, #9#2, #9#3, #9#4, "zzzz";
     be;
     NULL, Borra10;
|FIN;

|PROCESO Borra11;
     |BORRA 020#11a;
     |LIBERA #11;
|FPRC;

|DEFBUCLE dsmom011B;
     #11#1;
     ;
     #9#0, #9#1, #9#2, #9#3, #9#4, "    ";
     #9#0, #9#1, #9#2, #9#3, #9#4, "zzzz";
     be;
     NULL, Borra11;
|FIN;

|PROCESO Borra12;
     |BORRA 020#12a;
     |LIBERA #12;
|FPRC;

|DEFBUCLE dsmom012B;
     #12#1;
     ;
     #9#0, #9#1, #9#2, #9#3, #9#4, "    ";
     #9#0, #9#1, #9#2, #9#3, #9#4, "zzzz";
     be;
     NULL, Borra12;
|FIN;

|PROCESO Borra13;
     |BORRA 020#13a;
     |LIBERA #13;
|FPRC;

|DEFBUCLE dsmom013B;
     #13#1;
     ;
     #9#0, #9#1, #9#2, #9#3, #9#4, "    ";
     #9#0, #9#1, #9#2, #9#3, #9#4, "zzzz";
     be;
     NULL, Borra13;
|FIN;

|PROCESO Borra10pl;
     |BORRA 020#dsmopl10.a;
     |LIBERA #dsmopl10;
|FPRC;

|DEFBUCLE dsmopl10B;
     #dsmopl10#1;
     ;
     #9#0, #9#1, #9#2, #9#3, #9#4, "            ";
     #9#0, #9#1, #9#2, #9#3, #9#4, "zzzzzzzzzzzz";
     be;
     NULL, Borra10pl;
|FIN;

|PROCESO Borra12pl;
     |BORRA 020#dsmopl12.a;
     |LIBERA #dsmopl12;
|FPRC;

|DEFBUCLE dsmopl12B;
     #dsmopl12#1;
     ;
     #9#0, #9#1, #9#2, #9#3, #9#4, "            ";
     #9#0, #9#1, #9#2, #9#3, #9#4, "zzzzzzzzzzzz";
     be;
     NULL, Borra12pl;
|FIN;

|PROCESO Borra13pl;
     |BORRA 020#dsmopl13.a;
     |LIBERA #dsmopl13;
|FPRC;

|DEFBUCLE dsmopl13B;
     #dsmopl13#1;
     ;
     #9#0, #9#1, #9#2, #9#3, #9#4, "            ";
     #9#0, #9#1, #9#2, #9#3, #9#4, "zzzzzzzzzzzz";
     be;
     NULL, Borra13pl;
|FIN;

|PROCESO BajaIva;
     |DDEFECTO #8;
     |ABRE #8;
     #8#0 = #9#0;
     #8#1 = #9#1;
     #8#2 = #9#2;
     |SI #9#1 [ 2008;
         |SI #9#7  = "X";  #8#3 = 300;  |FINSI;
         |SI #9#8  = "X";  #8#3 = 370;  |FINSI;
         |SI #9#9  = "X";  #8#3 = 320;  |FINSI;
         |SI #9#10 = "X";  #8#3 = 330;  |FINSI;
         |SI #9#11 = "X";  #8#3 = 332;  |FINSI;
     |SINO;
         |SI #9#7  = "X";  #8#3 = 303;  |FINSI;
         |SI #9#8  = "X";  #8#3 = 370;  |FINSI;
     |FINSI;
     #8#4 = 0;
     #8#5 = #9#4;
     |LEE 101#8=;
     |SI FSalida = 0;
         #8#11 = "SIN DATOS";
         |GRABA 020#8a;

         enEmpresa     = #8#0;
         enEjer        = #8#1;
         enPeriodo     = #8#2;
         enModelo      = #8#3;
         enComplem     = #8#4;
         enActividad   = #8#5;
         eaComunidad   = #8#9;
         eaComunero    = #8#10;
         enTipoEntrada = 97;
         |SUB_EJECUTA_NP "dsmociva";

         |ABRE #4;
         #4#0 = #9#0;
         #4#1 = #9#1;
         #4#2 = #9#2;
         #4#3 = enModelo;
         #4#4 = 0;
         |LEE 101#4=;
         |SI FSalida = 0;
             |HAZ ChequeaSituacion;  || Esta en el PLB

             |GRABA 020#4a;
             |LIBERA #4;
         |FINSI;
         |CIERRA #4;
     |FINSI;
     |LIBERA #8;
     |CIERRA #8;
|FPRC;

|PROCESO Baja130;
     |DDEFECTO #8;
     |ABRE #8;
     #8#0 = #9#0;
     #8#1 = #9#1;
     #8#2 = #9#2;
     #8#3 = 130;
     #8#4 = 0;
     #8#5 = #9#4;
     |LEE 101#8=;
     |SI FSalida = 0;
         #8#11 = "SIN DATOS";
         |GRABA 020#8a;

         enEmpresa     = #8#0;
         enEjer        = #8#1;
         enPeriodo     = #8#2;
         enModelo      = #8#3;
         enComplem     = #8#4;
         enActividad   = #8#5;
         eaComunidad   = #8#9;
         eaComunero    = #8#10;
         enTipoEntrada = 3;
         |SUB_EJECUTA_NP "dsmoc130";

         |ABRE #4;
         #4#0 = #9#0;
         #4#1 = #9#1;
         #4#2 = #9#2;
         #4#3 = enModelo;
         #4#4 = 0;
         |LEE 101#4=;
         |SI FSalida = 0;
             |HAZ ChequeaSituacion;  || Esta en el PLB

             |GRABA 020#4a;
             |LIBERA #4;
         |FINSI;
         |CIERRA #4;
     |FINSI;
     |LIBERA #8;
     |CIERRA #8;
|FPRC;

|PROCESO BajaPlanilla;
     |SI nSw130 = 2;  |O nSwIva = 2;
         |CONFI "0000NModelos ya Impreso, Esta Seguro de la Baja : ";
         |SI FSalida ! 0;
             |ACABA;
         |FINSI;
     |SINO;
         |CONFI "0000NEsta seguro de dar de Baja la Planilla ";
         |SI FSalida ! 0;
             |ACABA;
         |FINSI;
     |FINSI;

     |BUCLE dsmom065B;
     |BUCLE dsmom010B;
     |BUCLE dsmom011B;
     |BUCLE dsmom012B;
     |BUCLE dsmom013B;
     |SI #dsmom009#1 ] 2019;
         |BUCLE dsmopl10B;
         |BUCLE dsmopl12B;
         |BUCLE dsmopl13B;
     |FINSI;

     |LEE 101#9=;
     |SI FSalida = 0;
         |PARA nCampo = 17;  |SI nCampo [ 47;  |HACIENDO nCampo = nCampo + 1;
               |SI nCampo ! 29;  |Y nCampo ! 36;
                   #9nCampo = 0;
               |FINSI;
         |SIGUE;
         #9#57 = "SIN DATOS";
         #9#58 = 0;
         #9#59 = 0;
         #9#60 = " ";
         #9#62 = 0;
         #9#63 = 0;
         #9#64 = 0;
         #9#66 = "N";
         |GRABA 020#9a;
     |FINSI;
     |LIBERA #9;

     |HAZ BajaIva;
     |HAZ Baja130;
|FPRC;

|PROCESO RecogeAnterior;
     #9#18 = 0;
     #9#21 = 0;
     #9#24 = 0;
     #9#27 = 0;
     #9#31 = 0;
     #9#34 = 0;
     #9#38 = 0;
     #9#41 = 0;

     nSw0 = 0;
     |ABRE #130;
     #130#0 = #9#0;
     #130#1 = #9#1;
     #130#2 = #9#2 - 3;
     #130#3 = 130;
     #130#4 = 0;
     #130#5 = #9#4;
     |LEE 000#130=;
     |PARA;  |SI FSalida = 0;  |HACIENDO;  || Recoge de la ultima linea del
          #9#18 = #130#8;                  || periodo
          #9#21 = #130#11;
          #9#24 = #130#14;
          #9#27 = #130#17;
          #9#31 = #130#21;
          #9#34 = #130#24;
          #9#38 = #130#28;
          #9#41 = #130#31;

          #9#61 = #130#48;
          #9#63 = #130#51;

          nSw0 = 1;
          #130#4 = #130#4 + 1;
          |LEE 000#130=;
     |SIGUE;

     #9#43 = #130#32 + #130#33;

     |CIERRA #130;

     |SI nSw0 = 0;

         |DBASE aPathModelo;
         aDef = aPathModelo + "def/dsmom009.mas";
         |CARGA_DEF aDef, dsmom09@;
         |SI FSalida ! 0;
             |MENAV "     Error en Cargar el Def dsmom009.mas";
             |ACABA;
         |FINSI;

         |ABRE #909;
         #909#0 = #9#0;
         #909#1 = #9#1;
         #909#2 = #9#2 - 3;
         #909#3 = 0;
         #909#4 = #9#4;
         |LEE 000#909=;
         |PARA;  |SI FSalida = 0;  |HACIENDO;  || Recoge de la ultima linea del
                 #9#18 = #909#19;                 || periodo
                 #9#21 = #909#22;
                 #9#24 = #909#25;
                 #9#27 = #909#28;
                 #9#31 = #909#32;
                 #9#34 = #909#35;
                 #9#38 = #909#39;
                 #9#41 = #909#42;
                 #9#63 = #909#64;

                 #909#3 = #909#3 + 1;
                 |LEE 000#909=;
          |SIGUE;

          |CIERRA #909;
          |DESCARGA_DEF #dsmom09@;
     |FINSI;
|FPRC;

|PROCESO NoVisualizar;
     |QBF eaNoVisu;
     |SI eaNoVisu ! "";
         aLong = eaNoVisu % 0;
         nLong = aLong;
         |PARA nConta = 1;  |SI nConta [ nLong;  |HACIENDO nConta = nConta + 3;
               nPosi  = (nConta * 100) + 3
               aCampo = eaNoVisu % nPosi;
               nCampo = aCampo;

               |C_V #998nCampo, 1, "N";
         |SIGUE;
     |FINSI;
|FPRC;

|PROCESO SiVisualizar;
     |QBF eaNoVisu;
     |SI eaNoVisu ! "";
         aLong = eaNoVisu % 0;
         nLong = aLong;
         |PARA nConta = 1;  |SI nConta [ nLong;  |HACIENDO nConta = nConta + 3;
               nPosi  = (nConta * 100) + 3
               aCampo = eaNoVisu % nPosi;
               nCampo = aCampo;

               |C_V #998nCampo, 1, "S";
         |SIGUE;
     |FINSI;
|FPRC;

|PROCESO Boton1m009;
     |PTEC 824;
|FPRC;

|PROCESO Boton2m009;
     |PTEC 830;
|FPRC;

|PROCESO Boton3m009;
     |PTEC 825;
|FPRC;

|PROCESO Boton4m009;
     |PTEC 826;
|FPRC;

|PROCESO Boton5m009;
     |PTEC 827;
|FPRC;

|PROCESO Tipo7m009;  |TIPO 7;
     |BLIN 04;
     |CONTROL_SIMPLE 0, "LBOTON,F2 Entrada de Datos ", 0464, 0480, Boton1m009;
     nBoton1 = FSalida;

     |CONTROL_SIMPLE 0, "LBOTON,F8 Baja Planilla    ", 0564, 0580, Boton2m009;
     nBoton2 = FSalida;

     |SI #107#23 = "S"; |Y #9#14 = " ";
         |CONTROL_SIMPLE 0, "LBOTON,F3 Planilla sin Mod.130 ", 0530, 0544, Boton3m009;
         nBoton3 = FSalida;
     |FINSI;

     |CONTROL_SIMPLE 0, "LBOTON,F4 Consulta Datos ", 0446, 0462, Boton4m009;
     nBoton4 = FSalida;

     |CONTROL_SIMPLE 0, "LBOTON,F5 Imprimir Datos ", 0546, 0562, Boton5m009;
     nBoton5 = FSalida;
|FPRC;

|PROCESO Tipo0m009;  |TIPO 0;
     |FIN_CONTROL_WINDOWS nBoton1;
     |FIN_CONTROL_WINDOWS nBoton2;
     |SI #107#23 = "S"; |Y #9#14 = " "; |FIN_CONTROL_WINDOWS nBoton3; |FINSI;
     |FIN_CONTROL_WINDOWS nBoton4;
     |FIN_CONTROL_WINDOWS nBoton5;
     |PULSATECLA;
|FPRC;

|PROCESO MiraComunero;
     #4#0 = #1#3;
     #4#1 = #9#1;
     #4#2 = #9#2;
     #4#3 = 130;
     #4#4 = 0;
     |LEE 101#4=;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |SI #4#9  = "X";  nSw130 = 2;  |FINSI;
     |SI #4#11 = "X";  nSw130 = 1;  |FINSI;
     |SI #4#13 = "X";  nSw130 = 1;  |FINSI;

     nDato = 1;
     |SI nSw130 ! 0;  |ERROR10;  |FINSI;
|FPRC;

|DEFBUCLE dsmom001;
     #1#1;
     ;
     #9#0, #9#4, 0001;
     #9#0, #9#4, 9999;
     ;
     NULL, MiraComunero;
|FIN;

|PROCESO PedirCampo60;
  #998#60 = "N";
  #998#66 = "N";
  |SI #998#1 ] 2010;
      |CONFI "    NIntroducir datos Agrupados";
      |SI FSalida = 0;
          #998#60 = "X";
          enModo65 = 1;
          |CONFI "    NIntroducir Movimientos Con Recargo de Equivalencia";
          |SI FSalida = 0; #998#66 = "S"; |FINSI;
          |HAZ IraCampo60;
      |FINSI;
  |FINSI;
|FPRC;

|PROCESO IraCampo60;
   enRec65      = 0;    |SI #998#66 = "S"; enRec65 = 1; |FINSI;
   enEmpresa    = #9#0;
   enEjer       = #9#1;
   enPeriodo    = #9#2;
   enComplem    = #9#3;
   enActividad  = #9#4;
   eaHay130     = #9#14;
   eaHay303     = #9#7;
   |CIERRAT #9;

   |SUB_EJECUTA_NP "dsmom065;NOSQUITARTODOESTOAVERSIFUNCIONA";
   |SI eaHay303 = "X";
       enModelo    = 303;
       enModelo1   = 303;
       enPlanillas = 2;
       |SUB_EJECUTA_NP "dsmozpas";
       enPlanillas   = 0;
   |FINSI;

   |ABRET #9;
   |SI eaHay130 = "X";
       |PTEC 802;
       |PTEC 802;
       |PTEC 802;
       |PTEC 802;
   |FINSI;
|FPRC;

|PROCESO Tipo11m009;  |TIPO 11;
     nTecla = FSalida;

     |FIN_CONTROL_WINDOWS nBoton1;
     |FIN_CONTROL_WINDOWS nBoton2;
     |SI #107#23 = "S"; |Y #9#14 = " "; |FIN_CONTROL_WINDOWS nBoton3; |FINSI;
     |FIN_CONTROL_WINDOWS nBoton4;
     |FIN_CONTROL_WINDOWS nBoton5;
     |PULSATECLA;

     |SI #107#23 = "S";
         |SI nTecla = 11; |Y #9#14 = " ";
             #9#14 = "P"; |PINTA #9#14;
             nTecla = 10;
         |FINSI;
     |FINSI;

     |SI nTecla ! 10;  |Y nTecla ! 16;  |Y nTecla ! 12; |Y nTecla ! 13; |ACABA;  |FINSI;

     |ABRE #114;
     #114#0 = #9#0;
     #114#1 = #9#4;
     |LEE 040#114=
     |SI FSalida ! 0;  |DDEFECTO #114;  |FINSI;
     |CIERRA #114;
     #9#65 = #114#16;

     |SI nTecla = 13;
         enEmpresa    = #9#0;
         enEjer       = #9#1;
         enPeriodo    = #9#2;
         enActividad  = #9#4;

         |SUB_EJECUTA_NP "dsmoy012;Planillas";
         |ACABA;
     |FINSI;

     nSw130 = 0;
     nSwIva = 0;

     nDato  = 0;
     |ABRE #4;
     |SI #9#56 ! 8;  |Y #9#56 ! 9;  |Y #9#56 ! 10;
      |Y #9#56 ! 11; |Y #9#56 ! 12; |Y #9#56 ! 18;
         #4#0 = #9#0;
         #4#1 = #9#1;
         #4#2 = #9#2;
         #4#3 = 130;
         #4#4 = 0;
         |LEE 101#4=;
         |SI FSalida ! 0;  |DDEFECTO #4; |SINO; nDato = 1;  |FINSI;
     |SINO;
         |BUCLE dsmom001;
     |FINSI;
     |SI #107#23 = "S";
         |SI nDato = 0; |Y #9#14 = "X"; #9#14 = "P"; |FINSI;
         |SI nDato = 1; |Y #9#14 = "P"; #9#14 = "X"; |FINSI;
     |FINSI;

     |SI #4#9  = "X";  nSw130 = 2;  |FINSI;
     |SI #4#11 = "X";  nSw130 = 1;  |FINSI;
     |SI #4#13 = "X";  nSw130 = 1;  |FINSI;

     #4#0 = #9#0;
     #4#1 = #9#1;
     #4#2 = #9#2;
     |SI #9#1 [ 2008;
         |SI #9#7  = "X";  #4#3 = 300;  |FINSI;
         |SI #9#8  = "X";  #4#3 = 370;  |FINSI;
         |SI #9#9  = "X";  #4#3 = 320;  |FINSI;
         |SI #9#10 = "X";  #4#3 = 330;  |FINSI;
         |SI #9#11 = "X";  #4#3 = 332;  |FINSI;
     |SINO;
         |SI #9#7  = "X";  #4#3 = 303;  |FINSI;
         |SI #9#8  = "X";  #4#3 = 370;  |FINSI;
     |FINSI;
     #4#4 = 0;
     |LEE 101#4=;
     |SI FSalida ! 0;  |DDEFECTO #4;  |FINSI;

     |SI #4#9  = "X";  nSwIva = 2;  |FINSI;
     |SI #4#11 = "X";  nSwIva = 1;  |FINSI;
     |SI #4#13 = "X";  nSwIva = 1;  |FINSI;
     |CIERRA #4;

|SI nTecla ! 12;
     |SI nSwIva = 1;  |O nSw130 = 1;
         |MENAV "     Tenemos los modelos Remesados o Archivados. ";
         |ACABA;
     |FINSI;

     |SI nSwIva = 2;  |O nSw130 = 2;
         |CONFI "0000NModelos Ya impresos, desea continuar";
         |SI FSalida ! 0;  |ACABA;   |FINSI;
         |MENAV "0000Recuerde. Imprima otra vez los Modelos para recoger las modificaciones realizadas";
     |FINSI;
|FINSI;

     |SI nTecla = 16;
         |HAZ BajaPlanilla;
         |HAZ Refresco;
         |ACABA;
     |FINSI;

     |SI #9#2 ! 3; |Y #9#14 ! " "; |Y nTecla ! 12;
         |HAZ RecogeAnterior;
     |FINSI;

     nDato = 0;
     |PARA nCampo = 0;  |SI nCampo [ 66;  |HACIENDO nCampo = nCampo + 1;
           #998nCampo = #9nCampo;
           |SI nCampo ] 17; |Y nCampo [ 44; |Y nCampo ! 36;
               |SI #998nCampo ! 0; nDato = 1; |FINSI;
           |FINSI;
           |SI nCampo = 58; |Y #998nCampo ! 0; nDato = 1; |FINSI;
           |SI nCampo = 59; |Y #998nCampo ! 0; nDato = 1; |FINSI;
           |SI nCampo ] 62; |Y #998nCampo ! 0; nDato = 1; |FINSI;
     |SIGUE;

     eaNoVisu = "";
     |PARA nCampo = 17;  |SI nCampo [ 44;  |HACIENDO nCampo = nCampo + 1;
          eaNoVisu = eaNoVisu + (("000" + nCampo) % -103);
     |SIGUE;
     eaNoVisu = eaNoVisu + "058059";

     |SI #107#23 = "S";
         |SI #9#14 = " "; |Y nDato = 1; #9#14 = "P"; #998#14 = "P"; |FINSI;
     |FINSI;

     |SI #9#14 = " ";
         |HAZ NoVisualizar;
     |SINO;
         |HAZ SiVisualizar;
         |SI #998#56 = 7;  |O #998#56 = 12;  |O #998#56 = 17; |O #998#65 = 3;
             eaNoVisu = "029030033036037027031034038041028032035039042043061062063064";
             |HAZ NoVisualizar;
         |SINO;
             |SI #998#56 = 3;  |O #998#56 = 8;  |O #998#56 = 13;
                 eaNoVisu = "029030031032";
                 |HAZ NoVisualizar;

                 #998#29 = 0;
                 #998#30 = 0;
                 #998#31 = 0;
                 #998#32 = 0;
             |SINO;
                 |SI #998#29 = 0;  #998#29 = 5;  |FINSI;
             |FINSI;
          |FINSI;
     |FINSI;

     |C_M #998#61, 1, "S";
     |SI #998#1 < 2010; |C_M #998#61, 1,"N": #998#61 = "N"; |FINSI;

     |PUSHV 0501 2380;
     |PINPA #0#998;
     |PINDA #0#998;

|SI nTecla = 12;
     |PAUSA;
|SINO;
     |SI #998#60 = " "; |HAZ PedirCampo60; |FINSI;
     |ENDATOS #1#998;
     |SI FSalida = 0;
         |LEE 101#9=;
         |PARA nCampo = 0;  |SI nCampo [ 66;  |HACIENDO nCampo = nCampo + 1;
               #9nCampo = #998nCampo;
         |SIGUE;

         nIVA  = -1;
         nTri  = -1;

         |SI #9#7 = "X"; |O #9#8 = "X";  |O  #9#9 = "X";
          |O #9#10 = "X";  |O #9#11 = "X";
             nIVA = 0;
             |SI #9#45 ! 0;  |O #9#46 ! 0;
                 nIVA = 1;
             |FINSI;
         |FINSI;

         |SI #9#14 = "X";
             nTri = 0;

             |SI #9#17 ! 0;    nTri = 1;   |FINSI;
             |SI #9#20 ! 0;    nTri = 1;   |FINSI;
             |SI #9#58 ! 0;    nTri = 1;   |FINSI;
             |SI #9#23 ! 0;    nTri = 1;   |FINSI;
             |SI #9#40 ! 0;    nTri = 1;   |FINSI;
             |SI #9#44 ! 0;    nTri = 1;   |FINSI;
         |FINSI;

         |SI nTri = -1;  |Y nIVA = -1;
             #9#57 = "COMPLETADO";
         |FINSI;

         |SI nTri = 1;  |Y nIVA = 1;
             #9#57 = "COMPLETADO";
         |FINSI;

         |SI nTri = -1;  |Y nIVA = 1;
             #9#57 = "COMPLETADO";
         |FINSI;

         |SI nTri = 1;  |Y nIVA = -1;
             #9#57 = "COMPLETADO";
         |FINSI;

         |SI nTri = 0;  |Y nIVA = 0;
             #9#57 = "SIN DATOS";
         |FINSI;

         |SI nTri = 0;  |Y nIVA = 1;
             #9#57 = "SIN TRIBUTA.";
         |FINSI;

         |SI nTri = 1;  |Y nIVA = 0;
             #9#57 = "SIN IVA";
         |FINSI;

         |GRABA 020#9a;
         |LIBERA #9;

         |SI #9#14 = "X";
             |ABRE #8;
             #8#0 = #9#0;
             #8#1 = #9#1;
             #8#2 = #9#2;
             #8#3 = 130;
             #8#4 = 0;
             #8#5 = #9#4;
             |LEE 040#8=;
             |SI FSalida ! 0;  |DDEFECTO #8;  |FINSI;
             |CIERRA #8;

             enEmpresa     = #8#0;
             enEjer        = #8#1;
             enPeriodo     = #8#2;
             enModelo      = #8#3;
             enComplem     = #8#4;
             enActividad   = #8#5;
             eaComunidad   = #8#9;
             eaComunero    = #8#10;
             enTipoEntrada = 98;
             |SUB_EJECUTA_NP "dsmoc130";

             |ABRE #4;
             #4#0 = #9#0;
             #4#1 = #9#1;
             #4#2 = #9#2;
             #4#3 = 130;
             #4#4 = 0;
             |LEE 101#4=;
             |SI FSalida = 0;
                 |HAZ ChequeaSituacion;  || Esta en el PLB

                 |GRABA 020#4a;
                 |LIBERA #4;
             |FINSI;
             |CIERRA #4;
         |FINSI;
     |FINSI;
|FINSI;
     |POPV;

     |HAZ Refresco;
|FPRC;
