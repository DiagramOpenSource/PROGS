|FICHEROS;
   dsm210tr #0;

   Referen@ #100;
|FIN;

|VARIABLES;
   nBotonCarga = -1;
   nPant       = 0;
   nEstado     = 0;
   aAlfa       = "";
   aAlfa1      = "";

   nCont       = 0;
   nNumCmps    = 0;
|FIN;

|PROCESO ReponPatrones;
   |DDEFECTO #dsm210tr;
   #dsm210tr#0 = #Referen@#0;
   #dsm210tr#6 = #Referen@#6;
   |LEE 041#dsm210tr.=;
   nEstado = FSalida;

   |PARA nCont = 0; |SI nCont [ 7; |HACIENDO nCont = nCont + 1;
         #dsm210tr#nCont# = #Referen@#nCont#;
   |SIGUE;
   |SI nEstado = 0;
      |GRABA 020#dsm210tr.a;
   |SINO;
      |GRABA 020#dsm210tr.n;
   |FINSI;
|FPRC;

|DEFBUCLE ReponPatrones;
   #Referen@#1002;
   ;
   2000, 00;
   2999, 99;
   ;
   NULL, ReponPatrones;
|FIN;

|PROCESO CargaPatron;
   aAlfa = "    NSe va a proceder a la carga desde ficheros patrones. " + &191 + " Continuar ? ";
   |CONFI aAlfa;
   |SI FSalida = 0;
      |DDEF aAlfa; |QBF aAlfa; aAlfa = aAlfa + "dsm210tr.mas";
      |CARGA_DEF aAlfa, Referen@;
      |SI FSalida = 0;
         |DBASE aAlfa; |QBF aAlfa;
         aAlfa = aAlfa + "patrones/";
         |PATH_DAT #Referen@#aAlfa#; |ABRE #Referen@;
         |CIERRAT #dsm210tr; |DELINDEX #dsm210tr; |ABRET #dsm210tr;
         |BUCLE ReponPatrones;
         |CIERRA #Referen@; |DESCARGA_DEF #Referen@;
         |LEE 000#dsm210tr.p; |PINDA #0#0;
         |MENAV "    Fichero patron recargado";
      |FINSI;
   |FINSI;
|FPRC;

|PROCESO Tipo13; |TIPO 13;
   |SI nBotonCarga < 0;
      |PINPA #0#0; nPant = FSalida;
      |CONTROL_SIMPLE nPant, "BOTON,{{197}}Carga patrones", 1558, 1578, CargaPatron;
      nBotonCarga = FSalida;
   |FINSI;
|FPRC;

|PROCESO Tipo9; |TIPO 9;
   |SI nBotonCarga ] 0; |FIN_CONTROL_WINDOWS nBotonCarga; |FINSI;
|FPRC;
