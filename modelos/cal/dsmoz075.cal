|FICHEROS;
   dsmoz075;
   dsmom006;
   dsmom005;

   dsmom066;
|FIN;

|VARIABLES;
     nModelo = 0;
     aBase   = "";
     aMas    = "";

     aCampo2 = "";
     aCampo3 = "";
     aCampo4 = "";

     nModo       = 0;
     aAlfa       = "";
     aAlfa1      = "";
     aLong       = "";
     nLong       = 0;
     nError      = 0;
     aCifDom     = "";
     aNumero     = "";
     nDominante  = 0;
     aNum322     = "";
     aTip322     = "";
     nExis322    = 0;
     nOpera      = 0;
     nInkey      = 0;
|FIN;

|INCLUYE i_variar;

|PROCESO ModeloTipo0;  |TIPO 0;
|FPRC;

|PROCESO TrasNGrupo; |TIPO 0;
     nInkey = FSalida;

     aNumero    = "";
     nError     = 0;
     nDominante = 0;

     aAlfa = #dsmoz075#3;
     |QBF aAlfa;
     |SI aAlfa = "";
         |MENAV "0000Introduzca Numero de Grupo";
         |ERROR;
         |ACABA;
     |FINSI;

     nModo = 0;
     |SI nInkey = 10;  nModo = 4;  |FINSI;

     |ABRE #dsmom066;
     #dsmom066#0 = #dsmoz075#3;
     |LEE 041#dsmom066.=;
     |SI FSalida ! 0;
         |CONFI "0000SNo existe el Grupo de Empresas. Desea darlo de Alta";
         |SI FSalida = 0;
             nModo = 1;
         |SINO;
             |ERROR;
         |FINSI;
     |FINSI;
     |CIERRA #dsmom066;
     |SI nModo ! 0;
         aAlfa = #dsmoz075#3 + nModo;
         aAlfa = "dsmom066;" + aAlfa;
         |SUB_EJECUTA_NP aAlfa;
     |FINSI;
|FPRC;

|| /////////////////////////////////////////////////////////////////////////

|PROCESO Grabam006;

     |DDEFECTO #dsmom006;
     #dsmom006#0 = enEmpresa;
     #dsmom006#1 = enModelo;
     |LEE 141#dsmom006.=;
     |SI FSalida ! 0;
         |DDEFECTO #dsmom006;
         #dsmom006#0  = enEmpresa;
         #dsmom006#1  = enModelo;
         #dsmom006#2  = #dsmom005#1;
         #dsmom006#3  = #dsmom005#2;
         #dsmom006#4  = #dsmom005#3;
         #dsmom006#6  = #dsmom005#5;
         #dsmom006#7  = #dsmom005#6;
         #dsmom006#8  = #dsmom005#7;
         #dsmom006#9  = #dsmom005#8;
         #dsmom006#12 = #dsmom005#11;
         |GRABA 020#dsmom006.b;
     |FINSI;
     #dsmom006#14 = aCampo2;
     #dsmom006#15 = aCampo3;
     #dsmom006#16 = aCampo4;
     |GRABA 020#dsmom006.a;
     |LIBERA #dsmom006;
|FPRC;

|PROGRAMA;

     |DDEFECTO #dsmom005;
     |ABRE #dsmom005;
     #dsmom005#0 = enModelo;
     |LEE 040#dsmom005.=;
     |CIERRA #dsmom005;

     |ABRE #dsmom006;
     |DDEFECTO #dsmom006;
     #dsmom006#0 = enEmpresa;
     #dsmom006#1 = enModelo;
     |LEE 041#dsmom006.=;
     |SI FSalida = 0;
         aCampo2 = "";
         aCampo3 = #dsmom006#15;
         aCampo4 = "";
     |FINSI;

     #dsmoz075#0 = enEmpresa;
     #dsmoz075#1 = enModelo;
     #dsmoz075#2 = aCampo2;
     #dsmoz075#3 = aCampo3;

     |PINPA #0#dsmoz075;
     |HAZ ModeloTipo0;

     |PINDA #0#dsmoz075;
     |ENDATOS #1#dsmoz075;
     |SI FSalida = 0;
         aCampo2 = #dsmoz075#2;
         aCampo3 = #dsmoz075#3;
         |HAZ Grabam006;
     |FINSI;
|FPRO;
