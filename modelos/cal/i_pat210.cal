|FICHEROS;
     imagen0@;
|FIN;

|VARIABLES;
     nSwtr               = 0;
     nSwt1               = 0;
     nSwdv               = 0;
     nNume               = 0;
     nEjAnt              = 0;

     aBase               = "";
     aDef                = "";

     &eaExtension        = "";
     &eaPrograma         = "";
     &eSwPaisCCE         = 0;
     &eaPaisCCE          = "";
|FIN;

|PROCESO LeoImagen0;
     #dsm210tr#6 = nNume;
     #dsm210tr#0 = #imagen0@#0;
     #dsm210tr#1 = #imagen0@#1;
     #dsm210tr#2 = #imagen0@#2;
     #dsm210tr#3 = #imagen0@#3;
     #dsm210tr#4 = #imagen0@#4;
     #dsm210tr#5 = #imagen0@#5;
     #dsm210tr#7 = #imagen0@#7;
     |GRABA 041#dsm210tr.n;
|FPRC;

|DEFBUCLE LeoImagen0;
     #imagen0@#1002;
     ;
     nEjAnt, 00;
     nEjAnt, 99;
     e;
     NULL, LeoImagen0;
|FIN;

|PROCESO Patron210;
     nSwtr = 0;
     nSwt1 = 0;
     nSwdv = 0;

     |ABRE #dsm210dv;
     |LEE 041#dsm210dv.p;
     |SI FSalida ! 0;
         nSwdv = 1;
     |FINSI;
     |CIERRA #dsm210dv;

     |ABRE #dsm210t1;
     #dsm210t1#0 = 2015;
     #dsm210t1#1 = 2015;
     |LEE 041#dsm210t1.=;
     |SI FSalida ! 0;
         nSwt1 = 1;
     |FINSI;
     |CIERRA #dsm210t1;

     |ABRE #dsm210tr;
     #dsm210tr#6 = 2019;
     #dsm210tr#0 = 38;
     |LEE 041#dsm210tr.=;
     |SI FSalida ! 0;
         nSwtr = 1;
     |FINSI;
     |CIERRA #dsm210tr;

     |SI nSwdv = 1;
         eaPrograma = "dsm210dv";
         eaExtension = "mod";
         |SUB_EJECUTA_NP ":basica/dspatron";
     |FINSI;

     |SI nSwt1 = 1;
         eaPrograma = "dsm210t1";
         eaExtension = "mod";
         |SUB_EJECUTA_NP ":basica/dspatron";
     |FINSI;

     |SI nSwtr = 1;
         eaPrograma = "dsm210tr";
         eaExtension = "mod";
         |SUB_EJECUTA_NP ":basica/dspatron";
     |FINSI;

     nSwtr = 0;
     |ABRE #dsm210tr;
     fFecha = ~;
     aAlfa = fFecha; |QBF aAlfa;
     aAlfa = aAlfa % -104;
     nNume = aAlfa;
     #dsm210tr#6 = nNume;
     #dsm210tr#0 = 01;
     |LEE 041#dsm210tr.];
     |SI FSalida ! 0; |O #dsm210tr#6 ! nNume;
         nSwtr = 1;
     |FINSI;
     |CIERRA #dsm210tr;
     |SI nSwtr = 1;
         |DBASE aBase;
         aDef = aBase + "def/dsm210tr.mas";
         |CARGA_DEF aDef, imagen0@;
         |SI FSalida ! 0; |ACABA; |FINSI;
         nEjAnt = nNume - 1;
         |ABRE #dsm210tr;
         |BUCLE LeoImagen0;
         |CIERRA #dsm210tr;
         |DESCARGA_DEF #imagen0@;
     |FINSI;
|FPRC;

|PROCESO PaisCCE_210;
     eSwPaisCCE = 0;
     eaPaisCCE  = eaPaisCCE > " ";
     eaPaisCCE  = (eaPaisCCE + "   ") % 103;

     |SI eaPaisCCE = "DE ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "AT ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "BE ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "BG ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "CY ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "DK ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "SI ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "EE ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "FI ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "FR ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "EL ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "GB ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "NL ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "HU ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "IT ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "IE ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "LV ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "LT ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "LU ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "MT ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "PL ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "PT ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "CZ ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "SK ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "RO ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "SE ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "GR ";  eSwPaisCCE = 1;  |FINSI;
     |SI eaPaisCCE = "HR ";  eSwPaisCCE = 1;  |FINSI;
     |SI nEj210tr ] 2016;
         |SI eaPaisCCE = "IS ";  eSwPaisCCE = 1;  |FINSI;
         |SI eaPaisCCE = "NO ";  eSwPaisCCE = 1;  |FINSI;
     |FINSI;
|FPRC;
