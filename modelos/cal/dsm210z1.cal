|FICHEROS;
   dsm210tr #0;

   dsm210z1 #10;
   referen@ #100;

   dsm210t1;
   dsm210dv;
|FIN;

|VARIABLES;
   eEsteAny = 0;

   aAlfa       = "";
   aAlfa1      = "";
   fFecha      = @;
   nCampo      = 0;
   nEjer       = 0;
   nDEjer      = 0;
   nHEjer      = 0;
   nSal        = 0;
   nInkey      = 0;

   nPant  = 0;
   nRango = 0;
   nPos1  = 0;
   nPos2  = 0;
   &nEj210tr = 0;
   &nTg210tr = 0;
   &nTr210tr = 0;
|FIN;

|INCLUYE i_pat210;

|PROCESO Copio;
   |DDEFECTO #0;
   |PARA nCampo = 0; |SI nCampo [ 7; |HACIENDO nCampo = nCampo + 1;
         #0nCampo = #100nCampo;
   |SIGUE;
   #0#6 = nHEjer;
   |SI #0#6 = 2016; |Y #0#5 = 20;
       #0#5 = #0#5 - 1;
   |FINSI;
   |GRABA 020#0n;
|FPRC;

|DEFBUCLE Copio;
   #100#1002;
   ;
   nDEjer, 01;
   nDEjer, 99;
   e;
   NULL, Copio;
|FIN;

|PROCESO BorroPri;
   |BORRA 020#0a;
   |LIBERA #0;
|FPRC;

|DEFBUCLE BorroPri;
   #0#1;
   ;
   nHEjer, 01;
   nHEjer, 99;
   e;
   NULL, BorroPri;
|FIN;

|PROCESO Copiar;

      nDEjer = #10#0 - 1;
      nHEjer = #10#0;

      |DDEF aAlfa; |QBF aAlfa;
      aAlfa = aAlfa + "dsm210tr.mas";
      |CARGA_DEF aAlfa, referen@;
      |SI FSalida = 0;
          |BUCLE BorroPri;

          |ABRE #0
          |BUCLE Copio;
          |CIERRA #0;
      |FINSI;
|FPRC;

|PROCESO mintr;
  #0#6 = #10#0;
  #0#0 = 01;
|FPRC;

|PROCESO maxtr;
  #0#6 = #10#0;
  #0#0 = 99;
|FPRC;

|PROCESO Tipo7;  |TIPO 7;
||  |ENTLINEAL #1#0, -2, 7, 20, 0, mintr, maxtr;
|FPRC;

|PROCESO Tipo0;  |TIPO 0;
  nInkey = FSalida;

  |SI nInkey = 10;
      |HAZ Copiar;
  |FINSI;
|FPRC;

/*
|PROCESO Tipo3;  |TIPO 12;
  |SI FSalida = 1; |O FSalida = 7;
      nSal = 1;
  |SINO;
     |ENTLINEAL #1#0, -2, 2, 20, 0, mintr, maxtr;
     nSal = 0;
  |FINSI;
|FPRC;
*/


|PROCESO EvtoGrid1;
   |SI FSalida = 1; |O FSalida = 2;
       |LEE 000#dsm210tr.c;
   |FINSI;
|FPRC;

|PROCESO Tipo3;  |TIPO 12;

   |SI FSalida = 1; |O FSalida = 7;
       nSal = 1;
       |ACABA;
   |FINSI;

   |ABRE #dsm210tr;

   nRango = 1 + 2 + 4 + 8 + 16 + 128;
   nPos1 = 1002;
   nPos2 = 2278;
   |LINEAL_SIMPLE #1#0, nRango, nPos1, nPos2, mintr, maxtr, EvtoGrid1;

   |CIERRA #dsm210tr;
|FPRC;


|PROGRAMA;
       fFecha = ~;
       aAlfa  = fFecha;
       aAlfa  = aAlfa % -104;
       eEsteAny = aAlfa;

       |HAZ Patron210;

       |ABRE #0;
       #0#6 = eEsteAny;
       #0#0 = 01;
       |LEE 041#0];
       |SI FSalida ! 0;
           |LEE 041#0u;
       |FINSI;
       eEsteAny = #0#6;
       |CIERRA #0;

       |CABEZA "MODELO 210: Tipos de Renta";

       #10#0 = eEsteAny;
       |PINPA #0#10; nPant = FSalida;
       |PINDA #0#10;

       nSal = 0;
       |PARA; |SI nSal = 0; |HACIENDO;
              |ENDATOS #1#10;
       |SIGUE;
|FPRO;
