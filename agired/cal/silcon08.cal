|FICHEROS;
    silcon08 #0;
    silcon06 #1;    || empresas SILCON
    silcon07 #2;    || registro lotes
    tsilcon3 #3,MANTE;   || tmp. comprobacion
|FIN;

|VARIABLES;
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    para1 = 0;
    para2 = 0;
    para3 = 0;
    para4 = 0;
    fech1 = @;
    fech2 = @;
    fech3 = @;
    fech4 = @;
    elsw1 = 0;
    elsw2 = 0;
    elsw3 = 0;
    elsw4 = 0;
    FEstado = 0;
    seleccio = 0;
    modo = 0;
    sw_rup = 0;

    linea = 0;
|FIN;
____________________________________/ CARGA TEMPORAL
|PROCESO pendientes1;
    #1#0 = #2#0;
|LEE 000#1=;
|SI FSalida = 0;
    |DDEFECTO #3;
        #3#0 = linea;         || guia
        #3#1 = #2#0;          || empresa
        #3#2 = #2#1;          || nro.lote
        #3#3 = #2#2;          || modo
        #3#4 = #2#3;          || a¤o
        #3#5 = #2#4;          || mes
        #3#6 = #2#5;          || fecha envio
        #3#7 = #2#6;          || fecha comprobacion
        #3#8 = #2#7;          || tipo de lote
    |GRABA 020#3n;
    |SI FSalida = 0;
            linea = linea + 1;
    |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE pendientes;
 #2#1;
 6;
     1,     1, " ", fech1;
 99999, 99999, "z", fech1;
 ;
 NULL, pendientes1;
|FIN;

|PROCESO carga_temporal;
|ATRI P;
|MENSA "    Buscando Registros Pendientes ...";
|ATRI 0;

    alfa1 = Usuario;     |QBF alfa1;    alfa1 = alfa1 % 108;
|NOME_DAT #3 alfa1;
|DELINDEX #3;
|DDEFECTO #3;
|ABRE #1;
|ABRE #3;
    fech1 = "01.01.1900";
    linea = 1;
|BUCLE pendientes;
|SI linea = 1;
    |MENAV "    No hay registros para comprobar ...";
|FINSI;
|CIERRA #1;
|CIERRA #3;

|BLIN 4;
|FPRC;
____________________________________/ GESTIONA TEMPORAL
|PROCESO min;
    #3#0 = 1;
|FPRC;

|PROCESO max;
    #3#0 = linea - 1;
|FPRC;

|PROGRAMA;
|CLS;
|CABEZA "Comprobar Envios";
|PINPA #0#0;
|HAZ carga_temporal;
|SI linea ! 1;
    |ABRE #2;
    |ENTLINEAL #1#3, 1, 3, 22, 0, min, max;
    |CIERRA #2;
    |DELINDEX #3;
|FINSI;
|FPRO;
____________________________________/ GESTIONA CAMPOS TEMPORAL
|PROCESO tipo11; |TIPO 11;
|HAZ actualiza;
|GRABA 020#3a;
|FPRC;

|PROCESO actualiza; |TIPO 0;
|SI FSalida = 9;
        #3#7 = ~;
    |PINTA #3#7;
|FINSI;

    #2#0 = #3#1;    || empresa
    #2#1 = #3#2;    || nro.lote
    #2#2 = #3#3;    || tipo
|LEE 101#2=;
|SI FSalida = 0;
        #2#6 = #3#7;
    |GRABA 020#2a;
|SINO;
    |MENAV "    Registros manipulados ejecutando comprobacion ...";
|FINSI;
|LIBERA #2;
|FPRC;
