|FICHEROS;
    labtraba #39;
    nombusca #40;
|FIN;

|VARIABLES;
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    fech1 = @;
    fech2 = @;
    fech3 = @;
    fech4 = @;
    FEstado = 0;
    &bus_emp = 0;
    &bus_tra = 0;
    &bus_cla = 0;
    &bus_imp = "";
    dbus_emp = 0;
    hbus_emp = 0;
    dbus_imp = "";
    hbus_imp = "";
    bus_reg = 0;
|FIN;

|INCLUYE i_tempo;

|PROCESO busqueda2;
|DDEFECTO #40;
    #40#1 = #39#0;       || empresa
    #40#2 = #39#1;       || trabajador
    #40#3 = #39#2;       || nombre
    #40#4 = #39#7;       || dni
    #40#5 = #39#44;      || situacion
    #40#6 = #39#42;      || clave dias salario
    #40#7 = #39#45;      || tipo contrato
    #40#10 = #39#77;     || centro
    #40#11 = #39#247;    || regimen
|GRABA 020#40n;
|FPRC;

|DEFBUCLE codigo;
 #39#1;
 44;
 dbus_emp,     1, dbus_imp;
 hbus_emp, 99999, hbus_imp;
 ;
 NULL, busqueda2;
|FIN;

|PROGRAMA;
|HAZ aviso1;
|HAZ nom_usu;
    alfa1 = nom_tmp;
|NOME_DAT #40 alfa1;
|DELINDEX #40;
    bus_reg = 0;
|ABRE #39;
|ABRE #40;
|SI bus_cla = 1;  alfa1 = " Por Codigo  ";  |FINSI;
|SI bus_cla = 2;  alfa1 = " Por Nombre  ";  |FINSI;
|SI bus_cla = 3;  alfa1 = " Por NIF/DNI ";  |FINSI;
|SI bus_emp = 0;
        dbus_emp = 1;
        hbus_emp = 99999;
|SINO;
        dbus_emp = bus_emp;
        hbus_emp = bus_emp;
|FINSI;
dbus_imp = "A";
|SI bus_imp = "S";            || listar trabajadores en baja S/N
        hbus_imp = "B";
|SINO;
        hbus_imp = "A";
|FINSI;
|BUCLE codigo;
|CIERRA #40;
|HAZ aviso9;
|PINPA #0#40;
|ATRI R;  |PINTA 0951, alfa1;   |ATRI 0;
|SI bus_cla = 1;  |ENTLINEAL #1#40, 1, 4, 19, 0, bus_min, bus_max;  |FINSI;
|SI bus_cla = 2;  |ENTLINEAL #2#40, 1, 4, 19, 0, bus_min, bus_max;  |FINSI;
|SI bus_cla = 3;  |ENTLINEAL #3#40, 1, 4, 19, 0, bus_min, bus_max;  |FINSI;
|DELINDEX #40;
|CIERRA #39;
|FPRO;

|PROCESO bus_min;
    #40#1 = dbus_emp;
    #40#2 = 1;
    #40#3 = "                                        ";
    #40#4 = "            ";
|FPRC;

|PROCESO bus_max;
    #40#1 = hbus_emp;
    #40#2 = 99999;
    || #40#3 = "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz";
    #40#3 = "본본본본본본본본본본본본본본본본본본본본";
    #40#4 = "zzzzzzzzzzzz";
|FPRC;

|PROCESO bus_elige; |TIPO 0;
    bus_emp = #40#1;
    bus_tra = #40#2;
|ATRI P;
|PINTA 0969, #40#2;
|ATRI 0;
|FPRC;

|PROCESO aviso1;
|PUSHV 09301146;
|ATRI R;
|CUADRO 09 30 11 46;
|ATRI 0;
||            123456789012345
|ATRI P;
|PINTA 1031, " Agrupando ... ";
|ATRI 0;
|FPRC;

|PROCESO aviso9;
|POPV;
|FPRC;

|PROCESO pinta_fechas; |TIPO 7;
     #39#0 = #40#1;
     #39#1 = #40#2;
     |LEE 000#39=;
     #40#8 = #39#36;
     #40#9 = #39#37;
     |PINTA #40#8;
     |PINTA #40#9;
|FPRC;
