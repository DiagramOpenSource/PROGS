|FICHEROS;
     nominf04 #0;
     labtraba;
     nomir003;
|FIN;

|VARIABLES;
     aAlfa = "";
     nAfectados = 0;
|FIN;

|PROCESO comprueba;
     |SI #labtraba#111 ! #nomir003#5;
          |PRINT;
          nAfectados = nAfectados + 1;
     |SINO;
          |SI #labtraba#111 = 2; |Y #labtraba#130 ! #nomir003#121;
               |PRINT;
               nAfectados = nAfectados + 1;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO nomir003;
     #nomir003#0 = #labtraba#7;
     #nomir003#40 = #0#4;
     #nomir003#41 = #labtraba#0;
     |LEE 000#nomir003.=;
     |SI FSalida = 0;
          |HAZ comprueba;
     |SINO;
          #nomir003#40 = #0#4 - 1;
          |LEE 000#nomir003.=;
          |SI FSalida = 0;
               |HAZ comprueba;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE labtraba;
     #labtraba#8;
     ;
     "A", #0#0, #0#2;
     "A", #0#1, #0#3;
     ;
     NULL, nomir003;
|FIN;

|PROGRAMA;
     |CLS;
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |SI FSalida = 0;
          |IMPRE 0;
          |INFOR "nominf04";

          |ABRE #nomir003;
          |BUCLE labtraba;
          |CIERRA #nomir003;

          |SI nAfectados = 0;
               aAlfa = "    No se encontraron trabajadores afectados";
          |SINO;
               |SI nAfectados = 1;
                    aAlfa = "    Se encontró 1 trabajador afectado";
               |SINO;
                    aAlfa = nAfectados;
                    aAlfa = "    Se encontraron " + aAlfa + " trabajadores afectados";
               |FINSI;
          |FINSI;
          |MENAV aAlfa;
          |PIEINF;
          |FININF;
          |FINIMP;
     |FINSI;
|FPRO;
