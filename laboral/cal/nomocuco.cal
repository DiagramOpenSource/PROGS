|FICHEROS;
     nomocuco #0;
     nomocuma #1;
     nomtmpfe #500;
|FIN;

|VARIABLES;
     aAlfa = "";
     nModo = 0;
     nPos1 = 0;
     nPos2 = 0;
|FIN;

|PROCESO nomocuma;
     #500#0 = #nomocuma#6;
     |LEE 101#500=;
     |SI FSalida ! 0;
          #500#0 = #nomocuma#6;
          |GRABA 020#500n;
          |LIBERA #500;
     |FINSI;
|FPRC;

|DEFBUCLE nomocuma;
     #nomocuma#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, nomocuma;
|FIN;

|PROCESO lee_fechas; |TIPO 66;
          aAlfa = Usuario; |QBT aAlfa;    aAlfa = ("f" + aAlfa) % 108;
          |NOME_DAT #500 aAlfa;
          |ABRE #500;
          |CIERRA #500;
          |DELINDEX #500;

          |ABRE #500;
          |BUCLE nomocuma;

          nModo = 2 + 4 + 8 + 16;
          nPos1 = 0860; nPos2 = 1480;
          |LINEAL_SIMPLE #1#500, nModo, nPos1, nPos2, NULL, NULL, NULL;
          |SI FSalida = 0;
               #nomocuco#0 = #500#0;
               |PINTA #nomocuco#0;
          |FINSI;

          |CIERRA #500;
          |ERROR;
          |ACABA;
|FPRC;


|PROCESO superior;
     #nomocuma#6 = #nomocuco#0;
     #nomocuma#0 = "z";
|FPRC;

|PROCESO inferior;
     #nomocuma#6 = #nomocuco#0;
     #nomocuma#0 = " ";
|FPRC;

|PROGRAMA;
     |CLS;
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |SI FSalida = 0;
          |ENTLINEAL #1#nomocuma, 1, 2, 22, 0, inferior, superior;
     |FINSI;
|FPRO;
