|INCLUYE i_fiche;
|INCLUYE i_varia;

|VARIABLES;
     &xhoraj="";
     &xhorat="";
|FIN;


|PROCESO siesnoes; |TIPO 0;               || REALIZA LOS <TACHESE LO QUE
|SI #0#50 = AS; |O #0#50 = As;            || NO PROCEDA>CONTRATOS 06,26,36,99
    si4 = Asi;
|FINSI;
|SI #0#50 = AN; |O #0#50 = An;
    si4 = Ano;
|FINSI;
|FPRC;

|PROCESO menos_bisi;
    fecalf=fech1;  |HAZ desglosa_06;  nume1=wany;    nume5 = wmes;
    fecalf=fech2;  |HAZ desglosa_06;  nume2=wany;    nume6 = wmes;
    nume5 = 0;
|PARA nume4 = nume2;|SI nume4 [ nume1; |HACIENDO nume4 = nume4 + 1;
        nume3 = nume4 $ 4;
    |SI nume2 = nume4; |Y nume5 > 2;  nume3 = 1;          |FINSI;
    |SI nume1 = nume4; |Y nume6 [ 2;  nume3 = 1;          |FINSI;
    |SI nume3 = 0;                    nume5 = nume5 + 1;  |FINSI;
|SIGUE;
    nume0 = fech1 - fech2;
    nume0 = nume0 - nume5; || menos dias bisiestos + ambos inclusive
|FPRC;

|PROCESO fin_estudios; |TIPO 0;
|SI #0#41!vblanco;|Y #0#41!vpuntos;|Y FSalida!2;
    |SI #2#13!vblanco;|Y #2#13!vpuntos;
            fech3 = #2#13;  nume1 = fech3;     || fin estudios
            fech3 = #2#15;  nume2 = fech3;     || inicio mili
            fech3 = #2#16;  nume3 = fech3;     || fin mili
        |SI #2#14 = "S";
                nume1 = nume1 + (nume3 - nume2);      || fin estudios sin mili
        |FINSI;
            fech1 = #0#41;             || inicio contrato
            fech2 = nume1;             || fin estudios
        |HAZ menos_bisi;               || le resta los bisiestos
        |SI nume0 > 1460;
            |MENAV "    ATENCION!!! Han pasado 4 a¤os desde la fecha fin de estudios ...";
            |ERROR;
        |FINSI;
    |SINO;
        |MENAV "    ATENCION!!! Falta informar la fecha fin de estudios ...";
        |ERROR;
    |FINSI;
|FINSI;
|FPRC;

|PROCESO desglosa_06;    || DESGLOSA EN DIA, MES Y ANYO UNA FECHA DD.MM.AAAA
    salfa1 = fecalf %  102;   wdia = salfa1;
    salfa1 = fecalf %  402;   wmes = salfa1;
    salfa1 = fecalf % -104;   wany = salfa1;
|SI salfa1 = "....";
        wdia = 0;
        wmes = 0;
        wany = 0;
|FINSI;
|FPRC;


|PROCESO jornada; |TIPO 0;         || CONTRATOS 64, 14, 24, 03, 23
|SI #0#0 = "64";    |ACABA;   |FINSI;

    jorna = ((#0#32*100)/#0#34) ! 0;
|HAZ JornadaMax;
|FPRC;

|PROCESO JornadaMax; |TIPO 0;
|SI Campo ! 63;
        #0#63 = jorna;  |PINTA #0#63;
|SINO;
        jorna = #0#63;
|FINSI;
|SI jorna > 77;
    |MENAV "    Jornada maxima excedida (77%) ...";
|FINSI;
|FPRC;


|PROCESO tipoht; |TIPO 0;
|SI #0#31 = "D";  xhorat = "DIARIAS  "; |FINSI;
|SI #0#31 = "S";  xhorat = "SEMANALES"; |FINSI;
|SI #0#31 = "M";  xhorat = "MENSUALES"; |FINSI;
|SI #0#31 = "A";  xhorat = "ANUALES  "; |FINSI;
|FPRC;



|PROCESO tipohj; |TIPO 0;
|SI #0#33 = "D";  xhoraj = "DIARIAS  "; |FINSI;
|SI #0#33 = "S";  xhoraj = "SEMANALES"; |FINSI;
|SI #0#33 = "M";  xhoraj = "MENSUALES"; |FINSI;
|SI #0#33 = "A";  xhoraj = "ANUALES  "; |FINSI;
|FPRC;
