|FICHEROS;

|FIN;

|VARIABLES;
     || variables globales de salida

     &nDiaFinMes_go = 0;
     &fFecIniMes_go = @;
     &fFecFinMes_go = @;

     || variables globales de entrada

     &nMes_gi = 0;
     &nAny_gi = 0;

     || variables de trabajo

     aFecha = "";
     fFecha = @;
     aDia = ""; aMes = ""; aAny = "";
     nDia = 0; nMes = 0; nAny = 0;
     nNume = ;
|FIN;

|PROCESO FechasMes;
     nMes = nMes_gi;
     nAny = nAny_gi;

     nDia = 31;
     |SI nMes = 4; |O nMes = 6; |O nMes = 9; |O nMes = 11;
          nDia = 30;
     |FINSI;
     |SI nMes = 2;
          nNume = nAny $ 4;
          |SI nNume = 0;
               nDia = 29;
          |SINO;
               nDia = 28;
          |FINSI;
     |FINSI;

     nDiaFinMes_go = nDia;

     aDia = "01";
     aMes = nMes; |QBF aMes; aMes = ("00" + aMes) % -102;
     aAny = nAny;
     aFecha = aDia + "." + aMes + "." + aAny;
     fFecIniMes_go = aFecha;

     aDia = nDia; |QBF aDia; aDia = ("00" + aDia) % -102;
     aMes = nMes; |QBF aMes; aMes = ("00" + aMes) % -102;
     aAny = nAny;
     aFecha = aDia + "." + aMes + "." + aAny;
     fFecFinMes_go = aFecha;
|FPRC;

|PROCESO CargaVar_glo;
     |HAZ FechasMes;
|FPRC;
