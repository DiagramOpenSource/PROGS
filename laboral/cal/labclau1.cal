|FICHEROS;
     labclau1;
     labclaus;
     labempre;
     labcentr;
|FIN;

|VARIABLES;
     nClauCop = 0;
     nCampo = 0;
|FIN;

|PROCESO Tipo80; |TIPO 80;
     |CAMPO_ANCHO #labempre#2, 1, 35;
     |CAMPO_ANCHO #labcentr#2, 1, 37;
|FPRC;

|PROCESO CopiaGeneral;
     |ABRE #labclaus;
     #labclaus#1 = #labclau1#1;
     |LEE 000#labclaus.=;
     |SI FSalida = 0;
          #labclau1#2 = #labclaus#2;
          |PINTA #labclau1#2;
     |FINSI;
     |CIERRA #labclaus;
|FPRC;

|PROCESO CompCentro;
     |ABRE #labcentr;
     #labcentr#0 = #labclau1#21;
     #labcentr#1 = #labclau1#22;
     |LEE 000#labcentr.=;
     |SI FSalida ! 0; |Y #labclau1#22 ! 000;
          |MENAV "    El centro no está definido para esta empresa";
          |ERROR;
     |FINSI;
     |CIERRA #labcentr;

     |SI #labclau1#22 = 000;
          #labcentr#2 = "TODOS LOS CENTROS";
          |PINTA 1030, #labcentr#2;
     |FINSI;
|FPRC;

|PROCESO CopiaClausula;
     |SI FSalida = 13;
          |PUSHV 07241956;
          |BLANCO 07241056;
          |ATRI R;
                     ||      3         4         5
                     || 5678901234567890123456789012345
          |PINTA 0825, " Copiar desde cl usula general ";
          |ATRI 0;
          |PINTA 0925, " C¢digo de cl usula ...:       ";
          nClauCop = #labclau1#1;
          E_sup = 9999; E_inf = "0000";
          |MENSA "    Pulse < F11 > para consultar las cláusulas generales disponibles";
          nClauCop = 0950 ? 0;
          |POPV;

          |SI FSalida = 6;
               |ABRE #labclaus;
               |CONSULTA_CLAVE #1#labclaus;
               |SI FSalida = 0;
                    nClauCop = #labclaus#1;
               |FINSI;
               |CIERRA #labclaus;
          |FINSI;

          |ABRE #labclaus;
          #labclaus#1 = nClauCop;
          |LEE 000#labclaus.=;
          |SI FSalida = 0;
               |PARA nCampo = 3; |SI nCampo [ 20; |HACIENDO nCampo = nCampo + 1;
                    #labclau1#nCampo# = #labclaus#nCampo#;
                    |PINTA #labclau1#nCampo#;
               |SIGUE;
          |SINO;
               |MENAV "    Cláusula no encontrada";
          |FINSI;
          |CIERRA #labclaus;

          |PTEC 808;
     |FINSI;
|FPRC;
