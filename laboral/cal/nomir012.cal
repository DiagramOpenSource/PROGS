|FICHEROS;
     nomir012 #0;
|FIN;

|VARIABLES;
     nCampo = 0;
     nCampo1 = 0;
     nNume = 0;
     nPos = 0;
     nLimite = 0;
     nMes = 0;
     aMes = "";
     &nEmp = 0;
     &nTra = 0;
     &nElAnyIRPF = 0;
     &nElMesIRPF = 0;
     aPassword = "";
     aAlfa = "";
     fFecha = @;
|FIN;

|PROCESO Defecto12; |TIPO 7;
     fFecha = ~;
     aAlfa = fFecha;
     aAlfa = aAlfa % -104;
     nNume = aAlfa;
     #0#3 = nNume;
     |PINTA #0#3;

     aAlfa = fFecha;
     aAlfa = aAlfa % 402;
     nNume = aAlfa;
     #0#4 = nNume;
     |PINTA #0#4;
|FPRC;

|PROCESO Mes;
     |SI nMes =  1; aMes = "Enero ....:"; |FINSI;
     |SI nMes =  2; aMes = "Febrero ..:"; |FINSI;
     |SI nMes =  3; aMes = "Marzo ....:"; |FINSI;
     |SI nMes =  4; aMes = "Abril ....:"; |FINSI;
     |SI nMes =  5; aMes = "Mayo .....:"; |FINSI;
     |SI nMes =  6; aMes = "Junio ....:"; |FINSI;
     |SI nMes =  7; aMes = "Julio ....:"; |FINSI;
     |SI nMes =  8; aMes = "Agosto ...:"; |FINSI;
     |SI nMes =  9; aMes = "Septiembre:"; |FINSI;
     |SI nMes = 10; aMes = "Octubre ..:"; |FINSI;
     |SI nMes = 11; aMes = "Noviembre.:"; |FINSI;
     |SI nMes = 12; aMes = "Diciembre.:"; |FINSI;
|FPRC;

|PROCESO Formato; |TIPO 13;
     || paso de momento

     |SI #0#0 = "            "; |Y #0#1 = 1; |Y #0#2 = 1; |Y #0#3 = 2008; |Y #0#4 = 1;
          |ACABA;
     |FINSI;
     nMes = #0#4;
     nLimite = nMes + 4;
     |PARA nCampo = 5; |SI nCampo [ nLimite; |HACIENDO nCampo = nCampo + 1;
          |PARA nNume = 0; |SI nNume [ 5; |HACIENDO nNume = nNume + 1;
               nCampo1 = nCampo + (nNume * 13);
               |SI nCampo = nLimite;
                    |CAMPO_ATRIBUTO #0nCampo1, N, 1, 7;
               |SINO;
                    |CAMPO_ATRIBUTO #0nCampo1, N, 0, 7;
               |FINSI;
               |PINTA #0nCampo1;
          |SIGUE;
     |SIGUE;
     |PARA nCampo = nLimite + 1; |SI nCampo [ 16; |HACIENDO nCampo = nCampo + 1;
          |PARA nNume = 0; |SI nNume [ 5; |HACIENDO nNume = nNume + 1;
               nCampo1 = nCampo + (nNume * 13);
               |CAMPO_ATRIBUTO #0nCampo1, N, 4, 7;
               |PINTA #0nCampo1;
          |SIGUE;
     |SIGUE;
|FPRC;

|PROCESO Tipo20; |TIPO 20;
     |SI FSalida = "OPCION";
          FSalida = "Imprimir";
     |SINO;
          nEmp = #0#1;
          nTra = #0#2;
          nElAnyIRPF = #0#3;
          nElMesIRPF = #0#4;
          |SUB_EJECUTA "nominf02;nomir012";
     |FINSI;
|FPRC;

|PROCESO Desbloquea;
     |SI FSalida = 14;
          |PUSHV 12181565;
          |BLANCO 12181565;
          |PINTA 1320, "Introduzca contrase¤a:";
          E_inf = "";
          E_sup = "20";
          aPassword = 1342 ? -1;
          |POPV;
          |SI aPassword = "<MYPASWD>     ";
          |O aPassword =  "<MYPASWD>               ";
               |MENAV "     Ahora los campos son modificables";

               |PARA nCampo = 0; |SI nCampo [ 107; |HACIENDO nCampo = nCampo + 1;
                    |CAMPO_MODIFICA #0nCampo, 1, "S";
               |SIGUE;
          |FINSI;
     |FINSI;
|FPRC;
