|FICHEROS;
|FIN

|VARIABLES;
     aRuta = "";
     aRutaDes = "";
     nCanal1 = 0;
     nCanal2 = 0;
     aLinea = "";
     aLineaDes = "";
     aAlfa = "";
     aBusco = "";
     aGuarda1 = "";
     aGuarda2 = "";
     aGuarda3 = "";
     aNombreCampo = "";
     aLineas = "";
     nLineas = 0;
     nContador = 0;
     aContador = "";
|FIN;

|PROCESO LeeOrigen;

     aRuta = "F";
     |BROWSE aRuta;
     |QBF aRuta;
     aRuta = aRuta - "F";

     E_sup = 8;
     E_inf = "";
     aRutaDes = 1036 ? 1;
     |QBF aRutaDes;
     aRutaDes = (aRuta % 107) + "\xml2\" + aRutaDes + ".xsd";

     |PINTA 1025, aRutaDes;
     |PINTA 1230, "                           ";
     nLineas = 0;
     nContador = 0;
     aAlfa = "";
     |XABRE "CW", aRutaDes, nCanal2;
     |XABRE "CU", aRuta, nCanal1;
     |SI FSalida ] 0;
          |XLEE nCanal1, 200, aLinea;
          |PARA; |SI FSalida > 0; |Y aAlfa ! "</xsd:schema>"; |HACIENDO;
               aAlfa = aLinea % 120;
               aBusco = "<xsd:element name=" + &34 + "C";
               |SI aAlfa = aBusco;
                    aGuarda1 = aLinea;
                    |XLEE nCanal1, 200, aLinea;
                    aGuarda2 = aLinea;
                    |XLEE nCanal1, 200, aLinea;
                    aGuarda3 = aLinea;

                    aContador = nContador;
                    aNombreCampo = aGuarda3 % 3499;
                    aNombreCampo = aNombreCampo - "</xsd:documentation>" + aContador;
                    |SI aNombreCampo = ".";
                         aNombreCampo = nLineas;
                         aNombreCampo = "BORRADO_" + aNombreCampo;
                    |FINSI;
                    aGuarda1 = "<xsd:element name" + "=" + &34 + aNombreCampo + &34 + ">";
                    nContador = nContador + 1;

                    |XGRABA nCanal2, aGuarda1;
                    |XGRABA nCanal2, aGuarda2;
                    |XGRABA nCanal2, aGuarda3;
                    nLineas = nLineas + 3;
               |SINO;
                    |XGRABA nCanal2, aLinea;
                    nLineas = nLineas + 1;
               |FINSI;
               aAlfa = aLinea % 113;
               |XLEE nCanal1, 200, aLinea;
               aLineas = nLineas;
               aLineas = "Lineas Creadas: " + aLineas;
               |PINTA 1230, aLineas;
          |SIGUE;
     |FINSI;
     |XCIERRA nCanal1;
     |XCIERRA nCanal2;
|FPRC;

|PROGRAMA;
     |CLS;
     |HAZ LeeOrigen;
/*
     aRuta = "C:\xml\_u_dsprofe2_laboral_def_labtraba.xsd";
     aRutaDes = "C:\xml\xml2\labtraba.xsd";
     |HAZ LeeOrigen;
     aRuta = "C:\xml\_u_dsprofe2_laboral_def_labempre.xsd";
     aRutaDes = "C:\xml\xml2\labempre.xsd";
     |HAZ LeeOrigen;
     aRuta = "C:\xml\_u_dsprofe2_laboral_def_labcentr.xsd";
     aRutaDes = "C:\xml\xml2\labcentr.xsd";
     |HAZ LeeOrigen;

     aRuta = "C:\xml\_u_dsprofe2_laboral_def_nomepigr.xsd";
     aRutaDes = "C:\xml\xml2\nomepigr.xsd";
     |HAZ LeeOrigen;
     aRuta = "C:\xml\_u_dsprofe2_laboral_def_nomantig.xsd";
     aRutaDes = "C:\xml\xml2\nomantig.xsd";
     |HAZ LeeOrigen;
     aRuta = "C:\xml\_u_dsprofe2_laboral_def_nombanco.xsd";
     aRutaDes = "C:\xml\xml2\nombanco.xsd";
     |HAZ LeeOrigen;
     aRuta = "C:\xml\_u_dsprofe2_laboral_def_nomcalca.xsd";
     aRutaDes = "C:\xml\xml2\nomcalca.xsd";
     |HAZ LeeOrigen;
     aRuta = "C:\xml\_u_dsprofe2_laboral_def_nomcatca.xsd";
     aRutaDes = "C:\xml\xml2\nomcatca.xsd";
     |HAZ LeeOrigen;
     aRuta = "C:\xml\_u_dsprofe2_laboral_def_nomconca.xsd";
     aRutaDes = "C:\xml\xml2\nomconca.xsd";
     |HAZ LeeOrigen;
     aRuta = "C:\xml\_u_dsprofe2_laboral_def_nomfical.xsd";
     aRutaDes = "C:\xml\xml2\nomfical.xsd";
     |HAZ LeeOrigen;
     aRuta = "C:\xml\_u_dsprofe2_laboral_def_nomhicca.xsd";
     aRutaDes = "C:\xml\xml2\nomhicca.xsd";
     |HAZ LeeOrigen;
     aRuta = "C:\xml\_u_dsprofe2_laboral_def_nomconca.xsd";
     aRutaDes = "C:\xml\xml2\nomconca.xsd";
     |HAZ LeeOrigen;
     aRuta = "C:\xml\_u_dsprofe2_laboral_def_nomvarca.xsd";
     aRutaDes = "C:\xml\xml2\nomvarca.xsd";
     |HAZ LeeOrigen;
*/

|FPRO;
