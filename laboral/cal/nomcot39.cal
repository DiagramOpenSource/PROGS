|FICHEROS;
     nomcot39 #0;

     nomcot01;
     nomcot02;
     nomcot03;
     nomcot04;

     labempre;
     labtraba;
     labcentr;
     nomcenes;
|FIN;

|VARIABLES;
     aNaf = "";
     nCampo = 0;
     aAlfa = "";
     aAlfa1 = "";
     aAlfa2 = "";
     aParam = "";
|FIN;

|PROCESO nomcot04;
     |BORRA 020#nomcot04.a;
     |LIBERA #nomcot04;
|FPRC;

|DEFBUCLE nomcot04;
     #nomcot04#1;
     ;
     #0#0, #0#2, #0#3, #0#4, "               ", aNaf, 01, 000;
     #0#0, #0#2, #0#3, #0#4, "zzzzzzzzzzzzzzz", aNaf, 31, 999;
     ;
     NULL, nomcot04;
|FIN;

|PROCESO nomcot03;
     |BORRA 020#nomcot03.a;
     |LIBERA #nomcot03;
|FPRC;

|DEFBUCLE nomcot03;
     #nomcot03#1;
     ;
     #0#0, #0#2, #0#3, #0#4, "               ", aNaf, 01, 000, 00001;
     #0#0, #0#2, #0#3, #0#4, "zzzzzzzzzzzzzzz", aNaf, 31, 999, 99999;
     ;
     NULL, nomcot03;
|FIN;

|PROCESO nomcot02;
     |BORRA 020#nomcot02.a;
     |LIBERA #nomcot02;
|FPRC;

|DEFBUCLE nomcot02;
     #nomcot02#1;
     ;
     #0#0, #0#2, #0#3, #0#4, "               ", aNaf, 01, 00001;
     #0#0, #0#2, #0#3, #0#4, "zzzzzzzzzzzzzzz", aNaf, 31, 99999;
     ;
     NULL, nomcot02;
|FIN;

|PROCESO nomcot01;
     |BORRA 020#nomcot01.a;
     |LIBERA #nomcot01;
|FPRC;

|DEFBUCLE nomcot01;
     #nomcot01#1;
     ;
     #0#0, #0#2, #0#3, #0#4, "               ", aNaf, 01;
     #0#0, #0#2, #0#3, #0#4, "zzzzzzzzzzzzzzz", aNaf, 31;
     ;
     NULL, nomcot01;
|FIN;

|PROCESO BuscaNaf;
     |ABRE #labtraba;
     #labtraba#0 = #0#0;
     #labtraba#1 = #0#1;
     |LEE 000#labtraba.=;
     |SI FSalida = 0;
          aNaf = #labtraba#75;
          |QBF aNaf;
          aAlfa1 = aNaf % 102;
          aAlfa2 = aNaf % 310;
          |QBF aAlfa2;
          aAlfa2 = ("0000000000" + aAlfa2) % -110;
          aNaf = aAlfa1 + aAlfa2;
     |FINSI;
     |CIERRA #labtraba;
|FPRC;

|PROGRAMA;
     |CLS;

     |PINPA #0#0;

     |ABRE #0;
     |DDEFECTO #0;
     |LEE 000#0p;
     |SI FSalida = 0;
          |BORRA 020#0a;
     |FINSI;

     |PINDA #0#0;

     |ENDATOS #1#0;
     |SI FSalida = 0;
          |ABRE #nomcot01;
          |ABRE #nomcot02;
          |ABRE #nomcot03;
          |ABRE #nomcot04;
          |ABRE #labtraba;

          |HAZ BuscaNaf;

          |BUCLE nomcot01;
          |BUCLE nomcot02;
          |BUCLE nomcot03;
          |BUCLE nomcot04;

          |CIERRA #labtraba;
          |CIERRA #nomcot04;
          |CIERRA #nomcot03;
          |CIERRA #nomcot02;
          |CIERRA #nomcot01;
     |FINSI;


     |GRABA 000#0n;
     |CIERRA #0;
|FPRO;
