|FICHEROS;
    labafiss #0;
    labempre #1;
    labtraba #2;
    labpadre #6;
|FIN;

|VARIABLES;
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    para1 = 0;
    para2 = 0;
    para3 = 0;
    para4 = 0;
    fech1 = @;
    fech2 = @;
    fech3 = @;
    fech4 = @;
    elsw1 = 0;
    elsw2 = 0;
    elsw3 = 0;
    elsw4 = 0;
    FEstado = 0;
    seleccio = 0;
    modo = 0;
    sw_rup = 0;
    ya_esta = 0;
    &fecha1 = "";
    &fecha2 = "";
    &fecha3 = "";
    &nacim1 = "";
    &nacim2 = "";
    &nacim3 = "";
    &nombre = "";
    &apell1 = "";
    &apell2 = "";
    &docum1 = "";
    &docum2 = "";
    &docum3 = "";
|FIN;
____________________________________/ CALCULOS DESDE CAMPOS
|PROCESO modelo; |TIPO 0;
|SI #0#9 = 1;  alfa1 = "N";   |FINSI;
|SI #0#9 = 2;  alfa1 = "S";   |FINSI;
|C_M #0#7, 1, alfa1;
|C_M #0#8, 1, alfa1;
|FPRC;
____________________________________/ CALCULOS DE LECTURA E IMPRESION
|PROGRAMA;
|CLS;
|CABEZA "Partes TA-1";
|DDEFECTO #0;
    ya_esta = 0;
|PARA; |SI ya_esta = 0; |HACIENDO;
    |PINPA #0#0;
    |PINDA #0#0;
    |ENDATOS #1#0;
    |SI FSalida = 0;
        |HAZ tipo3;
    |SINO;
            ya_esta = 1;
        |SI elsw1 ! 0;
            |FINIMP;
        |FINSI;
    |FINSI;
|SIGUE;
|FPRO;

|PROCESO tipo3;
|SI elsw1 = 0;
    |IMPRE 0;
    |SI FSalida ! 0;
        |MENAV "    Proceso abortado ...";
            elsw1 = 2;
    |SINO;
            elsw1 = 1;
    |FINSI;
|FINSI;

|SI elsw1 ! 2;
    |HAZ lee_empre;
    |HAZ lee_traba;
    |HAZ lee_padre;
    |HAZ chorradas;
    |PARA para1 = 1; |SI para1 [ 1; |HACIENDO para1 = para1 + 1;
        |SI #0#9 = 1;    |INFOR "labafiss";  |FINSI;
        |SI #0#9 = 2;    |INFOR "labafis2";  |FINSI;
        |PRINT;
        |PIEINF;
        |FININF;
    |SIGUE;
|FINSI;
|FPRC;

|PROCESO lee_empre;
|DDEFECTO #1;
|ABRE #1;
    #1#0 = #0#0;
|LEE 020#1=;
|CIERRA #1;
|FPRC;

|PROCESO lee_traba;
|DDEFECTO #2;
|ABRE #2;
    #2#0 = #0#0;
    #2#1 = #0#1;
|LEE 020#2=;
|CIERRA #2;
|FPRC;

|PROCESO lee_padre;
|DDEFECTO #6;
|ABRE #6;
    #6#0 = #0#0;
    #6#1 = #0#1;
|LEE 020#6=;
|CIERRA #6;
|FPRC;

|PROCESO chorradas;
    alfa1 = #2#11;
    nacim1 = alfa1 % 102;
    nacim2 = alfa1 % 402;
    nacim3 = alfa1 % -104;

    alfa1 = #0#5;
    fecha1 = alfa1 % 102;
    fecha2 = alfa1 % 402;
    fecha3 = alfa1 % -104;

    alfa1 = #2#2;   |QBF alfa1;
    alfa2 = alfa1 % 0;   para2 = alfa2;
    elsw4 = 0;
    apell1 = "";
    apell2 = "";
    nombre = "";
|PARA para1 = 1; |SI para1 [ para2; |HACIENDO para1 = para1 + 1;
        nume2 = (para1 * 100) + 1;
        alfa3 = alfa1 % nume2;
    |SI alfa3 = " ";|O alfa3 = ",";
        |SI apell1 ! "";
                elsw4 = elsw4 + 1;
        |FINSI;
        |SI elsw4 ] 2;|Y nombre ! "";
                nombre = nombre + alfa3;
        |FINSI;
    |SINO;
        |SI elsw4 = 0;  apell1 = apell1 + alfa3; |FINSI;
        |SI elsw4 = 1;  apell2 = apell2 + alfa3; |FINSI;
        |SI elsw4 ] 2;  nombre = nombre + alfa3; |FINSI;
    |FINSI;
|SIGUE;

    alfa1 = #2#7;
|QBF alfa1;
    docum1 = alfa1 % 101;
    docum2 = alfa1;
|SI docum1 ] "0";|Y docum1 [ "9";
        docum1 = "";
|SINO;
        docum2 = alfa1 % 2;
|FINSI;

    docum3 = alfa1 % -101;
|SI docum3 ] "0";|Y docum3 [ "9";
        docum3 = "";
|SINO;
        alfa2 = docum2 % 0;   nume1 = alfa2; nume1 = 100 + nume1 - 1;
        docum2 = docum2 % nume1;
|FINSI;
|FPRC;
