|FICHEROS;
     labtraba #0;
     referen@ #100;
     nomhorf1,MANTE;
     nomintal,MANTE;
     nomcont1;
|FIN;

|VARIABLES;
     aPath = "";
     aAlfa = "";
     aAlfa1 = "";
     aAlfa2 = "";
     nNume = 0;
     nNume1 = 0;
     nNume2 = 0;

     &nTecla3430 = 0;
     &nTecla = 0;
     &swModulo = 0;
|FIN;

|PROCESO Bor003430;
     |SI swModulo = 003430;
          |DDEF aAlfa;
          aAlfa = aAlfa + "nogue014";
          |CARGA_DEF aAlfa, referen@;
          |SI FSalida = 0;
               |ABRE #referen@;
               #referen@#0 = #0#7;
               |BORRA 000#referen@.c;
               |CIERRA #referen@;
               |DESCARGA_DEF #referen@;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO Mod003430;
     |SI swModulo = 003430;
          |DDEF aAlfa;
          aAlfa = aAlfa + "nogue014";
          |CARGA_DEF aAlfa, referen@;
          |SI FSalida = 0;
               |ABRE #referen@;
               #referen@#0 = #0#7;
               |LEE 101#referen@.=;
               |SI FSalida ! 0; |GRABA 020#referen@.b; |FINSI;
               |ENCAMPO #1#referen@;
               nTecla3430 = FSalida;
               |SI FSalida = 0; |GRABA 020#referen@.a; |FINSI;
               |CIERRA #referen@;
               |DESCARGA_DEF #referen@;

               |HAZ PinM003430;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO PinM003430; |TIPO 14;
     |SI swModulo = 003430;
          |DDEF aAlfa;
          aAlfa = aAlfa + "nogue014";
          |CARGA_DEF aAlfa, referen@;
          |SI FSalida = 0;
               |ABRE #referen@;
               #referen@#0 = #0#7;
               |LEE 000#referen@.=;
               |SI FSalida ! 0; |DDEFECTO #referen@; |FINSI;
               |ATRI I;
               |CUADRO 1158 1376;
               |PINTA 1159, "N§ Trabajador SAP";
               |ATRI 0;
               |PINTA #referen@#1;
               |ATRI I;
               |CIERRA #referen@;
               |DESCARGA_DEF #referen@;
          |FINSI;
     |FINSI;
|FPRC;

/*
|FICHEROS;
     labtraba #0;
|FIN;

|VARIABLES;
     aAlfa = "";
     aAlfa1 = "";
     aAlfa2 = "";
     FEstado = 0;
     aPrograma = "";
     &nOpcion = 0;
|FIN;

|PROCESO OpcionesTrabajador;
     aAlfa1 = #0#0; |QBF aAlfa1; aAlfa1 = ("00000" + aAlfa1) % -105;
     aAlfa2 = #0#1; |QBF aAlfa2; aAlfa2 = ("00000" + aAlfa2) % -105;
     aAlfa = aAlfa1 + aAlfa2;

     |SI nOpcion = 1; aPrograma = "nomtraca;"; |FINSI;
     |SI nOpcion = 2; aPrograma = "nomembca;"; |FINSI;
     ||SI nOpcion = 3; aPrograma = "nomauto1;"; |FINSI;

     |PUSHV 0501 2380;
     aAlfa = aPrograma + aAlfa;
     |SUB_EJECUTA aAlfa;
     |POPV;
|FPRC;
*/
|PROCESO HorasForm;
     |SI nTecla = 14; |Y #0#45 = 421;
          |SALVA_DATOS #labtraba;

          |PUSHV 05012380;

          |ABRE #nomhorf1;
          #nomhorf1#0 = #0#0;
          #nomhorf1#1 = #0#1;

          |CLS;
          |PINPA #0#nomhorf1;
          |PINDA #0#nomhorf1;

          |LEE 000#nomhorf1.=;
          |SI FSalida = 0;
               |ENDATOS #2#nomhorf1;
          |SINO;
               |ENDATOS #1#nomhorf1;
          |FINSI;
          |CIERRA #nomhorf1;

          |POPV;

          |REPON_DATOS #labtraba;
     |FINSI;
|FPRC;

|PROCESO idioma;
     |DDEFECTO #nomcont1;
     |ABRE #nomcont1;
     |LEE 101#nomcont1.p;
     |SI FSalida = 0;
          |SI #nomcont1#18 = "ESP";
               #nomcont1#18 = "CAS";
          |FINSI;
          |GRABA 101#nomcont1.a;
     |FINSI;
     |LIBERA #nomcont1;
     |CIERRA #nomcont1;

     nNume = (FEntrada / 100) ! 0;
     |SI nNume = 1;
          #0#136 = #nomcont1#18;
     |FINSI;
|FPRC;
