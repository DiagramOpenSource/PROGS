|FICHEROS;
     nomxconv #0;
     nomconca #1;
     nomconli #2;
     nomcateg #3;
     || nomcatca #4;
     nomcatli #5;
     nomconax #6;
     nompagfe #7;
     nomconfi #8;
     || nomfinca #9;
     nomfinli #10;
|FIN;

|VARIABLES;
     nCon = 0;
     &swCab = 0;
     &swLin = 0;
     &auxili = 0;
     hoja = 0;
     &hojita = 0;
     nHojaAnt = 0;
     nLinea = 0;
     swLaPrimera = 0;
|FIN;

|PROCESO imprime;
     |SI swLaPrimera = 1;
          |PRINT;
          FSalida = "PAGINA";
          |PRINT;
          swLaPrimera = 0;
          |PIEINF;
          nLinea = 5;
     |SINO;
          |SI swCab = 1;
               nLinea = nLinea + 4;
          |FINSI;

          nLinea = nLinea + 1;

          |SI swLin = 3;
               #nomcateg#0 = #nomcatli#0;
               #nomcateg#1 = #nomcatli#1;
               |LEE 000#nomcateg.=;
          |FINSI;

          |SI nLinea [ 65;
               |PRINT;
               |SI swCab = 1;
                    swCab = 0;
               |FINSI;
          |SINO;
               FSalida = "PAGINA";
               |PRINT;
               |PIEINF;
               nLinea = 5;

               swCab = 1;

               |SI swCab = 1;
                    nLinea = nLinea + 4;
               |FINSI;

               nLinea = nLinea + 1;
               |PRINT;

               |SI swCab = 1;
                    swCab = 0;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE nomfinli;
     #nomfinli#1;
     ;
     nCon, 001, 001;
     nCon, 999, 999;
     ;
     NULL, imprime;
|FIN;

|DEFBUCLE nomconfi;
     #nomconfi#1;
     ;
     nCon, 2000, "     ";
     nCon, 9999, "zzzzz";
     ;
     NULL, imprime;
|FIN;

|DEFBUCLE nompagfe;
     #nompagfe#1;
     ;
     nCon;
     nCon;
     ;
     NULL, imprime;
|FIN;

|DEFBUCLE nomcatli;
     #nomcatli#1;
     ;
     nCon, 001, 001;
     nCon, 999, 999;
     ;
     NULL, imprime;
|FIN;

|DEFBUCLE nomcateg;
     #nomcateg#1;
     ;
     nCon, 001;
     nCon, 999;
     ;
     NULL, imprime;
|FIN;

|DEFBUCLE nomconli;
     #nomconli#1;
     ;
     nCon, 001;
     nCon, 999;
     ;
     NULL, imprime;
|FIN;

|PROCESO Convenios;
     nLinea = 0;
     swLaPrimera = 1;

     nCon = #nomconca#0;

     |SI auxili = 1;
          |ABRE #nomconax;
          #nomconax#0 = nCon;
          |LEE 000#nomconax.=;
          |CIERRA #nomconax;
     |FINSI;

     |HAZ imprime;

     nLinea = 5;
     swCab = 1;
     swLin = 1;
     |BUCLE nomconli;

     swCab = 1;
     swLin = 2;
     |BUCLE nomcateg;

     swCab = 1;
     swLin = 3;
     |BUCLE nomcatli;

     swCab = 1;
     swLin = 4;
     |BUCLE nompagfe;

     swCab = 1;
     swLin = 5;
     |BUCLE nomconfi;

     swCab = 1;
     swLin = 6;
     |BUCLE nomfinli;
|FPRC;

|DEFBUCLE Convenios;
     #nomconca#1;
     ;
     #nomxconv#0;
     #nomxconv#1;
     ;
     NULL, Convenios;
|FIN;

|PROCESO ElProceso;
     |SI #0#3 = "S";
          auxili = 1;
     |FINSI;
     |BUCLE Convenios;
|FPRC;

|PROGRAMA;
     |CLS;
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |SI FSalida = 0;
          |ABRE #nomcateg;
          |IMPRE 0;
          |INFOR "nomxconv";
          |HAZ ElProceso;
          |PIEINF;
          |FININF;
          |FINIMP;
          |CIERRA #nomcateg;
     |FINSI;
|FPRO;
