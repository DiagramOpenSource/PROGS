|FICHEROS;
     labnct15;
     labnct19 #0;
     motibaja;
|FIN;

|VARIABLES;
     &eaOpcion = "";
     aAlfa = "";
     fFecha = @;
     nFecha = 0;
     swError = 0;
|FIN;

|PROCESO Tipo5; |TIPO 5;
     |SI #labnct15#2 = "B";
          #0#7 = 00;
          |LINEAS_BI_ATRI #0#7, D, I, -1;
     |FINSI;
|FPRC;
/*
|PROCESO Tipo13; |TIPO 13;
     |SI eaOpcion = "A";
          |ATRI R;
          |PINTA 0532, "altas";

          |ATRI R;
          |PINTA 0766, "alta";

          |ATRI 0;

          |CAMPO_MODIFICA #0#7, 1, "N";
          |CAMPO_MODIFICA #0#8, 1, "N";
          |CAMPO_MODIFICA #0#9, 1, "N";
          |CAMPO_VISUAL #0#7, 1, "N";
          |CAMPO_VISUAL #0#8, 1, "N";
          |CAMPO_VISUAL #0#9, 1, "N";
          |PINTA 2105, "³                                                                      ³";
          |PINTA 2205, "³                                                                      ³";
     |FINSI;
     |SI eaOpcion = "B";
          |ATRI R;
          |PINTA 0532, "bajas";

          |ATRI R;
          |PINTA 0766, "baja";

          |ATRI 0;
     |FINSI;
|FPRC;
*/
|PROCESO ConsultaBaja; |TIPO 66;
     |ABRE #motibaja;
     |CONSULTA_CLAVE #1#motibaja;
     |SI FSalida = 0;
          #labnct19#7 = #motibaja#0;
          |PINTA #labnct19#7;
     |FINSI;
     |CIERRA #motibaja;
|FPRC;

|PROCESO CompruebaBaja;
     swError = 0;
     |ABRE #motibaja;
     #motibaja#0 = #0#7;
     |LEE 000#motibaja.=;
     |SI FSalida ! 0;
          swError = 1;
     |SINO;
          |SI #0#7 ] 08; |Y #0#7 [ 12;
               swError = 2;
          |FINSI;
     |FINSI;

     |SI swError = 1; |O swError = 2;
          |HAZ MuestraError;
     |SINO;
          #0#6 = "*";
          |PINTA #0#6;
          |GRABA 000#0a;
     |FINSI;
     |CIERRA #motibaja;
|FPRC;

|PROCESO MuestraError;
          |SI swError = 1;
               |MENAV "    Es necesario elegir un motivo de baja";
          |FINSI;
          |SI swError = 2;
               |MENAV "    Los códigos 08 al 12 no son motivos de baja válidos";
          |FINSI;
          |CONSULTA_CLAVE #1#motibaja;
          |SI FSalida = 0;
               #labnct19#7 = #motibaja#0;
               |PINTA #labnct19#7;
               |HAZ CompruebaBaja;
          |FINSI;
|FPRC;

|PROCESO VacacionesLin;
     |SI #0#8 ! 00;
          aAlfa = #0#4;
          fFecha = aAlfa;
          nFecha = fFecha;
          nFecha = nFecha + #0#8;
          fFecha = nFecha;
          #0#9 = fFecha;
          |PINTA #0#9;
     |FINSI;
|FPRC;
