|FICHEROS;
     nominfit #0;
     nomhisit #1;
     labempre;
     labtraba;
     labcentr;
     nomconca;
|FIN;

|VARIABLES;
     aFecha = "";
     fFecha = @;
     aMes = "";
     aAny = "";
     nMes = 0;
     nAny = 0;
|FIN;

|PROCESO Defectos; |TIPO 88;
     fFecha = ~;
     aFecha = fFecha;
     aMes = aFecha % 402;
     aAny = aFecha % -104;
     nMes = aMes;
     nAny = aAny;

     #0#2 = nAny;
     #0#3 = nMes;

     |PINTA #0#2;
     |PINTA #0#3;
|FPRC;

|PROCESO nomhisit;
     #labempre#0 = #nomhisit#0;
     |LEE 000#labempre.=;

     #labtraba#0 = #nomhisit#0;
     #labtraba#1 = #nomhisit#1;
     |LEE 000#labtraba.=;

     #labcentr#0 = #labtraba#0;
     #labcentr#1 = #labtraba#77;
     |LEE 000#labcentr.=;

     #nomconca#0 = #labempre#1;
     |LEE 000#nomconca.=;

     |PRINT;
|FPRC;

|DEFBUCLE nomhisit;
     #nomhisit#1;
     ;
     #0#0, #0#1, #0#2, #0#3, 1;
     #0#0, #0#1, #0#2, #0#3, 4;
     ;
     NULL, nomhisit;
|FIN;

|PROGRAMA;
     |CLS;

     |PINPA #0#0;

     |ABRE #0;
     |DDEFECTO #0;
     |LEE 000#0p;
     |SI FSalida = 0;
          |BORRA 020#0a;
     |FINSI;

     |PINDA #0#0;


     |ENDATOS #1#0;
     |SI FSalida = 0;
          Impresora = "CrystalReport";
          |IMPRE -1;
          |INFOR "nominfit";

          |ABRE #labempre;
          |ABRE #labtraba;
          |ABRE #labcentr;
          |ABRE #nomconca;

          |BUCLE nomhisit;

          |CIERRA #nomconca;
          |CIERRA #labcentr;
          |CIERRA #labtraba;
          |CIERRA #labempre;

          |PIEINF;
          |FININF;
     |FINSI;
     |GRABA 000#0n;
     |CIERRA #0;
|FPRO;
