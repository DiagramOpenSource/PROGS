|FICHEROS;
     hotm0004 #0;
|FIN;

|VARIABLES;
     nModo=0;
     aHora="";
     fFecha=@;
     nUltimo = 0;
|FIN;

|PROCESO Alta; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 1; |ACABA;   |FINSI;

     |LEE 000#0u;
     |SI FSalida = 0;
          nUltimo = #0#0 + 1;
     |SINO;
          nUltimo = 1;
     |FINSI;
     |DDEFECTO #0;
     #0#0 = nUltimo;
     |PINTA #0#0;
|FPRC;


|PROCESO PonerFecha; |TIPO 0;
     |SI #0#10="S";
          fFecha=~;
          #0#11=fFecha;
          |CAMPO_MODIFICA #0#11,1,"S";
     |SINO;
          #0#11="01.01.0000";
          |CAMPO_MODIFICA #0#11,1,"N";
     |FINSI;
     |PINTA #0#11;
|FPRC;

|PROCESO PonHora;|TIPO 7;
     nModo = (FEntrada/100)!0;
     |SI nModo = 1;
          |HORA aHora;
          #0#2=aHora % A105;
          |PINTA #0#2;
     |FINSI;
|FPRC;

|PROCESO PonUsuario; |TIPO 7;
     #0#3=Usuario % 810;
     |PINTA #0#3;
|FPRC;

|PROCESO PonRealizadoAux;|TIPO 0;
     #0#12=#0#10;
|FPRC;
