|FICHEROS;
    nomaumca #0;    || aumentos cabs.
    nomconca #1;    || convenios cabs.
    nomconli #2;    || convenios lins.
    nomaumli #3;    || aumentos lins.
    labtraba #5;    || trabajadores
    nomtraac #6;    || var.trab. cabs.
    nomtraal #7;    || var.trab. lins.
    nompant1 #20;   || peticion selecion
|FIN;

|VARIABLES;
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    para1 = 0;
    para2 = 0;
    para3 = 0;
    para4 = 0;
    fech1 = @;
    fech2 = @;
    fech3 = @;
    fech4 = @;
    elsw1 = 0;
    elsw2 = 0;
    elsw3 = 0;
    elsw4 = 0;
    FEstado = 0;
    seleccio = 0;
    modo = 0;
    sw_rup = 0;

    ult_con = 0;
    sw_alguna = 0;
|FIN;
____________________________________/ CALCULOS PANTALLA
|PROCESO descri; |TIPO 0;
|DDEFECTO #2;
|ABRE #2;
    #2#0 = #3#0;
    #2#2 = #3#1;
|LEE 000#2=;
|SI FSalida ! 0;
    |MENAV "    Concepto NO DEFINIDO en Convenio ...";
    |ERROR;
|SINO;
        #3#2 = #2#6;
    |PINTA #3#2;
    |HAZ alta;
|FINSI;
|CIERRA #2;
|FPRC;

|PROCESO alta;
    modo = (FEntrada / 100) ! 0;
|SI modo = 1;
        #3#3 = #0#1;
    |PINTA #3#3;
|FINSI;
|FPRC;

|PROCESO por_gene; |TIPO 7;
    modo = (FEntrada / 100) ! 0;
|SI modo ! 1;
    |CAMPO_MODIFICA #0#1, 1, "N";
    |PTEC 802;
|SINO;
    |CAMPO_MODIFICA #0#1, 1, "S";
|FINSI;
|FPRC;
____________________________________/
|PROCESO aum_lins;
|DDEFECTO #7;
    #7#0 = #5#0;    || empresa
    #7#1 = #5#1;    || trabajador
    #7#2 = #3#1;    || concepto
    #7#5 = #nompant1#6;  || tipo atrasos
|LEE 000#7=;
|SI FSalida ! 0;
    |GRABA 020#7n;
        sw_alguna = 1;
|FINSI;
|FPRC;

|PROCESO lee_traba1;
    sw_alguna = 0;
|BUCLELIN 2aum_lins#0;
|SI sw_alguna ! 0;
        #6#0 = #5#0;
        #6#1 = #5#1;
        #6#3 = #nompant1#6;
    |LEE 000#6=;
    |SI FSalida ! 0;
        |GRABA 020#6n;
    |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE lee_traba;
 #5#1;
 87, 17;
 #nompant1#0, #nompant1#2, #0#0, #nompant1#4;
 #nompant1#1, #nompant1#3, #0#0, #nompant1#5;
 ;
 NULL, lee_traba1;
|FIN;

|PROCESO tipo3; |TIPO 3;
|CONFI "    NCargar conceptos en Variac./Trabajador (S/N) ...: ";
|SI FSalida = 0;
    |PUSHV 0501 2380;
    |PINPA #0#nompant1;
    |PINDA #0#nompant1;
    |ENDATOS #1#nompant1;
    |SI FSalida = 0;
        |ATRI P;   |MENSA "    En Proceso ...";   |ATRI 0;
        |ABRE #6;
        |ABRE #7;
        |BUCLE lee_traba;
        |CIERRA #6;
        |CIERRA #7;
        |BLIN 4;
    |FINSI;
    |POPV;
|FINSI;
|FPRC;
