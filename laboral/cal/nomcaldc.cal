|FICHEROS;
     nomcaldc #0;
     nomcaldl #1,MANTE;
     nomcaldm;
     nombonif;
     nomboni3;
|FIN;

|VARIABLES;
     aAlfa = "";
     aAlfa1 = "";
     nCodigo = 0;
     swLocalizada = 0;
|FIN;

|PROCESO Descripcion;
     swLocalizada = 0;
     |ABRE #nomcaldm;
     #nomcaldm#0 = #1#5;
     |LEE 000#nomcaldm.=;
     |SI FSalida = 0;
          swLocalizada = 1;
          #1#6 = #nomcaldm#1;
          |PINTA #1#6;
     |SINO;
          aAlfa = #1#5;
          aAlfa = aAlfa % 101;
          aAlfa = aAlfa + "1000";
          nCodigo = aAlfa;
          #nomcaldm#0 = nCodigo;
          |LEE 000#nomcaldm.=;
          |SI FSalida = 0;
               aAlfa = #1#5;
               aAlfa1 = #1#5;
               aAlfa1 = aAlfa1 % 201;
               |SI aAlfa1 ! "9";
                    aAlfa = (aAlfa % 101) + "9" + (aAlfa % -103);
                    aAlfa1 = aAlfa;
               |SINO;
                    aAlfa1 = #1#5;
               |FINSI;
               aAlfa1 = aAlfa1 % 102;
               |SI aAlfa1 = "29"; |O aAlfa1 = "39";
                    aAlfa = aAlfa1 + "990";
                    || para provocar el error
               |FINSI;
               aAlfa = aAlfa % -103;
               nCodigo = aAlfa;
               |ABRE #nombonif;
               #nombonif#0 = nCodigo;
               |LEE 000#nombonif.=;
               |SI FSalida = 0;
                    swLocalizada = 1;
                    aAlfa = aAlfa % -102;
                    #1#6 = "Bonif. Codigo " + aAlfa;
                    |PINTA #1#6;
               |SINO;
                    aAlfa = #1#5;
                    aAlfa = aAlfa % -103;
                    nCodigo = aAlfa;
                    |ABRE #nomboni3;
                    #nomboni3#0 = nCodigo;
                    |LEE 000#nomboni3.=;
                    |SI FSalida = 0;
                         swLocalizada = 1;
                         #1#6 = "Bonif.Fom.Emp. " + aAlfa;
                         |PINTA #1#6;
                    |SINO;
                         |SI 555 [ nCodigo; |Y  nCodigo [ 560;
                              |SI nCodigo = 555;
                                   #nomcaldl#6 = "Bonif. Mayores 55";
                                   |PINTA #1#6;
                                   swLocalizada = 1;
                              |FINSI;
                              |SI nCodigo = 559;
                                   #nomcaldl#6 = "Bonif. Mayores 59";
                                   |PINTA #1#6;
                                   swLocalizada = 1;
                              |FINSI;
                              |SI nCodigo = 560;
                                   #nomcaldl#6 = "Bonif. Mayores 60";
                                   |PINTA #1#6;
                                   swLocalizada = 1;
                              |FINSI;
                         |FINSI;
                    |FINSI;
                    |CIERRA #nomboni3;
               |FINSI;
               |CIERRA #nombonif;
          |FINSI;
     |FINSI;
     |SI swLocalizada = 0;
          ||MENAV "    ATENCION: La clave introducida no es valida";
          ||ERROR;
     |FINSI;
     |CIERRA #nomcaldm;
|FPRC;
