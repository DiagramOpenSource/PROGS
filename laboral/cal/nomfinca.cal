|FICHEROS;
     nomfinca #0;
     nomfinli #5,MANTE;
|FIN;

|VARIABLES;
     &nModo = 0;
     nModo2 = 0;
     nForma = 0;
     FEstado = 0;
     &nConvenio = 0;
|FIN;

|PROCESO minimoCon;
     #nomfinli#0 = #nomfinca#0;
     #nomfinli#1 = #nomfinca#1;
     #nomfinli#2 = 01;
|FPRC;

|PROCESO maximoCon;
     #nomfinli#0 = #nomfinca#0;
     #nomfinli#1 = #nomfinca#1;
     #nomfinli#2 = 99;
|FPRC;

|PROCESO PintaContratos; |TIPO 7;
     |ENTLINEAL #1#nomfinli, -3, 7, 22, 1, minimoCon, maximoCon;
|FPRC;

|PROCESO Borrado;
     |BORRA 020#nomfinli.a;
|FPRC;

|DEFBUCLE Borrado;
     #nomfinli#1;
     ;
     #nomfinca#0, #nomfinca#1, 01;
     #nomfinca#0, #nomfinca#1, 99;
     be;
     NULL, Borrado;
|FIN;

|PROCESO Tipo2; |TIPO 2;
     nForma = 0 +. 1;
     nModo2 = (FEntrada / 100) ! 0;

     |SI nModo2 = 3;
          |BUCLE Borrado;
          |ACABA;
     |FINSI;

     |SI nForma = 1;
          |ENTLINEAL #1#nomfinli, -3, 2, 22, 0, minimoCon, maximoCon;
     |FINSI;
|FPRC;

|PROCESO minimo;
     #nomfinca#0 = nConvenio;
     #nomfinca#1 = 001;
|FPRC;

|PROCESO maximo;
     #nomfinca#0 = nConvenio;
     #nomfinca#1 = 999;
|FPRC;

|PROGRAMA;
     |SI nModo = 4;
          |CAMPO_MODIFICA #nomfinca#1, 1, "N";
          |ENTLINEAL #1#nomfinca, 2, 4, 22, 1, minimo, maximo;
          |CAMPO_MODIFICA #nomfinca#1, 1, "S";
     |SINO;
          |ENTLINEAL #1#nomfinca, 2, 1, 22, 1, minimo, maximo;
     |FINSI;
|FPRO;
