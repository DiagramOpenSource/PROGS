/*****************************************************************/
/*  MENSUAL-NOMINAS-PANTALLA                                     */
/*****************************************************************/
/*
|PROCESO imprimeNomMensuPan;
     pantalla = 1;
     |ET pantalla1MNP;
     |PINPA #0#10;
     |PINDA #0#10;
     |VETE apausaMNP;
     |ET pantalla2MNP;
     |PINPA #1#10;
     |PINDA #1#10;
     |VETE apausaMNP;
     |ET pantalla3MNP;
     |PINPA #2#10;
     |PINDA #2#10;
     |VETE apausaMNP;
     |ET pantalla4MNP;
     |PINPA #3#10;
     |PINDA #3#10;
     |ET apausaMNP;
     |PINTA 0645, #4#0;  || codigo empresa
     |PINTA 0660, #4#1;  || codigo trabajador
     |PINTA 0670, #4#2;  || mes confecccion
     |PINTA 0678, #4#3;  || tipo
     |PAUSA;
     |SI FSalida ! 0;
          |SI FSalida ! 7;|Y FSalida ! 1;                       || CTRL-C/ESC
               |SI FSalida = 4;  pantalla = pantalla - 1;  |FINSI;  || PgUp
               |SI FSalida = 5;  pantalla = pantalla + 1;  |FINSI;  || PgDown
               |SI pantalla = 0; pantalla = 4; |FINSI;
               |SI pantalla = 5; pantalla = 1; |FINSI;
               |SI pantalla = 1; |VETE pantalla1MNP;  |FINSI;
               |SI pantalla = 2; |VETE pantalla2MNP;  |FINSI;
               |SI pantalla = 3; |VETE pantalla3MNP;  |FINSI;
               |SI pantalla = 4; |VETE pantalla4MNP;  |FINSI;
          |FINSI;
     |SINO;
          |CONFI "2420N¿Desea imprimir el recibo?";
          |SI FSalida = 0;
               swStopIRPF = 0;
               |HAZ nomgir00;
               |DDEFECTO #nomgirco;
               |ABRE #nomgirco; |LEE 000#nomgirco.p;  |CIERRA #nomgirco;
               |SI swStopIRPF = 0; |Y nTraNoEmi ! 0;
                    |HAZ AvisoIRPF;
                    |ACABA;
               |SINO;
                    |SI swHayIncid = 1;
                         |HAZ AvisoIRPF;
                    |FINSI;
               |FINSI;

               |SI #nomcontr#37 = "S";
                    swPDFMasivo = 1;
                    aProcedencia = "nomrecib";
                    |HAZ PreparaPDF;
                    |SUB_EJECUTA "pdfimpre";
               |SINO;
                    c_informe = "nomyreci";
                    |HAZ cuadres;
                    |SI sw_cuadre = 0; |Y swStopIRPF = 0;
                         |HAZ ElIMPRE;
                         |SI FEstado = 0;
                              |HAZ imprime;
                         |SINO;
                              |MENAV "    Proceso ABORTADO !!!";
                         |FINSI;
                         |HAZ ElFINIMP;
                    |FINSI;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE nomzreci0;
#4#1;
;
#0#11,#0#12,#0#5,#0#10;
#0#11,#0#12,#0#5,#0#10;
e;
NULL, procesoNomMensuImpre;
|FIN;

|PROCESO impreMNP; |TIPO 3;
     |ABRE #1;
     |ABRE #2;
     |ABRE #3;
     |ABRE #35;
     |ABRE #6;
     |ABRE #100;
     |ABRE #102;
     seleccio = 0;

     |BUCLE nomzreci0;
     |SI seleccio = 0;
          |MENAV "    Seleccion vacia ...";
     |FINSI;
     |CIERRA #1;
     |CIERRA #2;
     |CIERRA #3;
     |CIERRA #35;
     |CIERRA #6;
     |CIERRA #100;
     |CIERRA #102;
|FPRC;
*/
/*****************************************************************/
/*  HISTORICO-NOMINAS-PANTALLA                                   */
/*****************************************************************/
/*
|PROCESO imprimeNomHistoPan;
        pantalla = 1;
    |ET pantalla1HNP;
        |PINPA #0#10;
        |PINDA #0#10;
        |VETE apausaHNP;
    |ET pantalla2HNP;
        |PINPA #1#10;
        |PINDA #1#10;
        |VETE apausaHNP;
    |ET pantalla3HNP;
        |PINPA #2#10;
        |PINDA #2#10;
        |VETE apausaHNP;
    |ET pantalla4HNP;
        |PINPA #3#10;
        |PINDA #3#10;
    |ET apausaHNP;
        |PINTA 0645, #11#0;  || codigo empresa
        |PINTA 0660, #11#1;  || codigo trabajador
        |PINTA 0670, #11#2;  || mes confecccion
        |PINTA 0678, #11#3;  || tipo
        |PAUSA;
        |SI FSalida ! 0;
            |SI FSalida ! 7;|Y FSalida ! 1;                       || CTRL-C/ESC
                |SI FSalida = 4;  pantalla = pantalla - 1;  |FINSI;  || PgUp
                |SI FSalida = 5;  pantalla = pantalla + 1;  |FINSI;  || PgDown
                |SI pantalla = 0; pantalla = 4; |FINSI;
                |SI pantalla = 5; pantalla = 1; |FINSI;
                |SI pantalla = 1; |VETE pantalla1HNP;  |FINSI;
                |SI pantalla = 2; |VETE pantalla2HNP;  |FINSI;
                |SI pantalla = 3; |VETE pantalla3HNP;  |FINSI;
                |SI pantalla = 4; |VETE pantalla4HNP;  |FINSI;
            |FINSI;
        |SINO;
            |CONFI "2420N¿Desea imprimir el recibo?";
            |SI FSalida = 0;
                |SI #nomcontr#37 = "S";
                     swPDFMasivo = 1;
                     aProcedencia = "nomrecib";
                     |HAZ PreparaPDF;
                     |SUB_EJECUTA "pdfimpre";
                |SINO;
                    c_informe = "nomyreci";
                    |HAZ cuadres;
                    |SI sw_cuadre = 0;
                         |HAZ ElIMPRE;
                         |SI FEstado = 0;
                              |HAZ imprime;
                         |SINO;
                              |MENAV "    Proceso ABORTADO !!!";
                         |FINSI;
                    |HAZ ElFINIMP;
                |FINSI;
            |FINSI;
        |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE nomvreci0;
 #11#1;
 ;
 #0#11, #0#12, #0#4, #0#5, #0#10;
 #0#11, #0#12, #0#4, #0#5, #0#10;
 e;
 NULL, procesoNomHistoImpre;
|FIN;

|PROCESO impreHNP; |TIPO 3;
|ABRE #1;
|ABRE #2;
|ABRE #3;
|ABRE #35;
|ABRE #6;
|ABRE #100;
|ABRE #102;
    seleccio = 0;
|BUCLE nomvreci0;
|SI seleccio = 0;
    |MENAV "    Seleccion vacia ...";
|FINSI;
|CIERRA #1;
|CIERRA #2;
|CIERRA #3;
|CIERRA #35;
|CIERRA #6;
|CIERRA #100;
|CIERRA #102;
|FPRC;
*/
/*****************************************************************/
/*  ATRASOS-NOMINAS-PANTALLA                                     */
/*****************************************************************/
/*
|DEFBUCLE nomtreci0;
 #13#1;
 ;
 #0#11, #0#12, #0#5, 5;
 #0#11, #0#12, #0#7, 5;
 e;
 NULL, procesoAtrasImpre;
|FIN;

|PROCESO impreANP; |TIPO 3;
|ABRE #1;
|ABRE #2;
|ABRE #3;
|ABRE #35;
|ABRE #6;
|ABRE #100;
|ABRE #102;
    seleccio = 0;
|BUCLE nomtreci0;
|SI seleccio = 0;
    |MENAV "    Seleccion vacia ...";
|SINO;
    |SI #0#10 = 2;
        |SI lineas = 1;
            |HAZ comple_6AtrasPan;
        |FINSI;
    |FINSI;
|FINSI;
|CIERRA #1;
|CIERRA #2;
|CIERRA #3;
|CIERRA #35;
|CIERRA #6;
|CIERRA #100;
|CIERRA #102;
|FPRC;

|PROCESO comple_6AtrasPan;      || IMPRIME Y LIMPIA
        pantalla = 1;
    |ET pantalla1ANP;
        |PINPA #0#10;
        |PINDA #0#10;
        |VETE apausaANP;
    |ET pantalla2ANP;
        |PINPA #1#10;
        |PINDA #1#10;
        |VETE apausaANP;
    |ET pantalla3ANP;
        |PINPA #2#10;
        |PINDA #2#10;
        |VETE apausaANP;
    |ET pantalla4ANP;
        |PINPA #3#10;
        |PINDA #3#10;
    |ET apausaANP;
        |PINTA 0645, #13#0;  || codigo empresa
            alfa1=ante_tra; alfa1="00000"+alfa1; alfa1=alfa1%-105;
        |PINTA 0660, alfa1; || codigo trabajador
        |PINTA 0670, #13#2;  || mes confecccion
        |PINTA 0678, #13#3;  || tipo
        |PAUSA;
        |SI FSalida ! 0;
            |SI FSalida ! 7;|Y FSalida ! 1;                       || CTRL-C/ESC
                |SI FSalida = 4;  pantalla = pantalla - 1;  |FINSI;  || PgUp
                |SI FSalida = 5;  pantalla = pantalla + 1;  |FINSI;  || PgDown
                |SI pantalla = 0; pantalla = 4; |FINSI;
                |SI pantalla = 5; pantalla = 1; |FINSI;
                |SI pantalla = 1; |VETE pantalla1ANP;  |FINSI;
                |SI pantalla = 2; |VETE pantalla2ANP;  |FINSI;
                |SI pantalla = 3; |VETE pantalla3ANP;  |FINSI;
                |SI pantalla = 4; |VETE pantalla4ANP;  |FINSI;
            |FINSI;
        |SINO;
            |CONFI "2420N¿Desea imprimir el recibo?";
            |SI FSalida = 0;
                |SI #nomcontr#37 = "S";
                     swPDFMasivo = 1;
                     aProcedencia = "nomrecib";
                     |HAZ PreparaPDF;
                     |SUB_EJECUTA "pdfimpre";
                |SINO;
                    c_informe = "nomyreci";
                    |HAZ cuadres;
                    |SI sw_cuadre = 0;
                    |HAZ ElIMPRE;
                    |SI FEstado = 0;
                        |HAZ imprime;
                    |SINO;
                        |MENAV "    Proceso ABORTADO !!!";
                    |FINSI;
                    |HAZ ElFINIMP;
                |FINSI;
            |FINSI;
        |FINSI;
    |FINSI;
    |DDEFECTO #10;
|FPRC;
*/
/*****************************************************************/
/*  MENSUAL-PAGAS-PANTALLA                                        */
/*****************************************************************/
/*
|PROCESO imprimePagMensuPan;
        pantalla = 1;
    |ET pantalla1PagMensuPan;
        |PINPA #0#10;
        |PINDA #0#10;
        |VETE apausaPagMensuPan;
    |ET pantalla2PagMensuPan;
        |PINPA #1#10;
        |PINDA #1#10;
        |VETE apausaPagMensuPan;
    |ET pantalla3PagMensuPan;
        |PINPA #2#10;
        |PINDA #2#10;
        |VETE apausaPagMensuPan;
    |ET pantalla4PagMensuPan;
        |PINPA #3#10;
        |PINDA #3#10;
    |ET apausaPagMensuPan;
        |PINTA 0645, #93#0;  || codigo empresa
        |PINTA 0660, #93#1;  || codigo trabajador
        |PINTA 0670, #93#2;  || mes confecccion
        |PINTA 0678, #93#3;  || tipo
        |PAUSA;
        |SI FSalida ! 0;
            |SI FSalida ! 7;|Y FSalida ! 1;                       || CTRL-C/ESC
                |SI FSalida = 4;  pantalla = pantalla - 1;  |FINSI;  || PgUp
                |SI FSalida = 5;  pantalla = pantalla + 1;  |FINSI;  || PgDown
                |SI pantalla = 0; pantalla = 4; |FINSI;
                |SI pantalla = 5; pantalla = 1; |FINSI;
                |SI pantalla = 1; |VETE pantalla1PagMensuPan;  |FINSI;
                |SI pantalla = 2; |VETE pantalla2PagMensuPan;  |FINSI;
                |SI pantalla = 3; |VETE pantalla3PagMensuPan;  |FINSI;
                |SI pantalla = 4; |VETE pantalla4PagMensuPan;  |FINSI;
           |FINSI;
        |SINO;
             |CONFI "2420N¿Desea imprimir el recibo?";
             |SI FSalida = 0;
                |SI #nomcontr#37 = "S";
                     swPDFMasivo = 1;
                     aProcedencia = "nomrecib";
                     |HAZ PreparaPDF;
                     |SUB_EJECUTA "pdfimpre";
                |SINO;
                     c_informe = "nomyreci";
                     |HAZ cuadres;
                     |SI sw_cuadre = 0;
                     |HAZ ElIMPRE;
                     |SI FEstado = 0;
                         |HAZ imprime;
                     |SINO;
                         |MENAV "    Proceso ABORTADO !!!";
                     |FINSI;
                     |HAZ ElFINIMP;
                 |FINSI;
             |FINSI;
         |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE nomzpaga0;
 #93#1;
 ;
 #0#11,#0#12,#0#5,0;
 #0#11,#0#12,#0#5,0;
 ;
 NULL, procesoPagMensuImpre;
|FIN;

|PROCESO impreMPP; |TIPO 3;
    desglo = #0#14;
|HAZ desglosaPagMensuImpre;
|HAZ control;
|ABRE #1;
|ABRE #2;
|ABRE #3;
|ABRE #6;
|ABRE #100;
|ABRE #102;
    seleccio = 0;
|BUCLE nomzpaga0;
|SI seleccio = 0;
    |MENAV "    Seleccion vacia ...";
|FINSI;
|CIERRA #1;
|CIERRA #2;
|CIERRA #3;
|CIERRA #6;
|CIERRA #100;
|SI desglo = "S";
    |DELINDEX #93;
    |DELINDEX #94;
|FINSI;
|FPRC;

|PROCESO d_seleccionPagMensuPan;
nDesdeEmp = #0#0;
nHastaEmp = #0#0;
nDesdeTra = #0#2;
nHastaTra = #0#2;
|BUCLE d_nomcalca;
|FPRC;
*/
/*****************************************************************/
/*  HISTORICO-PAGAS-PANTALLA                                      */
/*****************************************************************/
/*
|PROCESO desglosaPagHistoPan;
|SI desglo = "S";
    |MENSA "0402Preparando desglose ...";
    |HAZ control;
        dalfa1 = Usuario; |QBF dalfa1; dalfa1 = "c" + dalfa1;
    |NOME_DAT #95 dalfa1; |DELINDEX #95;
        dalfa1 = Usuario; |QBF dalfa1; dalfa1 = "l" + dalfa1;
    |NOME_DAT #96 dalfa1; |DELINDEX #96;
    |ABRE #2;            || trabajadores
    |ABRE #95;            || tmp. calculos cabs.
    |ABRE #96;            || tmp. calculos lins.
    |ABRE #12;           || calculos lins.
    |ABRE #102;           || convenios cabs.
    |HAZ d_seleccionPagHistoPan;
    |CIERRA #2; |CIERRA #95; |CIERRA #96; |CIERRA #12; |CIERRA #102;
    |BLIN 4;
|SINO;
    |NOME_DAT #95 "nomhicca"; || ni se te ocurra hacer aqui DELINDEX
    |NOME_DAT #96 "nomhicli";
|FINSI;
|FPRC;

|PROCESO imprimePagHistoPan;
        pantalla = 1;
    |ET pantalla1PagHistoPan;
        |PINPA #0#10; |PINDA #0#10;
        |VETE apausaPagHistoPan;
    |ET pantalla2PagHistoPan;
        |PINPA #1#10; |PINDA #1#10;
        |VETE apausaPagHistoPan;
    |ET pantalla3PagHistoPan;
        |PINPA #2#10;
        |PINDA #2#10;
        |VETE apausaPagHistoPan;
    |ET pantalla4PagHistoPan;
        |PINPA #3#10;
        |PINDA #3#10;
    |ET apausaPagHistoPan;
        |PINTA 0645, #95#0;  || codigo empresa
        |PINTA 0660, #95#1;  || codigo trabajador
        |PINTA 0670, #95#2;  || mes confecccion
        |PINTA 0678, #95#3;  || tipo
        |PAUSA;
        |SI FSalida ! 0;
            |SI FSalida ! 7;|Y FSalida ! 1;                       || CTRL-C/ESC
                |SI FSalida = 4;  pantalla = pantalla - 1;  |FINSI;  || PgUp
                |SI FSalida = 5;  pantalla = pantalla + 1;  |FINSI;  || PgDown
                |SI pantalla = 0; pantalla = 4; |FINSI;
                |SI pantalla = 5; pantalla = 1; |FINSI;
                |SI pantalla = 1; |VETE pantalla1PagHistoPan;  |FINSI;
                |SI pantalla = 2; |VETE pantalla2PagHistoPan;  |FINSI;
                |SI pantalla = 3; |VETE pantalla3PagHistoPan;  |FINSI;
                |SI pantalla = 4; |VETE pantalla4PagHistoPan;  |FINSI;
           |FINSI;
        |SINO;
             |CONFI "2420N¿Desea imprimir el recibo?";
             |SI FSalida = 0;
                |SI #nomcontr#37 = "S";
                     swPDFMasivo = 1;
                     aProcedencia = "nomrecib";
                     |HAZ PreparaPDF;
                     |SUB_EJECUTA "pdfimpre";
                |SINO;
                     c_informe = "nomyreci";
                     |HAZ cuadres;
                     |SI sw_cuadre = 0;
                     |HAZ ElIMPRE;
                     |SI FEstado = 0;
                         |HAZ ElFININF;
                     |SINO;
                         |MENAV "    Proceso ABORTADO !!!";
                     |FINSI;
                     |HAZ ElFINIMP;
                 |FINSI;
             |FINSI;
         |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE nomvpaga0;
 #95#1;
 ;
 #0#0, #0#2, #0#4, #0#5, 0;
 #0#0, #0#2, #0#4, #0#5, 0;
 ;
 NULL, procesoPagHistoImpre;
|FIN;
|PROCESO impreHPP; |TIPO 3;
    desglo = #0#14;
|HAZ desglosaPagHistoPan;
|HAZ control;
     |ABRE #1; |ABRE #2; |ABRE #3; |ABRE #6; |ABRE #100; |ABRE #102;
     seleccio = 0;
     #0#0 = #0#11;
     #0#2 = #0#12;
     |BUCLE nomvpaga0;
     |SI seleccio = 0;
          |MENAV "    Seleccion vacia ...";
     |FINSI;
     |CIERRA #1; |CIERRA #2; |CIERRA #3; |CIERRA #6; |CIERRA #100; |CIERRA #102;
     |SI desglo = "S"; |DELINDEX #95; |DELINDEX #96; |FINSI;
|FPRC;
|DEFBUCLE d_nomcalcaPagHistoPan;
 #11#1;
 ;
 #0#0, #0#2, #0#4, #0#5, 0;
 #0#0, #0#2, #0#4, #0#5, 0;
 ;
 NULL, d_proceso_cabPagHistoImpre;
|FIN;
|PROCESO d_seleccionPagHistoPan;
|FPRC;
*/
