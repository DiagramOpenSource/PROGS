|FICHEROS;
    nomcong2 #0,MANTE;   || edicion global (convenios lins.)

    nomcong1 #10;        || pantalla principal (por INCLUYE)
|FIN;

|INCLUYE i_conli;
____________________________________/
|PROCESO Tipo88; |TIPO 88;
     |HAZ LeeEURODB;
|FPRC;

|PROCESO nomismo; |TIPO 0;
|SI #10#1 = #10#0;
    |MENAV "    Entrada pensada para varios convenios ...";
    |ERROR;
|FINSI;
|FPRC;

|PROCESO min0;
    #0#2 = #10#2;
    #0#0 = #10#0;
|FPRC;

|PROCESO max0;
    #0#2 = #10#3;
    #0#0 = #10#1;
|FPRC;

|PROCESO tipo3; |TIPO 3;
|SI #10#0 > #10#1;
    |MENAV "    Error de entrada ...";
|SINO;
    |SI #10#2 > #10#3;
        |MENAV "    Error de entrada ...";
    |SINO;
        |ABRE #0;
        |ENTLINEAL #2#0, 2, 2, 20, 1, min0, max0;
        |CIERRA #0;
    |FINSI;
|FINSI;
|FPRC;

|PROCESO lee_descri13; |TIPO 13;
|DDEFECTO #1;
|ABRE #1;
    #1#0 = #0#0;
|LEE 000#1=;
|CIERRA #1;
|ATRI I;  |PINTA 2226, #1#1;  |ATRI 0;

|DDEFECTO #4;
|ABRE #4;
    #4#0 = #0#0;     || convenio
    #4#1 = #0#2;     || concepto
|LEE 000#4=;
|CIERRA #4;
|ATRI I;  |PINTA 2153, #4#2;  |ATRI 0;
|FPRC;

|PROCESO desam; |TIPO 3;
|SI FSalida = 1;|O FSalida = 7;    |ACABA;   |FINSI;

|ATRI R;  |MENSA "    Descripcion ampliada del concepto.";  |ATRI 0;

|DDEFECTO #4;
|ABRE #4;
    #4#0 = #0#0;     || convenio
    #4#1 = #0#2;     || concepto
|LEE 101#4=;
    FEstado = FSalida;

    ampli = #4#2;

    E_sup = 25;
    E_inf = "";
    ampli = 2153 ? 1;
|SI FSalida ! 7;
    |QBF ampli;
        #4#2 = ampli;
|FINSI;

|SI FEstado = 0;     |GRABA 020#4a; |FINSI;
|SI FEstado ! 0;     |GRABA 020#4n; |FINSI;
|LIBERA #4;
|CIERRA #4;

|ATRI R;  |BLIN 4;                                          |ATRI 0;
|FPRC;
