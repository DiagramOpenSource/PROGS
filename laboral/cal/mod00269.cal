|FICHEROS;
     mod00269 #0;
     mod00267;
|FIN;

|VARIABLES;
     fFechaHasta = @;
     fFechaDesde = @;
     nTopeMes = 0;
     nMes = 0;
     nAny = 0;
     nNume = 0;
     aAlfa = "";
     aAlfa1 = "";
     aAlfa2 = "";
     aAlfa3 = "";
     swSal = 0;
|FIN;

|PROCESO max;
     #mod00267#0 = #0#0;
     #mod00267#1 = #0#1;
     #mod00267#2 = fFechaHasta;
|FPRC;

|PROCESO min;
     #mod00267#0 = #0#0;
     #mod00267#1 = #0#1;
     #mod00267#2 = fFechaDesde;
|FPRC;

|PROCESO topemes;
     nTopeMes = 31;
     |SI nMes = 4; |O nMes = 6; |O nMes = 9; |O nMes = 11;
          nTopeMes = 30;
     |FINSI;
     |SI nMes = 2;
          nTopeMes = 28;
          nNume = nAny $ 4;
          |SI nNume = 0;
               nTopeMes = 29;
          |FINSI;
     |FINSI;
|FPRC;

|PROGRAMA;
     |CLS;
     |CABEZA "Mantenimiento de Horas Trabajadas";
     |PINPA #0#0;
     |PINDA #0#0;

     |PARA; |SI swSal = 0; |HACIENDO;

     |ENDATOS #1#0;
     |SI FSalida = 0;
          nAny = #0#2;
          nMes = #0#3;
          |HAZ topemes;

          aAlfa1 = "01";
          aAlfa2 = nMes; |QBF aAlfa2; aAlfa2 = ("00" + aAlfa2) % -102;
          aAlfa3 = nAny;
          aAlfa = aAlfa1 + "." + aAlfa2 + "." + aAlfa3;
          fFechaDesde = aAlfa;

          aAlfa1 = nTopeMes;
          aAlfa = aAlfa1 + "." + aAlfa2 + "." + aAlfa3;
          fFechaHasta = aAlfa;

          |ENTLINEAL #1#mod00267, 3, 2, 22, 0, min, max;
     |SINO;
          swSal = 1;
     |FINSI;

     |SIGUE;
|FPRO;
