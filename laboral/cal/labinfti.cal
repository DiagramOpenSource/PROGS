|FICHEROS;
    labinfti #0;
    labcatip #1;
    lablitip #2;
    labtraba #3;
    labempre #4;
|FIN;

|VARIABLES;
    &linea = 0;
    empresa = 0;
    ejercicio = 0;
    seleccio = 0;
|FIN;

|PROCESO impresion;
|DDEFECTO #3;
    #4#0 = #2#0;
    |LEE 000#4=;
    #3#0 = #2#0;
    #3#1 = #2#5;
    |LEE 000#3=;
    |SI empresa ! #1#0;|O ejercicio ! #1#1;
        linea = 1;
        empresa = #1#0;
        ejercicio = #1#1;
    |FINSI;
    |PRINT;
    linea = 0;
    seleccio = 1;
|FPRC;

|PROCESO imprelin;
|BUCLELIN 2impresion#1;
|FPRC;

|DEFBUCLE labinfti0;
 #1#1;
 ;
 #0#0, #0#2;
 #0#1, #0#3;
 ;
 NULL, imprelin;
|FIN;

|PROCESO tipo3; |TIPO 3;
|IMPRE 0;
|SI FSalida = 0;
    |INFOR "labinfti";
    |ABRE #3;
    |ABRE #4;
    |BUCLE labinfti0;
    |CIERRA #4;
    |CIERRA #3;
    |SI seleccio ! 0;
        |PIEINF;
    |SINO;
        |MENAV "    Seleccion vacia ...";
    |FINSI;
    |FININF;
|SINO;
    |MENAV "    Proceso abortado ...";
|FINSI;
|FINIMP;
|FPRC;
