|FICHEROS;
    nomforma #0;
    labempre #1;
    labtraba #2;
    labcentr #3;
|FIN;

|VARIABLES;
    fijo1 = 0;
    fijo2 = 0;
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    mid = 0;
    xxxxfiac = "  ";
    xxaponer = "  ";
    xrelleno = "                              ";
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    alfa5 = "";
|FIN;

****************************************************************************
    LECTURAS Y CALCULOS
****************************************************************************

|PROCESO empresa;
     #0#10 = #1#0;  |PINTA #0#10;
     alfa1 = #1#13;
     fijo1 = 10;
     fijo2 = 308;
     |HAZ format;
     #1#13 = alfa3;
     |GRABA 020#1a;
     |LIBERA #1;
|FPRC;

|DEFBUCLE nomforma0;
 #1#1;
 ;
 #0#1;
 #0#2;
 be;
 NULL, empresa;
|FIN;

|| ***********************

|PROCESO centros;
     #0#10 = #3#0;  |PINTA #0#10;
     #0#12 = #3#1;  |PINTA #0#12;
     alfa1 = #3#10;
     fijo1 = 10;
     fijo2 = 308;
     |HAZ format;
     #3#10 = alfa3;
     |GRABA 020#3a;
     |LIBERA #3;
|FPRC;

|DEFBUCLE nomforma1;
 #3#1;
 ;
 #0#1, #0#7;
 #0#2, #0#8;
 be;
 NULL, centros;
|FIN;

|| ***********************

|PROCESO trabaja;
     #0#10 = #2#0;  |PINTA #0#10;
     #0#11 = #2#1;  |PINTA #0#11;
     alfa1 = #2#75;
     fijo1 = 11;
     fijo2 = 309;
     |HAZ format;
     #2#75 = alfa3;
     |GRABA 020#2a;
     |LIBERA #2;
|FPRC;

|DEFBUCLE nomforma2;
 #2#1;
 ;
 #0#1, #0#4;
 #0#2, #0#5;
 be;
 NULL, trabaja;
|FIN;

|PROCESO formato; |TIPO 3;
|SI #0#0 = "S";  |BUCLE nomforma0;  |FINSI;  || empresas
|SI #0#6 = "S";  |BUCLE nomforma1;  |FINSI;  || centros
|SI #0#3 = "S";  |BUCLE nomforma2;  |FINSI;  || trabajadores
|FPRC;

****************************************************************************
    LECTURAS Y CALCULOS
****************************************************************************

|PROCESO format;
     |QBT alfa1;
     alfa2 = alfa1 % 0;
     alfa3 = "";
     nume1 = alfa2;
     nume3 = 0;
     |PARA mid = 1; |SI mid [ nume1; |HACIENDO mid = mid + 1;
          nume2 = (mid * 100) + 1;
          alfa2 = alfa1 % nume2;
          |SI alfa2 ! #0#9;
               nume3 = nume3 + 1;
               alfa3 = alfa3 + alfa2;
          |FINSI;
     |SIGUE;

     |SI #0#13 = "S";
          alfa1 = alfa3 % 102;
          alfa2 = alfa3 % 3;       |QBF alfa2;
          alfa4 = alfa2 % 0;
          nume1 = alfa4;
          nume2 = fijo1 - 2;
          nume3 = nume2 - nume1 + 1;
          |SI nume3 > 0;
               alfa4 = "0" * nume3;
               alfa3 = alfa1 + alfa4 + alfa2;
          |FINSI;
     |FINSI;
|FPRC;
