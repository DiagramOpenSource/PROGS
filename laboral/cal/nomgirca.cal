|FICHEROS;
     nomgirca #0;
     nomgirli #1,MANTE;
     nomgirhi;
     labtraba;
|FIN;

|VARIABLES;
     aClave = "";
     aBase = "";
     swProduccion = 0;
     nModo = 0;
     aAlfa = "";
     nNume = 0;
     &nEmp = 0;
     &nAny = 0;
     &nMes = 0;
|FIN;

|PROCESO Bloquea; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3;
          |MENAV "    No está disponible el modo baja";
          |PTEC 806;
     |FINSI;
|FPRC;

|PROCESO Bloquea2; |TIPO 1;
     |HAZ Bloquea;
|FPRC;

|PROCESO Error; |TIPO 0;
     |SI FSalida ! 2; |Y FSalida ! 3; |Y FSalida ! 1; |Y FSalida ! 7;
          |ERROR;
     |FINSI;
|FPRC;

|PROCESO MinInc;
     #nomgirhi#0 = #nomgirli#0;
     #nomgirhi#1 = #nomgirli#1;
     #nomgirhi#2 = #nomgirli#2;
     #nomgirhi#3 = #nomgirli#3;
     #nomgirhi#4 = 001;
     #nomgirhi#9 = " ";
|FPRC;

|PROCESO MaxInc;
     #nomgirhi#0 = #nomgirli#0;
     #nomgirhi#1 = #nomgirli#1;
     #nomgirhi#2 = #nomgirli#2;
     #nomgirhi#3 = #nomgirli#3;
     #nomgirhi#4 = 999;
     #nomgirhi#9 = "z ";
|FPRC;

|PROCESO ConsultaInc;
     |ABRE #nomgirhi;
     |CONSULTA_F_CLAVE #1#nomgirhi, MinInc, MaxInc;
     |CIERRA #nomgirhi;
|FPRC;

|PROCESO MinTra;
     #nomgirhi#0 = #nomgirli#0;
     #nomgirhi#1 = #nomgirli#1;
     #nomgirhi#2 = #nomgirli#2;
     #nomgirhi#5 = #nomgirli#5;
     #nomgirhi#4 = 001;
|FPRC;

|PROCESO MaxTra;
     #nomgirhi#0 = #nomgirli#0;
     #nomgirhi#1 = #nomgirli#1;
     #nomgirhi#2 = #nomgirli#2;
     #nomgirhi#5 = #nomgirli#5;
     #nomgirhi#4 = 999;
|FPRC;

|PROCESO ConsultaTra;
     |ABRE #nomgirhi;
     |CONSULTA_F_CLAVE #2#nomgirhi, MinTra, MaxTra;
     |CIERRA #nomgirhi;
|FPRC;

|PROCESO Consulta; |TIPO 11;
     |SI FSalida = 13;
          |HAZ ConsultaTra;
     |FINSI;
     |SI FSalida = 14;
          |HAZ ConsultaInc;
     |FINSI;
     |SI FSalida ! 2; |Y FSalida ! 3; |Y FSalida ! 1; |Y FSalida ! 7;
          |ERROR;
     |FINSI;
|FPRC;

|PROCESO Activa; |TIPO 7;
     |DBASS aBase;   |QBT aBase;
     aBase = aBase % -109;
     |SI aBase = "dsprofes/";
          swProduccion = 0;
     |FINSI;
     |SI swProduccion ! 0;
          nModo = (FEntrada / 100) ! 0;
          |SI nModo ! 4;
               aAlfa = "    Operación no permitida desde este mantenimiento. ";
               aAlfa = aAlfa + "Sólo es posible el acceso en modo Consulta.";
               |MENAV aAlfa;
               |PTEC 807;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO Nombre; |TIPO 7;
     |ABRE #labtraba;
     aAlfa = #nomgirli#3;
     aAlfa = aAlfa % 105;
     nNume = aAlfa;
     #labtraba#0 = #nomgirca#0;
     #labtraba#1 = nNume;
     |LEE 000#labtraba.=;
     |PINTA 2212, #labtraba#2;
     |PINTA 2266, #labtraba#7;
     |CIERRA #labtraba;
|FPRC;

|PROCESO Tipo20; |TIPO 20;
     |SI FSalida = "OPCION";
          FSalida = "Imprimir";
     |SINO;
          nEmp = #0#0;
          nAny = #0#1;
          nMes = #0#2;
          |SUB_EJECUTA "nomgirin;nomgirca";
     |FINSI;
|FPRC;
