|FICHEROS;
     hotm0025 #0;
     hotm0026 #1;        || temporal
     hotm0028 #2;        || conceptos definidos

     labtraba #10;
     nomtrali #11;
     nomcatli #12;
|FIN;

|VARIABLES;
     aAlfa1 = "";
     aAlfa2 = "";
     aAlfa3 = "";
     aAlfa4 = "";
     nNume1 = 0;
     nNume2 = 0;
     nNume3 = 0;
     nNume4 = 0;
|FIN;

|| ____________________________ imprime temporal
|PROCESO ImpreTemporal;
     |PRINT;
|FPRC;

|DEFBUCLE ImpreTemporal;
     #hotm0026#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, ImpreTemporal;
|FIN;

|| ____________________________ carga temporal
|PROCESO LeeConceptos;
     #nomtrali#0 = #labtraba#0;
     #nomtrali#1 = #labtraba#1;
     #nomtrali#2 = #hotm0028#1;
     |LEE 000#nomtrali.=;
     |SI FSalida = 0;|Y #nomtrali#4 ! "            ";
          nNume1 = #nomtrali#3;
          |SI nNume1 = 0;     nNume1 = 30;   |FINSI;
          nNume2 = #nomtrali#4;
          #hotm0026#8 = #hotm0026#8 + (nNume1 * nNume2);
     |SINO;
          #nomcatli#0 = #hotm0028#0;
          #nomcatli#1 = #hotm0026#9;
          #nomcatli#2 = #hotm0028#1;
          |LEE 000#nomcatli.=;
          |SI FSalida = 0;|Y #nomcatli#4 ! "            ";
               nNume1 = #nomcatli#3;
               |SI nNume1 = 0;     nNume1 = 30;   |FINSI;
               nNume2 = #nomcatli#4;
               #hotm0026#8 = #hotm0026#8 + (nNume1 * nNume2);
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE LeeConceptos;
     #hotm0028#1;
     ;
     #labtraba#87, 001;
     #labtraba#87, 999;
     ;
     NULL, LeeConceptos;
|FIN;

|PROCESO CreaTemporal;
     |DDEFECTO #hotm0026;
     #hotm0026#0 = #labtraba#0;
     #hotm0026#1 = #labtraba#77;
     #hotm0026#2 = #labtraba#1;
     #hotm0026#3 = #labtraba#2;
     #hotm0026#4 = #labtraba#36;
     #hotm0026#5 = #labtraba#18;
     #hotm0026#6 = #labtraba#19;
     #hotm0026#7 = #labtraba#7;
     #hotm0026#9 = #labtraba#17;
     |BUCLE LeeConceptos;
     |SI #hotm0026#8 > 0;
          |GRABA 020#hotm0026.n;
     |FINSI;
|FPRC;

|DEFBUCLE CreaTemporal;
     #labtraba#1;
     ;
     #hotm0025#0, #hotm0025#4;
     #hotm0025#1, #hotm0025#5;
     ;
     NULL, CreaTemporal;
|FIN;

|PROGRAMA;
     |CLS;
     |CABEZA "Informe Base Calculo Referencial Costes Laborales";
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |SI FSalida = 0;
          |IMPRE 0;
          |SI FSalida ! 0; |ACABA; |FINSI;

          |INFOR "hotm0025";
          |SI FSalida ! 0; |FINIMP; |ACABA; |FINSI;

          aAlfa1 = Usuario;
          |QBF aAlfa1;
          |NOME_DAT #hotm0026#aAlfa1#;
          |DELINDEX #hotm0026;
          |ABRE #hotm0026;
          |ABRE #nomtrali;
          |ABRE #nomcatli;
          |BUCLE CreaTemporal;
          |BUCLE ImpreTemporal;
          |PIEINF;
          |FININF;
          |FINIMP;
          |CIERRA #hotm0026;
          |CIERRA #nomcatli;
          |CIERRA #nomtrali;
          |DELINDEX #hotm0026;
     |FINSI;
|FPRO;
