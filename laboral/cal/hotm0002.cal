|FICHEROS;
     hotm0002 #0;
     hotm0001 #1; || temporal trabajadores
     labtraba #2; || trabajadores aginom
|FIN;


|VARIABLES;
     nContador=0;
     nExiste=0;
     aCadena1="";
     aCadena2="";
     aCadena3="";
     aCadena4="";
     swSigue = 0;
     aAlfa = "";
|FIN;

|PROCESO PIntroducir;
     #2#0=#1#0;
     #2#1=#1#1;
     |LEE 101#2=;
     nExiste=FSalida;

     swSigue = 1;

     |SI nExiste = 0; |Y #0#5="N";
          || no hacer nada
          swSigue = 0;
     |FINSI;

     aAlfa = #1#5;
     |QBF aAlfa;
     |SI aAlfa = "";
          swSigue = 0;
     |FINSI;

     aAlfa = #1#13;
     |QBF aAlfa;
     |SI aAlfa = "";
          swSigue = 0;
     |FINSI;

     |SI swSigue = 1;
          nContador=nContador+1;
          |DDEFECTO #2;
          #2#0=#1#0;
          #2#1=#1#1;
          #2#77=#1#2;
          #2#62=#1#3;
          #2#63=#1#4;

          aCadena1=#1#5;
          aCadena2=#1#9;
          aCadena3=#1#10;
          |QBF aCadena1;
          |QBF aCadena2;
          |QBF aCadena3;

          aCadena4="";
          |SI aCadena2!"";
               aCadena4=aCadena2;
          |FINSI;
          |SI aCadena3!"";
               |SI aCadena4="";
                    aCadena4=aCadena3;
               |SINO;
                    aCadena4=aCadena4+" "+aCadena3;
               |FINSI;
          |FINSI;
          |SI aCadena1!"";
               |SI aCadena4="";
                    aCadena4=aCadena1;
               |SINO;
                    aCadena4=aCadena4+" "+aCadena1;
               |FINSI;
          |FINSI;
          #2#2=aCadena4;


          #2#75=#1#12;

          #2#7=#1#13;  ||nif
          #2#26=#1#13; || n§ demanda

          #2#3=#1#14;
          #2#4=#1#15;
          #2#5=#1#16;
          #2#6=#1#17;
          #2#8=#1#18;
          #2#9=#1#19;
          #2#10=#1#20;
          #2#76=#1#21;
          #2#11=#1#22;
          #2#244=#1#24;
          #2#19=#1#27;   || profesion=categoria
          #2#238=#1#28;  || puesto de trabajo

          #2#36=#1#29;  || fechas de alta
          #2#34=#1#29;  || antiguedad
          #2#38=#1#29;  || recibo

          #2#24=#1#37;
          #2#27=#1#38;
          #2#70=#1#39;
          #2#71=#1#41;  || codigo de banco
          #2#72=#1#44;


          || lineas de comentario de recibo y TC2
          aCadena1="";
          aCadena2=#1#55;
          |QBF aCadena2;
          |SI aCadena2!"";
               aCadena1="C:"+aCadena2;
          |FINSI;

          aCadena2="J:"+#1#32;
          |SI #1#34!0;
               aCadena3=#1#34;
               aCadena2=aCadena2+" "+aCadena3;
          |FINSI;
          |SI #1#35!0;
               aCadena3=#1#35;
               aCadena2=aCadena2+" "+aCadena3;
          |FINSI;
          |SI #1#36!0;
               aCadena3=#1#36;
               aCadena2=aCadena2+" "+aCadena3;
          |FINSI;

          |SI aCadena1!"";
               aCadena1=aCadena1+" "+aCadena2;
          |SINO;
               aCadena1=aCadena2;
          |FINSI;

          |SI #1#51!0;
               aCadena2=#1#51;
               |SI aCadena1="";
                    aCadena1="S:"+aCadena2;
               |SINO;
                    aCadena1=aCadena1+" S:"+aCadena2;
               |FINSI;
          |FINSI;
          |SI #1#52!0;
               aCadena2=#1#52;
               |SI aCadena1="";
                    aCadena1="I:"+aCadena2;
               |SINO;
                    aCadena1=aCadena1+" I:"+aCadena2;
               |FINSI;
          |FINSI;
          aCadena2=#1#53;
          |QBF aCadena2;
          |SI aCadena2!"";
               |SI aCadena1="";
                    aCadena1=aCadena2;
               |SINO;
                    aCadena1=aCadena1+" "+aCadena2;
               |FINSI;
          |FINSI;
          #2#49=aCadena1;   || comentario en recibo



          aCadena2=#1#31;
          |QBF aCadena2;
          |SI aCadena2!"";
               aCadena1="D:"+aCadena2;
          |FINSI;
          #2#245=aCadena1;  || comentario TC2


          |SI nExiste=0;
               |GRABA 020#2a;
          |SINO;
               |GRABA 020#2n;
          |FINSI;

          |SI #0#4="S";
               |BORRA 020#1a;
          |FINSI;

     |FINSI;
|FPRC;


|DEFBUCLE BIntroducir;
     #1#1;
     ;
     #0#0,#0#2;
     #0#1,#0#3;
     ;
     NULL,PIntroducir;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     nContador=0;
     |ABRE #2;
     |BUCLE BIntroducir;
     |CIERRA #2;
     aCadena1=nContador;
     aCadena2="0000Actualizados "+aCadena1+" Trabajadores";
     |MENAV aCadena2;
|FPRC;
