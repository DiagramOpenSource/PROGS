|FICHEROS;
     nomexdca #0;
     nomexdli #1,MANTE;
     nomtrato;
|FIN;

|VARIABLES;
     aAlfa = "";
     nNume = 0;
|FIN;

|PROCESO Min;
     #nomtrato#0 = 111;
     #nomtrato#1 = 001;
|FPRC;

|PROCESO Max;
     #nomtrato#0 = 111;
     #nomtrato#1 = 999;
|FPRC;

|PROCESO ValidaContrato;
     |SI FSalida = 13;
          |ABRE #nomtrato;
          |CONSULTA_F_CLAVE #1#nomtrato, Min, Max;
          |SI FSalida = 0;
               #0#1 = #nomtrato#1;   || codigo contrato
               #0#2 = #nomtrato#2;      || descripcion contrato
               |PINTA #0#2;
          |FINSI;
          |CIERRA #nomtrato;
     |SINO;
          |ABRE #nomtrato;
          nNume = #0#1;
          aAlfa = nNume;
          aAlfa = "000" + aAlfa;
          aAlfa = aAlfa % -103;
          #nomtrato#0 = #0#1;
          #nomtrato#1 = 111;
          |LEE 000#nomtrato.=;
          |SI FSalida ! 0;
               aAlfa = "    El contrato " + aAlfa + " no existe en el Mantenimiento ";
               aAlfa = aAlfa + "de Contratos. Pulse F5 para ver los existentes."
               |MENAV aAlfa;
               |ERROR;
          |FINSI;
          |CIERRA #nomtrato;
     |FINSI;
|FPRC;
