|FICHEROS;
     labcer01 #1;
     labcer02 #2;
     labcer03 #3,MANTE;

     labtraba;
|FIN;

|VARIABLES;
     nInd = 0;
     nModo = 0;
     FEstado = 0;
     &swAlgo = 0;
     &fIniCamp = @;
     &fFinCamp = @;
     nContrato = 0;
     aAlfa = "";
|FIN;

|PROCESO Contrato; |TIPO 0;
     |ABRE #labtraba;
     #labtraba#0 = #2#0;
     #labtraba#1 = #2#5;
     |LEE 000#labtraba.=;
     |SI FSalida = 0;
          nContrato = #labtraba#45;
          |SI nContrato < 300; |O nContrato > 399;
               aAlfa = "    ATENCION. El trabajador no tiene contrato fijo discontinuo.";
               aAlfa = aAlfa + " Compruebe los datos si es necesario";
               |MENAV aAlfa;
          |FINSI;
     |FINSI;
     |CIERRA #labtraba;
|FPRC;

|PROCESO Borra_03;
     |BORRA 020#3a;
|FPRC;

|DEFBUCLE Borra_03;
     #3#1;
     ;
     #2#0, #2#1, #2#5, 0000;
     #2#0, #2#1, #2#5, 9999;
     ;
     NULL, Borra_03;
|FIN;

|PROCESO superior03;
     #3#0 = #2#0;
     #3#1 = #2#1;
     #3#5 = #2#5;
     #3#7 = 9999;
|FPRC;

|PROCESO inferior03;
     #3#0 = #2#0;
     #3#1 = #2#1;
     #3#5 = #2#5;
     #3#7 = 0000;
|FPRC;

|PROCESO Tipo2_cer02; |TIPO 2;
     nModo = (FEntrada / 100)! 0;
     nInd = 0 +. 1;

     |SI nInd ! -1; |Y nModo = 2;
          |ACABA;
     |FINSI;

     |SI nModo ! 3;
          #2#2 = #1#2;
          #2#3 = #1#3;
          #2#4 = #1#4;

          |ABRE #3;

          |SI nModo = 1;
               #3#0 = #2#0;
               #3#1 = #2#1;
               #3#5 = #2#5;
               #3#7 = 0;
               |LEE 000#3=;
               |SI FSalida ! 0;
                    #3#8 = #1#3;
                    #3#9 = #1#4;
                    #3#10 = 00;
                    #3#11 = "Inicio/fin campa¤a trabajador";
                    #3#12 = " ";
                    |SI #labtraba#42 = "C";
                         #3#16 = 01;
                    |FINSI;
                    |SI #labtraba#42 = "F";
                         #3#16 = 02;
                    |FINSI;
                    |GRABA 020#3n;
               |FINSI;
          |SINO;
               #3#0 = #2#0;
               #3#1 = #2#1;
               #3#5 = #2#5;
               #3#7 = 0;
               |LEE 000#3=;
          |FINSI;

          |CIERRA #3

          fIniCamp = #3#8;
          fFinCamp = #3#9;
          |ENTLINEAL #1#3, -4, 2, 20, 0, inferior03, superior03;
     |SINO;
          |BUCLE Borra_03;
     |FINSI;
|FPRC;

|PROCESO Tipo13; |TIPO 13;
     |ENTLINEAL #1#3, -4, 7, 20, 0, inferior03, superior03;
|FPRC;

|PROCESO MuestraNada; |TIPO 7;     || para que al dar de alta el trabajador 1
     nModo = (FEntrada / 100) ! 0;
     ||SI swAlgo = 0;               || la primera vez no se vea la pantalla vacia
     |SI nModo = 1;               || la primera vez no se vea la pantalla vacia
          |ENTLINEAL #1#3, -4, 7, 20, 0, inferior03, superior03;
          swAlgo = 1;
     |FINSI;
|FPRC;
