|FICHEROS;
    labempre #0;
    labtraba #1;
    mod00253 #2;
    labregis #3;
|FIN;

|VARIABLES;
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    para1 = 0;
    para2 = 0;
    para3 = 0;
    para4 = 0;
    fech1 = @;
    fech2 = @;
    fech3 = @;
    fech4 = @;

    &calle = "";
    &local = "";
    &locae = "";
    &ltipo = "";
    &causa = "";
    &lfinal1 = "";
    &lfinal2 = "";
|FIN;

||INCLUYE i_comun;

|PROCESO no_empresa; |TIPO 0;
|SI #2#0 = 0;
        alfa1 = "S";
|SINO;
        alfa1 = "N";
|FINSI;
|CAMPO_MODIFICA #2#1, 1, alfa1;
|CAMPO_MODIFICA #2#2, 1, alfa1;
|CAMPO_MODIFICA #2#3, 1, alfa1;
|CAMPO_MODIFICA #2#4, 1, alfa1;
|CAMPO_MODIFICA #2#5, 1, alfa1;
|CAMPO_MODIFICA #2#6, 1, alfa1;
|CAMPO_MODIFICA #2#7, 1, alfa1;
|FPRC;

|PROCESO no_trabaja; |TIPO 0;
|SI #2#10 = 0;
        alfa1 = "S";
|SINO;
        alfa1 = "N";
|FINSI;
|CAMPO_MODIFICA #2#11, 1, alfa1;
|CAMPO_MODIFICA #2#12, 1, alfa1;
|CAMPO_MODIFICA #2#13, 1, alfa1;
|CAMPO_MODIFICA #2#14, 1, alfa1;
|CAMPO_MODIFICA #2#15, 1, alfa1;
|CAMPO_MODIFICA #2#16, 1, alfa1;
|CAMPO_MODIFICA #2#17, 1, alfa1;
|HAZ def_regis;
|FPRC;

|PROCESO def_regis;
    #2#9 = ~;  nume1 = #2#9;   nume1 = nume1 + 15;     #2#9 = nume1;
|ABRE #3;
|SELECT #2#3;
   #3#1 = #2#0;
   #3#2 = #2#10;
|LEE 000#3=;
|SI FSalida = 0;
    |SI #3#15 = 0;
        |SI #3#8 ! "..........";|Y #3#8 ! "          ";
                #2#9 = #3#8;       || fin contrato
        |FINSI;
    |SINO;
        |SI #3#20 ! "..........";|Y #3#20 ! "          ";
                #2#9 = #3#20;          || fin prorroga
        |FINSI;
    |FINSI;
|FINSI;
|CIERRA #3;

    nume1 = #2#9;   nume1 = nume1 - 15; #2#8 = nume1;

|PINTA #2#8;
|PINTA #2#9;
|FPRC;

|PROCESO fecha; |TIPO 0;
|SI FSalida ! 2;
        nume1 = #2#9 - #2#8;
    |SI nume1 < 15;
        |MENAV "    La fecha de preaviso es INFERIOR a 15 dias ...";
    |FINSI;
|FINSI;
|FPRC;

|PROCESO def_tipo; |TIPO 7;
|SI #1#42 = "E";
        #2#18 = 1;
|SINO;
        #2#18 = 2;
|FINSI;
|PINTA #2#18;
|HAZ pin_tipo;
|FPRC;

|PROCESO pin_tipo; |TIPO 0;
|SI #2#18 = 1;
     ltipo = "EVENTUAL        ";
     lfinal1 = "se extingue";
     lfinal2 = "finalizadas";
|FINSI;
|SI #2#18 = 2;
     ltipo = "FIJO DISCONTINUO";
     lfinal1 = "queda suspendido";
     lfinal2 = "suspendidas";
|FINSI;
|ATRI I;
|PINTA 2025, ltipo;
|ATRI 0;
|FPRC;

|PROCESO pin_causa; |TIPO 0;
|SI #2#19 = 1; causa = "DISMINUCION PRODUCTO"; |FINSI;
|SI #2#19 = 2; causa = "FIN DE CAMPA¥A      "; |FINSI;
|SI #2#19 = 3; causa = "FIN DE SERVICIOS    "; |FINSI;
|ATRI I;
|PINTA 2125, causa;
|ATRI 0;
|FPRC;

|PROCESO detalles;
    alfa1 = #2#5;   |QBF alfa1;
    alfa2 = #2#5 - alfa1;
    local = alfa2 + alfa1;

    alfa1 = #2#2;   |QBF alfa1;
    alfa2 = #2#3;   |QBF alfa2;
    alfa3 = #2#4;   |QBF alfa3;
    calle = alfa1 + ", " + alfa2 + "-" + alfa3;

    alfa1 = #2#5;   |QBF alfa1;
    alfa2 = #0#9;   |QBF alfa2;
    locae = alfa1 + " (" + alfa2 + ")";
|FPRC;

|PROCESO tipo3; |TIPO 3;
|IMPRE 0;
|SI FSalida = 0;
    ||HAZ r_regis0;
        ||r_emp = #2#0;
    ||HAZ r_regis1;
    |HAZ detalles;
    |PARA para1 = 1;|SI para1 [ #2#20;|HACIENDO para1 = para1 + 1;
        |INFOR "mod00253";
        |PRINT;
        |PIEINF;
        |FININF;
    |SIGUE;
|SINO;
    |MENAV "    Proceso abortado ...";
|FINSI;
|FINIMP;
|FPRC;
