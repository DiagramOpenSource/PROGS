|FICHEROS;
    labconpl #0;
    labempre #1;         || empresas
    labtraba #2;         || trabajadores

    labrespl #5,MANTE;   || planilla seleccion
|FIN;

|VARIABLES;
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    para1 = 0;
    para2 = 0;
    para3 = 0;
    para4 = 0;
    fech1 = @;
    fech2 = @;
    fech3 = @;
    fech4 = @;
    elsw1 = 0;
    elsw2 = 0;
    elsw3 = 0;
    elsw4 = 0;
    FEstado = 0;
    seleccio = 0;
    modo = 0;
    sw_rup = 0;

    emp_ant = 0;
    demp = 0;
    hemp = 0;
    &plantilla = 0;
|FIN;
____________________________________/ DESDE CAMPOS
|PROCESO mayus; |TIPO 0;
    #0Campo = #0Campo > #0Campo;
|PINTA #0Campo;
|FPRC;

|PROCESO fecha; |TIPO 7;
|SI elsw1 = 0;
        elsw1 = 1;
        fech1 = ~;
        alfa1 = fech1;
        alfa1 = alfa1 % -104;
        nume1 = alfa1;
        nume1 = nume1 - 1;
        alfa1 = nume1;
        alfa1 = "31.12." + alfa1;
        #0#2 = alfa1;
    |PINTA #0#2;
|FINSI;
|FPRC;

|PROCESO min;
    #5#0 = 1;
|FPRC;

|PROCESO max;
    #5#0 = 99999;
|FPRC;

|PROCESO noentres; |TIPO 0;
|SI #0#3 = "S";
        alfa1 = "N";
    |PUSHV 0501 2380;
    |ENTLINEAL #1#5, 1, 3, 22, 1, min, max;
    |POPV;
|SINO;
        alfa1 = "S";
|FINSI;
|CAMPO_MODIFICA #0#0, 1, alfa1;
|CAMPO_MODIFICA #0#1, 1, alfa1;
|FPRC;
____________________________________/
|PROCESO imprime;
|DDEFECTO #1;
    #1#0 = emp_ant;
|LEE 000#1=;
|PRINT;
    plantilla = 0;
    emp_ant = #2#0;
|FPRC;

|PROCESO trabajador1;
|SI sw_rup = 0;
        seleccio = 1;
        sw_rup = 1;
        emp_ant = #2#0;
|FINSI;

|SI emp_ant ! #2#0;
    |HAZ imprime;
|FINSI;

|SI #2#37 = "          ";|O #2#37 = "..........";
        plantilla = plantilla + 1;
|SINO;
        fech1 = #2#37;
    |SI fech1 ] #0#2;
            plantilla = plantilla + 1;
    |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE trabajador;
 #2#1;
 ;
 demp,     1;
 hemp, 99999;
 ;
 NULL, trabajador1;
|FIN;

|PROCESO planilla1;
    seleccio = 0;
    sw_rup = 0;
    demp = #5#0;
    hemp = #5#0;
|BUCLE trabajador;
|SI seleccio ! 0;
    |HAZ imprime;
|FINSI;
|FPRC;

|DEFBUCLE planilla;
 #5#1;
 ;
     1;
 99999;
 ;
 NULL, planilla1;
|FIN;

|PROCESO tipo3; |TIPO 3;
|IMPRE 0;
|SI FSalida = 0;
    |INFOR "labconpl";
    |ABRE #1;
    |SI #0#3 = "N";
            demp = #0#0;
            hemp = #0#1;
        |BUCLE trabajador;
        |SI seleccio ! 0;
            |HAZ imprime;
            |PIEINF;
        |FINSI;
    |SINO;
        |BUCLE planilla;
        |PIEINF;
    |FINSI;
    |CIERRA #1;
    |FININF;
|SINO;
    |MENAV "    Proceso abortado ...";
|FINSI;
|FINIMP;
|FPRC;
