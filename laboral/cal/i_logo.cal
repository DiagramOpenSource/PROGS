|VARIABLES;
     aBase = "";
     aFotoOrigen = "";
     nHandle = 0;
     aLong = "";
     nLong = 0;
     nCaracter = 0;
     nPos = 0;
     aLogo = "";
     aCaracter = "";
     aDirLocal = "";
     aFotoDestino = "";
     {1}aContiene = "";
     aDocRemoto = "";
     aDocServidor = "";
     aIPRemoto = "";
     aFoto = "";

     &eaNomLogo = "";
     &enPantaLogo = 0;
     &enCtrlLogo = 0;

     nPanta = "";
     nBoton = 0;
|FIN;

|PROCESO logo; |TIPO 13;
     eaNomLogo = "logon.bmp";
     |HAZ TraeLogoPan;

     |PINPA #0#0;
     enPantaLogo = FSalida;
     nPanta = enPantaLogo;
     |HAZ PintaLogoPan;

     nBoton = FSalida;

     |ESTADO_CONTROL nBoton, "ENABLE";
|FPRC;

|PROCESO TraeLogoPan;
     |DBASE aBase;
     |QBF aBase;
     aFotoOrigen = aBase + "documentos/logos/" + eaNomLogo;
     |XABRE "E", aFotoOrigen, nHandle;
     |SI FSalida < 0;  |ACABA;  |FINSI;

     aDirLocal    = "C:\DOCUMENTOS";                        |RMKDIR aDirLocal;
     aDirLocal    = "C:\DOCUMENTOS\DSPARQUE\";              |RMKDIR aDirLocal;
     aFotoDestino = aDirLocal + eaNomLogo;

     aContiene1 = aFotoDestino;
     |ESPECIFICA "REMOTOMD5", aContiene;
     aDocRemoto = FSalida;  |QBF aDocRemoto;

     aContiene1 = aFotoOrigen;
     |ESPECIFICA "MD5", aContiene;
     aDocServidor = FSalida;  |QBF aDocServidor;

     |SI aDocRemoto ! aDocServidor;  |O aDocRemoto = "";
         aIPRemoto = "";
         |IP_REMOTO aIPRemoto;  |QBT aIPRemoto;

         |SI aIPRemoto ! "";
             |ENVIA_FICHERO aFotoOrigen, aFotoDestino;
         |SINO;
             |COPIA_FICHERO aFotoOrigen, aFotoDestino;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO PintaLogoPan;
     aFotoDestino = "C:\DOCUMENTOS\DSPARQUE\" + eaNomLogo;
     aFoto = "IMAGEN,"  + aFotoDestino;
     |CONTROL_SIMPLE enPantaLogo, aFoto, 0501, 0799, NULL;
     enCtrlLogo = FSalida;
     |PULSATECLA;
|FPRC;

|PROCESO PintaLogoSimple;
     aFotoDestino = "C:\DOCUMENTOS\DSPARQUE\" + eaNomLogo;
     aFoto = "IMAGEN,"  + aFotoDestino;
     |CONTROL_SIMPLE enPantaLogo, aFoto, 0501, 0724, NULL;
     enCtrlLogo = FSalida;
     |PULSATECLA;
|FPRC;
