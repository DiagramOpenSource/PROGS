|FICHEROS;
     bomb0004 #0; || Cabecera
     bomb0005 #1; || Lineas
|FIN;

|VARIABLES;
     Puntero = 0;
     DocRecibo = 0;
     Comodin = "";

     nBaffer = 0;
     nTotalLinea = 0; nTope = 0; nVari1 = 0; nVari2 = 0;

     &enModoEdita  = 0;
     &enTotalVaria = 0;
     &enCampoAncho = 0;
     &eaNombreList  = "";
     &enCuadroIni   = 0;
     &enCuadroFin   = 0;

{100}&epPuntEdita   = "";

     &aAlojamiento = "";
     aAlfa = "";
     aCodigo = "";
     nCodigo = 0;
     aAny = "";
     nModo = 0;
|FIN;

|PROCESO GrabaSecuencial;
     IepPuntEdita  = epPuntEdita1 <-;
     |PARA nTotalLinea = 0;  |SI nTotalLinea [ enTotalVaria;  |HACIENDO nTotalLinea = nTotalLinea + 1;
          |AL_BUF nBaffer, nTotalLinea, epPuntEdita;
          IepPuntEdita = IepPuntEdita + 1;
     |SIGUE;
|FPRC;

|PROCESO Edicion;
     nTope  = nTotalLinea - 1;
     nVari1 = 0;
     nVari2 = 0;
     |SI enModoEdita < 100;
          enModoEdita = enModoEdita + 100;
     |FINSI;
     |EDITA nBaffer, 1, nTope, enCuadroIni, enCuadroFin, enModoEdita, eaNombreList, enCampoAncho, nVari1, nVari2;
     || enModoEdita = 300;
     || EDITA nBaffer, 1, nTope, enCuadroIni, enCuadroFin, enModoEdita, eaNombreList, enCampoAncho, nVari1, nVari2;
     || PTEC 807;
     enModoEdita = enModoEdita $ 100;
|FPRC;

|PROCESO CogePuntero;
     IepPuntEdita  = epPuntEdita1 <-;
     |PARA nTotalLinea = 0;  |SI nTotalLinea [ enTotalVaria;  |HACIENDO nTotalLinea = nTotalLinea + 1;
          |DEL_BUF nBaffer, nTotalLinea, epPuntEdita;
          IepPuntEdita = IepPuntEdita + 1;
     |SIGUE;
|FPRC;

|PROCESO Edita;
     |PUSHV 0501 2380;
     |DIMENSIONA  200, nBaffer, 0;

     |HAZ GrabaSecuencial;

     |HAZ Edicion;
     |HAZ CogePuntero;

     |FINDIM nBaffer;
|FPRC;

|PROCESO comentario;
     |ABRE #bomb0005;
     |PARA Puntero = 1; |SI Puntero [ 5; |HACIENDO Puntero = Puntero + 1;
          IepPuntEdita  = epPuntEdita1 <-;
          IepPuntEdita = IepPuntEdita + (Puntero - 1);

          nCodigo = #0#0;

          #bomb0005#0 = nCodigo;
          #bomb0005#1 = Puntero;
          |LEE 101#bomb0005.=;
          |SI FSalida ! 0;
               epPuntEdita  = "";
          |SINO;
               epPuntEdita  = #bomb0005#2;
               |BORRA 020#bomb0005.a;
               |LIBERA #bomb0005;
          |FINSI;
     |SIGUE;
     |CIERRA #bomb0005;

     |PUSHV 0501 2080;

     |HAZ Edita;

     |POPV;

     |ABRE #bomb0005;
     |PARA Puntero = 1;  |SI Puntero [ 5;  |HACIENDO Puntero = Puntero + 1;
          IepPuntEdita  = epPuntEdita1 <-;
          IepPuntEdita = IepPuntEdita + (Puntero - 1);

          |DDEFECTO #bomb0005;
          #bomb0005#0 = nCodigo;
          #bomb0005#1 = Puntero;
          |LEE 101#bomb0005.=;
          |SI FSalida ! 0;
               Comodin = epPuntEdita; |QBF Comodin;
               |SI Comodin ! "";
                    #bomb0005#2 = epPuntEdita;
                    |GRABA 020#bomb0005.n;
               |FINSI;
          |SINO;
               Comodin = epPuntEdita; |QBF Comodin;
               |SI Comodin ! "";
                    #bomb0005#2 = epPuntEdita;
                    |GRABA 020#bomb0005.a;
               |FINSI;
          |FINSI;
     |SIGUE;
     |CIERRA #bomb0005;
|FPRC;

|PROCESO borra; |TIPO 1;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3;
          |ABRE #bomb0005;
          |PARA Puntero = 1; |SI Puntero [ 5; |HACIENDO Puntero = Puntero + 1;
               || IepPuntEdita  = epPuntEdita1 <-;
               || IepPuntEdita = IepPuntEdita + (Puntero - 1);

               nCodigo = #0#0;

               #bomb0005#0 = nCodigo;
               #bomb0005#1 = Puntero;
               |LEE 101#bomb0005.=;
               |SI FSalida = 0;
                    || epPuntEdita  = "";
               || SINO;
                    || epPuntEdita  = #bomb0005#2;
                    |BORRA 020#bomb0005.a;
                    |LIBERA #bomb0005;
               |FINSI;
          |SIGUE;
          |CIERRA #bomb0005;
     |FINSI;
|FPRC;

|PROCESO modifica; |TIPO 0;
     enModoEdita = 0;
     |HAZ comentario;
|FPRC;

|PROCESO muestra; |TIPO 7;
     enModoEdita = 300;
     |HAZ comentario;
|FPRC;

|PROCESO destruye; |TIPO 11;
     enModoEdita = 400;
     |HAZ comentario;
|FPRC;

|PROCESO superior;
     #0#0 = 999;
|FPRC;

|PROCESO inferior;
     #0#0 = 001;
|FPRC;

|PROGRAMA;
     enTotalVaria = 5;
     enModoEdita  = 0;
     enCampoAncho = 60;
     eaNombreList  = "";
     enCuadroIni   = 1814;
     enCuadroFin   = 2267;

     |CLS;
     |PINPA #0#0;
     |PINDA #0#0;
     |COLOR 0,7;
     |ATRI I;
     |BLANCO 14101870;
     |ATRI 0;

     |ENTLINEAL #1#0, 1, 2, 17, 1, inferior, superior;
     |HAZ destruye;
|FPRO;
