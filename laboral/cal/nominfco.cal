|FICHEROS;
     nominfco #0;
     labempre;
     labcentr;
     nomconca;
     nomcenes;
|FIN;

|VARIABLES;
     &swFormacion = 1;
|FIN;

|PROCESO BuscaFormacion;
     #nomcenes#0 = #labcentr#0;
     #nomcenes#13 = #labcentr#1;
     #nomcenes#1 = "87";
     |LEE 000#nomcenes.=;
     |SI FSalida = 0;
          #labcentr#10 = #nomcenes#10;
          swFormacion = 1;
     |FINSI;
|FPRC;

|PROCESO labcentr;
     swFormacion = 0;

     #labempre#0 = #labcentr#0;
     |LEE 000#labempre.=;

     #nomconca#0 = #labcentr#16;
     |LEE 000#nomconca.=;

     |HAZ BuscaFormacion;

     |PRINT;
|FPRC;

|DEFBUCLE labcentr;
     #labcentr#1;
     16;
     #0#2, 001, #0#0;
     #0#3, 999, #0#1;
     ;
     NULL, labcentr;
|FIN;

|PROGRAMA;
     |CLS;
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |SI FSalida = 0;
          Impresora = "CrystalReport";
          |IMPRE -1;
          |INFOR "nominfco";
          |ABRE #nomconca;
          |ABRE #labempre;
          |ABRE #nomcenes;
          |BUCLE labcentr;
          |CIERRA #nomcenes;
          |CIERRA #labempre;
          |CIERRA #nomconca;
          |PIEINF;
          |FININF;
          |FINIMP;
     |FINSI;
|FPRO;
