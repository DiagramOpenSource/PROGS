|FICHEROS;
     nomlitmp;
     nomlitmq;
     nomlitmr;
|FIN;

|VARIABLES;
     nEmp = 0;
     nAny = 0;
     nMes = 0;
     nTip = 0;
     aNaf = "";

     aParametro = "";

     nCampo = 0;
     aAlfa = "";
     &eaOpcion = "";

 {-1}aVent = "";
     aVent1 = 0;
     aVent2 = 0;
     aVent3 = 0;
     aVent4 = 0;
     aVent5 = "";

     nGrid2 = 0;
     nGrid3 = 0;
     nGrid4 = 0;
     nVentana = 0;
     nRango = 0;
     aEsc1 = "";
     aEsc2 = "";
     aRetu = "";
     aTecla = "";
|FIN;

|PROCESO Alta4;
     #nomlitmr#0 = #nomlitmq#0;
     #nomlitmr#1 = #nomlitmq#1;
     #nomlitmr#6 = #nomlitmq#6;
     #nomlitmr#7 = #nomlitmq#7;
     #nomlitmr#8 = #nomlitmq#8;
     #nomlitmr#9 = #nomlitmq#9;
     #nomlitmr#3 = #nomlitmq#3;
     #nomlitmr#11 = 12;
     #nomlitmr#10 = #nomlitmq#10;
|FPRC;

|PROCESO Baja4;
     #nomlitmr#0 = #nomlitmq#0;
     #nomlitmr#1 = #nomlitmq#1;
     #nomlitmr#6 = #nomlitmq#6;
     #nomlitmr#7 = #nomlitmq#7;
     #nomlitmr#8 = #nomlitmq#8;
     #nomlitmr#9 = #nomlitmq#9;
     #nomlitmr#3 = #nomlitmq#3;
     #nomlitmr#11 = 01;
     #nomlitmr#10 = #nomlitmq#10;
|FPRC;

|PROCESO Alta3;
     #nomlitmq#0 = #nomlitmp#0;
     #nomlitmq#1 = 99999;
     #nomlitmq#6 = #nomlitmp#6;
     #nomlitmq#7 = #nomlitmp#7;
     #nomlitmq#8 = #nomlitmp#8;
     #nomlitmq#9 = #nomlitmp#9;
     #nomlitmq#3 = #nomlitmp#3;
     #nomlitmq#10 = #nomlitmp#10;
|FPRC;

|PROCESO Baja3;
     #nomlitmq#0 = #nomlitmp#0;
     #nomlitmq#1 = 00001;
     #nomlitmq#6 = #nomlitmp#6;
     #nomlitmq#7 = #nomlitmp#7;
     #nomlitmq#8 = #nomlitmp#8;
     #nomlitmq#9 = #nomlitmp#9;
     #nomlitmq#3 = #nomlitmp#3;
     #nomlitmq#10 = #nomlitmp#10;
|FPRC;

|PROCESO Alta2;
     #nomlitmp#0 = 99999;
     #nomlitmp#6 = 2999;
     #nomlitmp#7 = 12;
     #nomlitmp#8 = 2999;
     #nomlitmp#9 = 2999;
     #nomlitmp#3 = 20;
     #nomlitmp#10 = "zzz";
|FPRC;

|PROCESO Baja2;
     #nomlitmp#0 = 00001;
     #nomlitmp#6 = 2000;
     #nomlitmp#7 = 01;
     #nomlitmp#8 = 2000;
     #nomlitmp#9 = 2000;
     #nomlitmp#3 = 06;
     #nomlitmp#10 = "   ";
|FPRC;

|PROCESO Evento3;
     |SI FSalida = 1;  |O FSalida = 2;
         |LEE 000#nomlitmq.=;

         |REFRESCACONTROL nGrid4;
         |PULSATECLA;
     |FINSI;
|FPRC;

|PROCESO Evento2;
     |SI FSalida = 1;  |O FSalida = 2;
         |LEE 000#nomlitmp.=;

         |REFRESCACONTROL nGrid3;
         |REFRESCACONTROL nGrid4;
         |PULSATECLA;
     |FINSI;
|FPRC;

|PROGRAMA;
     aAlfa = Usuario; |QBT aAlfa; aAlfa = "tm_nomlitmp_" + aAlfa;
     |NOME_DAT #nomlitmp#aAlfa#;

     aAlfa = Usuario; |QBT aAlfa; aAlfa = "tm_nomlitmq_" + aAlfa;
     |NOME_DAT #nomlitmq#aAlfa#;

     aAlfa = Usuario; |QBT aAlfa; aAlfa = "tm_nomlitmr_" + aAlfa;
     |NOME_DAT #nomlitmr#aAlfa#;

     |ABRE #nomlitmp;
     |ABRE #nomlitmq;
     |ABRE #nomlitmr;

     |VENTANA 0501, 3699, -1, 16, "Consulta de atrasos";
     nVentana = FSalida;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     nRango = 4 + 8 + 16 + 32 + 128;

     |LINEAL_SIMPLE #1#nomlitmp, nRango, 0502, 1099, Baja2, Alta2, Evento2;
     nGrid2 = FSalida;

     |LINEAL_SIMPLE #1#nomlitmq, nRango, 1102, 2499, Baja3, Alta3, Evento3;
     nGrid3 = FSalida;

     |LINEAL_SIMPLE #1#nomlitmr, nRango, 2502, 3299, Baja4, Alta4, NULL;
     nGrid4 = FSalida;

     aEsc1  = &255 + "806";
     aEsc2  = &255 + "807";
     aRetu  = &255 + "802";
     |PARA; |SI;  |HACIENDO;
         FSalida = "::{{001}}Salir," + nGrid2;
         |LEETECLA aTecla;
         |SI aTecla = aEsc1; |SAL;  |FINSI;
         |SI aTecla = aEsc2; |SAL;  |FINSI;
         |SI aTecla = aRetu; |SAL;  |FINSI;
     |SIGUE;

     |DESTRUYECONTROL nGrid2;
     |DESTRUYECONTROL nGrid3;
     |DESTRUYECONTROL nGrid4;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |FINVENTANA nVentana;

     |CIERRA #nomlitmr;
     |CIERRA #nomlitmq;
     |CIERRA #nomlitmp;
|FPRO;
