|FICHEROS;
   nompmail #0;
|FIN;

|VARIABLES;
   aAlfa  = "";
   aAlfa1 = "";
   aAlfa2 = "";

   nCont  = 0;
   nCalc  = 0;
   nCalc1 = 0;

{2}nDato = 0;
|FIN;

|PROCESO AntesPass; |TIPO 7;
   aAlfa = #nompmail#9; |QBF aAlfa;
   |SI aAlfa ! "";
      aAlfa1 = aAlfa % 0; nCalc = aAlfa1; aAlfa2 = "";
      |PARA nCont = 1; |SI nCont [ nCalc; |HACIENDO nCont = nCont + 1;
         nCalc1 = (nCont * 100) + 1;
         aAlfa1 = aAlfa % nCalc1; nDato1 = &aAlfa1; nDato2 = 255;
         InDato = nDato1<-;
         |ESPECIFICA "XOR", nDato;
         nCalc1 = FSalida; aAlfa2 = aAlfa2 + &nCalc1;
      |SIGUE;
      #nompmail#8 = aAlfa2;
   |FINSI;
|FPRC;

|PROCESO TrasPass;
   aAlfa = #nompmail#8; |QBF aAlfa;
   |SI aAlfa ! "";
      aAlfa1 = aAlfa % 0; nCalc = aAlfa1; aAlfa2 = "";
      |PARA nCont = 1; |SI nCont [ nCalc; |HACIENDO nCont = nCont + 1;
         nCalc1 = (nCont * 100) + 1;
         aAlfa1 = aAlfa % nCalc1; nDato1 = &aAlfa1; nDato2 = 255;
         InDato = nDato1<-;
         |ESPECIFICA "XOR", nDato;
         nCalc1 = FSalida; aAlfa2 = aAlfa2 + &nCalc1;
      |SIGUE;
      #nompmail#9 = aAlfa2; #nompmail#8 = "*" * nCalc; |PINTA #nompmail#8;
   |FINSI;
|FPRC;

|PROCESO Autent;
   aAlfa = #nompmail#6; |QBF aAlfa;
   |SI aAlfa = "N";
      #nompmail#8 = "";   #nompmail#9 = "";
      |PINTA #nompmail#8; |PINTA #nompmail#9;
   |FINSI;
   |C_M #nompmail#7, 1, aAlfa; |C_M #nompmail#8, 1, aAlfa;
|FPRC;

|PROGRAMA;
   |ABRE #nompmail;
   |LEE 000#nompmail.p;
   |SI FSalida ! 0;
      |DDEFECTO #nompmail;
      |GRABA 020#nompmail.c;
   |FINSI;

   |CLS;
   |CABEZA "Parametros correo";
   |PINPA #0#0; |PINDA #0#0;
   |ENDATOS #1#0;
   |SI FSalida = 0;
      |GRABA 020#nompmail.a;
   |FINSI;

   |CIERRA #nompmail;
|FPRO;
