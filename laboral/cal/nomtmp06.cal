|FICHEROS;
     nomtmp06,MANTE;
|FIN;

|VARIABLES;
     aMarca = "";
     fFecha = @;
     nFecha = 0;
     aFecha = "";
|FIN;

|PROCESO Vacaciones; |TIPO 0;
     |SI #nomtmp06#8 ! 00;
          aFecha = #nomtmp06#6;
          fFecha = aFecha;
          nFecha = fFecha;
          nFecha = nFecha + #nomtmp06#8;
          fFecha = nFecha;
          aFecha = fFecha;
          #nomtmp06#9 = aFecha;
          |PINTA #nomtmp06#9;
     |FINSI;
|FPRC;

|PROCESO MarcaSi; |TIPO 0;
     #nomtmp06#4 = "*";

     |PINTA #nomtmp06#4;
     |GRABA 020#nomtmp06.a;
|FPRC;

|PROCESO Marcalo; |TIPO 0;
     |SI #nomtmp06#4 = "*";
         #nomtmp06#4 = " ";
     |SINO;
         #nomtmp06#4 = "*";
     |FINSI;

     |PINTA #nomtmp06#4;
     |GRABA 020#nomtmp06.a;
     |LIBERA #nomtmp06;
     |ERROR;
|FPRC;

|PROCESO MarcaDesmarca;
     #nomtmp06#4 = aMarca;
     |GRABA 020#nomtmp06.a;
     |LIBERA #nomtmp06;
|FPRC;

|DEFBUCLE MarcaDesmarca;
     #nomtmp06#1;
     ;
     INICIO;
     FINAL;
     be;
     NULL, MarcaDesmarca;
|FIN;

|PROCESO MiraMarca; |TIPO 11;
     |SI FSalida = 12; || Marca todo
          |SALVA_FICHA #nomtmp06;
          |SI #nomtmp06#4 = "*";
               aMarca = " ";
          |SINO;
               aMarca = "*";
          |FINSI;
          |BUCLE MarcaDesmarca;
          |REPON_FICHA #nomtmp06;
          ||PTEC 808;
          |PONCONTROL 23, "si";
     |FINSI;

     |SI FSalida = 13;
          |HAZ Marcalo;
     |FINSI;
|FPRC;
