|FICHEROS;
     rem00202;

     trabajo@;
|FIN;

|VARIABLES;
     nModo     = 0;
     nID       = 0;

     aAlfa     = "";
     aMas      = "";
     aID       = "";
|FIN;

|PROCESO Tipo0C4Fm202;  |TIPO 0;
     |C_M #rem00202#6, 1, "S";
     |C_M #rem00202#7, 1, "S";

     aAlfa = #rem00202#5#4;  |QBT aAlfa;
     |SI aAlfa = "Totales";
         |C_M #rem00202#6, 1, "N";
         |C_M #rem00202#7, 1, "N";
     |FINSI;

     |SI aAlfa = "";
         |C_M #rem00202#6, 1, "N";
         |C_M #rem00202#7, 1, "N";

         #rem00202#4 = 0;
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo1Fm202;  |TIPO 1;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1;  |O nModo = 3;
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo2Fm202;  |TIPO 2;
     |HAZ Tipo1Fm202;
     |SI nModo = 1;  |O nModo = 3;
         |ACABA;
     |FINSI;

     aAlfa = #rem00202#5#4;  |QBT aAlfa;
     |SI aAlfa = "Totales";  |ACABA;  |FINSI;
     |SI aAlfa = ""       ;  |ACABA;  |FINSI;

     #rem00202#9  = #rem00202#6 * #rem00202#8;
     #rem00202#10 = #rem00202#7 * #rem00202#8;

     |PINTA #rem00202#9;
     |PINTA #rem00202#10;

     |DDEF aMas;
     aMas = aMas + "rem00202.mas";
     |CARGA_DEF aMas, trabajo@;

     |ABRE #trabajo@;
     #trabajo@#0 = #rem00202#0;
     #trabajo@#1 = #rem00202#1;
     #trabajo@#2 = #rem00202#2;
     #trabajo@#3 = #rem00202#3;
     #trabajo@#4 = 31;
     |LEE 101#trabajo@.=;
     |SI FSalida = 0;
         #trabajo@#6  = #trabajo@#6  +. #rem00202#6;
         #trabajo@#7  = #trabajo@#7  +. #rem00202#7;
         #trabajo@#9  = #trabajo@#9  +. #rem00202#9;
         #trabajo@#10 = #trabajo@#10 +. #rem00202#10;

         |GRABA 020#trabajo@.a;
         |LIBERA #trabajo@;
     |FINSI;
     |CIERRA #trabajo@;

     |DESCARGA_DEF #trabajo@;

     |GRABA 020#rem00202.a;
     |LIBERA #rem00202;

     aAlfa      = "|IDGRID";
     aID        = #rem00202#aAlfa#;
     nID        = aID;
     |REFRESCACONTROL nID;  |PULSATECLA;
|FPRC;
