|FICHEROS;
     rem00201;
     rem00202;

     rew00800;
|FIN;

|VARIABLES;
     nID            = 0;
     nBoton         = -1;
     nVentana800    = -1;

     aAlfa          = "";
     aID            = "";
     aQueBoton      = "";

  {20}aPopup        = "";
|FIN;

|PROCESO FinVentana800;
     |SI nVentana800 ! -1;
         |FINVENTANA nVentana800;
         nVentana800 = -1;
     |FINSI;

     |PULSATECLA;
|FPRC;

|PROCESO Tipo12Fw800;  |TIPO 12;
     |SI FSalida = 7;
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rew00800#16 < 0;
         |MENAV "0000Casilla (155 - Diferencia) tiene importe negativo. Por favor revise los datos";
         |ERROR;
         |ACABA;
     |FINSI;

     |HAZ TotalFw800;
     nBoton    = -1;
|FPRC;

|PROCESO TotalFw800;
     #rem00202#0 = #rem00201#0;
     #rem00202#1 = #rem00201#1;
     #rem00202#2 = #rem00201#2;
     #rem00202#3 = #rem00201#3;
     #rem00202#4 = 31;
     |LEE 000#rem00202.=;
     |SI FSalida ! 0;  |DDEFECTO #rem00202;  |FINSI;

     #rew00800#16 = (#rem00202#9 - #rem00202#10) - (#rem00202#6 - #rem00202#7);

     #rew00800#18 = #rew00800#16 - #rew00800#17;
     |SI #rew00800#18 < 0; #rew00800#18 = 0;  |FINSI;

     #rew00800#21 = (#rew00800#18 - #rew00800#19) % #rew00800#20;
     |SI #rew00800#21 < 0; #rew00800#21 = 0;  |FINSI;

     |PINTA #rew00800#16;
     |PINTA #rew00800#18;
     |PINTA #rew00800#21;
|FPRC;

|PROCESO Tipo0C20Fw800;  |TIPO 0;
     |POSICIONATE #rew00800#7;
|FPRC;

|PROCESO Tipo66C8Fw800;  |TIPO 66;
     aAlfa = "|C008WID";
     aID   = #rew00800#aAlfa#;
     nID   = aID;

     aPopup1  = nID;  || Si fuera -1 en la posicion
     aPopup2  = 11;
     aPopup3  = "10 Inmovilizado material. Terrenos y bienes naturales.";
     aPopup4  = "11 Inmovilizado material. Terrenos y bienes naturales en regimen de arrendamiento financiero.";
     aPopup5  = "20 Inmovilizado material. Construcciones.";
     aPopup6  = "21 Inmovilizado material. Construcciones en regimen de arrendamiento financiero.";
     aPopup7  = "30 Resto del inmovilizado material.";
     aPopup8  = "31 Resto del inmovilizado material en regimen de arrendamiento financiero.";
     aPopup9  = "40 Inversiones inmobiliarias. Terrenos y bienes naturales.";
     aPopup10 = "41 Inversiones inmobiliarias. Terrenos y bienes naturales en regimen de arrendamiento financiero.";
     aPopup11 = "50 Inversiones inmobiliarias. Construcciones.";
     aPopup12 = "51 Inversiones inmobiliarias. Construcciones en regimen de arrendamiento financiero.";
     aPopup13 = "60 Inmovilizado intangible (acuerdos de concesion de las empresas concesionarias).";

     IaPopup  = aPopup1  <-;
     |ESPECIFICA "TRACKPOPUP", aPopup;
     |SI FSalida ! 0;
         IaPopup  = aPopup3  <-;
         IaPopup  = IaPopup + (FSalida - 1);

         aAlfa = aPopup % 102;  #rew00800#8 = aAlfa;
     |FINSI;
     |PINTA #rew00800#8;
|FPRC;

|PROCESO Tipo0C8Fw800;  |TIPO 0;
     #rew00800#9 = "";

     |SI #rew00800#8 = 10;
         #rew00800#9 = "Inmovilizado material. Terrenos y bienes naturales.";
     |FINSI;

     |SI #rew00800#8 = 11;
         #rew00800#9 = "Inmovilizado material. Terrenos y bienes naturales en r‚gimen de arrendamiento financiero.";
     |FINSI;

     |SI #rew00800#8 = 20;
         #rew00800#9 = "Inmovilizado material. Construcciones.";
     |FINSI;

     |SI #rew00800#8 = 21;
         #rew00800#9 = "Inmovilizado material. Construcciones en r‚gimen de arrendamiento financiero.";
     |FINSI;

     |SI #rew00800#8 = 30;
         #rew00800#9 = "Resto del inmovilizado material.";
     |FINSI;

     |SI #rew00800#8 = 31;
         #rew00800#9 = "Resto del inmovilizado material en r‚gimen de arrendamiento financiero.";
     |FINSI;

     |SI #rew00800#8 = 40;
         #rew00800#9 = "Inversiones inmobiliarias. Terrenos y bienes naturales.";
     |FINSI;

     |SI #rew00800#8 = 41;
         #rew00800#9 = "Inversiones inmobiliarias. Terrenos y bienes naturales en r‚gimen de arrendamiento financiero.";
     |FINSI;

     |SI #rew00800#8 = 50;
         #rew00800#9 = "Inversiones inmobiliarias. Construcciones.";
     |FINSI;

     |SI #rew00800#8 = 51;
         #rew00800#9 = "Inversiones inmobiliarias. Construcciones en r‚gimen de arrendamiento financiero.";
     |FINSI;

     |SI #rew00800#8 = 60;
         #rew00800#9 = "Resto del inmovilizado material en r‚gimen de arrendamiento financiero.";
     |FINSI;

     |SI #rew00800#8 = 31;
         #rew00800#9 = "Inmovilizado intangible (acuerdos de concesi¢n de las empresas concesionarias).";
     |FINSI;

     aAlfa = #rew00800#9;  |QBF aAlfa;
     |SI aAlfa = "";
         |MENAV "0000Clave inexistente.";
         |ERROR;
         |ACABA;
     |FINSI;

     |PINTA #rew00800#9;

     |C_M #rew00800#12, 1, "S";
     |C_M #rew00800#13, 1, "S";
     |C_M #rew00800#14, 1, "S";
     |C_M #rew00800#15, 1, "S";
     |C_M #rew00800#23, 1, "S";

     |SI #rew00800#8 = 30;  |O #rew00800#8 = 31;  |O #rew00800#8 = 60;
         |C_M #rew00800#12, 1, "N";  #rew00800#12 = "";
         |C_M #rew00800#13, 1, "N";  #rew00800#13 = "";
         |C_M #rew00800#14, 1, "N";  #rew00800#14 = 0;
         |C_M #rew00800#15, 1, "N";  #rew00800#15 = 0;
         |C_M #rew00800#23, 1, "N";  #rew00800#23 = "0";
     |FINSI;

     |PINTA #rew00800#12;
     |PINTA #rew00800#13;
     |PINTA #rew00800#14;
     |PINTA #rew00800#15;
     |PINTA #rew00800#23;
|FPRC;

|PROCESO Tipo7C7Fw800;  |TIPO 7;
     |SI nBoton ! -1;  |ACABA;  |FINSI;

     aQueBoton = "|X001";
     aID       = #rew00800#aQueBoton#;
     nBoton    = aID;
     |ESTADO_CONTROL nBoton, "HIDE";
|FPRC;

|PROCESO Tipo7C23Fw800;  |TIPO 7;
     |VENTANA 2220, 2889, -1, 1, "";
     nVentana800 = FSalida;

     |CONTROL_SIMPLE 0, "LABEL,{{15}}SITUACION", 2222, 2269, NULL;
     |CONTROL_SIMPLE 0, "LABEL,{{16}}1 .- Vivienda o plaza de garaje situada en cualquier punto del territorio espa¤ol,", 2323, 2389, NULL;
     |CONTROL_SIMPLE 0, "LABEL,{{16}}      con excepcion del Pais Vasco y Navarra", 2423, 2489, NULL;
     |CONTROL_SIMPLE 0, "LABEL,{{16}}2 .- Vivienda o plaza de garaje situada en el Pais Vasco y Navarra", 2523, 2589, NULL;
     |CONTROL_SIMPLE 0, "LABEL,{{16}}3 .- Vivienda o plaza de garaje situada en cualquier punto del territorio espa¤ol,", 2623, 2689, NULL;
     |CONTROL_SIMPLE 0, "LABEL,{{16}}     pero sin tener asignada referencia catastral.", 2723, 2789, NULL;
     |CONTROL_SIMPLE 0, "LABEL,{{16}}4 .- Vivienda o plaza de garaje situada en el extranjero. ", 2823, 2889, NULL;

     |PTEC 802;  |PAUSA;
|FPRC;

|PROCESO Tipo0C23Fw800;  |TIPO 0;
     |HAZ FinVentana800;
|FPRC;
