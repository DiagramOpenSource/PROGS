|FICHEROS;
     n43w0009;
|FIN;

|VARIABLES;
     nConta              = 0;

     aEjec               = "";
     aAlfa               = "";

     fFecha              = @;

     &enEmp              = 0;
     &enPer              = 0;
     &enEje              = 0;
     &enOk               = 0;
     &eaAlfa             = "";
|FIN;

|PROCESO T12w9;  |TIPO 12;
     |SI FSalida = 7;
         |ACABA;
     |FINSI;

     |SI FSalida ! 1;
         |ERROR;
         |POSICIONATE #n43w0009#0;
     |FINSI;
|FPRC;

|PROCESO T66C1w9;  |TIPO 66;
     |SI nConta = 0;
         |ACABA;
     |FINSI;

     aEjec = ":contagen/x43z0003 canempr1 " + (("00000" + enEmp) % -105) + enPer + ";T66camandia";

     eaAlfa = #n43w0009#1;
     |SUB_EJECUTA aEjec;

     #n43w0009#1 = eaAlfa;
     |PINTA #n43w0009#1;
|FPRC;

|PROCESO T0C1w9;  |TIPO 0;
     |SI nConta = 0;
         |ACABA;
     |FINSI;

     aEjec = ":contagen/x43z0003 canempr1 " + (("00000" + enEmp) % -105) + enPer + ";T00camandia";

     eaAlfa = #n43w0009#1;
     |SUB_EJECUTA aEjec;

     #n43w0009#1 = eaAlfa;

     |PINTA #n43w0009#1;

     |SI eaAlfa = "";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO T66C0w9;  |TIPO 66;
     |SI nConta = 0;
         |ACABA;
     |FINSI;

     aEjec = ":contagen/x43z0003 canempr1 " + (("00000" + enEmp) % -105) + enPer + ";T66cacuenta";

     eaAlfa = #n43w0009#0;
     |SUB_EJECUTA aEjec;

     #n43w0009#0 = eaAlfa;
     |PINTA #n43w0009#0;
|FPRC;

|PROCESO T0C0w9;  |TIPO 0;
     |SI nConta = 0;
         |ACABA;
     |FINSI;

     aEjec = ":contagen/x43z0003 canempr1 " + (("00000" + enEmp) % -105) + enPer + ";T00cacuenta";

     eaAlfa = #n43w0009#0;
     |SUB_EJECUTA aEjec;

     #n43w0009#0 = eaAlfa;

     |PINTA #n43w0009#0;

     |SI eaAlfa = "";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO T7C0w9;  |TIPO 7;
     nConta = 0;
     fFecha = ~;
     aAlfa  = fFecha % 402;   enPer = aAlfa;
     aAlfa  = fFecha % -102;  enEje = aAlfa;
     |HAZ BuscaRegCanempre;
     nConta = enOk;
|FPRC;
