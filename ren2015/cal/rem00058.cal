|FICHEROS;
     rem00058;

     rew00604,MANTE;
     rew00605,MANTE;
     rew00606,MANTE;
     rew00607,MANTE;

     rew00003;
|FIN;

|VARIABLES;
     aAlfa         = "";
     aAlfa1        = "";
     aAlfa2        = "";
     aAlfa3        = "";
     aLong         = "";
     aQueQuiero    = "";
     aNumCampos    = "";
     aNumPanta     = "";
     aPathRenta    = "";
     aDef          = "";
     aDescri       = "";

     aEsc1         = "";
     aEsc2         = "";
     aRetu         = "";
     aTecla        = "";
     aID           = "";

     nVentana       = -1;
     nCampo         = 0;
     nRango         = 0;
     nGrid          = -1;
     nBotonAlta     = 0;
     nBotonModi     = 0;
     nBotonBaja     = 0;
     nBotonCntr     = 0;
     nPanta         = 0;
     nID            = 0;
     nEntrar        = 0;
     nPasoReten     = 0;

     nLong         = 0;
     nCaracter     = 0;
     nPosi         = 0;
     nNumCampos    = 0;
     nNumPanta     = 0;
     nModo         = 0;
     nEntrada      = 0;
     nPtas         = 0;
     nRetencion    = 0;
     nCampo15      = 0;
     nCampo16      = 0;
     nCampo17      = 0;
     nCampo20      = 0;
     nCampo27      = 0;
     nValor        = 0;
     nValor1       = 0;
     nValorPat     = 0;
     nDias         = 0;
     nAnyoVenta    = 0;
     nAnyoCompra   = 0;
     nDiferencia   = 0;
     nCoefi        = 0;
     nLinea        = 0;
     nContenido    = 0;
     nSwHay        = 0;
     nCampo1       = 0;
     nCampo2       = 0;
     nCampo3       = 0;
     nCampo4       = 0;
     nCampo5       = 0;
     nFallecido    = 0;

     nTodosDias    = 0;
     nParciDias    = 0;

     fFechaLim     = @;

     fFechaAdq     = @;
     fFechaTra     = @;
     fFecha1       = @;
     fFecha2       = @;

     &enEmpresa    = 0;
     &enModo       = 0;
     &enModoReg    = 0;
     &eaDeclarante = "";
     &enComunes    = 0;
     &enChequeo    = 0;
     &enMinusvalia = 0;
     &eaMinuAyuda  = "";
     &eaFallece    = "";
     &eaSwVarios   = "";
     &eaVarDni     = "";
     &enSwLiquida  = 0;
     &enSwRetorno  = 0;
     &enCalcCif    = 0;
     &eaPrograma   = "";
     &eaPunto      = "";

     &eaLetra      = "";
     &eaDeDonde    = "";
     &eaLinDonde   = "";
     &eaAnyoUsu    = "";
     &eaEdadDec    = "";
     &eaPatr06     = "";
     &eaPatr07     = "";
     &eaPatr08     = "";
     &eaPatr09     = "";
     &eaPatr10     = "";
     &eaPatr11     = "";
     &eaPatr12     = "";
     &eaPatr13     = "";
     &eaPatr14     = "";
     &eaPatr15     = "";
     &eaPatr16     = "";
     &eaPatr16_1   = "";
     &eaPatr17     = "";
     &eaPatr18     = "";
     &eaPatr19     = "";
     &eaPatr20     = "";
     &eaPatr21     = "";

     &eaAzul       = "";
     &eaVerde      = "";
     &eaRojo       = "";
     &eaRosa       = "";
     &enBtnSalir   = 0;
     &enError      = 0;
     &enImporte    = 0;
     &enQuita      = 0;
|FIN;

|PROCESO BotonCntr;
     enComunes   = 1;
     enChequeo   = 0;

     |SI eaLetra = "1";
         #rew00003#0 = #rew00604#2;
         #rew00003#1 = #rew00604#3;
         #rew00003#2 = #rew00604#4;
         #rew00003#3 = #rew00604#5;
         #rew00003#4 = #rew00604#6;
         #rew00003#5 = #rew00604#7;
         #rew00003#6 = #rew00604#8;
         #rew00003#7 = #rew00604#9;
         #rew00003#8 = #rew00604#10;

         |HAZ PantaREW00003;

         #rew00604#2  = #rew00003#0;    |PINTA #rew00604#2;
         #rew00604#3  = #rew00003#1;
         #rew00604#4  = #rew00003#2;
         #rew00604#5  = #rew00003#3;
         #rew00604#6  = #rew00003#4;
         #rew00604#7  = #rew00003#5;
         #rew00604#8  = #rew00003#6;
         #rew00604#9  = #rew00003#7;
         #rew00604#10 = #rew00003#8;

         aAlfa = "|C012WID";
         aID   = #rew00604#aAlfa#;
         nID   = aID;
         |FOCOTECLADO nID;

         |SI #rew00604#3 = "X";  |Y enModoReg ! 4;
             |PTEC 806;
         |FINSI;
     |FINSI;

     |SI eaLetra = "2";
         #rew00003#0 = #rew00605#2;
         #rew00003#1 = #rew00605#3;
         #rew00003#2 = #rew00605#4;
         #rew00003#3 = #rew00605#5;
         #rew00003#4 = #rew00605#6;
         #rew00003#5 = #rew00605#7;
         #rew00003#6 = #rew00605#8;
         #rew00003#7 = #rew00605#9;
         #rew00003#8 = #rew00605#10;

         |HAZ PantaREW00003;

         #rew00605#2  = #rew00003#0;    |PINTA #rew00605#2;
         #rew00605#3  = #rew00003#1;
         #rew00605#4  = #rew00003#2;
         #rew00605#5  = #rew00003#3;
         #rew00605#6  = #rew00003#4;
         #rew00605#7  = #rew00003#5;
         #rew00605#8  = #rew00003#6;
         #rew00605#9  = #rew00003#7;
         #rew00605#10 = #rew00003#8;

         aAlfa = "|C012WID";
         aID   = #rew00605#aAlfa#;
         nID   = aID;
         |FOCOTECLADO nID;

         |SI #rew00605#3 = "X";  |Y enModoReg ! 4;
             |PTEC 806;
         |FINSI;
     |FINSI;

     |SI eaLetra = "3";
         #rew00003#0 = #rew00606#2;
         #rew00003#1 = #rew00606#3;
         #rew00003#2 = #rew00606#4;
         #rew00003#3 = #rew00606#5;
         #rew00003#4 = #rew00606#6;
         #rew00003#5 = #rew00606#7;
         #rew00003#6 = #rew00606#8;
         #rew00003#7 = #rew00606#9;
         #rew00003#8 = #rew00606#10;

         |HAZ PantaREW00003;

         #rew00606#2  = #rew00003#0;    |PINTA #rew00606#2;
         #rew00606#3  = #rew00003#1;
         #rew00606#4  = #rew00003#2;
         #rew00606#5  = #rew00003#3;
         #rew00606#6  = #rew00003#4;
         #rew00606#7  = #rew00003#5;
         #rew00606#8  = #rew00003#6;
         #rew00606#9  = #rew00003#7;
         #rew00606#10 = #rew00003#8;

         aAlfa = "|C012WID";
         aID   = #rew00606#aAlfa#;
         nID   = aID;
         |FOCOTECLADO nID;

         |SI #rew00606#3 = "X";  |Y enModoReg ! 4;
             |PTEC 806;
         |FINSI;
     |FINSI;

     |SI eaLetra = "4";
         #rew00003#0 = #rew00607#2;
         #rew00003#1 = #rew00607#3;
         #rew00003#2 = #rew00607#4;
         #rew00003#3 = #rew00607#5;
         #rew00003#4 = #rew00607#6;
         #rew00003#5 = #rew00607#7;
         #rew00003#6 = #rew00607#8;
         #rew00003#7 = #rew00607#9;
         #rew00003#8 = #rew00607#10;

         |HAZ PantaREW00003;

         #rew00607#2  = #rew00003#0;    |PINTA #rew00607#2;
         #rew00607#3  = #rew00003#1;
         #rew00607#4  = #rew00003#2;
         #rew00607#5  = #rew00003#3;
         #rew00607#6  = #rew00003#4;
         #rew00607#7  = #rew00003#5;
         #rew00607#8  = #rew00003#6;
         #rew00607#9  = #rew00003#7;
         #rew00607#10 = #rew00003#8;

         aAlfa = "|C012WID";
         aID   = #rew00607#aAlfa#;
         nID   = aID;
         |FOCOTECLADO nID;

         |SI #rew00607#3 = "X";  |Y enModoReg ! 4;
             |PTEC 806;
         |FINSI;
     |FINSI;
|FPRC;

|| ---- PROCESOS DEL REW00607

|PROCESO Tipo12Fw607;  |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     aAlfa = #rew00607#2;  |QBF aAlfa;
     |SI aAlfa = "";
         |MENAV "0000No se puede validar la ficha, no hay contribuyente introducido";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rew00607#30 < #rew00607#29;
         |MENAV "0000 La retencion deducible no puede ser menor a la efectiva.";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo7C26Fw607;  |TIPO 7;
     #rew00607#26 = #rew00607#25;

     |PINTA #rew00607#26;
|FPRC;

|PROCESO Tipo0Vital;  |TIPO 0;
     #rew00003#0 = #rew00607#2;
     #rew00003#1 = #rew00607#3;
     #rew00003#2 = #rew00607#4;
     #rew00003#3 = #rew00607#5;
     #rew00003#4 = #rew00607#6;
     #rew00003#5 = #rew00607#7;
     #rew00003#6 = #rew00607#8;
     #rew00003#7 = #rew00607#9;
     #rew00003#8 = #rew00607#10;

     enImporte = #rew00607#19;
     |HAZ ChequeaVitalicias;
     |SI enError = 1;
         aAlfa = "0000El importe de la transmisi¢n supera a lo que nos queda pendiente.";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo0DT9;  |TIPO 0;
     #rew00003#0 = #rew00607#2;
     #rew00003#1 = #rew00607#3;
     #rew00003#2 = #rew00607#4;
     #rew00003#3 = #rew00607#5;
     #rew00003#4 = #rew00607#6;
     #rew00003#5 = #rew00607#7;
     #rew00003#6 = #rew00607#8;
     #rew00003#7 = #rew00607#9;
     #rew00003#8 = #rew00607#10;

     enImporte = #rew00607#20;
     |HAZ ChequeaDT9;
     |SI enError = 1;
         aAlfa = "0000El importe de la transmisi¢n supera a lo que nos queda pendiente.";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO LetraNifFw607;  |TIPO 6;
     |SI FSalida = 10;
         eaVarDni  = #rew00607#Campo#;
         enCalcCif = 1;
         |HAZ CalculoDNI;
         #rew00607#Campo# = eaVarDni;
         |PINTA #rew00607#Campo#;
         |ERROR;
         |ACABA;
     |FINSI;

     #rew00607#13 = "S";
     eaVarDni     = #rew00607#Campo#;
     enCalcCif    = 0;
     |HAZ CalculoDNI;
     eaVarDni = (eaVarDni + "                    ") % 120;
     |SI #rew00607#Campo# ! eaVarDni;
         |CONFI "0000SEl Nif puede ser Erroneo. Desea Calcularlo.";
         |SI FSalida = 0;
             #rew00607#Campo# = eaVarDni;  |PINTA #rew00607#Campo#;
             |ERROR;
             |ACABA;
         |FINSI;

         |CONFI "0000NEs un N£mero de Identificaci¢n de otro pais";
         |SI FSalida = 0;
             #rew00607#13 = "N";
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO CampoNifFw607;  |TIPO 0;
     |SI #rew00607#3 = "X";  |ACABA;  |FINSI;

     |SI #rew00607#12 = "            ";
         |MENAV "     Introduzca un Nif.";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rew00607#13 = "N";  |ACABA;  |FINSI;

     aLong = #rew00607#12;  |QBF aLong;
     aLong = aLong % 0;
     nLong = aLong;
     |SI nLong ! 9;
         |MENAV "     Longitud Erronea.";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO TotalesFw607;
     #rew00607#19 = #rew00607#17 + #rew00607#18;

     |C_M #rew00607#22, 1, "S";
     |SI #rew00607#19 = 0;
         |C_M #rew00607#22, 1, "N";  #rew00607#22 = 0;
     |FINSI;

     |C_M #rew00607#23, 1, "S";
     |C_M #rew00607#24, 1, "S";
     |SI #rew00607#20 = 0;
         |C_M #rew00607#23, 1, "N";  #rew00607#23 = 0;
         |C_M #rew00607#24, 1, "N";  #rew00607#24 = 0;
     |FINSI;

     #rew00607#25 = #rew00607#16 - #rew00607#21 - #rew00607#22 - #rew00607#24;

     |PINTA #rew00607#19;
     |PINTA #rew00607#22;
     |PINTA #rew00607#23;
     |PINTA #rew00607#24;
     |PINTA #rew00607#25;
|FPRC;

|PROCESO Tipo0C1Fw607;  |TIPO 0;
     |C_M #rew00607#1, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     #rem00058#0 = #rew00607#0;
     #rem00058#1 = #rew00607#1;
     |LEE 000#rem00058.=;
     |SI FSalida = 0;
         |MENAV "0000El registro ya existe.";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo7C2Fw607;  |TIPO 7;
     aAlfa = #rew00607#2;  |QBF aAlfa;
     |SI aAlfa ! "";  |Y #rew00607#3 ! "X";
         |ACABA;
     |FINSI;

     |HAZ BotonCntr;
|FPRC;

|| ---- PROCESOS DEL REW00606

|PROCESO Tipo12Fw606;  |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     aAlfa = #rew00606#2;  |QBF aAlfa;
     |SI aAlfa = "";
         |MENAV "0000No se puede validar la ficha, no hay contribuyente introducido";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rew00606#20 < #rew00606#19;
         |MENAV "0000 La retencion deducible no puede ser menor a la efectiva.";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO LetraNifFw606;  |TIPO 6;
     |SI FSalida = 10;
         eaVarDni  = #rew00606#Campo#;
         enCalcCif = 1;
         |HAZ CalculoDNI;
         #rew00606#Campo# = eaVarDni;
         |PINTA #rew00606#Campo#;
         |ERROR;
         |ACABA;
     |FINSI;

     #rew00606#13 = "S";
     eaVarDni     = #rew00606#Campo#;
     enCalcCif    = 0;
     |HAZ CalculoDNI;
     eaVarDni = (eaVarDni + "                    ") % 120;
     |SI #rew00606#Campo# ! eaVarDni;
         |CONFI "0000SEl Nif puede ser Erroneo. Desea Calcularlo.";
         |SI FSalida = 0;
             #rew00606#Campo# = eaVarDni;  |PINTA #rew00606#Campo#;
             |ERROR;
             |ACABA;
         |FINSI;

         |CONFI "0000NEs un N£mero de Identificaci¢n de otro pais";
         |SI FSalida = 0;
             #rew00606#13 = "N";
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO CampoNifFw606;  |TIPO 0;
     |SI #rew00606#3 = "X";  |ACABA;  |FINSI;

     |SI #rew00606#12 = "            ";
         |MENAV "     Introduzca un Nif.";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rew00606#13 = "N";  |ACABA;  |FINSI;

     aLong = #rew00606#12;  |QBF aLong;
     aLong = aLong % 0;
     nLong = aLong;
     |SI nLong ! 9;
         |MENAV "     Longitud Erronea.";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO TotalesFw606;
     #rew00606#17 = #rew00606#14 - #rew00606#15;
     |PINTA #rew00606#17;
|FPRC;

|PROCESO Tipo0C1Fw606;  |TIPO 0;
     |C_M #rew00606#1, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     #rem00058#0 = #rew00606#0;
     #rem00058#1 = #rew00606#1;
     |LEE 000#rem00058.=;
     |SI FSalida = 0;
         |MENAV "0000El registro ya existe.";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo7C2Fw606;  |TIPO 7;
     aAlfa = #rew00606#2;  |QBF aAlfa;
     |SI aAlfa ! "";  |Y #rew00606#3 ! "X";
         |ACABA;
     |FINSI;

     |HAZ BotonCntr;
|FPRC;

|| ---- PROCESOS DEL REW00605

|PROCESO Tipo12Fw605;  |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     aAlfa = #rew00605#2;  |QBF aAlfa;
     |SI aAlfa = "";
         |MENAV "0000No se puede validar la ficha, no hay contribuyente introducido";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rew00605#20 < #rew00605#19;
         |MENAV "0000 La retencion deducible no puede ser menor a la efectiva.";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO LetraNifFw605;  |TIPO 6;
     |SI FSalida = 10;
         eaVarDni  = #rew00605#Campo#;
         enCalcCif = 1;
         |HAZ CalculoDNI;
         #rew00605#Campo# = eaVarDni;
         |PINTA #rew00605#Campo#;
         |ERROR;
         |ACABA;
     |FINSI;

     #rew00605#13 = "S";
     eaVarDni     = #rew00605#Campo#;
     enCalcCif    = 0;
     |HAZ CalculoDNI;
     eaVarDni = (eaVarDni + "                    ") % 120;
     |SI #rew00605#Campo# ! eaVarDni;
         |CONFI "0000SEl Nif puede ser Erroneo. Desea Calcularlo.";
         |SI FSalida = 0;
             #rew00605#Campo# = eaVarDni;  |PINTA #rew00605#Campo#;
             |ERROR;
             |ACABA;
         |FINSI;

         |CONFI "0000NEs un N£mero de Identificaci¢n de otro pais";
         |SI FSalida = 0;
             #rew00605#13 = "N";
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO CampoNifFw605;  |TIPO 0;
     |SI #rew00605#3 = "X";  |ACABA;  |FINSI;

     |SI #rew00605#12 = "            ";
         |MENAV "     Introduzca un Nif.";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rew00605#13 = "N";  |ACABA;  |FINSI;

     aLong = #rew00605#12;  |QBF aLong;
     aLong = aLong % 0;
     nLong = aLong;
     |SI nLong ! 9;
         |MENAV "     Longitud Erronea.";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO TotalesFw605;
     #rew00605#17 = #rew00605#14 - #rew00605#15 - #rew00605#16;
     |PINTA #rew00605#17;
|FPRC;

|PROCESO Tipo0C1Fw605;  |TIPO 0;
     |C_M #rew00605#1, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     #rem00058#0 = #rew00605#0;
     #rem00058#1 = #rew00605#1;
     |LEE 000#rem00058.=;
     |SI FSalida = 0;
         |MENAV "0000El registro ya existe.";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo7C2Fw605;  |TIPO 7;
     aAlfa = #rew00605#2;  |QBF aAlfa;
     |SI aAlfa ! "";  |Y #rew00605#3 ! "X";
         |ACABA;
     |FINSI;

     |HAZ BotonCntr;
|FPRC;

|| ---- PROCESOS DEL REW00604

|PROCESO Tipo12Fw604;  |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     aAlfa = #rew00604#2;  |QBF aAlfa;
     |SI aAlfa = "";
         |MENAV "0000No se puede validar la ficha, no hay contribuyente introducido";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rew00604#22 < #rew00604#21;
         |MENAV "0000 La retencion deducible no puede ser menor a la efectiva.";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO LetraNifFw604;  |TIPO 6;
     |SI FSalida = 10;
         eaVarDni  = #rew00604#Campo#;
         enCalcCif = 1;
         |HAZ CalculoDNI;
         #rew00604#Campo# = eaVarDni;
         |PINTA #rew00604#Campo#;
         |ERROR;
         |ACABA;
     |FINSI;

     #rew00604#13 = "S";
     eaVarDni     = #rew00604#Campo#;
     enCalcCif    = 0;
     |HAZ CalculoDNI;
     eaVarDni = (eaVarDni + "                    ") % 120;
     |SI #rew00604#Campo# ! eaVarDni;
         |CONFI "0000SEl Nif puede ser Erroneo. Desea Calcularlo.";
         |SI FSalida = 0;
             #rew00604#Campo# = eaVarDni;  |PINTA #rew00604#Campo#;
             |ERROR;
             |ACABA;
         |FINSI;

         |CONFI "0000NEs un N£mero de Identificaci¢n de otro pais";
         |SI FSalida = 0;
             #rew00604#13 = "N";
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO CampoNifFw604;  |TIPO 0;
     |SI #rew00604#3 = "X";  |ACABA;  |FINSI;

     |SI #rew00604#12 = "            ";
         |MENAV "     Introduzca un Nif.";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rew00604#13 = "N";  |ACABA;  |FINSI;

     aLong = #rew00604#12;  |QBF aLong;
     aLong = aLong % 0;
     nLong = aLong;
     |SI nLong ! 9;
         |MENAV "     Longitud Erronea.";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO TotalesFw604;
     #rew00604#17 = #rew00604#14 - #rew00604#15 - #rew00604#16;
     |PINTA #rew00604#17;
|FPRC;

|PROCESO Tipo0C1Fw604;  |TIPO 0;
     |C_M #rew00604#1, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     #rem00058#0 = #rew00604#0;
     #rem00058#1 = #rew00604#1;
     |LEE 000#rem00058.=;
     |SI FSalida = 0;
         |MENAV "0000El registro ya existe.";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo7C2Fw604;  |TIPO 7;
     aAlfa = #rew00604#2;  |QBF aAlfa;
     |SI aAlfa ! "";  |Y #rew00604#3 ! "X";
         |ACABA;
     |FINSI;

     |HAZ BotonCntr;
|FPRC;

|| -------------------------------------------------------------------------

|PROCESO CargaFantasma;
     |SI eaLetra = "1";
         |C_M #rew00604#11, 1, "S";
         |C_M #rew00604#12, 1, "S";

         |DDEFECTO #rew00604;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00604#nCampo# = #rem00058#nCampo#;

               |C_V #rew00604#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00604#nCampo#;  |FINSI;
         |SIGUE;

         #rew00604#13 = #rem00058#16;
         #rew00604#14 = #rem00058#17;   |PINTA #rew00604#14;
         #rew00604#15 = #rem00058#18;   |PINTA #rew00604#15;
         #rew00604#16 = #rem00058#19;   |PINTA #rew00604#16;
         #rew00604#17 = #rem00058#20;   |PINTA #rew00604#17;
         #rew00604#18 = #rem00058#21;   |PINTA #rew00604#18;
         #rew00604#19 = #rem00058#22;   |PINTA #rew00604#19;
         #rew00604#20 = #rem00058#45;   |PINTA #rew00604#20;
         #rew00604#21 = #rem00058#46;   |PINTA #rew00604#21;
         #rew00604#22 = #rem00058#47;   |PINTA #rew00604#22;
     |FINSI;

     |SI eaLetra = "2";
         |C_M #rew00605#11, 1, "S";
         |C_M #rew00605#12, 1, "S";

         |DDEFECTO #rew00605;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00605#nCampo# = #rem00058#nCampo#;

               |C_V #rew00605#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00605#nCampo#;  |FINSI;
         |SIGUE;

         #rew00605#13 = #rem00058#16;
         #rew00605#14 = #rem00058#23;   |PINTA #rew00605#14;
         #rew00605#15 = #rem00058#24;   |PINTA #rew00605#15;
         #rew00605#16 = #rem00058#25;   |PINTA #rew00605#16;
         #rew00605#17 = #rem00058#26;   |PINTA #rew00605#17;
         #rew00605#18 = #rem00058#45;   |PINTA #rew00605#18;
         #rew00605#19 = #rem00058#46;   |PINTA #rew00605#19;
         #rew00605#20 = #rem00058#47;   |PINTA #rew00605#20;
     |FINSI;

     |SI eaLetra = "3";
         |C_M #rew00606#11, 1, "S";
         |C_M #rew00606#12, 1, "S";

         |DDEFECTO #rew00606;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00606#nCampo# = #rem00058#nCampo#;

               |C_V #rew00606#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00606#nCampo#;  |FINSI;
         |SIGUE;

         #rew00606#13 = #rem00058#16;
         #rew00606#14 = #rem00058#27;   |PINTA #rew00606#14;
         #rew00606#15 = #rem00058#28;   |PINTA #rew00606#15;
         #rew00606#17 = #rem00058#30;   |PINTA #rew00606#17;
         #rew00606#18 = #rem00058#45;   |PINTA #rew00606#18;
         #rew00606#19 = #rem00058#46;   |PINTA #rew00606#19;
         #rew00606#20 = #rem00058#47;   |PINTA #rew00606#20;
         #rew00606#21 = #rem00058#49;   |PINTA #rew00606#21;
     |FINSI;

     |SI eaLetra = "4";
         |C_M #rew00607#11, 1, "S";
         |C_M #rew00607#12, 1, "S";

         |DDEFECTO #rew00607;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00607#nCampo# = #rem00058#nCampo#;

               |C_V #rew00607#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00607#nCampo#;  |FINSI;
         |SIGUE;

         #rew00607#13 = #rem00058#16;
         #rew00607#14 = #rem00058#31;   |PINTA #rew00607#14;
         #rew00607#15 = #rem00058#32;   |PINTA #rew00607#15;
         #rew00607#16 = #rem00058#33;   |PINTA #rew00607#16;
         #rew00607#17 = #rem00058#34;   |PINTA #rew00607#17;
         #rew00607#18 = #rem00058#35;   |PINTA #rew00607#18;
         #rew00607#19 = #rem00058#36;   |PINTA #rew00607#19;
         #rew00607#20 = #rem00058#37;   |PINTA #rew00607#20;
         #rew00607#21 = #rem00058#38;   |PINTA #rew00607#21;
         #rew00607#22 = #rem00058#39;   |PINTA #rew00607#22;
         #rew00607#23 = #rem00058#40;   |PINTA #rew00607#23;
         #rew00607#24 = #rem00058#41;   |PINTA #rew00607#24;
         #rew00607#25 = #rem00058#42;   |PINTA #rew00607#25;
         #rew00607#26 = #rem00058#43;   |PINTA #rew00607#26;
         #rew00607#27 = #rem00058#44;   |PINTA #rew00607#27;
         #rew00607#28 = #rem00058#45;   |PINTA #rew00607#28;
         #rew00607#29 = #rem00058#46;   |PINTA #rew00607#29;
         #rew00607#30 = #rem00058#47;   |PINTA #rew00607#30;
     |FINSI;
|FPRC;

|PROCESO DescargaFantasma;
     |SI eaLetra = "1";
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               |SI enSwLiquida = 1;
                   |SI #rem00058#nCampo# = #rew00604#Campo#;
                       enSwRetorno = 1;
                   |FINSI;
               |FINSI;

               #rem00058#nCampo# = #rew00604#nCampo#;
          |SIGUE;

          |SI enSwLiquida = 1;
              |SI #rem00058#16 = #rew00604#13;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#17 = #rew00604#14;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#18 = #rew00604#15;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#19 = #rew00604#16;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#20 = #rew00604#17;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#21 = #rew00604#18;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#22 = #rew00604#19;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#45 = #rew00604#20;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#46 = #rew00604#21;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#47 = #rew00604#22;  enSwRetorno = 1;  |FINSI;
          |FINSI;

          #rem00058#16 = #rew00604#13;
          #rem00058#17 = #rew00604#14;
          #rem00058#18 = #rew00604#15;
          #rem00058#19 = #rew00604#16;
          #rem00058#20 = #rew00604#17;
          #rem00058#21 = #rew00604#18;
          #rem00058#22 = #rew00604#19;
          #rem00058#45 = #rew00604#20;
          #rem00058#46 = #rew00604#21;
          #rem00058#47 = #rew00604#22;
     |FINSI;

     |SI eaLetra = "2";
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               |SI enSwLiquida = 1;
                   |SI #rem00058#nCampo# = #rew00605#Campo#;
                       enSwRetorno = 1;
                   |FINSI;
               |FINSI;

               #rem00058#nCampo# = #rew00605#nCampo#;
          |SIGUE;

          |SI enSwLiquida = 1;
              |SI #rem00058#16 = #rew00605#13;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#23 = #rew00605#14;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#24 = #rew00605#15;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#25 = #rew00605#16;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#26 = #rew00605#17;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#45 = #rew00605#18;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#46 = #rew00605#19;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#47 = #rew00605#20;  enSwRetorno = 1;  |FINSI;
          |FINSI;

          #rem00058#16 = #rew00605#13;
          #rem00058#23 = #rew00605#14;
          #rem00058#24 = #rew00605#15;
          #rem00058#25 = #rew00605#16;
          #rem00058#26 = #rew00605#17;
          #rem00058#45 = #rew00605#18;
          #rem00058#46 = #rew00605#19;
          #rem00058#47 = #rew00605#20;
     |FINSI;

     |SI eaLetra = "3";
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               |SI enSwLiquida = 1;
                   |SI #rem00058#nCampo# = #rew00606#Campo#;
                       enSwRetorno = 1;
                   |FINSI;
               |FINSI;

               #rem00058#nCampo# = #rew00606#nCampo#;
          |SIGUE;

          |SI enSwLiquida = 1;
              |SI #rem00058#16 = #rew00606#13;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#27 = #rew00606#14;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#28 = #rew00606#15;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#30 = #rew00606#17;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#45 = #rew00606#18;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#46 = #rew00606#19;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#47 = #rew00606#20;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#49 = #rew00606#21;  enSwRetorno = 1;  |FINSI;
          |FINSI;

          #rem00058#16 = #rew00606#13;
          #rem00058#27 = #rew00606#14;
          #rem00058#28 = #rew00606#15;
          #rem00058#30 = #rew00606#17;
          #rem00058#45 = #rew00606#18;
          #rem00058#46 = #rew00606#19;
          #rem00058#47 = #rew00606#20;
          #rem00058#49 = #rew00606#21;
     |FINSI;

     |SI eaLetra = "4";
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               |SI enSwLiquida = 1;
                   |SI #rem00058#nCampo# = #rew00607#Campo#;
                       enSwRetorno = 1;
                   |FINSI;
               |FINSI;

               #rem00058#nCampo# = #rew00607#nCampo#;
          |SIGUE;

          |SI enSwLiquida = 1;
              |SI #rem00058#16 = #rew00607#13;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#31 = #rew00607#14;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#32 = #rew00607#15;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#33 = #rew00607#16;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#34 = #rew00607#17;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#35 = #rew00607#18;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#36 = #rew00607#19;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#37 = #rew00607#20;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#38 = #rew00607#21;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#39 = #rew00607#22;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#40 = #rew00607#23;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#41 = #rew00607#24;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#42 = #rew00607#25;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#43 = #rew00607#26;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#44 = #rew00607#27;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#45 = #rew00607#28;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#46 = #rew00607#29;  enSwRetorno = 1;  |FINSI;
              |SI #rem00058#47 = #rew00607#30;  enSwRetorno = 1;  |FINSI;
          |FINSI;

          #rem00058#16 = #rew00607#13;
          #rem00058#31 = #rew00607#14;
          #rem00058#32 = #rew00607#15;
          #rem00058#33 = #rew00607#16;
          #rem00058#34 = #rew00607#17;
          #rem00058#35 = #rew00607#18;
          #rem00058#36 = #rew00607#19;
          #rem00058#37 = #rew00607#20;
          #rem00058#38 = #rew00607#21;
          #rem00058#39 = #rew00607#22;
          #rem00058#40 = #rew00607#23;
          #rem00058#41 = #rew00607#24;
          #rem00058#42 = #rew00607#25;
          #rem00058#43 = #rew00607#26;
          #rem00058#44 = #rew00607#27;
          #rem00058#45 = #rew00607#28;
          #rem00058#46 = #rew00607#29;
          #rem00058#47 = #rew00607#30;
     |FINSI;

                              #rem00058#48 = "";
     |SI #rem00058#3  = "X";  #rem00058#48 = eaRojo;  |FINSI;

     |HAZ PintaDatosPantalla;
|FPRC;

|PROCESO CtrlGanancias;
     #rew00003#0 = #rem00058#2;
     #rew00003#1 = #rem00058#3;
     #rew00003#2 = #rem00058#4;
     #rew00003#3 = #rem00058#5;
     #rew00003#4 = #rem00058#6;
     #rew00003#5 = #rem00058#7;
     #rew00003#6 = #rem00058#8;
     #rew00003#7 = #rem00058#9;
     #rew00003#8 = #rem00058#10;

     enImporte = #rem00058#36;  |HAZ GrabaVitalicias;
     enImporte = #rem00058#37;  |HAZ GrabaDT9;
|FPRC;

|PROCESO Alta;
     |ESTADO_CONTROL nBotonAlta,   "DISABLE";
     |ESTADO_CONTROL nBotonModi,   "DISABLE";
     |ESTADO_CONTROL nBotonBaja,   "DISABLE";

     |HAZ QuitaBtnSalir;

     |ESTADO_CONTROL nGrid, "DISABLE";

     |PULSATECLA;

     |SELECT #1#rem00058;
     #rem00058#0 = enEmpresa;
     #rem00058#1 = 99;
     |LEE 000#rem00058.];
     |SI FSalida = 0;
         |LEE 000#rem00058.a;
     |SINO;
         |LEE 000#rem00058.u;
     |FINSI;

     |SI eaLetra = "1";
         |DDEFECTO #rew00604;
         #rew00604#0 = enEmpresa;
         #rew00604#1 = 1;
         |SI FSalida = 0;  |Y  #rem00058#0 = enEmpresa;
             #rew00604#1 = #rem00058#1 + 1;
         |FINSI;

         |DDEFECTO #rem00058;

         #rem00058#0  = #rew00604#0;
         #rem00058#1  = #rew00604#1;
         #rem00058#13 = 1;

         |C_M #rew00604#1, 1, "S";

         enModoReg = 1;
         |HAZ CargaFantasma;

         |ENDATOS #1#rew00604;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00058.n;
             |LIBERA #rem00058;
         |FINSI;
     |FINSI;

     |SI eaLetra = "2";
         |DDEFECTO #rew00605;
         #rew00605#0 = enEmpresa;
         #rew00605#1 = 1;
         |SI FSalida = 0;  |Y  #rem00058#0 = enEmpresa;
             #rew00605#1 = #rem00058#1 + 1;
         |FINSI;

         |DDEFECTO #rem00058;

         #rem00058#0  = #rew00605#0;
         #rem00058#1  = #rew00605#1;
         #rem00058#13 = 2;

         |C_M #rew00605#1, 1, "S";

         enModoReg = 1;
         |HAZ CargaFantasma;

         |ENDATOS #1#rew00605;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00058.n;
             |LIBERA #rem00058;
         |FINSI;
     |FINSI;

     |SI eaLetra = "3";
         |DDEFECTO #rew00606;
         #rew00606#0 = enEmpresa;
         #rew00606#1 = 1;
         |SI FSalida = 0;  |Y  #rem00058#0 = enEmpresa;
             #rew00606#1 = #rem00058#1 + 1;
         |FINSI;

         |DDEFECTO #rem00058;

         #rem00058#0  = #rew00606#0;
         #rem00058#1  = #rew00606#1;
         #rem00058#13 = 3;

         |C_M #rew00606#1,  1, "S";
         |C_M #rew00606#18, 1, "N";

         enModoReg = 1;
         |HAZ CargaFantasma;

         |ENDATOS #1#rew00606;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00058.n;
             |LIBERA #rem00058;
         |FINSI;
     |FINSI;

     |SI eaLetra = "4";
         |DDEFECTO #rew00607;
         #rew00607#0 = enEmpresa;
         #rew00607#1 = 1;
         |SI FSalida = 0;  |Y  #rem00058#0 = enEmpresa;
             #rew00607#1 = #rem00058#1 + 1;
         |FINSI;

         |DDEFECTO #rem00058;

         #rem00058#0  = #rew00607#0;
         #rem00058#1  = #rew00607#1;
         #rem00058#13 = 4;

         |C_M #rew00607#1,  1, "S";

         enModoReg = 1;
         |HAZ CargaFantasma;

         |ENDATOS #1#rew00607;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00058.n;
             |LIBERA #rem00058;

             enQuita = 0;  |HAZ CtrlGanancias;
         |FINSI;
     |FINSI;

     |SELECT #3#rem00058;
     |LEE 000#rem00058.=;

     |SI enModo ! 4;
         |ESTADO_CONTROL nBotonAlta, "ENABLE";
     |FINSI;

     |HAZ PonBtnSalir;

     enModoReg = 4;
     |ESTADO_CONTROL nGrid, "ENABLE";
     |REFRESCACONTROL nGrid;

     |FOCOTECLADO nGrid;
|FPRC;


|PROCESO Modificar;
     |SI nEntrar = 0;  |ACABA;  |FINSI;

     |SELECT #1#rem00058;
     |LEE 101#rem00058.=;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |ESTADO_CONTROL nBotonAlta,  "DISABLE";
     |ESTADO_CONTROL nBotonModi,  "DISABLE";
     |ESTADO_CONTROL nBotonBaja,  "DISABLE";

     |HAZ QuitaBtnSalir;

     |ESTADO_CONTROL nGrid, "DISABLE";

     |SI eaLetra = "1";
         enModoReg = 2;
         |C_M #rew00604#1, 1, "N";

         |HAZ CargaFantasma;
         |ENDATOS #2#rew00604;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00058.a;
         |FINSI;
         |LIBERA #rem00058;
     |FINSI;

     |SI eaLetra = "2";
         enModoReg = 2;
         |C_M #rew00605#1, 1, "N";

         |HAZ CargaFantasma;
         |ENDATOS #2#rew00605;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00058.a;
         |FINSI;
         |LIBERA #rem00058;
     |FINSI;

     |SI eaLetra = "3";
         enModoReg = 2;
         |C_M #rew00606#1, 1, "N";

         |C_M #rew00606#18, 1, "S";

         |SI #rem00058#45 = 0;
             |C_M #rew00606#18, 1, "N";
         |FINSI;

         |HAZ CargaFantasma;
         |ENDATOS #2#rew00606;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00058.a;
         |FINSI;
         |LIBERA #rem00058;
     |FINSI;

     |SI eaLetra = "4";
         enModoReg = 2;
         |C_M #rew00607#1, 1, "N";

         |HAZ CargaFantasma;

         enQuita = 1;  |HAZ CtrlGanancias;

         |ENDATOS #2#rew00607;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00058.a;
         |FINSI;

         enQuita = 0;  |HAZ CtrlGanancias;

         |LIBERA #rem00058;
     |FINSI;

     |SELECT #3#rem00058;
     |LEE 000#rem00058.=;

     |ESTADO_CONTROL nBotonAlta, "ENABLE";
     |ESTADO_CONTROL nBotonModi, "ENABLE";
     |ESTADO_CONTROL nBotonBaja, "ENABLE";

     |HAZ PonBtnSalir;

     enModoReg = 4;
     |ESTADO_CONTROL nGrid, "ENABLE";
     |REFRESCACONTROL nGrid;
     |FOCOTECLADO nGrid;
|FPRC;

|PROCESO Baja;
     |SI nEntrar = 0;  |ACABA;  |FINSI;

     |SI #rem00058#14 ! "  ";
         |MENAV "0000Proviene de las actividades, proceda a la baja desde las actividades";
         |ACABA;
     |FINSI;

     |CONFI "0000 Confirma la baja del registro seleccionado";
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |SELECT #1#rem00058;
     |LEE 101#rem00058.=;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     enQuita = 1;  |HAZ CtrlGanancias;

     |BORRA 020#rem00058.a;
     |LIBERA #rem00058;

     nEntrar     = 0;
     enSwRetorno = 1;

     |ESTADO_CONTROL nBotonModi,  "DISABLE";
     |ESTADO_CONTROL nBotonBaja,  "DISABLE";

     |SELECT #3#rem00058;
     |LEE 000#rem00058.];

     |REFRESCACONTROL nGrid;
     |FOCOTECLADO nGrid;
|FPRC;

|PROCESO PintaDatosPantalla;
     |SI eaLetra = "1";
         |DDEFECTO #rew00604;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00604#nCampo# = #rem00058#nCampo#;
               |C_V #rew00604#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00604#nCampo#;  |FINSI;

               |C_M #rew00604#nCampo#, 1, "N";
         |SIGUE;

         #rew00604#13 = #rem00058#16;
         #rew00604#14 = #rem00058#17;   |PINTA #rew00604#14;
         #rew00604#15 = #rem00058#18;   |PINTA #rew00604#15;
         #rew00604#16 = #rem00058#19;   |PINTA #rew00604#16;
         #rew00604#17 = #rem00058#20;   |PINTA #rew00604#17;
         #rew00604#18 = #rem00058#21;   |PINTA #rew00604#18;
         #rew00604#19 = #rem00058#22;   |PINTA #rew00604#19;
         #rew00604#20 = #rem00058#45;   |PINTA #rew00604#20;
         #rew00604#21 = #rem00058#46;   |PINTA #rew00604#21;
         #rew00604#22 = #rem00058#47;   |PINTA #rew00604#22;
     |FINSI;

     |SI eaLetra = "2";
         |DDEFECTO #rew00605;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00605#nCampo# = #rem00058#nCampo#;
               |C_V #rew00605#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00605#nCampo#;  |FINSI;

               |C_M #rew00605#nCampo#, 1, "N";
         |SIGUE;

         #rew00605#13 = #rem00058#16;
         #rew00605#14 = #rem00058#23;   |PINTA #rew00605#14;
         #rew00605#15 = #rem00058#24;   |PINTA #rew00605#15;
         #rew00605#16 = #rem00058#25;   |PINTA #rew00605#16;
         #rew00605#17 = #rem00058#26;   |PINTA #rew00605#17;
         #rew00605#18 = #rem00058#45;   |PINTA #rew00605#18;
         #rew00605#19 = #rem00058#46;   |PINTA #rew00605#19;
         #rew00605#20 = #rem00058#47;   |PINTA #rew00605#20;
     |FINSI;

     |SI eaLetra = "3";
         |DDEFECTO #rew00606;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00606#nCampo# = #rem00058#nCampo#;
               |C_V #rew00606#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00606#nCampo#;  |FINSI;

               |C_M #rew00606#nCampo#, 1, "N";
         |SIGUE;

         #rew00606#13 = #rem00058#16;
         #rew00606#14 = #rem00058#27;   |PINTA #rew00606#14;
         #rew00606#15 = #rem00058#28;   |PINTA #rew00606#15;
         #rew00606#17 = #rem00058#30;   |PINTA #rew00606#17;
         #rew00606#18 = #rem00058#45;   |PINTA #rew00606#18;
         #rew00606#19 = #rem00058#46;   |PINTA #rew00606#19;
         #rew00606#20 = #rem00058#47;   |PINTA #rew00606#20;
         #rew00606#21 = #rem00058#49;   |PINTA #rew00606#21;
     |FINSI;

     |SI eaLetra = "4";
         |DDEFECTO #rew00607;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00607#nCampo# = #rem00058#nCampo#;
               |C_V #rew00607#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00607#nCampo#;  |FINSI;

               |C_M #rew00607#nCampo#, 1, "N";
         |SIGUE;

         #rew00607#13 = #rem00058#16;
         #rew00607#14 = #rem00058#31;   |PINTA #rew00607#14;
         #rew00607#15 = #rem00058#32;   |PINTA #rew00607#15;
         #rew00607#16 = #rem00058#33;   |PINTA #rew00607#16;
         #rew00607#17 = #rem00058#34;   |PINTA #rew00607#17;
         #rew00607#18 = #rem00058#35;   |PINTA #rew00607#18;
         #rew00607#19 = #rem00058#36;   |PINTA #rew00607#19;
         #rew00607#20 = #rem00058#37;   |PINTA #rew00607#20;
         #rew00607#21 = #rem00058#38;   |PINTA #rew00607#21;
         #rew00607#22 = #rem00058#39;   |PINTA #rew00607#22;
         #rew00607#23 = #rem00058#40;   |PINTA #rew00607#23;
         #rew00607#24 = #rem00058#41;   |PINTA #rew00607#24;
         #rew00607#25 = #rem00058#42;   |PINTA #rew00607#25;
         #rew00607#26 = #rem00058#43;   |PINTA #rew00607#26;
         #rew00607#27 = #rem00058#44;   |PINTA #rew00607#27;
         #rew00607#28 = #rem00058#45;   |PINTA #rew00607#28;
         #rew00607#29 = #rem00058#46;   |PINTA #rew00607#29;
         #rew00607#30 = #rem00058#47;   |PINTA #rew00607#30;
     |FINSI;
|FPRC;

|PROCESO Evento20;
     |SI enModoReg ! 4;  |ACABA;  |FINSI;

     |SI FSalida = 1;  |O FSalida = 2;
         |LEE 000#rem00058.=;

         |SI enModo = 4;
             |ESTADO_CONTROL nBotonAlta, "DISABLE";
             |ESTADO_CONTROL nBotonModi, "DISABLE";
             |ESTADO_CONTROL nBotonBaja, "DISABLE";
         |SINO;
             |ESTADO_CONTROL nBotonModi, "ENABLE";
             |ESTADO_CONTROL nBotonBaja, "ENABLE";
         |FINSI;

         |PULSATECLA;

         nEntrar   = 1;
         enModoReg = 4;
         |HAZ PintaDatosPantalla;
     |FINSI;

     |SI FSalida = 4;
         |SI enModo = 4;  |ACABA;  |FINSI;

         |HAZ Modificar;
     |FINSI;
|FPRC;

|PROCESO BotonesPanta;
     |CONTROL_SIMPLE nPanta, "BOTON,{{193}}&Alta ", 1664, 1674, Alta;
     nBotonAlta = FSalida;

     |CONTROL_SIMPLE nPanta, "BOTON,{{197}}&Modificar ", 1676, 1686, Modificar;
     nBotonModi = FSalida;

     |CONTROL_SIMPLE nPanta, "BOTON,{{199}}&Borrar", 1688, 1698, Baja;
     nBotonBaja = FSalida;

     |CONTROL_SIMPLE nPanta, "BOTON,{{197}} &Y", 1738, 1742, BotonCntr;
     nBotonCntr = FSalida;

     nEntrar = 0;

     |ESTADO_CONTROL nBotonModi,   "DISABLE";
     |ESTADO_CONTROL nBotonBaja,   "DISABLE";

     |SI enModo = 4;
         |ESTADO_CONTROL nBotonAlta, "DISABLE";
     |FINSI;
|FPRC;

|PROCESO Baja20;
     #rem00058#0  = enEmpresa;
     #rem00058#13 = eaLetra;
     #rem00058#1  = 1;
|FPRC;

|PROCESO Alta20;
     #rem00058#0  = enEmpresa;
     #rem00058#13 = eaLetra;
     #rem00058#1  = 99;
|FPRC;

|PROGRAMA;
     |HAZ CargaColores;

     enSwRetorno = 0;
     aQueQuiero  = "|NC";
     aNumCampos  = #rem00058#aQueQuiero#;
     nNumCampos  = aNumCampos;
     nNumCampos  = nNumCampos - 1;
     nRango      = 4 + 8 + 16 + 32 + 128;
     enModoReg   = 4;

     |SI eaLetra = "1";  |PINPA #0#rew00604;  |FINSI;
     |SI eaLetra = "2";  |PINPA #0#rew00605;  |FINSI;
     |SI eaLetra = "3";  |PINPA #0#rew00606;  |FINSI;
     |SI eaLetra = "4";  |PINPA #0#rew00607;  |FINSI;

      nPanta = FSalida;

     |HAZ BotonesPanta;

     |DDEFECTO #rem00058;
     |HAZ PintaDatosPantalla;

     |ABRET #rem00058;

     |LINEAL_SIMPLE #3#rem00058, nRango, 0602, 1598, Baja20, Alta20, Evento20;
     nGrid = FSalida;

     |CONTROL_SIMPLE 0, "BOTON,{{001}}sa&Lir", 3488, 3498, Ptec806;
     enBtnSalir = FSalida;

     aEsc1  = &255 + "806";
     aEsc2  = &255 + "807";
     aRetu  = &255 + "802";
     |PARA; |SI;  |HACIENDO;
          FSalida = "::," + nGrid;
          |LEETECLA aTecla;
          |SI aTecla = aEsc1; |SAL;  |FINSI;
          |SI aTecla = aEsc2; |SAL;  |FINSI;

          |SI aTecla = aRetu;
              |HAZ Modificar;
          |FINSI;
     |SIGUE;

     |CIERRAT #rem00058;

     eaPrograma   = "rem00058";
     eaPunto      = eaLetra;
     |HAZ ProgramaActivo;
|FPRO;
