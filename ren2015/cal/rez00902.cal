|FICHEROS;
     rem02002;
|FIN;

|VARIABLES;
|FIN;

|VARIABLES;
     aCodigo1   = "";
     aCodigo2   = "";
     aCodigo3   = "";
     aCodigo4   = "";
     aContenido = "";
     aCaracter  = "";
     aLineaMenu = "";
     aAlfa      = "";
     aAlfa1     = "";
     aAlfa2     = "";
     aAbre      = "";
     aPrograma  = "";
     aRetu      = "";
     aEsc1      = "";
     aEsc2      = "";
     aTecla     = "";
     aQueQuiero = "";

     nCampo     = 0;
     nNumCampos = 0;
     nCodigos   = 0;
     nCodigo1   = 0;
     nCodigo2   = 0;
     nCodigo3   = 0;
     nPos       = 0;
     nPosi      = 0;
     nRango     = 0;
     nBoton1    = 0;
     nHandle    = 0;
     nLong      = 0;
     nCaracter  = 0;
     nLLaves    = 0;
     nGrid      = 0;
     nVent      = 0;
|FIN;

|PROGRAMA;
     |CONSULTA_CLAVE #1#rem02002;
|FPRO;

|PROCESO RecogeDatos;
     |DBASE aAlfa;   |QBF aAlfa;
     aAlfa = aAlfa + "cogetxt/";
     aAlfa = aAlfa + "rem02002.txt";
     |XABRE "", aAlfa, nHandle;
     |PARA;  |SI  FSalida ] 0;  |HACIENDO;
             |XLEE nHandle, 255, aAlfa1;
             |SI FSalida < 0;  |SAL;  |FINSI;

             |DDEFECTO #rem02002;

             aAlfa2 = aAlfa1 % 0105;   #rem02002#0  = aAlfa2;
             aAlfa2 = aAlfa1 % 0760;   #rem02002#1  = aAlfa2;
             aAlfa2 = aAlfa1 % 6801;   #rem02002#2  = aAlfa2;
             aAlfa2 = aAlfa1 % 7005;   #rem02002#3  = aAlfa2;

             |GRABA 020#rem02002.n;
             |LIBERA #rem02002;
     |SIGUE;
     |XCIERRA nHandle;
|FPRC;

|PROCESO rem02002;
     aAlfa = ("     " + #rem02002#0) % -105;
     aAlfa = aAlfa + "|" + #rem02002#1;
     aAlfa = aAlfa + "|" + #rem02002#2;
     aAlfa = aAlfa + "|" + #rem02002#3;
     aAlfa = aAlfa + &13 + &10;

     |XGRABA nHandle, aAlfa;
|FPRC;

|DEFBUCLE rem02002;
     #rem02002#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, rem02002;
|FIN;

|PROCESO HazElTxt;
     aAbre = "/u/dsprofes/ren2015/cogetxt/rem02002.txt";

     |XABRE "WB", aAbre, nHandle;
     |BUCLE rem02002;
     |XCIERRA nHandle;
|FPRC;

|PROCESO Tipo80;  |TIPO 80;
     aAbre = "/u/dsprofes/ren2015/cogetxt/rem02002.txt";
     |XABRE "E", aAbre, 0;
     |SI FSalida < 0;
         |HAZ HazElTxt;
     |FINSI;

     |ABRET #rem02002;
     |LEE 000#rem02002.p;
     |SI FSalida ! 0;
         |HAZ RecogeDatos;
     |FINSI;
|FPRC;

|PROCESO Tipo90;  |TIPO 90;
     |CIERRAT #rem02002;
|FPRC;
