|FICHEROS;
     rem02000;
     rem02001;
|FIN;

|VARIABLES;
|FIN;

|VARIABLES;
     aCodigo1   = "";
     aCodigo2   = "";
     aCodigo3   = "";
     aCodigo4   = "";
     aContenido = "";
     aCaracter  = "";
     aLineaMenu = "";
     aAlfa      = "";
     aAlfa1     = "";
     aAlfa2     = "";
     aAbre      = "";
     aPrograma  = "";
     aRetu      = "";
     aEsc1      = "";
     aEsc2      = "";
     aTecla     = "";
     aQueQuiero = "";

     nCampo     = 0;
     nNumCampos = 0;
     nCodigos   = 0;
     nCodigo1   = 0;
     nCodigo2   = 0;
     nCodigo3   = 0;
     nPos       = 0;
     nPosi      = 0;
     nRango     = 0;
     nBoton1    = 0;
     nHandle    = 0;
     nLong      = 0;
     nCaracter  = 0;
     nLLaves    = 0;
     nGrid      = 0;
     nVent      = 0;
|FIN;

|PROGRAMA;
     |CONSULTA_CLAVE #1#rem02000;
|FPRO;

|PROCESO RecogeDatos;
     |DBASE aAlfa;   |QBF aAlfa;
     aAlfa = aAlfa + "cogetxt/";
     aAlfa = aAlfa + "rem02000.txt";
     |XABRE "", aAlfa, nHandle;
     |PARA;  |SI  FSalida ] 0;  |HACIENDO;
             |XLEE nHandle, 255, aAlfa1;
             |SI FSalida < 0;  |SAL;  |FINSI;

             |DDEFECTO #rem02000;

             aAlfa2 = aAlfa1 % 102;    #rem02000#0  = aAlfa2;
             aAlfa2 = aAlfa1 % 402;    #rem02000#1  = aAlfa2;
             aAlfa2 = aAlfa1 % 740;    #rem02000#2  = aAlfa2;
             aAlfa2 = aAlfa1 % 4830;   #rem02000#3  = aAlfa2;
             aAlfa2 = aAlfa1 % 7903;   #rem02000#4  = aAlfa2;
             aAlfa2 = aAlfa1 % 8303;   #rem02000#5  = aAlfa2;
             aAlfa2 = aAlfa1 % 8706;   #rem02000#6  = aAlfa2;
             aAlfa2 = aAlfa1 % 9402;   #rem02000#7  = aAlfa2;
             aAlfa2 = aAlfa1 % 9702;   #rem02000#8  = aAlfa2;
             aAlfa2 = aAlfa1 % 10002;  #rem02000#9  = aAlfa2;
             aAlfa2 = aAlfa1 % 10302;  #rem02000#10 = aAlfa2;

             |GRABA 020#rem02000.n;
             |LIBERA #rem02000;

             #rem02001#0 = #rem02000#0;
             |LEE 101#rem02001.=;
             |SI FSalida ! 0;
                 |DDEFECTO #rem02001;
                 #rem02001#0 = #rem02000#0;
                 |GRABA 020#rem02001.b;
             |FINSI;
             #rem02001#1 = #rem02000#2;
             |GRABA 020#rem02001.a;
             |LIBERA #rem02001;
     |SIGUE;
     |XCIERRA nHandle;
|FPRC;

|PROCESO rem02000;
     aAlfa = ("  " + #rem02000#0) % -102;
     aAlfa = aAlfa + "|" + (("  " + #rem02000#1) % -102);
     aAlfa = aAlfa + "|" + #rem02000#2;
     aAlfa = aAlfa + "|" + #rem02000#3;
     aAlfa = aAlfa + "|" + (("   " + #rem02000#4) % -103);
     aAlfa = aAlfa + "|" + (("   " + #rem02000#5) % -103);
     aAlfa = aAlfa + "|" + (("      " + #rem02000#6) % -106);
     aAlfa = aAlfa + "|" + (("  " + #rem02000#7) % -102);
     aAlfa = aAlfa + "|" + (("  " + #rem02000#8) % -102);
     aAlfa = aAlfa + "|" + (("  " + #rem02000#9) % -102);
     aAlfa = aAlfa + "|" + (("  " + #rem02000#10) % -102);
     aAlfa = aAlfa + &13 + &10;

     |XGRABA nHandle, aAlfa;
|FPRC;

|DEFBUCLE rem02000;
     #rem02000#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, rem02000;
|FIN;

|PROCESO HazElTxt;
     aAbre = "/u/dsprofes/ren2015/cogetxt/rem02000.txt";

     |XABRE "WB", aAbre, nHandle;
     |BUCLE rem02000;
     |XCIERRA nHandle;
|FPRC;

|PROCESO Tipo80;  |TIPO 80;
     aAbre = "/u/dsprofes/ren2015/cogetxt/rem02000.txt";
     |XABRE "E", aAbre, 0;
     |SI FSalida < 0;
         |HAZ HazElTxt;
     |FINSI;

     |ABRET #rem02000;
     |ABRET #rem02001;
     |LEE 000#rem02000.p;
     |SI FSalida ! 0;
         |HAZ RecogeDatos;
     |FINSI;
|FPRC;

|PROCESO Tipo90;  |TIPO 90;
     |CIERRAT #rem02000;
     |CIERRAT #rem02001;
|FPRC;
