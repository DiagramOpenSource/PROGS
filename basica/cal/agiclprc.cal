|FICHEROS;
    agiclgrl #0;
    agiclgrc #1;

    &clientes@ #715;
|FIN;

|VARIABLES;
    sino  = "";
    tope  = 0;
    fecha = @;
    alfa  = "";
    mes   = "";
    dia   = "";
    any   = "";

    &enCodCli = 0;
|FIN;

|PROCESO PintaCliente;
     enCodCli = #1#0;
     |HAZ LeePersona;

     #1#2 = #715#1;
     |PINTA #1#2;
|FPRC;

|PROCESO anyo; |TIPO 7;
fecha = ~;
alfa  = fecha % -104;
#1#1  = alfa;
|PINTA #1#1;
|FPRC;

|PROCESO filtrosp; |TIPO 0;
tope = 31;

|SI #0#3 = 2;  tope = 29; |FINSI;
|SI #0#3 = 4;  tope = 30; |FINSI;
|SI #0#3 = 6;  tope = 30; |FINSI;
|SI #0#3 = 9;  tope = 30; |FINSI;
|SI #0#3 = 11; tope = 30; |FINSI;

|SI tope < #0#4;
    |MENAV "      El dia no coincide con los dias del mes introducido.";
    |ERROR;
|FINSI;
|FPRC;

|PROCESO importe; |TIPO 7;
sino = #0#12;
|CAMPO_MODIFICA #0#13, 1, sino;

|SI sino = "N"; #0#13 = 0; |PINTA #0#13; |FINSI;
|FPRC;

|PROCESO fecha_comp; |TIPO 2;
mes = #0#3;
mes = ("00" + mes) % -102;

dia = #0#4;
dia = ("00" + dia) % -102;

any = #0#1;
any = ("0000" + any) % -104;

alfa = dia + "." + mes + "." + any;
#0#15 = alfa;
|FPRC;
