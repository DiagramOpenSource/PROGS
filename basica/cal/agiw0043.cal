|FICHEROS;
     agiw0043;
|FIN;

|VARIABLES;
     nLCod       = 0;
     nCalc       = 0;

     aAlfa       = "";
     aAlfa1      = "";

     &eaAlfa       = "";
     &enError      = 0;
     &eaTabla      = "";
     &enPosicion   = 0;
     &eaDestino    = "";
     &enComp       = 0;
|FIN;

|PROCESO Tipo12Fw043;  |TIPO 12;
|FPRC;

|PROCESO SacaPais; |TIPO 7;
     eaTabla = "ztabla05.txt";  nLCod = 2; |HAZ CargaTabla;
     |MENSA "    <F2> Consulta paises ";
|FPRC;

|PROCESO CompPais;
     |MENSA "     ";

     |SI FSalida = 10;
         enPosicion = 20;
         |HAZ SacaTabla;
         nCalc = 100 + nLCod;
         aAlfa1   = eaDestino % nCalc;
         #agiw0043#Campo#  = aAlfa1;  |PINTA #agiw0043#Campo#;
     |FINSI;

     enComp = nLCod;
     aAlfa = "|C" + (("000" + Campo) % -103) + "TIPO"; aAlfa1 = #agiw0043#aAlfa#;
     aAlfa = #agiw0043#Campo#; |QBF aAlfa;
     |SI aAlfa1 = "N"; nCalc = - (100 + nLCod); aAlfa = (("0" * enComp) + aAlfa) % nCalc; |FINSI;
     |SI aAlfa1 ! "N"; nCalc = 100 + nLCod;     aAlfa = (aAlfa + (" " * enComp)) % nCalc; |FINSI;
     eaAlfa = aAlfa;
     |HAZ CompruebaTabla;

     |SI enError = 1;
         |MENAV "0000 Contenido Incorrecto. Consulta la Tabla con F2";
         |ERROR;
         |PULSATECLA;
         |ACABA;
     |FINSI;

     nCalc = 100 + nLCod;                 aAlfa1   = eaDestino % nCalc;
     #agiw0043#Campo#  = aAlfa1;
     |C_P #agiw0043#Campo#,0,nCalc; nCalc = nCalc + nLCod + 1;
     |PINTA #agiw0043#Campo#;

     |HAZ FinTabla;
|FPRC;
