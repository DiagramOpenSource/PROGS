|FICHEROS;
     agim0057 #0;
     reflejo@  #20;
|FIN;

|VARIABLES;
     nTecla          = 0;
     aAlfa           = "";
     aDef            = "";
     aPath           = "";
     aDExt           = "";
     aHExt           = "";
|FIN;

|RUTINA ClaveBaja20;
     #20#0 = aDExt;
     #20#1 = "        ";
     #20#4 = "        ";
     #20#5 = 0;
     #20#7 = "01.01.0000";
|FRUT;

|RUTINA ClaveAlta20;
     #20#0 = aHExt;
     #20#1 = "zzzzzzzz";
     #20#4 = "zzzzzzzz";
     #20#5 = 3;
     #20#7 = "31.12.2099";
|FRUT;

|PROCESO Tipo11;  |TIPO 11;
     nTecla = FSalida;

     |SI nTecla ! 10; |Y nTecla ! 11; |Y nTecla! 12;  |ACABA;  |FINSI;

     |DBASE aPath;  |QBT aPath;
     aDef = aPath + "def/agim0057.mas";
     |CARGA_DEF aDef, reflejo@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def agim0057.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;
     |SI nTecla = 10; |O nTecla = 11;
         |C_A #20#3,1, 10;
         |C_A #20#6,1, 9;
         |C_A #20#9,1, 35;
     |FINSI;

     |PUSHV 0501 2380;
     |SI nTecla = 10;
         |ATRI P;
         |PINTA 0703, "MODO CONSULTA  <ORDENADO POR FECHA>";
         |ATRI p;

         |ENTLINEAL #2#20, -1, 4, 22, 0, ClaveBaja20, ClaveAlta20;
     |FINSI;
     |SI nTecla = 11;
         |ATRI P;
         |PINTA 0703, "MODO CONSULTA  <ORDENADO POR USUARIO>";
         |ATRI p;

         |ENTLINEAL #3#20, -1, 4, 22, 0, ClaveBaja20, ClaveAlta20;
     |FINSI;
     |SI nTecla = 12;
         |ABRE #20;
         |CONSULTA_F_CLAVE #2#20, ClaveBaja20, ClaveAlta20;
         |SI FSalida = 0;
             #0#0 = #20#0;
             #0#1 = #20#1;
             #0#5 = #20#5;
             |LEE 000#0=;
         |FINSI;
         |CIERRA #20;
     |FINSI;

     |ERROR;
     |POPV;
     |DESCARGA_DEF #reflejo@;
|FPRC;

|RUTINA ClaveBaja0;
     #0#0 = aDExt;
     #0#1 = "        ";
     #0#5 = 0;
|FRUT;

|RUTINA ClaveAlta0;
     #0#0 = aHExt;
     #0#1 = "zzzzzzzz";
     #0#5 = 3;
|FRUT;

|PROGRAMA;
     aDExt = "   ";
     aHExt = "zzz";
     |C_A #0#3,1, 10;
     |C_A #0#6,1, 9;
     |C_A #0#9,1, 35;

     |ENTLINEAL #1#0, -2, 4, 22, 1, ClaveBaja0, ClaveAlta0;
|FPRO;
