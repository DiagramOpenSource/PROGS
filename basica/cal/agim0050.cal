|FICHEROS;
 agim0050 #50;
 agim0051 #51;
|FINSI;

|VARIABLES;
 nModo        = 0;
 nInkey       = 0;
 &enOperar    = 0;
 &enEjercicio = 0;
 &nDEmpresa   = 0;
 &nHEmpresa   = 0;
 nDTip        = 0;
 nHTip        = 0;
 fFecha       = @;
 aAlfa1       = "";
 nNume1       = "";
|FIN;

|CALCULO Defectos; |TIPO 0;
 nModo = (FEntrada / 100) ! 0;
 |SI nModo = 1;
     #50#4 = #50#0 - 1;  |PINTA #50#4;
     #50#1 = 5000000;    |PINTA #50#1;
     #50#2 = 5000000;    |PINTA #50#2;
     #50#3 = 6010121.04; |PINTA #50#3;
 |FINSI;
|FCAL;

|CALCULO LasFunciones;  |TIPO 11;
 nInkey = FSalida;
 |SI nInkey = 10;
     |HAZ ElCalculo;
 |FINSI;

 |SI nInkey ] 11; |Y nInkey [ 14;
     |HAZ LaConsulta;
 |FINSI;
|FCAL;

|CALCULO LasFun0; |TIPO 0;
 |HAZ LasFunciones;
|FCAL;

|| *************************************************************************
|PROCESO ElCalculo;
 enOperar    = 10;
 enEjercicio = #50#0;
 nDEmpresa   = 1;
 nHEmpresa   = 99999;
 |SUB_EJECUTA_NP ":basica/agim0051";
 nInkey = 14;
|FPRC;

|RUTINA min51;
 #51#0 = 00001;
 #51#1 = enEjercicio;
 #51#2 = nDTip;
|FRUT;

|RUTINA max51;
 #51#0 = 99999;
 #51#1 = enEjercicio;
 #51#2 = nHTip;
|FRUT;

|PROCESO LaConsulta;
 enEjercicio = #50#0;
 |SI nInkey = 11;  nDTip = 1;  nHTip = 1;  |FINSI;
 |SI nInkey = 12;  nDTip = 2;  nHTip = 2;  |FINSI;
 |SI nInkey = 13;  nDTip = 3;  nHTip = 3;  |FINSI;
 |SI nInkey = 14;  nDTip = 0;  nHTip = 3;  |FINSI;
 |PUSHV 1401 2380;

 |PINPA #0#51;
 |SI nInkey ! 14;
     |ENTLINEAL #3#51, -3, 4, 22, 0, min51, max51;
 |SINO;
     |ENTLINEAL #2#51, -2, 4, 22, 0, min51, max51;
 |FINSI;
 |POPV;
|FPRC;

|| *************************************************************************
|RUTINA min50;
 |SI FSalida = "POSICION";
     #50#0 = nNume1;
 |SINO;
     #50#0 = 1900;
 |FINSI;
|FRUT;

|RUTINA max50;
 #50#0 = 9999;
|FRUT;

|PROGRAMA;

 fFecha = ~;
 aAlfa1 = fFecha % -104;
 nNume1 = aAlfa1;

 |CLS;
 |PINPA #0#50;

 |ENTLINEAL #1#50, -1, 3, 18, 0, min50, max50;

|FPRO;
