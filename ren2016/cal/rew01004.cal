|FICHEROS;
     rew01004,MANTE;
|FIN;

|VARIABLES;
     nCampo1 = 0;
     nCampo2 = 0;
     nCampo3 = 0;
     nCampo4 = 0;
     nCampo5 = 0;
     nCampo6 = 0;
     nCampo7 = 0;
     nCampo8 = 0;
|FIN;

|PROCESO Tipo12Fw1004;  |TIPO 12;
     |SI FSalida = 1;  |ACABA;  |FINSI;

     |ERROR;
     |POSICIONATE #rew01004#0;
|FPRC;

|PROCESO NoMod1004;  |TIPO 7;
     |PARA nCampo2 = 1;  |SI nCampo2 [ 57;  |HACIENDO nCampo2 = nCampo2 + 8;
           nCampo1 = nCampo2 - 1;
           nCampo3 = nCampo2 + 1;
           nCampo4 = nCampo2 + 2;
           nCampo5 = nCampo2 + 3;
           nCampo6 = nCampo2 + 4;
           nCampo7 = nCampo2 + 5;
           nCampo8 = nCampo2 + 6;

           |C_M #rew01004#nCampo7#, 1, "N";
           |C_M #rew01004#nCampo8#, 1, "N";

           |SI #rew01004#nCampo2# ! "   ";
               |C_M #rew01004#nCampo1#, 1, "S";
               |C_M #rew01004#nCampo4#, 1, "S";
               |C_M #rew01004#nCampo5#, 1, "S";

               |SI #rew01004#nCampo1# = "8";
                   |C_M #rew01004#nCampo7#, 1, "S";
                   |C_M #rew01004#nCampo8#, 1, "S";
               |FINSI;
           |SINO;
               |C_M #rew01004#nCampo1#, 1, "N";
               |C_M #rew01004#nCampo4#, 1, "N";
               |C_M #rew01004#nCampo5#, 1, "N";
           |FINSI;
     |SIGUE;
|FPRC;

|PROCESO NoComple;  |TIPO 0;
     nCampo1 = Campo;
     nCampo2 = Campo + 1;
     nCampo3 = Campo + 2;
     nCampo4 = Campo + 3;
     nCampo5 = Campo + 4;
     nCampo6 = Campo + 5;
     nCampo7 = Campo + 6;
     nCampo8 = Campo + 7;

     |SI #rew01004#nCampo1# = "8";
         |MENAV "0000Se generan por RentaWeb";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rew01004#nCampo1# = "4";
         |SI #rew01004#nCampo3# > 0;
             |MENAV "0000 Para el tipo 4 la declaracion debe ser negativa.";
             |ERROR;
             |ACABA;
         |FINSI;

         |C_M #rew01004#nCampo4#, 1, "N";  #rew01004#nCampo4# = 0;    |PINTA #rew01004#nCampo4#;
         |C_M #rew01004#nCampo5#, 1, "N";  #rew01004#nCampo5# = 0;    |PINTA #rew01004#nCampo5#;
         |C_M #rew01004#nCampo6#, 1, "N";  #rew01004#nCampo6# = 0;    |PINTA #rew01004#nCampo6#;
         |C_M #rew01004#nCampo7#, 1, "N";  #rew01004#nCampo7# = "";   |PINTA #rew01004#nCampo7#;
         |C_M #rew01004#nCampo8#, 1, "N";  #rew01004#nCampo8# = "T";  |PINTA #rew01004#nCampo8#;

         |ACABA;
     |FINSI;

     |SI #rew01004#nCampo1# = "N";
         |C_M #rew01004#nCampo1#, 1, "N";
         |C_M #rew01004#nCampo4#, 1, "N";
         |C_M #rew01004#nCampo5#, 1, "N";
         |C_M #rew01004#nCampo6#, 1, "N";
         |C_M #rew01004#nCampo7#, 1, "N";
         |C_M #rew01004#nCampo8#, 1, "N";
     |SINO;
         |C_M #rew01004#nCampo1#, 1, "S";
         |C_M #rew01004#nCampo4#, 1, "S";
         |C_M #rew01004#nCampo5#, 1, "S";
         |C_M #rew01004#nCampo7#, 1, "N";
         |C_M #rew01004#nCampo8#, 1, "N";

         |SI #rew01004#nCampo1# = "8";
             |C_M #rew01004#nCampo7#, 1, "S";
             |C_M #rew01004#nCampo8#, 1, "S";
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO Total1004;  |TIPO 7;
     |SI #rew01004#0 ! "N";  |Y #rew01004#0 ! "4";
         #rew01004#1 = "100";
         #rew01004#5 = #rew01004#2 - #rew01004#3 + #rew01004#4;

         |PINTA #rew01004#1;
         |PINTA #rew01004#5;
     |FINSI;

     |SI #rew01004#8 ! "N";  |Y #rew01004#8 ! "4";
         #rew01004#9  = "100";
         #rew01004#13 = #rew01004#10 - #rew01004#11 + #rew01004#12;

         |PINTA #rew01004#9;
         |PINTA #rew01004#13;
     |FINSI;

     |SI #rew01004#16 ! "N"; |Y #rew01004#16 ! "4";
         #rew01004#17 = "100";
         #rew01004#21 = #rew01004#18 - #rew01004#19 + #rew01004#20;

         |PINTA #rew01004#17;
         |PINTA #rew01004#21;
     |FINSI;

     |SI #rew01004#24 ! "N";  |Y #rew01004#24 ! "4";
         #rew01004#25 = "100";
         #rew01004#29 = #rew01004#26 - #rew01004#27 + #rew01004#28;

         |PINTA #rew01004#25;
         |PINTA #rew01004#29;
     |FINSI;

     |SI #rew01004#32 ! "N";  |Y #rew01004#32 ! "4";
         #rew01004#33 = "100";
         #rew01004#37 = #rew01004#34 - #rew01004#35 + #rew01004#36;

         |PINTA #rew01004#33;
         |PINTA #rew01004#37;
     |FINSI;

     |SI #rew01004#40 ! "N";  |Y #rew01004#40 ! "4";
         #rew01004#41 = "100";
         #rew01004#45 = #rew01004#42 - #rew01004#43 + #rew01004#44;

         |PINTA #rew01004#41;
         |PINTA #rew01004#45;
     |FINSI;

     |SI #rew01004#48 ! "N";  |Y #rew01004#48 ! "4";
         #rew01004#49 = "100";
         #rew01004#53 = #rew01004#50 - #rew01004#51 + #rew01004#52;

         |PINTA #rew01004#49;
         |PINTA #rew01004#53;
     |FINSI;

     |SI #rew01004#56 ! "N";  |Y #rew01004#56 ! "4";
         #rew01004#57 = "100";
         #rew01004#61 = #rew01004#58 - #rew01004#59 + #rew01004#60;

         |PINTA #rew01004#57;
         |PINTA #rew01004#61;
     |FINSI;
|FPRC;

|PROCESO Menav;
     nCampo1 = Campo - 4;
     nCampo2 = Campo - 3;
     nCampo3 = Campo - 2;
     nCampo4 = Campo - 1;
     nCampo5 = Campo;
     nCampo6 = Campo + 1;
     nCampo7 = Campo + 2;
     nCampo8 = Campo + 3;

     |HAZ Total1004;

     |SI #rew01004#nCampo1# = "8";
         |C_M #rew01004#nCampo8#, 1, "S";
         |SI #rew01004#nCampo6# ] 0;
             |C_M #rew01004#nCampo8#, 1, "N";
         |FINSI;
     |FINSI;

     |SI #rew01004#nCampo1# ! "N";  |Y #rew01004#nCampo1# ! "4";
                                    |Y #rew01004#nCampo1# ! "8";
         |SI #rew01004#nCampo6# [ 0;
             |MENAV "0000 Para una declaracion complementaria la Casilla 610 debe ser positiva.";
             |ERROR;
         |FINSI;
     |FINSI;
|FPRC;
