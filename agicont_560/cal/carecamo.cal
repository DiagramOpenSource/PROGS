|FICHEROS;
  carecamo #0;
  camocabe #1;
  camoline #2;
|FIN;

|VARIABLES;
  &entrada = 1;
  alfa1 = "";
  cfecha = @;
  vfecha = @;
  afiscal = 0;
  acontab = 0;
  importe = 0;
  sw = 0;
  ele1 = "";
  ele2 = "";
|FIN;

|INCLUYE acceso_i;

|PROCESO mayus;
  alfa1 = #0Campo > " ";
  #0Campo = alfa1;
  |PINTA #0Campo;
|FPRC;

|| ********************************************************************

|PROCESO lineas;
  |SI #2#4 = "C";
      importe = importe + #2#5;
      |SI sw = 0;
          cfecha = #2#7;
          sw = 1;
      |FINSI;
  |FINSI;
  |SI #2#4 = "A";
      afiscal = afiscal + #2#5;
      acontab = acontab + #2#9;
  |FINSI;
  |SI #2#4 = "V";
      vfecha = #2#7;
  |FINSI;

|FPRC;

|PROCESO grabacab;
 cfecha = "00.00.0000";
 importe = 0;
 afiscal = 0;
 acontab = 0;
 vfecha = "00.00.0000";
 sw = 0;
 #0#1 = #1#0; |PINTA #0#1;
 #0#2 = #1#1; |PINTA #0#2;
 |BUCLELIN 0lineas#1;
 |SI sw = 1;
     #1#6 = cfecha;
     #1#23 = vfecha;
     #1#7 = importe;
     #1#12 = afiscal;
     #1#13 = importe - afiscal;
     #1#18 = acontab;
     #1#19 = importe - acontab;
     |GRABA 020#1a;
     |LIBERA #1;
 |FINSI;
|FPRC;

|DEFBUCLE calamo0;
 #1#1;
 ;
 ele1, 00;
 ele2, 99;
 e;
 NULL, grabacab;
|FIN;

|PROCESO procal; |TIPO 3;
  |SI #0#0 = "SI";
      ele1 = "        ";
      ele2 = "zzzzzzzz";
      |BUCLE calamo0;
  |FINSI;
|FPRC;
