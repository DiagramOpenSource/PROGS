|FICHEROS;
    cacuebal #0;         || cuentas balance
    caagrupa #1;         || agrupaciones
    caepigra #2;         || epigrafes
    caparbal #3;         || partidas balance
    caparexp #4;         || partidas explotacion
|FIN;

|VARIABLES;
    &entrada = 1;
    uno = "";
|FIN;

|PROCESO bloque;
    uno = #0#0 % A101;
|SI uno = "6"; |O uno = "7";
    |SI #0#1 < 1;
          |AVISO;
          |ERROR;
    |FINSI;
    |SI #0#1 = 1;  |PINTA 1324, "RESULTADOS EXPLOTACION    "; |FINSI;
    |SI #0#1 = 2;  |PINTA 1324, "RESULTADOS FINANCIEROS    "; |FINSI;
    |SI #0#1 = 3;  |PINTA 1324, "RESULTADOS EXTRAORDINARIOS"; |FINSI;
    |SI #0#1 = 4;  |PINTA 1324, "IMPUESTOS                 "; |FINSI;
|SINO;
    |SI #0#1 ! 0;
          |AVISO;
          |ERROR;
    |FINSI;
|FINSI;
|FPRC;

|PROCESO tipo;
  #0Campo = #0Campo > " ";
  |PINTA #0Campo;
  uno = #0#0 % A101;
  |SI uno = "6"; |O uno = "7";
      |SI #0#2 ! "D"; |Y #0#2 ! "H";
          |AVISO;
          |ERROR;
      |FINSI;
      |SI #0#2 = "D";  |PINTA 1424, "DEBE  ";  |FINSI;
      |SI #0#2 = "H";  |PINTA 1424, "HABER "; |FINSI;
  |SINO;
      |SI #0#2 ! "A"; |Y #0#2 ! "P";
          |AVISO;
          |ERROR;
      |FINSI;
      |SI #0#2 = "A";  |PINTA 1424, "ACTIVO"; |FINSI;
      |SI #0#2 = "P";  |PINTA 1424, "PASIVO"; |FINSI;
  |FINSI;
|FPRC;

|PROCESO agrupa;
|ABRE #1;
    #1#0 = #0#2;
    #1#1 = #0#3;
|LEE 001#1=;
|SI FSalida = 0;
    |PINTA 1524, #1#2;
|SINO;
    |ERROR;
|FINSI;
|CIERRA #1;
|FPRC;

|PROCESO epigra;
|ABRE #2;
    #2#0 = #0#2
    #2#1 = #0#3;
    #2#3 = #0#4;
|LEE 001#2=;
|SI FSalida = 0;
    |PINTA 1624, #2#4;
|SINO;
    |ERROR;
|FINSI;
|CIERRA #2;
|FPRC;

|PROCESO partida;
    uno = #0#0 % A101;
|SI uno = "6"; |O uno = "7";
    |ABRE #4;
        #4#0 = #0#1;
        #4#1 = #0#2;
        #4#2 = #0#3;
        #4#4 = #0#4;
        #4#6 = #0#5;
    |LEE 001#4=;
    |SI FSalida = 0;
        |PINTA 1724, #4#7;
    |SINO;
          |AVISO;
          |ERROR;
    |FINSI;
    |CIERRA #4;
|SINO;
    |ABRE #3;
        #3#0 = #0#2;
        #3#1 = #0#3;
        #3#3 = #0#4;
        #3#5 = #0#5;
    |LEE 001#3=;
    |SI FSalida = 0;
        |PINTA 1724, #3#6;
    |SINO;
        |AVISO;
        |ERROR;
    |FINSI;
    |CIERRA #3;
|FINSI;
|FPRC;

|PROCESO pintas; |TIPO 13;
|HAZ tipo;
|HAZ agrupa;
|HAZ epigra;
|HAZ partida;
|FPRC;
