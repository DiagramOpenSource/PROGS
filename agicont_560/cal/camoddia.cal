|FICHEROS;
    camoddia #0;    || def entrada
|FIN;

|VARIABLES;
    &entrada = 1;
    importe = 0;
    men1  = "     NO EXISTE EMPRESA !";
    men2  = "     Longitud de Cuenta Fuera de Nivel !";
    men3  = "     ERROR el asiento ya existe";
    men4  = "     ERROR el asiento NO existe";
    opera = "";
    fecalf = "";
    mensa1 = "    ERROR ESTA FECHA NO CORRESPONDE AL EJERCICIO";
    &modcon = 0;
    &modifi = 0;
    mesi1 = "";
    mesi2 = "";
    traba1 = "";
    &no_mensaje = 1;
    si_sigue = 0;
    &sw_ivamerr = 0;
    alfa1 = "";
    alfa2 = "";
    i_perio = 0;
    trim1 = @;
    trim2 = @;
    trim3 = @;
    sw_exi = 0;
|FIN;

|INCLUYE acceso_i;
|INCLUYE actudi_i;
|INCLUYE moddia_i;

|PROCESO mayusculas; |TIPO 0;
  #0#8 = #0#8 > " ";
  |PINTA #0#8;
|FPRC;

|PROGRAMA;
  |HAZ inicio;
  |ABRE #5;
  |LEE 101#5u;
  |SI FSalida ! 0;
      |DDEFECTO #5;
      #5#0 = 1;
  |SINO;
      #5#0 = #5#0 + 1;
  |FINSI;
  |GRABA 101#5n;
  codcon = #5#0;
  |LIBERA #5;
  |CIERRA #5;

  |CLS;
  |CABEZA "Modificacion del Asientos";
  |PINPA #0#0;
  |PINDA #0#0;
  FSalida = 1;
  |PARA; |SI FSalida > 0; |HACIENDO;
         |ENDATOS #1#0;
         |SI FSalida < 0; |SAL; |FINSI;
         |ABRE #1;
         |ABRE #2;
         #1#0 = #0#0;
         #1#1 = #0#1;
         #1#2 = #0#2;
         |LEE 001#1=;
         |SI FSalida ! 0;
             |MENAV men4;
             #0#6 = #1#4;
             #0#7 = #1#5;
             |PINTA #0#6;
             |PINTA #0#7;
         |SINO;
             #1#0 = #0#3;
             #1#1 = #0#4;
             #1#2 = #0#5;
             |LEE 001#1=;
             |SI FSalida = 0;
                 |MENAV men3;
             |SINO;
                 |HAZ cambio;
                 |HAZ los_ivas;
                 |PINPA #0#0;
                 |PINDA #0#0;
                 |HAZ borrar;
             |FINSI;
         |FINSI;
         |CIERRA #1;
         |CIERRA #2;
         FSalida = 1;
  |SIGUE;
  |SI modifi = 0;
      |ABRET #5;
      |DDEFECTO #5;
      #5#0 = codcon;
      |LEE 040#5=;
      |BORRA 101#5a;
      |CIERRAT #5;
  |SINO;
      |SUB_EJECUTA "camoddac.run";
  |FINSI;
|FPRO;


|PROCESO diario; |TIPO 0;
  #0#3 = #0#0;
  |PINTA #0#3;
|FPRC;

|PROCESO fevie; |TIPO 0;
  #0#4 = #0#1;
  |PINTA #0#4;
|FPRC;

|PROCESO docume; |TIPO 0;
  |SI FSalida = 2; |ACABA; |FINSI;
  |SI si_sigue = 0; |ERROR; |ACABA; |FINSI;
  #0#5 = #0#2;
  |PINTA #0#5;
|FPRC;
