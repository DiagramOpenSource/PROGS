|FICHEROS;
  cacom347 #0;
  camac347 #1;
  camal347 #2;
  camic347 #3;
  camil347 #4;
|FIN;

|VARIABLES;
  inform1 = "cacom347";
  inform2 = "cainm347";
  &rnif = "";
  alfa1 = "";
  d_tipo = 0;
  h_tipo = 0;
  d_segu = "";
  h_segu = "";
  d_arre = "";
  h_arre = "";
|FIN;

|PROCESO mayor;
  alfa1 = #0Campo > " ";
  #0Campo = alfa1;
  |PINTA #0Campo;
  |SI Campo = 3;
      |SI #0Campo = "N";
          |CAMPO_MODIFICA #0#5, 1, "N";
          #0#5 = "N";
          |PINTA #0#5;
      |SINO;
          |CAMPO_MODIFICA #0#5, 1, "S";
      |FINSI;
  |FINSI;
|FPRC;

|PROCESO nummenor;
 |SI #0#1 < #0#0;
     |ERROR;
 |FINSI;
|FPRC;

|PROCESO cainm347;
  |PRINT;
|FPRC;

|PROCESO imprelin;
  rnif = " ";
  |SI #2#15 = "S"; rnif = "R"; |FINSI;
  |PRINT;
|FPRC;

|DEFBUCLE cacom347_t;
#2#2;
13,14;
d_tipo, "            ", d_segu, d_arre;
h_tipo, "zzzzzzzzzzzz", h_segu, h_arre;
be;
NULL,imprelin;
|FIN;

|DEFBUCLE cacom347_l;
#2#1;
2,13,14;
#1#0, 00000, d_tipo, d_segu, d_arre;
#1#0, 99999, h_tipo, h_segu, h_arre;
be;
NULL,imprelin;
|FIN;

|PROCESO seleccion;
 d_tipo = #0#0;
 h_tipo = #0#1;
 d_segu = #0#2;
 h_segu = #0#2;
 d_arre = #0#3;
 h_arre = #0#3;
 |SI #0#2 = "A"; d_segu = " "; h_segu = "z"; |FINSI;
 |SI #0#3 = "A"; d_arre = " "; h_arre = "z"; |FINSI;
|FPRC;

|PROCESO impre;  |TIPO 3;
  |IMPRE 0;
  |SI FSalida ! 0;  |ACABA;  |FINSI;

|| .... Primer Informe
  |INFOR inform1;
  |SI FSalida = 0;
      |HAZ seleccion;
      |ABRE #1;
      |LEE 040#1p;
      |SI FSalida = 0;
          |SI #0#4 = 1; |BUCLE cacom347_l; |FINSI;
          |SI #0#4 = 2; |BUCLE cacom347_t; |FINSI;
      |FINSI;
      |CIERRA #1;
      |PIEINF;
      |FININF;
  |FINSI;
|| .... Segundo Informe
  |SI #0#5 = "S";
      |INFOR inform2;
      |SI FSalida = 0;
         |ABRE #3;
         |LEE 040#3p;
         |SI FSalida = 0;
             |BUCLELIN 0cainm347#3;
         |FINSI;
         |CIERRA #3;
         |PIEINF;
         |FININF;
      |FINSI;
  |FINSI;
 |FINIMP;
|FPRC;
