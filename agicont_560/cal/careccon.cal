|FICHEROS;
   careccon #0;

   camaasic #1;
   camaasil #2;
   calicont #3;
|FIN;

|VARIABLES;
   ContraDebe  = ""; ContraHaber = "";
   NivelDebe   = 0;  NivelHaber  = 0;
   CtrpDebe = 0;     CtrpHaber = 0;

   Comodin = "";     Comodin1 = "";
|FIN;

|PROCESO camaasil0;
   |SI #camaasil#8 = "D";
      |SI ContraDebe = "";
         |SI CtrpDebe = 0; ContraDebe = #camaasil#16; NivelDebe  = #camaasil#17; |FINSI;
      |SINO;
         |SI ContraDebe ! #camaasil#16;
            ContraDebe = ""; NivelDebe = 0; CtrpDebe = 1;
         |FINSI;
      |FINSI;
   |SINO;
      |SI ContraHaber = "";
         |SI CtrpHaber = 0; ContraHaber = #camaasil#10; NivelHaber = #camaasil#11; |FINSI;
      |SINO;
         |SI ContraHaber ! #camaasil#10;
            ContraHaber = ""; NivelHaber = 0; CtrpHaber = 1;
         |FINSI;
      |FINSI;
   |FINSI;
|FPRC;

|DEFBUCLE camaasil0;
#camaasil#1;
;
#camaasic#0,#camaasic#1,#camaasic#2,0001;
#camaasic#0,#camaasic#1,#camaasic#2,9999;
;
NULL,camaasil0;
|FIN;

|PROCESO camaasil1;
   |SI #camaasil#8 = "H";
      |SI ContraDebe ! "";
         |DDEFECTO #calicont;
         #calicont#0 = #camaasil#0;
         #calicont#1 = #camaasil#1;
         #calicont#2 = #camaasil#2;
         #calicont#3 = #camaasil#3;
         #calicont#4 = ContraDebe;
         #calicont#5 = NivelDebe;
         |GRABA 020#calicont.n;
         #camaasic#8 = ContraDebe;
         #camaasic#9 = NivelDebe;
         |GRABA 020#camaasic.a;
      |FINSI;
   |SINO;
      |SI ContraHaber ! "";
         |DDEFECTO #calicont;
         #calicont#0 = #camaasil#0;
         #calicont#1 = #camaasil#1;
         #calicont#2 = #camaasil#2;
         #calicont#3 = #camaasil#3;
         #calicont#4 = ContraHaber;
         #calicont#5 = NivelHaber;
         |GRABA 020#calicont.n;
         #camaasic#10 = ContraHaber;
         #camaasic#11 = NivelHaber;
         |GRABA 020#camaasic.a;
      |FINSI;
   |FINSI;
|FPRC;

|DEFBUCLE camaasil1;
#camaasil#1;
;
#camaasic#0,#camaasic#1,#camaasic#2,0001;
#camaasic#0,#camaasic#1,#camaasic#2,9999;
;
NULL,camaasil1;
|FIN;

|PROCESO camaasic;

   Comodin = "Procesando Diario ";
   Comodin1 = #1#0; |QBF Comodin1; Comodin1 = ("00" + Comodin1) % -102;
   Comodin = Comodin + Comodin1 + ", Fecha " + #1#1 + ", Asiento ";
   Comodin1 = #1#2; |QBF Comodin1; Comodin1 = ("000000" + Comodin1) % -106;
   Comodin = Comodin + Comodin1;
   |PINTA 2210, Comodin;

   ContraDebe = ""; ContraHaber = "";
   NivelDebe   = 0;  NivelHaber  = 0;
   CtrpDebe = 0; CtrpHaber = 0;
   |BUCLE camaasil0;
   |QBF ContraDebe; |QBF ContraHaber;
   |BUCLE camaasil1;
|FPRC;

|DEFBUCLE camaasic;
#camaasic#1;
;
INICIO;
FINAL;
;
NULL,camaasic;
|FIN;

|PROGRAMA;
   |CLS;
   |CABEZA "Recalculo contrapartidas";
   |PINPA #0#0;
   |PINDA #0#0;
   |ENDATOS #1#0;
   |SI FSalida = 0;
      |SI #0#0 = "S";
         |DELINDEX #calicont;
         |ABRE #calicont;
         |BUCLE camaasic;
         |CIERRA #calicont;
      |FINSI;
   |FINSI;
|FPRO;
