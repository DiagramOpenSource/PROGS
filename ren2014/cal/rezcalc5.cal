|FICHEROS;
      rew99999 #999;

     &refere1@ #1001;
     &refere2@ #1002;
     &referr3@ #1003;

      datfic0@ #0;
      datfic1@ #1;
      datfic2@ #2;
      rem00008 #408;

      retabla1 #401;
|FIN;

|VARIABLES;
      aDef             = "";
      aAlfa            = "";
      aFichero         = "";
      aAlfa1           = "";
      aAlfa2           = "";
      aAlfa3           = "";
      aAlfa4           = "";
      aAlfa5           = "";
      aAlfa6           = "";
      aAlfa7           = "";
      aAlfa8           = "";
      aAlfa9           = "";
      aAlfa10          = "";
      aAlfa11          = "";
      aAlfa12          = "";
      aAlfa13          = "";
      aAlfa14          = "";
      aAlfa15          = "";
      aAlfa16          = "";
      aAlfa17          = "";
      aAlfa18          = "";
      aAlfa19          = "";
      aAlfa20          = "";
      aAlfa21          = "";
      aAlfa22          = "";
      aAlfa23          = "";
      aAlfa24          = "";
      aAlfa25          = "";
      aDni             = "";

      nCoefi           = 0;
      nSwFich          = 0;
      nFactor          = 0;
      nCampo16         = 0;
      nCampo           = 0;
      nValor           = 0;
      nCatastral       = 0;
      nCampo3          = 0;
      nCampo4          = 0;
      nCampo5          = 0;
      nCampo6          = 0;
      nCampo7          = 0;
      nCampo8          = 0;
      nCampo9          = 0;
      nCampo10         = 0;
      nCampo11         = 0;
      nAnyo            = 0;
      nLimite          = 0;
      nNume1           = 0;
      nNume2           = 0;
      nNume3           = 0;
      nNume            = 0;
      nCalcu           = 0;
      nTCampo          = 0;
      nDCampo          = 0;
      nHCampo          = 0;
      nEspecial        = 0;
      nCasilla         = 0;

     &enEmpresa        = 0;
     &enComplementaria = 0;
     &eaPathDef        = "";
     &eaContri         = "";
     &enMinusvalia     = 0;
     &eaMinuAyuda      = "";
     &enBloque         = 0;
     &eaCasilla        = "";
     &enImporte        = 0;
     &enSwAcum         = 0;
     &enNomeDat        = 0;
     &enNomeAgr        = 0;
     &eaMuerto         = "";
     &efFechaMuerto    = @;
     &enCalcuMuerto    = 0;
     &eaPrograma       = "";
     &enLinea          = 0;
     &eaObserva        = "";
|FIN;

|PROCESO LiquidaM1;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     |SI #0#11 = 1;  |O #0#11 = 2;
         |SI #0#11 = 1;
             #1#43 = (N\ #1#43  + (#0#13  % nCoefi));
             #1#44 = (N\ #1#44  + (#0#15  % nCoefi));
         |FINSI;

         |SI #0#11 = 2;
             #1#37 = (N\ #1#37 + (#0#13  % nCoefi));
             #1#38 = (N\ #1#38 + (#0#15  % nCoefi));
         |FINSI;
     |SINO;
         #1#39 = (N\ #1#39 + (#0#13  % nCoefi));
         #1#40 = (N\ #1#40 + (#0#15  % nCoefi));

         |SI #0#11 = 3;
             #1#103 = (N\ #1#103  + (#0#13  % nCoefi));
         |FINSI;

         |SI #0#11 = 4;
             #1#104 = (N\ #1#104 + (#0#13  % nCoefi));
         |FINSI;
     |FINSI;

     |GRABA 020#1a;
     |LIBERA #1;
|FPRC;

|PROCESO LiquidaM2;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     nCalcu = 0;

     |SI #0#15 ] 611;  |Y #0#15 [ 727;
         |SI #0#16 = 25;  #1#174 = 1;  |FINSI;
         |SI #0#16 = 50;  #1#174 = 2;  |FINSI;
     |FINSI;

     |SI #0#15 ] 729;  |Y #0#15 [ 735;
         |SI #0#16 = 60;  #1#175 = 1;  |FINSI;
         |SI #0#16 = 90;  #1#175 = 2;  |FINSI;
     |FINSI;

     |SI #0#15 ] 687;  |Y #0#15 [ 727;
         nCampo = (#0#15 - 686) * 3;
     |FINSI;

     |SI #0#15 = 728;  nCampo = 126;  |FINSI;
     |SI #0#15 = 729;  nCampo = 129;  |FINSI;
     |SI #0#15 = 730;  nCampo = 132;  |FINSI;
     |SI #0#15 = 731;  nCampo = 135;  |FINSI;
     |SI #0#15 = 732;  nCampo = 138;  |FINSI;
     |SI #0#15 = 733;  nCampo = 141;  |FINSI;
     |SI #0#15 = 734;  nCampo = 144;  |FINSI;
     |SI #0#15 = 735;  nCampo = 147;  |FINSI;

     |SI #0#15 = 728;
         |SI #0#11 = 3; |Y #0#13 = 5;
             nCampo = 176;
         |FINSI;
     |FINSI;

     |SI #0#15 = 667;  |O #0#15 = 668;
         #1#153 = (N\ #1#153 + (#0#19  % nCoefi));

         |SI #0#15 = 667;  #1#154 = (N\ #1#154 + (#0#19  % nCoefi));  |FINSI;
         |SI #0#15 = 668;  #1#155 = (N\ #1#155 + (#0#19  % nCoefi));  |FINSI;

         nCalcu = 1;
     |FINSI;

     |SI #0#15 = 670;  |O #0#15 = 671;
         #1#156 = (N\ #1#156 + (#0#19  % nCoefi));

         |SI #0#15 = 670;  #1#157 = (N\ #1#157 + (#0#19  % nCoefi));  |FINSI;
         |SI #0#15 = 671;  #1#158 = (N\ #1#158 + (#0#19  % nCoefi));  |FINSI;

         nCalcu = 1;
     |FINSI;

     |SI #0#15 = 674;  |O #0#15 = 675;
         #1#160 = (N\ #1#160 + (#0#19  % nCoefi));

         |SI #0#15 = 674;  #1#161 = (N\ #1#161 + (#0#19  % nCoefi));  |FINSI;
         |SI #0#15 = 675;  #1#162 = (N\ #1#162 + (#0#19  % nCoefi));  |FINSI;

         nCalcu = 1;
     |FINSI;

     |SI #0#15 = 678;  |O #0#15 = 679;
         #1#164 = (N\ #1#164 + (#0#19  % nCoefi));

         |SI #0#15 = 678;  #1#165 = (N\ #1#165 + (#0#19  % nCoefi));  |FINSI;
         |SI #0#15 = 679;  #1#166 = (N\ #1#166 + (#0#19  % nCoefi));  |FINSI;

         nCalcu = 1;
     |FINSI;

     |SI #0#15 = 682;  |O #0#15 = 683;
         #1#168 = (N\ #1#168 + (#0#19  % nCoefi));

         |SI #0#15 = 682;  #1#169 = (N\ #1#169 + (#0#19  % nCoefi));  |FINSI;
         |SI #0#15 = 683;  #1#170 = (N\ #1#170 + (#0#19  % nCoefi));  |FINSI;

         nCalcu = 1;
     |FINSI;

     |SI #0#15 = 685;  |O #0#15 = 686;
         |SI #0#15 = 685;  #1#172 = (N\ #1#172 + (#0#19 % nCoefi));  |FINSI;
         |SI #0#15 = 686;  #1#173 = (N\ #1#173 + (#0#19 % nCoefi));  |FINSI;

         nCalcu = 1;
     |FINSI;

     |SI nCalcu = 0;
         #1nCampo = (N\ #1nCampo + (#0#19  % nCoefi));

         nCampo   = nCampo + 1;
         #1nCampo = (N\ #1nCampo + (#0#19  % nCoefi));
     |FINSI;

     |GRABA 020#1a;
     |LIBERA #1;
|FPRC;

|PROCESO LiquidaM3;

|| Deducciones indebidas

     |SI #0#13 [ 1996;
         enSwAcum   = 1;
         enBloque   = 43;
         eaCasilla  = "572";
         enImporte  = #0#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#13 ] 1997;  |Y #0#13 [ 2001;
         enSwAcum   = 1;
         enBloque   = 43;
         eaCasilla  = "574";
         enImporte  = (#0#14 % nCoefi) % 85;
         |HAZ GrabaLineal;

         enBloque   = 44;
         eaCasilla  = "576";
         enImporte  = (#0#14 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#13 ] 2002;  |Y #0#13 [ 2008;
         enSwAcum   = 1;
         enBloque   = 43;
         eaCasilla  = "574";
         enImporte  = (#0#14 % nCoefi) % 67;
         |HAZ GrabaLineal;

         enBloque   = 44;
         eaCasilla  = "576";
         enImporte  = (#0#14 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#13 ] 2009;
         enSwAcum   = 1;
         enBloque   = 43;
         eaCasilla  = "574";
         enImporte  = (#0#14 % nCoefi) % 50;
         |HAZ GrabaLineal;

         enBloque   = 44;
         eaCasilla  = "576";
         enImporte  = (#0#14 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#13 ] 1998;
         enSwAcum   = 1;
         enBloque   = 44;
         eaCasilla  = "578";
         enImporte  = #0#15 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

|| Intereses

     |SI #0#13 [ 1996;
         enSwAcum   = 1;
         enBloque   = 43;
         eaCasilla  = "573";
         enImporte  = #0#16 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#13 ] 1997;  |Y #0#13 [ 2001;
         enSwAcum   = 1;
         enBloque   = 43;
         eaCasilla  = "575";
         enImporte  = (#0#16 % nCoefi) % 85;
         |HAZ GrabaLineal;

         enBloque   = 44;
         eaCasilla  = "577";
         enImporte  = (#0#16 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#13 ] 2002;  |Y #0#13 [ 2008;
         enSwAcum   = 1;
         enBloque   = 43;
         eaCasilla  = "575";
         enImporte  = (#0#16 % nCoefi) % 67;
         |HAZ GrabaLineal;

         enBloque   = 44;
         eaCasilla  = "577";
         enImporte  = (#0#16 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#13 ] 2009;
         enSwAcum   = 1;
         enBloque   = 43;
         eaCasilla  = "575";
         enImporte  = (#0#16 % nCoefi) % 50;
         |HAZ GrabaLineal;

         enBloque   = 44;
         eaCasilla  = "577";
         enImporte  = (#0#16 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#13 ] 1998;
         enSwAcum   = 1;
         enBloque   = 44;
         eaCasilla  = "579";
         enImporte  = #0#17 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;
|FPRC;

|PROCESO AlquileresM4;
     aAlfa1 = #0#15;

     |SI #1#97 = "                    ";  |O #1#97 = aAlfa1;
         #1#97  = #0#15;
         #1#100 = (N\ #1#100 + (#0#12  % nCoefi));
     |SINO;
         |SI #1#98 = "                    ";  |O #1#98 = aAlfa1;
             #1#98 = #0#15;
             #1#101 = (N\ #1#101 + (#0#12  % nCoefi));
         |SINO;
             |SI #1#99 = "                    ";  |O #1#99 = aAlfa1;
                 #1#99 = #0#15;
                 #1#102 = (N\ #1#102 + (#0#12  % nCoefi));
             |FINSI;
         |FINSI;
     |FINSI;

     nNume1 = #1#100;
     nNume2 = #1#101;
     nNume3 = #1#102;

     |SI nNume1 ] nNume2;  |Y nNume1 ] nNume3;
         |SI #0#22 = "S";
             #1#27  = #1#97;
         |SINO;
             #1#28  = #1#97;
         |FINSI;

         #1#29  = #1#100;

         nNume1 = 0;
     |SINO;
         |SI nNume2 ] nNume1;  |Y nNume2 ] nNume3;
             |SI #0#22 = "S";
                 #1#27  = #1#98;
             |SINO;
                 #1#28  = #1#98;
             |FINSI;

             #1#29  = #1#101;

             nNume2 = 0;
         |SINO;
             |SI nNume3 ] nNume1;  |Y nNume3 ] nNume2;
                 |SI #0#22 = "S";
                     #1#27  = #1#99;
                 |SINO;
                     #1#28  = #1#99;
                 |FINSI;

                 #1#29  = #1#102;

                 nNume3 = 0;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI nNume1 ! 0;  |O nNume2 ! 0;  |O nNume3 ! 0;
         |SI nNume1 ] nNume2;  |Y nNume1 ] nNume3;
             |SI #0#22 = "S";
                 #1#30  = #1#97;
             |SINO;
                 #1#31  = #1#97;
             |FINSI;

             #1#32  = #1#100;

             nNume1 = 0;
         |SINO;
             |SI nNume2 ] nNume1;  |Y nNume2 ] nNume3;
                 |SI #0#22 = "S";
                     #1#30  = #1#98;
                 |SINO;
                     #1#31  = #1#98;
                 |FINSI;

                 #1#32  = #1#101;

                 nNume2 = 0;
             |SINO;
                 |SI nNume3 ] nNume1;  |Y nNume3 ] nNume2;
                     |SI #0#22 = "S";
                         #1#30  = #1#99;
                     |SINO;
                         #1#31  = #1#99;
                     |FINSI;

                     #1#32  = #1#102;

                     nNume3 = 0;
                 |FINSI;
             |FINSI;
         |FINSI;
     |FINSI;

     #1#33  = (N\ #1#33 + (#0#12  % nCoefi));

     nNume2 = #1#101;
     nNume3 = #1#102;

     |SI nNume2 ! 0; |O nNume3 ! 0;
         #1#96  = (N\ (nNume / (#1#100 + #1#101 + #1#102)) * 100);
     |FINSI;
|FPRC;

|PROCESO ObrasM4;
     |SI #0#18 ] "07.05.2011";  |Y  #0#18 [ "31.12.2011";
         #1#66 = (N\ #1#66 + (#0#12  % nCoefi));
     |FINSI;

     |SI #0#18 ] "01.01.2012";  |Y  #0#18 [ "31.12.2012";
         #1#69 = (N\ #1#69 + (#0#12  % nCoefi));
     |FINSI;

     |SI #0#18 ] "14.04.2010";  |Y  #0#18 [ "31.12.2010";
         #1#73 = (N\ #1#73 + (#0#12  % nCoefi));
     |FINSI;

     |SI #0#18 ] "01.01.2011";  |Y  #0#18 [ "06.05.2011";
         #1#76 = (N\ #1#76 + (#0#12  % nCoefi));
     |FINSI;
|FPRC;

|PROCESO LiquidaM4;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     |SI #0#16 = "1";  |HAZ AlquileresM4;  |FINSI;
     |SI #0#16 = "2";  |HAZ ObrasM4;       |FINSI;

     |GRABA 020#1a;
     |LIBERA #1;
|FPRC;

|PROCESO LiquidaM5;
     |ABRE #999;
     |SELECT #2#999;
     #999#1 = #0#2;
     |LEE 040#999=;
     |SI FSalida  ! 0;  |DDEFECTO #999;  |FINSI;
     |CIERRA #999;

     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     #1#50  = (N\ #1#50 + (#0#13  % nCoefi));
     |SI #1#55 = "01.01.0000";
         #1#54 = eaContri;
         #1#55 = #0#12;
         #1#56 = (A\ #0#11 % 104);
         #1#57 = (A\ #0#11 % 504);
         #1#58 = (A\ #0#11 % 902);
         #1#59 = (A\ #0#11 % 1110);
     |SINO;
         #1#60 = eaContri;
         #1#61 = #0#12;
         #1#62 = (A\ #0#11 % 104);
         #1#63 = (A\ #0#11 % 504);
         #1#64 = (A\ #0#11 % 902);
         #1#65 = (A\ #0#11 % 1110);
     |FINSI;

     |GRABA 020#1a;
     |LIBERA #1;
|FPRC;

|PROCESO LiquidaM6;
     || Esta condicion es por un colacion del a¤o en el pase del ejercicio
     || anterior.
     |SI #0#13 > 0;  |Y #0#13 [ 2009;
         |ACABA;
     |FINSI;

     |SI #0#11 = "423  ";
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |LEE 101#1=;
         |SI FSalida ! 0;
             |DDEFECTO #1;
             #1#0 = #1001#0;
             #1#1 = #1001#1;
             #1#2 = #1001#2;
             |GRABA 020#1b;
         |FINSI;

         #1#40 = (N\ #1#40 + (#0#14 % nCoefi));

         |SI #0#13 = 2013;
             #1#155 = (N\ #1#155 + (#0#14 % nCoefi));
         |SINO;
             #1#42 = (N\ #1#42 + (#0#14 % nCoefi));
         |FINSI;

         |GRABA 020#1a;
         |LIBERA #1;

         enSwAcum   = 0;
         enBloque   = 30;
         eaCasilla  = "423";
         enImporte  = #1#40;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "432  ";
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |LEE 101#1=;
         |SI FSalida ! 0;
             |DDEFECTO #1;
             #1#0 = #1001#0;
             #1#1 = #1001#1;
             #1#2 = #1001#2;
             |GRABA 020#1b;
         |FINSI;

         #1#47 = (N\ #1#47 + (#0#14 % nCoefi));

         |GRABA 020#1a;
         |LIBERA #1;

         enSwAcum   = 0;
         enBloque   = 31;
         eaCasilla  = "432";
         enImporte  = #1#47;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "433  ";
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |LEE 101#1=;
         |SI FSalida ! 0;
             |DDEFECTO #1;
             #1#0 = #1001#0;
             #1#1 = #1001#1;
             #1#2 = #1001#2;
             |GRABA 020#1b;
         |FINSI;

         #1#156 = (N\ #1#156 + (#0#14 % nCoefi));

         |GRABA 020#1a;
         |LIBERA #1;

         enSwAcum   = 0;
         enBloque   = 31;
         eaCasilla  = "433";
         enImporte  = #1#156;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "437  ";
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |LEE 101#1=;
         |SI FSalida ! 0;
             |DDEFECTO #1;
             #1#0 = #1001#0;
             #1#1 = #1001#1;
             #1#2 = #1001#2;
             |GRABA 020#1b;
         |FINSI;

         #1#111 = (N\ #1#111 + (#0#14 % nCoefi));

         |GRABA 020#1a;
         |LIBERA #1;

         enSwAcum   = 0;
         enBloque   = 31;
         eaCasilla  = "437";
         enImporte  = #1#111;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "438  ";
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |LEE 101#1=;
         |SI FSalida ! 0;
             |DDEFECTO #1;
             #1#0 = #1001#0;
             #1#1 = #1001#1;
             #1#2 = #1001#2;
             |GRABA 020#1b;
         |FINSI;

         #1#159 = (N\ #1#159 + (#0#14 % nCoefi));

         |GRABA 020#1a;
         |LIBERA #1;

         enSwAcum   = 0;
         enBloque   = 31;
         eaCasilla  = "438";
         enImporte  = #1#159;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "486  ";
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |LEE 101#1=;
         |SI FSalida ! 0;
             |DDEFECTO #1;
             #1#0 = #1001#0;
             #1#1 = #1001#1;
             #1#2 = #1001#2;
             |GRABA 020#1b;
         |FINSI;

         #1#74 = (N\ #1#74 + (#0#14 % nCoefi));

         |GRABA 020#1a;
         |LIBERA #1;

         enSwAcum   = 0;
         enBloque   = 39;
         eaCasilla  = "486";
         enImporte  = #1#74;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "489  ";
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |LEE 101#1=;
         |SI FSalida ! 0;
             |DDEFECTO #1;
             #1#0 = #1001#0;
             #1#1 = #1001#1;
             #1#2 = #1001#2;
             |GRABA 020#1b;
         |FINSI;

         #1#76 = (N\ #1#76 + (#0#14 % nCoefi));

         |GRABA 020#1a;
         |LIBERA #1;

         enSwAcum   = 0;
         enBloque   = 39;
         eaCasilla  = "489";
         enImporte  = #1#76;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "521  ";
         enSwAcum   = 1;
         enBloque   = 42;
         eaCasilla  = "521";
         enImporte  = #0#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "522  ";
         enSwAcum   = 1;
         enBloque   = 42;
         eaCasilla  = "522";
         enImporte  = #0#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "560  ";
         enSwAcum   = 1;
         enBloque   = 43;
         eaCasilla  = "560";
         enImporte  = (#0#14 % nCoefi) % 50;
         |HAZ GrabaLineal;

         enBloque   = 44;
         eaCasilla  = "561";
         enImporte  = (#0#14 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "556  ";
         enSwAcum  = 1;
         enBloque  = 43;
         eaCasilla = "556";
         enImporte  = (#0#14 % nCoefi) % 50;
         |HAZ GrabaLineal;

         enBloque  = 44;
         eaCasilla = "557";
         enImporte = (#0#14 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "558  ";
         enSwAcum   = 1;
         enBloque   = 43;
         eaCasilla  = "558";
         enImporte  = (#0#14 % nCoefi) % 65;
         |HAZ GrabaLineal;

         enBloque   = 44;
         eaCasilla  = "559";
         enImporte  = (#0#14 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "583_1";
         enSwAcum   = 1;
         enBloque   = 45;
         eaCasilla  = "583";
         enImporte  = #0#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "583_2";
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |LEE 101#1=;
         |SI FSalida ! 0;
             |DDEFECTO #1;
             #1#0 = #1001#0;
             #1#1 = #1001#1;
             #1#2 = #1001#2;
             |GRABA 020#1b;
         |FINSI;

         |SI #0#15 = 1;
             #1#98 = (N\ #1#98 + (#0#14 % nCoefi));
         |FINSI;

         |SI #0#15 = 2;
             #1#99 = (N\ #1#99 + (#0#14 % nCoefi));
         |FINSI;

         |SI #0#15 = 3;
             #1#100 = (N\ #1#100 + (#0#14 % nCoefi));
         |FINSI;

         |SI #0#15 = 4;
             #1#101 = (N\ #1#101 + (#0#14 % nCoefi));
         |FINSI;

         |SI #0#15 = 5;
             #1#123 = (N\ #1#123 + (#0#14 % nCoefi));
         |FINSI;

         |GRABA 020#1a;
         |LIBERA #1;
     |FINSI;

     |SI #0#11 = "584_1";
         |SI #1001#2 ! "CONJUNTA  ";  |Y #1001#2 ! "CONJUNTAE ";
             enSwAcum   = 1;
             enBloque   = 45;
             eaCasilla  = "584";
             enImporte  = #0#14 % nCoefi;
             |HAZ GrabaLineal;
         |FINSI;
     |FINSI;

     |SI #0#11 = "584_2";
         |SI #1001#2 = "CONJUNTA  ";  |O #1001#2 = "CONJUNTAE ";
             enSwAcum   = 1;
             enBloque   = 45;
             eaCasilla  = "584";
             enImporte  = #0#14 % nCoefi;
             |HAZ GrabaLineal;
         |FINSI;
     |FINSI;

     |SI #0#11 = "585  ";
         enSwAcum   = 1;
         enBloque   = 45;
         eaCasilla  = "585";
         enImporte  = #0#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "596  ";
         enSwAcum   = 1;
         enBloque   = 46;
         eaCasilla  = "596";
         enImporte  = #0#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "599  ";
         enSwAcum   = 1;
         enBloque   = 46;
         eaCasilla  = "599";
         enImporte  = #0#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "600  ";
         enSwAcum   = 1;
         enBloque   = 46;
         eaCasilla  = "600";
         enImporte  = #0#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "606  ";
         enSwAcum   = 1;
         enBloque   = 47;
         eaCasilla  = "606";
         enImporte  = #0#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "607  ";
         enSwAcum   = 1;
         enBloque   = 47;
         eaCasilla  = "607";
         enImporte  = #0#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #0#11 = "999  ";
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |LEE 101#1=;
         |SI FSalida ! 0;
             |DDEFECTO #1;
             #1#0 = #1001#0;
             #1#1 = #1001#1;
             #1#2 = #1001#2;
             |GRABA 020#1b;
         |FINSI;

         #1#102 = (N\ #1#102 + (#0#14 % nCoefi));

         |GRABA 020#1a;
         |LIBERA #1;
     |FINSI;
|FPRC;

|PROCESO TotalAutom;
     nTCampo = nHCampo + 1;

     #1nTCampo = 0;
     |PARA nCampo = nDCampo;  |SI nCampo [ nHCampo;  |HACIENDO nCampo = nCampo + 1;
           #1nTCampo = (N\ #1nTCampo + #1nCampo);
     |SIGUE;

     |SI nTCampo = 21;
         #1nTCampo = (N\ #1nTCampo + #1#203);
     |FINSI;

     |SI nTCampo = 34;
         #1nTCampo = (N\ #1nTCampo + #1#193 + #1#204);
     |FINSI;

     |SI nTCampo = 61;
         #1nTCampo = (N\ #1nTCampo + #1#205);
     |FINSI;

     |SI nTCampo = 86;
         #1#212    = (N\ #1#76 + #1#77 + #1#78 + #1#79 + #1#210 + #1#211);
         #1nTCampo = (N\ #1nTCampo + #1#194 + #1#206 + #1#207 + #1#208 + #1#212);
         #1#213    = (N\ #1#209 - #1#85);
         #1#214    = (N\ 0);
     |FINSI;

     |SI nTCampo = 95;
         #1nTCampo = (N\ #1nTCampo + #1#195 + #1#196);
     |FINSI;

     |SI nTCampo = 103;
         #1nTCampo = (N\ #1nTCampo + #1#215 + #1#216 + #1#217 + #1#218 + #1#219);
         #1nTCampo = (N\ #1nTCampo + #1#220 + #1#221 + #1#222 + #1#223);
     |FINSI;

     |SI nTCampo = 111;
         #1nTCampo = (N\ #1nTCampo + #1#224 + #1#225 + #1#226);
     |FINSI;

     |SI nTCampo = 121;
         #1nTCampo = (N\ #1nTCampo + #1#197 + #1#198 + #1#199 + #1#200 + #1#227);
     |FINSI;

     |SI nTCampo = 156;
         #1nTCampo = (N\ #1nTCampo + #1#201 + #1#202);
     |FINSI;
|FPRC;

|PROCESO LiquidaM7;
     |ABRE #999;
     |SELECT #2#999;
     #999#1 = #0#2;
     |LEE 040#999=;
     |SI FSalida  ! 0;  |DDEFECTO #999;  |FINSI;
     |CIERRA #999;

     nCasilla = #0#13;

     |SI nCasilla = 145;
         |SI #0#11 = 7;   nCasilla = 845;  |FINSI;
         |SI #0#11 = 17;  nCasilla = 945;  |FINSI;
     |FINSI;

     |SI nCasilla = 189;  nCasilla = 889;  |FINSI;
     |SI nCasilla = 102;  nCasilla = 902;  |FINSI;
     |SI nCasilla = 202;  nCasilla = 902;  |FINSI;
     |SI nCasilla = 128;  nCasilla = 928;  |FINSI;
     |SI nCasilla = 130;  nCasilla = 830;  |FINSI;
     |SI nCasilla = 142;  nCasilla = 942;  |FINSI;
     |SI nCasilla = 242;  nCasilla = 942;  |FINSI;

     nEspecial = 0;

     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     #1#3 = #0#11;
     #1#4 = nCasilla;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         #1#3 = #0#11;
         #1#4 = nCasilla;
         |GRABA 020#1b;
     |FINSI;

     #1#5 = #0#23;

     |SI #1#4 = 742;
         #1#12 = (N\ #1#12 + (#0#18 % nCoefi));

         #1#13 = #0#20;
         |SI #0#20 = 0;  #1#13 = 2;  |FINSI;
     |FINSI;

     |SI #1#4 = 744;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;
     |SI #1#4 = 769;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;
     |SI #1#4 = 781;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;
     |SI #1#4 = 820;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;
     |SI #1#4 = 825;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;
     |SI #1#4 = 845;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;
     |SI #1#4 = 854;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;
     |SI #1#4 = 869;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;
     |SI #1#4 = 873;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;
     |SI #1#4 = 883;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;
     |SI #1#4 = 908;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;
     |SI #1#4 = 920;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;
     |SI #1#4 = 955;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;
     |SI #1#4 = 958;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;
     |SI #1#4 = 969;  #1#7 = #0#21;  #1#8 = #0#34;  |FINSI;

     |SI #1#4 = 811;
         #1#7  = #0#21;
         #1#8  = #0#34;
         #1#9  = #0#31;
         #1#12 = #0#32;
     |FINSI;

     |SI #1#4 = 752;  #1#7 = #0#24;  |FINSI;
     |SI #1#4 = 754;  #1#7 = #0#24;  |FINSI;

     |SI #1#4 = 858;  #1#7  = #0#33;  |FINSI;

     |SI #1#4 = 939;
         |SI #0#29 ! 0;  #1#7 = #0#29;  |FINSI;
     |FINSI;

     |SI #1#4 = 759;  #1#12 = #0#17;  |FINSI;
     |SI #1#4 = 771;  #1#12 = (N\ #1#12 + (#0#18 % nCoefi));  |FINSI;
     |SI #1#4 = 827;  #1#12 = (N\ #1#12 + (#0#18 % nCoefi));  |FINSI;
     |SI #1#4 = 864;  #1#12 = #0#17;  |FINSI;
     |SI #1#4 = 871;  #1#12 = #0#17;  |FINSI;
     |SI #1#4 = 959;  #1#12 = (N\ #1#12 + (#0#18 % nCoefi));  |FINSI;
     |SI #1#4 = 969;  #1#12 = (N\ #1#12 + (#0#18 % nCoefi));  |FINSI;

     |SI #0#13 = 142;
         #1#12 = (N\ #1#12 + (#0#19 % nCoefi));
         nEspecial = 1;
     |FINSI;

     |SI #0#13 = 242;
         #1#13 = (N\ #1#13 + (#0#19 % nCoefi));
         nEspecial = 1;
     |FINSI;

     |SI #0#13 = 145;
         #1#12 = (N\ #1#12 + (#0#19 % nCoefi));
         nEspecial = 1;
     |FINSI;

     |SI #0#13 = 130;
         #1#12 = (N\ #1#12 + (#0#19 % nCoefi));
         nEspecial = 1;
     |FINSI;

     |SI #0#13 = 189;
         #1#12 = (N\ #1#12 + (#0#19 % nCoefi));
         nEspecial = 1;
     |FINSI;

     |SI #0#13 = 102; #1#12 = (N\ #1#12 + #0#17);                  |FINSI;
     |SI #0#13 = 202; #1#13 = (N\ #1#13 + #0#17);                  |FINSI;
     |SI #0#13 = 902; #1#14 = (N\ #1#14 + #0#17);                  |FINSI;
     |SI #0#13 = 928; #1#6  = (N\ #1#6  + ((#0#18 % 2) % nCoefi));  nEspecial = 1; |FINSI;
     |SI #0#13 = 128; #1#12 = (N\ #1#12 + ((#0#18 % 2) % nCoefi));  nEspecial = 1; |FINSI;

     |SI nEspecial = 0;
         #1#6 = (N\ #1#6 + (#0#19 % nCoefi));
     |FINSI;

     |SI #1#4 = 965;
       |SI #1#6 = 0;  |Y #0#23 = "S";
             #1#6 = 1;
         |FINSI;
     |FINSI;

     |SI #1#2 = "CONJUNTA  ";  |O #1#2 = "CONJUNTAE ";
         |SI #0#13 = 740;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 747;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 759;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 760;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 784;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 794;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 804;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 833;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 865;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 879;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 902;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 915;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 916;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 936;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 142;  #1#12 = (N\ #1#12 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 242;  #1#13 = (N\ #1#13 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 130;  #1#12 = (N\ #1#12 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 189;  #1#12 = (N\ #1#12 + (#0#22 % nCoefi));  |FINSI;
         |SI #0#13 = 942;  #1#6  = (N\ #1#6 + (#0#22 % nCoefi));  |FINSI;

         |SI #0#13 = 742;
             #1#6  = (N\ #1#6 + (#0#22 % nCoefi));
             |SI #0#22 ! 0;
                 #1#12 = (N\ #1#12 + (#0#18 % nCoefi));
             |FINSI;
         |FINSI;
     |FINSI;

     |GRABA 020#1a;
     |LIBERA #1;
|FPRC;

|PROCESO LiquidaM8;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     #1#22 = (N\ #1#22 + (#0#13  % nCoefi));
     #1#25 = (N\ #1#25 + (#0#13  % nCoefi));

     aAlfa1 = #0#11 % 109;

     |SI #1#23 = "         ";  |O #1#24 = aAlfa1;
         #1#23  = #0#11;
     |SINO;
         |SI #1#24 = "         ";  |O #1#24 = aAlfa1;
             #1#24 = #0#11;
         |FINSI;
     |FINSI;

     |GRABA 020#1a;
     |LIBERA #1;
|FPRC;

|PROCESO Liquida5;
     |HAZ CreaLiquida;               || En el rezcalut

     |SI nSwFich = 1;  |HAZ LiquidaM1;  |FINSI;
     |SI nSwFich = 2;  |HAZ LiquidaM2;  |FINSI;
     |SI nSwFich = 3;  |HAZ LiquidaM3;  |FINSI;
     |SI nSwFich = 4;  |HAZ LiquidaM4;  |FINSI;
     |SI nSwFich = 5;  |HAZ LiquidaM5;  |FINSI;
     |SI nSwFich = 6;  |HAZ LiquidaM6;  |FINSI;
     |SI nSwFich = 7;  |HAZ LiquidaM7;  |FINSI;
     |SI nSwFich = 8;  |HAZ LiquidaM8;  |FINSI;
|FPRC;

|PROCESO Seleccion5;
     |SI #0#2 = "GANANACIAL";  ||Error en el pase de datos
         #0#2 = "GANANCIAL";
     |FINSI;

    |SI #0#2 = "GANANCIAL ";                || Si es Ganancial
         nCoefi = 50;  eaContri = "TITULAR   ";   |HAZ Liquida5;
         nCoefi = 50;  eaContri = "CONYUGE   ";   |HAZ Liquida5;
         nCoefi = 100; eaContri = "CONJUNTA  ";   |HAZ Liquida5;

         |SI eaMuerto ! "";
             nCoefi = 50;  eaContri = "CONJUNTAE ";   |HAZ Liquida5;
         |FINSI;

         |ACABA;
     |FINSI;

     |SI #0#2 ! "VARIOS    ";                || SI es TITULAR O CONYUGE;
         nCoefi = 100;  eaContri = #0#2;          |HAZ Liquida5;
         nCoefi = 100;  eaContri = "CONJUNTA  ";  |HAZ Liquida5;

         |SI eaMuerto = "T";  |Y #0#2 ! "TITULAR   ";
             nCoefi = 100;  eaContri = "CONJUNTAE ";   |HAZ Liquida5;
         |FINSI;

         |SI eaMuerto = "C";  |Y #0#2 ! "CONYUGE   ";
             nCoefi = 100;  eaContri = "CONJUNTAE ";   |HAZ Liquida5;
         |FINSI;
         |ACABA;
     |FINSI;
                                             || SI es Varios

     |SI #0#5  ! 0; nCoefi = #0#5;   eaContri = "TITULAR   ";  |HAZ Liquida5;  |FINSI;
     |SI #0#6  ! 0; nCoefi = #0#6;   eaContri = "CONYUGE   ";  |HAZ Liquida5;  |FINSI;
     |SI #0#7  ! 0; nCoefi = #0#7;   eaContri = "1 FAMILIAR";  |HAZ Liquida5;  |FINSI;
     |SI #0#8  ! 0; nCoefi = #0#8;   eaContri = "2 FAMILIAR";  |HAZ Liquida5;  |FINSI;
     |SI #0#9  ! 0; nCoefi = #0#9;   eaContri = "3 FAMILIAR";  |HAZ Liquida5;  |FINSI;
     |SI #0#10 ! 0; nCoefi = #0#10;  eaContri = "4 FAMILIAR";  |HAZ Liquida5;  |FINSI;

     nCoefi  = #0#5 + #0#6 + #0#7 + #0#8 + #0#9 + #0#10;
     eaContri = "CONJUNTA  "; |HAZ Liquida5;

     |SI eaMuerto = "T";
         nCoefi  = #0#6 + #0#7 + #0#8 + #0#9 + #0#10;
         eaContri = "CONJUNTAE "; |HAZ Liquida5;
     |FINSI;

     |SI eaMuerto = "C";
         nCoefi  = #0#5 + #0#7 + #0#8 + #0#9 + #0#10;
         eaContri = "CONJUNTAE "; |HAZ Liquida5;
     |FINSI;
|FPRC;

|PROCESO PuntoM1;
     nSwFich = 1;
     aDef    = eaPathDef + "rem00046.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01041.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1041"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion5;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00046";
                enLinea    = #0#1;
                eaObserva  = "(M) INVERSIONES Y DONATIVOS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;

     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM2;
     nSwFich = 2;
     aDef    = eaPathDef + "rem00045.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01042.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1042"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion5;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00045";
                enLinea    = #0#1;
                eaObserva  = "(M) DEDUCCIONES POR INVERSIONES EMPRESARIALES";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;

     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM3;
     nSwFich = 3;
     aDef    = eaPathDef + "rem00047.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |ABRE #0;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion5;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00047";
                enLinea    = #0#1;
                eaObserva  = "(M) DEDUCCIONES INDEBIDAS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;

     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM4;
     nSwFich = 4;
     aDef    = eaPathDef + "rem00048.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01041.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1041"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion5;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00048";
                enLinea    = #0#1;
                eaObserva  = "(M) DEDUCCIONES ALQUILER VIVIENDA HABITUAL";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;

     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM5;
     nSwFich = 5;
     aDef    = eaPathDef + "rem00049.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01041.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1041"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion5;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00049";
                enLinea    = #0#1;
                eaObserva  = "(M) DEDUCCIONES CUENTA VIVIENDA";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;

     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM6;
     nSwFich = 6;
     aDef    = eaPathDef + "rem00056.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1033"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion5;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00056";
                enLinea    = #0#1;
                eaObserva  = "(M) OTRAS DEDUCCIONES Y COMPENSACIONES";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;

     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM7;
     nSwFich = 7;
     aDef    = eaPathDef + "rem00044.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01043.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1043"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion5;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00044";
                enLinea    = #0#1;
                eaObserva  = "(M) DEDUCCIONES AUTONOMICAS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;

     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM8;
     nSwFich = 8;
     aDef    = eaPathDef + "rem00063.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01041.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1041"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion5;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00063";
                enLinea    = #0#1;
                eaObserva  = "(M) DEDUCCIONES AUTONOMICAS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;

     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO Bloque5;
     |HAZ PuntoM1;  || Inversiones y Donativos
     |HAZ PuntoM2;  || Deducciones Generales
     |HAZ PuntoM3;  || Deducciones Indebidas y Interes de Demora
     |HAZ PuntoM4;  || Alquiler vivienda habitual
     |HAZ PuntoM5;  || Cuenta Vivienda
     |HAZ PuntoM6;  || Otras Deducciones
     |HAZ PuntoM7;  || Deducciones Autonomicas
     |HAZ PuntoM8;  || Inversiones empresas nueva creacion
|FPRC;
