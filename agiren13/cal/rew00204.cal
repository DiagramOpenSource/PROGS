|FICHEROS;
     rem00100 #100;
     rew00204 #204;

     &haciend@ #706;
|FIN;

|VARIABLES;
     aAlfa      = "";
     nCampo1    = 0;
     nCampo2    = 0;
     nCampo3    = 0;
     nCampo4    = 0;
     nCampo5    = 0;
     nCampo6    = 0;

     &enCodProv = 0;
     &enCodPobl = 0;
     &eaCta     = "";
     &eaIBAN    = "";
|FIN;

|PROCESO Tipo12Fw204;  |TIPO 12;
     |SI #204#0 = "N";  #204#0 = " ";  |FINSI;
     |SI #204#0 = "S";  #204#0 = "X";  |FINSI;
     |SI #204#1 = "N";  #204#1 = " ";  |FINSI;
     |SI #204#1 = "S";  #204#1 = "X";  |FINSI;
     |SI #204#2 = "N";  #204#2 = " ";  |FINSI;
     |SI #204#2 = "S";  #204#2 = "X";  |FINSI;

     #204#11 = #204#28 + #204#29 + #204#30 + #204#31;
     #204#12 = #204#32 + #204#33 + #204#34 + #204#35;
     #204#13 = #204#36 + #204#37 + #204#38 + #204#39;
|FPRC;

|PROCESO IBAN;  |TIPO 0;
     |SI Campo = 31;
         eaCta = #rew00204#28 + #rew00204#29 + #rew00204#30 + #rew00204#31;
         |HAZ CalcuIBAN;
         #rew00204#55 = eaIBAN;  |PINTA #rew00204#55;
     |FINSI;

     |SI Campo = 35;
         eaCta = #rew00204#32 + #rew00204#33 + #rew00204#34 + #rew00204#35;
         |HAZ CalcuIBAN;
         #rew00204#56 = eaIBAN;  |PINTA #rew00204#56;
     |FINSI;

     |SI Campo = 39;
         eaCta = #rew00204#36 + #rew00204#37 + #rew00204#38 + #rew00204#39;
         |HAZ CalcuIBAN;
         #rew00204#57 = eaIBAN;  |PINTA #rew00204#57;
     |FINSI;
|FPRC;

|PROCESO Tipo0C0Fw204;  |TIPO 0;
     |SI #204#0 = "S";
         #204#1 = "N";   |PINTA #204#1;
         #204#2 = "N";   |PINTA #204#2;
     |FINSI;
|FPRC;

|PROCESO Tipo0C1Fw204;  |TIPO 0;
     |SI #204#1 = "S";
         #204#0 = "N";   |PINTA #204#0;
         #204#2 = "N";   |PINTA #204#2;
     |FINSI;
|FPRC;

|PROCESO Tipo0C2Fw204;  |TIPO 0;
     |SI #204#2 = "S";
         #204#0 = "N";   |PINTA #204#0;
         #204#1 = "N";   |PINTA #204#1;
     |FINSI;
|FPRC;

|PROCESO Tipo7C5Fw204;  |TIPO 7;
     |C_M #204#5, 1, "S";
     |SI #100#6 = "S"; |O #100#6 = "V";  |O #100#6 = "L";
         |C_M #204#5, 1, "N";
         #204#5 = "";  |PINTA #204#5;
     |FINSI;
|FPRC;

|PROCESO Tipo0C7Fw204;  |TIPO 0;
     |SI #204#7 = " ";
         #204#6 = "N";
         |C_M #204#8, 1, "N"; #204#8 = "01.01.0000";  |PINTA #204#8;
                              #204#9 = 0;
         |ACABA;
     |FINSI;

     #204#6 = "S";
     |C_M #204#8, 1, "S";
|FPRC;

|PROCESO Tipo0C8Fw204;  |TIPO 0;
     |C_M #204#8, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     |SI #204#8 < "01.01.2013";  |O #204#8 > "31.12.2013";
         |MENAV "0000 Fecha erronea";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #204#8 > "01.01.0000";
         #204#9 = 2;
     |FINSI;
|FPRC;

|PROCESO Tipo0Comple;  |TIPO 0;
     nCampo1 = 49;
     nCampo2 = 50;
     nCampo3 = 51;
     nCampo4 = 52;
     nCampo5 = 53;
     nCampo6 = 54;

     |SI #204Campo = "S";
         |SI Campo = nCampo1;
             #rew00204#nCampo2# = "N";
             #rew00204#nCampo3# = "N";
             #rew00204#nCampo4# = "N";
             #rew00204#nCampo5# = "N";
             #rew00204#nCampo6# = "N";
         |FINSI;

         |SI Campo = nCampo2;
             #rew00204#nCampo1# = "N";
             #rew00204#nCampo3# = "N";
             #rew00204#nCampo4# = "N";
             #rew00204#nCampo5# = "N";
             #rew00204#nCampo6# = "N";
         |FINSI;

         |SI Campo = nCampo3;
             #rew00204#nCampo1# = "N";
             #rew00204#nCampo2# = "N";
             #rew00204#nCampo4# = "N";
             #rew00204#nCampo5# = "N";
             #rew00204#nCampo6# = "N";
         |FINSI;

         |SI Campo = nCampo4;
             #rew00204#nCampo1# = "N";
             #rew00204#nCampo2# = "N";
             #rew00204#nCampo3# = "N";
             #rew00204#nCampo5# = "N";
             #rew00204#nCampo6# = "N";
         |FINSI;

         |SI Campo = nCampo5;
             #rew00204#nCampo1# = "N";
             #rew00204#nCampo2# = "N";
             #rew00204#nCampo3# = "N";
             #rew00204#nCampo4# = "N";
             #rew00204#nCampo6# = "N";
         |FINSI;

         |SI Campo = nCampo6;
             #rew00204#nCampo1# = "N";
             #rew00204#nCampo2# = "N";
             #rew00204#nCampo3# = "N";
             #rew00204#nCampo4# = "N";
             #rew00204#nCampo5# = "N";
         |FINSI;
     |FINSI;

     |SI #rew00204#nCampo1# = "N";  |Y #rew00204#nCampo2# = "N";
      |Y #rew00204#nCampo3# = "N";  |Y #rew00204#nCampo4# = "N";
      |Y #rew00204#nCampo5# = "N";  |Y #rew00204#nCampo6# = "N";
         #rew00204#nCampo1# = "S";
     |FINSI;

     |SI #rew00204#nCampo1# = "S";  #rew00204#10 = "N";  |FINSI;
     |SI #rew00204#nCampo2# = "S";  #rew00204#10 = "1";  |FINSI;
     |SI #rew00204#nCampo3# = "S";  #rew00204#10 = "2";  |FINSI;
     |SI #rew00204#nCampo4# = "S";  #rew00204#10 = "3";  |FINSI;
     |SI #rew00204#nCampo5# = "S";  #rew00204#10 = "4";  |FINSI;
     |SI #rew00204#nCampo6# = "S";  #rew00204#10 = "5";  |FINSI;

     |PINTA #rew00204#nCampo1#;
     |PINTA #rew00204#nCampo2#;
     |PINTA #rew00204#nCampo3#;
     |PINTA #rew00204#nCampo4#;
     |PINTA #rew00204#nCampo5#;
     |PINTA #rew00204#nCampo6#;
|FPRC;
