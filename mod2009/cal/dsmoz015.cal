|FICHEROS;
     dsmoz015 #0;

     dsmom023 #23;
     dsmom024 #24;
|FIN;

|VARIABLES;
   &enTodo     = 0;
   &enAnyPase  = 0;
   &enAnyPaseD = 0;
   &enAnyPaseH = 0;
   &enTipPase  = 0;

   fLaFecha   = @;
   aAlfa1     = "";
   nPara1     = 0;
|FIN;

|CALCULO Este; |TIPO 7;
 |SI Campo = 4;
     fLaFecha = ~;
     aAlfa1 = fLaFecha; aAlfa1 = aAlfa1 % -104;
     #0Campo = aAlfa1;
 |SINO;
     #0Campo = #0#2 + 1;
 |FINSI;
 |PINTA #0Campo;
|FCAL;

|CALCULO NoMenor; |TIPO 0;
 |SI Campo = 2;
     |SI #0#1 > #0#2; |ERROR; |FINSI;
 |FINSI;

 |SI Campo = 4;
     |SI #0#3 > #0#4; |ERROR; |FINSI;
 |FINSI;

|FCAL;

|CALCULO ElProceso; |TIPO 3;
  |SI #0#0 ! "SI"; |ACABA; |FINSI;

  |DELINDEX #23;
  |DELINDEX #24;

  aAlfa1 = #0#1; aAlfa1 = aAlfa1 % -102; enAnyPaseD = aAlfa1;
  aAlfa1 = #0#2; aAlfa1 = aAlfa1 % -102; enAnyPaseH = aAlfa1;

  |PARA nPara1 = 1; |SI nPara1 [ 4; |HACIENDO nPara1 = nPara1 + 1;
        enTodo    = 1;
        enTipPase = nPara1;
        |SUB_EJECUTA_NP ":modelos/dsmoz010";
        |SI enTodo = 0;
            |SAL;
        |FINSI;
  |SIGUE;

  |PARA nPara1 = #0#1; |SI nPara1 [ #0#2; |HACIENDO nPara1 = nPara1 + 1;
        enTodo    = 2;
        enAnyPase = nPara1;
        |SUB_EJECUTA_NP ":modelos/dsmoz008";
        enTodo    = 3;
        enAnyPase = nPara1;
        |SUB_EJECUTA_NP ":modelos/dsmoz008";
  |SIGUE;
  |PARA nPara1 = #0#3; |SI nPara1 [ #0#4; |HACIENDO nPara1 = nPara1 + 1;
        enTodo    = 4;
        enAnyPase = nPara1;
        |SUB_EJECUTA_NP ":modelos/dsmoz008";
  |SIGUE;

|FCAL;
