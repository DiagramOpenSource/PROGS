|FICHEROS;
     reaccdev #0;
     rem00100 #100;
     rem00102 #102,MANTE;
     rem00104 #104;
     rem00105 #105;

     rew00045 #945,MANTE;
|FIN;

|VARIABLES;
     nCampo     = 0;
     nImporte   = 0;
     nAutonomia = 0;

     &eaVarDni = "";
|FIN;

|PROCESO Autonomias;
     |SI nAutonomia = 4;      || Baleares
         |C_M #945#21, 1, "S";
         |C_M #945#22, 1, "S";
         |C_M #945#23, 1, "S";
         |C_M #945#24, 1, "S";
         |C_M #945#25, 1, "S";
         |C_M #945#26, 1, "S";
     |FINSI;

     |SI nAutonomia = 9;      || Catalu¤a
         |C_M #945#27, 1, "S";
     |FINSI;

     |SI nAutonomia = 8;      || Castilla y Leon
         |C_M #945#28, 1, "S";
         |C_M #945#29, 1, "S";
         |C_M #945#30, 1, "S";
         |C_M #945#31, 1, "S";
         |C_M #945#32, 1, "S";
     |FINSI;

     |SI nAutonomia = 11;      || Galicia
         |C_M #945#33, 1, "S";
         |C_M #945#34, 1, "S";
     |FINSI;

     |SI nAutonomia = 12;      || Madrid
         |C_M #945#35, 1, "S";
         |C_M #945#36, 1, "S";
         |C_M #945#37, 1, "S";
     |FINSI;

     |SI nAutonomia = 17;      || Valencia
         |C_M #945#38, 1, "S";
         |C_M #945#39, 1, "S";
     |FINSI;
|FPRC;

|PROCESO NoModim105;
     |SI #945#1 = #100#1;
         |PARA nCampo = 21;  |SI nCampo [ 39;  |HACIENDO nCampo = nCampo + 1;
               |C_M #945nCampo, 1, "N";
         |SIGUE;

         nAutonomia = #100#11;
         |HAZ Autonomias;
     |FINSI;

     |SI #945#1 = #100#35;
         |PARA nCampo = 21;  |SI nCampo [ 39;  |HACIENDO nCampo = nCampo + 1;
               |C_M #945nCampo, 1, "N";
         |SIGUE;

         nAutonomia = #100#43;
         |HAZ Autonomias;
     |FINSI;
|FPRC;

|PROCESO Tipo11m105;  |TIPO 11;
     |SI FSalida ! 10;  |ACABA;  |FINSI;

     |LEE 101#105=;

     |PARA nCampo = 0;  |SI nCampo [ 39;  |HACIENDO nCampo = nCampo + 1;
           #945nCampo = #105nCampo;
     |SIGUE;

     |HAZ NoModim105;

     |PINPA #0#945;
     |PINDA #0#945;
     |ENDATOS #1#945;
     |SI FSalida = 0;
         |PARA nCampo = 0;  |SI nCampo [ 39;  |HACIENDO nCampo = nCampo + 1;
               #105nCampo = #945nCampo;
         |SIGUE;
     |FINSI;

     |GRABA 020#105a;
     |LIBERA #105;
|FPRC;

|PROCESO Letraw000045;
     |SI FSalida ! 10;  |ACABA;  |FINSI;

     eaVarDni = #945Campo;
     |HAZ CalculoDNI;
     #945Campo = eaVarDni;
     |PINTA #945Campo;
     |ERROR;
|FPRC;

|PROCESO GrabaModelo105;
     |ABRE #105;
     |SI #104#6 = "S";
         #105#0 = #0#0;
         #105#1 = #100#1;
         |LEE 101#105=;
         |SI FSalida ! 0;
             |DDEFECTO #105;
              #105#0 = #0#0;
              #105#1 = #100#1;
              #105#2 = #100#5;
              |GRABA 020#105b;
         |FINSI;

         |ABRE #102;
         #102#0   = #0#0;
         #102#128 = 1;
         |LEE 040#102=;
         |SI FSalida = 0;
             |SI #102#138 ! 0;  |O #102#141 ! 0;
                 nImporte = #102#141 % 50;
                 |SI #102#138 ! 0;
                     nImporte = #102#138;
                 |FINSI;
                 #105#13 = nImporte;
                 #105#14 = "";
                 |SI #102#140 = "S";   #105#14 = "X";  |FINSI;
                 #105#15 = #102#142;
                 #105#16 = #102#143;
                 #105#17 = "";
                 |SI #102#144 = "S";   #105#17 = "X";  |FINSI;
             |FINSI;
         |FINSI;
         |CIERRA #102;

         |GRABA 040#105a;
         |LIBERA #105;
     |SINO;
         #105#0 = #0#0;
         #105#1 = #100#1;
         |BORRA 040#105c;
     |FINSI;

     |SI #104#7 = "S";
         #105#0 = #0#0;
         #105#1 = #100#35;
         |LEE 101#105=;
         |SI FSalida ! 0;
             |DDEFECTO #105;
              #105#0 = #0#0;
              #105#1 = #100#35;
              #105#2 = #100#39;
              |GRABA 020#105b;
         |FINSI;

         |ABRE #102;
         #102#0   = #0#0;
         #102#128 = 2;
         |LEE 040#102=;
         |SI FSalida = 0;
             |SI #102#138 ! 0;  |O #102#141 ! 0;
                 nImporte = #102#141 % 50;
                 |SI #102#138 ! 0;
                     nImporte = #102#138;
                 |FINSI;
                 #105#13 = nImporte;
                 #105#14 = "";
                 |SI #102#140 = "S";   #105#14 = "X";  |FINSI;
                 #105#15 = #102#142;
                 #105#16 = #102#143;
                 #105#17 = "";
                 |SI #102#144 = "S";   #105#17 = "X";  |FINSI;
             |FINSI;
         |FINSI;
         |CIERRA #102;

         |GRABA 020#105a;
         |LIBERA #105;
     |SINO;
         #105#0 = #0#0;
         #105#1 = #100#35;
         |BORRA 040#105c;
     |FINSI;
     |CIERRA #105;
|FPRC;

|RUTINA ClaveBaja105;
     #105#0 = #0#0;
     #105#1 = "            ";
|FRUT;

|RUTINA ClaveAlta105;
     #105#0 = #0#0;
     #105#1 = "zzzzzzzzzzzz";
|FRUT;

|PROCESO Modelo105;
     |ABRE #100;
     #100#0 = #0#0;
     |LEE 040#100=;
     |SI FSalida ! 0;
         |MENAV  "      No existe datos de los Contribuyentes";
         |CIERRA #100;
         |ACABA;
     |FINSI;
     |CIERRA #100;

     |PUSHV 0501 2380;
     |ENTLINEAL #1#105, 2, 4, 22, 1, ClaveBaja105, ClaveAlta105;
     |POPV;
|FPRC;
