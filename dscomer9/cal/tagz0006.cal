|FICHEROS;
     tagz0006 #0;
     agifa019 #19;
     agifa024 #24;
     tagm0021 #21;
     tagm0036 #36;
|FIN;

|VARIABLES;
     nConta = 0;
|FIN;

|PROCESO Nuevas; |TIPO 0;
     |SI #0#3 > #0#2;
          |MENAV "0000No puede superar a la uniades en Stock";
          |ERROR;
     |FINSI;
|FPRC;

|PROCESO Unidades; |TIPO 0;
     |SI FSalida = 2; |ACABA; |FINSI;
     |ABRE #21;
     |SELECT #2#21;
     #21#0 = #0#0;
     #21#2 = #0#1;
     |LEE 000#21=;
     |SI FSalida ! 0;
          |MENAV "0000No existe registro...";
     |SINO;
          #0#2 = #21#12;
          |PINTA #0#2;
     |FINSI;
     |CIERRA #21;
|FPRC;

|PROCESO Tipo3; |TIPO 3;
     |ABRE #21; |SELECT #2#21;
     #21#0 = #0#0; || Cli
     #21#2 = #0#1; || Art
     |LEE 101#21=;
     |SI FSalida = 0;
          #21#12 = #0#3;
          |GRABA 020#21a;
          |LIBERA #21;
     |FINSI;
     |CIERRA #21;
||**
     |ABRE #36;
     |LEE 000#36u;
     |SI FSalida = 0;
          nConta = #36#0 + 1;
     |SINO;
          nConta = 1;
     |FINSI;
     |DDEFECTO #36;
     #36#0 = nConta;
     #36#1 = #0#0;
     #36#2 = #0#1;
     #36#3 = ~;
     #36#4 = #0#2 - #0#3;
     |GRABA 020#36n;
     |CIERRA #36;
|FPRC;

|PROGRAMA;
     |C_A #19#1, 1, 42;
     |C_A #24#1, 1, 56;
     |CLS;
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
|FPRO;
