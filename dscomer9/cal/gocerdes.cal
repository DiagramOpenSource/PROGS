|FICHEROS;
     gocerdes #0;
|FIN;

|VARIABLES;
     &eaSerie = "";
     &enNuPre = 0;
     &enLinea = 0;
     nBuffer = 0;
     nPuntero = 0;
     nCalc = 0;
     nLineas = 0;
     aAlfa = "";
     nModo = 0;
     nLin = 0;
     nCol = 0;
|FIN;

|PROCESO CogeLineas;
     aAlfa = #0#2;
     |AL_BUF nBuffer, nPuntero, aAlfa;
     nPuntero = nPuntero + 1;
     |BORRA 020#0a;
|FPRC;

|DEFBUCLE CogeLineas;
     #0#1;
     ;
     eaSerie, enNuPre, enLinea, 001;
     eaSerie, enNuPre, enLinea, 999;
     be;
     NULL, CogeLineas;
|FIN;

|PROCESO GrabaLineas;
     |PARA nCalc = 100; |SI nCalc ] 0; |HACIENDO nCalc = nCalc - 1;
          |DEL_BUF nBuffer, nCalc, aAlfa;
          |SI aAlfa ! ""; nLineas = nCalc; |SAL; |FINSI;
     |SIGUE;

     |ABRE #0;
     |PARA nCalc = 1; |SI nCalc [ nLineas; |HACIENDO nCalc = nCalc + 1;
          |DEL_BUF nBuffer, nCalc, aAlfa;
          |DDEFECTO #0;
          #0#3 = eaSerie;
          #0#4 = enNuPre;
          #0#0 = enLinea;
          #0#1 = nCalc;
          #0#2 = aAlfa;
          |GRABA 020#0n;
     |SIGUE;
     |CIERRA #0;
|FPRC;

|PROGRAMA;
     |PUSHV 0501 2380;
     |ATRI R; |PINTA 0510, "                 O B S E R V A C I O N E S               "; |ATRI 0;
     |DIMENSIONA 200, nBuffer, 0;
     nPuntero = 1;
     |BUCLE CogeLineas;
     nModo = 100; nLin = 99; nCol = 120;
     |EDITA nBuffer, 1, 100, 0610, 1868, nModo, "", 0, nLin, nCol;
     |HAZ GrabaLineas;
     |FINDIM nBuffer;
     |POPV;
|FPRO;
