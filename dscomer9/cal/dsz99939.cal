|FICHEROS;
     agifa069 #69;
     agifa071 #71;
     agifa080 #80;
     referen@;
|FIN;

|VARIABLES;
     &eaCpjSer = "";
     &enCpjNum = 0;
     &enCpjLin = 0;
     aFic = "";
     aDef = "";
|FIN;

|PROCESO CargaFicCpj;
     |DDEF aDef;
     aDef = aDef + aFic;
     |CARGA_DEF aDef, referen@;
     |SI FSalida ! 0;
          aDef = "0000ERROR al Cargar: " + (aDef % -108);
          |MENAV aDef;
     |FINSI;
|FPRC;

|PROCESO CpjBajaAlbVta;
     aFic = "cpjz0002"; |HAZ CargaFicCpj;
     |SI FSalida = 0;
          |ABRE #referen@;
          #referen@#0 = #71#29;
          #referen@#1 = #71#0;
          #referen@#2 = #71#1;
          |BORRA 000#referen@.c;
          |CIERRA #referen@;
          |DESCARGA_DEF #referen@;
     |FINSI;
|FPRC;

|PROCESO CpjModiAlbVta;
     eaCpjSer = #71#29;
     enCpjNum = #71#0;
     enCpjLin = #71#1;
     |SUB_EJECUTA_NP "cpjz0002";
     |HAZ CpjPinAlbVta;
|FPRC;

|PROCESO CpjPinAlbVta;
     aFic = "cpjz0002"; |HAZ CargaFicCpj;
     |SI FSalida = 0;
          |DDEFECTO #referen@;
          |ABRE #referen@;
          #referen@#0 = #71#29;
          #referen@#1 = #71#0;
          #referen@#2 = #71#1;
          |LEE 000#referen@.=;
          |CIERRA #referen@;
          |ATRI R; |PINTA 1236, "Cuenta ³De³Sub "; |ATRI 0;
          |PINTA #referen@#3;
          |PINTA #referen@#4;
          |PINTA #referen@#5;
          |DESCARGA_DEF #referen@;
     |FINSI;
|FPRC;

|PROCESO CpjBajaAlbCom;
     aFic = "cpjz0001"; |HAZ CargaFicCpj;
     |SI FSalida = 0;
          |ABRE #referen@;
          #referen@#0 = #80#27;
          #referen@#1 = #80#0;
          #referen@#2 = #80#1;
          |BORRA 000#referen@.c;
          |CIERRA #referen@;
          |DESCARGA_DEF #referen@;
     |FINSI;
|FPRC;

|PROCESO CpjModiAlbCom;
     eaCpjSer = #80#27;
     enCpjNum = #80#0;
     enCpjLin = #80#1;
     |SUB_EJECUTA_NP "cpjz0001";
     |HAZ CpjPinAlbCom;
|FPRC;

|PROCESO CpjPinAlbCom;
     aFic = "cpjz0001"; |HAZ CargaFicCpj;
     |SI FSalida = 0;
          |DDEFECTO #referen@;
          |ABRE #referen@;
          #referen@#0 = #80#27;
          #referen@#1 = #80#0;
          #referen@#2 = #80#1;
          |LEE 000#referen@.=;
          |CIERRA #referen@;
          |ATRI R; |PINTA 1228, "Cuenta ³De³Sub "; |ATRI 0;
          |PINTA #referen@#3;
          |PINTA #referen@#4;
          |PINTA #referen@#5;
          |DESCARGA_DEF #referen@;
     |FINSI;
|FPRC;
