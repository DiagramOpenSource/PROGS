|FICHEROS;
     iberw021 #0;
     agifa501 #501;
     agifa502 #502;
|FIN;

|VARIABLES;
     nBase     = 0;
     nCuota    = 0;
     nRec      = 0;
     nTota     = 0;
     nPago     = 0;
|FIN;

|PROCESO agifa501;
     nBase = #501#30 + #501#20 + #501#23 + #501#26 + #501#48 +#501#51
     nCuota = #501#21 + #501#24 + #501#27 + #501#49 + #501#52;
     nRec   = #501#22 + #501#25 + #501#47 + #501#50 + #501#53;
     nTota = nBase + nCuota + nRec;
     nPago = #501#38 + #501#39 + #501#40;
     #501#38  = #501#38 + (nTota - nPago);

     #501#3 = nBase;
     #501#4 = nCuota + nRec;

     |GRABA 020#501a;
     |LIBERA #501;
|FPRC;

|DEFBUCLE agifa501;
     #501#1;
     ;
     INICIO;
     FINAL;
     be;
     NULL, agifa501;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |SI #0#0 = "SI";
          |BUCLE agifa501;
     |FINSI;
|FPRC;
