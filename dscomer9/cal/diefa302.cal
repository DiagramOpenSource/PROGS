|FICHEROS;
     diefa302 #0;   || este def
     agifa023 #1;   || precio art./cli.
|FIN;

|VARIABLES;
     desde     = "";
     hasta     = "";
     articul   = "";

     salida    = 0;
     precio    = 0;
     i         = 0;

     desde_f   = @;
     hasta_f   = @;
     aAlfa     = "";
|FIN;

|PROCESO copia1;    ||Copia la familia al nuevo cliente
     desde_f = #1#28;
     hasta_f = #1#29;
     articul = #1#1;
     precio = #1#2;
     #1#0 = #0#1;
     |LEE 101#1=;
     |SI FSalida = 0;
          |SI #0#9 = "S";
               #1#28 = desde_f;
               #1#29 = hasta_f;
               #1#2 = precio;
               |GRABA 020#1a;
          |FINSI;
     |SINO;
          #1#0 = #0#1;
          #1#1 = articul;
          #1#2 = precio;
          #1#28 = desde_f;
          #1#29 = hasta_f;
          |GRABA 020#1n;
     |FINSI;
|FPRC;


|DEFBUCLE copia;
     #1#1;
     ;
     #0#0 , desde;
     #0#1 , hasta;
     e;
     NULL , copia1;
|FIN;

|PROGRAMA;
     |CLS;
     |CABEZA "Dup. Tarifas";
     |PINPA #0#0;
     |PINDA #0#0;
     salida = 0;
     |PARA ; |SI salida = 0; |HACIENDO ;
          |ENDATOS #1#0;
          salida = FSalida;
          |SI salida = 0;
               |SI #0#2 = "S";
                    desde = "                    ";
                    hasta = "zzzzzzzzzzzzzzzzzzzz";
                    |BUCLE copia;
               |SINO;
                    |PARA i = 3; |SI i [ 8; |HACIENDO i = i + 1;
                         desde = #0i;
                         hasta = #0i;
                         |BUCLE copia;
                    |SIGUE;
               |FINSI;
          |FINSI;
     |SIGUE;
|FPRO;

|PROCESO salta; |TIPO 0;
     |SI #0#2 = "S";
          |CAMPO_MODIFICA #0#3 , 1 , "N";
          |CAMPO_MODIFICA #0#4 , 1 , "N";
          |CAMPO_MODIFICA #0#5 , 1 , "N";
          |CAMPO_MODIFICA #0#6 , 1 , "N";
          |CAMPO_MODIFICA #0#7 , 1 , "N";
          |CAMPO_MODIFICA #0#8 , 1 , "N";
     |SINO;
          |CAMPO_MODIFICA #0#3 , 1 , "S";
          |CAMPO_MODIFICA #0#4 , 1 , "S";
          |CAMPO_MODIFICA #0#5 , 1 , "S";
          |CAMPO_MODIFICA #0#6 , 1 , "S";
          |CAMPO_MODIFICA #0#7 , 1 , "S";
          |CAMPO_MODIFICA #0#8 , 1 , "S";
     |FINSI;
|FPRC;

|PROCESO MiraCliente; |TIPO 0;
     aAlfa = #0Campo;
     |QBF aAlfa;
     aAlfa = ("000000" + aAlfa) % -106;
     #0Campo = aAlfa;
     |PINTA #0Campo;

     |ABRE #1;
     |DDEFECTO #1;
     #1#0 = #0Campo;
     |LEE 101#1];
     |SI FSalida = 0; |Y #1#0 = #0Campo;  || ha encontrado el cliente
          |LIBERA #1;
          |CIERRA #1;
     |SINO;
          |MENAV "    Cliente Inexistente ...";
          |CIERRA #1;
          |ERROR;
     |FINSI;
|FPRC;
