|FICHEROS;
     dsz00012 #0;
     agifa104 #104;
     agifa073 #73;
     agifa081 #81;
     agifa067 #67;
     dsm00005 #905;
|FIN;

|VARIABLES;
     aInforme  = "dsz00012";
     &enInf    = 0;
     &enTVaria = 0;
     &enVaria  = 0;

     eaTipo    = "";
     nEntra    = 0;
     nErr      = 0;
     aSer      = "";
     nNum      = 0;
     nLin      = 0;
     nHay      = 0;
|FIN;

|PROCESO dsm00005;
     enVaria = #905#6 - #905#11;
     enTVaria = enTVaria + enVaria;
     |SI enVaria ! #905#9;
          enInf = 0; |PRINT; nHay = 1;
          nErr = 1;
          #905#9 = enVaria;
          |GRABA 020#905a;
          |LIBERA #905;
     |FINSI;
     nEntra = 1;
|FPRC;

|PROCESO Dentro;
     nEntra = 0;
     nErr = 0;
     enTVaria = 0;
|FPRC;

|DEFBUCLE dsm00005;
     #905#1;
     ;
     eaTipo, aSer, nNum, nLin, "      ";
     eaTipo, aSer, nNum, nLin, "zzzzzz";
     be;
     Dentro, dsm00005;
|FIN;

|PROCESO agifa067;
     |PINTA 1622, #67#0;
     eaTipo = "PC";
     aSer = #67#28;
     nNum = #67#0;
     nLin = #67#1;
     |BUCLE dsm00005;

     |SI nEntra = 1;
          |SI nErr = 1;
               enInf = 2; |PRINT; nHay = 1;
          |FINSI;
     |SINO;
          enTVaria = #67#5 - #67#37;
          |SI enTVaria ! #67#12;
               enInf = 2; |PRINT; nHay = 1;
          |FINSI;
     |FINSI;

     #67#12 = enTVaria;
     |GRABA 020#67a;
     |LIBERA #67;
|FPRC;

|PROCESO agifa073;
     |PINTA 1622, #73#0;
     eaTipo = "PV";
     aSer = #73#28;
     nNum = #73#0;
     nLin = #73#1;
     |BUCLE dsm00005;

     |SI nEntra = 1;
          |SI nErr = 1;
               enInf = 1; |PRINT; nHay = 1;
          |FINSI;
     |SINO;
          enTVaria = #73#5 - #73#42;
          |SI enTVaria ! #73#12;
               enInf = 1; |PRINT; nHay = 1;
          |FINSI;
     |FINSI;

     #73#12 = enTVaria;
     |GRABA 020#73a;
     |LIBERA #73;
|FPRC;

|DEFBUCLE agifa081;
     #81#1;
     ;
     "     ", 000000;
     "zzzzz", 999999;
     be;
     NULL, NULL, agifa067;
|FIN;

|DEFBUCLE agifa104;
     #104#1;
     ;
     "     ", 000000;
     "zzzzz", 999999;
     be;
     NULL, NULL, agifa073;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |SI #0#0 ! "SI"; |ACABA; |FINSI;

     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR aInforme;
          |SI FSalida = 0;
               eaTipo = "PV";
               |SI #0#1 = "S"; |BUCLE agifa104; |FINSI;
               eaTipo = "PC";
               |SI #0#2 = "S"; |BUCLE agifa081; |FINSI;
               |SI nHay ! 0; |PIEINF; |FINSI;
               |FININF;
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;
