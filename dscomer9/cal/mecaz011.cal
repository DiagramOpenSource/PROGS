|FICHEROS;
     mecaz011 #0;
     mecaw016 #16,MANTE; ||Lotes
     dsm00024 #24;
     agifa067 #67;  ||Ped compra
|FIN;

|VARIABLES;
     &Tempo = "";
     &eaDes = "";
     &eaArticulo = "";
     &enAlmacen = 0;
     &enPrecio = 0;
     &enDto1 = 0;
     &enDto2 = 0;
     &enDto3 = 0;
     &eaSerie = "";
     &enCodigo = 0;
     &enLinea = 0;
     &eaMecaDesprecia = "N";
|FIN;

|PROCESO Min24;
     #24#0 = #16#3;
     #24#1 = #16#4;
     #24#2 = " " * 30;
|FPRC;

|PROCESO Max24;
     #24#0 = #16#3;
     #24#1 = #16#4;
     #24#2 = "z" * 30;
|FPRC;

|PROCESO Tipo66; |TIPO 66;
     |ABRE #24;
     #24#0 = #16#3;
     #24#1 = #16#4;
     #24#2 = #16#1;
     |LEE 000#24];
     |CONSULTA_F_CLAVE #1#24, Min24, Max24;
     |SI FSalida = 0;
          #16#1 = #24#2;
          |PINTA #16#1;
     |SINO;
          |ERROR;
     |FINSI;
     |CIERRA #24;
|FPRC;

|PROCESO Tipo2; |TIPO 2;
     #0#2 = #0#2 +. #16#2;
     |PINTA #0#2;
|FPRC;

|PROCESO Defecto; |TIPO 7;
     #16#3 = eaArticulo;
     #16#4 = enAlmacen;
|FPRC;

|PROCESO Min;
     #16#0 = 1;
|FPRC;

|PROCESO Max;
     #16#0 = 999;
|FPRC;

|PROCESO Descripcion;
     |SI FSalida = 0; |O FSalida = 2;
          |ENTLINEAL #1#16, 1, 1, 22, 0, Min, Max;
          |SI enCodigo ! 0;
               |SI #0#2 ! #0#7;
                    |CONFI "0000NDespreciar unidades?";
                    |SI FSalida = 0;
                         eaMecaDesprecia = "S";
                    |SINO;
                         eaMecaDesprecia = "N";
                    |FINSI;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO Tipo_12; |TIPO 12;
|FPRC;

|PROGRAMA;
     eaMecaDesprecia = "N";
     |NOME_DAT #16 Tempo; |DELINDEX #16;
     |SI enCodigo ! 0; || la adj.
          |ABRE #67;
          #67#28 = eaSerie;
          #67#0 = enCodigo;
          #67#1 = enLinea;
          |LEE 020#67=;
          |CIERRA #67;
          eaArticulo = #67#2;
          enAlmacen = #67#3;
          eaDes = #67#4;
          enDto1 = #67#8;
          enDto2 = #67#27;
          enDto3 = #67#57;
          enPrecio = #67#6;
          #0#7 = #67#5 - #67#38;
     |FINSI;
     #0#0 = eaArticulo;
     #0#1 = eaDes;
     #0#3 = enPrecio;
     #0#4 = enDto1;
     #0#5 = enDto2;
     #0#6 = enDto3;
     |PINPA #0#0;
     |PINDA #0#0;
     |SI enCodigo ! 0;
          |PINTA 2040, "Pendientes de Servir:";
          |PINTA 2062, #0#7;
     |FINSI;
     |ENTLINEAL #1#16, 1, 7, 22, 0, Min, Max;
     |ENDATOS #1#0;
     eaDes = #0#1;
     enPrecio = #0#3;
     enDto1 = #0#4;
     enDto2 = #0#5;
     enDto3 = #0#6;
|FPRO;
