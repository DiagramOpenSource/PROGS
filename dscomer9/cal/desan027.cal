|FICHEROS;
     desan027 #0;
     agifa010 #10;
     desan032 #32,MANTE; || Tmp
     agifa065 #65;
     agifa071 #71;
|FIN;

|VARIABLES;
     &Tempo = "";
     nHay = 0;
|FIN;

|PROCESO Tecla32; |TIPO 0;
     |SI FSalida = 0; |Y #32Campo = Contenido;
          #0#25 = #32#0;
          #0#26 = #32#1;
          #0#27 = #32#2;
          |PTEC 807;
     |FINSI;
|FPRC;

|PROCESO Min;
     |SI FSalida = "POSICION";
          #32#0 = #0#25;
          #32#1 = #0#26;
          #32#2 = #0#27;
     |SINO;
          #32#0 = "     ";
          #32#1 = 000001;
          #32#2 = 001;
     |FINSI;
|FPRC;

|PROCESO Max;
     #32#0 = "zzzzz";
     #32#1 = 999999;
     #32#2 = 999;
|FPRC;

|PROCESO Historico;
     #32#0 = #65#11;
     #32#1 = #65#3;
     #32#2 = #65#4;
     #32#3 = #65#1;
     |GRABA 020#32n;
     nHay = 1;
|FPRC;

|DEFBUCLE Historico;
     #65#1;
     10;
     #0#5, "01.01.0000", "AV", 000000, 00000, "      ", #0#2;
     #0#5, "31.12.9999", "AV", 999999, 99999, "zzzzzz", #0#2;
     ;
     NULL, Historico;
|FIN;

|PROCESO CheqArti; |TIPO 0;
     |HAZ CreaTempo; |NOME_DAT #32 Tempo; |DELINDEX #32;
     |ABRE #32;
     |BUCLE Historico;
     |CIERRA #32;
     |SI nHay = 0;
          |MENAV "0000El articulo no se ha vendido al cliente...";
     |SINO;
          |PUSHV 0506 2380;
          |BLANCO 1208 2340;
          |ENTLINEAL #1#32, 1, 4, 21, 1, Min, Max;
          |POPV;
          |SI #0#27 = 0; |AVISO; |ERROR; |FINSI;
     |FINSI;
     |HAZ BoraTempo; |DELINDEX #32;
|FPRC;

|PROCESO Tipo4; |TIPO 4;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "desan027";
          |SI FSalida = 0;
               |PRINT;
               |PIEINF;
               |FININF;
          |SINO;
               |MENAV "0000Error en informe 'desan027'";
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;
