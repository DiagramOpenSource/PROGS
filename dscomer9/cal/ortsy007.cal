|FICHEROS;
     ortsy007 #0;
     agifa019 #19;
     ortsm020 #20;
     ortsm027 #27;
     ortsm029 #29;
     agifa049 #49;
     agifa073 #73;
     agifa104 #104;
     ortsm019 #119;
     agifa048 #480;
     referen@;
|FIN;

|VARIABLES;
     aAlfa = "";
     &enTipo = 0;
     nHay = 0;
     aArti = "";
|FIN;

|PROCESO ortsm027;
     nHay = 1;
     enTipo = 1; |PRINT;
|FPRC;

|DEFBUCLE ortsm027;
     #27#1;
     ;
     aArti, 001, "                    ";
     aArti, 999, "zzzzzzzzzzzzzzzzzzzz";
     ;
     NULL, ortsm027;
|FIN;

|PROCESO LinEscan;
     enTipo = 2; |PRINT;
|FPRC;

|PROCESO ortsm020;
     |SI #20#2 = "N";
          #49#0 = #20#0;
          #49#1 = #20#1;
          |LEE 000#49=;
          |SI FSalida = 0;
               #19#0 = #49#2;
               |LEE 000#19=;
               |SI #19#3 = #0#16;
                    #480#0 = #19#0;
                    |LEE 000#480=;
                    |SI FSalida = 0;
                         |BUCLELIN 0 LinEscan #480;
                    |FINSI;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE ortsm020;
     #20#1;
     ;
     aArti, 001;
     aArti, 999;
     ;
     NULL, ortsm020;
|FIN;

|PROCESO ortsm029;
     nHay = 1;
     enTipo = 1; |PRINT;
|FPRC;

|DEFBUCLE ortsm029;
     #29#1;
     ;
     #73#28, #73#0, #73#1, 001, "                    ";
     #73#28, #73#0, #73#1, 999, "zzzzzzzzzzzzzzzzzzzz";
     ;
     NULL, ortsm029;
|FIN;

|PROCESO Procesa;
     nHay = 0;
     |BUCLE ortsm029;
     |SI nHay = 0;
          aArti = #73#2;
          |BUCLE ortsm020;
     |FINSI;
|FPRC;

|PROCESO Pedidos;
     |SI #73#13 ] #0#2; |Y #73#13 [ #0#3;
          #19#0 = #73#2;
          |LEE 000#19=;
          |SI FSalida = 0;
               |SI #19#126 ] #0#4; |Y #19#126 [ #0#5;
                    |SI #19#125 ] #0#10; |Y #19#125 [#0#11;
                         |SI #19#2 ] #0#12; |Y #19#2 [ #0#13;
                              |SI #19#3 ] #0#14; |Y #19#3 [ #0#15;
                                   |HAZ Procesa;
                              |FINSI;
                         |FINSI;
                    |FINSI;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE Pedidos;
     #104#1;
     1;
     #0#6, #0#8, #0#0;
     #0#7, #0#9, #0#1;
     ;
     NULL, NULL, Pedidos;
|FIN;

|PROCESO Articulos;
     |SI #referen@#126 ] #0#4; |Y #referen@#126 [ #0#5;
          |SI #referen@#125 ] #0#10; |Y #referen@#125 [#0#11;
               |SI #referen@#2 ] #0#12; |Y #referen@#2 [ #0#13;
                    |SI #referen@#3 ] #0#14; |Y #referen@#3 [ #0#15;
                         aArti = #referen@#0;
                         #119#0 = aArti;
                         |LEE 000#119=;
                         |SI FSalida ! 0; |DDEFECTO #119; |FINSI;
                         |SI #119#2 = "N";
                              |BUCLE ortsm020;
                         |SINO;
                              |BUCLE ortsm027;
                         |FINSI;
                    |FINSI;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE Articulos;
     #referen@#1001;
     ;
     #0#17;
     #0#18;
     ;
     NULL, Articulos;
|FIN;

|PROCESO Tipo; |TIPO 0;
     |SI #0#19 = "P";
          |C_M #0#0, 1, "S";
          |C_M #0#1, 1, "S";
          |C_M #0#2, 1, "S";
          |C_M #0#3, 1, "S";
          |C_M #0#6, 1, "S";
          |C_M #0#7, 1, "S";
          |C_M #0#8, 1, "S";
          |C_M #0#9, 1, "S";
     |SINO;
          |C_M #0#0, 1, "N";
          |C_M #0#1, 1, "N";
          |C_M #0#2, 1, "N";
          |C_M #0#3, 1, "N";
          |C_M #0#6, 1, "N";
          |C_M #0#7, 1, "N";
          |C_M #0#8, 1, "N";
          |C_M #0#9, 1, "N";
     |FINSI;
|FPRC;

|PROCESO Tipo3; |TIPO 3;
     Impresora = "CrystalReport";
     |IMPRE -1;
     |SI FSalida = 0;
          aAlfa = #0#20; |QBF aAlfa;
          |INFOR aAlfa;
          |SI FSalida = 0;
               |SI #0#19 = "P";
                    |ABRE #19;
                    |ABRE #49;
                    |ABRE #480;
                    |BUCLE Pedidos;
                    |CIERRA #19;
                    |CIERRA #49;
                    |CIERRA #480;
               |SINO;
                    |DDEF aAlfa;
                    aAlfa = aAlfa + "agifa019";
                    |CARGA_DEF aAlfa, referen@;
                    |SI FSalida = 0;
                         |ABRE #19;
                         |ABRE #49;
                         |ABRE #480;
                         |ABRE #119;
                         |BUCLE Articulos;
                         |CIERRA #119;
                         |CIERRA #19;
                         |CIERRA #49;
                         |CIERRA #480;
                         |DESCARGA_DEF #referen@;
                    |FINSI;
               |FINSI;
               |PIEINF;
               |FININF;
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;

|PROGRAMA;
     |ABRE #0;
     |LEE 101#0p;
     |SI FSalida ! 0; |GRABA 020#0b; |FINSI;
     aAlfa = #0#20;
     |DDEFECTO #0;
     #0#20 = aAlfa;
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |SI FSalida = 0; |GRABA 020#0a; |FINSI;
     |CIERRA #0;
|FPRO;
