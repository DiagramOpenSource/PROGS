|FICHEROS;
     rucom005 #0;
     rucom002 #2;
     rucom003 #3;
     rucom004 #4;
     rucom007 #7;
     rucom008 #8;
     rucom009 #9;
     rucom010 #10;
     rucoz001 #101,MANTE;
     rucoz002 #102,MANTE;
|FIN;

|VARIABLES;
     &enCtrFin = 0;
     nModo = 0;
     nModoInc = 0;
     nModoMan = 0;
     aAlfa = "";
     nPan = 0;
     nPanEdita = 0;
     nBtnObs = -1;
     nBtnInc = -1;
     nBtnMan = -1;
     nBtnKms = -1;
     nBtnAltaInc = 0;
     nBtnBajaInc = 0;
     nBtnModiInc = 0;
     nBtnConsInc = 0;
     nBtnAltaMan = 0;
     nBtnBajaMan = 0;
     nBtnModiMan = 0;
     nBtnConsMan = 0;
 {-1}aVent = "";
     aVent1 = 0;
     aVent2 = 0;
     aVent3 = 0;
     aVent4 = 0;
     aVent5 = "";
     nVentana = 0;
     nVenEdita = 0;
     nGrid = 0;
     nRango = 0;
     nLin = 0;
     nSw = 0;
     i = 0;
     aConte = "";
|FIN;

|PROCESO Min;
     #8#0 = #0#0; #8#1 = 1;
     #9#0 = #0#0; #9#1 = 1;
     #10#0 = #0#0; #10#1 = "01.01.0000";
|FPRC;

|PROCESO Max;
     #8#0 = #0#0; #8#1 = 99999;
     #9#0 = #0#0; #9#1 = 99999;
     #10#0 = #0#0; #10#1 = "31.12.9999";
|FPRC;

|PROCESO BtnObs;
     |VENTANA 1301, 3198, -1, 17, "Observaciones";
     nVentana = FSalida;
     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |ABRE #7;
     #7#0 = #0#0;
     |LEE 101#7=;
     |SI FSalida ! 0; |GRABA 020#7b; |FINSI;
     |PINPA #0#7;
     |PINDA #0#7;
     |ENDATOS #1#7;
     |SI FSalida = 0; |GRABA 020#7a; |FINSI;
     |CIERRA #7;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;
     |FINVENTANA nVentana;
     |PULSATECLA;
|FPRC;

|PROCESO Incidencia; |TIPO 0;
     |ABRE #4;
     #4#0 = #101#3;
     |LEE 000#4=;
     |SI FSalida = 0;
          |SI aConte ! #101#3;
               #101#4 = #4#1; |PINTA #101#4;
               #101#5 = #4#2; |PINTA #101#5;
          |FINSI;
     |SINO;
          |MENAV "0000No existe c¢digo...";
          |ERROR;
     |FINSI;
     |CIERRA #4;
|FPRC;

|PROCESO Conte1; |TIPO 7;
     aConte = #101#3;
|FPRC;

|PROCESO EditaInc;
     |SI nModoInc = 1; |VENTANA 2501, 3198, -1, 17, "Nueva Incidencia"; |FINSI;
     |SI nModoInc = 2; |VENTANA 2501, 3198, -1, 17, "Modifica Incidencia"; |FINSI;
     |SI nModoInc = 4; |VENTANA 2501, 3198, -1, 17, "Consulta Incidencia"; |FINSI;
     nVenEdita = FSalida;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVenEdita;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |SI nModoInc = 1;
          #8#0 = #0#0;
          #8#1 = 99999;
          |LEE 000#8];
          |SI FSalida = 0;
               |LEE 000#8a;
          |SINO;
               |LEE 000#8u;
          |FINSI;
          |SI FSalida = 0; |Y #8#0 = #0#0;
               nLin = #8#1 + 1;
          |SINO;
               nLin = 1;
          |FINSI;
          |DDEFECTO #8;
          #8#0 = #0#0;
          #8#1 = nLin;
          |GRABA 020#8b;

          |DDEFECTO #101;
          #101#0 = #0#0;
          #101#1 = nLin;
     |SINO;
          |PARA i = 0; |SI i [ 5; |HACIENDO i = i + 1;
               #101i = #8i;
          |SIGUE;
     |FINSI;
     nSw = 1;
     nSw = 0;
     |PINPA #0#101; nPanEdita = FSalida;
     |PINDA #0#101;
     |SI nModoInc = 1; |ENDATOS #1#101; |FINSI;
     |SI nModoInc = 2; |ENDATOS #2#101; |FINSI;
     |SI nModoInc = 4; |PAUSA; |FINSI;
     |SI FSalida = 0; |Y nModoInc ! 4;
          |PARA i = 0; |SI i [ 5; |HACIENDO i = i + 1;
               #8i = #101i;
          |SIGUE;
          |GRABA 020#8a;
          |REFRESCACONTROL nGrid;
     |SINO;
          |SI nModoInc = 1;
               |BORRA 020#8c;
               |REFRESCACONTROL nGrid;
          |FINSI;
     |FINSI;
     |LIBERA #8;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVenEdita;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |FINVENTANA nVenEdita;
     |PULSATECLA;
|FPRC;

|PROCESO BtnAltaInc;
     nModoInc = 1;
     |HAZ EditaInc;
|FPRC;

|PROCESO BtnModiInc;
     |LEE 101#8=;
     |SI FSalida ! 0; |ACABA; |FINSI;
     nModoInc = 2;
     |HAZ EditaInc;
     |LIBERA #8;
|FPRC;

|PROCESO BtnBajaInc;
     |LEE 101#8=;
     |SI FSalida ! 0; |ACABA; |FINSI;
     aAlfa = "0000N¿Borrar linea: " + (("00000" + #8#1) % -105) + "?";
     |CONFI aAlfa;
     |SI FSalida = 0;
          |BORRA 020#8a;
          |REFRESCACONTROL nGrid;
     |FINSI;
     |LIBERA #8;
|FPRC;

|PROCESO BtnConsInc;
     |LEE 000#8=;
     |SI FSalida ! 0; |ACABA; |FINSI;
     nModoInc = 4;
     |HAZ EditaInc;
|FPRC;

|PROCESO EvtInc;
     |SI FSalida = 1; |O FSalida = 2;
          |LEE 000#8=;
     |FINSI;
     |SI FSalida = 4;
          |HAZ BtnModiInc;
     |FINSI;
|FPRC;

|PROCESO BtnInc;
     |VENTANA 1301, 3198, -1, 17, "Incidencias";
     nVentana = FSalida;
     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |ABRE #8;
     |CONTROL_SIMPLE 0, "BOTON,{{193}}Alta", 1403, 1413, BtnAltaInc;
     nBtnAltaInc = FSalida;
     |CONTROL_SIMPLE 0, "BOTON,{{197}}Modificar", 1415, 1425, BtnModiInc;
     nBtnModiInc = FSalida;
     |CONTROL_SIMPLE 0, "BOTON,{{199}}Baja", 1427, 1437, BtnBajaInc;
     nBtnBajaInc = FSalida;
     |CONTROL_SIMPLE 0, "BOTON,{{155}}Consulta", 1439, 1449, BtnConsInc;
     nBtnConsInc = FSalida;
     nRango = 4 + 8 + 16 + 32;
     |LINEAL_SIMPLE #1#8, nRango, 1503, 2997, Min, Max, EvtInc;
     nGrid = FSalida;
     enCtrFin = nGrid;
     |HAZ EsperaFin;
     |DESTRUYECONTROL nGrid;
     |FIN_CONTROL_WINDOWS nBtnAltaInc;
     |FIN_CONTROL_WINDOWS nBtnModiInc;
     |FIN_CONTROL_WINDOWS nBtnBajaInc;
     |FIN_CONTROL_WINDOWS nBtnConsInc;
     |CIERRA #8;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;
     |FINVENTANA nVentana;
     |PULSATECLA;
|FPRC;

|PROCESO Taller; |TIPO 0;
     |ABRE #2;
     #2#0 = #102#5;
     |LEE 000#2=;
     |SI FSalida = 0;
          #102#8 = #2#1; |PINTA #102#8;
     |SINO;
          |SI nSw = 0;
               |MENAV "0000No existe c¢digo...";
               |ERROR;
          |FINSI;
     |FINSI;
     |CIERRA #2;
|FPRC;

|PROCESO Concepto; |TIPO 0;
     |ABRE #3;
     #3#0 = #102#3;
     |LEE 000#3=;
     |SI FSalida = 0;
          |SI aConte ! #102#3;
               #102#4 = #3#1; |PINTA #102#4;
          |FINSI;
     |SINO;
          |MENAV "0000No existe c¢digo...";
          |ERROR;
     |FINSI;
     |CIERRA #4;
|FPRC;

|PROCESO Conte2; |TIPO 7;
     aConte = #102#3;
|FPRC;

|PROCESO EditaMan;
     |SI nModoMan = 1; |VENTANA 2401, 3198, -1, 17, "Nueva Mantenimiento"; |FINSI;
     |SI nModoMan = 2; |VENTANA 2401, 3198, -1, 17, "Modifica Mantenimiento"; |FINSI;
     |SI nModoMan = 4; |VENTANA 2401, 3198, -1, 17, "Consulta Mantenimiento"; |FINSI;
     nVenEdita = FSalida;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVenEdita;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |SI nModoMan = 1;
          #9#0 = #0#0;
          #9#1 = 99999;
          |LEE 000#9];
          |SI FSalida = 0;
               |LEE 000#9a;
          |SINO;
               |LEE 000#9u;
          |FINSI;
          |SI FSalida = 0; |Y #9#0 = #0#0;
               nLin = #9#1 + 1;
          |SINO;
               nLin = 1;
          |FINSI;
          |DDEFECTO #9;
          #9#0 = #0#0;
          #9#1 = nLin;
          |GRABA 020#9b;

          |DDEFECTO #102;
          #102#0 = #0#0;
          #102#1 = nLin;
     |SINO;
          |PARA i = 0; |SI i [ 7; |HACIENDO i = i + 1;
               #102i = #9i;
          |SIGUE;
     |FINSI;
     nSw = 1;
     |HAZ Taller;
     nSw = 0;
     |PINPA #0#102; nPanEdita = FSalida;
     |PINDA #0#102;
     |SI nModoMan = 1; |ENDATOS #1#102; |FINSI;
     |SI nModoMan = 2; |ENDATOS #2#102; |FINSI;
     |SI nModoMan = 4; |PAUSA; |FINSI;
     |SI FSalida = 0; |Y nModoMan ! 4;
          |PARA i = 0; |SI i [ 7; |HACIENDO i = i + 1;
               #9i = #102i;
          |SIGUE;
          |GRABA 020#9a;
          |REFRESCACONTROL nGrid;
     |SINO;
          |SI nModoMan = 1;
               |BORRA 020#9c;
               |REFRESCACONTROL nGrid;
          |FINSI;
     |FINSI;
     |LIBERA #9;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVenEdita;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |FINVENTANA nVenEdita;
     |PULSATECLA;
|FPRC;

|PROCESO BtnAltaMan;
     nModoMan = 1;
     |HAZ EditaMan;
|FPRC;

|PROCESO BtnModiMan;
     |LEE 101#9=;
     |SI FSalida ! 0; |ACABA; |FINSI;
     nModoMan = 2;
     |HAZ EditaMan;
     |LIBERA #9;
|FPRC;

|PROCESO BtnBajaMan;
     |LEE 101#9=;
     |SI FSalida ! 0; |ACABA; |FINSI;
     aAlfa = "0000N¿Borrar linea: " + (("00000" + #9#1) % -105) + "?";
     |CONFI aAlfa;
     |SI FSalida = 0;
          |BORRA 020#9a;
          |REFRESCACONTROL nGrid;
     |FINSI;
     |LIBERA #9;
|FPRC;

|PROCESO BtnConsMan;
     |LEE 000#9=;
     |SI FSalida ! 0; |ACABA; |FINSI;
     nModoMan = 4;
     |HAZ EditaMan;
|FPRC;

|PROCESO EvtMan;
     |SI FSalida = 1; |O FSalida = 2;
          |LEE 000#9=;
     |FINSI;
     |SI FSalida = 4;
          |HAZ BtnModiMan;
     |FINSI;
|FPRC;

|PROCESO BtnMan;
     |VENTANA 1301, 3198, -1, 17, "Mantenimientos";
     nVentana = FSalida;
     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |ABRE #9;
     |CONTROL_SIMPLE 0, "BOTON,{{193}}Alta", 1403, 1413, BtnAltaMan;
     nBtnAltaMan = FSalida;
     |CONTROL_SIMPLE 0, "BOTON,{{197}}Modificar", 1415, 1425, BtnModiMan;
     nBtnModiMan = FSalida;
     |CONTROL_SIMPLE 0, "BOTON,{{199}}Baja", 1427, 1437, BtnBajaMan;
     nBtnBajaMan = FSalida;
     |CONTROL_SIMPLE 0, "BOTON,{{155}}Consulta", 1439, 1449, BtnConsMan;
     nBtnConsMan = FSalida;
     nRango = 4 + 8 + 16 + 32;
     |LINEAL_SIMPLE #1#9, nRango, 1503, 2997, Min, Max, EvtMan;
     nGrid = FSalida;
     enCtrFin = nGrid;
     |HAZ EsperaFin;
     |DESTRUYECONTROL nGrid;
     |FIN_CONTROL_WINDOWS nBtnAltaMan;
     |FIN_CONTROL_WINDOWS nBtnModiMan;
     |FIN_CONTROL_WINDOWS nBtnBajaMan;
     |FIN_CONTROL_WINDOWS nBtnConsMan;
     |CIERRA #9;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;
     |FINVENTANA nVentana;
     |PULSATECLA;
|FPRC;

|PROCESO BtnKms;
     |VENTANA 1301, 3198, -1, 17, "Kilómetros";
     nVentana = FSalida;
     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |ABRE #10;
     nRango = 4 + 8 + 16 + 32;
     |LINEAL_SIMPLE #1#10, nRango, 1403, 2997, Min, Max, NULL;
     nGrid = FSalida;
     enCtrFin = nGrid;
     |HAZ EsperaFin;
     |DESTRUYECONTROL nGrid;
     |CIERRA #10;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;
     |FINVENTANA nVentana;
     |PULSATECLA;
|FPRC;

|PROCESO T5_13; |TIPO 13;
     |SI nBtnObs = -1;
          |PINPA #0#0; nPan = FSalida;
          |CONTROL_SIMPLE nPan, "BOTON,{{137}}Observaciones", 1079, 1196, BtnObs;
          nBtnObs = FSalida;
          |CONTROL_SIMPLE nPan, "BOTON,{{137}}Incidencias", 1279, 1396, BtnInc;
          nBtnInc = FSalida;
          |CONTROL_SIMPLE nPan, "BOTON,{{137}}Mantenimientos", 1479, 1596, BtnMan;
          nBtnMan = FSalida;
          |CONTROL_SIMPLE nPan, "BOTON,{{137}}Kilometros", 1679, 1796, BtnKms;
          nBtnKms = FSalida;
     |FINSI;
|FPRC;

|PROCESO T5_7; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1;
          |ESTADO_CONTROL nBtnObs, "DISABLE";
          |ESTADO_CONTROL nBtnInc, "DISABLE";
          |ESTADO_CONTROL nBtnMan, "DISABLE";
          |ESTADO_CONTROL nBtnKms, "DISABLE";
     |FINSI;
|FPRC;

|PROCESO T5_20; |TIPO 20;
     |ESTADO_CONTROL nBtnObs, "ENABLE";
     |ESTADO_CONTROL nBtnInc, "ENABLE";
     |ESTADO_CONTROL nBtnMan, "ENABLE";
     |ESTADO_CONTROL nBtnKms, "ENABLE";
     FSalida = "";
|FPRC;

|PROCESO Borra10;
     |BORRA 020#10a;
|FPRC;

|DEFBUCLE Borra10;
     #10#1;
     ;
     #0#0, "01.01.0000";
     #0#0, "31.12.9999";
     be;
     NULL, Borra10;
|FIN;

|PROCESO Borra9;
     |BORRA 020#9a;
|FPRC;

|DEFBUCLE Borra9;
     #9#1;
     ;
     #0#0, 00000;
     #0#0, 99999;
     be;
     NULL, Borra9;
|FIN;

|PROCESO Borra8;
     |BORRA 020#8a;
|FPRC;

|DEFBUCLE Borra8;
     #8#1;
     ;
     #0#0, 00000;
     #0#0, 99999;
     be;
     NULL, Borra8;
|FIN;

|PROCESO Borra7;
     |ABRE #7;
     #7#0 = #0#0;
     |LEE 101#7=;
     |SI FSalida = 0;
          |BORRA 020#7a;
     |FINSI;
     |CIERRA #7;
|FPRC;

|PROCESO T5_2; |TIPO 2;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3;
          |HAZ Borra7;
          |BUCLE Borra8;
          |BUCLE Borra9;
          |BUCLE Borra10;
     |FINSI;
|FPRC;
