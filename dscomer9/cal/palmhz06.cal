|FICHEROS;
     palmhz06 #0;
     agifa079 #79;
     dscam045@;
     dscam008@;
|FIN;

|VARIABLES;
     aAlfa = "";
     aEmp = "";
     aBase = "";
     nEmpresa = 0;
|FIN;

|PROCESO CambiaCta;
     aAlfa = (aAlfa % 104) + #0#0 + (aAlfa % 706);
|FPRC;

|PROCESO Recibo;
     aAlfa = #dscam008@#5;
     |HAZ CambiaCta;
     #dscam008@#5 = aAlfa;
     |GRABA 020#dscam008@.a;
     |LIBERA #dscam008@;
|FPRC;

|DEFBUCLE Recibo;
     #dscam008@#2004;
     ;
     00, #79#66, #79#0, 000;
     99, #79#66, #79#0, 999;
     ;
     NULL, Recibo;
|FIN;

|PROCESO dscam045;
     |SI #79#66 ] #dscam045@#4; |Y #79#66 [ #dscam045@#5;
          aEmp = ("00000" + #dscam045@#6) % -105;
          aAlfa = aBase + "dscarter/fich/" + aEmp + "/";
          |PATH_DAT #dscam008@#aAlfa#;
          |BUCLE Recibo;
     |FINSI;
|FPRC;

|DEFBUCLE dscam045;
     #dscam045@#1002;
     2;
     nEmpresa, 001, "C";
     nEmpresa, 999, "C";
     ;
     NULL, dscam045;
|FIN;

|PROCESO GrabaCarte;
     |DBASS aBase;
     aAlfa = aBase + "dscarter/def/dscam045";
     |CARGA_DEF aAlfa, dscam045@;
     |SI FSalida = 0;
          aAlfa = aBase + "dscarter/def/dscam008";
          |CARGA_DEF aAlfa, dscam008@;
          |SI FSalida = 0;
               |DFICE aAlfa;
               aAlfa = aAlfa % -205;
               nEmpresa = aAlfa;

               aAlfa = aBase + "dscarter/fich/";
               |PATH_DAT #dscam045@#aAlfa#;
               |BUCLE dscam045;

               |DESCARGA_DEF #dscam008@;
          |FINSI;
          |DESCARGA_DEF #dscam045@;
     |FINSI;
|FPRC;

|PROCESO agifa079;
     aAlfa = #79#12;
     |HAZ CambiaCta;
     #79#12 = aAlfa;
     |GRABA 020#79a;
     |LIBERA #79;

     |HAZ GrabaCarte;
|FPRC;

|DEFBUCLE agifa079;
     #79#1;
     1;
     #0#1, #0#3, #0#5;
     #0#2, #0#4, #0#6;
     be;
     NULL, agifa079;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |BUCLE agifa079;
|FPRC;
