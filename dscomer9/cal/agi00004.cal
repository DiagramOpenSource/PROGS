|FICHEROS;
     agi00004 #0;        || Este def.
     agi00005 #1,MANTE;  || Consulta Trabajos.
     agi00002 #2;        || Trabajos(C).
     agi00003 #3;        || Trabajos(L).
|FIN;

|VARIABLES;
     sw   = 0;
     &Tempo = "";
|FIN;

||---------------------------------------------------------------------------

|PROCESO carga;
     #1#0 = #2#0;   || CODIGO TRABAJO.
     #1#1 = #2#1;   || DESCRIPCION.
     #1#2 = #2#5;   || CODIGO CLIENTE.
     #1#3 = #2#6;   || NOMBRE.
     |GRABA 021#1n;
     sw = 1;
|FPRC;

|DEFBUCLE lee_tra;
     #2#3;
     ;
     #0#0,"     ",     0,"01.01.1900","     ",     0,"01.01.1900";
     #0#1,"zzzzz",999999,"31.12.2100","zzzzz",999999,"31.12.2100";
     ;
     NULL,carga;
|FIN;

||---------------------------------------------------------------------------

|PROCESO mini;
     #1#2 = #0#0;
     #1#0 = 000001;
|FPRC;

|PROCESO maxi;
     #1#2 = #0#1;
     #1#0 = 999999;
|FPRC;

|PROCESO inicio; |TIPO 3;
     |HAZ CreaTempo;
     |NOME_DAT #1 Tempo; |DELINDEX #1;

     |ABRE #1;
     |BUCLE lee_tra;
     |SI sw = 1;
          |ENTLINEAL #2#1,1,4,20,1,mini,maxi;
     |FINSI;
     |CIERRA #1;

     |HAZ BoraTempo;
     |DELINDEX #1;
|FPRC;

||---------------------------------------------------------------------------

|PROCESO consulta; |TIPO 11;
     |SI FSalida = 10;
          |ABRE #2;
          |PUSHV 0501 2380;
          #2#0 = #1#0;
          |LEE 000#2=;
          |SI FSalida = 0;
               |PINPA #0#2;
               |PINDA #0#2;
               |ENDATOS #4#2;
          |FINSI;
          |POPV;
          |CIERRA #2;
     |FINSI;
|FPRC;
