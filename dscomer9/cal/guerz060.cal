|FICHEROS;
     guerz060 #0;
     goprepll #1; ||viejo
     gopreped #2; ||nuevo
     goprepel #3;
|FIN;

|VARIABLES;
     nAuto = 0;
|FIN;

|PROCESO goprepll;
     #2#0 = #1#0;
     #2#1 = #1#1;
     #2#2 = #1#2;
     #2#3 = #1#3;
     #2#4 = #3#1;
     |GRABA 020#2n;
|FPRC;

|DEFBUCLE goprepll;
     #1#1;
     ;
     #3#0, #3#2, 001;
     #3#0, #3#2, 999;
     ;
     NULL, goprepll;
|FIN;

|PROCESO goprepel;
     |BUCLE goprepll;
|FPRC;

|DEFBUCLE goprepel;
     #3#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, goprepel;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |SI #0#0 ! "SI"; |ACABA; |FINSI;

     |ABRE #2;
     |LEE 000#2p;
     |SI nAuto = 0; |Y FSalida = 0;
          |MENAV "0000ATENCION: El fichero goprepld (nuevo) tiene datos";
          |CONFI "0000NContinuar, si continua se borraran todos?";
          |SI FSalida ! 0; |ACABA; |FINSI;
          |CIERRA #2;
          |DELINDEX #2;
          |ABRE #2;
     |FINSI;
     |ABRE #1;
     |BUCLE goprepel;
     |CIERRA #1;
     |CIERRA #2;
|FPRC;

|PROGRAMA;
     |SI PARAMETRO = "";
          nAuto = 0;
          |MANTE #0;
     |SINO;
          |MENAV "0000El fichero descripcion ampliada ha cambiado la estructura"
          |CONFI "0000SConvertir de forma automatica";
          |SI FSalida = 0;
               nAuto = 1;
               #0#0 = "SI";
               |HAZ Tipo3;
          |FINSI;
     |FINSI;
|FPRO;
