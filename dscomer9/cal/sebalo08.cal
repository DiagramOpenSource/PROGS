|FICHEROS;
     sebalo06@;
     sebalo02@;
|FIN;

|VARIABLES;
     &eaCliente = "";
     &eaEnvaPdte = "";
     aEnvase = "";
     nCanti = 0;
     aAlfa = "";
     aDef = "";
|FIN;

|PROCESO MontaEnvase;
     |SI nCanti > 0;
          #sebalo02@#0 = aEnvase;
          |LEE 000#sebalo02@.=;
          |SI FSalida ! 0; |DDEFECTO #sebalo02@; |FINSI;
          aAlfa = #sebalo02@#1; |QBF aAlfa;
          |SI eaEnvaPdte ! ""; eaEnvaPdte = eaEnvaPdte + ", "; |FINSI;
          eaEnvaPdte = eaEnvaPdte + aAlfa + "=" + nCanti;
     |FINSI;
|FPRC;

|PROCESO sebalo06;
     |SI aEnvase = ""; aEnvase = #sebalo06@#6; |FINSI;
     |SI aEnvase ! #sebalo06@#6;
          |HAZ MontaEnvase;
          nCanti = 0;
     |FINSI;
     aEnvase = #sebalo06@#6;
     nCanti = nCanti + #sebalo06@#7;
|FPRC;

|DEFBUCLE sebalo06;
     #sebalo06@#3002;
     ;
     eaCliente, "   ";
     eaCliente, "zzz";
     ;
     NULL, sebalo06;
|FIN;

|PROCESO SebaLopezEnvaPdte;
     eaEnvaPdte = "";
     |DDEF aDef;
     aAlfa = aDef + "sebalo02";
     |CARGA_DEF aAlfa, sebalo02@;
     |SI FSalida = 0;
          |ABRE #sebalo02@;
          aAlfa = aDef + "sebalo06";
          |CARGA_DEF aAlfa, sebalo06@;
          |SI FSalida = 0;
               nCanti = 0;
               aEnvase = "";
               |BUCLE sebalo06;
               |HAZ MontaEnvase;
               |DESCARGA_DEF #sebalo06@;
          |FINSI;
          |CIERRA #sebalo02@;
          |DESCARGA_DEF #sebalo02@;
     |FINSI;
|FPRC;
