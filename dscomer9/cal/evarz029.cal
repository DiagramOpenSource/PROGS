|FICHEROS;
     evarz029 #0;
     evarm002 #2;
     evarm003 #3;
     dsm00016 #16;
     agifa019 #19;
     agifa024 #24;
     agifa321 #321;
     agifa324 #324;
|FIN;

|VARIABLES;
     &eaCliente = "";
     &eaArticulo = "";
     &nDeci_PreBase = 0;
     aTabla = "";
|FIN;

|PROCESO Tari; |TIPO 0;
     |SI #19#176 = "S";
          |DDEFECTO #2;
          |ABRE #2;
          #2#0 = #0#1;
          |LEE 000#2];
          |SI FSalida = 0; |Y #2#0 = #0#1;
               |SI #0#3 = 1;  #0#4 = #2#3;  |FINSI;
               |SI #0#3 = 2;  #0#4 = #2#4;  |FINSI;
               |SI #0#3 = 3;  #0#4 = #2#5;  |FINSI;
               |SI #0#3 = 4;  #0#4 = #2#6;  |FINSI;
               |SI #0#3 = 5;  #0#4 = #2#7;  |FINSI;
               |SI #0#3 = 6;  #0#4 = #2#8;  |FINSI;
          |SINO;
               aTabla = #19#177;
               |DDEFECTO #16;
               |ABRE #16;
               #16#0 = aTabla; aTabla = #16#0;
               |LEE 000#16];
               |SI #16#0 = aTabla;
                    |SI #0#3 = 1;  #0#4 = #16#5; |FINSI;
                    |SI #0#3 = 2;  #0#4 = #16#6; |FINSI;
                    |SI #0#3 = 3;  #0#4 = #16#7; |FINSI;
                    |SI #0#3 = 4;  #0#4 = #16#8; |FINSI;
                    |SI #0#3 = 5;  #0#4 = #16#9; |FINSI;
                    |SI #0#3 = 6;  #0#4 = #16#10; |FINSI;
               |FINSI;
               |CIERRA #16;
          |FINSI;
          |CIERRA #2;
     |SINO;
          |SI #0#3 = 1;  #0#4 = #19#18; |FINSI;
          |SI #0#3 = 2;  #0#4 = #19#19; |FINSI;
          |SI #0#3 = 3;  #0#4 = #19#20; |FINSI;
          |SI #0#3 = 4;  #0#4 = #19#110; |FINSI;
          |SI #0#3 = 5;  #0#4 = #19#111; |FINSI;
          |SI #0#3 = 6;  #0#4 = #19#112; |FINSI;
     |FINSI;
     |PINTA #0#4;
|FPRC;

|PROGRAMA;
     |ABRE #24;
     #24#0 = eaCliente;
     |LEE 020#24=;
     |CIERRA #24;

     |ABRE #19;
     #19#0 = eaArticulo;
     |LEE 000#19=;
     |SI FSalida ! 0; |ACABA; |FINSI;
     |CIERRA #19;

     |ABRE #321; |LEE 000#321p; |CIERRA #321;
     |ABRE #324;
     #324#0 = #321#9;
     |LEE 000#324=;
     |SI FSalida ! 0;  |DDEFECTO #324;  |FINSI;
     |CIERRA #324;
     nDeci_PreBase = #324#9;

     |ABRE #3;
     #3#0 = eaCliente;
     #3#1 = eaArticulo;
     |LEE 000#3=;
     |SI FSalida ! 0;
          #0#0 = eaCliente;
          #0#1 = eaArticulo;
          #0#3 = #24#39;
          #0#5 = #0#1;
          #0#6 = #24#2;
          #0#7 = #19#1;
          |PINPA #0#0;
          |PINDA #0#0;
          |ENDATOS #1#0;
          |SI FSalida = 0;
               #3#0 = #0#0;
               #3#1 = #0#1;
               #3#2 = #0#2;
               #3#3 = #0#3;
               #3#4 = #0#4;
               #3#5 = #0#5;
               |GRABA 020#3b;
          |FINSI;
     |FINSI;
     |CIERRA #3;
|FPRO;
