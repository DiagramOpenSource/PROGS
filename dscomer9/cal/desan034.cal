|FICHEROS;
     desan034 #0;
     agifa017 #17;
     agifa019 #19;
     desan027 #27;
     dsm00043 #43;
     dsm00044 #44;
|FIN;

|VARIABLES;
     &enForma = 0;
     &Tempo = "";
     aPrv = "";
     nHay = 0;
     i = 0;
     {-1}aMenu = "";
     aMenu1 = "2400";
     aMenu2 = "1";
     aMenu3 = "Opciones:  ";
     aMenu4 = "RAC";
     aMenu5 = " Repasar ";
     aMenu6 = " Aceptar ";
     aMenu7 = " Cancelar ";
     aSerie = "";
     nLin = 0;
     nNum = 0;
|FIN;

|PROCESO Tmp;
     #27#0 = #0#0;
     |LEE 121#27=;
     |SI FSalida = 0;
          #27#28 = "E";
          |GRABA 020#27a;
          |LIBERA #27;
     |FINSI;

     |SI nLin = 0; |O nLin > 99999;
          nLin = 0;
          #43#4 = aSerie;
          #43#0 = 999999;
          |LEE 000#43];
          |SI FSalida = 0;
               |LEE 000#43a;
          |SINO;
               |LEE 000#43u;
          |FINSI;
          |SI FSalida = 0; |Y #43#4 = aSerie;
               nNum = #43#0 + 1;
          |SINO;
               nNum = 1;
          |FINSI;
          |DDEFECTO #43;
          #43#0 = nNum;
          #43#2 = "GARANTIA PROVEEDOR";
          #43#4 = aSerie;
          |GRABA 020#43b;
     |FINSI;

     nLin = nLin + 1;

     |DDEFECTO #44;
     #44#0 = #27#5;
     #44#1 = 1;
     #44#2 = #27#6;

     |ABRE #19;
     #19#0 = #44#0;
     |LEE 000#19=;
     |CIERRA #19;
     |ABRE #17;
     #17#0 = #44#0;
     #17#1 = #44#1;
     |LEE 000#17=;
     |CIERRA #17;

     #44#3 = #17#39;
     #44#4 = 1;
     #44#5 = #43#1;
     #44#6 = #19#6;
     #44#7 = "S";
     #44#8 = nLin;
     #44#18 = #43#0;
     #44#19 = #17#5;
     #44#20 = #19#104;
     #44#21 = #43#4;
     #44#26 = #19#133;
     |GRABA 020#44n;
     enForma = 1;
     |HAZ AcumulaES_SS;

|FPRC;

|DEFBUCLE Tmp;
     #0#1;
     31;
     000000, "*";
     999999, "*";
     ;
     NULL, Tmp;
|FIN;

|PROCESO Tecla; |TIPO 0;
     |SI #0Campo = Contenido;
          |SI #0#31 = "*";
               #0#31 = "";
          |SINO;
               #0#31 = "*";
          |FINSI;
          |GRABA 020#0a;
     |FINSI;
|FPRC;

|PROCESO Carga;
     |PARA i = 0; |SI i [ 30; |HACIENDO i = i + 1;
          #0i = #27i;
     |SIGUE;
     |GRABA 020#0n;
     nHay = 1;
|FPRC;

|DEFBUCLE Carga;
     #27#2;
     28;
     aPrv, "A";
     aPrv, "A";
     ;
     NULL, Carga;
|FIN;

|PROCESO Min;
     #0#0 = 0;
|FPRC;

|PROCESO Max;
     #0#0 = 999999;
|FPRC;

|PROGRAMA;
     |CLS;
     |PINPA #0#0;
     |ENTLINEAL #1#0, 1, 7, 22, 0, Min, Max;
     |ENCAMPO #8#0;
     |SI FSalida = 0;
          |HAZ CreaTempo; |NOME_DAT #0 Tempo; |DELINDEX #0;

          aPrv = #0#8;
          |ABRE #0;
          |BUCLE Carga;
          |CIERRA #0;
          |SI nHay = 0;
               |MENAV "0000No hay garantias pendientes...";
          |SINO;
               |PARA; |SI; |HACIENDO;
                    |ENTLINEAL #1#0, 1, 4, 22, 0, Min, Max;
                    |MENU aMenu;
                    aMenu2 = FSalida;
                    |SI aMenu2 ! 1; |SAL; |FINSI;
               |SIGUE;
               |SI aMenu2 = "2";
                    aSerie = "GAR  ";
                    |ABRE #43;
                    |ABRE #44;
                    |ABRE #27;
                    |BUCLE Tmp;
                    |CIERRA #27;
                    |CIERRA #44;
                    |CIERRA #43;
               |FINSI;
          |FINSI;

          |HAZ BoraTempo; |DELINDEX #0;
     |FINSI;
|FPRO;
