|VARIABLES;
     &enAprobacion  = 0;
     &eaPrograma    = "";

     aBass = "";
     aCR = "";
     aLF = "";
     aCadena = "";
     nHandle = 0;
     aFichero = "";
     aAlfa = "";
|FIN;

|PROCESO DSARCHI_INI;
     enAprobacion = 0;

     |DBASS aBass;  |QBF aBass;
     aFichero = aBass + "dsarchi/dsarchi.ini";
     |XABRE "AB", aFichero, nHandle;
     |SI FSalida < 0;  |ACABA;  |FINSI;

     aCR        = &10;
     aLF        = &13;
     aCadena    = "";

     |XLEE nHandle, 1, aAlfa;
     |PARA; |SI FSalida > 0; |HACIENDO;
            |SI aAlfa = aCR;
                |SI aCadena = eaPrograma;
                    enAprobacion = 1;
                    |SAL;
                |FINSI;

                aCadena = "";
            |SINO;
                |SI aAlfa ! aLF;
                    aCadena = aCadena + aAlfa;
                |FINSI;
            |FINSI;
            |XLEE nHandle, 1, aAlfa;
     |SIGUE;

     ||PARA QUE DETECTE TB. SI NO SE TERMINA LA LINEA
     |SI aCadena = eaPrograma;
          enAprobacion = 1;
     |FINSI;

     |XCIERRA nHandle;
|FPRC;
