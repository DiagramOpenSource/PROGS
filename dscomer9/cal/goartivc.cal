|FICHEROS;
     goartivc #0;        ||Fichero de artidas
     agifa024 #10;
     goartive #11;
     goartivh #1;
|FIN;
-----------------------------------------------------------------------------
|VARIABLES;
     aAlfa          = "";
     nMod           = 0;
     nSal           = 0;
     qSal           = 0;
     &cCodMonBase   = "";
     &cDesMonBase   = "";
     &cCodMonTrab   = "";
     &cDesMonTrab   = "";
     &nDeci_PBase   = 4;
     &nDeci_TBase   = 4;
     &nDeci_PTrab   = 4;
     &nDeci_TTrab   = 4;
     &nDeci_TotVis  = 4;
     &nDeci_Incr    = 0;
     &nEurComTrab   = 0;
     &nEurComBase   = 0;
     &nEurVenTrab   = 0;
     &nEurVenBase   = 0;
     &cCodigo       = "";
     &cDesc         = "";
     &eaCodigo      = "";
     cDesco         = "";
     nModo          = 0;
     nBotAmpli      = 0;
     nBotFamilia    = 0;
     nBotSubFam     = 0;
     nBotCapitulo   = 0;
     nBotGenera     = 0;
|FIN;
-----------------------------------------------------------------------------

|PROCESO vercliente;  |TIPO 66;
     |ABRE #10;
     |LEE 000#10p;
     |CONSULTA_CLAVE #1#10;
     |SI FSalida = 0;
          #0#17 = #10#0;
          |PINTA #0#17;
     |FINSI;
     |CIERRA #10;
|FPRC;

|PROCESO sacacliente; |TIPO 0;
     |ABRE #10;
     #10#0 = #0#17;
     |LEE 000#10=;
     |SI FSalida = 0;
          #0#17 = #10#0;
          #0#18 = #10#1;
          |PINTA #0#17;
          |PINTA #0#18;
     |SINO;
          |ERROR;
     |FINSI;
     |CIERRA #10;
|FPRC;

|PROCESO sacaparti; |TIPO 0;
     |ABRE #11;
     #11#0 = #0#0;
     |LEE 000#11=;
     |SI FSalida = 0;
          #0#1  = #11#1;
          #0#2  = #11#2;
          #0#3  = #11#3;
          #0#4  = #11#4;
          #0#5  = #11#5;
          #0#6  = #11#6;
          #0#7  = #11#7;
          #0#8  = #11#8;
          #0#9  = #11#9;
          #0#10 = #11#10;
          #0#11 = #11#11;
          #0#12 = #11#12;
          #0#13 = #11#13;
          #0#14 = #11#14;
          #0#15 = #11#15;
          #0#16 = #11#16;
          #0#19 = #11#15;
          |PINTA #0#0;
          |PINTA #0#1;
          |PINTA #0#2;
          |PINTA #0#3;
          |PINTA #0#4;
          |PINTA #0#5;
          |PINTA #0#6;
          |PINTA #0#7;
          |PINTA #0#8;
          |PINTA #0#9;
          |PINTA #0#10;
          |PINTA #0#11;
          |PINTA #0#12;
          |PINTA #0#13;
          |PINTA #0#14;
          |PINTA #0#15;
          |PINTA #0#16;
          |PINTA #0#19;
     |SINO;
          |ERROR;
     |FINSI;
     |CIERRA #11;
|FPRC;

|PROCESO MonTraArt; |TIPO 7;
     cCodMonTrab = #0#5;
     |HAZ MonBas;
|FPRC;

|PROCESO calcupre; |TIPO 0;
     |SI #0#15 = 0; |O #0#20 = 0; |ACABA; |FINSI;
     #0#19 = (#0#15 > #0#20) ! nDeci_TTrab;
     |PINTA #0#19;
|FPRC;

|PROCESO calcucos; |TIPO 0;
     |SI #0#19 ! Contenido;
        #0#20 = (((#0#19 - #0#15) * 100 ) / #0#15);
        |PINTA #0#20;
     |FINSI;
|FPRC;

|PROCESO tipo2; |TIPO 2;
     qSal = 0 +. 1;
     |SI qSal > 0;
          |ABRE #1;
          |DDEFECTO #1;
          #1#0 = #0#17; ||Cliente.
          #1#1 = #0#0;  ||Partida.
          #1#2 = #0#21; ||Fecha Operacion.
          |LEE 101#1=;
          nSal = FSalida;
          #1#3 = #0#5;
          #1#4 = #0#15;
          #1#5 = #0#19;
          #1#6 = #0#20;
          |SI nSal = 0; |GRABA 020#1a; |FINSI;
          |SI nSal ! 0; |GRABA 020#1n; |FINSI;
          |LIBERA #1;
          |CIERRA #1;
     |FINSI;
|FPRC;

|PROCESO tipo20; |TIPO 20;
     |SI FSalida = "OPCION";
          FSalida = "Historico";
          |ACABA;
     |FINSI;
     aAlfa = #0#17; |QBF aAlfa; |SI aAlfa = ""; |ACABA; |FINSI;
     aAlfa = #0#0;  |QBF aAlfa; |SI aAlfa = ""; |ACABA; |FINSI;

     |PUSHV 0501 2380;
     |ENTLINEAL #1#1, -3 , 4 , 22 , 1 , inf1 , sup1;
     |POPV;
|FPRC;

|RUTINA inf1;
     #1#0 = #0#17;
     #1#1 = #0#0;
     #1#2 = "01.01.0000";
|FRUT;
|RUTINA sup1;
     #1#0 = #0#17;
     #1#1 = #0#0;
     #1#2 = "31.12.2300";
|FRUT;
