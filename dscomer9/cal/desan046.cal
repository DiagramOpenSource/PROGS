|FICHEROS;
     desan046 #0;
     dsm00043 #43;
     dsm00044 #44;
|FIN;

|VARIABLES;
     nPrime = 0;
     nImpre = -1;
     nInfor = -1;
|FIN;

|PROCESO Listar;
     |SI nPrime = 0;
          nPrime = 1;
          |IMPRE 0;
          nImpre = FSalida;
          |SI FSalida = 0;
               |INFOR "desan046";
               nInfor = FSalida;
          |FINSI;
     |FINSI;
     |SI nInfor = 0; |PRINT; |FINSI;
|FPRC;

|PROCESO Cabecera;
     |DDEFECTO #43;
     #43#4 = #44#21;
     #43#0 = #44#18;
     #43#1 = #44#5;
     |GRABA 020#43n;
|FPRC;

|PROCESO dsm00044;
     #43#4 = #44#21;
     #43#0 = #44#18;
     |LEE 000#43=;
     |SI FSalida ! 0;
          |SI #0#0 = "S"; |HAZ Listar; |FINSI;
          |SI #0#1 = "S"; |HAZ Cabecera; |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE dsm00044;
     #44#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, dsm00044;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |ABRE #43;
     |BUCLE dsm00044;
     |CIERRA #43;
     |SI nInfor ! 0; |PIEINF; |FININF; |FINSI;
     |SI nImpre ! 0; |FININF; |FINSI;
|FPRC;
