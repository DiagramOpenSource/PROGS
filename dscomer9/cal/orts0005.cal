|FICHEROS;
     orts0005 #0;
     agifa010 #1;
     agifa007 #40;
|FIN;

|VARIABLES;
     sw1 =0;
     lin = 0;
     sw = 0;
     desde = "                              ";
     hasta = "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzz";
     informe = "";
     informe1 = "orts0005";
     etiq = 1;
     nombre = "";
     &num_eti = 0;
     &nombre1 = "";
     &direc1 = "";
     &pobla1 = "";
     &provi1 = "";
     &etiqueta1 = 0;
     &bultos1 = 0;
     &serie1 = "";
     &factura1 = "";
     &fecha1 = "";
     &agen1  = "";
     &agen2  = "";
     &nombre2 = "";
     &direc2 = "";
     &pobla2 = "";
     &provi2 = "";
     &etiqueta2 = 0;
     &bultos2 = 0;
     &serie2 = "";
     &factura2 = "";
     &fecha2 = "";
     &cpos1= "";
     &cpos2= "";
|FIN;

|CALCULO albencon;|TIPO 0;
     |ERROR;
|FCAL;

|CALCULO albenpr1;|TIPO 0;
     |SI #1#2 = 0;
          |ERROR;
     |SINO;
          |HAZ mirainf;
          |INFOR informe;
          |SI FSalida ! 0; |ERROR; |ACABA; |FINSI;
          |PARA etiq = 1;|SI etiq [ #1#2;|HACIENDO etiq = etiq + 1;
               |SI etiq [ #1#2;
                         lin = lin + 1;
                    |SI lin = 1;
                         |HAZ carga1;
                         sw1 = 1;
                    |FINSI;

                    |SI lin = 2;
                         |HAZ carga2;
                         |PRINT;
                         |PIEINF;
                         |HAZ descarga;
                         lin = 0;
                         sw1  = 0;
                    |FINSI;
               |FINSI;
         |SIGUE;
         |SI lin = 2;
             etiqueta2=0;
             |PRINT;
             |PIEINF;
         |FINSI;
             |FININF;
     |FINSI;
|FCAL;

|CALCULO albenpr2;|TIPO 0;
     etiq = 1;
|FCAL;

|DEFBUCLE calalben0;
     #1#2;
     43;
     #0#0 ,#0#4, #0#6, #0#2, "N";
     #0#1 ,#0#5, #0#7, #0#3, "N";
     be;
     NULL,albenpr1;
|FIN;

|CALCULO alben;|TIPO 3;
|IMPRE 1;
|SI 0 = FSalida;
         |BUCLE calalben0;
         |HAZ mirainf;
         |INFOR informe;
         |PRINT;
         |PIEINF;
         |FININF;
     |FINIMP;
|FINSI;
|FCAL;


|CALCULO carga1;
cpos1= #1#62;
nombre = #1#29;
|QBF nombre;
|SI nombre = "";
   nombre1 = #1#4;
|SINO;
   nombre1 = #1#29;
|FINSI;
direc1 = #1#30;
pobla1 = #1#31;
provi1 = #1#33;
etiqueta1 = etiq;
bultos1 = #1#2;
factura1 = #1#0;
fecha1 = #1#1;
agen1 = #1#6;
serie1 = #1#52;
|FCAL;


|CALCULO carga2;
cpos2  = #1#62;
provi2 = #1#33;
serie2 = #1#52;
nombre = #1#29;
|QBF nombre;
|SI nombre = "";
   nombre2 = #1#4;
|SINO;
   nombre2 = #1#29;
|FINSI;
direc2 = #1#30;
pobla2 = #1#31;
provi2 = #1#33;
etiqueta2 = etiq;
bultos2 = #1#2;
factura2 = #1#0;
fecha2 = #1#1;
agen2= #1#6;
|FCAL;


|CALCULO descarga;
nombre1   = "";
direc1    = "";
pobla1    = "";
provi1    = "";
etiqueta1 = 0;
bultos1   = 0;
serie1    = "";
factura1  = 0;
fecha1    = "";
cpos1 = "";
cpos2 = "";
nombre2   = "";
direc2    = "";
pobla2    = "";
provi2    = "";
etiqueta2 = 0;
bultos2   = 0;
serie2    = "";
factura2  = 0;
fecha2    = "";
|FCAL;

|PROCESO mirainf;
     |ABRE #40;
     #40#26 = #1#52;
     |LEE 001#40=;
     |SI FSalida = 0;
          informe = #40#13; |QBF informe;
     |SINO;
          informe = informe1;
     |FINSI;
     |CIERRA #40;
|FPRC;
