|FICHEROS;
     evarz004 #0;
     agifa104 #1;
     agifa073 #2;
     agifa024 #3;
     evarm004 #4;
     evarm006 #29; || Impresos Especiales.
|FIN;

|VARIABLES;
     informe = "";
     aAlfa = "";
|FIN;

|CALCULO imprelim1;
     #4#30 = #2#28; ||serie
     #4#31 = #2#0; ||numero
     #4#32 = #2#1; ||linea
     |LEE 000#4=;
     |SI FSalida ! 0;|DDEFECTO #4;|FINSI;
     |PRINT;
|FCAL;

|CALCULO pedimpr1;|TIPO 0;
     #3#0 = #1#4;
     |LEE 021#3=; |SI 0 ! FSalida; |DDEFECTO #3; |FINSI;

     informe = "evapedi";
     #29#0 = #1#25;
     |LEE 000#29=;
     |SI 0 = FSalida;
          informe = #29#20;
     |FINSI;

     |SI #0#8 = "2";
          informe = "evapedu";
     |FINSI;

     |QBT informe;
     |INFOR informe;
     |SI 0 = FSalida;
          |BUCLELIN 2imprelim1#1;
          |PIEINF;
          |FININF;
     |SINO;
          aAlfa = "0000Error en informe '" + informe + "'";
          |MENAV aAlfa;
     |FINSI;
|FCAL;

|DEFBUCLE 0;
     #1#1;
     1,4;
     #0#6 , #0#2 , #0#4 , #0#0;
     #0#7 , #0#3 , #0#5 , #0#1;
     ;
     NULL, pedimpr1;
|FIN;

|CALCULO pedim;|TIPO 3;
     |ABRE #3;
     |IMPRE 1;
     |SI 0 = FSalida;
          |ABRE #4;
          |ABRE #29;
          |BUCLE 0;
          |CIERRA #4;
          |CIERRA #29;
          |FINIMP;
     |FINSI;
     |CIERRA #3;
|FCAL;
