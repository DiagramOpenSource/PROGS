|FICHEROS;
  agitp002 #0;
  agitp001 #1;
  agifa112 #2;
  agifa142 #42;
|FIN;

|VARIABLES;
     &eaArticulo = "";
 sw = 0;
 informe = "";
 inform1 = "agitp102";
 inform2 = "agitp202";
 inform3 = "agitp302";
 inform4 = "agitp402";
 c_art = "";
 c_pro = "";
|FIN;

|| *************************************************************************
|| *********************** PROCESO DE PANTALLA
|| *************************************************************************

|PROCESO defec42; |TIPO 8;
     |ABRE #42;
     |DDEFECTO #42;       ||Miro los decimales en parametros generales
     #42#0 = "A";
     |LEE 001#42=;
     |CIERRA #42;
|FPRC;

|PROCESO pr_decim; |TIPO 0;
  #0Campo = #0Campo ! #42#9;
  |PINTA #0Campo;
|FPRC;

|PROCESO mayus; |TIPO 0;
  #0Campo = #0Campo > " ";
  |PINTA #0Campo;
|FPRC;

|| **************************************************************************
|PROCESO leeprov;
 |ABRE #2;
 #2#0 = #1#0;
 |LEE 001#2=;
 |SI FSalida ! 0;
     #2#1 = "NO EXISTE PROVEEDOR ";
 |FINSI;
 |CIERRA #2;
|FPRC;

|PROCESO imp_prov;
 |SI #1#3 < #0#4; |O #1#3 > #0#5;
     |ACABA;
 |FINSI;
 |SI sw = 0;
     sw = 1;
     c_pro = #1#0;
     |HAZ leeprov;
 |FINSI;
 |SI c_pro ! #1#0;
     |SI #0#7 = "S";
         |PIEINF;
     |FINSI;
     c_pro = #1#0;
     |HAZ leeprov;
 |FINSI;
 |PRINT;
|FPRC;

|DEFBUCLE porprove;
 #1#1;
 ;
 #0#0, #0#2;
 #0#1, #0#3;
 e;
 NULL, imp_prov;
|FIN;

|PROCESO imp_arti;
 |SI #1#3 < #0#4; |O #1#3 > #0#5;
     |ACABA;
 |FINSI;
 |SI sw = 0;
     sw = 1;
     c_art = #1#1;
 |FINSI;
 |SI c_art ! #1#1;
     |SI #0#7 = "S";
         |PIEINF;
     |FINSI;
     c_art = #1#1;
 |FINSI;
 |HAZ leeprov;
 |PRINT;
|FPRC;

|DEFBUCLE porartic;
 #1#2;
 ;
 #0#2, #0#0;
 #0#3, #0#1;
 e;
 NULL, imp_arti;
|FIN;

|| **************************************************************************
|PROCESO imprimir; |TIPO 3;
 |IMPRE 0;
 |SI FSalida ! 0; |ACABA; |FINSI;
 |SI #0#6 = "P";
     informe = inform1;
     |SI #0#7 = "S"; informe = inform3; |FINSI;
 |SINO;
     informe = inform2;
     |SI #0#7 = "S"; informe = inform4; |FINSI;
 |FINSI;
 |INFOR informe;
 |SI FSalida ! 0;
     |FINIMP;
     |ACABA;
 |FINSI;

 sw = 0;
 |SI #0#6 = "P"; |BUCLE porprove; |FINSI;
 |SI #0#6 = "A"; |BUCLE porartic; |FINSI;
 |SI sw = 1;
     |PIEINF;
||     |SI #0#7 = "N"; |PIEINF; |FINSI;
||     |SI #0#7 = "S"; |HAZ fininfor; |FINSI;
 |FINSI;
 |FININF;
 |FINIMP;
|FPRC;

|PROCESO Llena002; |TIPO 6;
     eaArticulo = #0Campo;
     |HAZ LlenaArticulo;
     |SI FSalida = 0;
          #0Campo = eaArticulo;
          |PINTA #0Campo;
     |SINO;
          |ERROR; |ACABA;
     |FINSI;
|FPRC;
