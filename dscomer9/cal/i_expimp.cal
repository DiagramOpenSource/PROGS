|FICHEROS;
     origen@ #1;
     destin@ #2;
|FIN;

|VARIABLES;
     ||컴컴컴컴컴컴컴훆alores de Entrada
     aFicOrg   = "";
     aFicDes   = "";
     aPath     = "";
     ||컴컴컴컴컴컴컴훆alores de Salida
     nCampos   = 0;

     aAlfa     = "";
     aDef      = "";
     aDef1     = "";
     aDef2     = "";
|FIN;

|PROCESO CargaDef;
     |DDEF aDef;
     aDef1 = aDef + "/" + aFicOrg;
     |CARGA_DEF aDef1, origen@;
     |SI FSalida = 0;
          aDef2 = aDef + "/" + aFicOrg;
          |CARGA_DEF aDef2, destin@;
          |SI FSalida ! 0;
               aAlfa = "0000 Error al cargar " + aDef2;
               |MENAV aAlfa;
               aDef2 = "";
          |FINSI;
     |SINO;
          aAlfa = "0000 Error al cargar " + aDef1;
          |MENAV aAlfa;
          aDef1 = "";
     |FINSI;
|FPRC;

|PROCESO DescargaDef;
     |SI aDef1 ! ""; |DESCARGA_DEF #destin@; |FINSI;
     |SI aDef2 ! ""; |DESCARGA_DEF #origen@; |FINSI;
|FPRC;

|PROCESO NomeDatFicExp;
     |NOME_DAT #2 aFicDes;
     |PATH_DAT #2 aPath;
     |DELINDEX #2;
|FPRC;

|PROCESO NomeDatExpFic;
     |NOME_DAT #1 aFicOrg;
     |PATH_DAT #1 aPath;
|FPRC;

|PROCESO FicExp;
     |HAZ CargaDef;
     |SI FSalida = 0;
          aAlfa = "|NC";
          aAlfa = #1#aAlfa#;
          nCampos = aAlfa; nCampos = nCampos - 1;

          |HAZ NomeDatFicExp;
          |ABRE #2;
          |ABRE #1;
          |HAZ BFicExp;
          |CIERRA #1;
          |CIERRA #2;
     |FINSI;
     |HAZ DescargaDef;
|FPRC;

|PROCESO ExpFic;
     |HAZ CargaDef;
     |SI FSalida = 0;
          aAlfa = "|NC";
          aAlfa = #1#aAlfa#;
          nCampos = aAlfa; nCampos = nCampos - 1;

          |HAZ NomeDatExpFic;
          |ABRE #2;
          |ABRE #1;
          |HAZ BExpFic;
          |CIERRA #1;
          |CIERRA #2;
     |FINSI;
     |HAZ DescargaDef;
|FPRC;
