|FICHEROS;
     diaz0012 #0;

     canempr@ #100;
     caconas@ #101;
     caenlac@ #102;
     camandi@ #103;
     caconce@ #104;
|FIN;

|VARIABLES;
     aAlfa     = "";
     aDirCont  = "";
|FIN;

|PROCESO MiraEmpresa;
     |SI FSalida = 2; |ACABA; |FINSI;

     |SI FSalida = 10;
         #canempr@#2 = #0#5;
         #canempr@#3 = #0#6;
         |LEE 000#canempr@.];
         |CONSULTA_CLAVE #1#canempr@;
         #0#5 = #canempr@#2; |PINTA #0#5;
         #0#6 = #canempr@#3; |PINTA #0#6;
         |PINTA 1520, #canempr@#1;
         |SI Campo = 5; |ERROR; |ACABA; |FINSI;
     |FINSI;

     |SI Campo = 5; |ACABA; |FINSI;

     #canempr@#2 = #0#5;
     #canempr@#3 = #0#6;
     |LEE 000#canempr@.=;
     |SI FSalida ! 0;
         |MENAV "    Empresa inexistente ";
         |ERROR;
     |SINO;
         |PINTA 1520, #canempr@#1;
     |FINSI;
|FPRC;

|PROCESO Tipo3;  |TIPO 3;
     |DBASS aDirCont;  |QBF aDirCont;
     aDirCont = aDirCont + "agicont/fich/";

     aAlfa = aDirCont + (("00000" + #0#5) % -105) + #0#6 + "/"

     |PATH_DAT #101 aAlfa;
     |PATH_DAT #102 aAlfa;
     |PATH_DAT #103 aAlfa;
     |PATH_DAT #104 aAlfa;

     |ABRE #caconas@;
     |ABRE #camandi@;
     |ABRE #caconce@;

     |CIERRA #caconas@;
     |CIERRA #camandi@;
     |CIERRA #caconce@;
|FPRC;

|PROGRAMA;
     |MENAV "0000 En Construccion ";
     |ACABA;


     |DBASS aAlfa; |QBF aAlfa;

     aAlfa    = aAlfa + "agicont/";
     aDirCont = aAlfa;
     aAlfa    = aDirCont + "def/canempre.mas";
     |CARGA_DEF aAlfa, canempr@;
     |SI FSalida ! 0; |ACABA; |FINSI;

     aAlfa = aDirCont + "def/caconasi.mas"; |CARGA_DEF aAlfa, caconas@;
     aAlfa = aDirCont + "def/caenlace.mas"; |CARGA_DEF aAlfa, caenlac@;
     aAlfa = aDirCont + "def/camandia.mas"; |CARGA_DEF aAlfa, camandi@;
     aAlfa = aDirCont + "def/caconcep.mas"; |CARGA_DEF aAlfa, caconce@;

     aAlfa = aDirCont + "fich/";
     |PATH_DAT #100 aAlfa;
     |ABRE #canempr@;

     |CLS;
     |CABEZA "Contabilizacion de Comisiones";

     |ABRE #0;
     |LEE 101#0=;
     |SI FSalida ! 0;
         |DDEFECTO #0;
         |GRABA 020#0b;
     |FINSI;

     |PDEFECTO #0, 1, 5;

     |ENDATOS #1#0;
     |SI FSalida = 0;
         |PDEFECTO #0, 1, 5;
         |GRABA 020#0a;
     |FINSI;
     |LIBERA #0;
     |CIERRA #0;

                        |DESCARGA_DEF #caconce@;
                        |DESCARGA_DEF #camandi@;
                        |DESCARGA_DEF #caenlac@;
                        |DESCARGA_DEF #caconas@;
     |CIERRA #canempr@; |DESCARGA_DEF #canempr@;
|FPRO;
