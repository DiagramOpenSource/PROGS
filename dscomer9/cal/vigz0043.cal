|FICHEROS;
     vigz0043 #0;
     vigm0001 #1;
     vigm0019 #19;
     vigm0020 #20;
     vigm0002 #2;
     vigm0003 #3;
|FIN;

|VARIABLES;
     &enKgMezcla = 0;
     &enPorce = 0;
     &enPreMezcla = 0;
     nUni = 0;
     nNume = 0;
|FIN;

|PROCESO vigm0003;
     |SI #3#6 ] #0#2; |Y #3#6 [ #0#3;
          enKgMezcla = #3#4 * enPorce / 100;
          |PRINT;
     |FINSI;
|FPRC;

|DEFBUCLE vigm0002;
     #2#2;
     ;
     #20#10;
     #20#10;
     ;
     NULL, NULL, vigm0003;
|FIN;

|PROCESO vigm0020;
     nUni = (#20#4 / 2000);
     nNume = nUni ! 0;
     |SI nNume ! nUni;
          |SI nNume < nUni;
               nNume = nNume + 1;
          |FINSI;
          nUni = nNume;
     |FINSI;

     enPreMezcla = nUni;
     enPorce = #20#4 / 2000 * 100 / enPreMezcla;

     |DDEFECTO #1;
     #1#0 = #20#2;
     |LEE 000#1=;
     |BUCLE vigm0002;
|FPRC;

|DEFBUCLE vigm0019;
     #19#2;
     ;
     #0#0, "     ", 000001;
     #0#1, "zzzzz", 999999;
     ;
     NULL, NULL, vigm0020;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "vigz0043";
          |SI FSalida = 0;
               |ABRE #1;
               |BUCLE vigm0019;
               |CIERRA #1;
               |CIERRA #2;
               |PIEINF;
               |FININF;
          |SINO;
               |MENAV "0000Error en informe 'vigz0043'";
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;
