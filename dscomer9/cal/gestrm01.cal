|FICHEROS;
     gestrm01 #0;
     coima001 #1;
     coima002 #2;
     gestrm15 #15;
     agifa142 #142;
|FIN;

|VARIABLES;
     &enCtrFin = 0;
     nCampo = 0;
     aAlfa = "";
     aClave = "";
     i = 0;
     nPanta0 = 0;
     nPanta1 = 0;
     nPanta2 = 0;
     nPanta3 = 0;
     nEvento2 = 0;
     nEvento3 = 0;
     nId = 0;
     nGrid = 0;
     nRango = 0;
 {-1}aVent = "";
     aVent1 = 0;
     aVent2 = 0;
     aVent3 = 0;
     aVent4 = 0;
     aVent5 = "";
     nVentana = 0;
|FIN;

|PROCESO UsuPrecio; |TIPO 0;
     |SI #0#44 = "S"; |Y FSalida = 0;
          |VENTANA 1034, 2564, -1, 17, "Usuarios que actualizan precios";
          nVentana = FSalida;

          aVent1 = -1;
          aVent2 = -1;
          aVent3 = 0;
          aVent4 = nVentana;
          aVent5 = "MODAL";
          |ESPECIFICA "ESTADO_VENTANA", aVent;

          |ABRE #15;
          nRango = 1 + 4 + 8 + 16 + 32;
          |LINEAL_SIMPLE #1#15, nRango, 1136, 2363, NULL, NULL, NULL;
          nGrid = FSalida;
          enCtrFin = nGrid; |HAZ EsperaFin;
          |DESTRUYECONTROL nGrid;
          |CIERRA #15;

          aVent1 = -1;
          aVent2 = -1;
          aVent3 = 0;
          aVent4 = nVentana;
          aVent5 = "MODELESS";
          |ESPECIFICA "ESTADO_VENTANA", aVent;

          |FINVENTANA nVentana;
          |PULSATECLA;
     |FINSI;
|FPRC;

|PROCESO Clave7; |TIPO 7;
     #0#26 = aClave;
|FPRC;

|PROCESO Clave0; |TIPO 0;
     aClave = #0#26;
     #0#26 = "********"; |PINTA #0#26;
|FPRC;

|PROCESO Carpeta; |TIPO 0;
     |SI FSalida = 10;
          aAlfa = "DSeleccione carpeta recogida Falcon";

          |BROWSE aAlfa;

          aAlfa = aAlfa % 2; |QBF aAlfa;
          |SI aAlfa = "D"; aAlfa = ""; |FINSI;

          |QBF aAlfa;
          |SI aAlfa = "";
               |ERROR;
          |SINO;
               #0#20 = aAlfa;
               |PINTA #0#20;
          |FINSI;
     |FINSI;
|FPRC;


|PROCESO Min2;
     #2#0 = #0nCampo;
     #2#1 = 0;
|FPRC;

|PROCESO Max2;
     #2#0 = #0nCampo;
     #2#1 = 99;
|FPRC;

|PROCESO Tipo66; |TIPO 66;
     nCampo = Campo + 6;
     |ABRE #2;
     #2#0 = #0nCampo;
     #2#1 = #0Campo;
     |LEE 000#2];
     |CONSULTA_F_CLAVE #1#2, Min2, Max2;
     |SI FSalida = 0;
          #0Campo = #2#1; |PINTA #0Campo
     |SINO;
          |ERROR;
     |FINSI;
     |CIERRA #2;
|FPRC;

|PROCESO Evento2;
     aAlfa = "|C021WID";
     aAlfa = #0#aAlfa#;
     nId = aAlfa;
     |FOCOTECLADO nId;
|FPRC;

|PROCESO Evento3;
     aAlfa = "|C038WID";
     aAlfa = #0#aAlfa#;
     nId = aAlfa;
     |FOCOTECLADO nId;
|FPRC;

|PROGRAMA;
     |CLS;
     |ABRE #0;
     |LEE 101#0p;
     |SI FSalida ! 0; |GRABA 020#0b; |FINSI;
     aClave = #0#26;
     #0#26 = "********";

     |PINPA #0#0; nPanta0 = FSalida;
     |PINPA #1#0; nPanta1 = FSalida;
     |PINPA #2#0; nPanta2 = FSalida;
     |PINPA #3#0; nPanta3 = FSalida;
     |PINDA #1#0;
     |PINDA #2#0;
     |PINDA #3#0;

     |CONTROL_SIMPLE nPanta2, "EVENTOPAN", 0000, 0000, Evento2;
     nEvento2 = FSalida;
     |CONTROL_SIMPLE nPanta3, "EVENTOPAN", 0000, 0000, Evento3;
     nEvento3 = FSalida;

     |ENDATOS #1#0;
     |SI FSalida = 0;
          #0#26 = aClave;
          |GRABA 020#0a;
     |FINSI;
     |CIERRA #0;

     |ABRE #1;
     |LEE 101#1p;
     |SI FSalida ! 0; |GRABA 020#1b; |FINSI;
     |PARA i = 0; |SI i [ 28; |HACIENDO i = i + 1;
          #1i = #0i;
     |SIGUE;
     |GRABA 020#1a;
     |CIERRA #1;

     |ABRE #142;
     |LEE 101#142p;
     |SI FSalida ! 0; |GRABA 020#142b; |FINSI;
     #142#227 = #0#15;
     |GRABA 020#142a;
     |CIERRA #142;

     |FIN_CONTROL_WINDOWS nEvento2;
     |FIN_CONTROL_WINDOWS nEvento3;
|FPRO;
