|FICHEROS;
     con00628 #0;
     con00606 #606;
     dsm00025 #25;
     con00008 #8;
     con00626 #626;
|FIN;

|VARIABLES;
     &eaArticulo = 0;
     &eaMenErr = "";
     aAlfa = "";
     nUni = 0;
|FIN;

|PROCESO Defe628; |TIPO 0;
     |HAZ ModiCampos628;
     |SI #0Campo ! Contenido;
          |ABRE #606;
          #606#0 = #0#0;
          |LEE 020#606=;
          |CIERRA #606;
          #0#1 = #606#1;  ||Des
          #0#3 = #606#2; ||Precio
          #0#9 = #606#3; ||Coste Unitario
          #0#12 = #606#3;||Coste Taller

          |PINTA #0#1;
          |PINTA #0#3;
          |PINTA #0#12;
          |HAZ totalser;
     |FINSI;
|FPRC;

|PROCESO totalser;
     |ABRE #606;
     #606#0 = #0#0;
     |LEE 020#606=;
     |CIERRA #606;
     #0#9 = #606#3;        ||Coste Unitario
     #0#10 = #0#9 * #0#2;
     #0#13 = #0#12 * #0#2;

     #0#8 = #0#2 * #0#3;
     #0#5 = (#0#8 % #0#4);
     #0#6 = #0#8 - #0#5;
     #0#13 = #0#2 * #0#12;
     |PINTA #0#5;
     |PINTA #0#6;
|FPRC;

|PROCESO ModiCampos628;
     |ABRE #25;
     #25#0 = Usuario % 810;
     |LEE 000#25=;
     |SI FSalida = 0;
          |SI #25#18 = "N"; |C_M #0#3, 1, "N"; |FINSI;
          |SI #25#19 = "N"; |C_M #0#4, 1, "N"; |FINSI;
     |FINSI;
     |CIERRA #25;
|FPRC;

|PROCESO Min628;
     #8#5 = #0#17;
     #8#6 = #0#16;
     #8#0 = 000;
|FPRC;

|PROCESO Max628;
     #8#5 = #0#17;
     #8#6 = #0#16;
     #8#0 = 999;
|FPRC;

|PROCESO Tipo66_628; |TIPO 66;
     |DDEFECTO #8;
     |ABRE #8;
     #8#5 = #0#17;
     #8#6 = #0#16;
     #8#0 = #0#15;
     |LEE 000#8];
     |CONSULTA_F_CLAVE #1#8, Min628, Max628;
     |SI FSalida = 0;
          #0#15 = #8#0;  |PINTA #0#15;
     |SINO;
          |ERROR;
     |FINSI;
     |CIERRA #8;
|FPRC;

|PROCESO CogeUni7_628; |TIPO 7;
     nUni = #0Campo;
|FPRC;

|PROCESO ModUni6_628; |TIPO 6;
/*
     |SI #0Campo ! nUni; |Y eaMenErr ! "";
          |MENAV eaMenErr;
          #0Campo = nUni; |PINTA #0Campo;
     |FINSI;
*/
|FPRC;

|PROCESO Obs628; |TIPO 0;
     |HAZ EsTallerSC;
     |SI FSalida = 0;
          eaArticulo = #0#0;
          |SUB_EJECUTA_NP "talle004;EXISTE";
     |FINSI;
|FPRC;
