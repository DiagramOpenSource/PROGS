               ||Cambio de codigos de Articulos
|FICHEROS;
     marhu376 #0;
     agifa019 #1;        ||Articulos
     agifa154 #20;       ||Lineas Ajuste Articulos

     marhu363 #363;      ||Tarifa Articulo (L)
     marhu326 #326;      ||Envio Tiendas (L)
     marhu323 #323;      ||Open Stock (C)
     marhu324 #324;      ||Open Stock (L)
     marhu335 #335;      ||Pedidos Reposicion L
     marhup08 #8;        ||Comis/Dto Articulo
|FIN;

|VARIABLES;
     i = 0;
     &tabla = 0;
     &sust = " ";
     &stock = " ";
     &tipo = " ";
     wdes = "";
     aCodBarras = "";
     aDesde50 = "";
     aHasta50 = "";
|FIN;

|PROGRAMA;
     aDesde50 = " " * 50;
     aHasta50 = "z" * 50;
     |HAZ bucleini;
|FPRO;

|PROCESO marhup08;
     |BORRA 021#marhup08.a;
     #marhup08#0 = #20#3;
     #marhup08#2 = #20#5;
     |GRABA 021#marhup08.n;
     |LIBERA #marhup08;
|FPRC;

|DEFBUCLE marhup08;
 #marhup08#2;
 0;
 "  ", #20#2;
 "zz", #20#2;
 be;
 NULL, marhup08;
|FIN;

|PROCESO marhu335;
     #marhu335#3 = #20#3;
     #marhu335#4 = #20#5;
     |GRABA 021#marhu335.a;
     |LIBERA #marhu335;
|FPRC;

|DEFBUCLE marhu335;
 #marhu335#1;
 3;
 00001, 000000, 001, #20#2;
 99999, 999999, 999, #20#2;
 be;
 NULL, marhu335;
|FIN;

|PROCESO marhu324_2p;
     |HAZ CodigoBarras;    ||Codigo de Barras segun nuevo cod. Articulo
     #marhu324#2 = #20#3;
     #marhu324#3 = #20#5;
     #marhu324#5 = aCodBarras;
     |GRABA 021#marhu324.a;
     |LIBERA #marhu324;
|FPRC;

|DEFBUCLE marhu324_2p;
 #marhu324#1;
 2;
 "                    ", 001, #20#2;
 "zzzzzzzzzzzzzzzzzzzz", 999, #20#2;
 be;
 NULL, marhu324_2p;
|FIN;

|PROCESO marhu324_1p;
     #marhu323#0 = #marhu324#0;
     |LEE 101#marhu323.=;
     |SI FSalida = 0;
          |BORRA 021#marhu323.a;
          #marhu323#0 = #20#3;
          #marhu323#1 = #20#3;
          |GRABA 021#marhu323.n;
          |LIBERA #marhu323;
     |FINSI;

     |BORRA 021#marhu324.a;
     #marhu324#0 = #20#3;
     |GRABA 021#marhu324.n;
     |LIBERA #marhu324;
|FPRC;

|DEFBUCLE marhu324_1p;
 #marhu324#2;
 0;
 001, "                    ", #20#2;
 999, "zzzzzzzzzzzzzzzzzzzz", #20#2;
 be;
 NULL, marhu324_1p;
|FIN;

|PROCESO marhu326;
     #marhu326#0 = #20#3;
     #marhu326#2 = #20#5;
     |GRABA 021#marhu326.a;
     |LIBERA #marhu326;
|FPRC;

|DEFBUCLE marhu326;
 #marhu326#1;
 0;
 000000, 001, #20#2;
 999999, 999, #20#2;
 be;
 NULL, marhu326;
|FIN;

|PROCESO marhu363;
     |BORRA 021#marhu363.a;
     #marhu363#1 = #20#3;
     #marhu363#2 = #20#5;
     |GRABA 021#marhu363.n;
     |LIBERA #marhu363;
|FPRC;

|DEFBUCLE marhu363;
 #marhu363#2;
 1;
 "      ", aDesde50, #20#2;
 "zzzzzz", aHasta50, #20#2;
 be;
 NULL, marhu363;
|FIN;

|PROCESO empieza;
     #0#2 = #20#3;
     #0#5 = #20#2;
     |PINTA #0#2;
     |PINTA #0#5;
     |BUCLE marhu363;
     |BUCLE marhu326;
     |ABRE #marhu323
     |BUCLE marhu324_1p;
     |CIERRA #marhu323;
     |BUCLE marhu324_2p;
     |BUCLE marhu335;
     |BUCLE marhup08;
|FPRC;

|DEFBUCLE primero;
#20#1;
6;
tabla ,   0 , tipo;
tabla , 999 , tipo;
e;
NULL , empieza;
|FIN;

|PROCESO bucleini;
     |PINPA #0#0;
     |ABRE #agifa019;
     |BUCLE primero;
     |CIERRA #agifa019;
|FPRC;

|PROCESO CodigoBarras;
     |DDEFECTO #agifa019;
     #agifa019#0 = #20#3;
     |LEE 000#agifa019.=;
     aCodBarras = #agifa019#128;
     |QBF aCodBarras;
|FPRC;
