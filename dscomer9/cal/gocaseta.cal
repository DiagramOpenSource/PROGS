|FICHEROS;
     gocaseta #0;
     gocasfil #1;
     agifa321 #2;
     goalbpa1 #3,MANTE;
     goparame #100;
|FIN;
------------------------------------------------------------------------------
|VARIABLES;
     cUsuario       = "";

     &cCodMonBase   = "";
     &cDesMonBase   = "";
     &cCodMonTrab   = "";
     &cDesMonTrab   = "";

     &nDeci_PBase   = 0;
     &nDeci_TBase   = 0;
     &nDeci_PTrab   = 0;
     &nDeci_TTrab   = 0;
     &nDeci_TotVis  = 0;
     &nEurComTrab   = 0;
     &nEurComBase   = 0;
     &nEurVenTrab   = 0;
     &nEurVenBase   = 0;

     nModo          = 0;
|FIN;
----------------------------------------------------------------------
|PROCESO PintTota; |TIPO 7;
     |PINTA 2211, #1#13;
     |PINTA 2218, #1#14;
     |PINTA 2225, #1#15;
     |PINTA 2255, #1#16;
     |PINTA 2267, #1#17;
     |ATRI I;
     |PINTA 0567, cCodMonBase;
     |ATRI 0;
|FPRC;
-------------------------------------------------------------------------------
|PROCESO Totales;
     |SI #0#15 = "C";
          #1#13 = #1#13 + #0#16;                  ||Cantidad Cargos;
     |FINSI;
     |SI #0#15 = "A";
          #1#14 = #1#14 - #0#16;                  ||Cantidad Abonos;
     |FINSI;
     |SI #0#15 = "D";
          #1#15 = #1#15 + #0#16;                  ||Cantidad Devoluciones;
     |FINSI;
     #1#16 = #1#16 + #0#21;                       ||Total Venta Trabajo.
     #1#17 = #1#17 + #0#23;                       ||Total Coste Trabajo.
|FPRC;
-------------------------------------------------------------------------------
|DEFBUCLE Totales;
     #0#1;
     ;                                          ||Campos Extras.
     1;
     9999;
     ;                                          ||b/e Bolqueo-Ordenacion.
     NULL, Totales;
|FIN;
-------------------------------------------------------------------------------
|PROGRAMA;
     |CLS;
     |ABRE #2;
     #2#0 = "A";
     |LEE 000#2=;
     |SI FSalida = 0;
          cCodMonTrab = #2#9;
          |HAZ MonBas;
     |FINSI;
     |CIERRA #2;
     cUsuario = Usuario % 810;
     |ABRE #1;
     #1#18 = cUsuario;
     |LEE 101#1=;
     |SI FSalida ! 0;
          |GRABA 020#1c;
     |FINSI;
     |PINPA #0#0;
     |ABRE #100; |LEE 000#100p; |CIERRA #100;
     |SI #100#141 = "O";
          |ATRI R; |PINTA 907, " O.T.     "; |ATRI 0;
          |ATRI R; |PINTA 918, " O.E.     "; |ATRI 0;
     |FINSI;
     |DDEFECTO #1;
     |BUCLE Totales;
     |ENTLINEAL #1#0, 1, 2, 19, 0, MinCas, MaxCas;
     |LIBERA #1;
     |CIERRA #1;
|FPROG;
-------------------------------------------------------------------------------
|PROCESO MinCas;
     #0#0 = 1;
|FPRC;
------------------------------------------------------------------------------
|PROCESO MaxCas;
     #0#0 = 9999;
|FPRC;
------------------------------------------------------------------------------
|PROCESO ModiCas; |TIPO 3;
     nModo = (FEntrada/100)!0

     |SI nModo = 1;
          |ERROR10;
          |ACABA;
     |FINSI;

     |SI nModo = 2;
           |ABRE #3;
           #3#0 = #0#5;                                 ||Serie Albaran.
           #3#1 = #0#6;                                 ||N. Albaran.
           |LEE 000#3=;
           |SI FSalida = 0;
                |PUSHV 01012380;
                |CLS;
                |PINPA #0#3;
                |PINDA #0#3;
                |ENDATOS #2#3;
                |POPV;
           |FINSI;
           |CIERRA #3;
     |FINSI;
|FPRC;
-------------------------------------------------------------------------------
|PROCESO BajaCas; |TIPO 2;
     nModo = (FEntrada/100)!0;
     |SI nModo = 3; |Y #0#7 ! "    ";
          |MENAV "0000BAJA NO PERMITIDA EN ESTE PROCESO";
          |ERROR;
     |FINSI;
|FPRC;
-------------------------------------------------------------------------------
