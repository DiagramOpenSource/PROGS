|FICHEROS;
     dsm00026 #0;
|FIN;

|VARIABLES;
     nModo     = 0;
     num       = 0;
     total     = 0;
|FIN;

|PROCESO control;
     nModo = (FEntrada / 100) ! 0;

     |SI #0#2="N";
          |C_M #0#3,1,"N";
          |C_M #0#4,1,"N";
     |SINO;
          |C_M #0#3,1,"S";
          |C_M #0#4,1,"S";
     |FINSI;
|FPRC;

|PROCESO articulo;
     |SI #0#2="S";
          total=#0#3;
     |FINSI;

     |SI #0#5="N";
          |C_M #0#6,1,"N";
          |C_M #0#7,1,"N";
     |SINO;
          |C_M #0#6,1,"S";
          |C_M #0#7,1,"S";

          |SI nModo = 1;
               #0#6=total+1;
               |PINTA #0#6;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO unidades;
     |SI #0#5="S";
          total=total+#0#7;
     |FINSI;

     |SI #0#8="N";
          |C_M #0#9,1,"N";
          |C_M #0#10,1,"N";
          |C_M #0#11,1,"N";
           #0#11="N";
          |PINTA #0#11;
     |SINO;
          |C_M #0#9,1,"S";
          |C_M #0#10,1,"S";
          |C_M #0#11,1,"S";

          |SI nModo = 1;
               #0#9=total+1;
               |PINTA #0#9;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO peso1;
     |SI #0#11="N";
          |SI nModo = 1;
               #0#12=#0#10;
          |FINSI;
          |C_M #0#12,1,"N";
          |C_M #0#13,1,"N";
     |SINO;
          |C_M #0#12,1,"S";
          |C_M #0#13,1,"S";
     |FINSI;
|FPRC;

|PROCESO espeso;
     num=#0#12+#0#13;
     |SI num ! #0#10;
          |MENAV "0000No coinciden los digitos de Unidades 2 y los digitos de Unidades 2 como peso";
          |ERROR;
     |FINSI;
|FPRC;

|PROCESO partida;
     |SI #0#8="S";
          total=total+#0#10;
     |FINSI;

     |SI #0#14="N";
          |C_M #0#15,1,"N";
          |C_M #0#16,1,"N";
     |SINO;
          |C_M #0#15,1,"S";
          |C_M #0#16,1,"S";

          |SI nModo = 1;
               #0#15=total+1;
               |PINTA #0#15;
          |FINSI;
     |FINSI;
|FPRC;
