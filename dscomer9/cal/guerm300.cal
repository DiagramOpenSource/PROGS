|FICHEROS;
   guerm300 #0;
   goparame #10;

   Referen@ #100;
|FIN;

|VARIABLES;
   nTecla = 0;

   aAlfa  = "";
|FIN;

|PROCESO MiraCtaAn;
  nTecla = FSalida;

  |ABRE #goparame;
  |LEE 000#goparame.p;
  |SI FSalida ! 0;
     |MENAV "    Control de defectos inexistente.";
     |CIERRA #goparame; |ERROR;
  |FINSI;
  |CIERRA #goparame;

  aAlfa = #goparame#84; |QBF aAlfa;
  aAlfa = aAlfa + "def/anm00001.mas";
  |CARGA_DEF aAlfa, Referen@;
  |SI FSalida = 0;
     aAlfa = #goparame#84; |QBF aAlfa;
     aAlfa = aAlfa + "fich/" + (("00000" + #goparame#85) % -105) + #goparame#86 + "/";
     |PATH_DAT #Referen@#aAlfa#;
     |ABRE #Referen@;
     |SI nTecla = 10;
        |CONSULTA_CLAVE #1#Referen@;
        |SI FSalida = 0;
           #guerm300#2 = #Referen@#0; |PINTA #guerm300#2;
           #guerm300#3 = #Referen@#1; |PINTA #guerm300#3;
        |FINSI;
     |FINSI;
     #Referen@#0 = #guerm300#2;
     |LEE 000#Referen@.=;
     |SI FSalida ! 0;
        |MENAV "    No existe la cuenta analitica indicada"; |ERROR;
     |SINO;
        #guerm300#3 = #Referen@#1; |PINTA #guerm300#3;
     |FINSI;
     |CIERRA #Referen@; |DESCARGA_DEF #Referen@;
  |FINSI;
|FPRC;

|PROCESO MiraT66; |TIPO 66;
   FSalida = 10; |HAZ MiraCtaAn;
|FPRC;
