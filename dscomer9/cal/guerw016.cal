|FICHEROS;
     guerw016 #0;
     goptrbli #4;
     goalbpa2 #5;
     goalbpa5 #6;
     agifa080 #7;

     guerz010 #100;
     gopartia #10;
|FIN;

|VARIABLES;
     nConta    = 0;
     &aMen     = "";
     nSw       = 0;
     nMal      = 0;
     nCuantos  = 0;
     aAlfa     = "";
     aInf      = "guerw016";
     nHay      = 0;
     nBorra    = 0;
     nSw1 = 0;
     nSw2 = 0;
     nSw3 = 0;
     aArti1 = "";
     aArti2 = "";
     aArti3 = "";
     i    = 0;
     aOk  = "";
     aDef = "";
|FIN;

|PROCESO Tmp;
     |PARA i = 0; |SI i [ 34; |HACIENDO i =  i + 1;
          #10i = #100i;
     |SIGUE;
     |GRABA 020#10n;
|FPRC;

|DEFBUCLE Tmp;
     #100#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, Tmp;
|FIN;

|PROCESO Graba;
     |PARA i = 0; |SI i [ 34; |HACIENDO i =  i + 1;
          #100i = #10i;
     |SIGUE;
     #100#34 = aOk;
     |GRABA 020#100n;
|FPRC;

|PROCESO gopartia;
     nSw1 = 0;
     nSw2 = 0;
     nSw3 = 0;
     aArti1 = "";
     aArti2 = "";
     aArti3 = "";
     aMen = "";

     ||goptrbli       CLAVE 4
     #4#23 = #10#4;
     #4#24 = #10#5;
     #4#3  = #10#6;
     |LEE 000#4=;
     |SI FSalida = 0;
          nSw1 = 1;
          aArti1 = #4#22;
     |FINSI;

     ||goalbpa2
     #5#0 = #10#4;
     #5#1 = #10#5;
     #5#2 = #10#6;
     |LEE 000#5=;
     |SI FSalida = 0;
          nSw2 = 1;
          aArti2 = #5#3;
     |FINSI;

     ||goalbpa5
     #6#0 = #10#4;
     #6#1 = #10#5;
     #6#2 = #10#6;
     |LEE 000#6=;
     |SI FSalida = 0;
          nSw3 = 1;
          aArti3 = #6#3;
     |FINSI;

     aOk = "";
     |SI nSw1 = 1; |Y nSw2 = 0; |Y nSw3 = 0;
         aOk = "T"; |HAZ Graba; |ACABA;
     |FINSI;
     |SI nSw1 = 0; |Y nSw2 = 1; |Y nSw3 = 0;
         aOk = "M"; |HAZ Graba; |ACABA;
     |FINSI;
     |SI nSw1 = 0; |Y nSw2 = 0; |Y nSw3 = 1;
         |ACABA;
         aOk = "A"; |HAZ Graba; |ACABA;
     |FINSI;

     |SI nSw1 = 0; |Y nSw2 = 0; |Y nSw3 = 0;
        ||  aMen = "NO EXISTE" + #10#4 + "-" + #10#5;
        ||  |PRINT;
          |ACABA;
     |FINSI;
||컴컴컴컴컴컴컴
     |SI nSw1 = 1; |Y nSw2 = 1; |Y nSw3 = 1;
          |SI #10#20 = aArti1;
               aMen = "FALTA EN M";
               |PRINT;
               aOk = "T"; |HAZ Graba; |ACABA;
          |FINSI;
          |SI #10#20 = aArti2;
               aMen = "FALTA EN T";
               |PRINT;
               aOk = "M"; |HAZ Graba; |ACABA;
          |FINSI;
          |SI #10#20 = aArti3;
               aMen = "FALTA EN T Y M";
               |PRINT;
               |ACABA;
               aOk = "A"; |HAZ Graba; |ACABA;
          |FINSI;
     |FINSI;

     |SI nSw1 = 1; |Y nSw2 = 1; |Y nSw3 = 0;
          |SI #10#20 = aArti1;
               aMen = "FALTA EN M";
               |PRINT;
               aOk = "T"; |HAZ Graba; |ACABA;
          |FINSI;
          |SI #10#20 = aArti2;
               aMen = "FALTA EN T";
               |PRINT;
               aOk = "M"; |HAZ Graba; |ACABA;
          |FINSI;
     |FINSI;

     |SI nSw1 = 1; |Y nSw2 = 0; |Y nSw3 = 1;
          |SI #10#20 = aArti1;
||               aMen = "FALTA EN A";
||               |PRINT;
               aOk = "T"; |HAZ Graba; |ACABA;
          |FINSI;
          |SI #10#20 = aArti3;
               aMen = "FALTA EN T";
               |PRINT;
               |ACABA;
          |FINSI;
     |FINSI;

     |SI nSw1 = 0; |Y nSw2 = 1; |Y nSw3 = 1;
          |SI #10#20 = aArti2;
            ||   aMen = "FALTA EN A ";
            ||   |PRINT;
               aOk = "M"; |HAZ Graba; |ACABA;
          |FINSI;
          |SI #10#20 = aArti3;
               aMen = "FALTA EN M";
               |PRINT;
            ||   aOk = "A"; |HAZ Graba; |ACABA;
          |FINSI;
     |FINSI;

/*
     ||agifa080
     #6#0 = #10#4;
     #6#1 = #10#5;
     #6#2 = #10#6;
     |LEE 000#6=;
     |SI FSalida = 0;
          |ACABA;
     |FINSI;
*/
|FPRC;

|DEFBUCLE gopartia;
     #10#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, gopartia;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |DELINDEX #100;
     |ABRE #100;

     |SI #0#0 = "SI";
          |IMPRE 0;
          |SI FSalida = 0;
               |INFOR aInf;
               |SI FSalida = 0;
                    |ABRE #6;
                    |ABRE #5;
                    |ABRE #4; |SELECT #4#4;
                    |BUCLE gopartia;
                    |CIERRA #4;
                    |CIERRA #5;
                    |CIERRA #6;
                    |PIEINF;
                    |FININF;

                    |DELINDEX #10;
                    |ABRE #10;
                    |BUCLE Tmp;
                    |CIERRA #10;
               |FINSI;
          |FINSI;
     |FINSI;

     |CIERRA #100;
     |DELINDEX #100;
|FPRC;
