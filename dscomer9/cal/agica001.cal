|FICHEROS;
     agica001 #0;
     dsm00010 #910;
     agifa019 #19;
|FIN;

|VARIABLES;
     &eAlfa  = "";
     &eAlfa1 = "";
     &eAlfa2 = "";
     &eAlfa3 = "";
     &eAlfa4 = "";
     nModo   = 0;
     &eaArticulo = "";
|FIN;

|PROCESO MiraExiste;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 1; |ACABA; |FINSI;
     |ABRE #19;
     #19#0 = #0#0;
     |LEE 000#19=;
     |SI FSalida = 0;
          |MENAV "0000El codigo existe en el fichero de articulos...";
          |ERROR;
     |FINSI;
     |CIERRA #19;
|FPRC;

|PROCESO Calc6c1;  |TIPO 6;
     |ABRE #910;
     |LEE 040#910p;
     |SI FSalida ! 0;  |DDEFECTO #910;  |FINSI;
     |CIERRA #910;

     |SI #910#1 ! "S";  |ACABA;  |FINSI;

     |SI #910#2 [ 2;
         eAlfa = #0Campo;
         |SUB_EJECUTA_NP "dsz99990";         || Por Puntos
         |SI eAlfa ! "-1";

               eaArticulo = eAlfa;      || 700000-4215

               #0Campo = eAlfa;
               |PINTA #0Campo;
         |SINO;
               |ERROR;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO PideArtc1;  |TIPO 7;
     |ABRE #910;
     |LEE 040#910p;
     |SI FSalida ! 0;  |DDEFECTO #910;  |FINSI;
     |CIERRA #910;

     |SI #910#2 [ 2;    |ACABA;  |FINSI;

     eAlfa = #0Campo;
     |SUB_EJECUTA_NP "dsz99990";                 || Por Pantalla
     |SI eAlfa = "-1";  |PTEC 807;  |ACABA;  |FINSI;
     |SI eAlfa = "-2";              |ACABA;  |FINSI;

     eaArticulo = eAlfa;      || 700000-4215

     #0Campo = eAlfa;
     |PINTA #0Campo;
     |PTEC 802;
|FPRC;
