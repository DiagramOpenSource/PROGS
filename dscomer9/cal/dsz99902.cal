|FICHEROS;
     gopartia #0;
     gopre001@ #1;
     gopre004@ #4;
     agifa019@ #19;
     agifa024@ #24;
     agifa039@ #39;
|FIN;

|VARIABLES;
     aAlfa = "";
     aPath = "";
     nPre = 0;
     nDto = 0;
     nHay = 0;
     aD = "                    ";
     aH = "zzzzzzzzzzzzzzzzzzzz";
|FIN;

|PROCESO _gopre004;
     nHay = 1;
     nPre = #4#9;
|FPRC;

|DEFBUCLE _gopre004;
     #4#1005;
     5;
     #1#0, #1#1, aD, aD, 001, #0#20;
     #1#0, #1#1, aH, aH, 999, #0#20;
     ;
     NULL, _gopre004;
|FIN;

|PROCESO PreFores;
     #1#0 = #0#0;
     #1#1 = #0#1;
     |LEE 000#1=;
     |SI FSalida = 0; |Y #1#18 = "A";
          |DDEFECTO #19;
          #19#0 = #0#20;
          |LEE 000#19=;

          nHay = 0;
          |BUCLE _gopre004;

          |SI nHay = 0;
               |DDEFECTO #24;
               #24#0 = #1#2;
               |LEE 000#24=;

               #39#0 = #1#2;
               #39#1 = #19#2;
               |LEE 000#39=;
               |SI FSalida = 0; |Y #1#4 ] #39#3; |Y #1#4 [ #39#4;
                    nDto = #39#2;
               |SINO;
                    |SI #24#39 = 1; nDto = #19#21; |FINSI;
                    |SI #24#39 = 2; nDto = #19#22; |FINSI;
                    |SI #24#39 = 3; nDto = #19#23; |FINSI;
                    |SI #24#39 = 4; nDto = #19#150; |FINSI;
                    |SI #24#39 = 5; nDto = #19#151; |FINSI;
                    |SI #24#39 = 6; nDto = #19#152; |FINSI;
               |FINSI;
               |SI #24#39 = 1; nPre = #19#18; |FINSI;
               |SI #24#39 = 2; nPre = #19#19; |FINSI;
               |SI #24#39 = 3; nPre = #19#20; |FINSI;
               |SI #24#39 = 4; nPre = #19#147; |FINSI;
               |SI #24#39 = 5; nPre = #19#148; |FINSI;
               |SI #24#39 = 6; nPre = #19#149; |FINSI;
          |FINSI;

          #0#37 = nPre;
          #0#45 = nPre;
          #0#38 = nDto;
          #0#46 = nDto;

          nPre = nPre - (nPre * nDto / 100);
          #0#11 = nPre;
          #0#22 = nPre;
          #0#13 = #0#10 * #0#11;
          #0#24 = #0#10 * #0#22;
     |FINSI;
|FPRC;

|PROCESO PreForestales;
     |DDEF aPath;
     aAlfa = aPath + "gopre001"; |CARGA_DEF aAlfa, gopre001@;
     |SI FSalida ! 0; |MENAV "0000Error al cargar 'gopre001'"; |ACABA; |FINSI;

     aAlfa = aPath + "gopre004"; |CARGA_DEF aAlfa, gopre004@;
     |SI FSalida ! 0; |MENAV "0000Error al cargar 'gopre004'"; |ACABA; |FINSI;

     aAlfa = aPath + "agifa019"; |CARGA_DEF aAlfa, agifa019@;
     |SI FSalida ! 0; |MENAV "0000Error al cargar 'agifa019'"; |ACABA; |FINSI;

     aAlfa = aPath + "agifa024"; |CARGA_DEF aAlfa, agifa024@;
     |SI FSalida ! 0; |MENAV "0000Error al cargar 'agifa024'"; |ACABA; |FINSI;

     aAlfa = aPath + "agifa039"; |CARGA_DEF aAlfa, agifa039@;
     |SI FSalida ! 0; |MENAV "0000Error al cargar 'agifa039'"; |ACABA; |FINSI;

     |ABRE #1;
     |ABRE #19;
     |ABRE #24;
     |ABRE #39;
     |HAZ PreFores;
     |CIERRA #39;
     |CIERRA #24;
     |CIERRA #19;
     |CIERRA #1;

     |DESCARGA_DEF #agifa039@;
     |DESCARGA_DEF #agifa024@;
     |DESCARGA_DEF #agifa019@;
     |DESCARGA_DEF #gopre004@;
     |DESCARGA_DEF #gopre001@;
|FPRC;
