|FICHEROS;
     guerz058 #0;
     gosubcoc #2;
     gosubpar #4;
     guerm030 #30;
     guerm031 #31;
|FIN;

|VARIABLES;
     &nDeci_STrab = 0;
     &cCodMonTrab = "";
     &nDeci_TTrab = 0;
     nImporte  = 0;
|FIN;

|PROCESO guerm031;
     |ABRE #4;
     #4#0 = #30#2;
     #4#1 = #31#3;
     #4#2 = #31#13;
     |LEE 101#4=;
     |SI FSalida ! 0;   ||Se cambio la clave el Mon Jun  5 12:21:01 CEST 2006
          |SELECT #3#4;
          #4#0 = #30#2;
          #4#1 = #31#3;
          #4#3 = #31#4;
          |LEE 121#4=;
          |SI FSalida = 0;
               #31#13 = #4#2; || Actualiza campo linea
               |GRABA 020#31a;
               |LIBERA #31;
          |FINSI;
     |FINSI;
     |SI FSalida = 0;
          nImporte = ((#31#5 * #31#6) < #31#8) ! nDeci_TTrab;
          nImporte = (nImporte < #31#9) ! nDeci_TTrab;

          #4#16 = #4#16 +. #31#5;
          #4#9 = #4#9 +. nImporte;
          |GRABA 020#4a;
          |LIBERA #4;
     |FINSI;
     |CIERRA #4;
|FPRC;

|PROCESO Acera;
     #4#16 = 0;
     #4#9 = 0;
     |GRABA 020#4a;
     |LIBERA #4;
|FPRC;

|DEFBUCLE Acera;
     #4#1;
     ;
     #0#0, "                    ", 001;
     #0#1, "zzzzzzzzzzzzzzzzzzzz", 999;
     be;
     NULL, Acera;
|FIN;

|PROCESO guerm030;
     cCodMonTrab = #30#3;      ||Moneda de Trabajo.
     |HAZ MonBas;
     |ABRE #2;
     #2#0 = #30#2;
     |LEE 000#2=;
     |CIERRA #2;
     nDeci_STrab = #2#15;
|FPRC;

|DEFBUCLE guerm030;
     #30#1;
     2;
     "     ", 000001, #0#0;
     "zzzzz", 999999, #0#1;
     ;
     NULL, guerm030, guerm031;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |BUCLE Acera;
     |BUCLE guerm030;
|FPRC;
