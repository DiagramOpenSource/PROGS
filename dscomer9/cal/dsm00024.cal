|FICHEROS;
     dsm00024 #0;
     agifa019 #1;
     dsm00238 #2;
     agifa142 #142;
     agifa321;
     agifa324;
     referen@;
|FIN;

|VARIABLES;
     {-1}menu = "";
     menu1 = "2400";
     menu2 = "1";
     menu3 = "Opciones:  ";
     menu4 = "T";
     menu5 = " Trazabilidad ";

     &eaPrvParti = "";
     &nDeci_Base = 0;
     aAlfa     = "";
     nNume     = 0;
     nModo     = 0;
|FIN;

|INCLUYE i_varart;

|PROCESO TipoParti14; |TIPO 14;
     |HAZ Deci24;

     |ABRE #1;
     #1#0 = #0#0;
     |LEE 000#1=;
     |CIERRA #1;

     |HAZ EsMalpesa;          || no usa doble stock
     |SI FSalida = 0;
          |C_V #0#10, 1, "N";
          |C_V #0#12, 1, "N";
          |C_V #0#21, 1, "N";
          |C_V #0#23, 1, "N";
          |C_V #0#17, 1, "N";
          |C_V #0#30, 1, "N";
          |C_V #0#32, 1, "N";
          |C_V #0#44, 1, "N";
          |C_V #0#49, 1, "N";

          |C_V #0#43, 1, "N";
          |HAZ MalpePinPar;
          |ACABA;
     |FINSI;

     |ATRI N;
     |SI #1#179 = "S";
          |ABRE #2;
          #2#0 = #1#201;
          |LEE 000#2=;
          |CIERRA #2;

          aAlfa = #2#5 + "...";
          |PINTA 1802, aAlfa;
          |PINTA 2102, aAlfa;
          aAlfa = #2#4 + "...";
          |PINTA 1902, aAlfa;
          |PINTA 2202, aAlfa;
          |C_V #0#10, 1, "S";
          |C_V #0#12, 1, "S";
          |C_V #0#21, 1, "S";
          |C_V #0#23, 1, "S";
          |C_V #0#17, 1, "S";
          |C_V #0#30, 1, "S";
          |C_V #0#32, 1, "S";
          |C_V #0#44, 1, "S";
          |C_V #0#49, 1, "S";
     |SINO;
          |C_V #0#10, 1, "N";
          |C_V #0#12, 1, "N";
          |C_V #0#21, 1, "N";
          |C_V #0#23, 1, "N";
          |C_V #0#17, 1, "N";
          |C_V #0#30, 1, "N";
          |C_V #0#32, 1, "N";
          |C_V #0#44, 1, "N";
          |C_V #0#49, 1, "N";
          |PINTA 1802, "      "; |PINTA 1902, "      ";
          |PINTA 2102, "      "; |PINTA 2202, "      ";
          |PINTA 1911, "             ";
          |PINTA 1925, "             ";
          |PINTA 1939, "             ";
          |PINTA 1953, "             ";
          |PINTA 2211, "             ";
          |PINTA 2225, "             ";
          |PINTA 2239, "             ";
          |PINTA 1967, "             ";
     |FINSI;
     |PINTA 2301, "읕컴컴컴컨컴컴컴컴컴컴컨컴컴컴컴컴컴컨컴컴컴컴컴컴컨";
     |ATRI I;

|FPRC;

|PROCESO Partida024; |TIPO 6;
     |SI #142#122 = "S";
          aAlfa = #0#2; |QBF aAlfa;
          aAlfa = (#142#121 * #142#120) + aAlfa;
          nNume = -(#142#120 + 100);
          #0#2 = aAlfa % nNume;
          |PINTA #0#2;
     |FINSI;
|FPRC;

|PROCESO Tipo24_8; |TIPO 8;
     |ABRE #142; |LEE 000#142p; |CIERRA #142;
     |HAZ EsMalpesa;
     |SI #142#118 ! "S"; |Y FSalida ! 0;
          |MENAV "0000Opcion no activa en Parametros Generales...";
          |PTEC 806;
     |FINSI;
     |HAZ EsAlbero;
     |SI FSalida = 0;
          ||ARA
          ||MENAV "0000Opcion Inactiva. El mantenimiento de Partidas esta en el modulo.";
          ||PTEC 806;
     |FINSI;
|FPRC;

|PROCESO Deci24;
      |ABRE #agifa321;
      |LEE 001#agifa321.p;
      |CIERRA #agifa321;

      |ABRE #agifa324;
      #agifa324#0 = #agifa321#9;
      |LEE 001#agifa324.=;
      |CIERRA #agifa324;

      nDeci_Base = #agifa324#7;
|FPRC;

|PROCESO Tipo24_2; |TIPO 2;
     |HAZ EsMalpesa;
     |SI FSalida = 0;
          |HAZ MalpeParti;
     |FINSI;
|FPRC;

|PROCESO Locali24_0; |TIPO 0;
     |SI FSalida = 0;
          |HAZ EsMalpesa;
          |SI FSalida = 0;
               |HAZ MalpeEntPar;
               |HAZ MalpePinPar;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO Llena024; |TIPO 6;
     enAlta = 1;
     eaArticulo = #0Campo;
     |HAZ LlenaArticulo;
     |SI FSalida = 0;
          #0Campo = eaArticulo;
          |PINTA #0Campo;
     |SINO;
          |ERROR; |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo24_20; |TIPO 20;
     |SI FSalida = "OPCION";
          FSalida = "Trazabilidad";
          |ACABA;
     |FINSI;
     |LEE 000#0=;
     |SI FSalida ! 0; |ACABA; |FINSI;
     eaArticulo = #0#0;
     eaPartida = #0#2;
     |SUB_EJECUTA_NP "dsy00009";
|FPRC;

|PROCESO Tipo24_13; |TIPO 13;
     |HAZ EsMecanogra;
     |SI FSalida = 0;
          |ATRI R; |PINTA 2067, "  Reservado  "; |ATRI 0;
          |ATRI I; |PINTA 2169, #0#24; |ATRI 0;
     |FINSI;
     |HAZ EsFergalsan;
     |SI FSalida = 0;
          |C_M #0#3, 1, "S";
     |FINSI;
|FPRC;

|PROCESO Prov24_7; |TIPO 7;
     |MODULO aAlfa;
     |SI aAlfa = "dsm00024";
          |C_M #0#3, 1, "S";
     |SINO;
          |C_M #0#3, 1, "N";
     |FINSI;
|FPRC;
