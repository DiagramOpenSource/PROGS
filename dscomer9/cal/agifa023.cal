|FICHEROS;
     agifa023 #0;
     agifa142 #1;
     agifa019 #19;
     agifa024 #24;
     dsm00010 #910;
     dsm00075 #975;
|FIN;

|VARIABLES;
     &eaArtiSeri = "";   ||PARA SERIPAFER

     nModo   = 0;
     nSwBarra= 1;
     informe = "agifa023";
     deci = 0;
     modo = 0;
     nNume = 0;
     aAlfa = "";
|FIN;

|INCLUYE i_varart;
|INCLUYE i_cdbarr;

|PROCESO Cal1123; |TIPO 11;
     eaArtiSeri = #0#1;
     |HAZ Seripafer;     ||Modulo 000184
     #0#1 = eaArtiSeri;
|FPRC;


|PROCESO Tipo5; |TIPO 5;     nModo = (FEntrada / 100) ! 0;

     |SI nModo [ 2; |Y nSwBarra = 1;
          |CONFI "0000NIntroduccion por Codigo de Barras";
          nSwBarra = FSalida;
          |ATRI S;
          |SI FSalida = 0;
               |PINTA 0533, "Introduccion por codigo de barras  ";
          |SINO;
               |PINTA 0533, "Introduccion por codigo de articulo";
          |FINSI;
          |ATRI 0;
     |FINSI;
     |HAZ SinBarra;
|FPRC;

|PROCESO Calc623;  |TIPO 6;
     nModo = (FEntrada / 100) ! 0;
     |SI nSwBarra = 0; |Y nModo = 1;
          eaArti = #0#1;
          |HAZ HallaArti;
          |SI eaArti = ""; |ERROR; |ACABA; |FINSI;
          |SI #19#176 = "S"; |Y eaEleme = "";
               |MENAV "0000Codigo incompleto...";
               |ERROR; |ACABA;
          |FINSI;
          #0#1 = eaArti; |PINTA #0#1;
          |ACABA;
     |FINSI;

     enAlta = 1;
     eaArticulo = #0Campo;
     |HAZ LlenaArticulo;
     |SI FSalida = 0;
          #0Campo = eaArticulo;
          |PINTA #0Campo;
     |SINO;
          |ERROR; |ACABA;
     |FINSI;
|FPRC;

|PROCESO PideArt23;  |TIPO 7;
     |ABRE #910; |LEE 000#910p; |CIERRA #910;
     |ABRE #19;
     #19#0 = #0#1;
     |LEE 000#19=;
     |CIERRA #19;
     |SI #19#176 = "S";
          |MENSA "0000<F5> Consulta division articulo";
     |SINO;
          |MENSA "0000Articulo";
     |FINSI;

     nModo = (FEntrada / 100) ! 0;
     |SI nSwBarra = 0; |Y nModo = 1; |ACABA; |FINSI;


     |SI #910#2 [ 2;    |ACABA;  |FINSI;

     eAlfa = #0Campo;
     |SUB_EJECUTA_NP "dsz99990";                 || Por Pantalla
     |SI eAlfa = "-1";  |PTEC 807;  |ACABA;  |FINSI;
     |SI eAlfa = "-2";              |ACABA;  |FINSI;

     eaArticulo = eAlfa;      ||  700000-4215

     #0Campo = eAlfa;
     |PINTA #0Campo;
     |PTEC 802;
|FPRC;

|CALCULO sumatota;|TIPO 0;
  #0#27 = #0#27 - Contenido;
  #0#27 = #0#27 + #0Campo;
|PINTA #0#27;
|FCAL;

|PROCESO finn; |TIPO 2;
     modo = (FEntrada / 100) ! 0;
     |SI modo = 2;
          #agifa023#30 = "N";
          #agifa023#31 = "01.01.0000";
     |FINSI;
|FPRC;

|PROCESO Min975;
     #975#0 = #0#0;
     #975#1 = #0#1;
     #975#2 = "      ";
|FPRC;

|PROCESO Max975;
     #975#0 = #0#0;
     #975#1 = #0#1;
     #975#2 = "zzzzzz";
|FPRC;

|PROCESO Tipo11; |TIPO 11;
     |SI #19#176 = "S"; |Y FSalida = 13;
          nModo = (FEntrada / 100) ! 0;
          |PUSHV 0501 2380;
          nNume = #910#21;
          aAlfa = "\" + #910#23 + "+#";
          |CAMPO_ANCHO  #975#2, 1, nNume;
          |CAMPO_MAXIMO #975#2, 1, aAlfa;
          |BLANCO 1801 2380;
          |PINPA #0#975;
          |ATRI R; |PINTA 1904, #910#20; |ATRI 0;
          |ENTCOLUMNA #1#975, 3, 4, 5, 0, Min975, Max975;
          |POPV;
     |FINSI;
|FPRC;
