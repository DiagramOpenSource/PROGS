|FICHEROS;
     marhu325 #0;
     marhu326 #1;
     agifa142 #11;
     dsm00054 #54;
     dsm00055 #55;
     dsm00043 #43;
     dsm00044 #44;
     marhu323 #323;
     marhu324 #324;

     agifa321 #321;
     agifa324 #324;
|FIN;

|VARIABLES;
     &enSw     = 0;
     &enUni    = 0;
     &enArti   = "";
     aAlfa     = "";
     aTraba    = "";
     aInforme  = "";
     nConta    = 0;
     nModo     = 0;
     nForma    = 0;
     nSwEti    = 0;
     i         = 0;
     &aParte1  = "";
     &aParte2  = "";
     numero = 0;
     &nDeci_Base = 0;
     &nDeci_PreBase = 0;
|FIN;

|PROCESO Conta7; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 1; |ACABA; |FINSI;

     |ABRE #54; |LEE 000#054u; |CIERRA #54;
     nConta = #54#0 + 1;

     |DDEFECTO #0;
     #0#0 = nConta;
|FPRC;

|PROCESO Tipo8; |TIPO 8;
     |HAZ LeeDecimBase;

     |ABRE #11; |LEE 000#11p; |CIERRA #11;

     |SI #11#99 = "S";
         |MENAV "     Solo tenemos activado un Almacen";
         |PTEC 807;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo30; |TIPO 30;
     |HAZ Tipo4;
|FPRC;

|PROCESO marhu323;
     numero = numero + 1;
     enArti = #324#2;
     enUni = #324#4 * #1#4;
     |PARA i = 1; |SI i [ enUni; |HACIENDO i = i + 1;
           ||aTraba = #1#0;
           aTraba = #324#2;
           |QBF aTraba;
           ||aTraba = aTraba + "* ";    ||+ #324#3;
           ||aTraba = aTraba + numero;  ||"* " + #324#3;
           aTraba = aTraba + " " + #324#3;
           aTraba = aTraba - "#";
           aParte1 = aTraba % 120;
           aParte2 = aTraba % 2120;
          |PRINT;
     |SIGUE;
|FPRC;

|DEFBUCLE marhu323;
     #323#1;
     ;
     #1#0;
     #1#0;
     ;
     NULL, NULL, marhu323;
|FIN;

|PROCESO marhu325;
     |SI nSwEti = 1;
          |SI #1#16 = "S";
               enSw = 1;
               numero = 0;
               |BUCLE marhu323;
               enSw = 0;
          |SINO;
               |PARA i = 1; |SI i [ #1#4; |HACIENDO i = i + 1;
                     aTraba = #1#0;
                     |QBF aTraba;
                     aTraba = aTraba + " " + #1#2;
                     aTraba = aTraba - "#";
                     aTraba = aTraba - "#";
                     aParte1 = aTraba % 120;
                     aParte2 = aTraba % 2120;
                     |PRINT;
               |SIGUE;
          |FINSI;
     |SINO;
          |PRINT;
          |SI #1#16 = "S";
               enSw = 1;
               numero = 0;
               |BUCLE marhu323;
               enSw = 0;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE marhu325;
     #0#1;
     ;
     #0#0;
     #0#0;
     ;
     NULL , NULL, marhu325;
|FIN;

|PROCESO Tipo4; |TIPO 4;
     |CONFI "2400SDesea Imprimir los movimientos Realizados : ";
     |SI FSalida = 0;
          |IMPRE 0;
          |SI FSalida  = 0;
               aInforme = "marhu325";
               |INFOR aInforme;
               |SI FSalida = 0;
                    nSwEti = 0;
                    |BUCLE marhu325;
                    |PIEINF;
                    |FININF;
               |SINO;
                    aAlfa = "0000No existe informe [" + aInforme + "]...";
                    |MENAV aAlfa;
               |FINSI;
               |FINIMP;
          |FINSI;
     |FINSI;
     |CONFI "0000SImprimir Etiquetas";
     |SI FSalida = 0;
          |PUSHV 0501 2380;
          |BLANCO 1028 1653;
          |CUADRO 1028 1653;
          |CUADRO 1129 1552;
          |ATRI I; |PINTA 1331, "Informe: "; |ATRI 0;
          E_inf = "";
          E_sup = 8;
          aInforme = "marh1325";
          aInforme = 1341 ? 0;
          |POPV;
          |IMPRE 0;
          |SI FSalida = 0;
               |INFOR aInforme;
               |SI FSalida = 0;
                    nSwEti = 1;
                    |BUCLE marhu325;
                    |PIEINF;
                    |FININF;
               |SINO;
                    aAlfa = "0000No existe informe [" + aInforme + "]...";
                    |MENAV aAlfa;
               |FINSI;
               |FINIMP;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO Tipo2Cab; |TIPO 2;
     nForma = 0 +. 1;
     |ABRE #54;
     |SI nForma = 1;
          |DDEFECTO #54;
          #54#0 = #0#0;
          #54#1 = #0#1;
          |GRABA 020#54n;
     |SINO;
          #54#0 = #0#0;
          |BORRA 020#54c;
     |FINSI;
     |CIERRA #55;
|FPRC;

|PROCESO LeeDecimBase;
     |ABRE #agifa321;
     |ABRE #agifa324;
     |LEE 001#agifa321.p;
     #agifa324#0 = #agifa321#9; ||Igualo a moneda base
     |LEE 001#agifa324.=;
     nDeci_Base = #agifa324#7;  ||Decimales moneda base
     nDeci_PreBase = #agifa324#9;  ||Decimales precio de moneda base
     |CIERRA #agifa321;
     |CIERRA #agifa324;
|FPRC;
