|FICHEROS;
     tagw0017 #0;
     agif0041 #41;
     agifa065@ #1;
     agifa065 #65;
|FIN;

|VARIABLES;
     aAlfa     = "";
     aEmp      = "";
     nUni      = 0;
     aFic      = "";
|FIN;

|PROCESO antes;
     nUni = nUni + #1#17;
|FPRC;

|DEFBUCLE antes;
     #1#1006;
     5;
     #65#0, #0#2, "  ", 000001, 00001, "  ", #65#5;
     #65#0, #0#3, "zz", 999999, 99999, "zz", #65#5;
     be;
     NULL, antes;
|FINSI;

|PROCESO agifa065;
     nUni = 0;

     |BUCLE antes;
     #65#17 = nUni;
     |GRABA 020#65a;
     |LIBERA #65;
|FPRC;

|DEFBUCLE agifa065;
     #65#1;
     ;
     #0#4, "01.01.0000", "SA", 000001, 00001, "  ";
     #0#5, "31.12.9999", "SA", 999999, 99999, "zz";
     be;
     NULL, agifa065;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |SI #0#1 ! "SI"; |ACABA; |FINSI;

     |DFICE aAlfa;
     aAlfa = aAlfa % -205;
     |SI aAlfa = #0#0;
          |MENAV "0000La empresa destino no puede ser la actual...";
          |ACABA;
     |FINSI;

     |DBASE aAlfa;
     aAlfa = aAlfa + "fich/";
     aFic = aAlfa + (("00000" + #0#0) % -105) + "/";

     |PATH_DAT #41 aAlfa;
     |ABRE #41;
     #41#0 = #0#0;
     |LEE 000#41=;
     |SI FSalida = 0;
          |DDEF aAlfa;
          aAlfa = aAlfa + "agifa065";
          |CARGA_DEF aAlfa, agifa065@;
          |SI FSalida = 0;
               |PATH_DAT #65 aFic;
               |BUCLE agifa065;
               |DESCARGA_DEF #agifa065@;
          |SINO;
               |MENAV "0000Erro al cargar def 'agifa065'";
          |FINSI;
     |SINO;
          |MENAV "0000La empresa no Existe....";
     |FINSI;
     |CIERRA #41;
|FPRC;
