|FICHEROS;
     iber0018 #0;  ||Este Def.
     iber0017 #1;  ||Cab
     iber0015 #15; ||Prd Tipo Neg
     iber0020 #20;
     agifa019 #19;
     dsm00241 #241;
|FIN;

||INC-LUYE llena_c2;

|VARIABLES;
     nModo     = 0;
     aAlfa     = "";
     &eaGuarda = "";
|FIN;

|PROCESO LeeArti18;
     |ABRE #19;
     #19#0 = #0#1;
     |LEE 000#19=;
     |CIERRA #19;

     |DDEFECTO #15;
     |ABRE #15;
     #15#0 = #1#2;
     #15#1 = #0#1;
     |LEE 000#15=;
     |CIERRA #15;
|FPRC;

|PROCESO MinMulti;
     #241#0 = #19#5;
     #241#1 = 1;
|FPRC;

|PROCESO MaxMulti;
     #241#0 = #19#5;
     #241#1 = 999;
|FPRC;

|PROCESO Medida18_66; |TIPO 66;
     |HAZ LeeArti18;
     |ABRE #241;
     |CONSULTA_F_CLAVE #1#241, MinMulti, MaxMulti;
     |SI FSalida = 0;
          #0#12 = #241#2; |PINTA #0#12;
     |SINO;
          |ERROR;
     |FINSI;
     |CIERRA #241;
|FPRC;

|PROCESO Medida18_0; |TIPO 0;
     |HAZ LeeArti18;
     |SI #19#204 = "N"; |ACABA; |FINSI;
     |ABRE #241;
     |SELECT #2#241;
     #241#0 = #19#5;
     #241#2 = #0#12;
     |LEE 000#241=;
     |SI FSalida ! 0;
          |MENAV "0000Codigo no definido...";
          |ERROR;
     |FINSI;
     |CIERRA #241;
|FPRC;

|PROCESO Medida18_7; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |HAZ LeeArti18;
     |SI #19#204 = "N";
          |C_M #0#12, 1, "N";
          #0#12 = #19#5;
     |SINO;
          |C_M #0#12, 1, "S";
          |SI #0#12 = "     ";
               #0#12 = #15#11;
          |SINO;
               |SI nModo = 1;
                    #0#12 = #15#11;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO Guarda; |TIPO 0;
     eaGuarda = #0#5;
|FPRC;

|PROCESO leeart2; |TIPO 0;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 1; |ACABA; |FINSI;

     |ABRE #15;
     #15#0 = #1#2;
     #15#1 = #0#1;
     |LEE 000#15=;
     |SI FSalida ! 0;
          aAlfa = "0000Articulo no definido en" + &13 + "PRODUCTOS POR TIPO NEGOCIO...";
          |MENAV aAlfa;
          |ERROR; |ACABA;
     |FINSI;
     |CIERRA #15;

     #0#2 = #15#2;
     #0#3 = #15#3; ||Nat
     #0#4 = #15#4; ||Fabri
     #0#5 = #15#5; ||Secc
     #0#6 = #15#6; ||T.Vta
     #0#7 = #15#7; ||F.Pro
     #0#8 = #15#8; ||Se pide
     #0#9 = #15#9; ||Prov
     #0#11 = #15#10;||Plato
     #0#12 = #15#11;||Medida
     |PINTA #0#2;
     |PINTA #0#3;
     |PINTA #0#4;
     |PINTA #0#5;
     |PINTA #0#6;
     |PINTA #0#7;
     |PINTA #0#8;
     |PINTA #0#9;
     |PINTA #0#11;
     |PINTA #0#12;
     |SI #0#4 ! "S";
          |C_M #0#7 , 1 , "N";
          #0#7 = "N";
     |SINO;
          |C_M #0#7 , 1 , "S";
     |FINSI;
|FPRC;

|PROCESO aquien2; |TIPO 0;
     |SI #0#7 ! "S";
          |C_M #0#8 , 1 , "S";
          |C_M #0#9 , 1 , "S";
     |SINO;
          |C_M #0#8 , 1 , "N";
          |C_M #0#9 , 1 , "N";
          #0#8 = " ";
          #0#9 = "      ";
          |PINTA #0#8;
          |PINTA #0#9;
     |FINSI;
|FPRC;

|PROCESO Tipo2_18; |TIPO 2;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3;
          |ABRE #20; |SELECT #2#20;
          #20#2 = #0#1;
          #20#1 = 0;
          |LEE 101#20];
          |PARA; |SI FSalida = 0; |Y #20#2 = #0#1; |HACIENDO;
               |BORRA 020#20a;
               |LEE 101#20s;
          |SIGUE;
          |CIERRA #20;
     |FINSI;
|FPRC;
