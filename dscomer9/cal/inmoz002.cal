|FICHEROS;
     inmoz002 #0;
     inmom001 #1;
     inmow001 #10,MANTE; ||Tmp
     inmow002 #20,MANTE; ||Tmp
     inmow001@;
|FIN;

|VARIABLES;
     &Tempo = "";
     aTmp10 = "";
     aTmp20 = "";
     nHay = 0;
     i = 0;
     aMarca = "";
     nTecla = 0;
     aAlfa = "";
|FIN;

|PROCESO MarcaTodos2;
     #1#0 = #20#0;
     |LEE 121#1=;
     |SI FSalida = 0;
          #20#25 = aMarca;
          |GRABA 020#20a;

          |SI aMarca = "*";
               #1#8 = #0#2;
          |SINO;
               #1#8 = "000000";
          |FINSI;
          |GRABA 020#1a;
          |LIBERA #1;

          #inmow001@#0 = #20#0;
          |LEE 101#inmow001@.=;
          |SI FSalida = 0;
               #inmow001@#8 = #1#8;
               #inmow001@#25 = aMarca;
               |GRABA 020#inmow001@.a;
          |FINSI;
     |FINSI;
     |LIBERA #20;
|FPRC;

|DEFBUCLE MarcaTodos2;
     #20#1;
     ;
     INICIO;
     FINAL;
     be;
     NULL, MarcaTodos2;
|FIN;

|PROCESO MarcaTodos;
     #1#0 = #10#0;
     |LEE 121#1=;
     |SI FSalida = 0;
          #10#25 = aMarca;
          |GRABA 020#10a;

          |SI aMarca = "*";
               #1#8 = #0#2;
          |SINO;
               #1#8 = "000000";
          |FINSI;
          |GRABA 020#1a;
          |LIBERA #1;
     |FINSI;
     |LIBERA #10;
|FPRC;

|DEFBUCLE MarcaTodos;
     #10#1;
     ;
     INICIO;
     FINAL;
     be;
     NULL, MarcaTodos;
|FIN;

|PROCESO Tipo2_11; |TIPO 11;
     |SI FSalida = 12;
          nTecla = FSalida;
          |SI #20#25 = "*";
               aMarca = " ";
          |SINO;
               aMarca = "*";
          |FINSI;
          |PTEC 807;
     |FINSI;
|FPRC;

|PROCESO Tipo2_0; |TIPO 0;
     |SI #20Campo = Contenido;
          |ABRE #1;
          #1#0 = #20#0;
          |LEE 121#1=;
          |SI FSalida = 0;
               |SI #20#25 = "*";
                    #20#25 = "";
                    #1#8 = "000000";
                    aMarca = "";
               |SINO;
                    #20#25 = "*";
                    #1#8 = #0#2;
                    aMarca = "*";
               |FINSI;
               |GRABA 020#1a;
               |SI FSalida = 0;
                    |PINTA #20#25;
                    |GRABA 020#20a;

                    #inmow001@#0 = #20#0;
                    |LEE 101#inmow001@.=;
                    |SI FSalida = 0;
                         #inmow001@#25 = aMarca;
                         |GRABA 020#inmow001@.a;
                    |FINSI;
               |FINSI;
          |FINSI;
          |CIERRA #1;
     |FINSI;
|FPRC;

|PROCESO Min20;
     #20#7 = " " * 10;
     #20#2 = " " * 10;
     #20#0 = " " * 20;
|FPRC;

|PROCESO Max20;
     #20#7 = "z" * 10;
     #20#2 = "z" * 10;
     #20#0 = "z" * 20;
|FPRC;

|PROCESO inmom001_2;
     |DDEFECTO #20;
     |PARA i = 0; |SI i [ 24; |HACIENDO i = i + 1;
          #20i = #1i;
     |SIGUE;
     |SI #20#8 ! "      ";
          #20#25 = "*";
     |FINSI;
     |GRABA 020#20n;
     nHay = 1;
|FPRC;

|DEFBUCLE inmom001_2;
     #1#3;
     ;
     #0#2, "                    ";
     #0#2, "zzzzzzzzzzzzzzzzzzzz";
     ;
     NULL, inmom001_2;
|FIN;

|PROCESO AsigCli;
     |DDEF aAlfa;
     aAlfa = aAlfa + "inmow001";
     |CARGA_DEF aAlfa, inmow001@;
     |SI FSalida ! 0; |ACABA; |FINSI;
     |NOME_DAT #inmow001@#aTmp10#;
     |ABRE #inmow001@;

     |HAZ CreaTempo; aTmp20 = Tempo; |NOME_DAT #20 Tempo; |DELINDEX #20;
     |ABRE #20;
     |BUCLE inmom001_2;
     |CIERRA #20;
     |SI nHay = 0;
          |MENAV "0000No hay registros...";
     |SINO;
          |PARA; |SI; |HACIENDO;
               |ENTLINEAL #2#20, 3, 4, 22, 0, Min20, Max20;
               |SI nTecla ! 0;
                    |SI nTecla = 12;
                         |ABRE #1;
                         |BUCLE MarcaTodos2;
                         |CIERRA #1;
                    |FINSI;
                    nTecla = 0;
               |SINO;
                    |SAL;
               |FINSI;
          |SIGUE;
     |FINSI;
     Tempo = aTmp20; |HAZ BoraTempo; |DELINDEX #20;

     |CIERRA #inmow001@;
     |DESCARGA_DEF #inmow001@;
|FPRC;

|PROCESO Tipo11; |TIPO 11;
     |SI FSalida = 12;
          nTecla = FSalida;
          |SI #10#25 = "*";
               aMarca = " ";
          |SINO;
               aMarca = "*";
          |FINSI;
          |PTEC 807;
     |FINSI;
     |SI FSalida = 13;
          |PUSHV 0501 2380;
          |ATRI S; |PINTA 0544, "Asignados al cliente"; |ATRI 0;
          |HAZ AsigCli;
          |POPV;
          |PONCONTROL 23, "SI";
     |FINSI;
|FPRC;

|PROCESO Tipo0; |TIPO 0;
     |SI #10Campo = Contenido;
          |ABRE #1;
          #1#0 = #10#0;
          |LEE 121#1=;
          |SI FSalida = 0;
               |SI #10#25 = "*";
                    #10#25 = "";
                    #1#8 = "000000";
               |SINO;
                    #10#25 = "*";
                    #1#8 = #0#2;
               |FINSI;
               |GRABA 020#1a;
               |SI FSalida = 0;
                    #10#8 = #1#8;
                    |PINTA #10#25;
                    |PINTA #10#8;
                    |GRABA 020#10a;
               |FINSI;
          |FINSI;
          |CIERRA #1;
     |FINSI;
|FPRC;

|PROCESO Min10;
     #10#7 = " " * 20;
     #10#2 = " " * 10;
     #10#0 = " " * 20;
|FPRC;

|PROCESO Max10;
     #10#7 = "z" * 20;
     #10#2 = "z" * 10;
     #10#0 = "z" * 20;
|FPRC;

|PROCESO inmom001;
     |DDEFECTO #10;
     |PARA i = 0; |SI i [ 24; |HACIENDO i = i + 1;
          #10i = #1i;
     |SIGUE;
     #10#26 = #1#28;
     |GRABA 020#10n;
     nHay = 1;
|FPRC;

|DEFBUCLE inmom001;
     #1#2;
     8, 13;
     #0#1, "                    ", "000000", "S";
     #0#1, "zzzzzzzzzzzzzzzzzzzz", "000000", "S";
     ;
     NULL, inmom001;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |HAZ CreaTempo; aTmp10 = Tempo; |NOME_DAT #10 Tempo; |DELINDEX #10;
     |ABRE #10;
     |BUCLE inmom001;
     |CIERRA #10;

     |PARA; |SI; |HACIENDO;
          |ENTLINEAL #2#10, 3, 4, 22, 0, Min10, Max10;
          |SI nTecla ! 0;
               |SI nTecla = 12;
                    |ABRE #1;
                    |BUCLE MarcaTodos;
                    |CIERRA #1;
               |FINSI;
               nTecla = 0;
          |SINO;
               |SAL;
          |FINSI;
     |SIGUE;
     Tempo = aTmp10; |HAZ BoraTempo; |DELINDEX #10;
|FPRC;

|PROGRAMA;
     |CLS;
     |PINPA #0#0;
     |PINDA #0#0;
     |ENTLINEAL #1#10, 1, 7, 22, 0, Min10, Max10;
     |ENDATOS #1#0;
|FPRO;
