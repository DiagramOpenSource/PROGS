|FICHEROS;
     ibery004 #0;
     agifa019 #19;
     iber0020 #20;
     iber0067 #67;
     agifa142 #142;
     agifa324;
     agifa321;
|FIN;

|VARIABLES;
     &nDeci_Base = 0;
     &nDeci_PreBase = 0;
     aInforme  = "ibery004";
     aCentro   = "";
     dArt      = "";
     hArt      = "";
     &EURODB = 0;
     &enPesetas = 0;
     &enEuros = 0;
|FIN;

|PROCESO Decimales;
     |ABRE #agifa324;
     |ABRE #agifa321;
     |LEE 001#agifa321.p;
     #agifa324#0 = #agifa321#9; ||Igualo a moneda base
     |LEE 001#agifa324.=;
     nDeci_Base = #agifa324#7;  ||Decimales moneda base
     nDeci_PreBase = #agifa324#9;  ||Decimales precio de moneda base
     |CIERRA #agifa321;
     |CIERRA #agifa324;
|FPRC;

|PROCESO Defecto; |TIPO 7;
     |ABRE #142; |LEE 000#142p; |CIERRA #142;
     |SI #142#164 = "D";
          |DFICE aCentro;
          aCentro = aCentro % -403;
          #0#0 = aCentro; |PINTA #0#0;
          #0#1 = aCentro; |PINTA #0#1;
     |FINSI;
|FPRC;

|PROCESO iber0067;
     #20#0 = #67#0;
     #20#1 = #67#1;
     #20#2 = #67#4;
     |LEE 000#20=;
     |SI FSalida = 0;
          |SI #20#4 ] #0#6; |Y #20#4 [#0#7;
               |SI EURODB = 0;
                    enPesetas = #67#9;
                    enEuros = (#67#9 / 166.386) ! 2;
               |FINSI;
               |SI EURODB = 2;
                    enPesetas = (#67#9 * 166.386) ! 0;
                    enEuros = #67#9;
               |FINSI;
               |DDEFECTO #19;
               #19#0 = #67#4;
               |LEE 000#19=;
               |PRINT;
               |PIEINF;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE iber0067;
     #67#1;
     10;
     #0#0, #0#2, #0#4, "01.01.0000", dArt, " ", #0#8;
     #0#1, #0#3, #0#5, "31.12.9999", hArt, "z", #0#9;
     ;
     NULL, iber0067;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |HAZ Decimales;

     dArt = " " * 20;
     hArt = "z" * 20;

     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR aInforme;
          |SI FSalida = 0;
               |ABRE #19;
               |ABRE #20;
               |BUCLE iber0067;
               |CIERRA #19;
               |CIERRA #20;
               |FININF;
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;
