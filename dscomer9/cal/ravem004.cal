|FICHEROS;
     ravem004 #0;
     ravem002 #2;
     ravem005 #5;
|FIN;

|VARIABLES;
     &nDeci_TotVis = 0;
     &eaSer = "";
     &enDocu = 0;
     &eaProve = "";

     aParam = "";
|FIN;

|PROCESO Na; |TIPO 12;
|FPRC;

|PROCESO ravem005;
     |BORRA 020#5a;
|FPRC;

|DEFBUCLE ravem005;
     #5#1;
     ;
     #0#0, #0#1, 001;
     #0#0, #0#1, 999;
     be;
     NULL, ravem005;
|FIN;

|PROGRAMA;
     aParam = PARAMETRO;
     |ABRE #0;
     #0#0 = eaSer;
     #0#1 = enDocu;
     |LEE 101#0=;
     |SI aParam = "BORRA";
          |SI FSalida = 0; |BORRA 020#0a; |FINSI;
     |SINO;
          |SI FSalida ! 0; |GRABA 020#0b; |FINSI;
          |SI aParam = "PROV";
               |ABRE #2;
               #2#0 = eaProve;
               |LEE 000#2=;
               |SI FSalida = 0;
                    #0#2 = #2#1;
               |FINSI;
               |CIERRA #2;
               #0#3 = 0;
               |GRABA 020#0a;

               |BUCLE ravem005;
          |SINO;
               |PINDA #0#0;
               |ENDATOS #1#0;
               |SI FSalida = 0;
                    |GRABA 020#0a;
               |FINSI;
          |FINSI;
     |FINSI;
     |CIERRA #0;
|FPRO;
