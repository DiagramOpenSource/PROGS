|FICHEROS;
     malpe137 #0;
     malpw001 #1; ||Tmp
     malpe001 #10;
     malpe087 #87;
     malpe088 #88;
     malpe090 #90;
     malpe091 #91;
|FIN;

|VARIABLES;
 {-1}aUtil  = "";
     aUtil1 = "2400";
     aUtil2 = "1";
     aUtil3 = "";
     aUtil4 = "CACA";
     aUtil5 = "Cargo Pedido";
     aUtil6 = "Abono Pedido";
     aUtil7 = "Cargo Venta";
     aUtil8 = "Abono Venta";
     aAlfa = "";
     nNume = 0;
     nHay = 0;
|FIN;

|PROCESO Suma; |TIPO 0;
     #0#7 = #0#1 + #0#3 + #0#2 - #0#6; |PINTA #0#7;
     #0#8 = #0#1 + #0#5 + #0#4 - #0#6; |PINTA #0#8;
|FPRC;

|PROCESO LeeObra;
     |DDEFECTO #10;
     #10#0 = #1#4;
     #10#1 = #1#2;
     |LEE 000#10=;
|FPRC;

|PROCESO GrabaAlb;
     nHay = 1;
     |DDEFECTO #1;
     #1#0 = #91#29;
     #1#1 = #91#0;
     #1#6 = #91#2;
     #1#9 = #91#68; ||Precio
     |LEE 101#1=;
     |SI FSalida ! 0; |GRABA 020#1b; |FINSI;
     #1#2 = #90#3;
     #1#3 = #90#4;
     #1#4 = #90#84;
     |HAZ LeeObra;
     #1#5 = #10#2;
     #1#7 = #91#4;
     #1#8 = #1#8 + #91#5;
     #1#10 = #91#8;
     #1#11 = #1#11 + #91#75;
     |GRABA 020#1a;
     |LIBERA #1;
|FPRC;

|PROCESO GrabaPed;
     nHay = 1;
     |DDEFECTO #1;
     #1#0 = #88#28;
     #1#1 = #88#0;
     #1#6 = #88#2;
     #1#9 = #88#59; ||Precio
     |LEE 101#1=;
     |SI FSalida ! 0; |GRABA 020#1b; |FINSI;
     #1#2 = #87#4;
     #1#3 = #87#8;
     #1#4 = #87#63;
     |HAZ LeeObra;
     #1#5 = #10#2;
     #1#7 = #88#4;
     #1#8 = #1#8 + #88#5;
     #1#10 = #88#8;
     #1#11 = #1#11 + #88#66;
     |GRABA 020#1a;
     |LIBERA #1;
|FPRC;

|PROCESO AlbAbono;
     |SI #91#74 ! "A"; |ACABA; |FINSI;
     |HAZ GrabaAlb;
|FPRC;

|PROCESO AlbCargo;
     |SI #91#74 ! "C"; |ACABA; |FINSI;
     |HAZ GrabaAlb;
|FPRC;

|PROCESO PedAbono;
     |SI #88#65 ! "A"; |ACABA; |FINSI;
     |HAZ GrabaPed;
|FPRC;

|PROCESO PedCargo;
     |SI #88#65 ! "C"; |ACABA; |FINSI;
     |HAZ GrabaPed;
|FPRC;

|DEFBUCLE PedCargo;
     #87#4;
     ;
     #0#0;
     #0#0;
     ;
     NULL, NULL, PedCargo;
|FIN;

|DEFBUCLE PedAbono
     #87#4;
     ;
     #0#0;
     #0#0;
     ;
     NULL, NULL, PedAbono;
|FIN;

|DEFBUCLE AlbCargo
     #90#1;
     6;
     "      ", 000001, #0#0;
     "zzzzzz", 999999, #0#0;
     ;
     NULL, NULL, AlbCargo;
|FIN;

|DEFBUCLE AlbAbono
     #90#1;
     6;
     "      ", 000001, #0#0;
     "zzzzzz", 999999, #0#0;
     ;
     NULL, NULL, AlbAbono;
|FIN;

|PROCESO Min;
     #1#0 = " " * 5;
     #1#1 = 000001;
     #1#6 = " " * 20;
     #1#9 = -999999;
|FPRC;

|PROCESO Max;
     #1#0 = "z" * 5;
     #1#1 = 999999;
     #1#6 = "z" * 20;
     #1#9 = 9999999;
|FPRC;

|PROCESO Consultas;
     nHay = 0;
     aAlfa = Usuario; |QBF aAlfa;
     |NOME_DAT #1 aAlfa;
     |DELINDEX #1;
     |ABRE #1;
     |ABRE #10;
     |SI aUtil2 = 1; |BUCLE PedCargo; |FINSI;
     |SI aUtil2 = 2; |BUCLE PedAbono; |FINSI;
     |SI aUtil2 = 3; |BUCLE AlbCargo; |FINSI;
     |SI aUtil2 = 4; |BUCLE AlbAbono; |FINSI;
     |CIERRA #10;
     |CIERRA #1;
     |SI nHay = 0;
          |MENAV "0000No hay registros...";
     |SINO;
          |PUSHV 0501 2380;
          |PINPA #0#1;
          |SI aUtil2 = 1; aAlfa = " CARGOS REMANENTES PEDIDOS "; |FINSI;
          |SI aUtil2 = 2; aAlfa = " ABONOS REMANENTES PEDIDOS "; |FINSI;
          |SI aUtil2 = 3; aAlfa = " CARGOS REMANENTES VENTAS  "; |FINSI;
          |SI aUtil2 = 4; aAlfa = " ABONOS REMANENTES VENTAS  "; |FINSI;
          |ATRI R; |PINTA 0524, aAlfa; |ATRI 0;
          |ENTLINEAL #1#1, 1, 4, 22, 0, Min, Max;
          |POPV;
     |FINSI;
     |DELINDEX #1;
|FPRC;

|PROCESO Tipo20; |TIPO 20;
     |SI FSalida = "OPCION";
          FSalida = "Consultas";
     |SINO;
          |LEE 000#0=;
          |SI FSalida ! 0; |ACABA; |FINSI;
          |MENU aUtil;
          aUtil2 = FSalida;
          |HAZ Consultas;
     |FINSI;
|FPRC;

|PROCESO Consulta; |TIPO 0;
     |SI FSalida ] 10; |Y FSalida [ 13;
          nNume = FSalida;
          nNume = nNume - 9;
          aUtil2 = nNume;
          |HAZ Consultas;
          |ERROR;
     |FINSI;
|FPRC;
