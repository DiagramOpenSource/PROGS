|FICHEROS;
     diam0103 #103;
     diam0104 #104;
|FIN;

|VARIABLES;
     nGrid  = 0;
     nLinea = 0;
     nModo  = 0;
     nForma = 0;
|FIN;

|PROCESO Tipo7;  |TIPO 7;
     #104#0 = #103#0;
     #104#1 = 1;
     |LEE 101#104=;
     |SI FSalida ! 0;
         |DDEFECTO #104;
         #104#0 = #103#0;
         #104#1 = 1;
         |GRABA 020#104b;
     |FINSI;
     #104#2 = #103#3;
     #104#3 = #103#4;
     |GRABA 020#104a;
     |LIBERA #104;

     #104#0 = #103#0;
     #104#1 = 2;
     |LEE 101#104=;
     |SI FSalida ! 0;
         |DDEFECTO #104;
         #104#0 = #103#0;
         #104#1 = 2;
         |GRABA 020#104b;
     |FINSI;
     #104#2 = #103#5;
     #104#3 = #103#6;
     |GRABA 020#104a;
     |LIBERA #104;

     |REFRESCACONTROL nGrid;
|FPRC;

|PROCESO Tipo2;  |TIPO 2;
     nModo  = (FEntrada / 100) ! 0;
     |SI nModo = 3;
         |SI #104#1 = 1;  |O #104#1 = 2;
             |MENAV "0000 Linea Reservada.";
             |ERROR;
         |FINSI;
         |ACABA;
     |FINSI;

     nForma = 0 +. 1;

     |C_M #104#2, 1, "S";
     |SI #104#1 = 1;  |O #104#1 = 2;  |Y nForma ! 1;
         |C_M #104#2, 1, "N";
     |FINSI;
|FPRC;
