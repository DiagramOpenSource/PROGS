|FICHEROS;
     dsz00140 #0;
     agifa019 #19;
     agifa073 #73;
     agifa104 #104;
     dsm00005 #905;
|FIN;

|VARIABLES;
     &enServi = 0;
     nError = 0;
     nLinea = 0;
|FINSI;

|PROCESO Elemento;
     enServi = enServi + #905#12;
     nError = 1;
|FPRC;

|DEFBUCLE Elemento;
     #905#1;
     ;
     "PV", #73#28, #73#0, nLinea, "      ";
     "PV", #73#28, #73#0, nLinea, "zzzzzz";
     ;
     NULL, Elemento;
|FIN;

|PROCESO LinPedi;
     |SI #73#2 ] #0#2; |Y #73#2 [ #0#3;
          nLinea = #73#1;

          #19#0 = #73#2;
          |LEE 000#19=;
          |SI FSalida = 0; |Y #19#176 = "S";
               enServi = 0;
               |BUCLE Elemento;
               |SI enServi ! #73#43;
                    |PRINT;
                    |SI #0#4 = "S";
                         |LEE 121#73=;
                         #73#43 = enServi;
                         |GRABA 020#73a;
                         |LIBERA #73;
                    |FINSI;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE Pedidos;
     #104#1;
     1;
     "     ", 000001, #0#0;
     "zzzzz", 999999, #0#1;
     ;
     NULL, NULL, LinPedi;
|FIN;

|PROCESO T3; |TIPO 3;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "dsz00140";
          |SI FSalida = 0;
               |ABRE #905;
               |ABRE #19;
               |BUCLE Pedidos;
               |CIERRA #19;
               |CIERRA #905;
               |SI nError ! 0; |PIEINF; |FINSI;
               |FININF;
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;
