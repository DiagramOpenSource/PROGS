|FICHEROS;
     agifa224 #0;
     agifa146 #1;
     agifa147 #2;
     dsm00005 #905;

     feldo001@;
|FIN;

|INCLUYE i_varart;

|VARIABLES;
     nSwAlbadis = 0;
     nSwFeldo = 0;
     aAlfa = "";
|FIN;

|PROCESO FeldoPortes;
     |DDEF aAlfa;
     aAlfa = aAlfa + "feldo001";
     |CARGA_DEF aAlfa, feldo001@;
     |SI FSalida = 0;
          |ABRE #feldo001@;
          #feldo001@#0 = #1#48;
          #feldo001@#1 = #1#0;
          |BORRA 000#feldo001@.c;
          |CIERRA #feldo001@;
          |DESCARGA_DEF #feldo001@;
     |SINO;
          |MENAV "0000Error al cargar 'feldo001'";
     |FINSI;
|FPRC;

|PROCESO BorraCompo;
     |BORRA 020#905a;
     |LIBERA #905;
|FPRC;

|DEFBUCLE dsm00005;
     #905#1;
     ;
     "FP", #2#20, #2#0, #2#1, "      ";
     "FP", #2#20, #2#0, #2#1, "zzzzzz";
     be;
     NULL, BorraCompo;
|FIN;

|PROCESO borlin;|TIPO 0;
     |BUCLE dsm00005;

     |BORRA 020#2a;
     |LIBERA #1;

     |SI nSwAlbadis = 0;
          eaSerie = #2#20;
          enCodigo = #2#0;
          enLinea = #2#1;
          |HAZ BseBorraPro;
     |FINSI;
|FPRC;

|PROCESO fichcont;
     |SI #0#9 ! "T";
          |SI #0#9 = "S";|Y #1#61 = "      ";  |ERROR; |ACABA;   |FINSI;
          |SI #0#9 = "N";|Y #1#61 ! "      ";  |ERROR; |ACABA;   |FINSI;
     |FINSI;


     |SI nSwFeldo = 0;
          |HAZ FeldoPortes;
     |FINSI;

     |BORRA 020#1a;
     |LIBERA #1;
|FPRC;

|DEFBUCLE agifa146;
     #1#1;
     3,1;
     #0#6 , #0#2 , #0#0 , #0#4;
     #0#7 , #0#3 , #0#1 , #0#5;
     be;
     NULL, fichcont,borlin;
|FIN;

|PROCESO ontbo;|TIPO 3;
     |SI #0#8 = "SI";

          |HAZ EsAlbadis; ||*
          nSwAlbadis = FSalida;

          |HAZ EsFeldo;
          nSwFeldo = FSalida;

          |BUCLE agifa146;
     |FINSI;
|FPRC;
