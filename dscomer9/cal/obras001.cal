|FICHEROS;
      obras001 #0;            || este def
      obras002 #1,MANTE;      || mantenimiento bloque
      obras003 #2,MANTE;      || mantenimiento planta
      obras004 #3,MANTE;      || mantenimiento pisos
|FIN;
|VARIABLES;
      jj = 0;
      aa = 0;
      inkey=0;
|FIN;
|| ************************************************** BAJAS;
|PROCESO borpi;
    |BORRA 020#3a;
|FPRC;

|DEFBUCLE bajapi;
    #3#1;
;
#2#0,#2#1,#2#2,1;
#2#0,#2#1,#2#2,999;
;
NULL,borpi;
|FIN;

|PROCESO borpl;
    |BUCLE bajapi;
    |BORRA 020#2a;
|FPRC;

|DEFBUCLE bajapl;
    #2#1;
;
#1#0,#1#1,1;
#1#0,#1#1,999;
;
NULL,borpl;
|FIN;

|PROCESO borbl;
    |BUCLE bajapl;
    |BORRA 020#1a;
|FPRC;

|DEFBUCLE bajabl;
    #1#1;
;
#0#0,1;
#0#0,999;
;
NULL,borbl;
|FIN;



 |PROCESO altabl; |TIPO 0;

      |PUSHV 0501 2380;

      jj = (FEntrada / 100 ) ! 0;
           |PINPA #0#1;
           |ATRI I;
           |PINTA 0904, #0#0;
           |PINTA 0908, #0#1;
           |PINTA 0951, #0#2;
           |ATRI i;
           |ENTLINEAL #1#1, 2 , jj , 15 , 0, infbl, supbl;
      |POPV;
 |FPRC;

 |RUTINA infbl;
   #1#0 = #0#0;
   #1#1 = 1;
 |FRUT;
 |RUTINA supbl;
   #1#0 = #0#0;
   #1#1 = 999;
   #2#2 = 999;
 |FRUT;


|PROCESO tobras; |TIPO 2;

         #0#2 = #0#2 +. #1#3;
         |ATRI I;
         |PINTA 0951, #0#2;
         |ATRI i;
      inkey = (FEntrada / 100 ) ! 0;
      |SI inkey = 3;
       |BUCLE bajapl;
      |FINSI;
|FPRC;


|PROCESO altapl; |TIPO 3;

      |PUSHV 0501 2380;

      jj = (FEntrada / 100 ) ! 0;

           |PINPA #0#2;
           |ATRI I;
           |PINTA 1110, #1#1;
           |PINTA 1118, #1#2;
           |PINTA 1151, #1#3;
           |PINTA 1160, #1#4;
           |ATRI i;

           |ENTLINEAL #1#2, 3 , jj , 17 , 0, infpl, suppl;
      |POPV;
      |PINTA #1#4;
|FPRC;

|RUTINA infpl;
   #2#0 = #1#0;
   #2#1 = #1#1;
   #2#2 = 1;
|FRUT;
|RUTINA suppl;
   #2#0 = #1#0;
   #2#1 = #1#1;
   #2#2 = 999;
|FRUT;


|PROCESO tblo; |TIPO 2;

        #1#4 = #1#4 +. #2#4;
         |ATRI I;
         |PINTA 1160, #1#4;
         |ATRI i;

      inkey = (FEntrada / 100 ) ! 0;
      |SI inkey = 3;
       |BUCLE bajapi;
      |FINSI;
|FPRC;


|PROCESO altapi; |TIPO 3;

      |PUSHV 0501 2380;

      jj = (FEntrada / 100 ) ! 0;

           |PINPA #0#3;
           |ATRI I;
           |PINTA 1331, #2#2;
           |PINTA 1337, #2#3;
           |PINTA 1360, #2#4;
           |PINTA 1369, #2#5;
           |ATRI i;

           |ENTLINEAL #1#3, 4 , jj , 20 , 0, infpi, suppi;
      |POPV;
      |PINTA #2#5;
|FPRC;

|RUTINA infpi;
   #3#0 = #2#0;
   #3#1 = #2#1;
   #3#2 = #2#2;
   #3#3 = 1;
|FRUT;
|RUTINA suppi;
   #3#0 = #2#0;
   #3#1 = #2#1;
   #3#2 = #2#2;
   #3#3 = 999;
|FRUT;


|PROCESO tpla; |TIPO 2;
        #2#5 = #2#5 +. #3#5;
         |ATRI I;
         |PINTA 1369, #2#5;
         |ATRI i;
|FPRC;

|| ************************************************** CONSULTAS;

 |PROCESO consbl; |TIPO 0;

      aa = (FEntrada / 100 ) ! 0;
    |SI aa = 4;
      |PUSHV 0501 2380;

           |PINPA #0#1;
           |ATRI I;
           |PINTA 0904, #0#0;
           |PINTA 0908, #0#1;
           |PINTA 0951, #0#2;
           |ATRI i;
           |ENTLINEAL #1#1, 2 , 4 , 15 , 0, infbl, supbl;

      |POPV;
       aa = 0;
   |FINSI;
 |FPRC;

|PROCESO conspl; |TIPO 0;

      inkey = (FSalida / 100) !0;

      |SI inkey =0; |Y aa = 4;

      |PUSHV 0501 2380;

           |PINPA #0#2;
           |ATRI I;
           |PINTA 1110, #1#1;
           |PINTA 1118, #1#2;
           |PINTA 1151, #1#3;
           |PINTA 1160, #1#4;
           |ATRI i;

           |ENTLINEAL #1#2, 3 , 4 , 17 , 0, infpl, suppl;

      |POPV;
      |PINTA #1#4;
    |FINSI;

|FPRC;

|PROCESO conspi; |TIPO 0;

      inkey = (FSalida / 100) !0;

      |SI inkey =0; |Y aa = 4;


      |PUSHV 0501 2380;

           |PINPA #0#3;
           |ATRI I;
           |PINTA 1331, #2#2;
           |PINTA 1337, #2#3;
           |PINTA 1360, #2#4;
           |PINTA 1369, #2#5;
           |ATRI i;

           |ENTLINEAL #1#3, 4 , 4 , 20 , 0, infpi, suppi;
      |POPV;
      |PINTA #2#5;
    |FINSI;
|FPRC;

|| ************************************************** BAJAS;

|PROCESO baja; |TIPO 2;
      inkey = (FEntrada / 100 ) ! 0;
      |SI inkey = 3;
       |BUCLE bajabl;
      |FINSI;
|FPRC;
