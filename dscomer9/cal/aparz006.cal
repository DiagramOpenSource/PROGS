          Campo conductor quitado de pantalla!!!

|FICHEROS;
     aparz006 #0;
     aparw005 #5;
     aparm017 #17;
     aparm019 #19;
     aparm020 #20;
     aparm025 #25;
     aparm021 #21;
     aparm032 #32;
     aparm034 #34;
|FIN;

|VARIABLES;
     nSwAcaba = 0;
     aMensaje = "";
     &enSalario = 0;
     &enSeguro = 0;
     aAlfa = "";
     fHoy = @;
     fDFecha = @;
     fHFecha = @;
     f = @;
     nNume = 0;
     nMeses = 0;
|FIN;

|PROCESO Incidencias;
     |DDEFECTO #5;
     #5#0 = #19#0;
     |LEE 101#5=;
     |SI FSalida ! 0; |GRABA 020#5b; |FINSI;
     #5#2 = #5#2 + #19#6;
     |GRABA 020#5a;
     |LIBERA #5;
|FPRC;

|PROCESO Mantenimientos;
     |DDEFECTO #5;
     #5#0 = #20#0;
     |LEE 101#5=;
     |SI FSalida ! 0; |GRABA 020#5b; |FINSI;
     #5#3 = #5#3 + #20#7;
     |GRABA 020#5a;
     |LIBERA #5;
|FPRC;

|PROCESO Ventas;
     |DDEFECTO #5;
     #5#0 = #21#0;
     |LEE 101#5=;
     |SI FSalida ! 0; |GRABA 020#5b; |FINSI;
     #5#1 = #5#1 + #21#13;
     |GRABA 020#5a;
     |LIBERA #5;
|FPRC;

|PROCESO Surtidor;
     |DDEFECTO #32;
     #32#0 = #34#1;
     |LEE 000#32=;

     |DDEFECTO #5;
     #5#0 = #34#6;
     |LEE 101#5=;
     |SI FSalida ! 0; |GRABA 020#5b; |FINSI;
     #5#5 = #5#5 + #34#4;
     #5#4 = #5#4 + (#34#4 * #32#5);
     |GRABA 020#5a;
     |LIBERA #5;
|FPRC;

|DEFBUCLE Incidencias;
     #19#1;
     2;
     #0#0, 00001, fDFecha;
     #0#1, 99999, fHFecha;
     ;
     NULL, Incidencias;
|FIN;

|DEFBUCLE Mantenimientos;
     #20#1;
     2;
     #0#0, 00001, fDFecha;
     #0#1, 99999, fHFecha;
     ;
     NULL, Mantenimientos;
|FIN;

|DEFBUCLE Ventas;
     #21#1;
     3, 12;
     #0#0, "     ", 000000, fDFecha, #0#2;
     #0#1, "zzzzz", 999999, fHFecha, #0#3;
     ;
     NULL, Ventas;
|FIN;

|DEFBUCLE Surtidor;
     #34#2;
     7;
     "G", #0#0, fDFecha, #0#2;
     "G", #0#1, fHFecha, #0#3;
     ;
     NULL, Surtidor;
|FIN;

|PROCESO Tmp;
     |DDEFECTO #17;
     #17#0 = #5#0;
     |LEE 000#17=;

     |SI #17#37 = "S"; |ACABA; |FINSI;

     enSeguro = (#17#21 + #17#31) / 12 * nMeses;

     aAlfa = #5#0; |QBF aAlfa;
     |SI aAlfa = "";
          enSalario = 0;
     |SINO;
          enSalario = #25#5 * nMeses;
     |FINSI;
     |PRINT;
|FPRC;

|DEFBUCLE Tmp;
     #5#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, Tmp;
|FIN;

|PROCESO Tipo12; |TIPO 12;
     |SI FSalida = 7; |ACABA; |FINSI;

     |SI #0#4 ! #0#5; |Y FSalida ! 2;
          nNume = #0#4 + 1;

          |SI nNume > #0#5;
               |MENAV "0000No se puede listar mas de un a¤o...";
               |ERROR;
               |ACABA;
          |SINO;
               nNume = 12 - #0#6 + #0#7;
               |SI nNume ] 12;
                    |MENAV "0000No se puede listas mas de un a¤o...";
                    |ERROR;
                    |ACABA;
               |FINSI;
          |FINSI;
     |FINSI;

     aMensaje = "0000SES CORRECTO?";
     |CONFI aMensaje;
     |SI FSalida ! 0;
          nSwAcaba = 1;
     |FINSI;
|FPRC;

|PROCESO Defecto; |TIPO 7;
     |SI #0#4 = 0;
          fHoy = ~;
          aAlfa = fHoy % 704; #0#4 = aAlfa; |PINTA #0#4;
          aAlfa = fHoy % 704; #0#5 = aAlfa; |PINTA #0#5;
          aAlfa = fHoy % 402; #0#6 = aAlfa; |PINTA #0#6;
          aAlfa = fHoy % 402; #0#7 = aAlfa; |PINTA #0#7;
     |FINSI;
|FPRC;

|PROCESO UltDiaMes;
     |PARA f = fHFecha; |SI; |HACIENDO f = f + 1;
          aAlfa = f % 402;
          |SI aAlfa ! #0#7; |SAL; |FINSI;
          fHFecha = f;
     |SIGUE;
|FPRC;

|PROCESO Tipo3; |TIPO 3;
     |SI nSwAcaba = 1;
          |ACABA;
     |FINSI;

     |SI #0#4 = #0#5;
          nMeses = #0#7 - #0#6 + 1;
     |SINO;
          nMeses = 12 - #0#6 + #0#7;
     |FINSI;

     |ABRE #25; |LEE 000#25p; |CIERRA #25;

     aAlfa = Usuario;
     |NOME_DAT #5 aAlfa; |DELINDEX #5;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "aparz006";
          |SI FSalida = 0;
               aAlfa = "01." + (("00" + #0#6) % -102) + ".";
               aAlfa = aAlfa + (("0000" + #0#4) % -104);
               fDFecha = aAlfa;
               aAlfa = "01." + (("00" + #0#7) % -102) + ".";
               aAlfa = aAlfa + (("0000" + #0#5) % -104);
               fHFecha = aAlfa;
               |HAZ UltDiaMes;
               |ABRE #5;
               |BUCLE Incidencias;
               |BUCLE Mantenimientos;
               |BUCLE Ventas;
               |ABRE #32;
               |BUCLE Surtidor;
               |CIERRA #32;
               |CIERRA #5;

               |ABRE #17;
               |BUCLE Tmp;
               |CIERRA #17;

               |PIEINF;
               |FININF;
          |SINO;
               aAlfa = "0000No existe informe 'aparz006'";
               |MENAV aAlfa;
          |FINSI;
          |FINIMP;
     |FINSI;
     |DELINDEX #5;
|FPRC,
