      Los procesos marcados con (*) son los necesarios para
      simular un cabeceras/lineas

|FICHEROS;
     juminf12 #0;
     juminf13 #1,MANTE;
|FIN;

|VARIABLES;
     aAlfa = "";
     nGrid1 = -1;
     nRango = 0;
     nPos1 = 0;
     nPos2 = 0;
     nModo = 0;
     nHay = 0;
     nLinea = 0;

     nSesion = 0;
|FIN;

|PROCESO RecalcLins;
   |BORRA 020#juminf13.a;

   #juminf13#2 = nSesion; nSesion = nSesion + 1;
   |GRABA 020#juminf13.n;
|FPRC;

|DEFBUCLE RecalcLins;
#juminf13#1;
;
#juminf12#0, #juminf12#1, 001;
#juminf12#0, #juminf12#1, 999;
be;
NULL, RecalcLins;
|FIN;

|PROCESO Recalcula;
   nSesion = 1; |BUCLE RecalcLins;
|FPRC;

|PROCESO Evento;
   |SI FSalida = 1; |O FSalida = 2; |LEE 000#juminf13.c; |FINSI;
|FPRC;

|PROCESO Min;
     #1#0 = #0#0;
     #1#1 = #0#1;
     #1#2 = 000;
|FPRC;

|PROCESO Max;
     #1#0 = #0#0;
     #1#1 = #0#1;
     #1#2 = 999;
|FPRC;

|PROCESO Tipo14; |TIPO 14;    ||(*)
     |SI nGrid1 = -1;
          nRango = 1 + 4 + 8 + 16 + 32;
          nPos1 = 1202;
          nPos2 = 2279;
          |LINEAL_SIMPLE #1#1, nRango, nPos1, nPos2, Min, Max, Evento;
          nGrid1 = FSalida;
          |PULSATECLA;
     |SINO;
          |REFRESCACONTROL nGrid1;
     |FINSI;
|FPRC;

|PROCESO Tipo8; |TIPO 8; ||(*)
     |ABRET #1;
|FPRC;

|PROCESO Tipo9; |TIPO 9; ||(*)
     |CIERRAT #1;
|FPRC;

|PROCESO BorraLin;
     |BORRA 020#1a;
     |LIBERA #1;
|FPRC;

|DEFBUCLE BorraLin;
     #1#1;
     ;
     #0#0, #0#1, 000;
     #0#0, #0#1, 999;
     be;
     NULL, BorraLin;
|FIN;

|PROCESO Tipo2; |TIPO 2; ||(*)
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3;
          |BUCLE BorraLin;
     |FINSI;
|FPRC;

|PROCESO Tipo0; |TIPO 0;     ||(*)
     |REFRESCACONTROL nGrid1;
|FPRC

|PROCESO Tipo12; |TIPO 12;    ||(*)
     || No quitar
|FPRC;

|PROCESO Tipo30; |TIPO 30;    ||(*)
     nModo = (FEntrada / 100) ! 0;
     #1#0 = #0#0;
     #1#1 = #0#1;
     #1#2 = 0;
     |LEE 000#1];
     |SI FSalida ! 0; |O #1#0 ! #0#0; |O #1#1 ! #0#1;
          |SI nModo = 1;
               |MENAV "0000Se anulan los datos entrados.";
          |SINO;
               |MENAV "0000No existen lineas, se borra la cabecera.";
          |FINSI;
          |BORRA 020#0a;
          |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo80_12; |TIPO 80;
     FSalida = 2380;
|FPRC;

|PROCESO Tipo1_13; |TIPO 1;
   nModo = (FEntrada / 100) ! 0;
   |SI nModo = 3;
      |BORRA 020#juminf13.a;

      |SALVA_FICHA #juminf13;
      |HAZ Recalcula;
      |REPON_FICHA #juminf13;
      |PTEC 802;
   |FINSI;
|FPRC;
