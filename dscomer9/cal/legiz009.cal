|FICHEROS;
     legim012 #12;
|FIN;

|VARIABLES;
     &eaCliente = "";
     &enNumSolicitud = 0;

     aMensaje = "";
   {5}aPopup = "";

     aAlfa = "";
     aDesde = "";
     aHasta = "";
|FIN;

|PROCESO Baja012;
     #legim012#0 = eaCliente;
     #legim012#1 = 0001;
     #legim012#5 = aDesde;
|FPRC;

|PROCESO Alta012;
     #legim012#0 = eaCliente;
     #legim012#1 = 9999;
     #legim012#5 = aHasta;
|FPRC;

|PROCESO Principal;
     |SI aAlfa = "P";
          aDesde = "N";
          aHasta = "N";
     |SINO;
          |SI aAlfa = "T";
               aDesde = "S";
               aHasta = "S";
          |SINO;
               aDesde = "N";
               aHasta = "S";
          |FINSI;
     |FINSI;

     |ABRE #legim012;
     |CONSULTA_F_CLAVE #2#legim012, Baja012, Alta012;
     |SI FSalida = 0;
          |CIERRA #legim012;
          |PUSHV 0501 2380;
               enNumSolicitud = #legim012#1;
               |SUB_EJECUTA_NP "legim012;MODI";
          |POPV;
     |SINO;
          |CIERRA #legim012;
     |FINSI;
|FPRC;

|PROGRAMA;
     aPopup1 = "-1";  || Si fuera -1 en la posicion

     aPopup2  = 3;
     aPopup3  = "(P) Pendientes";
     aPopup4  = "(T) Terminados";
     aPopup5  = "(A) Ambos";

     IaPopup  = aPopup1  <-;
     |ESPECIFICA "TRACKPOPUP", aPopup;
     |SI FSalida ! 0;
          IaPopup  = aPopup3  <-;
          IaPopup  = IaPopup + (FSalida - 1);

          aAlfa = aPopup % 201;
          |SI aAlfa = "P";
               aMensaje = "0000Pendientes";
          |SINO;
               |SI aAlfa = "T";
                     aMensaje = "0000Terminados";
               |SINO;
                     aMensaje = "0000Ambos";
               |FINSI;
          |FINSI;
          |HAZ Principal;
     |FINSI;
|FPRO;
