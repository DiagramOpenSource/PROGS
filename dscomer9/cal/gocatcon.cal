|FICHEROS;
     gocatcon #0;
     agifa321 #1;
     gocatcot #2,MANTE;
|FIN;
-----------------------------------------------------------------------------
|VARIABLES;
     nImporte       = 0;
     nCamp          = 0;
     nCam1          = 0;
     aAlfa1         = "";
     qMod           = 0;
     nModo          = 0;

     &cCodMonBase   = "";
     &cDesMonBase   = "";
     &cCodMonTrab   = "";
     &cDesMonTrab   = "";

     &nDeci_PBase   = 0;
     &nDeci_TBase   = 0;
     &nDeci_PTrab   = 0;
     &nDeci_TTrab   = 0;
     &nDeci_TotVis  = 0;
     &nEurComTrab   = 0;
     &nEurComBase   = 0;
     &nEurVenTrab   = 0;
     &nEurVenBase   = 0;

|FIN;
-----------------------------------------------------------------------------
|PROCESO ValMon; |TIPO 14;
     |ABRE #1;
     #1#0 = "A";
     |LEE 000#1=;
     |SI FSalida ! 0;
          |MENAV "0000NO ESTAN DEFINIDOS LOS PARAMETROS DE DIVISAS";
          |PUSHV 01012380;
          |CLS;
          |DDEFECTO #1;
          |PINPA #0#1;
          |PINDA #0#1;
          |ENDATOS #1#1;
          |SI FSalida ! 0;
               |ERROR;
               |ACABA;
          |FINSI;
     |FINSI;
     cCodMonTrab = #1#9;
     ||SUB_EJECUTA_NP "gomoneda";
     |HAZ MonBas;
     #0#5 = cCodMonBase;
     #0#6 = cDesMonBase;
     ||PINTA #0#5;
     ||PINTA #0#6;
     |CIERRA #1;
|FPRC;
-----------------------------------------------------------------------------
|PROCESO PreCos; |TIPO 0;
     |SI Campo = 4;
          |SI #0#3 < #0#4;
               |MENAV "0000EL PRECIO DE COSTE ES SUPERIOR AL DE VENTA";
               |ERROR;
          |FINSI;
     |FINSI;
     |SI Campo = 9;
          |SI #0#7 < #0#9;
               |MENAV "0000EL PRECIO DE COSTE ES SUPERIOR AL DE VENTA";
               |ERROR;
          |FINSI;
     |FINSI;
     |SI Campo = 10;
          |SI #0#8 < #0#10;
               |MENAV "0000EL PRECIO DE COSTE ES SUPERIOR AL DE VENTA";
               |ERROR;
          |FINSI;
     |FINSI;
|FPRC;
-------------------------------------------------------------------------------
|PROCESO tipohora; |TIPO 20;
     aAlfa1 = FSalida;
     |SI aAlfa1 = "OPCION";
         FSalida = "Tip.Hora";
         |ACABA;
     |FINSI;
     qMod = (FEntrada / 100) ! 0;
     |PUSHV 0501 2380;
     |ENTLINEAL #1#2 , -3 , 2 , 22 , 1 , inf4 , sup4;
     |POPV;
|FPRC;

|RUTINA inf4;
     #2#0 = #0#0;
     #2#1 = #0#1;
     #2#2 = 01;
|FRUT;

|RUTINA sup4;
     #2#0 = #0#0;
     #2#1 = #0#1;
     #2#2 = 99;
|FRUT;

|PROCESO aumento; |TIPO 0;
     |SI Campo [ 16;
          nCamp = Campo;
          nCam1 = nCamp - 7;
          |SI nCamp = 11;
               nImporte = #0#3;
          |FINSI;
          |SI nCamp = 12;
               nImporte = #0#4;
          |FINSI;
          |SI nCamp = 13;
               nImporte = #0#7;
          |FINSI;
          |SI nCamp = 14;
               nImporte = #0#9;
          |FINSI;
          |SI nCamp = 15;
               nImporte = #0#8;
          |FINSI;
          |SI nCamp = 16;
               nImporte = #0#10;
          |FINSI;
          |SI #2nCamp ! 0;  |Y nImporte ! 0;
               #2nCam1 = nImporte + #2nCamp;
               |PINTA #2nCam1;
          |FINSI;
     |FINSI;
     |SI Campo > 16;
          nCamp = Campo;
          nCam1 = nCamp - 13;
          |SI nCamp = 17;
               nImporte = #0#3;
          |FINSI;
          |SI nCamp = 18;
               nImporte = #0#4;
          |FINSI;
          |SI nCamp = 19;
               nImporte = #0#7;
          |FINSI;
          |SI nCamp = 20;
               nImporte = #0#9;
          |FINSI;
          |SI nCamp = 21;
               nImporte = #0#8;
          |FINSI;
          |SI nCamp = 22;
               nImporte = #0#10;
          |FINSI;
          |SI #2nCamp ! 0;  |Y nImporte ! 0;
               #2nCam1 = nImporte > #2nCamp;
               |PINTA #2nCam1;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO Tipo0; |TIPO 0;
     |ABRE #2;
     #2#0 = #0#0;
     #2#1 = #0#1;
     #2#2 = #0Campo;
     |LEE 000#2=;
     |SI FSalida ! 0; |Y #2#2 > 0;
          |MENAV "0000Tipo de hora no definido...";
     |FINSI;
     |CIERRA #0;
|FPRC;


|PROCESO Tipo66; |TIPO 66;
     |ABRE #2;
     #2#0 = #0#0;
     #2#1 = #0#1;
     #2#2 = #0Campo;
     |LEE 000#2];
     |CONSULTA_F_CLAVE #1#2, inf4, sup4;
     |SI FSalida = 0;
          #0Campo = #2#2;
          |PINTA #0Campo;
     |SINO;
          |ERROR;
     |FINSI;
     |CIERRA #2;
|FPRC;
