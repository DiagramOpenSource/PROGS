|FICHEROS;
alba0005 #0;
alba0002 #1;
agifa019 #2;
alba0006 #3,MANTE;
agifa112 #4;
|FIN;

|VARIABLES;
     lin = 0;
     aAlfa = "";
     &enAlta = 0;
     &eaArticulo = "";
|FIN;

|PROCESO LlenaArt; |TIPO 6;
     enAlta = 0;
     eaArticulo = #3Campo;
     |HAZ LlenaArticulo;
     |SI FSalida = 0;
          #3Campo = eaArticulo;
          |PINTA #3Campo;
     |SINO;
          |ERROR; |ACABA;
     |FINSI;
|FPRC;


|CALCULO cli;|TIPO 7;
|PINTA 0633,"                                              ";
|PINTA 0733,"                                              ";
|ABRE #4;
#4#0 = #0#1;
|LEE 000#4=;
|SI FSalida = 0;
  |PINTA 0636,#4#1;
  |PINTA 0736,#4#2;
|FINSI;
|LIBERA #4;
|CIERRA #4;
|FCAL;

|CALCULO lee_tec;|TIPO 13;
|SI FSalida = 9;
  |ABRE #1;
  #1#0 = #0#1;
  #1#1 = #0#2;
  |LEE 000#1=;
  |LIBERA #1;
  |BORRA 000#1a;
|FINSI;
|LIBERA #1;
|CIERRA #1;
|FCAL;

|CALCULO prom;
#2#0 = #1#1;
|LEE 000#2=;
|LIBERA #2;
lin = lin + 1;
#0#0 = lin;
#0#1 = #1#0;
#0#2 = #1#1;
#0#3 = #2#1;
#0#4 = #1#2;
#0#5 = #1#3;
#0#6 = #1#4;
#0#7 = #1#5;
|GRABA 000#0n;
|LIBERA #0;
|FCAL;

|DEFBUCLE generar;
#1#1;
;
#3#0 , #3#2;
#3#1 , #3#3;
be;
NULL,prom;
|FIN;


|CALCULO pro1;
#0#0 = 00001;
|FCAL;

|CALCULO pro2;
#0#0 = 99999;
|FCAL;

|CALCULO promocion;|TIPO 0;
|ABRE #1;
#1#0 = #0#1;
#1#1 = #0#2;
|LEE 111#1=;
|SI FSalida ! 0;
  |GRABA 000#1c;
  |LIBERA #1;
|FINSI;
#1#2 = #0#4;
#1#3 = #0#5;
#1#4 = #0#6;
#1#5 = #0#7;
|GRABA 121#1a;
|LIBERA #1;
|CIERRA #1;
|FCAL;

|PROCESO Tipo12; |TIPO 12;
     aAlfa = Usuario;
     |NOME_DAT #0 aAlfa; |DELINDEX #0;

     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |BUCLE generar;
     |ENTLINEAL #1#0 , 1 , 2 , 21 , 0 , pro1, pro2;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;

     |DELINDEX #0;
|FPRC;

|PROGRAMA;
     |CLS;
     |CABEZA "Modificador De Promociones Compras";
     |ENTLINEAL #1#0 , 1 , 7 , 21 , 1 , pro1, pro2;
     |PINDA #0#3;
     |ENDATOS #1#3;
|FPRO;
