|FICHEROS;
     golis015 #0;
     gopartia #1;
     goalbpa4 #4;
     goalbpa5 #5;
|FIN;

|VARIABLES;
     aDesde = "";
     aHasta = "";
     &enLin = 0;
     nExiste = 0;
     &enUni = 0;
     nHay = 0;
     nRecalcula=0;
|FIN;

|PROCESO gopartia_1;
     #5#0 = #1#4;
     #5#1 = #1#5;
     #5#2 = #1#6;
     |LEE 000#5=;
     |SI FSalida ! 0;
          enLin = 5; |PRINT; nHay = 1;
     |FINSI;
|FPRC;

|DEFBUCLE gopartia_1;
     #1#3;
     28, 5, 34;
     #0#0, #0#2, "     ", 000000, aDesde, aDesde, #0#4, 500000, "A";
     #0#1, #0#3, "zzzzz", 999999, aHasta, aHasta, #0#5, 999999, "A";
     ;
     NULL, gopartia_1;
|FIN;

|PROCESO gopartia;
     enUni = enUni + #1#10;
     nExiste = 1;

              ||Precio , Articulo
     |SI #1#41 ! #5#9;|O #1#20 ! #5#3;
          enLin = 4; |PRINT; nHay = 1;
          |SI #1#20=#5#3;  |Y #1#10=#5#5; |Y nRecalcula=1;
              #1#41=#5#9;
              #1#11=#5#9;
              #1#49=#5#9;
              #1#23=#5#9;
              #1#13=#5#10;
              #1#25=#5#10;
              |HAZ CalcuGopartia;
              |GRABA 020#1a;
          |FINSI;
     |FINSI;
     |LIBERA #1;
|FPRC;

|DEFBUCLE gopartia;
     #1#1;
     ;
     "A", #5#0, #5#1, #5#2, 1;
     "A", #5#0, #5#1, #5#2, 999;
     be;
     NULL, gopartia;
|FIN;

|PROCESO goalbpa5;
     enUni = 0;
     nExiste = 0;
     |BUCLE gopartia;
     |SI nExiste = 0;
          enLin = 1; |PRINT; nHay = 1;
     |SINO;
          |SI #5#7 ! 0;
               enLin = 2; |PRINT; nHay = 1;
          |FINSI;
          |SI enUni ! #5#6;
               enLin = 3; |PRINT; nHay = 1;
               #5#6 = enUni;
               #5#7 = #5#5 - #5#6;
               |GRABA 000#5a;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE goalbpa4;
     #4#1;
     2;
     #0#0, 000001, #0#4;
     #0#1, 999999, #0#5;
     ;
     NULL, NULL, goalbpa5;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     nRecalcula=0;
     |SI #0#6 = "S";
          nRecalcula=1;
     |FINSI;
     |HAZ MiraLogos; || Copia Logos para el Crystal
     aDesde = " " * 20;
     aHasta = "z" * 20;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "golis015";
          |SI FSalida = 0;
               |BUCLE goalbpa4;
               |ABRE #5;
               |BUCLE gopartia_1;
               |CIERRA #5;
               |SI nHay ! 0; |PIEINF; |FINSI;
               |FININF;
          |SINO;
               |MENAV "0000No existe informe 'golis015'";
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;
