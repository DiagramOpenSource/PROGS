|FICHEROS;
     diam0009 #9;
     agifa025 #125;
     diaw0012 #900,MANTE;
|FIN;

|VARIABLES;
     aAlfa     = "";
     aFichero  = "";

     nNume     = 0;
     nAnyo     = 0;
     nCampo    = 0;

     fFecha    = @;
|FIN;

|RUTINA Baja900;
    #900#0 = 2003;
|FRUT;

|RUTINA Alta900;
    #900#0 = nAnyo;
|FRUT;

|RUTINA Baja9;
    #9#5 = #900#0;
    #9#0 = "  ";
|FRUT;

|RUTINA Alta9;
    #9#5 = #900#0;
    #9#0 = "zz";
|FRUT;

|PROCESO Tipo7;  |TIPO 7;
     |ENTLINEAL #1#9, -2, 7, 22, 0, Baja9, Alta9;
|FPRC;

|PROCESO Tipo0;  |TIPO 0;
     |ENTLINEAL #1#9, -2, 2, 22, 0, Baja9, Alta9;
|FPRC;

|PROCESO diam0009;
     |SI nAnyo = #900#0;
         |BORRA 020#9a;
     |SINO;
         #9#5 = nAnyo + 1;
         |GRABA 020#9n;
     |FINSI;
     |LIBERA #9;
|FPRC;

|DEFBUCLE diam0009;
     #9#1;
     ;
     nAnyo, "  ";
     nAnyo, "zz";
     be;
     NULL, diam0009;
|FIN;

|PROCESO Tipo11;  |TIPO 11;
     |SI FSalida ! 10;  |ACABA;  |FINSI;

     |SI #900#0 [ 2003;
         |MENAV "0000 No puedo duplicar el Ejercicio 2003.";
         |ACABA;
     |FINSI;

     |CONFI "0000NEste proceso borrara todos los Tecnicos y los duplicara del Ejercicio anterior.";
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     nAnyo = #900#0;
     |BUCLE diam0009;

     nAnyo = #900#0 - 1;
     |BUCLE diam0009;
|FPRC;

|PROCESO Tipo7m9;  |TIPO 7;
     |ABRE #125;
     #125#0 = #9#0;
     |LEE 000#125=;
     |SI FSalida ! 0;  |DDEFECTO #125;  |FINSI;
     |CIERRA #125;

     |PINTA 0725, #125#1;
|FPRC;

|PROGRAMA;
     aFichero = ("m9" + Usuario + "zzzzzzzz") % 108;
     |NOME_DAT #900 aFichero;
     |ABRE #900;  |CIERRA #900;  |DELINDEX #900;
     fFecha = ~;
     aAlfa  = fFecha % -104;
     nAnyo  = aAlfa;

     |ABRE #900;
     |PARA nCampo = 2003;  |SI nCampo [ nAnyo;  |HACIENDO nCampo = nCampo + 1;
           #900#0 = nCampo;
           |GRABA 020#900n;
           |LIBERA #900;
     |SIGUE;
     |CIERRA #900;

     |ENTLINEAL #1#900, -1, 4, 22, 1, Baja900, Alta900;

     |DELINDEX #900;
|FPRO;
