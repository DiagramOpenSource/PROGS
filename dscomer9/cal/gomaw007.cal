|FICHEROS;
     gomaw007 #0;
     gomaw008 #1;
     gomantho #2;
     goalbpa4 #4;
     goalbpa5 #5;
     goalbpa6 #6; ||=gopartia
     goparame #10;
|FIN;

|VARIABLES;
     &Tempo = "";
     aTmp1 = "";
     aAlfa = "";

     {-1}aMenu = "";
     aMenu1 = "2400";
     aMenu2 = "1";
     aMenu3 = "";
     aMenu4 = "CIS";
     aMenu5 = " Consulta ";
     aMenu6 = " Imprimir ";
     aMenu7 = " Salir ";
     nLin = 0;
|FIN;

|PROCESO Tmp;
     |PRINT;
|FPRC;

|DEFBUCLE Tmp;
     #1#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, Tmp;
|FIN;

|PROCESO Impre;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "gomaw007";
          |SI FSalida = 0;
               |BUCLE Tmp;
               |PIEINF;
               |FININF;
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;

|PROCESO LlenaTmp;
     |SI #5#5 > 0;
          nLin = nLin + 1;
          #1#0 = nLin;
          #1#1 = #5#3;
          #1#2 = #5#4;
          #1#3 = #5#5;
          |GRABA 020#1n;

          #6#34 = "A";
          #6#4 = #5#0;
          #6#5 = #5#1;
          #6#6 = #5#2;
          #6#7 = 1;
          |LEE 000#6];
          |SI FSalida = 0; |Y #6#34 = "A"; |Y #6#4 = #5#0; |Y #6#5 = #5#1;
                    |Y #6#6 = #5#2;
               #0#1 = #6#2;
               #0#2 = #6#3;
               #0#7 = #6#0;
               #0#8 = #6#1;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE LlenaTmp;
     #5#1;
     ;
     #4#0, #4#1, 001;
     #4#0, #4#1, 999;
     ;
     NULL, LlenaTmp;
|FIN;

|PROCESO Min1;
     #1#0 = 1;
|FPRC;

|PROCESO Max1;
     #1#0 = 999;
|FPRC;

|PROGRAMA;
     |ABRE #10; |LEE 000#10p; |CIERRA #10;

     |HAZ CreaTempo; aTmp1 = Tempo; |NOME_DAT #1 aTmp1;
     |PINPA #0#0;
     |SI #10#141 = "O";
          |PINTA 803, "O.T........:"; |ATRI 0;
          |PINTA 858, "O.E..:"; |ATRI 0;
     |FINSI;

     |PINDA #0#0;
     |ENTLINEAL #1#1, 1, 7, 22, 0, Min1, Max1;
     |PARA; |SI; |HACIENDO;
          |ENDATOS #1#0;
          |SI FSalida ! 0; |SAL; |FINSI;
          |DELINDEX #1;
          |ABRE #4;
          |ABRE #6;
          #4#0 = #0#3;
          #4#1 = #0#4;
          |LEE 020#4=;
          |SI FSalida = 0;
               #0#0 = #4#2; |PINTA #0#0;
               #0#5 = #4#9; |PINTA #0#5;
               #0#6 = #4#8; |PINTA #0#6;

               nLin = 0;
               |ABRE #1;
               |BUCLE LlenaTmp;
               |CIERRA #1;

               |DDEFECTO #2;
               |ABRE #2;
               #2#0 = #0#1;
               #2#1 = #0#2;
               |LEE 000#2=;
               |CIERRA #2;
               |PINTA 1016, #2#2;
               |PINTA 1023, #2#8;

               |PINTA #0#0;
               |PINTA #0#1;
               |PINTA #0#2;
               |PINTA #0#5;
               |PINTA #0#6;
               |PINTA #0#7;
               |PINTA #0#8;
          |FINSI;
          |CIERRA #4;
          |CIERRA #6;
          |ENTLINEAL #1#1, 1, 4, 22, 0, Min1, Max1;
       |ET Otra;
          |MENU aMenu;
          |SI FSalida = 3; |SAL; |FINSI;
          |SI FSalida = 2; |HAZ Impre; |VETE Otra; |FINSI;
     |SIGUE;

     Tempo = aTmp1; |HAZ BoraTempo; |DELINDEX #1;
|FPRO;
