|FICHEROS;
     sctrz096 #0;
|FIN;

|VARIABLES;
     &Tempo = "";
     aParam = "";
     aNomFic = "";
     aTmp0 = "";
     aDes = "";
     aPath = "";
     nHandle = 0;
     aDato = "";
|FIN;

|PROCESO GrabaResultado;
     |DFICE aPath;
     aDes = aPath + aNomFic + ".sal";
     |XABRE "W", aDes, nHandle;
     |SI FSalida ] 0;
          |XGRABA nHandle, "resultado";
          |XGRABA nHandle, "ok";
          |XCIERRA nHandle;
     |FINSI;
|FPRC;

|PROCESO LeePeticion;
     |DFICE aPath;
     aDes = aPath + aNomFic + ".ent";
     |XABRE "", aDes, nHandle;
     |SI FSalida ] 0;
          |XLEE nHandle, 250, aDato;    || los nombres
          |XLEE nHandle, 250, aDato;
          |PARA; |SI FSalida ] 0; |HACIENDO;
               #0#0 = aDato;
               |GRABA 020#0n;
               |XLEE nHandle, 250, aDato;
          |SIGUE;
          |XCIERRA nHandle;
     |FINSI;
|FPRC;

|PROGRAMA;
     aParam = PARAMETRO;

     |SI aParam = "menu";
          |DEBUG;
     |FINSI;

     |HAZ CreaTempo; |NOME_DAT #0 Tempo; |DELINDEX #0; aTmp0 = Tempo;
     |ABRE #0;

     aNomFic = aParam;
     |HAZ LeePeticion;
     |HAZ AnulaReserva;
     |HAZ GrabaResultado;

     |CIERRA #0;
     |DELINDEX #0; Tempo = aTmp0; |HAZ BoraTempo;
|FPRO;
