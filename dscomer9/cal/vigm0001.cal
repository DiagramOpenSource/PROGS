|FICHEROS;
     vigm0001 #0;
|FIN;

|VARIABLES;
     &eaArticulo = "";
     aParam = "";
|FIN;

|PROCESO Tipo; |TIPO 0;
     |SI #0#1 = "T";
          |MODO_RELACION #0, 1, "vigm0002", "S", "S";
          |C_M #0#3, 1, "S";
          |C_M #0#4, 1, "S";
          |C_M #0#5, 1, "S";
          |C_M #0#6, 1, "S";
          |C_M #0#7, 1, "S";
     |SINO;
          |MODO_RELACION #0, 1, "vigm0002", "N", "N";
          |C_M #0#3, 1, "N";
          |C_M #0#4, 1, "N";
          |C_M #0#5, 1, "N";
          |C_M #0#6, 1, "N";
          |C_M #0#7, 1, "N";
          #0#3 = ""; |PINTA #0#3;
          #0#4 = ""; |PINTA #0#4;
          #0#7 = ""; |PINTA #0#7;
     |FINSI;
|FPRC;

|PROCESO Na; |TIPO 12;
|FPRC;

|PROGRAMA;
     aParam = PARAMETRO; |QBF aParam;
     |SI aParam = "MENU";
          |ABRE #0;
          |CONSULTA_CLAVE #1#0;
          |CIERRA #0;
          |ACABA;
     |FINSI;

     |ABRE #0;
     #0#0 = eaArticulo;
     |LEE 101#0=;

     |SI aParam = "SINOEXISTE";    || Lo llama el agifa019 en el TIPO 30
          |SI FSalida = 0;
               |CIERRA #0; |ACABA;
          |FINSI;
     |FINSI;

     |SI aParam = "BORRA";
          |SI FSalida = 0;
               |BORRA 020#0a;
          |FINSI;
          |CIERRA #0;
          |ACABA;
     |FINSI;

     |SI FSalida ! 0; |GRABA 020#0b; |FINSI;
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |SI FSalida = 0;
          |GRABA 020#0a;
     |FINSI;
     |CIERRA #0;
|FPRO;
