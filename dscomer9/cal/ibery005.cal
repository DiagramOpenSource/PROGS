|FICHEROS;
     ibery005 #0;
     agifa501 #501;
     agifa502 #502;
     agifa509 #509;
|FIN;

|VARIABLES;
     &nA      = 0;
     &nR      = 0;
     &nEfe    = 0;
     &nTar    = 0;
     &nChe    = 0;
     &nTotal  = 0;
     &nTotLin = 0;
     &aErr    = "";
     &nSw     = 0;
     aInf     = "ibery005";
     nSum     = 0;
     nPta     = 0;
|FIN;

|PROCESO agifa501Fin;
     |SI nTotLin ! #501#9;
          nSw = 1;
          nSum = #501#9 - nTotLin;
          |SI nSum = 1; |O nSum = -1;
               |SI #0#5 = "S"; |PRINT; |FINSI;
          |SINO;
               |PRINT;
          |FINSI;
          nSw = 0;
     |FINSI;
     |SI #501#31 = "R";
          nR = nR + #501#9;
     |SINO;
          |SI #501#31 = "A";
               nA = nA + #501#9;
          |SINO;
               nEfe = nEfe + #501#38;
               nChe = nChe + #501#39;
               nTar = nTar + #501#40;
               nTotal = nTotal + #501#9;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO agifa502;
     nTotLin = nTotLin + #502#7;
|FPRC;

|DEFBUCLE agifa502;
     #agifa502#1;
     ;
     #agifa501#36, #agifa501#0, 001;
     #agifa501#36, #agifa501#0, 999;
     ;
     NULL, agifa502;
|FIN;

|PROCESO agifa501;
     nTotLin = 0;
     |BUCLE agifa502;
     |HAZ agifa501Fin;
|FPRC;

|DEFBUCLE agifa501;
     #501#3;
     12;
     #509#1, "      ", " ", "     ", 000000, #509#0;
     #509#1, "zzzzzz", "z", "zzzzz", 999999, #509#0;
     ;
     NULL, agifa501;
|FIN;

|PROCESO agifa509;
     nA   = 0;
     nR   = 0;
     nEfe = 0;
     nTar = 0;
     nChe = 0;
     nTotal = 0;
     |BUCLE agifa501;

     #509#52 = #509#52 + #509#5;

     nSum = #509#52 + #509#53 + #509#54;

     |SI nEfe ! #509#52; |O nTar ! #509#53; |O nChe ! #509#54;
               |O nSum ! #509#24;
          aErr = "*";
          |SI #0#4 = "E";
               |PRINT;
          |FINSI;
     |SINO;
          aErr = "";
     |FINSI;

     |SI #0#4 = "T";
          |PRINT;
     |FINSI;
|FPRC;

|DEFBUCLE agifa509;
     #509#1;
     ;
     00001, #0#0, #0#2;
     99999, #0#1, #0#3;
     ;
     NULL, agifa509;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR aInf;
          |SI FSalida = 0;
               |BUCLE agifa509;
               |PIEINF;
               |FININF;
          |FINSI;
          |FININF;
     |FINSI;
|FPRC;
