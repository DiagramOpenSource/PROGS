      Los procesos marcados con (*) son los necesarios para
      simular un cabeceras/lineas

|FICHEROS;
     juminf02 #0;
     juminf03 #1,MANTE;
     juminf01 #10;
     juminf03@;
|FIN;

|VARIABLES;
     aAlfa = "";
     nGrid1 = -1;
     nRango = 0;
     nPos1 = 0;
     nPos2 = 0;
     nModo = 0;
     nHay = 0;
     nLin = 0;
|FIN;

|PROCESO Evento;
|FPRC;

|PROCESO Min;
     #1#0 = #0#0;
     #1#3 = "      ";
|FPRC;

|PROCESO Max;
     #1#0 = #0#0;
     #1#3 = "zzzzzz";
|FPRC;

|PROCESO Tipo14; |TIPO 14;    ||(*)
     |SI nGrid1 = -1;
          nRango = 1 + 4 + 8 + 16 + 32;
          nPos1 = 1202;
          nPos2 = 2292;
          |LINEAL_SIMPLE #1#1, nRango, nPos1, nPos2, Min, Max, Evento;
          nGrid1 = FSalida;
     |SINO;
          |REFRESCACONTROL nGrid1;
     |FINSI;
|FPRC;

|PROCESO Tipo8; |TIPO 8; ||(*)
     |ABRET #1;
|FPRC;

|PROCESO Tipo9; |TIPO 9; ||(*)
     |CIERRAT #1;
|FPRC;

|PROCESO BorraLin;
     |BORRA 020#1a;
     |LIBERA #1;

     #10#0 = #1#1;
     |LEE 101#10=;
     |SI FSalida = 0;
          #10#26 = "";
          |GRABA 020#10a;
          |LIBERA #10;
     |FINSI;
|FPRC;

|DEFBUCLE BorraLin;
     #1#1;
     ;
     #0#0, "      ";
     #0#0, "zzzzzz";
     be;
     NULL, BorraLin;
|FIN;

|PROCESO Tipo2Lin; |TIPO 2; ||(*)
     nModo = (FEntrada / 100) ! 0;
     |ABRE #10;
     #10#0 = #1#1;
     |LEE 101#10=;
     |SI FSalida = 0;
          |SI nModo = 3;
               #10#26 = "";
          |SINO;
               #10#26 = #0#0;
          |FINSI;
          |GRABA 020#10a;
     |FINSI;
     |CIERRA #10;
|FPRC;

|PROCESO Tipo2; |TIPO 2; ||(*)
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3;
          |ABRE #10;
          |BUCLE BorraLin;
          |CIERRA #10;
     |FINSI;
|FPRC;

|PROCESO Tipo0; |TIPO 0;     ||(*)
     |REFRESCACONTROL nGrid1;
|FPRC

|PROCESO Tipo12; |TIPO 12;    ||(*)
     || No quitar
|FPRC;

|PROCESO Tipo30; |TIPO 30;    ||(*)
     nModo = (FEntrada / 100) ! 0;
     #1#0 = #0#0;
     #1#3 = "";
     |LEE 000#1];
     |SI FSalida ! 0; |O #1#0 ! #0#0;
          |SI nModo = 1;
               |MENAV "0000Se anulan los datos entrados.";
          |SINO;
               |MENAV "0000No existen lineas, se borra la cabecera.";
          |FINSI;
          |BORRA 020#0a;
          |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo80_2; |TIPO 80;
     FSalida = 2393;
|FPRC;
/*
|PROCESO Tipo6; |TIPO 6;
     |SI FSalida = 13;
          |ABRE #10;
          #10#0 = #0#0;
          |LEE 000#10];
          |CONSULTA_CLAVE #1#10;
          |SI FSalida = 0;
               #0#0 = #10#0; |PINTA #0#0;
          |SINO;
               |ERROR;
          |FINSI;
          |CIERRA #10;
     |FINSI;
|FPRC;
*/

|PROCESO T2_12; |TIPO 12;
|FPRC;

|PROCESO Defecto; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1;
          #1#0 = #0#0;
          #1#3 = "999999";
          |LEE 000#1];
          |SI FSalida = 0;
               |LEE 000#1a;
          |SINO;
               |LEE 000#1u;
          |FINSI;
          |SI FSalida = 0; |Y #1#0 = #0#0;
               nLin = #1#3;
               nLin = nLin + 1;
          |SINO;
               nLin = 1;
          |FINSI;
          aAlfa = ("000000" + nLin) % -106;
          |DDEFECTO #1;
          #1#0 = #0#0;
          #1#3 = aAlfa;
     |FINSI;
|FPRC;

|PROCESO Chequea; |TIPO 0;
     |DDEF aAlfa;
     aAlfa = aAlfa + "juminf03";
     |CARGA_DEF aAlfa, juminf03@;
     |SI FSalida = 0;
          |ABRE #juminf03@;
          |SELECT #3#juminf03@;
          #juminf03@#0 = #1#0;
          #juminf03@#1 = #1#1;
          |LEE 000#juminf03@.=;
          |PARA; |SI FSalida = 0; |Y #juminf03@#0 = #1#0; |Y #juminf03@#1 = #1#1; |HACIENDO;
               |SI #juminf03@#0 ! #1#0; |O #juminf03@#3 ! #1#3;
                    aAlfa = "0000El cliente ya esta en la agrupaci¢n/convenio:" + #juminf03@#0 + "/" + #juminf03@#3;
                    |MENAV aAlfa;
                    |ERROR;
               |FINSI;
               |LEE 000#juminf03@.s;
          |SIGUE;
          |CIERRA #juminf03@;
          |DESCARGA_DEF #juminf03@;
     |FINSI;
|FPRC;
