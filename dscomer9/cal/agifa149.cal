|FICHEROS;
     agifa149 #0;
     agis0002 #1;
     agifa024 #3;
     agifa007 #40;
     agifa321;
     agifa324;
|FIN;

|VARIABLES;
     &TipoCta = "";
     informe1 = "agifa148";
     informe = "";
     &doc = 0;
     &ser = "";
     &enReci = 0;
     aDImp = "";
     aHImp = "";
|FIN;

|PROCESO recimpr1;
     |SI enReci ! 0;
          |SI #1#18 ! enReci; |ACABA; |FINSI;
     |FINSI;

     |SI #3#0 ! #1#2;
          |DDEFECTO #3;
          #3#0 = #1#2;
          |LEE 000#3=;
     |FINSI;

     |HAZ mirainf;

     |INFOR informe;
     |SI FSalida = 0;
          #agifa149#13 = #1#9;
          |PRINT;
          #1#10 = "S";
          |GRABA 020#1a;
          |PIEINF;
          |FININF;
     |FINSI;
     |LIBERA #1;
|FPRC;

|DEFBUCLE agifa523m0;
     #1#1;
     2,7,9,10;
     " ",#0#11,#0#2,#0#9 , #0#0 , #0#4 , #0#7 , aDImp;
     "z",#0#12,#0#3,#0#10, #0#1 , #0#5 , #0#8 , aHImp;
     be;
     NULL,recimpr1;
|FIN;

|PROGRAMA;
     |ABRE #agifa321;
     |LEE 000#agifa321.p;
     |CIERRA #agifa321;
     |ABRE #agifa324;
     #agifa324#0 = #agifa321#9;
     |LEE 000#agifa324.=;
     |CIERRA #agifa324;

     |HAZ DecimalesBase;

     |SI doc = 0;|Y ser = "";
          |CLS;
          |CABEZA "Imp.Adelantados";
          |PINPA #0#0;
          |PINDA #0#0;
          |ENDATOS #1#0;
          aDImp = #0#6; aHImp = #0#6;
     |SINO;
          #0#2 = doc;
          #0#3 = doc;
          #0#6 = "N";
          #0#9 = 01;
          #0#10= 99;
          #0#11= ser;
          #0#12= ser;
          aDImp = #0#6; aHImp = #0#6;
          |SI enReci ! 0;
               aDImp = " "; aHImp = "z";
          |FINSI;
     |FINSI;
     |SI FSalida = 0;
          |IMPRE 0;
          |SI FSalida = 0;
               |ABRE #3;
               |BUCLE agifa523m0;
               |CIERRA #3;
               |FINIMP;
          |FINSI;
     |FINSI;
|FPRO;

|PROCESO mirainf;
     |ABRE #40;
     #40#26 = #1#19;
     |LEE 001#40=;
     |SI FSalida = 0;
          informe = #40#19; |QBF informe;
     |SINO;
          informe = informe1;
     |FINSI;
     |CIERRA #40;
|FPRC;
