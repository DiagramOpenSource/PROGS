|FICHEROS;
     dsm00016 #916,MANTE;
     agifa321 #321;
|FIN;

|VARIABLES;
     nModo  = 0;
     aCod1  = "";
     aCod2  = "";
     aCod3  = "";
     aCod4  = "";
     aCod5  = "";
     aCod6  = "";
     nSwHay = 0;
|FIN;

|PROCESO AltaNuevo;  |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 1;  |ACABA;  |FINSI;

     aCod1 = #916#0;
     aCod2 = #916#1;
     aCod3 = #916#2;
     aCod4 = #916#3;
     aCod5 = #916#4;
     aCod6 = #916#15;

     nSwHay = 0;
     #916#3 = "      ";
     |LEE 040#916];
     |SI FSalida = 0;  |Y #916#0 = aCod1;  |Y #916#1 = aCod2;
                       |Y #916#2 = aCod3; |Y #916#15 = aCod6;
         |SALVA_DATOS #916;
         nSwHay = 1;
     |FINSI;

     |DDEFECTO #916;
     #916#0  = aCod1;
     #916#1  = aCod2;
     #916#2  = aCod3;
     #916#3  = aCod4;
     #916#15 = aCod6;
     |LEE 101#916=;

     |SI nSwHay = 1;
         |REPON_DATOS #916;
         #916#3 = aCod4;
         #916#4 = aCod5;
         |PINDA #0#916;
     |FINSI;
|FPRC;
