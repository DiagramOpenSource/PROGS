|FICHEROS;
     gopre001 #1;   ||quitado el MANTE por exceso de ficheros
     gopre002 #2;
     gopre003 #3,MANTE;

     gopre021 #11;
     gopre022 #12;
|FIN;

|VARIABLES;
     nModo = 0;
     &PRMNT_param = "";
     &PRMNT_capi = 0;
     aAlfa = "";
     aSerExp = "";
     aSerPre = "";
     nNumExp = 0;
     nNumPre = 0;
     fFecha = @;
|FIN;

|PROCESO Minimo;
     #3#0 = #2#0;
     #3#1 = #2#1;
     #3#2 = #2#12;
     #3#3 = 1;
|FPRC;

|PROCESO Maximo;
     #3#0 = #2#0;
     #3#1 = #2#1;
     #3#2 = #2#12;
     #3#3 = 999;
|FPRC;

|PROGRAMA;
     aSerPre = PRMNT_param % 105;
     aAlfa = PRMNT_param % 606;
     nNumPre = aAlfa;
     aSerExp = PRMNT_param % 1205;
     aAlfa = PRMNT_param % 1706;
     nNumExp = aAlfa;
     aAlfa = PRMNT_param % 2310;
     fFecha = aAlfa;
     |ABRE #1;
     |ABRE #2;

     #1#0 = aSerPre;
     #1#1 = nNumPre;
     |LEE 121#1=;
     |SI FSalida = 0;
          #2#0 = #1#0;
          #2#1 = #1#1;
          #2#3 = PRMNT_capi;
          |LEE 121#2=;
          |SI FSalida = 0;
               |PINPA #0#1;
               |PINDA #0#1;
               |ENTLINEAL #1#3, 4, 1, 21, 1, Minimo, Maximo;
          |FINSI;
     |FINSI;

     |CIERRA #1;
     |CIERRA #2;
|FPRO;

*********************** Estos calculos estan el el gopre001
*********************** estan aqui por exceso de ficheros

|PROCESO DesAmpSuCap0; |TIPO 0;
     |SI FSalida = 10;
          |HAZ DesAmpSuCap;
          |ERROR;
     |FINSI;
|FPRC;

|PROCESO DesAmpSuCap11; |TIPO 11;
     |HAZ DesAmpSuCap0;
|FPRC;

|PROCESO Borgopre022;
     |BORRA 020#12a;
|FPRC;

|DEFBUCLE Borgopre022;
     #12#1;
     ;
     #11#0, #11#1, #11#2, 1;
     #11#0, #11#1, #11#2, 999;
     be;
     NULL, Borgopre022;
|FIN;

|PROCESO DesAmpSuCap2; |TIPO 2;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3;
          |BUCLE Borgopre022;
     |FINSI;
|FPRC;
