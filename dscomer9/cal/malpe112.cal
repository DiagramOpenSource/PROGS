|FICHEROS;
     malpe112 #0;
     agifa019 #19;
     agifa017 #17;
     dsm00024 #24;
     malpe085 #85;
|FIN;

|VARIABLES;
     &enStock = 0;
|FIN;

|PROCESO dsm00024;
     |DDEFECTO #85;
     #85#0 = #24#0;
     #85#1 = #24#1;
     #85#2 = #24#2;
     |LEE 000#85=;
     |SI #85#6 = "S";
          enStock = enStock + #24#22;
     |FINSI;
|FPRC;

|DEFBUCLE dsm00024;
     #24#1;
     ;
     #17#0, #17#1, "                              ";
     #17#0, #17#1, "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzz";
     ;
     NULL, dsm00024;
|FIN;

|PROCESO agifa017;
     #19#0 = #17#0;
     |LEE 000#19=;
     |SI FSalida ! 0; |ACABA; |FINSI;
     |SI #19#2 < #0#4; |O #19#2 > #0#5; |ACABA; |FINSI;
     |SI #19#3 < #0#6; |O #19#3 > #0#7; |ACABA; |FINSI;
     |SI #19#126 < #0#8; |O #19#126 > #0#9; |ACABA; |FINSI;
     enStock = 0;
     |BUCLE dsm00024;
     |PRINT;
|FPRC;

|DEFBUCLE agifa017;
     #17#1;
     ;
     #0#0, #0#2;
     #0#1, #0#3;
     ;
     NULL, agifa017;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "malpe112";
          |SI FSalida = 0;
               |ABRE #19;
               |ABRE #85;
               |BUCLE agifa017;
               |CIERRA #85;
               |CIERRA #19;
               |PIEINF;
               |FININF;
          |SINO;
               |MENAV "0000No existe informe 'malpe112'";
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;
