|FICHEROS;
     iber0095 #0;

     iber0023 #23;  ||Historico
|FIN;

|VARIABLES;
     aMensaje = "";
     nSwPie = 0;
     aInforme = "";
|FIN;

|PROGRAMA;
     |CLS;
     |ABRE #0;
     |DDEFECTO #0;
     |LEE 101#0p;
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |SI FSalida = 0;
          |SI #iber0095#1 = "SI";
               |HAZ Principal;
          |FINSI;
     |FINSI;
     |LIBERA #0;
     |CIERRA #0;
|FPRO;

|PROCESO iber0023;
     |SI #iber0023#0 = "E"; |Y #iber0023#7 = "01.01.0000";
          |PRINT;
          nSwPie = 1;
     |FINSI;
|FPRC;

|DEFBUCLE iber0023;
 #iber0023#1;
 ;
 INICIO;
 FINAL;
 ;
 NULL, iber0023;
|FIN;

|PROCESO Principal;
     |IMPRE 0;
     |SI FSalida = 0;
          aInforme = "iber0095";
          |INFOR aInforme;
          |SI FSalida = 0;
               |BUCLE iber0023;
               |SI nSwPie = 1;
                    |PIEINF;
               |FINSI;
               |FININF;
          |SINO;
               aMensaje = "0000Informe " + aInforme + " inaccesible.";
               |MENAV aMensaje;
          |FINSI;
          |FINIMP;
     |SINO;
          |MENAV "0000Proceso cancelado.";
     |FINSI;
|FPRC;
