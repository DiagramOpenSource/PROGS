|FICHEROS;
     sctrm047 #0;
     sctrw008 #8;
     sctrm046 #46;
     sctrm001 #100;
|FIN;

|VARIABLES;
     &enPantaLogo = 0;
     &eaNomLogo = "";
     nPanta = 0;
     &Tempo = "";
     aAlfa = "";
     nModo = 0;
     nHandle = 0;
|FIN;

|PROCESO T47_13; |TIPO 13;
     |ABRE #100; |LEE 000#100p; |CIERRA #100;
     |PINPA #0#0; nPanta = FSalida;
     eaNomLogo = #100#1;
     |HAZ TraeLogoPan;
     enPantaLogo = nPanta;
     |HAZ PintaLogoPan;

     |DDEFECTO #46;
     |ABRE #46;
     #46#0 = #0#3;
     |LEE 000#46=;
     |CIERRA #46;
     |PINTA 1340, #46#1;
|FPRC;

|PROCESO Usu6; |TIPO 6;
     |SI FSalida = 13;
          |HAZ CreaTempo; |NOME_DAT #8 Tempo; |DELINDEX #8;
          |ABRE #8;
          |HAZ CargaUsu;
          #8#0 = #0Campo;
          |LEE 000#8];
          |CONSULTA_CLAVE #1#8;
          |SI FSalida = 0;
               #0Campo = #8#0; |PINTA #0Campo;
          |SINO;
               |ERROR;
          |FINSI;
          |CIERRA #8; |DELINDEX #8; |HAZ BoraTempo;
     |FINSI;
|FPRC;

|PROCESO Usu0; |TIPO 0;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1;
          |HAZ CreaTempo; |NOME_DAT #8 Tempo; |DELINDEX #8;
          |ABRE #8;
          |HAZ CargaUsu;
          #8#0 = #0Campo;
          |LEE 000#8=;
          |SI FSalida ! 0;
               |MENAV "0000No existe usuario...";
               |ERROR;
          |FINSI;
          |CIERRA #8; |DELINDEX #8; |HAZ BoraTempo;
     |FINSI;
|FPRC;

|PROCESO CargaUsu;
     |DIRECTORIO aAlfa; |QBF aAlfa;
     aAlfa = aAlfa + "dev/usr/ds_sys.psw"
     |XABRE "", aAlfa, nHandle;
     |SI FSalida ] 0;
          |XLEE nHandle, 200, aAlfa;
          |PARA; |SI FSalida ] 0; |HACIENDO;
               #8#0 = aAlfa % 410;
               |GRABA 000#8n;
               |XLEE nHandle, 200, aAlfa;
          |SIGUE;
          |XCIERRA nHandle;
     |FINSI;
|FPRC;

|PROCESO Oficina; |TIPO 0;
     |ABRE #46;
     #46#0 = #0#3;
     |LEE 000#46=;
     |SI FSalida = 0;
          |PINTA 1340, #46#1;
     |SINO;
          |MENAV "0000No existe c¢digo de oficina...";
          |ERROR;
     |FINSI;
     |CIERRA #46;
|FPRC;

|PROCESO Formato; |TIPO 7;
     aAlfa = #0#4; |QBF aAlfa;
     |SI aAlfa = "";
          #0#4 = #46#19;
     |FINSI;
|FPRC;
