|FICHEROS;
     diefa317 #0; ||Este Def.
     agifa081 #1; ||Pedidos Compra (C)
     agifa080 #2; ||Albaranes Compra (L)
     agifa077 #3; ||albaranes Compra (C)
|FIN;

|VARIABLES;
     swImp = 0;
     swSi  = 0;
     aPro  = "";
     swPi  = 0;
|FIN;

|PROCESO agifa080;
     #3#50 = #2#27;
     #3#0  = #2#0;
     |LEE 000#3=;
     |SI FSalida = 0;
          swSi = 1;
          #0#6 = #3#1;
     |FINSI;
     |ERROR10;
|FPRC;

|DEFBUCLE agifa080;
     #2#3;
     ;
     #1#25,#1#0,  1;
     #1#25,#1#0,999;
     ;
     NULL,agifa080;
|FIN;

|PROCESO agifa081;
     |SI swImp = 0;
          aPro = #1#4;
          swImp = 1;
     |FINSI;
     |SI aPro ! #1#4;
          |SI swPi = 1;
               |PIEINF;
               swPi = 0;
          |FINSI;
          aPro = #1#4;
          #0#7  = 0;
          #0#8  = 0;
          #0#9  = 0;
          #0#10 = 0;
          #0#11 = 0;
     |FINSI;
     #0#6 = "01.01.0000";
     swSi = 0;
     #0#4 = 0;
     #0#5 = 0;
     |BUCLE agifa080;
     |SI swSi = 1;
          #0#4  = #0#6  - #1#1;
          #0#5  = #0#6  - #1#2;
          #0#7  = #0#7  + #0#4;
          #0#8  = #0#8  + #0#5;
          #0#9  = #0#9  + 1;
          #0#10 = #0#7  / #0#9;
          #0#11 = #0#8  / #0#9;
          #0#12 = #0#12 + #0#4;
          #0#13 = #0#13 + #0#5;
          #0#14 = #0#14 + 1;
          #0#15 = #0#12 / #0#14;
          #0#16 = #0#13 / #0#14;
          |PRINT;
          swPi = 1;
     |FINSI;
|FPRC;

|DEFBUCLE agifa081;
     #1#2;
     1;
     #0#0, #0#2;
     #0#1, #0#3;
     ;
     NULL,agifa081;
|FIN;

|PROCESO ejec; |TIPO 3;
     |IMPRE 0;
     |SI FSalida ! 0; |ACABA; |FINSI;
     |INFOR "diefa317";
     |SI FSalida ! 0; |FINIMP; |ACABA; |FINSI;
     |ABRE #3;
     |BUCLE agifa081;
     |SI swImp = 1;
          |PIEINF;
     |FINSI;
     |FININF;
     |FINIMP;
|FPRC;
