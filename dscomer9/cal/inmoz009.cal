|FICHEROS;
     inmoz009 #0;
     inmow003 #3,MANTE;
     inmom004 #4;
     inmow005 #5;
|FIN;

|VARIABLES;
     i = 0;
     aAlfa = "";
     nLinea = 0;
     fFecha = @;
     aHora = "";
     aCB = "";
|FIN;

|PROCESO PinCampos;
     |PARA i = 0; |SI i [ 9; |HACIENDO i = i + 1;
          |PINTA #3i;
     |SIGUE;
|FPRC;

|PROCESO ActTmp;
     |PARA i = 0; |SI i [ 9; |HACIENDO i = i + 1;
          #3i = #4i;
     |SIGUE;
     |GRABA 020#3a;
|FPRC

|PROCESO Tecla; |TIPO 0;
     |SI #3Campo = Contenido; |Y FSalida = 0;
          |ABRE #4;
          #4#0 = #3#0;
          #4#1 = #3#1;
          #4#2 = #3#2;
          |LEE 121#4=;
          |SI FSalida = 0;
               fFecha = #4#0;
               aHora = #4#1;
               aCB = #4#2;
               |PARA i = 0; |SI i [ 9; |HACIENDO i = i + 1;
                    #5i = #4i;
               |SIGUE;
               |PUSHV 0501 2380;
               |PINPA #0#5;
               |PINDA #0#5;
               |ENDATOS #1#5;
               |SI FSalida = 0;
                    |SI #5#0 = #4#0; |Y #5#1 = #4#1; |Y #5#2 = #4#2;
                         |PARA i = 0; |SI i [ 9; |HACIENDO i = i + 1;
                              #4i = #5i;
                         |SIGUE;
                         |GRABA 020#4a;
                         |HAZ ActTmp;
                    |SINO;
                         |PARA i = 0; |SI i [ 9; |HACIENDO i = i + 1;
                              #4i = #5i;
                         |SIGUE;
                         |GRABA 000#4n;
                         |SI FSalida = 100;
                              |MENAV "0000Registro existente....";
                         |SINO;
                              |HAZ ActTmp;
                              #4#0 = fFecha;
                              #4#1 = aHora;
                              #4#2 = aCB;
                              |BORRA 020#4c;
                         |FINSI;
                    |FINSI;
               |FINSI;
               |POPV;
               |HAZ PinCampos;
          |FINSI;
          |CIERRA #4;
     |FINSI;
|FPRC;

|PROCESO Min;
     #3#10 = 1;
|FPRC;

|PROCESO Max;
     #3#10 = 99999;
|FPRC;

|PROCESO inmom004;
     nLinea = nLinea + 1;
     |PARA i = 0; |SI i [ 9; |HACIENDO i = i + 1;
          #3i = #4i;
     |SIGUE;
     #3#10 = nLinea;
     |GRABA 020#3n;
|FPRC;

|DEFBUCLE inmom004;
     #4#2;
     ;
     #0#0;
     #0#0;
     ;
     NULL, inmom004;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     aAlfa = Usuario;
     |NOME_DAT #3 aAlfa; |DELINDEX #3;

     |ABRE #3;
     |BUCLE inmom004;
     |CIERRA #3;

     |SI i = 0;
          |MENAV "0000No hay registros";
     |SINO;
          |ENTLINEAL #1#3, 1, 4, 22, 1, Min, Max;
     |FINSI;

     |DELINDEX #3;
|FPRC;
