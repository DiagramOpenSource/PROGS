|FICHEROS;
     agifa517 #0;
|FIN;

|VARIABLES;
     sal=0;
     alf1 = "";
     alfa = "";
     nu1 = 0;
     nu2 = 0;
     i = 0;
     mensa = "";
     clave_ant = "";
     nSwDs_suite = 0;
|FIN;


|PROCESO sobre;|TIPO 0;
|SI #0#13 = "A";
   |CAMPO_MODIFICA #0#14,1,"S";
|SINO;
   |CAMPO_MODIFICA #0#14,1,"N";
|FINSI;
|FPRC;

|PROCESO clave; |TIPO 0;
     |SI #0#15 = "S";
          |SI #0#16 = "          ";
               mensa = "Entre la clave...:";
               |HAZ LaClave;
               #0#16 = alfa;
               mensa = "Confirme la clave:";
               |HAZ LaClave;
               alf1 = #0#16; |QBF alf1;
               |SI alf1 ! alfa;
                    |MENAV "0000Clave incorrecta...";
                    #0#16 = "";
                    #0#15 = "N"; |PINTA #0#15;
               |FINSI;
          |SINO;
               mensa = "Entre la clave...:";
               |HAZ LaClave;
               alf1 = #0#16; |QBF alf1;
               |SI alfa ! alf1;
                    |MENAV "0000Clave incorrecta...";
               |SINO;
                    |CONFI "2400NDesea modificar la clave S/N.: ";
                    |SI FSalida = 0;
                         clave_ant = #0#16;
                         mensa = "Nueva clave......:";
                         |HAZ LaClave;
                         #0#16 = alfa;
                         mensa = "Confirme la clave:";
                         |HAZ LaClave;
                         alf1 = #0#16; |QBF alf1;
                         |SI alf1 ! alfa;
                              |MENAV "0000Clave incorrecta, no hay cambio...";
                              #0#16 = clave_ant;
                         |FINSI;
                    |FINSI;
               |FINSI;
          |FINSI;
     |SINO;
          |SI Contenido ! #0Campo;
               mensa = "Entre la clave...:";
               |HAZ LaClave;
               alf1 = #0#16; |QBF alf1;
               |SI alf1 ! alfa;
                    |MENAV "0000Clave incorrecta...";
                    #0#15 = "S"; |PINTA #0#15;
               |SINO;
                    #0#16 = "";
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO LaClave;
     |BLIN 24;
     |PINTA 2420, mensa;
     alfa = "";
     E_sup = 10;
     E_inf = "";
     alfa = 2439 ? -1;
     |BLIN 24;
     nu2 = 0;
     |PARA i = 101; |SI i [ 1100; |HACIENDO i = i + 100;
          alf1 = alfa % i;
          nu1 = &alf1 * i;    || Encripta la clave
          nu2 = nu2 + nu1;
     |SIGUE;
     alfa = nu2;
     |QBF alfa;
|FPRC;

|PROCESO SinReserva; |TIPO 7;
     |SI #0#22 = "  ";
          |C_M #0Campo, 1, "N";
     |SINO;
          |C_M #0Campo, 1, "S";
     |FINSI;
|FPRC;

|PROCESO ActDiario; |TIPO 7;
     |SI #0#6 = "S";
          |C_M #0#7, 1, "S";
     |SINO;
          #0#7 = "S"; |PINTA #0#7;
          |C_M #0#7, 1, "N";
     |FINSI;
|FPRC;

|PROGRAMA;
     |CLS;
     |CABEZA "Parametros TPV";
     |PINPA #0#0;

     |HAZ EsDs_suite;
     nSwDs_suite = FSalida;
     |HAZ EsPalmHotel;
     |SI FSalida = 0; |O nSwDs_suite = 0;
          |PINTA 2210, "Empresa Hotel Exp. Tactil:";
          |PINTA 2308, "읕컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴켸";
          |C_V #0#26, 1, "S";
     |FINSI;

     |DDEFECTO #0;
     |ABRE #0;
     |LEE 101#0p;
     |SI FSalida ! 0;    |GRABA 020#0b; |FINSI;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |SI FSalida = 0;
          |GRABA 020#0a;
     |FINSI;
     |LIBERA #0;
     |CIERRA #0;
|FPRO;
