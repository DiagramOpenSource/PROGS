|FICHEROS;
     marhu107 #0 ;           || Este Fichero
     marhu008 #8 ;           || Pase de proveedores
     agifa112 #112;          || Proveedores
|FIN;

|VARIABLES;
     nContador = 1;
     aContador = "";
     r_guar    = "";
     r_alfa    = "";
     r_long    = "";
     r_num     = 0;
     r_masc    = "0000";
     aAlfa1    = "";
|FIN;

|RUTINA Graba112;
     aContador = nContador;
     r_guar = aContador;
     |QBF r_guar;
     r_long = r_guar % A0;
     r_long = 4 - r_long;
     |SI r_long > 0;
        r_alfa = aContador;|QBF r_alfa;
        r_alfa = r_masc + r_alfa;
        r_num = -(r_long + 100);
        aContador = r_alfa % r_num;
     |SINO;
        aContador = r_guar;
     |FINSI;
     #112#0 = aContador;           || Codigo de proveedor
     aAlfa1 = "40000" + aContador;
     |SI #0#0="n";|O #0#0="N";
            #112#10 = aAlfa1;             || Cuenta contable
     |SINO;
          #112#0 = #8#0;
     |FINSI;
     aAlfa1 = #8#0;
     #112#88 = aAlfa1;             || Codigo antiguo de proveedor
     #112#1  = #8#1;               || Nombre fiscal
     #112#2  = #8#1;               || Nombre comercial
     #112#3  = #8#2;               || Direccion
     #112#4  = #8#3;               || Poblacion
     #112#5  = "";                 || Provincia  ----> No tienen campo
     #112#6  = #8#4;               || Telefono
     #112#7  = #8#16;              || Fax
     #112#8  = #8#6;               || Aptdo. correos (Telex)
     #112#9  = #8#5;               || Cif
     #112#23 = #8#7;               || Persona de contacto
     #112#80 = "N";                || Divisa pactada
     #112#81 = "ESP";              || Peseta
     #112#82 = "B";                || Moneda de trabajo
     |GRABA 020#112n;
     aAlfa1 = "GRABADO PROVEEDOR: " + #112#0;
     |PINTA 2020,aAlfa1;
|FRUT;

|PROGRAMA;
     |CLS;
     |CABEZA "Conversion Proveedores";
     |ABRE #0;
     |PINPA #0#0;
     |ENCAMPO #0#0;
     |SI FSalida=0;
         |ABRE #8;
         |ABRE #112;
         |LEE 000#8p;
         nContador = 1;
         |PARA;|SI;|HACIENDO;
               |HAZ Graba112;
               |LEE 000#8s;
               nContador = nContador + 1;
               |SI FSalida ! 0; |SAL; |FINSI;
         |SIGUE;
         |CIERRA #112;
         |CIERRA #8;
     |FINSI;
|FPRO;
