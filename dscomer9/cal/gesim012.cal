|FICHEROS;
     gesim012 #0;
     gesim020 #1,MANTE;
     gesim003 #3;
|FIN;

|VARIABLES;
     nGrid1 = -1;
     nRango = 0;
     nModo = 0;
     nForma = 0;
|FIN;

|PROCESO Evento;
     |SI FSalida = 1; |O FSalida = 2;
          |SELECT #1#1;
          |LEE 000#1=;
     |FINSI;
     |SI FSalida = 4;
          |SELECT #1#1;
          |LEE 000#1=;
     |FINSI;
|FPRC;

|PROCESO MinDep;
     #1#0 = #0#0;
     #1#1 = 00001;
|FPRC;

|PROCESO MaxDep;
     #1#0 = #0#0;
     #1#1 = 99999;
|FPRC;

|PROCESO T12_14; |TIPO 14;    ||(*)
     |SI nGrid1 = -1;
          nRango = 1 + 4 + 8 + 16 + 32;
          |LINEAL_SIMPLE #1#1, nRango, 1902, 3298, MinDep, MaxDep, Evento;
          nGrid1 = FSalida;
     |SINO;
          |REFRESCACONTROL nGrid1;
     |FINSI;
|FPRC;

|PROCESO T12_8; |TIPO 8; ||(*)
     |ABRET #1;
|FPRC;

|PROCESO T12_9; |TIPO 9; ||(*)
     |CIERRAT #1;
|FPRC;

|PROCESO BorraLinDep;
     |BORRA 020#1a;
     |LIBERA #1;
|FPRC;

|DEFBUCLE BorraLinDep;
     #1#1;
     ;
     #0#0, 00001;
     #0#0, 99999;
     be;
     NULL, BorraLinDep;
|FIN;

|PROCESO T12_2; |TIPO 2; ||(*)
     nModo = (FEntrada / 100) ! 0;
     nForma = 0 +. 1;
     |SI nModo = 3;
          |BUCLE BorraLinDep;
     |FINSI;
|FPRC;

|PROCESO T12_0; |TIPO 0;     ||(*)
     |REFRESCACONTROL nGrid1;
|FPRC

|PROCESO T12_12; |TIPO 12;    ||(*)
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1; |Y FSalida = 7;
          |BUCLE BorraLinDep;
     |FINSI;
|FPRC;

|PROCESO T12_30; |TIPO 30;    ||(*)
     nModo = (FEntrada / 100) ! 0;
     |ABRE #1;
     #1#0 = #0#0;
     #1#2 = 1;
     |LEE 000#1];
     |SI FSalida ! 0; |O #1#0 ! #0#0;
          |SI nModo = 1;
               |MENAV "0000Se anulan los datos entrados.";
          |SINO;
               |MENAV "0000No existen lineas, se borra la cabecera.";
          |FINSI;
          |BORRA 020#0a;
          |ERROR;
     |FINSI;
     |CIERRA #1;
|FPRC;

|PROCESO T12_1_7; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1;
          |BUCLE BorraLinDep;
          |REFRESCACONTROL nGrid1;
     |FINSI;
|FPRC;

|PROCESO Tecnico0; |TIPO 0;
     |ABRE #3;
     #3#0 = #1#1;
     |LEE 000#3=;
     |SI FSalida = 0;
          #1#2 = #3#1; |PINTA #1#2;
     |SINO;
          |MENAV "0000No existe tecnico...";
          |ERROR;
     |FINSI;
     |CIERRA #3;
|FPRC;

|PROCESO Tecnico66; |TIPO 66;
     |ABRE #3;
     #3#0 = #1#1;
     |LEE 000#3];
     |CONSULTA_CLAVE #1#3;
     |SI FSalida = 0;
          #1#1 = #3#0; |PINTA #1#1;
     |SINO;
          |ERROR;
     |FINSI;
     |CIERRA #3;
|FPRC;
