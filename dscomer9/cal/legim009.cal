|FICHEROS;
     legim009 #0;
     legim010 #1;
     legim011 #11;
|FIN;

|VARIABLES;
     nConta = 0;
     nPuntero = 0;
     aAlfa = "";
     nBuffer = 0;
     nLineas = 0;
     nModo = 0;
     nLin = 0;
     nCol = 0;
|FIN;

|PROCESO CogeLineas30;
     nPuntero = 1;
     |PARA nPuntero = 1; |SI nPuntero [ 999; |HACIENDO nPuntero = nPuntero + 1;
          #11#0 = #0#0;
          #11#1 = nPuntero;
          |LEE 000#11=;
          |SI FSalida = 0;
               aAlfa = #11#2; |AL_BUF nBuffer, nPuntero, aAlfa;
               |BORRA 020#11a;
          |SINO;
               |SAL;
          |FINSI;
     |SIGUE;
|FPRC;

|PROCESO PoneLineas30;
     |PARA nPuntero = 999; |SI nPuntero ] 0; |HACIENDO nPuntero = nPuntero - 1;
          |DEL_BUF nBuffer, nPuntero, aAlfa;
          |SI aAlfa ! ""; nLineas = nPuntero; |SAL; |FINSI;
     |SIGUE;
     |PARA nPuntero = 1; |SI nPuntero [ nLineas; |HACIENDO nPuntero = nPuntero + 1;
          |DEL_BUF nBuffer, nPuntero, aAlfa;
          #11#0 = #0#0;
          #11#1 = nPuntero;
          #11#2 = aAlfa;
          |GRABA 020#11n;
          |LIBERA #11;

          |SI nPuntero < 4;
               |SI nPuntero = 1;
                    |LEE 101#legim009.=;
                    |SI FSalida = 0;
                         #legim009#3 = aAlfa;
                         |GRABA 020#legim009.a;
                         |LIBERA #legim009;
                    |FINSI;
               |FINSI;
               |SI nPuntero = 2;
                    |LEE 101#legim009.=;
                    |SI FSalida = 0;
                         #legim009#4 = aAlfa;
                         |GRABA 020#legim009.a;
                         |LIBERA #legim009;
                    |FINSI;
               |FINSI;
               |SI nPuntero = 3;
                    |LEE 101#legim009.=;
                    |SI FSalida = 0;
                         #legim009#5 = aAlfa;
                         |GRABA 020#legim009.a;
                         |LIBERA #legim009;
                    |FINSI;
               |FINSI;
          |FINSI;
     |SIGUE;
|FPRC;

|PROCESO Observa30;
     |ABRE #11;
     |PINPA #0#11;
     |DIMENSIONA 200, nBuffer, 0;
     |HAZ CogeLineas30;
     nModo = 100; nLin = 10; nCol = 78;
     |EDITA nBuffer, 1, 10, 1002, 2279, nModo, "", 0, nLin, nCol;
     |HAZ PoneLineas30;
     |FINDIM nBuffer;
     |CIERRA #11;
|FPRC;

|PROCESO Tipo20_legim009; |TIPO 20;
     |SI FSalida = "OPCION";
          FSalida = "Observa.";
     |SINO;
          |LEE 101#0=;
          |SI FSalida ! 0; |ACABA; |FINSI;

          |PUSHV 0501 2380;
          |HAZ Observa30;
          |POPV;

          |PINTA #legim009#3;
          |PINTA #legim009#4;
          |PINTA #legim009#5;

          |LIBERA #0;
     |FINSI;
|FPRC;

|PROCESO Borra11;
     |BORRA 020#11a;
|FPRC;

|DEFBUCLE Borra11;
     #11#1;
     ;
     #0#0, 001;
     #0#0, 999;
     be;
     NULL,  Borra11;
|FIN;


|PROCESO Tipo2_legim009; |TIPO 2;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3;
          |BUCLE Borra11;
     |FINSI;
|FPRC;

|PROCESO Tipo2Lin; |TIPO 2;
     #0#6 = #0#6 +. #1#7; |PINTA #0#6;
     #0#7 = #0#7 +. #1#8;
|FPRC;

|PROCESO T13_legim009; |TIPO 13;
     |HAZ DecimalesBase;
|FPRC;

|PROCESO T7_legim009; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1;
          |LEE 000#0u;
          |SI FSalida = 0;
               nConta = #0#0 + 1;
          |SINO;
               nConta = 1;
          |FINSI;
          |DDEFECTO #0;
          #0#0 = nConta;
     |FINSI;
|FPRC;
