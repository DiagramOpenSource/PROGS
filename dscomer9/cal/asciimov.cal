|FICHEROS;
 asciimov #0;
 agifa065 #2;
|FIN;

|VARIABLES;
  f1=0;
  sw=0;
  v= "";
  v1=0;
  jj=0;
  hh=0;
  mov="";
  cli="";
  pro="";
  path="";
  fs =1;
  f=0;
  varalfa = "";
  codigo = "";
  operacion = "";
  fecha = "";
  linea = "";
  almacen = "";
  unidad = "";
  stock = "";
  pcm = "";
  precio = "";
|FIN;

|PROGRAMA;
|CLS;
|CABEZA "TRASPASO ASCII MOVIMIENTOS";
|PINPA #0#0;
|ENDATOS #1#0;
|SI #0#9 = "SI";
  |SI FSalida = 0;
    path = #0#0;
    |QBF path;
    mov ="rt  " + path + #0#1;
    |QBF mov;
    |FABRE mov;
    f1 = FSalida;
    |SI FSalida ] 0;
      varalfa = "";
      fs = 1
      |PARA jj = 1; |SI fs ] 0;|HACIENDO jj = jj + 1;
        varalfa = f1 + " " + #0#2;
        |FLEE varalfa;
        fs = FSalida;
        |SI FSalida ] 0;
          |ABRE #2;
          codigo = varalfa % #0#3;
          |QBF codigo;
          |PINTA 2107,"                                                       ";
          |PINTA 2107,codigo;
          #2#0 = codigo;
          |LEE 101#2=;
          sw = FSalida;
          |SI FSalida ! 0;
            |DDEFECTO #2;
            #2#0 = codigo;
          |SINO;
            |BORRA 020#2a;    ||modificado para inforpor
          |FINSI;

          |SI #0#4 > 0;
            fecha = varalfa % #0#4;
          |SINO;
            fecha = #2#1;
          |FINSI;
          #2#1 = fecha;
          |PINTA 2121,fecha;

          |SI #0#5 > 0;
            operacion = varalfa % #0#5;
          |SINO;
            operacion = #2#2;
          |FINSI;
          |QBT operacion;
          #2#2 = operacion;
          |PINTA 2155,operacion;

          |SI #0#7 > 0;
            #2#3 = varalfa % #0#7;
          |FINSI;

          |SI #0#8 > 0;
            linea = varalfa % #0#8;
            |QBT linea;
            #2#4 = linea;
          |FINSI;

          |SI #0#10 > 0;
            almacen = varalfa % #0#10;
            |QBT almacen;
            #2#5 = almacen;
          |FINSI;

          |SI #0#11 > 0;
            unidad = varalfa % #0#11;
            |QBT unidad;
            #2#6 = unidad;
          |FINSI;

          |SI #0#12 > 0;
            stock = varalfa % #0#12;
            |QBT stock;
            #2#7 = stock;
          |FINSI;

          |SI #0#13 > 0;
            pcm = varalfa % #0#13;
            |QBT pcm;
            #2#8 = pcm;
          |FINSI;

          |SI #0#14 > 0;
            precio = varalfa % #0#14;
            |QBT precio;
            #2#9 = precio;
          |FINSI;

          |SI #0#16 > 0;
            #2#10 = varalfa % #0#16;
          |FINSI;

          |SI #0#17 > 0;
            #2#11 = varalfa % #0#17;
          |FINSI;

          |SI sw ! 0;
            |SI #0#6 = "S";
              |GRABA 101#2n;
            |FINSI;
          |SINO;
            ||GRABA 101#2a;   modificado para inforpor
            |GRABA 020#2n;
          |FINSI;
          |LIBERA #2;
          |CIERRA #2;
          |PARA hh = 1; |SI hh < 12;|HACIENDO hh = hh + 1;
                #2hh = "";
          |SIGUE;
        |FINSI;
      |SIGUE;
    |FINSI;
  |FINSI;
|FINSI;
|FCIERRA mov;
|FPRO;
