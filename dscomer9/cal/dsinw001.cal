|FICHEROS;
     dsinw001 #0,MANTE;
     dsint002 #20;
     agifa024 #24;
     agifa112 #112;
|FIN;

|VARIABLES;
     i = 0;
     aDoc = "";
     aDir = "";
     aPais = "";
     aAlfa = "";

     &eaTipo = "";
     &eaCodigo = "";
     &eaSer = "";
     &enDocu = 0;

|FIN;

|PROCESO Tipo12teca; |TIPO 12;
     |SI FSalida = 0;
          |PARA i = 0; |SI i [ 8; |HACIENDO i = i + 1;
               #20i = #0i;
          |SIGUE;

          |GRABA 020#20a;
     |FINSI;
|FPRC;

|PROGRAMA;
     aDoc = eaTipo % 101;
     eaTipo = eaTipo % 201;

     |SI eaTipo = "E";
          |ABRE #24;
          #24#0 = eaCodigo;
          |LEE 000#24=;
          |CIERRA #24;
          aDir = #24#8;
          aPais = #24#205;
     |SINO;
          |ABRE #112;
          #112#0 = eaCodigo;
          |LEE 000#112=;
          |CIERRA #112;
          aDir = #112#3;
          aPais = #112#89;
     |FINSI;

     |ABRE #20;
     |DDEFECTO #20;
     #20#0 = eaTipo;
     #20#8 = aDoc;
     #20#6 = eaSer;
     #20#7 = enDocu;

     #20#1 = eaCodigo;
     #20#4 = aPais;
     #20#5 = #48#4;
     |LEE 101#20=;
     |SI FSalida ! 0; |GRABA 020#20b; |FINSI;
     |PARA i = 0; |SI i [ 8; |HACIENDO i = i + 1;
          #0i = #20i;
     |SIGUE;

     aAlfa = #0#5; |QBF aAlfa;
     |SI aAlfa = ""; #0#5 = "VALENCIA"; |FINSI;

     |PUSHV 0501 2380;
     |BLANCO 11121972;
     |CUADRO 11121972;
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |POPV;

     |CIERRA #20;
|FPRO;
