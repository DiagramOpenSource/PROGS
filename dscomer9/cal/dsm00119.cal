|FICHEROS;
     dsm00119 #0;
     dsm00058 #1;
     dsm00058@ #2;
|FIN;

|VARIABLES;
     nConta    = 0;
     nModo     = 0;
     aPath     = "";
     aFic      = "";
     aAlfa     = "";
     nForma    = 0;
|FINSI;

|PROCESO Conta; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1;
          |LEE 000#0u;
          |SI FSalida = 0;
               nConta = #0#0 + 1;
          |SINO;
               nConta = 1;
          |FINSI;
          |DDEFECTO #0;
          #0#0 = nConta;
     |FINSI;
|FPRC;

|PROCESO Tipo8; |TIPO 8;
     |DDEF aPath;
     aFic = aPath + "dsm00058";
     |CARGA_DEF aFic, dsm00058@;
     |SI FSalida ! 0; aFic = ""; |FINSI;
|FPRC;

|PROCESO Tipo9; |TIPO 9;
     |SI aFic ! "";
          |DESCARGA_DEF #dsm00058@;
     |FINSI;
|FPRC;

|PROCESO Compru;
     |SI #2#1 = #1#1;  |ACABA; |FINSI;

     |SI #2#1 ] #1#1;
          |SI #1#3 ] #2#2; |Y #1#3 [ #2#3;
               aAlfa = "0000Error, limite comprendido en linea:" +  #2#1;
               |ERROR10;
          |FINSI;
     |SINO;
          |SI #1#2 ] #2#2; |Y #1#2 [ #2#3;
               aAlfa = "0000Error, limite comprendido en linea:" +  #2#1;
               |ERROR10;
          |FINSI;
          |SI #1#2 [ #2#2;
               aAlfa = "0000Error, los limites deben ser ascendentes";
               |ERROR10;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE Compru;
     #dsm00058@#1002;
     ;
     #0#0, 01;
     #0#1, 99;
     ;
     NULL, Compru;
|FIN;

|PROCESO Comprueba; |TIPO 2;
     nForma = 0 +. 1;
     |SI nForma ! 1; |ACABA; |FINSI;

     |SI #1#3 < #1#2;
          |MENAV "0000Error de limites...";
          |ERROR; |ACABA;
     |FINSI;
     aAlfa = "";
     |BUCLE Compru;
     |SI aAlfa ! "";
          |MENAV aAlfa;
          |ERROR;
     |FINSI;
|FPRC;
