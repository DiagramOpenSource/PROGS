|FICHEROS;
     mecam016 #0;
     mecam017 #1;
     mecam009 #9;
     mecam011 #11;
|FIN;

|VARIABLES;
     &eaSerie = "";
     &enOrden = 0;
     nError = 0;
     nForma = 0;
     nModo = 0;
     aAlfa = "";
|FIN;

|PROCESO mecam011;
     |SI #11#9 = "S";
          nError = 1;
     |FINSI;
|FPRC;

|DEFBUCLE mecam011;
     #11#1;
     ;
     #0#0, #0#1, "                    ", "                    ", " ";
     #0#0, #0#1, "zzzzzzzzzzzzzzzzzzzz", "zzzzzzzzzzzzzzzzzzzz", "z";
     ;
     NULL, mecam011;
|FIN;

|PROCESO CheqOrden; |TIPO 0;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1;
          |ABRE #9;
          #9#0 = #0#0;
          #9#1 = #0#1;
          |LEE 000#9=;
          |CIERRA #9;
          aAlfa = #9#3; |QBF aAlfa;
          |SI aAlfa = "";
               |MENAV "0000Orden sin producto principal...";
               |ERROR; |ACABA;
          |FINSI;
          |CIERRA #9;

          nError = 0;
          |BUCLE mecam011;
          |SI nError ! 0;
               |MENAV "0000Orden con consumos introducidos...";
               |ERROR; |ACABA;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO Lineas;
     |SI #1#6 = "S"; |O #1#7 = "S";
          nError = 1;
          |ERROR10;
     |FINSI;
|FPRC;

|PROCESO Tipo16_2; |TIPO 2;
     nForma = 0 +. 1;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3;
          nError = 0;
          |BUCLELIN 2Lineas#0;
          |SI nError = 1;
               |MENAV "0000Existen lineas actualizadas...";
               |ERROR; |ACABA;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO Tipo17_2; |TIPO 2;
     nForma = 0 +. 1;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3; |O nModo = 2;
          |SI #1#6 = "S"; |O #1#7 = "S";
               |SI nForma = -1;
                    |MENAV "0000Linea Actualizada...";
                    |ERROR; |ACABA;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO MiraAct;
     |SI #1#6 = "N";
          nError = 0;
     |FINSI;
|FPRC;

|PROCESO Tipo30; |TIPO 30;
     nError = 1;
     |BUCLELIN 2MiraAct#0;
     |SI nError = 0;
          |CONFI "0000NActualizar necesidades?";
          |SI FSalida = 0;
               |HAZ ActNece;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO ActNece;
     |LIBERA #0;
     |CIERRAT #0;

     eaSerie = #0#0;
     enOrden = #0#1;
     |SUB_EJECUTA_NP "mecaz014";

     |ABRET #0;
     |LEE 101#0=;
|FPRC;
