|FICHEROS;
     defelz06 #0;
     defelw06 #6,MANTE;  ||Tmp
     agifa073 #73;
     agifa104 #104;
|FIN;

|INCLUYE i_varart;

|VARIABLES;
     &Tempo = "";
     &eaEstado = "";
     aAlfa = "";
     nHay = 0;
     nEstado = 0;
     nSwFin = 0;
|FIN;

|PROCESO Imp;
     |PRINT;
|FPRC;

|DEFBUCLE Imp;
     #6#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, Imp;
|FIN;

|PROCESO Imprime;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "defelz06";
          |SI FSalida = 0;
               |BUCLE Imp;
               |PIEINF;
               |FININF;
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;

|PROCESO Estado;
     |ABRE #104;
     #104#25 = #6#0;
     #104#0 = #6#1;
     |LEE 020#104=;
     |SI FSalida ! 0; |ACABA; |FINSI;
     |CIERRA #104;

     |ABRE #73;
     #73#28 = #6#0;
     #73#0 = #6#1;
     #73#1 = #6#2;
     |LEE 020#73=;
     |SI FSalida ! 0; |ACABA; |FINSI;
     |CIERRA #73;

     eaTipo      = "PV";
     eaSerie     = #73#28;
     enCodigo    = #73#0;
     enLinea     = #73#1;
     eaArticulo  = #73#2;
     enAlmacen   = #73#3;
     enUnidades  = #73#5;
     enTBruto    = #73#7;
     eaAbono     = #104#34;
     eaReservado = "N";
     ||enTarifa    = #24#39;
     efFecha     = #104#1;
     eaCliente   = #104#4;
     enCamBas     = #104#36;
     eaMoneda     = #104#37;
     enCamDiv     = #104#41;

     nEstado = #73#53;
     |HAZ SacaEstado;
     |SI aAlfa ! ""; eaEstado = "EN ESTADO " + aAlfa; |FINSI;

     |SUB_EJECUTA_NP "dsz00002;CONSU";
|FPRC;

|PROCESO Tecla; |TIPO 11;
     |SI FSalida = 12;
          |HAZ Estado;
     |FINSI;
     |SI FSalida = 13;
          nSwFin = 1;
          |PTEC 807;
     |FINSI;
|FPRC;

|PROCESO SacaEstado;     || Tambien esta en el defelz05
     aAlfa = "";
     |SI nEstado = 2; aAlfa = "CORTE "; |FINSI;
     |SI nEstado = 3; aAlfa = "COLA "; |FINSI;
     |SI nEstado = 4; aAlfa = "BORDADO "; |FINSI;
     |SI nEstado = 5; aAlfa = "EMPAQUETADO "; |FINSI;
     |SI nEstado = 6; aAlfa = "ENVIADO "; |FINSI;
|FPRC;

|PROCESO Pedidos;
     nHay = 1;
     #6#0 = #104#25;
     #6#1 = #104#0;
     #6#2 = #73#1;
     #6#3 = #104#1;
     #6#4 = #104#4;
     #6#5 = #104#8;
     #6#6 = #73#2;
     #6#7 = #73#4;
     #6#8 = #73#5;
     nEstado = #73#53; |HAZ SacaEstado;
     #6#9 = aAlfa;
     |GRABA 020#6n;
|FPRC;

|DEFBUCLE Pedidos;
     #104#7;
     ;
     #0#0, #0#2, 0000, "     ", 000000;
     #0#1, #0#3, 9999, "zzzzz", 999999;
     ;
     NULL, NULL, Pedidos;
|FIN;

|PROCESO Min;
     #6#0 = "     ";
     #6#1 = 000000;
     #6#2 = 000;
|FPRC;

|PROCESO Max;
     #6#0 = "zzzzzz";
     #6#1 = 999999;
     #6#2 = 999;
|FPRC;

|PROCESO Tipo3; |TIPO 3;
     |HAZ CreaTempo;
     |NOME_DAT #6 Tempo; |DELINDEX #6; |ABRE #6;
     |BUCLE Pedidos;
     |SI nHay = 0;
          |MENAV "0000Selección vacia...";
     |SINO;
          |PARA nSwFin = 1; |SI nSwFin = 1; |HACIENDO;
               nSwFin = 0;
               |ENTLINEAL #1#6, 1, 4, 19, 1, Min, Max;
               |SI nSwFin = 1;
                    |HAZ Imprime;
               |FINSI;
          |SIGUE;
     |FINSI;
     |CIERRA #6; |HAZ BoraTempo; |DELINDEX #6;
|FPRC;
