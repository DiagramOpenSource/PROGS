|FICHEROS;
     seri0004 #0;
     agifa019 #19,MANTE;
     agifa553 #553;
     agifa060 #60;
     agifa120 #120;
     seri0001 #1;
     seri0002 #2;
     seri0003 #3;
|FIN;

|VARIABLES;
     &eaArtiSeri = "";
     &eaCamSeri1 = "";
     &eaCamSeri125 = "";
     &eaCamSeri2 = "";
     &eaCamSeri3 = "";
     &eaCamSeri126 = "";
     &eaCamSeri127 = "";
     &eaCamSeri189 = "";
     &eaCamSeri190 = "";
     &eaCamSeri191 = "";
     &eaCamSeri110 = "";

     aLinea = "";
     aFamilia = "";
     aSubfam = "";
     aMedida = "";
     aComple = "";
     aDArti = "";
     aHArti = "";
     aAlfa = "";
     nSal = 0;
     aModulo = "";
|FIN;

|PROCESO Descripciones;
     |DDEFECTO #553;
     |ABRE #553;
     #553#0 = #0#0;
     |LEE 000#553=;
     |CIERRA #553;
     #0#6 = #553#1; |PINTA #0#6;

     |DDEFECTO #60;
     |ABRE #60;
     #60#0 = #0#1;
     |LEE 000#60=;
     |CIERRA #60;
     #0#7 = #60#1; |PINTA #0#7;

     |DDEFECTO #120;
     |ABRE #120;
     #120#0 = #0#2;
     |LEE 000#120=;
     |CIERRA #120;
     #0#8 = #120#1; |PINTA #0#8;

     |DDEFECTO #1;
     |ABRE #1;
     #1#0 = #0#3;
     |LEE 000#1=;
     |CIERRA #1;
     #0#9 = #1#1; |PINTA #0#9;
     #0#10 = #1#2; |PINTA #0#10;
     #0#11 = #1#3; |PINTA #0#11;

     |DDEFECTO #2;
     |ABRE #2;
     #2#0 = #0#4;
     |LEE 000#2=;
     |CIERRA #2;
     #0#12 = #2#1; |PINTA #0#12;

     |DDEFECTO #3;
     |ABRE #3;
     #3#0 = #0#5;
     |LEE 000#3=;
     |CIERRA #3;
     #0#13 = #3#1; |PINTA #0#13;
|FPRC;

|PROCESO Tipo12; |TIPO 12;
|FPRC;

|PROCESO MiraArti; |TIPO 0;
     #19#0 = #0#14;
     |LEE 000#19=;
     |SI FSalida = 0;
          #0#5 = #19#127; |PINTA #0#5;
          #0#15 = #19#1; |PINTA #0#15;
          |C_M #0#5, 1, "N";
          |SI eaArtiSeri = "";
               |MENAV "0000El codigo existe...";
          |FINSI;
     |SINO;
          #0#5 = ""; |PINTA #0#5;
          |C_M #0#5, 1, "S";
     |FINSI;
|FPRC;

|PROCESO CreaArti; |TIPO 0;
     |DDEFECTO #19;
     #19#0 = #0#14;
     |LEE 000#19=;
     |SI FSalida ! 0;
          |SI aModulo = "agifa019";
               FSalida = 0;
          |SINO;
               |AVISO;
               |CONFI "0000SCrear Articulo:";
          |FINSI;
          |SI FSalida = 0;
               #19#1 = #0#15;
               #19#125 = #0#0;
               #19#2 = #0#1;
               #19#3 = #0#2;
               #19#126 = #0#4;
               #19#127 = #0#5;

               #19#189 = #0#9;
               #19#190 = #0#10;
               #19#191 = #0#11;
               #19#110 = #0#3;
               |SI aModulo ! "agifa019";
                    |GRABA 020#19b;
                    |CLS;
                    |PINPA #0#19;
                    |PINDA #0#19;
                    |ENDATOS #1#19;
                    |SI FSalida = 0;
                         |GRABA 020#19a;
                    |SINO;
                         |BORRA 020#19c;
                    |FINSI;
               |SINO;
                    eaCamSeri1 = #0#15;
                    eaCamSeri125 = #0#0;
                    eaCamSeri2 = #0#1;
                    eaCamSeri3 = #0#2;
                    eaCamSeri126 = #0#4;
                    eaCamSeri127 = #0#5;

                    eaCamSeri189 = #0#9;
                    eaCamSeri190 = #0#10;
                    eaCamSeri191 = #0#11;
                    eaCamSeri110 = #0#3;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO MontaArti; |TIPO 0;
     |SI #0Campo = Contenido;
          |ACABA;
     |FINSI;

     aAlfa = #0#0 + #0#1 + #0#2 + #0#3 + #0#4;
     #0#14 = aAlfa; |PINTA #0#14;

     aAlfa = #0#7; |QBF aAlfa;
     aAlfa = aAlfa + " " + #0#8; |QBF aAlfa;
     aAlfa = aAlfa + " ";
     |SI #0#9 ! 0;
          aAlfa = aAlfa + #0#9;
     |FINSI;
     |SI #0#10 ! 0;
          |SI #0#9 ! 0; aAlfa = aAlfa + "x"; |FINSI;
          aAlfa = aAlfa + #0#10;
     |FINSI;
     |SI #0#11 ! 0;
          |SI #0#9 ! 0; |O #0#10 ! 0; aAlfa = aAlfa + "x"; |FINSI;
          aAlfa = aAlfa + #0#11;
     |FINSI;
     #0#15 = aAlfa; |PINTA #0#15;
|FPRC;

|PROCESO Min;
     #19#0 = aDArti;
|FPRC;

|PROCESO Max;
     #19#0 = aHArti;
|FPRC;

|PROCESO Consulta; |TIPO 6;
     |SI FSalida = 17; || F9
          aDArti = "";
          aHArti = "";
          |SI Campo > 0;
               aDArti = aDArti + #0#0;
               aHArti = aHArti + #0#0;
          |FINSI;
          |SI Campo > 1;
               aDArti = aDArti + #0#1;
               aHArti = aHArti + #0#1;
          |FINSI;
          |SI Campo > 2;
               aDArti = aDArti + #0#2;
               aHArti = aHArti + #0#2;
          |FINSI;
          |SI Campo > 3;
               aDArti = aDArti + #0#3;
               aHArti = aHArti + #0#3;
          |FINSI;
          aDArti = aDArti + (" " * 20);
          aHArti = aHArti + ("z" * 20);

          #19#0 = aDArti;
          |LEE 000#19];
          |CONSULTA_F_CLAVE #1#19, Min, Max;
          |SI FSalida = 0;
               #0#14 = #19#0;
               |HAZ Desglosa;
          |SINO;
               |ERROR;
          |FINSI;
     |FINSI;
     |SI FSalida = 18; || F10;
          #19#0 = #0#14;
          |LEE 000#19];
          |CONSULTA_CLAVE #1#19;
          |SI FSalida = 0;
               #0#14 = #19#0;
               |HAZ Desglosa;
          |SINO;
               |ERROR;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO Desglosa;
     |DDEFECTO #19;
     |ABRE #19;
     #19#0 = #0#14;
     |LEE 000#19=;

     #0#5 = #19#127; ||=Orden
     #0#14 = #19#0;
     #0#15 = #19#1;

     aLinea = #0#14 % 101;
     aFamilia = #0#14 % 203;
     aSubfam = #0#14 % 505;
     aMedida = #0#14 % 1004;
     aComple = #0#14 % 1403;

     #0#0 = aLinea;
     #0#1 = aFamilia;
     #0#2 = aSubfam;
     #0#3 = aMedida;
     #0#4 = aComple; ||=Marca

     |HAZ Descripciones;
     |PINDA #0#0;
|FPRC;

|PROCESO Sal; |TIPO 11;
     |SI FSalida = 7;
          nSal = 1;
     |FINSI;
|FPRC;

|PROGRAMA;
     |CLS;
     |PINPA #0#0;

     aModulo = PARAMETRO;
     eaCamSeri1 = "";
     #0#14 = eaArtiSeri;
     |HAZ Desglosa;

     |SI eaArtiSeri = "";
          |PARA; |SI nSal = 0; |HACIENDO;
               |ENDATOS #1#0;
          |SIGUE;
     |SINO;
          |ENDATOS #1#0;
     |FINSI;

     eaArtiSeri = #0#14;
|FPRO;
