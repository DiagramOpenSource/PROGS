|FICHEROS;
   iberw017 #0;

   iberw012 #1;
   iberw013 #2;
   iberw015 #3;
   iberw011 #4;
   iberw014 #5;
|FIN;

|VARIABLES;

   nTarjeta = 0;
   nCalc    = 0;

   aAlfa    = "";
|FIN;

|PROCESO Bucle01_1;
   #iberw013#0 = #iberw012#0;
   #iberw013#1 = #iberw012#1;
   #iberw013#2 = #iberw012#2;
   |LEE 000#iberw013.=;
   |SI FSalida ! 0;
      |DDEFECTO #iberw013;
   |SINO;
      #iberw013#13 = "*"; |GRABA 020#iberw013.a;
   |FINSI;

   #iberw015#0  = #iberw012#0;
   #iberw015#1  = #iberw012#1;
   #iberw015#2  = #iberw012#2;
   #iberw015#3  = #iberw012#3  - #iberw013#3;
   #iberw015#4  = #iberw012#4  - #iberw013#4;
   #iberw015#5  = #iberw012#5  - #iberw013#5;
   #iberw015#6  = #iberw012#6  - #iberw013#6;
   #iberw015#7  = #iberw012#7  - #iberw013#7;
   #iberw015#8  = #iberw012#8  - #iberw013#8;
   #iberw015#9  = #iberw012#9  - #iberw013#9;
   |GRABA 020#iberw015.n;
|FPRC;

|DEFBUCLE Bucle01_1;
#iberw012#1;
;
INICIO;
FINAL;
;
NULL,Bucle01_1;
|FIN;

|PROCESO Bucle01_2;
   #iberw015#0  = #iberw013#0;
   #iberw015#1  = #iberw013#1;
   #iberw015#2  = #iberw013#2;
   #iberw015#3  = #iberw013#3;
   #iberw015#4  = #iberw013#4;
   #iberw015#5  = #iberw013#5;
   #iberw015#6  = #iberw013#6;
   #iberw015#7  = #iberw013#7;
   #iberw015#8  = #iberw013#8;
   #iberw015#9  = #iberw013#9;
   |GRABA 020#iberw015.n;
|FPRC;

|DEFBUCLE Bucle01_2;
#iberw013#1;
13;
000,"01.01.0000",00000, " ";
999,"31.12.9999",99999, " ";
;
NULL,Bucle01_2;
|FIN;

|PROCESO Bucle02;
   #iberw011#0 = #iberw015#0;
   #iberw011#1 = #iberw015#1;
   |LEE 000#iberw011.=;
   |SI FSalida ! 0; |DDEFECTO #iberw011; |FINSI;

   #iberw012#0 = #iberw015#0;
   #iberw012#1 = #iberw015#1;
   #iberw012#2 = #iberw015#2;
   |LEE 000#iberw012.=;

   #iberw013#0 = #iberw015#0;
   #iberw013#1 = #iberw015#1;
   #iberw013#2 = #iberw015#2;
   |LEE 000#iberw013.=;

   aAlfa = #iberw015#2; |QBF aAlfa; aAlfa = aAlfa % -102; nTarjeta = aAlfa;
   nTarjeta = nTarjeta + 1;
   #iberw014#0 = #iberw015#2;
   |LEE 000#iberw014.=;
   |SI FSalida = 0; nTarjeta = #iberw014#1; |FINSI;

   |SI nTarjeta = 1;
      nCalc = #iberw013#9 - (#iberw012#10 + #iberw011#3 + #iberw011#9);
   |FINSI;
   |SI nTarjeta = 2;
      nCalc = #iberw013#9 - (#iberw012#10 + #iberw011#4 + #iberw011#10);
   |FINSI;

   #iberw015#12 = nCalc; |GRABA 020#iberw015.a;
|FPRC;

|DEFBUCLE Bucle02;
#iberw015#1;
;
INICIO;
FINAL;
;
NULL,Bucle02;
|FIN;

|PROGRAMA;
   |CLS;
   |CABEZA "Relleno Datos Diferencias";
   |PINPA #0#0; |PINDA #0#0;
   |ENDATOS #1#0;
   |SI FSalida = 0; |Y #0#0 = "S";
      |DELINDEX #iberw015; |ABRE #iberw015; |ABRE #iberw013;
      |ABRE #iberw012; |ABRE #iberw014; |ABRE #iberw011;
      |BUCLE Bucle01_1;
      |BUCLE Bucle01_2;
      |BUCLE Bucle02;
      |CIERRA #iberw011;
      |CIERRA #iberw014; |CIERRA #iberw012;
      |CIERRA #iberw013; |CIERRA #iberw015;
   |FINSI;
|FPRO;
