|FICHEROS;
     psioa031;
     psioa030;
     agifa104;
     agifa073;
     agifa010;
     agifa071;
     agifa084;
     agifa069;
|FIN;

|PROCESO agifa069;
     |DDEFECTO #psioa030;
     #psioa030#0 = #agifa084#3;
     #psioa030#1 = #agifa084#91;
     #psioa030#2 = #agifa069#2;
     |LEE 101#psioa030.=;
     |SI FSalida ! 0; |GRABA 020#psioa030.b; |FINSI;
     |SI #psioa030#3 < #agifa084#1;
          #psioa030#3 = #agifa084#1;
          #psioa030#4 = #agifa069#4;
          #psioa030#5 = #agifa069#5;
          #psioa030#6 = #agifa069#6;
          #psioa030#7 = #agifa069#8;
     |FINSI;
     #psioa030#8 = #psioa030#8 + #agifa069#5;
     |GRABA 020#psioa030.a;
     |LIBERA #psioa030;
|FPRC;

|DEFBUCLE agifa084;
     #agifa084#3;
     ;
     "      ",  #psioa031#0, "     ", 000000;
     "zzzzzz", "31.12.2999", "zzzzz", 999999;
     ;
     NULL, NULL, agifa069;
|FIN;

|PROCESO agifa071;
     |DDEFECTO #psioa030;
     #psioa030#0 = #agifa010#3;
     #psioa030#1 = #agifa010#84;
     #psioa030#2 = #agifa071#2;
     |LEE 101#psioa030.=;
     |SI FSalida ! 0; |GRABA 020#psioa030.b; |FINSI;
     |SI #psioa030#3 < #agifa010#1;
          #psioa030#3 = #agifa010#1;
          #psioa030#4 = #agifa071#4;
          #psioa030#5 = #agifa071#5;
          #psioa030#6 = #agifa071#6;
          #psioa030#7 = #agifa071#8;
     |FINSI;
     #psioa030#8 = #psioa030#8 + #agifa071#5;
     |GRABA 020#psioa030.a;
     |LIBERA #psioa030;
|FPRC;

|DEFBUCLE agifa010;
     #agifa010#7;
     ;
      #psioa031#0, "     ", 000000;
     "31.12.2999", "zzzzz", 999999;
     ;
     NULL, NULL, agifa071;
|FIN;

|PROCESO agifa073;
     |DDEFECTO #psioa030;
     #psioa030#0 = #agifa104#4;
     #psioa030#1 = #agifa104#57;
     #psioa030#2 = #agifa073#2;
     |LEE 101#psioa030.=;
     |SI FSalida ! 0; |GRABA 020#psioa030.b; |FINSI;
     |SI #psioa030#3 < #agifa104#1;
          #psioa030#3 = #agifa104#1;
          #psioa030#4 = #agifa073#4;
          #psioa030#5 = #agifa073#5;
          #psioa030#6 = #agifa073#6;
          #psioa030#7 = #agifa073#8;
     |FINSI;
     #psioa030#8 = #psioa030#8 + #agifa073#5;
     |GRABA 020#psioa030.a;
     |LIBERA #psioa030;
|FPRC;

|DEFBUCLE agifa104;
     #agifa104#7;
     ;
      #psioa031#0, "      ", 0000, "     ", 000000;
     "31.12.2999", "zzzzzz", 9999, "zzzzz", 999999;
     ;
     NULL, NULL, agifa073;
|FIN;

|PROCESO psioa030;
     #psioa030#8 = 0;
     |GRABA 020#psioa030.a;
     |LIBERA #psioa030;
|FPRC;

|DEFBUCLE psioa030;
     #psioa030#1;
     ;
     INICIO;
     FINAL;
     be;
     NULL, psioa030;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |SI #psioa031#1 ! "SI";
         |ACABA;
     |FINSI;

     |ABRET #psioa030;

     |BUCLE psioa030;
     |BUCLE agifa104;
     |BUCLE agifa010;
     |BUCLE agifa084;

     |CIERRAT #psioa030;
|FPRC;

|PROGRAMA;
     |SI PARAMETRO = "auto"; |O PARAMETRO = "AUTO";
          #psioa031#0 = "01.01.0000";
          #psioa031#1 = "SI";
          |HAZ Tipo3;
     |SINO;
          |MANTE #psioa031;
     |FINSI;
|FPRO;
