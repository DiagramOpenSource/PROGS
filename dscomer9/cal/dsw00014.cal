|FICHEROS;
     agifa019 #19;
     dsw00014 #1014;
     dsm00019 #919;
|FIN;

|VARIABLES;
     &eAlfaC    = "";
     &eAlfa     = "";
     &enModoArt = 0;

      nNume     = 0;
|FIN;

|PROCESO GrabaArticulo;
     |ABRE #19;
     |LEE 040#19u;
     |SI FSalida ! 0;  |DDEFECTO #19;  |FINSI;
     |CIERRA #19;

     nNume  = #19#0;
     nNume  = nNume + 1;
     eAlfa  = (("0" * 20) + nNume) % -120;
     eAlfaC = #1014#0;
|FPRC;

|PROCESO Consulta;
     |ABRE #919;
     #919#0 = #1014#0;
     |LEE 040#919];
     |SI FSalida = 0;
         eAlfaC = #919#0;
         eAlfa  = #919#1;
     |SINO;
         eAlfa = "-1";
         |MENAV "      Ultima Ficha";
     |FINSI;
     |CIERRA #919;
|FPRC;

|PROCESO Modificacion;
     |ABRE #919;
     #919#0 = #1014#0;
     |LEE 040#919=;
     |SI FSalida = 0;
         eAlfaC = #919#0;
         eAlfa  = #919#1;
     |SINO;
         eAlfa = "-1";
         |MENAV "      No existe Articulo";
     |FINSI;
     |CIERRA #919;
|FPRC;

|PROCESO Alta;
     |ABRE #919;
     #919#0 = #1014#0;
     |LEE 040#919=;
     |SI FSalida = 0;
         eAlfaC = #919#0;
         eAlfa  = #919#1;
     |SINO;
         |HAZ GrabaArticulo;
     |FINSI;
     |CIERRA #919;
|FPRC;

|PROCESO Tipo12w14;  |TIPO 12;
     |SI FSalida ! 0;
         eAlfa = "-1";
         |ACABA;
     |FINSI;

     |SI enModoArt = 0;  enModoArt = 2;      |FINSI;
     |SI enModoArt = 1;  |HAZ Alta;          |FINSI;
     |SI enModoArt = 2;  |HAZ Modificacion;  |FINSI;
     |SI enModoArt = 3;  |HAZ Modificacion;  |FINSI;
     |SI enModoArt = 4;  |HAZ Consulta;      |FINSI;
|FPRC;
