     OFERTAS

|FICHEROS;
     ialbz008 #0;
     ialbz012 #12;  || Vent. Rechazo
     agifa146 #146;
     agifa147 #147;

     referec@;
     referel@;
|FIN;

|VARIABLES;
     &enGrid = 0;
     &Tempo = "";
     &aDivisa = "";
     &aMoneda = "";
     &eaAlfa = "";
     &eaRegNuevo = "";
     &eaProg = "";
     &eaEstadoBtn = "";
     &eaTmp = "";
     &eaPestana = "";
     &eaSwCarga1 = "";
     &eaBtnAcota1 = "";
     &eaSer1 = "";
     &eaNum1 = "";
     &eaLin1 = "";

     aProg = "";
     nPrime = 0;
     aTmp = "";
     aAlfa = "";
     nRango = 0;
     nPos1 = 0;
     nPos2 = 0;
     nPestana = 0;
     aPath = "";
     nPos = 0;
     nDDir = 0;
     nHDir = 0;
     aDTipo = "";
     aHTipo = "";
     aSer = "";
     aNum = "";
     nSw = 0;

     {-1}aVent = "";
         aVent1 = 0;
         aVent2 = 0;
         aVent3 = 0;
         aVent4 = 0;
         aVent5 = "";
     nVentana = 0;
     nBtnPdtCon1 = 0;
     nBtnAcepta1 = 0;
     nBtnRechaza1 = 0;
     nBtnAntigua1 = 0;
     nBtnTodas1 = 0;
     nBtnNueva1 = 0;
     nBtnImpre1 = 0;
     nBtnSalir1 = 0;
     nGridC = -1;
     nGridL = -1;
     nPanta = 0;
     nEvtFoco = 0;
     nBtnModifi11 = -1;
     nBtnVerOfe11 = -1;
     nBtnAcepta11 = -1;
     nBtnRechaza11 = -1;
     nBtnRelacion11 = -1;
     nBtnVerOfe21 = -1;
     nBtnVerPed21 = -1;
     nBtnAnula21 = -1;
     nBtnRelacion21 = -1;
     nBtnVerOfe31 = -1;
     nBtnVerMot31 = -1;
     nBtnAnulaRe31 = -1;
     nBtnRelacion31 = -1;
     nBtnVerOfe41 = -1;
     nBtnPasaPdt41 = -1;
     nBtnIrOfe51 = -1;
     aTipo = "";
     nSwRefre = 0;
|FIN;

|PROCESO ActLineal1;
     |SI #0#0 ! "000000";
          |ABRE #146;
          #146#48 = aSer;
          #146#0 = aNum;
          |LEE 000#146=;
          |SI FSalida = 0;
               nSw = 0;
               |SI eaBtnAcota1 = "1"; |Y #146#83 = "N"; nSw = 1; |FINSI;
               |SI eaBtnAcota1 = "2"; |Y #146#83 = "S"; nSw = 1; |FINSI;
               |SI eaBtnAcota1 = "3"; |Y #146#83 = "R"; nSw = 1; |FINSI;
               |SI eaBtnAcota1 = "4"; |Y #146#83 = "A"; nSw = 1; |FINSI;
               |SI eaBtnAcota1 = "5"; nSw = 1; |FINSI;
               #referec@#48 = #146#48;
               #referec@#0 = #146#0;
               |LEE 000#referec@.=;
               |SI nSw = 1;   || si debe de estar
                    |SI FSalida = 0;
                         |BORRA 020#referec@.c;
                    |FINSI;
                    |SALVA_DATOS #146;
                    |REPON_DATOS #referec@;
                    |GRABA 000#referec@.n;
                    |LEE 000#referec@.=;
               |SINO;         || no debe de estar
                    |SI FSalida = 0
                         |BORRA 020#referec@.c;
                    |FINSI;
               |FINSI;
          |FINSI;
          |CIERRA #146;
     |FINSI;
     |REFRESCACONTROL nGridC;
|FPRC;
//----------------//
|PROCESO Existe1;
     |ABRE #146;
     #146#48 = #referec@#48;
     #146#0 = #referec@#0;
     |LEE 000#146=;
     aAlfa = FSalida;
     |CIERRA #146;
     FSalida = aAlfa;
|FPRC;

|PROCESO BtnIrOfe51;
     |HAZ Existe1;
     |SI FSalida ! 0; |ACABA; |FINSI;

     |HAZ CogePosicion1;
     |SI #referec@#83 = "S"; |HAZ BtnAcepta1; |FINSI;
     |SI #referec@#83 = "N"; |HAZ BtnPdtCon1; |FINSI;
     |SI #referec@#83 = "R"; |HAZ BtnRechaza1; |FINSI;
     |SI #referec@#83 = "A"; |HAZ BtnAntigua1; |FINSI;
     |PULSATECLA;        || sin esto no se posiciona
     |HAZ Posiciona1;
|FPRC;

|PROCESO BtnVerOfe41;
     |HAZ BtnVerOfe11;
|FPRC;

|PROCESO BtnPasaPdt41;
     |HAZ Existe1;
     |SI FSalida ! 0; |ACABA; |FINSI;

     aAlfa = "0000NPasar a Pendiente:" + #referec@#48 + "/" + (("000000"+#referec@#0)%-106);
     |CONFI aAlfa;
     |SI FSalida = 0;
          |ABRE #146;
          #146#48 = #referec@#48;
          #146#0 = #referec@#0;
          |LEE 121#146=;
          |SI FSalida = 0;
               #146#83 = "N";
               |GRABA 020#146a;
               |SI FSalida = 0;
                    |BORRA 020#referec@.a;
                    #referec@#0 = 0;
                    |REFRESCACONTROL nGridL;
                    |REFRESCACONTROL nGridC;
               |FINSI;
          |FINSI;
          |CIERRA #146;
     |FINSI;
|FPRC;

|PROCESO BtnVerOfe31;
     |HAZ BtnVerOfe11;
|FPRC;

|PROCESO BtnVerMot31;
     |HAZ Existe1;
     |SI FSalida ! 0; |ACABA; |FINSI;

     |VENTANA 1307, 2195, -1, 17, "Rechazar Oferta";
     nVentana = FSalida;
     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |DDEFECTO #12;
     #12#0 = #146#48;
     #12#1 = #146#0;
     #12#2 = #146#1;
     #12#3 = #146#3;
     #12#4 = #146#4;
     #12#5 = #146#84;
     #12#6 = #146#88;
     #12#7 = #146#92;
     |PINPA #0#12;
     |PINDA #0#12;
     |PAUSA;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;
     |FINVENTANA nVentana;
     |PULSATECLA;
|FPRC;

|PROCESO BtnAnulaRe31;
     |HAZ Existe1;
     |SI FSalida ! 0; |ACABA; |FINSI;

     aAlfa = "0000NAnular rechazo:" + #referec@#48 + "/" + (("000000"+#referec@#0)%-106);
     |CONFI aAlfa;
     |SI FSalida = 0;
          |ABRE #146;
          #146#48 = #referec@#48;
          #146#0 = #referec@#0;
          |LEE 121#146=;
          |SI FSalida = 0;
               #146#83 = "N";
               |GRABA 020#146a;
               |SI FSalida = 0;
                    |BORRA 020#referec@.a;
                    #referec@#0 = 0;
                    |REFRESCACONTROL nGridL;
                    |REFRESCACONTROL nGridC;
               |FINSI;
          |FINSI;
          |CIERRA #146;
     |FINSI;
|FPRC;

|PROCESO BtnRelacion31;
     |HAZ BtnRelacion11;
|FPRC;

|PROCESO BtnVerOfe21;
     |HAZ BtnVerOfe11;
|FPRC;

|PROCESO BtnVerPed21;
     |HAZ Existe1;
     |SI FSalida ! 0; |ACABA; |FINSI;

     aProg = "*dszx0002;"+ "P" + #referec@#48 + (("000000"+#referec@#0)%-106);
     |SUB_EJECUTA aProg;
|FPRC;

|PROCESO BtnAnula21;
     |HAZ Existe1;
     |SI FSalida ! 0; |ACABA; |FINSI;

     aAlfa = "0000NAnular confirmaci¢n:" + #referec@#48 + "/" + (("000000"+#referec@#0)%-106);
     |CONFI aAlfa;
     |SI FSalida = 0;
          |ABRE #146;
          #146#48 = #referec@#48;
          #146#0 = #referec@#0;
          |LEE 121#146=;
          |SI FSalida = 0;
               #146#83 = "N";
               |GRABA 020#146a;
               |SI FSalida = 0;
                    |BORRA 020#referec@.a;
                    #referec@#0 = 0;
                    |REFRESCACONTROL nGridL;
                    |REFRESCACONTROL nGridC;
               |FINSI;
          |FINSI;
          |CIERRA #146;
     |FINSI;
|FPRC;

|PROCESO BtnRelacion21;
     |HAZ BtnRelacion11;
|FPRC;

|PROCESO BtnVerOfe11;
     |HAZ Existe1;
     |SI FSalida ! 0; |ACABA; |FINSI;

     aProg = "*dszx0002;"+ "V" + #referec@#48 + (("000000"+#referec@#0)%-106);
     |SUB_EJECUTA aProg;
|FPRC;

|PROCESO BtnModifi11;
     |HAZ Existe1;
     |SI FSalida ! 0; |ACABA; |FINSI;

     aProg = "*dszx0002;"+ "M" + #referec@#48 + (("000000"+#referec@#0)%-106);
     |SUB_EJECUTA aProg;
     aSer = #referec@#48;
     aNum = #referec@#0;
     aTipo = "M"; |HAZ ActLineal1;
|FPRC;

|PROCESO BtnAcepta11;
     |HAZ Existe1;
     |SI FSalida ! 0; |ACABA; |FINSI;

     aAlfa = "0000NAceptar Oferta:" + #referec@#48 + "/" + (("000000"+#referec@#0)%-106);
     |CONFI aAlfa;
     |SI FSalida = 0;
          |ABRE #146;
          #146#48 = #referec@#48;
          #146#0 = #referec@#0;
          |LEE 121#146=;
          |SI FSalida = 0;
               |HAZ CreOfePedi;
               |SI FSalida = 0;
                    #146#83 = "S";
                    |GRABA 020#146a;

                    |BORRA 020#referec@.a;
                    #referec@#0 = 0;
                    |REFRESCACONTROL nGridL;
                    |REFRESCACONTROL nGridC;

                    eaAlfa = "NUEVOPED";
                    |HAZ ActLineal2;
               |FINSI;
          |FINSI;
          |CIERRA #146;
     |FINSI;
|FPRC;

|PROCESO BtnRechaza11;
     |HAZ Existe1;
     |SI FSalida ! 0; |ACABA; |FINSI;

     |VENTANA 1307, 2195, -1, 17, "Rechazar Oferta";
     nVentana = FSalida;
     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |ABRE #146;
     #146#48 = #referec@#48;
     #146#0 = #referec@#0;
     |LEE 121#146=;

     |DDEFECTO #12;
     #12#0 = #146#48;
     #12#1 = #146#0;
     #12#2 = #146#1;
     #12#3 = #146#3;
     #12#4 = #146#4;
     #12#5 = #146#84;
     #12#6 = #146#88;
     #12#7 = Usuario % 810;
     |PINDA #0#12;
     |ENDATOS #1#12;
     |SI FSalida = 0;
          #146#83 = "R";
          #146#84 = #12#5;
          #146#88 = #12#6;
          #146#92 = #12#7;
          |GRABA 020#146a;
          |SI FSalida = 0;
               |BORRA 020#referec@.a;
               #referec@#0 = 0;
               |REFRESCACONTROL nGridL;
               |REFRESCACONTROL nGridC;
          |FINSI;
     |FINSI;

     |CIERRA #146;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;
     |FINVENTANA nVentana;
     |PULSATECLA;
|FPRC;

|PROCESO BtnRelacion11;
     |HAZ Existe1;
     |SI FSalida ! 0; |ACABA; |FINSI;

     aProg = "*dszx0002;" + "R"+ #referec@#48 + (("000000"+#referec@#0)%-106);
     |SUB_EJECUTA aProg;
|FPRC;
//----------------//
|PROCESO CargaDatos1;
     |SI eaSwCarga1 ! "S";
          |HAZ DestruyePan1;
          |HAZ Descarga1;
          |SI #0#0 = "000000";
               |REFERENCIA_DEF referec@, #146;
          |FINSI;
          |REFERENCIA_DEF referel@, #147;
          |HAZ PintaPanta1;
     |FINSI;
|FPRC;

|PROCESO CogePosicion1;
     eaSer1 = #referec@#48;
     eaNum1 = ("000000" + #referec@#0) % -106;
     eaLin1 = ("000" + #referel@#1) % -103;
|FPRC;

|PROCESO Posiciona1;
     #referel@#20 = eaSer1;
     #referel@#0 = eaNum1;
     #referel@#1 = eaLin1;
     |LEE 000#referel@.=;

     #referec@#48 = eaSer1;
     #referec@#0 = eaNum1;
     |LEE 000#referec@.=;
     |REFRESCACONTROL nGridC;

     |SI eaPestana = "1"; |FOCOTECLADO nGridC; |FINSI;
|FPRC;

|PROCESO EstadoBtn1;
     |SI #0#0 = "000000";
          |ESTADO_CONTROL nBtnPdtCon1, "DISABLE";
          |ESTADO_CONTROL nBtnAcepta1, "DISABLE";
          |ESTADO_CONTROL nBtnRechaza1, "DISABLE";
          |ESTADO_CONTROL nBtnAntigua1, "DISABLE";
          |ESTADO_CONTROL nBtnTodas1, "DISABLE";
     |SINO;
          |SI eaBtnAcota1 = "1";
               |ESTADO_CONTROL nBtnPdtCon1, "DISABLE";
               |ESTADO_CONTROL nBtnAcepta1, "ENABLE";
               |ESTADO_CONTROL nBtnRechaza1, "ENABLE";
               |ESTADO_CONTROL nBtnAntigua1, "ENABLE";
               |ESTADO_CONTROL nBtnTodas1, "ENABLE";
          |FINSI;
          |SI eaBtnAcota1 = "2";
               |ESTADO_CONTROL nBtnPdtCon1, "ENABLE";
               |ESTADO_CONTROL nBtnAcepta1, "DISABLE";
               |ESTADO_CONTROL nBtnRechaza1, "ENABLE";
               |ESTADO_CONTROL nBtnAntigua1, "ENABLE";
               |ESTADO_CONTROL nBtnTodas1, "ENABLE";
          |FINSI;
          |SI eaBtnAcota1 = "3";
               |ESTADO_CONTROL nBtnPdtCon1, "ENABLE";
               |ESTADO_CONTROL nBtnAcepta1, "ENABLE";
               |ESTADO_CONTROL nBtnRechaza1, "DISABLE";
               |ESTADO_CONTROL nBtnAntigua1, "ENABLE";
               |ESTADO_CONTROL nBtnTodas1, "ENABLE";
          |FINSI;
          |SI eaBtnAcota1 = "4";
               |ESTADO_CONTROL nBtnPdtCon1, "ENABLE";
               |ESTADO_CONTROL nBtnAcepta1, "ENABLE";
               |ESTADO_CONTROL nBtnRechaza1, "ENABLE";
               |ESTADO_CONTROL nBtnAntigua1, "DISABLE";
               |ESTADO_CONTROL nBtnTodas1, "ENABLE";
          |FINSI;
          |SI eaBtnAcota1 = "5";
               |ESTADO_CONTROL nBtnPdtCon1, "ENABLE";
               |ESTADO_CONTROL nBtnAcepta1, "ENABLE";
               |ESTADO_CONTROL nBtnRechaza1, "ENABLE";
               |ESTADO_CONTROL nBtnAntigua1, "ENABLE";
               |ESTADO_CONTROL nBtnTodas1, "DISABLE";
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO BtnPdtCon1;
     eaBtnAcota1 = "1";
     eaSwCarga1 = "N";
     |HAZ EventoFoco1;
|FPRC;

|PROCESO BtnAcepta1;
     eaBtnAcota1 = "2";
     eaSwCarga1 = "N";
     |HAZ EventoFoco1;
|FPRC;

|PROCESO BtnRechaza1;
     eaBtnAcota1 = "3";
     eaSwCarga1 = "N";
     |HAZ EventoFoco1;
|FPRC;

|PROCESO BtnAntigua1;
     eaBtnAcota1 = "4";
     eaSwCarga1 = "N";
     |HAZ EventoFoco1;
|FPRC;

|PROCESO BtnTodas1;
     eaBtnAcota1 = "5";
     eaSwCarga1 = "N";
     |HAZ EventoFoco1;
|FPRC;

|PROCESO BtnNueva1;
     eaProg = "*dszx0002;"+ "N" + "     000000" + #0#0 + (("0000" + #0#1) % -104);
     |HAZ EjecutaProg;
     aSer = eaAlfa % 105;
     aNum = eaAlfa % 606;
     aTipo = "N"; |HAZ ActLineal1;
|FPRC;

|PROCESO BtnImpre1;
     |HAZ Existe1;
     |SI FSalida ! 0; |ACABA; |FINSI;

     aProg = "*dszx0002;"+ "I" + #referec@#48 + (("000000"+#referec@#0)%-106);
     |SUB_EJECUTA aProg;
|FPRC;

|PROCESO EventoC1;
     |SI FSalida = 1; |O FSalida = 2;
          |LEE 000#referec@.=;
          |SI FSalida = 0;
               aDivisa = #referec@#65;
               aMoneda = #referec@#67;
               |HAZ Divisas146;
          |FINSI;
          |REFRESCACONTROL nGridL;
     |FINSI;
|FPRC;

|PROCESO EventoL1;
     |SI FSalida = 1; |O FSalida = 2;
          |LEE 000#referel@.=;
     |FINSI;
|FPRC;

|PROCESO EventoFoco1;
     |HAZ CargaDatos1;
     eaPestana = "1";
|FPRC;

|PROCESO CargaTmp1;
     |SALVA_DATOS #146;
     |REPON_DATOS #referec@;
     |GRABA 020#referec@.n;
|FPRC;

|DEFBUCLE CargaTmp1;
     #146#5;
     ;
     #0#0, nDDir, aDTipo;
     #0#0, nHDir, aHTipo;
     ;
     NULL, CargaTmp1;
|FIN;

|PROCESO NomeDat1;
     |SI #0#0 = "000000"; |Y nPrime = 1;
          aTmp = "agifa146";
          |NOME_DAT #referec@#aTmp#;
     |SINO;
          nPos = ((8 * 0 + 1) * 100 + 8);
          aTmp = eaTmp % nPos;
          |NOME_DAT #referec@#aTmp#;

          |DELINDEX #referec@;
     |FINSI;
     nPrime = 1;         ||para que al entrar no mueste nada
|FPRC;

|PROCESO MinL1;
     #referel@#20 = #referec@#48;
     #referel@#0 = #referec@#0;
     #referel@#1 = 1;
|FPRC;

|PROCESO MaxL1;
     #referel@#20 = #referec@#48;
     #referel@#0 = #referec@#0;
     #referel@#1 = 999;
|FPRC;

|PROCESO MinC1;
     #referec@#48 = "     ";
     #referec@#0 = 0;
|FPRC;

|PROCESO MaxC1;
     #referec@#48 = "zzzzz";
     #referec@#0 = 999999;
|FPRC;

|PROCESO EstadoIniBtnPan1;
     |ESTADO_CONTROL nBtnPdtCon1, eaEstadoBtn;
     |ESTADO_CONTROL nBtnAcepta1, eaEstadoBtn;
     |ESTADO_CONTROL nBtnRechaza1, eaEstadoBtn;
     |ESTADO_CONTROL nBtnAntigua1, eaEstadoBtn;
     |ESTADO_CONTROL nBtnTodas1, eaEstadoBtn;
     |ESTADO_CONTROL nBtnNueva1, eaEstadoBtn;
     |ESTADO_CONTROL nBtnImpre1, eaEstadoBtn;
     |ESTADO_CONTROL nBtnSalir1, eaEstadoBtn;

     || bloquea/desbloquea todas las pesta¤as (solo en la 1§ pantalla)
     aAlfa = nPanta;
     |MAINCOMMAND 32913, "-1", "-1", aAlfa, "-1", "-1";
     |SI FSalida > 0;
          nPestana = FSalida;
          |ESTADO_CONTROL nPestana, eaEstadoBtn
     |FINSI;
|FPRC;

|PROCESO DestruyePan1;
     |DESTRUYECONTROL nGridL;
     |DESTRUYECONTROL nGridC;

     |FIN_CONTROL_WINDOWS nEvtFoco;

     |FIN_CONTROL_WINDOWS nBtnPdtCon1;
     |FIN_CONTROL_WINDOWS nBtnAcepta1;
     |FIN_CONTROL_WINDOWS nBtnRechaza1;
     |FIN_CONTROL_WINDOWS nBtnAntigua1;
     |FIN_CONTROL_WINDOWS nBtnTodas1;
     |FIN_CONTROL_WINDOWS nBtnNueva1;
     |FIN_CONTROL_WINDOWS nBtnImpre1;
     |FIN_CONTROL_WINDOWS nBtnSalir1;

     |SI nBtnModifi11 ! -1; |FIN_CONTROL_WINDOWS nBtnModifi11; |FINSI;
     |SI nBtnVerOfe11 ! -1; |FIN_CONTROL_WINDOWS nBtnVerOfe11; |FINSI;
     |SI nBtnAcepta11 ! -1; |FIN_CONTROL_WINDOWS nBtnAcepta11; |FINSI;
     |SI nBtnRechaza11 ! -1; |FIN_CONTROL_WINDOWS nBtnRechaza11; |FINSI;
     |SI nBtnRelacion11 ! -1; |FIN_CONTROL_WINDOWS nBtnRelacion11; |FINSI;
     nBtnModifi11 = -1;
     nBtnVerOfe11 = -1;
     nBtnAcepta11 = -1;
     nBtnRechaza11 = -1;
     nBtnRelacion11 = -1;
     |SI nBtnVerOfe21 ! -1; |FIN_CONTROL_WINDOWS nBtnVerOfe21; |FINSI;
     |SI nBtnVerPed21 ! -1; |FIN_CONTROL_WINDOWS nBtnVerPed21; |FINSI;
     |SI nBtnAnula21 ! -1; |FIN_CONTROL_WINDOWS nBtnAnula21; |FINSI;
     |SI nBtnRelacion21 ! -1; |FIN_CONTROL_WINDOWS nBtnRelacion21; |FINSI;
     nBtnVerOfe21 = -1;
     nBtnVerPed21 = -1;
     nBtnAnula21 = -1;
     nBtnRelacion21 = -1;
     |SI nBtnVerOfe31 ! -1; |FIN_CONTROL_WINDOWS nBtnVerOfe31; |FINSI;
     |SI nBtnVerMot31 ! -1; |FIN_CONTROL_WINDOWS nBtnVerMot31; |FINSI;
     |SI nBtnAnulaRe31 ! -1; |FIN_CONTROL_WINDOWS nBtnAnulaRe31; |FINSI;
     |SI nBtnRelacion31 ! -1; |FIN_CONTROL_WINDOWS nBtnRelacion31; |FINSI;
     nBtnVerOfe31 = -1;
     nBtnVerMot31 = -1;
     nBtnAnulaRe31 = -1;
     nBtnRelacion31 = -1;
     |SI nBtnVerOfe41 ! -1; |FIN_CONTROL_WINDOWS nBtnVerOfe41; |FINSI;
     |SI nBtnPasaPdt41 ! -1; |FIN_CONTROL_WINDOWS nBtnPasaPdt41; |FINSI;
     nBtnVerOfe41 = -1;
     nBtnPasaPdt41 = -1;
     |SI nBtnIrOfe51 ! -1; |FIN_CONTROL_WINDOWS nBtnIrOfe51; |FINSI;
     nBtnIrOfe51 = -1;
|FPRC;

|PROCESO Descarga1;
     |CIERRAT #referec@;
     |CIERRAT #referel@;
     |DESCARGA_DEF #referel@;
     |DESCARGA_DEF #referec@;
|FPRC;

|PROCESO PintaPanta1;
     |DDEF aPath;
     aAlfa = aPath + "agifa146";
     |CARGA_DEF aAlfa, referec@;
     aAlfa = aPath + "agifa147";
     |CARGA_DEF aAlfa, referel@;

     |HAZ NomeDat1;
     #referec@#0 = 0;    || Para que no salga nada si esta vacio

     |ABRET #referec@;;
     |ABRET #referel@;
     |SI #0#0 ! "000000";
          |SI #0#1 = 0;
               nDDir = 0; nHDir = 9999;
          |SINO;
               nDDir = #0#1; nHDir = #0#1;
          |FINSI;
          |SI eaBtnAcota1 = "1"; aDTipo = "N"; aHTipo = "N"; |FINSI;
          |SI eaBtnAcota1 = "2"; aDTipo = "S"; aHTipo = "S"; |FINSI;
          |SI eaBtnAcota1 = "3"; aDTipo = "R"; aHTipo = "R"; |FINSI;
          |SI eaBtnAcota1 = "4"; aDTipo = "A"; aHTipo = "A"; |FINSI;
          |SI eaBtnAcota1 = "5"; aDTipo = " "; aHTipo = "Z"; |FINSI;
          |BUCLE CargaTmp1;
          |LEE 000#referec@.p;
     |FINSI;
     eaSwCarga1 = "S";

     |PINPA #1#0;  nPanta = FSalida;

     nRango = 4 + 8 + 16 + 32;
     nPos1 = 2402;
     nPos2 = 3398;
     |SI nGridL ! -1; |DESTRUYECONTROL nGridL; |FINSI;
     |LINEAL_SIMPLE #1#referel@, nRango, nPos1, nPos2, MinL1, MaxL1, EventoL1;
     nGridL = FSalida;

     nRango = 4 + 8 + 16 + 32;
     nPos1 = 0602;
     nPos2 = 2298;
     |SI nGridC ! -1; |DESTRUYECONTROL nGridC; |FINSI;
     |LINEAL_SIMPLE #1#referec@, nRango, nPos1, nPos2, MinC1, MaxC1, EventoC1;
     nGridC = FSalida;
     enGrid = nGridC;

     |CONTROL_SIMPLE nPanta, "EVENTOPAN", 0000, 0000, EventoFoco1;
     nEvtFoco = FSalida;

     |CONTROL_SIMPLE nPanta, "BOTON,Ptes. Confirmar", 0501, 0513, BtnPdtCon1;
     nBtnPdtCon1 = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,Aceptadas", 0514, 0526, BtnAcepta1;
     nBtnAcepta1 = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,Rechazadas", 0527, 0539, BtnRechaza1;
     nBtnRechaza1 = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,Antiguas", 0540, 0552, BtnAntigua1;
     nBtnAntigua1 = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,Todas", 0553, 0565, BtnTodas1;
     nBtnTodas1 = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{193}}Nueva", 0566, 0578, BtnNueva1;
     nBtnNueva1 = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{205}}Imprimir", 0579, 0591, BtnImpre1;
     nBtnImpre1 = FSalida;

     |SI #0#0 ! "000000";
          |SI eaBtnAcota1 = "1";
               |CONTROL_SIMPLE nPanta, "BOTON,Ver Oferta", 2301, 2313, BtnVerOfe11;
               nBtnVerOfe11 = FSalida;
               |CONTROL_SIMPLE nPanta, "BOTON,Modificar", 2314, 2326, BtnModifi11;
               nBtnModifi11 = FSalida;
               |CONTROL_SIMPLE nPanta, "BOTON,Aceptar", 2327, 2339, BtnAcepta11;
               nBtnAcepta11 = FSalida;
               |CONTROL_SIMPLE nPanta, "BOTON,Rechazar", 2340, 2352, BtnRechaza11;
               nBtnRechaza11 = FSalida;
               |CONTROL_SIMPLE nPanta, "BOTON,Relacionadas", 2353, 2365, BtnRelacion11;
               nBtnRelacion11 = FSalida;
          |FINSI;
          |SI eaBtnAcota1 = "2";
               |CONTROL_SIMPLE nPanta, "BOTON,Ver Oferta", 2301, 2313, BtnVerOfe21;
               nBtnVerOfe21 = FSalida;
               |CONTROL_SIMPLE nPanta, "BOTON,Ver Pedido", 2314, 2326, BtnVerPed21;
               nBtnVerPed21 = FSalida;
               |CONTROL_SIMPLE nPanta, "BOTON,Anula Conf.", 2327, 2339, BtnAnula21;
               nBtnAnula21 = FSalida;
               |CONTROL_SIMPLE nPanta, "BOTON,Relacionadas", 2340, 2352, BtnRelacion21;
               nBtnRelacion21 = FSalida;
          |FINSI;
          |SI eaBtnAcota1 = "3";
               |CONTROL_SIMPLE nPanta, "BOTON,Ver Oferta", 2301, 2313, BtnVerOfe31;
               nBtnVerOfe31 = FSalida;
               |CONTROL_SIMPLE nPanta, "BOTON,Ver Motivo", 2314, 2326, BtnVerMot31;
               nBtnVerMot31 = FSalida;
               |CONTROL_SIMPLE nPanta, "BOTON,Anula Recha.", 2327, 2339, BtnAnulaRe31;
               nBtnAnulaRe31 = FSalida;
               |CONTROL_SIMPLE nPanta, "BOTON,Relacionadas", 2340, 2352, BtnRelacion31;
               nBtnRelacion31 = FSalida;
          |FINSI;
          |SI eaBtnAcota1 = "4";
               |CONTROL_SIMPLE nPanta, "BOTON,Ver Oferta", 2301, 2313, BtnVerOfe41;
               nBtnVerOfe41 = FSalida;
               |CONTROL_SIMPLE nPanta, "BOTON,Pasar Pdte", 2314, 2326, BtnPasaPdt41;
               nBtnPasaPdt41 = FSalida;
          |FINSI;
          |SI eaBtnAcota1 = "5";
               |CONTROL_SIMPLE nPanta, "BOTON,Ir a Oferta", 2301, 2313, BtnIrOfe51;
               nBtnIrOfe51 = FSalida;
          |FINSI;
     |FINSI;

     |CONTROL_SIMPLE nPanta, "BOTON,{{207}} Salir", 3488, 3498, BtnSalir;
     nBtnSalir1 = FSalida;

     |HAZ EstadoBtn1;
|FPRC;
