|FICHEROS;
     albad018 #0;
     agis0002 #2;
     agifa010 #10;
     albad037 #37;
|FIN;

|VARIABLES;
     &enCobro = 0;
     aCli = "";
     nTotal = 0;
     i = 0;
|FIN;

|PROCESO LinParri; |TIPO 0;
     |C_M #0#0, 1, "N";
     |C_M #0#1, 1, "N";
     |PARA i = 4; |SI i [ 73; |HACIENDO i = i + 1;
          |C_M #0i , 1, "N";
     |SIGUE;
     |SI #0#3 = "L";
          |C_M #0#0, 1, "S";
          |C_M #0#1, 1, "S";
     |SINO;
          |PARA i = 4; |SI i [ 73; |HACIENDO i = i + 1;
               |C_M #0i , 1, "S";
          |SIGUE;
     |FINSI;
|FPRC;

|PROCESO albad037;
     |DDEFECTO #10;
     #10#52 = #37#17;
     #10#0 = #37#0;
     |LEE 000#10=;

     enCobro = #37#19;
     nTotal = #10#67;

     |SI #10#43 = "S";
          nTotal = -nTotal
          enCobro = -enCobro;
     |FINSI;

     |SI nTotal > 0;
          |SI enCobro ] nTotal; |ACABA; |FINSI;
     |SINO;
          |SI nTotal ] enCobro; |ACABA; |FINSI;
     |FINSI;

     |SI #10#3 ! aCli; |Y aCli ! "";
          |||||||PIEINF;
     |FINSI;
     |PRINT;
     aCli = #10#3;
|FPRC;

|DEFBUCLE albad037;
     #37#3;
     ;
     #0#0, "01.01.0000", "     ", " ";
     #0#1, "31.12.9999", "zzzzz", "z";
     ;
     NULL, albad037;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |HAZ DecimalesBase;
     |ABRE #10;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "albad018";
          |SI FSalida = 0;
               |SI #0#3 = "L";
                    |BUCLE albad037;
               |SINO;
                    |PARA i = 4; |SI i [ 73; |HACIENDO i = i + 1;
                         #0#0 = #0i;
                         #0#1 = #0i;
                         |BUCLE albad037;
                    |SIGUE;
               |FINSI;
               |SI aCli ! ""; |PIEINF; |FINSI;
               |FININF;
          |FINSI;
          |FINIMP;
     |FINSI;
     |CIERRA #10;
|FPRC;
