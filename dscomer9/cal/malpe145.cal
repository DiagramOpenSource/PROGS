|FICHEROS;
     malpe145 #0;
     malpe141 #1;
     expconst #2;
|FIN;

|VARIABLES;
     i = 0;
     nReg = 0;
     aAlfa = "";
|FIN;

|PROCESO malpe141;
     |PARA i = 0; |SI i [ 43; |HACIENDO i = i + 1;
          #2i = #1i;
     |SIGUE;
     |GRABA 020#2n;

     |HORA aAlfa;
     #1#44 = "S";
     #1#45 = aAlfa;
     #1#46 = ~;
     |GRABA 020#1a;
     |LIBERA #1;
     nReg = nReg + 1;
|FPRC;

|DEFBUCLE malpe141;
     #1#1;
     44;
     "     ", "        ", "P";
     "zzzzz", "zzzzzzzz", "P";
     be;
     NULL, malpe141;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |SI #0#1 ! "SI"; |ACABA; |FINSI;
     |DBASE aAlfa;
     aAlfa = aAlfa + "fich/";
     |PATH_DAT #2#aAlfa#;

     |ABRE #2;
     |LEE 000#2p;
     |SI FSalida ! 0;
          |BUCLE malpe141;
          aAlfa = "0000Exportados " + nReg + " registros.";
          |MENAV aAlfa;
     |SINO;
          |MENAV "0000ERROR. Hay datos en el fichero de exportacion.";
     |FINSI;
     |CIERRA #2;
|FPRC;

|PROGRAMA;
     |CLS;
     |ABRE #0;
     |LEE 101#0=;
     |SI FSalida ! 0; |GRABA 020#0b; |FINSI;
     #0#1 = "NO";
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |SI FSalida = 0;
          |GRABA 020#0a;
     |FINSI;
     |CIERRA #0;
|FPRO;
