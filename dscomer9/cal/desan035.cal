|FICHEROS;
     desan035 #0;
     dsm00003 #3;
     agifa007 #7;
     agifa010 #10;
     agifa017 #17;
     agifa019 #19;
     agifa024 #24;
     agifa025 #25;
     desan027 #27;
     dsm00043 #43;
     agifa041 #41;
     dsm00044 #44;
     agifa065 #65;
     agifa071 #71;
     agifa077 #77;
     agifa080 #80;
     agifa112 #112;
     desan040 #140;
     desan041 #141;
     agifa142 #142;
     desan044 #144,MANTE;
     agifa321 #321;
     agifa324 #324;
|FIN;

|VARIABLES;
     &enImpPrvCom = 0;
     &eaProve = "";
     nImpo = 0;
     aMes = "";
     nMes = 0;
     &enPrecioB = 0;
     &enDeciB = 0;
     &precio_base = 0;
     &nDeci_PreBase = 0;
     &eaDocu = "";
     &eaMovimi = "";
     &enSwMenu = 0;
     &enForma = 0;
     &eaSerie = "";
     &enCodigo = 0;
     &enLinea = 0;
     &Tempo = "";
     nHay = 0;
     i = 0;
     {-1}aMenu = "";
     aMenu1 = "2400";
     aMenu2 = "1";
     aMenu3 = "Opciones: ";
     aMenu4 = "ARC";
     aMenu5 = " Aceptada  ";
     aMenu6 = " Rechazada ";
     aMenu7 = " Cancelar  ";

     {-1}aMena = "";
     aMena1 = "2400";
     aMena2 = "1";
     aMena3 = "Opciones: ";
     aMena4 = "AC";
     aMena5 = "   Abono   ";
     aMena6 = "  Costes 0 ";

     {-1}aMenb = "";
     aMenb1 = "2400";
     aMenb2 = "1";
     aMenb3 = "Opciones:  ";
     aMenb4 = "RPC";
     aMenb5 = " Rechazo  ";
     aMenb6 = " Pieza Correcta  ";
     aMenb7 = " Rechazo/Politica Comercial ";

     {-1}aMenc = "";
     aMenc1 = "2400";
     aMenc2 = "1";
     aMenc3 = "Opciones:  ";
     aMenc4 = "RAC";
     aMenc5 = "  Repasar  ";
     aMenc6 = "  Aceptar  ";
     aMenc7 = "  Cancelar ";

     aSerie = "";
     nLin = 0;
     nNum = 0;
     aTipo = "";
     importe = 0;
     cant = 0;
     &enImpCliPen = 0;
     &eaCliente = "";
     &efFecha = @;
     &eaTag = "";
     &enCoste = 0;
     &aDivisa = "";
     &aMoneda = "";
     aAbono = "";
     aFactu = "";
     aDirEmp = "";
     nCodEmp = "";
     aDatos = "";
     nError = 0;
     aCli = "";
     aPrv = "";
     aRecal = "";
     nUni = 0;
     nPreUlt = 0;
     nDto = 0;
     aTxt = "";
     nAlma = 0;
|FIN;

|PROCESO pcmlinea;
     enForma = 1;
     ||컴컴컴컴컴컴 Doble/Multi
     enPrecioB = precio_base;
     enDeciB = nDeci_PreBase;
     eaDocu = "agifa077";
     |HAZ StockEntra;
     ||컴컴컴컴컴컴컴컴컴컴컴컴
     nImpo = (#80#9 < #77#5) < #77#32;
     |SI #142#114 = "S";
          nImpo = nImpo < #77#7;
     |FINSI;

     |ABRE #112;
     #112#0 = #77#3;
     |LEE 101#112=;
     |SI FSalida = 0;
         aMes = #77#1 % A402;
         nMes = aMes + 26;
         |SI #77#42 = "N";
             #112nMes = #112nMes + nImpo;
             #112#39 = #112#39 + nImpo;
         |SINO;
             #112nMes = #112nMes - nImpo;
             #112#39 = #112#39 - nImpo;
         |FINSI;
         |GRABA 020#112a;
         |LIBERA #112;
     |FINSI;
     |CIERRA #112;

     |SI #77#42 = "N";
          enImpPrvCom = nImpo;
     |SINO;
          enImpPrvCom = -nImpo;
     |FINSI;
     efFecha = #77#1;
     eaProve = #77#3;
     |HAZ AcumulaPrv;
|FPRC;

|PROCESO LinAlbaCom;
     |DDEFECTO #80;
     #80#27 =  #77#50;
     #80#0 = #77#0;
     #80#1 = 1;
     #80#2 = #19#0;
     #80#3 = 1;
     #80#4 = #19#1;
     #80#5 = nUni;
     #80#6 = nPreUlt;
     #80#8 = nDto;
     #80#11 = #19#30;
     #80#13 = #19#2;
     #80#15 = #77#3;
     #80#26 = #19#129;
     #80#45 = #19#209;
     eaDocu = "agifa080";
     enForma = 1;
     |HAZ StockEntra;
     |HAZ TotalLin80;
     |GRABA 020#80n;
     |HAZ CalCabAgifa077;
|FPRC;

|PROCESO AbonoPro;
     |DFICE aDirEmp;
     |DFICB aDatos;
     aDirEmp = aDirEmp % -205;
     nCodEmp = aDirEmp;
     |PATH_DAT #41 aDatos;
     |ABRE #41;
     #41#0 = nCodEmp;
     |LEE 020#41=;
     |CIERRA #41;

     |ABRE #7;
     #7#26 = aSerie;
     |LEE 000#7=;
     |CIERRA #7;
     |ABRE #112;
     #112#0 = #27#8;
     |LEE 000#112=;
     |CIERRA #112;
     |ABRE #19;
     #19#0 = #27#5;
     |LEE 000#19=;
     |CIERRA #19;

     |ABRE #77;
     |ABRE #80;
     #77#50 = aSerie;
     enSwMenu = 1;
     |HAZ ContaAC7;
     |GRABA 020#77b;
     |SI FSalida = 0;
          #77#3 = #112#0;
          #77#4 = #112#1;
          #77#5 = #112#24;
          #77#7 = #112#25;
          #77#8 = #112#17;
          #77#29 = #41#1;
          #77#30 = #41#2;
          #77#31 = #41#3;
          #77#33 = #41#4;
          #77#36 = #112#58;
          #77#42 = "N";
          #77#52 = #112#78;
          #77#56 = #112#81;
          |ABRE #324;
          #324#0 = #77#56;
          |LEE 000#324=;
          #77#57 = #324#3;
          #77#58 = #112#82;
          #77#61 = #321#9;
          #324#0 = #77#61;
          |LEE 000#324=;
          #77#62 = #324#3;
          |CIERRA #324;

          aDivisa = #77#56;
          aMoneda = #77#58;
          |HAZ Divisas077;
          |HAZ LimCabAgifa077;
          |HAZ LinAlbaCom;
          |GRABA 020#77a;
          |HAZ pcmlinea;
     |FINSI;

     |CIERRA #80;
     |CIERRA #77;
|FPRC;

|PROCESO actpf;
     |SI #10#15 ] 0;
          importe = 1;
     |SINO;
          importe = -1;
          #10#15 = -#10#15;
     |FINSI;
     cant = #10#15 < #10#5;
     cant = cant < #10#32;
     cant = cant < #10#7;
     cant = cant * importe;
     #10#15 = #10#15 * importe;
     |ABRE #24;
     #24#0 = #10#3;
     |LEE 121#24=;
     |SI FSalida = 0;
        |SI #10#43 = AN;
           #24#50 = #24#50 + cant;    || es albaran
        |SINO;
           #24#50 = #24#50 - cant;    || es abono
        |FINSI;
        |GRABA 020#24a;
        |LIBERA #24;
     |FINSI;
     |CIERRA #24;

     |SI #10#43 = "N";
          enImpCliPen = cant;
     |SINO;
          enImpCliPen =  -cant;
     |FINSI;
     eaCliente = #10#3;
     efFecha = #10#1;
     |HAZ AcumulaCli;

     eaTag = "AV";  |HAZ Riesgos;
|FPRC;

|PROCESO LinAlb;
     #71#29 = #10#52;
     #71#0 = #10#0;
     #71#1 = 1;
     #71#5 = nUni;
     |HAZ TotalLin71;
     |HAZ CalCabAgifa010;
     enForma = 1;
     |HAZ AcumulaAV;
     #71#14 = enCoste;
     |GRABA 020#71n;
|FPRC;

|PROCESO AbonoCli;
     |ABRE #7;
     #7#26 = aSerie;
     |LEE 000#7=;
     |CIERRA #7;
     |ABRE #24;
     #24#0 = #27#2;
     |LEE 000#24=;
     |CIERRA #24;
     |ABRE #3;
     #3#0 = #24#0;
     #3#1 = 1;
     |LEE 000#3=;
     |CIERRA #3;
     |ABRE #19;
     #19#0 = #27#5;
     |LEE 000#19=;
     |CIERRA #19;
     |ABRE #25;
     #25#0 = #24#25;
     |LEE 000#25=;
     |CIERRA #25;

     |ABRE #10;
     |ABRE #71;
     #10#52 = aSerie;
     enSwMenu = 1;
     |HAZ ContaAV7;
     |GRABA 020#10b;
     |SI FSalida = 0;
          #10#3 = #24#0;
          #10#4 = #24#2;
          #10#5 = #24#37;
          #10#6 = #25#0;
          #10#7 = #24#38;
          #10#8 = #24#20;
          #10#29 = #3#10;
          #10#30 = #3#2;
          #10#31 = #3#3;
          #10#33 = #3#7;
          #10#62 = #3#6;
          #10#84 = #3#1;
          |SI #3#14 = "  ";
              #10#6 = #24#25;
          |SINO;
              #10#6 = #3#14;
          |FINSI;
          #10#34 = #25#7;
          #10#35 = #24#4;
          #10#36 = #24#47;
          #10#40 = #24#41;
          #10#43 = "N";
          #10#50 = #24#40;
          #10#51 = "S";
          #10#63 = #24#15;
          #10#68 = #24#192;

          #324#0 = #10#68;
          |LEE 000#324=;
          #10#69 = #324#2;
          #10#70 = #24#193;
          #10#73 = #321#9;

          #324#0 = #10#73;
          |LEE 000#324=;
          #10#74 = #324#2;
          #10#84 = #3#1;
          #10#91 = #24#206;

          aDivisa = #10#68;
          aMoneda = #10#70;
          |HAZ Divisas010;
          |HAZ LimCabAgifa010;

          |HAZ LinAlb;
          |GRABA 020#10a;
          |HAZ actpf;
     |FINSI;
     |CIERRA #71;
     |CIERRA #10;
|FPRC;

|PROCESO Regulariza;
     nLin = 0;
     |ABRE #43;
     |ABRE #44;
     #43#4 = aSerie; aSerie = #43#4;
     #43#0 = 999999;
     |LEE 000#43];
     |SI FSalida = 0;
          |LEE 000#43a;
     |SINO;
          |LEE 000#43u;
     |FINSI;
     |SI FSalida = 0; |Y #43#4 = aSerie;
          nNum = #43#0 + 1;
     |SINO;
          nNum = 1;
     |FINSI;
     |DDEFECTO #43;
     #43#0 = nNum;
     #43#2 = aTxt;
     #43#4 = aSerie;
     |GRABA 020#43b;

     nLin = nLin + 1;

     |DDEFECTO #44;
     #44#0 = #27#5;
     #44#1 = nAlma;
     #44#2 = #27#6;

     |ABRE #19;
     #19#0 = #44#0;
     |LEE 000#19=;
     |CIERRA #19;
     |ABRE #17;
     #17#0 = #44#0;
     #17#1 = #44#1;
     |LEE 000#17=;
     |CIERRA #17;

     #44#3 = #17#39;
     #44#4 = nUni;
     #44#5 = #43#1;
     #44#6 = #19#6;
     #44#7 = aTipo;
     #44#8 = nLin;
     #44#18 = #43#0;
     #44#19 = #17#5;
     #44#20 = #19#104;
     #44#21 = #43#4;
     #44#26 = nPreUlt;
     |GRABA 020#44n;
     eaMovimi = "ES_SS";
     eaSerie = #44#21;
     enCodigo = #44#18;
     enLinea = #44#8;
     enForma = 1;
     |SUB_EJECUTA_NP "dsz90001";
|FPRC;

|PROCESO GaraConclusion;
     |PUSHV 0501 2380;
     |PARA i = 0; |SI i [ 21; |HACIENDO i = i + 1;
          |C_M #27i, 1, "N";
     |SIGUE;
     |PINPA #0#27;
     |PINDA #0#27;
     |ENDATOS #1#27;
     |SI FSalida = 0;
          |GRABA 020#27a;
     |FINSI;
     nError = FSalida;
     |POPV;
|FPRC;

|PROCESO UltPrv;
     |ABRE #65;
     |DDEFECTO #65;
     #65#0 = #19#0;
     #65#1 = "31.12.9999";
     |LEE 000#65];
     |SI FSalida = 0;
          |LEE 000#65a;
     |SINO;
          |LEE 000#65u;
     |FINSI;
     |PARA; |SI FSalida = 0; |Y #65#0 = #19#0; |HACIENDO;
          |SI #65#2 = "AC"; |Y #65#10 ! "999999"; |Y #65#10 ! "      ";
               aPrv = #65#10;
               nPreUlt = #65#9;
               nDto = #65#12;
               |SAL;
          |FINSI;
          |LEE 000#65a;
     |SIGUE;
     |CIERRA #65;
|FPRC;

|PROCESO BorraSSLin;
     eaMovimi = "ES_SS";
     eaSerie = #44#21;
     enCodigo = #44#18;
     enLinea = #44#8;
     enForma = -1;
     |SUB_EJECUTA_NP "dsz90001";
     |BORRA 020#44a;
|FPRC;

|PROCESO BorraSS;
     |ABRE #140;
     |ABRE #141;
     |SELECT #3#141;
     #141#3 = #27#0;
     |LEE 121#141=;
     |SI FSalida = 0;
          #140#0 = #141#0;
          #140#1 = #141#1;
          |LEE 020#140=;
          |SI FSalida = 0;
               |ABRE #43;
               #43#4 = #140#5;
               #43#0 = #140#6;
               |LEE 121#43=;
               |SI FSalida = 0;
                    |BUCLELIN 0 BorraSSLin #43;
                    |BORRA 020#43a;
               |FINSI;
               |CIERRA #43;
          |FINSI;
     |FINSI;
     |CIERRA #141;
     |CIERRA #140;
|FPRC;

|PROCESO Modi65;
     |ABRE #65;
     #65#0 = #71#2;
     #65#1 = #10#1;
     |SI #10#43 = "N";
          #65#2 = "AV";
     |SINO;
          #65#2 = "BV";
     |FINSI;
     #65#3 = #71#0;
     #65#4 = #71#1;
     #65#11 = #71#29;
     |LEE 121#65=;
     |SI FSalida = 0;
          #65#6 = -#71#5;
          #65#9 = #71#6;
          #65#12 = #71#8;
          #65#13 = #71#33;
          #65#14 = (#71#6 < #71#8) < #71#33;
          |GRABA 020#65a;
     |FINSI;
     |CIERRA #65;
|FPRC;

|PROCESO Ejecuta;
     aRecal = "N";
     |DDEFECTO #19;
     |ABRE #19;
     #19#0 = #71#2;
     |LEE 000#19=;
     |CIERRA #19;

     aCli = #10#3;
     aPrv = #27#8; ||#19#27;
     nDto = #19#29;
     nPreUlt = #19#28;
     |SI aPrv = "999999"; |O #65#10 = "      ";
          |HAZ UltPrv;
     |FINSI;

     |SI #0#29 = "A";    || Abono
          |SI #0#31 = "A";    || Abono;
               |SI #10#38 = "S";
                    nUni = -#71#5;
                    aSerie = #144#7;
                    |HAZ AbonoCli;
                    aSerie = #144#8;
                    |HAZ AbonoPro;
               |SINO;
                    nUni = -#71#5;
                    aSerie = #144#8;
                    |HAZ AbonoPro;

                    #71#5 = 0;
                    #71#6 = nPreUlt;
                    |GRABA 020#71a;
                    |HAZ Modi65;
                    aRecal = "S";
               |FINSI;
          |SINO;              || Coste0
               aTipo = "E";
               aTxt = "Resolucion Garantia";
               aSerie = "GAR";
               nUni = #71#5;
               nAlma = #71#3;
               |HAZ Regulariza;
               |SI #10#38 = "S";
                    nUni = -#71#5;
                    aSerie = #144#7;
                    |HAZ AbonoCli;
                    aSerie = #144#8;
                    |HAZ AbonoPro;
               |SINO;
                    |HAZ BorraSS;
                    nUni = -#71#5;
                    aSerie = #144#8;
                    |HAZ AbonoPro;
                    #10#51 = "S";
                    |GRABA 020#10a;
                    #71#6 = 0;
                    |GRABA 020#71a;
                    |HAZ Modi65;
                    aRecal = "S";
               |FINSI;
          |FINSI;
     |SINO;              ||Rechazo
          |SI #0#31 = "R";    ||Rechazo
               aSerie = "GAR";
               aTipo = "E";
               aTxt = "Garantia Rechazada";
               nAlma = 99999;
               nUni = #71#5;
               |HAZ Regulariza;
               |SI #10#38 = "S";
                    nUni = #71#5;
                    aSerie = #144#7;
                    |HAZ AbonoCli;
               |SINO;
                    #10#51 = "S";  || se pone facturable
                    |GRABA 020#10a;
               |FINSI;
          |FINSI;
          |SI #0#31 = "P";    ||Pieza Correcta
               |HAZ GaraConclusion;
               |SI nError = 0;
                    |SI #10#38 = "S";
                         || nada
                    |SINO;
                         #10#51 = "S";  || se pone facturable
                         |GRABA 020#10a;
                    |FINSI;
               |FINSI;
          |FINSI;
          |SI #0#31 = "C";    ||Rechazo/Politica comercial
               |HAZ GaraConclusion;
               |SI nError = 0;
                    aSerie = "GAR";
                    aTipo = "E";
                    aTxt = "Garantia Rechazada";
                    nAlma = 99999;
                    nUni = #71#5;
                    aTipo = "E";
                    |HAZ Regulariza;
                    |SI #10#38 = "S";
                         nUni = #71#5;
                         aSerie = "GAR";
                         aTipo = "S";
                         aTxt = "Rechazo Politica Comercial";
                         nAlma = 99999;
                         |HAZ Regulariza;
                         nUni = -#71#5;
                         aSerie = #144#7;
                         |HAZ AbonoCli;
                    |SINO;
                         aTipo = "S";
                         aSerie = "GAR";
                         aTipo = "S";
                         aTxt = "Rechazo Politica Comercial";
                         nAlma = 99999;
                         |HAZ Regulariza;
                         #71#6 = 0;
                         |GRABA 020#71a;
                         |HAZ Modi65;
                         aRecal = "S";
                    |FINSI;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO PideSerie;
     aCli = "N";
     aPrv = "N";
     #144#0 = #27#0;
     #144#1 = #71#29;
     #144#2 = #71#0;
     #144#3 = #71#1;
     #144#4 = #10#38;

     |SI #0#29 = "A";    || Abono
          #144#5 = "ABONO";
          |SI #0#31 = "A";    || Abono;
               #144#6 = "ABONO";
               |SI #10#38 = "S";
                    aCli = "S";
                    aPrv = "S";
               |SINO;
                    aPrv = "S";
               |FINSI;
          |SINO;              || Coste0
               #144#6 = "COSTE 0";
               |SI #10#38 = "S";
                    aCli = "S";
                    aPrv = "S";
               |SINO;
                    aPrv = "S";
               |FINSI;
          |FINSI;
     |SINO;              ||Rechazo
          #144#5 = "RECHAZA";
          |SI #0#31 = "R";    ||Rechazo
               #144#6 = "RECHAZO";
          |FINSI;
          |SI #0#31 = "P";    ||Pieza Correcta
               #144#6 = "PIEZA CORRECTA";
          |FINSI;
          |SI #0#31 = "C";    ||Rechazo/Politica comercial
               #144#6 = "RECHAZO/POLITICA COMERCIAL";
               |SI #10#38 = "S";
                    aCli = "S";
               |FINSI;
          |FINSI;
     |FINSI;
     |PUSHV 0501 2380;
     |BLANCO 1121 2357;
     |PINPA #0#144;
     |PINDA #0#144;
     |SI aCli = "N"; |PINTA 1323, "쳐컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴"; |FINSI;
     |SI aPrv = "N"; |PINTA 1423, "쳐컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴"; |FINSI;
     |C_V #144#7, 1, aCli;
     |C_V #144#8, 1, aPrv;
     |ENDATOS #1#144;
     nError = FSalida;
     |POPV;
|FPRC;

|PROCESO Recal71;
     |HAZ TotalLin71;
     |HAZ CalCabAgifa010;
     |GRABA 020#71a;
|FPRC;

|PROCESO Tecla11; |TIPO 11;
     |SI FSalida = 13;
          |PUSHV 0501 2380;
          |ABRE #27;
          #27#0 = #0#0;
          |LEE 020#27=;
          |SI FSalida = 0;
               |PINPA #0#27;
               |PINDA #0#27;
               |PAUSA;
          |FINSI;
          |CIERRA #27;
          |POPV;
     |FINSI;
|FPRC;

|PROCESO Tecla0; |TIPO 0;
     |SI FSalida = 0; |Y #0Campo = Contenido;
          |SI #0#29 ! " ";
               |MENAV "0000Proceso realizado...";
               |AVISO; |ERROR; |ACABA;
          |FINSI;

          |SI #0#29 = "R";
               aMenu2 = "2";
          |SINO;
               aMenu2 = "1";
          |FINSI;
          |MENU aMenu;
          |SI FSalida = 3;
               #0#29 = "";
               #0#31 = "";
          |SINO;
               |SI FSalida < 1; |O FSalida > 3; |ERROR; |ACABA; |FINSI;
               |SI FSalida = 1;
                    #0#29 = "A"; |PINTA #0#29;
                    |SI #0#31 = "C";
                         aMena2 = "2";
                    |SINO;
                         aMena2 = "1";
                    |FINSI;
                    |MENU aMena;
                    |SI FSalida < 1; |O FSalida > 2; |ERROR; |ACABA; |FINSI;
                    |SI FSalida = 1; #0#31 = "A"; |SINO; #0#31 = "C"; |FINSI;
               |SINO;
                    #0#29 = "R"; |PINTA #0#29;
                    |SI #0#31 = "C";
                         aMenb2 = "3";
                    |SINO;
                         |SI #0#31 = "P";
                              aMenb2 = "2";
                         |SINO;
                              aMenb2 = "1";
                         |FINSI;
                    |FINSI;
                    |MENU aMenb;
                    |SI FSalida < 1; |O FSalida > 3; |ERROR; |ACABA; |FINSI;
                    |SI FSalida = 1; #0#31 = "R"; |FINSI;
                    |SI FSalida = 2; #0#31 = "P"; |FINSI;
                    |SI FSalida = 3; #0#31 = "C"; |FINSI;
               |FINSI;
          |FINSI;

          |ABRE #27;
          #27#0 = #0#0;
          |LEE 121#27=;
          |SI FSalida = 0;
               |ABRE #10;
               |ABRE #71;
               #71#29 = #27#22;
               #71#0 = #27#23;
               #71#1 = #27#24;
               |LEE 121#71=;
               |SI FSalida = 0;
                    #10#52 = #71#29;
                    #10#0 = #71#0;
                    |LEE 121#10=;
                    |SI FSalida = 0;
                         nError = 0;
                         |HAZ PideSerie;
                         |SI nError = 0;
                              |HAZ Ejecuta;
                         |FINSI;
                         |SI nError = 0;
                              #27#29 = #0#29;
                              #27#31 = #0#31;
                              |GRABA 020#27a;
                              |GRABA 020#0a;

                              |SI aRecal = "S";
                                   |HAZ LimCabAgifa010;
                                   |BUCLELIN 0 Recal71 #10;
                                   |GRABA 020#10a;
                              |FINSI;
                         |FINSI;
                    |FINSI;
               |FINSI;
               |CIERRA #10;
               |CIERRA #71;
          |FINSI;
          |CIERRA #27;

          |LEE 000#0=;
          |PINTA #0#29;
          |PINTA #0#31;
     |FINSI;
|FPRC;

|PROCESO Carga;
     |PARA i = 0; |SI i [ 30; |HACIENDO i = i + 1;
          #0i = #27i;
     |SIGUE;
     |GRABA 020#0n;
     nHay = 1;
|FPRC;

|DEFBUCLE Carga;
     #27#2;
     28, 29;
     aPrv, "E", " ";
     aPrv, "E", " ";
     ;
     NULL, Carga;
|FIN;

|PROCESO Min;
     #0#0 = 0;
|FPRC;

|PROCESO Max;
     #0#0 = 999999;
|FPRC;

|PROGRAMA;
     |ABRE #321; |LEE 000#321p; |CIERRA #321;
     |ABRE #142; |LEE 000#142p; |CIERRA #142;
     |CLS;
     |PINPA #0#0;
     |ENTLINEAL #1#0, 1, 7, 22, 0, Min, Max;
     |ENCAMPO #8#0;
     |SI FSalida = 0;
          |HAZ CreaTempo; |NOME_DAT #0 Tempo; |DELINDEX #0;

          aPrv = #0#8;
          |ABRE #0;
          |BUCLE Carga;
          |CIERRA #0;
          |SI nHay = 0;
               |MENAV "0000No hay garantias pendientes...";
          |SINO;
               |ENTLINEAL #1#0, 1, 4, 22, 0, Min, Max;
          |FINSI;

          |HAZ BoraTempo; |DELINDEX #0;
     |FINSI;
|FPRO;
