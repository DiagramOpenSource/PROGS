|FICHEROS;
     aparm017 #0;
     aparm018 #18,MANTE;
     aparm019 #19,MANTE;
     aparm020 #20,MANTE;
     aparm021 #21,MANTE;
     aparm035 #35;
|FIN;

|VARIABLES;
     {-1}aMenu = "";
     aMenu1 = "2400";
     aMenu2 = "1";
     aMenu3 = "Opciones:";
     aMenu4 = "OIMVK";
     aMenu5 = "Observaciones";
     aMenu6 = "Incidencias";
     aMenu7 = "Mantenimientos";
     aMenu8 = "Ventas";
     aMenu9 = "Kilometros";
     nPuntero = 0;
     aAlfa = "";
     nBuffer = 0;
     nLineas = 0;
     nModo = 0;
     nLin = 0;
     nCol = 0;
|FIN;

|PROCESO CogeLineas;
     nPuntero = 1;
     |PARA nPuntero = 1; |SI nPuntero [ 999; |HACIENDO nPuntero = nPuntero + 1;
          #18#0 = #0#0;
          #18#1 = nPuntero;
          |LEE 000#18=;
          |SI FSalida = 0;
               aAlfa = #18#2; |AL_BUF nBuffer, nPuntero, aAlfa;
               |BORRA 020#18a;
          |SINO;
               |SAL;
          |FINSI;
     |SIGUE;
|FPRC;

|PROCESO PoneLineas;
     |PARA nPuntero = 999; |SI nPuntero ] 0; |HACIENDO nPuntero = nPuntero - 1;
          |DEL_BUF nBuffer, nPuntero, aAlfa;
          |SI aAlfa ! ""; nLineas = nPuntero; |SAL; |FINSI;
     |SIGUE;
     |PARA nPuntero = 1; |SI nPuntero [ nLineas; |HACIENDO nPuntero = nPuntero + 1;
          |DEL_BUF nBuffer, nPuntero, aAlfa;
          #18#0 = #0#0;
          #18#1 = nPuntero;
          #18#2 = aAlfa;
          |GRABA 020#18n;
     |SIGUE;
|FPRC;

|PROCESO Observa;
     |ABRE #18;
     |PINPA #0#18;
     |DIMENSIONA 200, nBuffer, 0;
     |HAZ CogeLineas;
     nModo = 100; nLin = 10; nCol = 78;
     |EDITA nBuffer, 1, 10, 1002, 2279, nModo, "", 0, nLin, nCol;
     |HAZ PoneLineas;
     |FINDIM nBuffer;
     |CIERRA #18;
|FPRC;

|PROCESO Min19;
     #19#0 = #0#0;
     #19#1 = 00001;
|FPRC;

|PROCESO Max19;
     #19#0 = #0#0;
     #19#1 = 99999;
|FPRC;

|PROCESO Min20;
     #20#0 = #0#0;
     #20#1 = 00001;
|FPRC;

|PROCESO Max20;
     #20#0 = #0#0;
     #20#1 = 99999;
|FPRC;

|PROCESO Min21;
     #21#0 = #0#0;
     #21#1 = "     ";
     #21#2 = 000000;
|FPRC;

|PROCESO Max21;
     #21#0 = #0#0;
     #21#1 = "zzzzz";
     #21#2 = 999999;
|FPRC;

|PROCESO Min35;
     #35#0 = #0#0;
     #35#1 = "01.01.0000";
|FPRC;

|PROCESO Max35;
     #35#0 = #0#0;
     #35#1 = "31.12.9999";
|FPRC;

|PROCESO Tipo 20; |TIPO 20;
     |SI FSalida = "OPCION";
          FSalida = "Opciones";
     |SINO;
          |LEE 101#0=;
          |SI FSalida ! 0; |ACABA; |FINSI;

          |PARA; |SI; |HACIENDO;
               |MENU aMenu;
               |SI FSalida [ 0; |SAL; |FINSI;
               aMenu2 = FSalida;
               |PUSHV 0501 2380;
               |SI aMenu2 = 1; |HAZ Observa; |FINSI;
               |SI aMenu2 = 2;
                    |ENTLINEAL #1#19, 2, 1, 22, 1, Min19, Max19;
               |FINSI;
               |SI aMenu2 = 3;
                    |ENTLINEAL #1#20, 2, 1, 22, 1, Min20, Max20;
               |FINSI;
               |SI aMenu2 = 4;
                    |ENTLINEAL #1#21, 2, 4, 20, 1, Min21, Max21;
               |FINSI;
               |SI aMenu2 = 5;
                    |ENTLINEAL #1#35, 2, 4, 22, 1, Min35, Max35;
               |FINSI;
               |POPV;
               |GRABA 020#0a;
               |PINTA #0#6;
          |SIGUE;
          |LIBERA #0;
     |FINSI;
|FPRC;

|PROCESO Borra18;
     |BORRA 020#18a;
|FPRC;

|DEFBUCLE Borra18;
     #18#1;
     ;
     #0#0, 001;
     #0#0, 999;
     be;
     NULL,  Borra18;
|FIN;

|PROCESO Borra19;
     |BORRA 020#19a;
|FPRC;

|DEFBUCLE Borra19;
     #19#1;
     ;
     #0#0, 00001;
     #0#0, 99999;
     be;
     NULL,  Borra19;
|FIN;

|PROCESO Borra20;
     |BORRA 020#20a;
|FPRC;

|DEFBUCLE Borra20;
     #20#1;
     ;
     #0#0, 00001;
     #0#0, 99999;
     be;
     NULL,  Borra20;
|FIN;

|PROCESO Borra21;
     |BORRA 020#21a;
|FPRC;

|DEFBUCLE Borra21;
     #21#1;
     ;
     #0#0, "     ", 000001;
     #0#0, "zzzzz", 999999;
     be;
     NULL,  Borra21;
|FIN;

|PROCESO Tipo2; |TIPO 2;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3;
          |BUCLE Borra18;
          |BUCLE Borra19;
          |BUCLE Borra20;
          |BUCLE Borra21;
     |FINSI;
|FPRC;

|PROCESO FecMto20; |TIPO 2;
     nModo = (FEntrada / 100) ! 0;
     nLin = #20#1;
     |SALVA_FICHA #20;
     #20#1 = 99999;
     |LEE 000#20];
     |SI FSalida = 0;
          |LEE 000#20a;
     |SINO;
          |LEE 000#20u;
     |FINSI;
     |SI nModo = 3; |Y nLin = #20#1; |LEE 000#20a; |FINSI;
     |SI FSalida ! 0; |O #0#0 ! #20#0;
          |DDEFECTO #20;
     |FINSI;
     |SI nModo = 1; |Y nLin ] #20#1;
          |REPON_FICHA #20;
          #0#6 = #20#2;
     |SINO;
          #0#6 = #20#2;
          |REPON_FICHA #20;
     |FINSI;
|FPRC;
