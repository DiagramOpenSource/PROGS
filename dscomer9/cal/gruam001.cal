|FICHEROS;
     gruam001 #0;
|FIN;

|VARIABLES;
     nModo = 0;
     nConta = 0;
|FIN;

|PROCESO Conta; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1;
          |LEE 000#0u;
          |SI FSalida = 0;
               nConta = #0#0 + 1;
          |SINO;
               nConta = 1;
          |FINSI;
          |DDEFECTO #0;
          #0#0 = nConta;
     |FINSI;
|FPRC;

|PROCESO Periodo; |TIPO 0;
     |SI #0#5 = "B"; |O #0#5 = "T";
          |C_M #0#6, 1, "S";
     |SINO;
          |C_M #0#6, 1, "N";
          #0#6 = 0; |PINTA #0#6;
     |FINSI;
|FPRC;

|PROCESO Tipo4; |TIPO 4;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "gruam001";
          |SI FSalida = 0;
               |PRINT;
               |PIEINF;
               |FININF;
          |SINO;
               |MENAV "0000Error en informe 'gruam001'";
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;

|PROCESO Tipo3; |TIPO 3;
     |CONFI "0000NImprimir contrato";
     |SI FSalida = 0;
          |HAZ Tipo4;
     |FINSI;
|FPRC;
