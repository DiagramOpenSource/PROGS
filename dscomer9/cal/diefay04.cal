|FICHEROS;
     diefay04 #0;
     diefaw12 #12;
     agifa067 #67;
     agifa081 #81;
     agifa112 #112;
     agifa019 #19;
|FIN;

|VARIABLES;
     aInforme  = "diefay04";
     nHay = 0;
     nPen = 0;
     aAlfa = "";
     aPrv = "";
|FIN;

|PROCESO diefaw12;
     |DDEFECTO #19;
     #19#0 = #12#1;
     |LEE 000#19=;

     |DDEFECTO #112;
     #112#0 = #12#0;
     |LEE 000#112=;

     |SI nHay ! 0; |Y aPrv ! #12#0;
          |PIEINF;
     |FINSI;
     aPrv = #12#0;

     nHay = 1;
     |PRINT;
|FPRC;

|DEFBUCLE diefaw12;
     #12#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, diefaw12;
|FIN;

|PROCESO agifa067;
     |SI #67#13 < #0#0; |O #67#13 > #0#2;
          |ACABA;
     |FINSI;

     nPen = #67#37 + #67#12 - #67#38;
     |SI nPen [ 0;
          |ACABA;
     |FINSI;

     |DDEFECTO #12;
     #12#0 = #81#4;
     #12#1 = #67#2;
     #12#2 = #67#13;
     #12#6 = #67#0;
     |LEE 101#12=;
     |SI FSalida ! 0; |GRABA 020#12b; |FINSI;
     #12#3 = #12#3 + #67#37 + #67#12;
     #12#4 = #12#4 + #67#38;
     #12#5 = #12#3 - #12#4;

     |GRABA 020#12a;
     |LIBERA #12;
|FPRC;

|DEFBUCLE agifa081;
     #81#2;
     ;
     #0#1;
     #0#1;
     ;
     NULL, NULL, agifa067;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR aInforme;
          |SI FSalida = 0;
               aAlfa = Usuario;
               |QBF aAlfa;
               |NOME_DAT #12 aAlfa;
               |DELINDEX #12;
               |ABRE #12;
               |BUCLE agifa081;
               |CIERRA #12;

               |ABRE #19;
               |ABRE #112;
               |BUCLE diefaw12;
               |CIERRA #112;
               |CIERRA #19;

               |SI nHay ! 0; |PIEINF; |FINSI;
               |FINIMP;
               |DELINDEX #12;
          |SINO;
               aInforme = "0000No existe informe " + aInforme;
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;
