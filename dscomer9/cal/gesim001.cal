|FICHEROS;
     gesim001 #0;
|FIN;

|VARIABLES;
     aRuta = "";
     aClave = "";
     nPanta = 0;
     aHora = "";
     aMinu = "";
     nHora = 0;
     nMinu = 0;
     aAlfa = "";
|FIN;

|PROCESO FormaHora; |TIPO 0;
     aAlfa = #0Campo;
     aHora = aAlfa % 102; nHora = aHora; nHora = nHora $ 24;
     aMinu = aAlfa % 402; nMinu = aMinu; nMinu = nMinu $ 60;
     aAlfa = (("00" + nHora)%-102) + ":" + (("00" + nMinu)%-102);
     #0Campo = aAlfa;
     |PINTA #0Campo;
|FPRC;

|PROCESO Clave7; |TIPO 7;
     #0#17 = aClave;
|FPRC;

|PROCESO Clave0; |TIPO 0;
     aClave = #0#17;
     #0#17 = "*" * 30; |PINTA #0#17;
|FPRC;

|PROCESO Browse;
     |QBF aRuta;
     |SI aRuta = "";
          aRuta = "D*.*";
     |SINO;
          aRuta = "D" + aRuta;
     |FINSI;

     |BROWSE aRuta;

     aRuta = aRuta % 2; |QBF aRuta;
     |SI aRuta = "D"; aRuta = ""; |FINSI;
     |QBF aRuta;
|FPRC;

|PROCESO BtnPath1;
     aRuta = #0#21;
     |HAZ Browse;
     |SI aRuta ! "";
          #0#21 = aRuta; |PINTA #0#21;
     |FINSI;
|FPRC;

|PROCESO BtnPath2;
     aRuta = #0#19;
     |HAZ Browse;
     |SI aRuta ! "";
          #0#19 = aRuta; |PINTA #0#19;
     |FINSI;
|FPRC;

|PROCESO Path; |TIPO 0;
     |SI FSalida ! 13; |ACABA; |FINSI;

     aRuta = #0Campo;
     |HAZ Browse;
     |SI aRuta = "";
          |ERROR;
     |SINO;
          #0Campo = aRuta; |PINTA #0Campo;
     |FINSI;
|FPRC;

|PROGRAMA;
     |ABRE #0;
     |LEE 101#0p;
     |SI FSalida ! 0; |GRABA 020#0b; |FINSI;
     aClave = #0#17;
     #0#17 = "*" * 30;
     |CLS;
     |PINPA #0#0; nPanta = FSalida;
     ||CONTROL_SIMPLE nPanta, "BOTON,...", 1637, 1639, BtnPath1;
     ||CONTROL_SIMPLE nPanta, "BOTON,...", 2417, 2419, BtnPath2;
     |PINDA #0#0;
     |ENDATOS #1#0;
     #0#17 = aClave;
     |SI FSalida = 0; |GRABA 020#0a; |FINSI;
     |CIERRA #0;
|FPRO;
