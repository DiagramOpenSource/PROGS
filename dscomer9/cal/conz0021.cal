|FICHEROS;
     conz0021 #0;
     con00625 #625;
     con00626 #626;
     con00637 #637;
     con00642 #642;
     con00696 #696;
     con00691 #691;
|FIN;

|VARIABLES;
     nLinFac = 0;
|FIN;

|PROCESO BusLinFac;
     |SI #642#3 = #626#0; |Y #642#4 = #626#1;
          nLinFac = #642#2;
          |ERROR10;
     |FINSI;
|FPRC;

|DEFBUCLE BusLinFac;
     #642#1;
     10;
     #0#0, #0#1, 01, "O";
     #0#0, #0#1, 99, "O";
     ;
     NULL, BusLinFac;
|FIN;

|PROCESO con00626;
     #625#0 = #626#0;
     #625#1 = #626#1;
     |LEE 020#625=;

     nLinFac = 0;
     |BUCLE BusLinFac;
     #696#0 = #0#0;
     #696#1 = #0#1;
     #696#2 = nLinFac;
     #696#3 = #626#0;
     #696#4 = #626#1;
     #696#5 = #626#11;
     #696#6 = #637#2;
     #696#7 = #625#2;
     |GRABA 020#696n;
|FPRC;

|DEFBUCLE con00626;
     #626#6;
     ;
     #0#0, #0#1, "     ", "      ", 0001;
     #0#0, #0#1, "zzzzz", "zzzzzz", 9999;
     ;
     NULL, con00626;
|FIN;

|PROCESO con00696a;
     |BORRA 020#696a;
|FPRC;

|DEFBUCLE con00696a;
     #696#1;
     ;
     #0#0, #0#1, 01, 0001;
     #0#0, #0#1, 99, 9999;
     be;
     NULL, con00696a;
|FIN;

|PROCESO T3; |TIPO 3;
     |ABRE #691; |LEE 000#691p; |CIERRA #691;

     |ABRE #637;
     #637#0 = #0#0;
     #637#1 = #0#1;
     |LEE 121#637=;
     |SI FSalida = 0;
          |BUCLE con00696a;

          |ABRE #696;
          |ABRE #625;
          |BUCLE con00626;
          |CIERRA #625;
          |CIERRA #696;

          |SI #0#2 = "S";
               |HAZ RecalFactura;
          |FINSI;
          |GRABA 020#637a;
     |FINSI;
     |CIERRA #637;
|FPRC;
