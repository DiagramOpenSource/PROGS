|FICHEROS;
     mecaw001 #0;
     mecam001 #1;
     mecam003 #3;
     agifa048 #480;
|FIN;

|VARIABLES;
     &eaArticulo = "";
     &eaFicMeca = "";
     aAlfa = "";
     nError = 0;
|FIN;

|PROCESO NoVacio; |TIPO 6;
     aAlfa = #0#2; |QBF aAlfa;
     |SI aAlfa = ""; |AVISO; |ERROR; |FINSI;
|FPRC;

|PROCESO Max;
     #0#0 = "z" * 20;
     #0#1 = 999;
|FPRC;

|PROCESO Min;
     #0#0 = " " * 20;
     #0#1 = 1;
|FPRC;

|PROCESO mecam003;
     #0#0 = #3#0;
     #0#1 = #3#1;
     #0#2 = #3#2;
     #0#3 = #3#3;
     #0#4 = #3#4;
     #0#5 = #3#5;
     |GRABA 020#0n;
|FPRC;

|DEFBUCLE mecam003;
     #3#1;
     ;
     eaArticulo, 001;
     eaArticulo, 999;
     ;
     NULL, mecam003;
|FIN;

|PROCESO Chequea;
     |DDEFECTO #1;
     #1#0 = #0#2;
     |LEE 000#1=;
     |SI #1#3 = "S"; |Y #1#0 = 0;
          aAlfa = "0000Articulo de fabricacion sin unidades paquete " + #0#2;
          |MENAV aAlfa;
          nError = 1;
     |FINSI;
     |SI #1#3 = "S";
          #480#0 = #0#2;
          |LEE 000#480=;
          |SI FSalida ! 0;
               aAlfa = "0000Articulo de fabricacion sin escandallo " + #0#2;
               |MENAV aAlfa;
               nError = 1;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE Chequea;
     #0#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, Chequea;
|FIN;

|PROGRAMA;
     |NOME_DAT #0 eaFicMeca;
     |DELINDEX #0;

     |ABRE #0;
     |BUCLE mecam003;
     |CIERRA #0;

     |MENSA "0000.";

     |PARA nError = 1; |SI nError ! 0; |HACIENDO;
          |ENTLINEAL #1#0, 2, 2, 22, 1, Min, Max;

          nError = 0;
          |ABRE #1;
          |ABRE #480;
          |BUCLE Chequea;
          |CIERRA #480;
          |CIERRA #1;
     |SIGUE;
|FPRO;
