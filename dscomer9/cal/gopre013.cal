|FICHEROS;
     gopre013 #0;
     gopre001 #1;
     gopre002 #2;
     gopre003 #3;
     gopre004 #4;
     goparame #9;
|FIN;

|VARIABLES;
     &cCodMonTrab = "";
     &nDeci_TTrab = 0;
     nTota     = 0;
     nLin      = 0;
|FIN;

|PROCESO gopre004;
     nTota = (nTota + #4#11) ! nDeci_TTrab;
     nLin = #4#4;
|FPRC;

|DEFBUCLE gopre004;
     #4#1;
     ;
     #3#0, #3#1, #3#2, #3#4, 001;
     #3#0, #3#1, #3#2, #3#4, 999;
     ;
     NULL, gopre004;
|FIN;

|PROCESO gopre003;
     nTota = 0;
     |BUCLE gopre004;
     |SI nTota ! #3#8;
          |ABRE #4;
          |DDEFECTO #4;
          #4#0 = #3#0;
          #4#1 = #3#1;
          #4#2 = #3#2;
          #4#3 = #3#4;
          #4#4 = nLin + 1;
          #4#5 = "%";
          #4#6 = "";
          #4#7 = ""
          #4#8 = 1;
          #4#9 = #3#8 - nTota;
          #4#11 = #4#9;
          |GRABA 020#4n;
          |CIERRA #4;
     |FINSI;
|FPRC;

|DEFBUCLE gopre003;
     #3#1;
     ;
     #1#0, #1#1, #2#12,      1;
     #1#0, #1#1, #2#12, 999999;
     ;
     NULL, gopre003;
|FIN;

|PROCESO gopre002;
     |BUCLE gopre003;
|FPRC;

|PROCESO gopre001;
     cCodMonTrab = #1#7;
     |HAZ MonBas;
|FPRC;

|DEFBUCLE gopre001;
     #1#1;
     ;
     #0#0, #0#2;
     #0#1, #0#3;
     ;
     NULL, gopre001, gopre002;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |BUCLE gopre001;
|FPRC;

|PROCESO Tipo13; |TIPO 13;
     |ABRE #9; |LEE 000#9p; |CIERRA #9;
     |SI #9#141 = "O";
          |ATRI R; |PINTA 1122, " DESDE O.E.        "; |ATRI 0;
          |ATRI R; |PINTA 1322, " HASTA O.E.        "; |ATRI 0;
     |FINSI;
|FPRC;
