|FICHEROS;
   conw0003 #0;
   con00665 #10;

   Referen@ #1000;
|FIN;

|VARIABLES;
   aAlfa = "";
|FIN;

|PROCESO Tipo12w003; |TIPO 12;
|FPRC;

|PROCESO Tipo66w003; |TIPO 66;
   |DDEF aAlfa; |QBF aAlfa;
   aAlfa = aAlfa + "con00665.mas";
   |CARGA_DEF aAlfa, Referen@;
   |SI FSalida = 0;
      |ABRE #Referen@;
      #Referen@#120 = #conw0003#0;
      |LEE 000#Referen@.];

      |CONSULTA_CLAVE #1#Referen@;
      |SI FSalida = 0;
         #conw0003#0 = #Referen@#120; |PINTA #conw0003#0;
         #conw0003#1 = #Referen@#156; |PINTA #conw0003#1;
      |FINSI;
      |ERROR;

      |CIERRA #Referen@; |DESCARGA_DEF #Referen@;
   |FINSI;
|FPRC;

|PROCESO Tipo00w003;
   |SI #conw0003#0 = #con00665#120;
      |MENAV "    No se puede hacer el mismo enlace simultaneamente";
      |ERROR; |ACABA;
   |FINSI;

   |DDEF aAlfa; |QBF aAlfa;
   aAlfa = aAlfa + "con00665.mas";
   |CARGA_DEF aAlfa, Referen@;
   |SI FSalida = 0;
      |ABRE #Referen@;
      #Referen@#120 = #conw0003#0;
      |LEE 000#Referen@.=;
      |SI FSalida = 0;
         #conw0003#1 = #Referen@#156; |PINTA #conw0003#1;
      |SINO;
         |MENAV "    Codigo de enlace inexistente"; |ERROR;
      |FINSI;

      |CIERRA #Referen@; |DESCARGA_DEF #Referen@;
   |FINSI;
|FPRC;
