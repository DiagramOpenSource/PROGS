|FICHEROS;
     tecam023 #0;
     agifa024 #24;
     agifa321;
     agifa324;
|FIN;

|VARIABLES;
     &nDeci_PreVis = 0;
     precio_divisa = 0;
     precio_base = 0;;
|FIN;

|INCLUYE i_varart;

|PROCESO Arti023; |TIPO 6;
     enAlta = 1;
     eaArticulo = #0Campo;
     |HAZ LlenaArticulo;
     |SI FSalida = 0;
          #0Campo = eaArticulo;
          |PINTA #0Campo;
     |SINO;
          |ERROR; |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tec023_13; |TIPO 13;
     |ABRE #24;
     #24#0 = #0#0;
     |LEE 000#24=;
     |CIERRA #24;

     |ABRE #agifa321;
     |ABRE #agifa324;
     |LEE 010#agifa321.p;         ||Leo parametros de divisa

     #agifa324#0 = #agifa321#9;
     |LEE 010#agifa324.=;         ||Leo la ficha de la moneda base en Divisas
     precio_base = #agifa324#9;

     #agifa324#0 = #24#192;
     |LEE 001#agifa324.=;
     |CIERRA #agifa324;
     precio_divisa = #agifa324#9;

     |SI #24#193 = "B";
          nDeci_PreVis   = precio_divisa;
     |SINO;
          nDeci_PreVis   = precio_base;
     |FINSI;

     |CIERRA #agifa324;
     |CIERRA #agifa321;

|FPRC;
