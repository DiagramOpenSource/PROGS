|FICHEROS;
     camcoz01 #0;
     camcor01 #1;
     camcor02 #2;
     camcor03 #3;
     camcor04 #4;
     camcor05 #5;
     camcor06 #6;
     camcor07 #7;
     camcor08 #8;
     camcor09 #9;
     camcor10 #10;
     camcor11 #11;
     camcor12 #12;
     camcor13 #13;
     camcor14 #14;
     camcor15 #15;
     camcor16 #16;
     camcor17 #17;
     camcor18 #18;
     camcor19 #19;
     camcor20 #20;
     camcor22 #22,MANTE;
     camcor23 #23;
     camcor24 #24;
     camcor25 #25;
     camcor26 #26;
     camcor27 #27;
     camcor28 #28;
     camcor29 #29;
     camcor30 #30,MANTE;
     camcor31 #31;
     camcow01 #100; ||Tmp Genera Tiquet
     agifa112 #112;
     agifa024 #124;
     agifa515 #515;
     &referec@;      ||Grid Camisas
     &referet@;      ||Grid Trajes
     referen@;
|FIN;

|VARIABLES;
     &enSwCliPrv = 0;    || Para informe 0=Cliente 1=Proveedor
     &enCtrFin = 0;
     &Tempo = "";
     aPath = "";
     nPanta = 0;
     nPanta1 = 0;
     nPanta2 = 0;
     nPanta3 = 0;
     nPanta4 = 0;
     nPanta5 = 0;
     nPanta6 = 0;
     nRango = 0;
     nLblTota = 0;
     nBtnActua = 0;
     nBtnAbierto = 0;
     nBtnCerrado = 0;
     nBtnTodos = 0;
     nBtnGenTicket = 0;
     nBtnSalir = 0;
     nBtnVerC = 0;
     nBtnNuevoC = 0;
     nBtnModiC = 0;
     nBtnBorraC = 0;
     nBtnCierraC = 0;
     nBtnAnuRecibeC = 0;
     nBtnRecibeC = 0;
     nBtnImpreC = 0;
     nBtnGenC = 0;
     nBtnDupliC1 = 0;
     nBtnEnvioC = 0;
     nBtnEnvioCliC = 0;
     nBtnDupliC = 0;
     nBtnSeleC = 0;
     nBtnVerT = 0;
     nBtnNuevoT = 0;
     nBtnModiT = 0;
     nBtnBorraT = 0;
     nBtnCierraT = 0;
     nBtnRecibeT = 0;
     nBtnAnuRecibeT = 0;
     nBtnImpreT = 0;
     nBtnDupliT1 = 0;
     nBtnGenT = 0;
     nBtnEnvioProT = 0;
     nBtnEnvioCliT = 0;
     nBtnDupliT = 0;
     nBtnSeleT = 0;
     nGridC = -1;
     nGridT = -1;
     nGridSele = 0;
     aAlfa = "";
     mSwBtn = 0;
     aDSitu = "";
     aHSitu = "";
     aDCli = "";
     aHCli = "";
     nSwBtn = 0;
     nClave = 0;
     {-1}aGet = 0;
         aGet1 = 0;
         aGet2 = 0;
     {1}aLocal = "";
     nModo = 0;
     nNume = 0;
     nSwSeleC = 0;
     nSwSeleT = 0;
     nTieneLineasC = 0;
     nTieneLineasT = 0;
     i = 0;
     aConte = "";
     nId = 0;
     aInf = "";
     aIP = "";
     aPDF = "";
     aNomFic = "";
     aFic = "";
     nError = 0;
     aIpCorreo = "";
     aMail = "";
     aServidor = "";
     aFrom = "";
     aTo = "";
     aSubject = "";
     aMensaje = "";
     aDjunto = "";
     aTmp = "";
     aMarca = "";
     {254}aCamMod = "";
     nCampos = 0;
     nTota = 0;
     nPdte = 0;
     nActa = 0;
|FIN;

|PROCESO PreciosT;
     |SI #30#6 = "T";
          |ABRE #24;
          #24#0 = #30#20;
          |LEE 000#24=;
          |SI FSalida ! 0; |DDEFECTO #24; |FINSI;
          |CIERRA #24;
          #30#22 = #24#3;
          #30#23 = #24#2;
     |FINSI;
|FPRC;

|PROCESO PreciosC;
     |ABRE #7;
     #7#0 = #22#47;
     |LEE 000#7=;
     |SI FSalida ! 0; |DDEFECTO #7; |FINSI;
     |CIERRA #7;

     |ABRE #9;
     #9#0 = #22#51;
     |LEE 000#9=;
     |SI FSalida ! 0; |DDEFECTO #9; |FINSI;
     |CIERRA #9;

     |ABRE #11;
     #11#0 = #22#54;
     |LEE 000#11=;
     |SI FSalida ! 0; |DDEFECTO #11; |FINSI;
     |CIERRA #11;

     |ABRE #12;
     #12#0 = #22#56;
     |LEE 000#12=;
     |SI FSalida ! 0; |DDEFECTO #12; |FINSI;
     |CIERRA #12;

     |ABRE #13;
     #13#0 = #22#58;
     |LEE 000#13=;
     |SI FSalida ! 0; |DDEFECTO #13; |FINSI;
     |CIERRA #13;

     |ABRE #14;
     #14#0 = #22#60;
     |LEE 000#14=;
     |SI FSalida ! 0; |DDEFECTO #14; |FINSI;
     |CIERRA #14;

     |ABRE #515;
     #515#0 = #22#83;
     |LEE 000#515=;
     |SI FSalida ! 0; |DDEFECTO #515; |FINSI;
     |CIERRA #515;

     #22#48 = #7#2;
     #22#52 = #9#2;
     #22#55 = #11#2;
     #22#57 = #12#2;
     #22#59 = #13#2;
     #22#61 = #14#2;

     aAlfa = #22#62; |QBF aAlfa;
     |SI aAlfa = "";
          #22#63 = 0;
     |SINO;
          #22#63 = #17#1;
     |FINSI;

     |SI #22#70 = "S";
          #22#71 = #17#2;
     |SINO;
          #22#71 = 0;
     |FINSI;

     |SI #22#72 = "S";
          #22#73 = #17#3;
     |SINO;
          #22#73 = 0;
     |FINSI;

     |SI #22#74 = "S";
          #22#75 = #17#4;
     |SINO;
          #22#75 = 0;
     |FINSI;

     |SI #22#76 = "S";
          #22#77 = #17#4;
     |SINO;
          #22#77 = 0;
     |FINSI;

     |HAZ TotalC;
|FPRC;

|PROCESO TicketPdteT;
     #100#0 = "";
     #100#1 = "T";
     #100#2 = #30#0;
     #100#3 = #30#1;
     #100#4 = #30#2;
     #100#5 = #30#3;
     #100#6 = #30#33;
     #100#7 = #30#11;
     #100#8 = #30#12;
     #100#9 = #30#32;
     #100#10 = #30#30;
     #100#11 = #30#29;
     |GRABA 020#100n;
|FPRC;

|DEFBUCLE TicketPdteT;
     #30#2;
     35;
     aDCli, 000001, 0;
     aHCli, 999999, 0;
     ;
     NULL, TicketPdteT;
|FIN;

|PROCESO TicketPdteC;
     #100#0 = "";
     #100#1 = "C";
     #100#2 = #22#0;
     #100#3 = #22#1;
     #100#4 = #22#2;
     #100#5 = #22#3;
     #100#6 = #22#84;
     #100#7 = #22#88;
     #100#8 = #22#89;
     #100#9 = #22#83;
     #100#10 = #22#81;
     #100#11 = #22#80;
     |GRABA 020#100n;
|FPRC;

|DEFBUCLE TicketPdteC;
     #22#2;
     87;
     aDCli, 000001, 0;
     aHCli, 999999, 0;
     ;
     NULL, TicketPdteC;
|FIN;

|PROCESO EvtGenTiquet;
     |SI FSalida = 1; |O FSalida = 2;
          |LEE 000#100=;
     |FINSI;
     |SI FSalida = 4;
          |SI #100#0 = " ";
               #100#0 = "*";
               nTota = (nTota + #100#11) ! 2;
               nPdte = (nPdte + #100#6) ! 2;
               nActa = (nActa + #100#10) ! 2;
          |SINO;
               #100#0 = " ";
               nTota = (nTota - #100#11) ! 2;
               nPdte = (nPdte - #100#6) ! 2;
               nActa = (nActa - #100#10) ! 2;
          |FINSI;
          |GRABA 020#100a;
          |PINTA #100#0;

          |FIN_CONTROL_WINDOWS nLblTota;
          aAlfa = "LABEL,{{001}}Total: " + nTota + "    Entrega: " + nActa + "    Pendiente: " + nPdte;
          |CONTROL_SIMPLE 0, aAlfa, 2725, 2799, NULL;
          nLblTota = FSalida;
     |FINSI;
|FPRC;

|PROCESO BtnMarca;
     nTota = 0; nPdte = 0; nActa = 0;
     |SALVA_DATOS #100;
     |SI #100#0 = " "; aMarca = "*"; |SINO; aMarca = ""; |FINSI;
     |LEE 000#100p;
     |PARA; |SI FSalida = 0; |HACIENDO;
          #100#0 = aMarca;
          |SI #100#0 = "*";
               nTota = nTota + #100#11;
               nPdte = nPdte + #100#6;
               nActa = nActa + #100#10;
          |FINSI;
          |GRABA 020#100a;
          |LEE 000#100s;
     |SIGUE;
     |REPON_DATOS #100;
     |LEE 000#100=;

     |FIN_CONTROL_WINDOWS nLblTota;
     aAlfa = "LABEL,{{001}}Total: " + nTota + "    Entrega: " + nActa + "    Pendiente: " + nPdte;
     |CONTROL_SIMPLE 0, aAlfa, 2725, 2799, NULL;
     nLblTota = FSalida;
     |REFRESCACONTROL nGridSele;
|FPRC;

|PROCESO BtnVerMarca;
     |SI #100#1 = "C";
          #referec@#0# = #100#2;
          nModo = 4; |HAZ EditaC;
     |SINO;
          #referet@#0# = #100#2;
          nModo = 4; |HAZ EditaT;
     |FINSI;
|FPRC;

|PROCESO BtnGenerar;
     |SELECT #2#100;
     #100#0 = "*";
     #100#1 = "";
     #100#2 = "";
     |LEE 000#100];
     |SI FSalida = 0; |Y #100#0 = "*";
          |CONFI "0000N¨Generar tiquet con lo seleccionado?";
          |SI FSalida = 0;
               |HAZ GenMasivo;
               |HAZ RefresGridC;
               |HAZ RefresGridT;
               |PTEC 807;
          |FINSI;
     |SINO;
          |MENAV "0000Debe de marcar al menos un pedido...";
     |FINSI;
|FPRC;

|PROCESO BtnGenTicket;
     |HAZ CreaTempo; aTmp = Tempo;
     |NOME_DAT #100 aTmp;
     |DELINDEX #100;
     |ABRE #100;
     |BUCLE TicketPdteC;
     |BUCLE TicketPdteT;
     |LEE 000#100p;
     |SI FSalida = 0;
          |SI #0#0 = "000000";
               aAlfa = "Pedidos pendientes de tiquet";
          |SINO;
               aAlfa = "Pedidos pendientes de tiquet cliente:" + #0#0;
          |FINSI;
          |VENTANA 0901, 3099, -1, 17, aAlfa;
          |HAZ PushVenModal;

          nTota = 0; nPdte = 0; nActa = 0;
          |CONTROL_SIMPLE 0, "LABEL,{{003}}Doble click marca/desmarca", 1002, 1050, NULL;
          |CONTROL_SIMPLE 0, "BOTON,{{155}}Ver pedido", 1064, 1076, BtnVerMarca;
          |CONTROL_SIMPLE 0, "BOTON,{{165}}Marcar/Desmarca todo", 1078, 1098, BtnMarca;
          aAlfa = "LABEL,{{001}}Total: " + nTota + "    Entrega: " + nActa + "    Pendiente: " + nPdte;
          |CONTROL_SIMPLE 0, aAlfa, 2725, 2799, NULL;
          nLblTota = FSalida;
          |CONTROL_SIMPLE 0, "BOTON,{{137}}Generar tiquet", 2702, 2715, BtnGenerar;
          nRango = 4 + 8 + 16 + 32;
          |LINEAL_SIMPLE #1#100, nRango, 1102, 2698, NULL, NULL, EvtGenTiquet;
          nGridSele = FSalida;
          enCtrFin = nGridSele; |HAZ EsperaFin;

          |HAZ PopVenModal;
     |SINO;
          |SI #0#0 = "000000";
               aAlfa = "0000No hay pedidos pendientes...";
          |SINO;
               aAlfa = "0000No hay pedidos pendientes cliente:" + #0#0 + " ...";
          |FINSI;
          |MENAV aAlfa;
     |FINSI;
     |CIERRA #100;
     |DELINDEX #100;
     Tempo = aTmp; |HAZ BoraTempo;
|FPRC;

|PROCESO EnviaCorreo;
     aTo = aMail;
     aDjunto = aFic;
  ||  aSubject
     aMensaje = aSubject;
     |SI enSwCliPrv = 0;
          aSubject = aSubject + " " + #17#15; |QBF aSubject;
          aMensaje = aMensaje + " " + &13 + #17#16; |QBF aMensaje;
          aMensaje = aMensaje + " " + #17#17; |QBF aMensaje;
     |FINSI;

     aIpCorreo = "";
     |SI #17#10 = "L";
          |IP_REMOTO aIpCorreo;
     |SINO;
          |SI #17#10 = "S";
               |IP_LOCAL aIpCorreo;
          |SINO;
               aIpCorreo = #17#11; |QBF aIpCorreo;
          |FINSI;
     |FINSI;
     aServidor = #17#12; |QBF aServidor;
     aFrom = #17#13; |QBF aFrom;
     |SI aFrom = ""; aFrom = aTo; |FINSI;

     |DSCORREO_ENVIA aIpCorreo, aServidor, aFrom, aTo, aSubject, aMensaje, aDjunto;
     |SI FSalida ! 0;
          |MENAV "0000Error al enviar correo....";
     |FINSI;
     nError = FSalida;
|FPRC;

|PROCESO ImprePDF;
     aIP = "";
     |IP_REMOTO aIP;
     |SI aIP = "";
          |DFICE aPDF; aPDF = aPDF + aNomFic;
          |FBORRA aPDF;
     |SINO;
          |ESPECIFICA "RBASS", aLocal;
          aPDF = aLocal;
          aPDF = aPDF + aNomFic;
          |RFBORRA aPDF;
     |FINSI;

     Impresora = "CrystalReport;" + aPDF;
     |IMPRE -1;
     |SI FSalida = 0;
          |INFOR aInf;
          |SI FSalida = 0;
               |PRINT;
               |PIEINF;
               |FININF;
               |SI aIP ! "";
                    |DFICE aFic; aFic = aFic + aNomFic;
                    |RECIBE_FICHERO aPDF, aFic;
                    |SI FSalida ! 0;
                         |MENAV "0000Error al copiar fichero al servidor...";
                    |SINO;
                         |HAZ EnviaCorreo;
                    |FINSI;
                    |RFBORRA aPDF;
               |SINO;
                    aFic = aPDF;
                    |HAZ EnviaCorreo;
               |FINSI;
          |SINO;
               aAlfa = "0000Error en informe:" + aInf;
               |MENAV aAlfa;
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;

|PROCESO EnviaProT;
     nError = 1;
     #30#0 = #referet@#0;
     |LEE 020#30=;

     |ABRE #112;
     #112#0 = #30#7;
     |LEE 000#112=;
     |CIERRA #112;
     aMail = #112#84; |QBF aMail;
     |SI aMail = "";
          aAlfa = "0000Mail no informado en el proveedor: " + #30#7 + " ...";
          |MENAV aAlfa;
          |ACABA;
     |FINSI;

     |ABRE #31;
     #31#0 = #30#7;
     |LEE 000#31=;
     |SI FSalida ! 0; |DDEFECTO #31; |FINSI;
     |CIERRA #31;

     |ABRE #515;
     #515#0 = #30#32;
     |LEE 000#515=;
     |SI FSalida ! 0; |DDEFECTO #515; |FINSI;
     |CIERRA #515;

     aSubject = "Pedido de traje:" + (("000000" + #30#0) % -106);
     aNomFic = (("000000" + #30#0) % -106) + ".pdf";
     aInf = #31#2; |QBF aInf;
     enSwCliPrv = 1;
     |HAZ ImprePDF;
|FPRC;

|PROCESO EnviaCliT;
     nError = 1;
     #30#0 = #referet@#0;
     |LEE 020#30=;

     aMail = #30#14; |QBF aMail;
     |SI aMail = "";
          aAlfa = "0000Mail no informado en el cliente...";
          |MENAV aAlfa;
          |ACABA;
     |FINSI;

     |ABRE #31;
     #31#0 = #30#7;
     |LEE 000#31=;
     |SI FSalida ! 0; |DDEFECTO #31; |FINSI;
     |CIERRA #31;

     |ABRE #515;
     #515#0 = #30#32;
     |LEE 000#515=;
     |SI FSalida ! 0; |DDEFECTO #515; |FINSI;
     |CIERRA #515;

     aSubject = "Pedido de traje:" + (("000000" + #30#0) % -106);
     aNomFic = (("000000" + #30#0) % -106) + ".pdf";
     aInf = #31#2; |QBF aInf;
     enSwCliPrv = 0;
     |HAZ ImprePDF;
|FPRC;

|PROCESO EnviaProC;
     nError = 1;
     #22#0 = #referec@#0;
     |LEE 020#22=;

     |ABRE #112;
     #112#0 = #22#7;
     |LEE 000#112=;
     |CIERRA #112;
     aMail = #112#84; |QBF aMail;
     |SI aMail = "";
          aAlfa = "0000Mail no informado en el proveedor: " + #22#7 + " ...";
          |MENAV aAlfa;
          |ACABA;
     |FINSI;

     |ABRE #31;
     #31#0 = #22#7;
     |LEE 000#31=;
     |SI FSalida ! 0; |DDEFECTO #31; |FINSI;
     |CIERRA #31;

     |ABRE #515;
     #515#0 = #22#83;
     |LEE 000#515=;
     |SI FSalida ! 0; |DDEFECTO #515; |FINSI;
     |CIERRA #515;

     aSubject = "Pedido de camisa:" + (("000000" + #22#0) % -106);
     aNomFic = (("000000" + #22#0) % -106) + ".pdf";
     aInf = #31#1; |QBF aInf;
     enSwCliPrv = 1;
     |HAZ ImprePDF;
|FPRC;

|PROCESO EnviaCliC;
     nError = 1;
     #22#0 = #referec@#0;
     |LEE 020#22=;

     aMail = #22#92; |QBF aMail;
     |SI aMail = "";
          aAlfa = "0000Mail no informado en el cliente...";
          |MENAV aAlfa;
          |ACABA;
     |FINSI;

     |ABRE #31;
     #31#0 = #22#7;
     |LEE 000#31=;
     |SI FSalida ! 0; |DDEFECTO #31; |FINSI;
     |CIERRA #31;

     |ABRE #515;
     #515#0 = #22#83;
     |LEE 000#515=;
     |SI FSalida ! 0; |DDEFECTO #515; |FINSI;
     |CIERRA #515;

     aSubject = "Pedido de camisa:" + (("000000" + #22#0) % -106);
     aNomFic = (("000000" + #22#0) % -106) + ".pdf";
     aInf = #31#1; |QBF aInf;
     enSwCliPrv = 0;
     |HAZ ImprePDF;
|FPRC;

|PROCESO Imprime;
     enSwCliPrv = 0;
     Impresora = "CrystalReport";
     |IMPRE -1;
     |SI FSalida = 0;
          |INFOR aInf;
          |SI FSalida = 0;
               |PRINT;
               |PIEINF;
               |FININF;
          |SINO;
               aAlfa = "0000Error en informe:" + aInf;
               |MENAV aAlfa;
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;

|PROCESO ImpreT;
     #30#0 = #referet@#0;
     |LEE 020#30=;

     |ABRE #31;
     #31#0 = #30#7;
     |LEE 000#31=;
     |SI FSalida ! 0; |DDEFECTO #31; |FINSI;
     |CIERRA #31;

     |ABRE #515;
     #515#0 = #30#32;
     |LEE 000#515=;
     |SI FSalida ! 0; |DDEFECTO #515; |FINSI;
     |CIERRA #515;

     aInf = #31#2; |QBF aInf;
     |HAZ Imprime;
|FPRC;

|PROCESO ImpreC;
     #22#0 = #referec@#0;
     |LEE 020#22=;

     |ABRE #31;
     #31#0 = #22#7;
     |LEE 000#31=;
     |SI FSalida ! 0; |DDEFECTO #31; |FINSI;
     |CIERRA #31;

     |ABRE #515;
     #515#0 = #22#83;
     |LEE 000#515=;
     |SI FSalida ! 0; |DDEFECTO #515; |FINSI;
     |CIERRA #515;

     aInf = #31#1; |QBF aInf;
     |HAZ Imprime;
|FPRC;

|PROCESO TipoT7; |TIPO 7;
     aConte = #30Campo;
     |SI Campo = 36; |PINTA 687, #30#22; |FINSI;
     |SI Campo = 112; |PINTA 687, #30#23; |FINSI;
     |SI Campo = 157; |PINTA 687, #30#24; |FINSI;
     |SI Campo = 190; |PINTA 687, #30#25; |FINSI;
     |SI Campo = 207; |PINTA 687, #30#26; |FINSI;
|FPRC;

|PROCESO TipoT0; |TIPO 0;
     |SI FSalida = 2; |ACABA; |FINSI;
     |SI Campo = 2;
          |ABRE #124;
          #124#0 = #30Campo;
          |LEE 000#124=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo cliente...";
               |ERROR;
          |SINO;
               #30#11 = #124#1; |PINTA #30#11;
               |SI aConte ! #30Campo;
                    #30#14 = #124#197; |PINTA #30#14;
                    #30#15 = #124#196; |PINTA #30#15;
                    #30#3 = #30#2; |PINTA #30#3;
                    #30#12 = #30#11; |PINTA #30#12;
                    |ABRE #20;
                    #20#0 = #124#0;
                    |LEE 000#20=;
                    |SI FSalida ! 0; |DDEFECTO #20; |FINSI;
                    |CIERRA #20;
               |FINSI;
          |FINSI;
          |CIERRA #124;
     |FINSI;
     |SI Campo = 3;
          |ABRE #124;
          #124#0 = #30Campo;
          |LEE 000#124=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo cliente...";
               |ERROR;
          |SINO;
               #30#12 = #124#1; |PINTA #30#12;
          |FINSI;
          |CIERRA #124;
     |FINSI;
     |SI Campo = 6;
          |SI #30#6 = "T";
               |C_M #30#16, 1, "S"; |PINTA #30#16;
               |C_M #30#18, 1, "S"; |PINTA #30#18;
               |C_M #30#20, 1, "S"; |PINTA #30#20;
          |SINO;
               #30#16 = "";
               #30#17 = ""; |PINTA #30#17;
               #30#18 = "";
               #30#19 = ""; |PINTA #30#19;
               #30#20 = "";
               #30#21 = ""; |PINTA #30#21;
               |C_M #30#16, 1, "N"; |PINTA #30#16;
               |C_M #30#18, 1, "N"; |PINTA #30#18;
               |C_M #30#20, 1, "N"; |PINTA #30#20;
          |FINSI;
          |SI #30#6 = "T"; |O #30#6 = "M";
               |C_M #30#22, 1, "S"; |PINTA #30#22;
               |C_M #30#23, 1, "S"; |PINTA #30#23;
               |C_M #30#24, 1, "S"; |PINTA #30#24;
               #30#25 = 0;
               #30#26 = 0;
               |C_M #30#25, 1, "N"; |PINTA #30#25;
               |C_M #30#26, 1, "N"; |PINTA #30#26;
          |FINSI;
          |SI #30#6 = "P";
               |C_M #30#25, 1, "S"; |PINTA #30#25;
               #30#22 = 0;
               #30#23 = 0;
               #30#24 = 0;
               #30#26 = 0;
               |C_M #30#22, 1, "N"; |PINTA #30#22;
               |C_M #30#23, 1, "N"; |PINTA #30#23;
               |C_M #30#24, 1, "N"; |PINTA #30#24;
               |C_M #30#26, 1, "N"; |PINTA #30#26;
          |FINSI;
          |SI #30#6 = "C";
               |C_M #30#26, 1, "S"; |PINTA #30#26;
               #30#22 = 0;
               #30#23 = 0;
               #30#24 = 0;
               #30#25 = 0;
               |C_M #30#22, 1, "N"; |PINTA #30#22;
               |C_M #30#23, 1, "N"; |PINTA #30#23;
               |C_M #30#24, 1, "N"; |PINTA #30#24;
               |C_M #30#25, 1, "N"; |PINTA #30#25;
          |FINSI;
          |HAZ TotalT;
     |FINSI;
     |SI Campo = 7;
          |ABRE #112;
          #112#0 = #30Campo;
          |LEE 000#112=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo proveedor...";
               |ERROR;
          |SINO;
               #30#13 = #112#1; |PINTA #30#13;
          |FINSI;
          |CIERRA #112;
     |FINSI;
     |SI Campo = 16;
          |C_M #30Campo, 0, aAlfa;
          |SI aAlfa = "S";
               |ABRE #23;
               #23#0 = #30Campo;
               |LEE 000#23=;
               |SI FSalida ! 0;
                    |MENAV "0000No existe modelo traje...";
                    |ERROR;
               |SINO;
                    #30#17 = #23#1; |PINTA #30#17;
               |FINSI;
               |CIERRA #23;
          |FINSI;
     |FINSI;
     |SI Campo = 18;
          |C_M #30Campo, 0, aAlfa;
          |SI aAlfa = "S";
               |ABRE #25;
               #25#0 = #30Campo;
               |LEE 000#25=;
               |SI FSalida ! 0;
                    |MENAV "0000No existe modelo traje...";
                    |ERROR;
               |SINO;
                    #30#19 = #25#1; |PINTA #30#19;
                    |SI aConte ! #30Campo;
                         #30#20 = #25#2; |PINTA #30#20;
                         |ABRE #24;
                         #24#0 = #30#20;
                         |LEE 000#24=;
                         |SI FSalida ! 0; |DDEFECTO #24; |FINSI;
                         |CIERRA #24;
                         #30#21 = #24#1; |PINTA #30#21;
                         #30#22 = #24#3; |PINTA #30#22;
                         #30#23 = #24#2; |PINTA #30#23;
                    |FINSI;
               |FINSI;
               |CIERRA #25;
          |FINSI;
     |FINSI;
     |SI Campo = 20;
          |C_M #30Campo, 0, aAlfa;
          |SI aAlfa = "S";
               |ABRE #24;
               #24#0 = #30Campo;
               |LEE 000#24=;
               |SI FSalida ! 0;
                    |MENAV "0000No existe categoria traje...";
                    |ERROR;
               |SINO;
                    #30#21 = #24#1; |PINTA #30#21;
                    |SI aConte ! #30Campo;
                         #30#22 = #24#3; |PINTA #30#22;
                         #30#23 = #24#2; |PINTA #30#23;
                    |FINSI;
               |FINSI;
               |CIERRA #24;
          |FINSI;
     |FINSI;
     |SI Campo = 22;
          |C_M #30Campo, 0, aAlfa;
          |SI #30Campo = 0; |Y FSalida = 0; |Y nModo = 1; |Y aAlfa = "S";
               |MENAV "0000No se pediran los datos de la americana...";
          |FINSI;
          |HAZ TotalT;
          |SI #30Campo = 0; aAlfa = "N"; |SINO; aAlfa = "S"; |FINSI;
          |PARA i = 36; |SI i [ 111; |HACIENDO i = i + 1;
               |C_M #30i, 1, aAlfa; |PINTA #30i;
          |SIGUE;
     |FINSI;
     |SI Campo = 23;
          |C_M #30Campo, 0, aAlfa;
          |SI #30Campo = 0; |Y FSalida = 0; |Y nModo = 1; |Y aAlfa = "S";
               |MENAV "0000No se pediran los datos del pantalon...";
          |FINSI;
          |HAZ TotalT;
          |SI #30Campo = 0; aAlfa = "N"; |SINO; aAlfa = "S"; |FINSI;
          |PARA i = 112; |SI i [ 156; |HACIENDO i = i + 1;
               |C_M #30i, 1, aAlfa; |PINTA #30i;
          |SIGUE;
     |FINSI;
     |SI Campo = 24;
          |C_M #30Campo, 0, aAlfa;
          |SI #30Campo = 0; |Y FSalida = 0; |Y nModo = 1; |Y aAlfa = "S";
               |MENAV "0000No se pediran los datos del chaleco...";
          |FINSI;
          |HAZ TotalT;
          |SI #30Campo = 0; aAlfa = "N"; |SINO; aAlfa = "S"; |FINSI;
          |PARA i = 157; |SI i [ 189; |HACIENDO i = i + 1;
               |C_M #30i, 1, aAlfa; |PINTA #30i;
          |SIGUE;
     |FINSI;
     |SI Campo = 25;
          |C_M #30Campo, 0, aAlfa;
          |SI #30Campo = 0; |Y FSalida = 0; |Y nModo = 1; |Y aAlfa = "S";
               |MENAV "0000No se pediran los datos del pa¤uelo...";
          |FINSI;
          |HAZ TotalT;
          |SI #30Campo = 0; aAlfa = "N"; |SINO; aAlfa = "S"; |FINSI;
          |PARA i = 190; |SI i [ 206; |HACIENDO i = i + 1;
               |C_M #30i, 1, aAlfa; |PINTA #30i;
          |SIGUE;
     |FINSI;
     |SI Campo = 26;
          |C_M #30Campo, 0, aAlfa;
          |SI #30Campo = 0; |Y FSalida = 0; |Y nModo = 1; |Y aAlfa = "S";
               |MENAV "0000No se pediran los datos de la corbata...";
          |FINSI;
          |HAZ TotalT;
          |SI #30Campo = 0; aAlfa = "N"; |SINO; aAlfa = "S"; |FINSI;
          |PARA i = 207; |SI i [ 208; |HACIENDO i = i + 1;
               |C_M #30i, 1, aAlfa; |PINTA #30i;
          |SIGUE;
     |FINSI;
     |SI Campo = 28;
          |HAZ TotalT;
     |FINSI;
     |SI Campo = 30;
          |HAZ TotalT;
          |SI #30Campo = 0;
               #30#31 = "E";
               |C_M #30#31, 1, "N"; |PINTA #30#31;
               |C_M #30#32, 1, "N"; |PINTA #30#32;
          |SINO;
               |C_M #30#31, 1, "S"; |PINTA #30#31;
          |FINSI;
     |FINSI;
     |SI Campo = 31;
          |SI #30Campo = "E";
               #30#32 = 0;
               |C_M #30#32, 1, "N"; |PINTA #30#32;
          |SINO;
               |C_M #30#32, 1, "S"; |PINTA #30#32;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO TotalT; |TIPO 0;
     #30#27 = #30#22 + #30#23 + #30#24 + #30#25 + #30#26;
     |PINTA #30#27;
     #30#29 = #30#27 - #30#28; |PINTA #30#29;
     #30#33 = #30#29 - #30#30; |PINTA #30#33;
|FPRC;

|PROCESO EvtPanT6;
     |C_M #30#207, 0, aAlfa;
     |SI aAlfa = "N";
          aAlfa = "|C001WID";
          aAlfa = #30#aAlfa#;
          nId = aAlfa;
          |FOCOTECLADO nId;

     |SINO;
          aAlfa = "|C207WID";
          aAlfa = #30#aAlfa#;
          nId = aAlfa;
          |FOCOTECLADO nId;
     |FINSI;
|FPRC;

|PROCESO EvtPanT5;
     |C_M #30#190, 0, aAlfa;
     |SI aAlfa = "N";
          |HAZ EvtPanT6;
     |SINO;
          aAlfa = "|C190WID";
          aAlfa = #30#aAlfa#;
          nId = aAlfa;
          |FOCOTECLADO nId;
     |FINSI;
|FPRC;

|PROCESO EvtPanT4;
     |C_M #30#157, 0, aAlfa;
     |SI aAlfa = "N";
          |HAZ EvtPanT5;
     |SINO;
          aAlfa = "|C157WID";
          aAlfa = #30#aAlfa#;
          nId = aAlfa;
          |FOCOTECLADO nId;
     |FINSI;
|FPRC;

|PROCESO EvtPanT3;
     |C_M #30#112, 0, aAlfa;
     |SI aAlfa = "N";
          |HAZ EvtPanT4;
     |SINO;
          aAlfa = "|C112WID";
          aAlfa = #30#aAlfa#;
          nId = aAlfa;
          |FOCOTECLADO nId;
     |FINSI;
|FPRC;

|PROCESO EvtPanT2;
     |C_M #30#36, 0, aAlfa;
     |SI aAlfa = "N";
          |HAZ EvtPanT3;
     |SINO;
          aAlfa = "|C036WID";
          aAlfa = #30#aAlfa#;
          nId = aAlfa;
          |FOCOTECLADO nId;
     |FINSI;
|FPRC;

|PROCESO EditaT;
     |SI nModo = 1; |VENTANA 0501, 3299, -1, 17, "Nuevo pedido traje"; |FINSI;
     |SI nModo = 2; |VENTANA 0501, 3299, -1, 17, "Modifica pedido traje"; |FINSI;
     |SI nModo = 4; |VENTANA 0501, 3299, -1, 17, "Consulta pedido traje"; |FINSI;
     |HAZ PushVenModal;

     aAlfa = "|NC"; nCampos = #30aAlfa;
     IaCamMod = aCamMod1<-;
     |PARA i = 0; |SI i < nCampos; |HACIENDO i = i + 1;
          |C_M #30i, 0, aAlfa;
          aCamMod = aAlfa;
          IaCamMod = IaCamMod + 1;
     |SIGUE;

     |SI nModo = 1;
          |LEE 000#30u;
          |SI FSalida = 0;
               nNume = #30#0 + 1;
          |SINO;
               nNume = 1;
          |FINSI;
          |DDEFECTO #30;
          #30#0 = nNume;
          |GRABA 020#30b;
          |SI #0#0 ! "000000";
               #30#2 = #0#0;
               #30#3 = #0#0;
               #30#11 = #0#1;
               #30#12 = #0#1;
               aConte = "";
               Campo = 2; |HAZ TipoT0;
          |FINSI;
     |SINO;
          #30#0 = #referet@#0#;
          |SI nModo = 4;
               |LEE 020#30=;
          |SINO;
               |LEE 121#30=;
          |FINSI;
          |SI #30#6 ! "T";
               |C_M #30#16, 1, "N";
               |C_M #30#18, 1, "N";
               |C_M #30#20, 1, "N";
          |FINSI;
          |SI #30#6 = "T"; |O #30#6 = "M";
               |C_M #30#25, 1, "N";
               |C_M #30#26, 1, "N";
          |FINSI;
          |SI #30#6 = "P";
               |C_M #30#22, 1, "N";
               |C_M #30#23, 1, "N";
               |C_M #30#24, 1, "N";
               |C_M #30#26, 1, "N";
          |FINSI;
          |SI #30#6 = "C";
               |C_M #30#22, 1, "N";
               |C_M #30#23, 1, "N";
               |C_M #30#24, 1, "N";
               |C_M #30#25, 1, "N";
          |FINSI;
          |SI #30#22 = 0;
               |PARA i = 36; |SI i [ 111; |HACIENDO i = i + 1;
                    |C_M #30i, 1, "N";
               |SIGUE;
          |FINSI;
          |SI #30#23 = 0;
               |PARA i = 112; |SI i [ 156; |HACIENDO i = i + 1;
                    |C_M #30i, 1, "N";
               |SIGUE;
          |FINSI;
          |SI #30#24 = 0;
               |PARA i = 157; |SI i [ 189; |HACIENDO i = i + 1;
                    |C_M #30i, 1, "N";
               |SIGUE;
          |FINSI;
          |SI #30#25 = 0;
               |PARA i = 190; |SI i [ 206; |HACIENDO i = i + 1;
                    |C_M #30i, 1, "N";
               |SIGUE;
          |FINSI;
          |SI #30#26 = 0;
               |PARA i = 207; |SI i [ 208; |HACIENDO i = i + 1;
                    |C_M #30i, 1, "N";
               |SIGUE;
          |FINSI;
          |SI #30#30 ! 0;
               |C_M #30#31, 1, "S";
               |SI #30#31 = "T"; |C_M #30#32, 1, "S"; |FINSI;
          |FINSI;
     |FINSI;
     |PINPA #0#30; nPanta1 = FSalida;
     |PINPA #1#30; nPanta2 = FSalida;
     |PINPA #2#30; nPanta3 = FSalida;
     |PINPA #3#30; nPanta4 = FSalida;
     |PINPA #4#30; nPanta5 = FSalida;
     |PINPA #5#30; nPanta6 = FSalida;
     |CONTROL_SIMPLE nPanta2, "EVENTOPAN", 0000, 0000, EvtPanT2;
     |CONTROL_SIMPLE nPanta3, "EVENTOPAN", 0000, 0000, EvtPanT3;
     |CONTROL_SIMPLE nPanta4, "EVENTOPAN", 0000, 0000, EvtPanT4;
     |CONTROL_SIMPLE nPanta5, "EVENTOPAN", 0000, 0000, EvtPanT5;
     |CONTROL_SIMPLE nPanta6, "EVENTOPAN", 0000, 0000, EvtPanT6;
     |PINDA #0#30;
     |PINDA #1#30;
     |PINDA #2#30;
     |PINDA #3#30;
     |PINDA #4#30;
     |PINDA #5#30;
     |SI nModo = 1; |ENDATOS #1#30; |FINSI;
     |SI nModo = 2; |ENDATOS #2#30; |FINSI;
     |SI nModo = 4; |PAUSA; |FINSI;
     |SI FSalida = 0; |Y nModo ! 4;
          |GRABA 020#30a;
          |SALVA_DATOS #30;
          |REPON_DATOS #referet@;
          |HAZ RefresGridT;
          |PULSATECLA;
     |SINO;
          |SI nModo = 1;
               |BORRA 020#30c;
          |FINSI;
     |FINSI;
     |LIBERA #30;

     aAlfa = "|NC"; nCampos = #30aAlfa;
     IaCamMod = aCamMod1<-;
     |PARA i = 0; |SI i < nCampos; |HACIENDO i = i + 1;
          aAlfa = aCamMod;
          |C_M #30i, 1, aAlfa;
          IaCamMod = IaCamMod + 1;
     |SIGUE;

     |HAZ PopVenModal;
|FPRC;

|PROCESO Min19;
     #19#0 = #22#11;
     #19#1 = "          ";
|FPRC;

|PROCESO Max19;
     #19#0 = #22#11;
     #19#1 = "zzzzzzzzzz";
|FPRC;

|PROCESO SerColCamisaC66; |TIPO 66;
     |ABRE #19;
     #19#0 = #22#11;
     #19#1 = #22#12;
     |LEE 000#19=;
     |SI Campo = 11;
          |CONSULTA_CLAVE #1#19;
          |SI FSalida = 0;
               #22#11 = #19#0; |PINTA #22#11;
               #22#12 = #19#1; |PINTA #22#12;
          |SINO;
               |ERROR;
          |FINSI;
     |SINO;
          |CONSULTA_F_CLAVE #1#19, Min19, Max19;
          |SI FSalida = 0;
               #22#12 = #19#1; |PINTA #22#12;
          |SINO;
               |ERROR;
          |FINSI;
     |FINSI;
     |CIERRA #19;
|FPRC;

|PROCESO TipoC7; |TIPO 7;
     aConte = #22Campo;
|FPRC;

|PROCESO TipoC0; |TIPO 0;
     |SI FSalida = 2; |ACABA; |FINSI;
     |SI Campo = 2;
          |ABRE #124;
          #124#0 = #22Campo;
          |LEE 000#124=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo cliente...";
               |ERROR;
          |SINO;
               #22#88 = #124#1; |PINTA #22#88;
               |SI aConte ! #22Campo;
                    #22#92 = #124#197; |PINTA #22#92;
                    #22#93 = #124#196; |PINTA #22#93;
                    #22#3 = #22#2; |PINTA #22#3;
                    #22#89 = #22#88; |PINTA #22#89;
                    |ABRE #20;
                    #20#0 = #124#0;
                    |LEE 000#20=;
                    |SI FSalida ! 0; |DDEFECTO #20; |FINSI;
                    |CIERRA #20;
                    #22#17 = #20#24; |PINTA #22#17;
                    #22#18 = #20#2; |PINTA #22#18;
                    #22#19 = #20#3; |PINTA #22#19;
                    #22#20 = #20#4; |PINTA #22#20;
                    #22#21 = #20#5; |PINTA #22#21;
                    #22#22 = #20#8; |PINTA #22#22;
                    #22#23 = #20#9; |PINTA #22#23;
                    #22#24 = #20#10; |PINTA #22#24;
                    #22#25 = #20#11; |PINTA #22#25;
                    #22#26 = #20#12; |PINTA #22#26;
                    #22#27 = #20#13; |PINTA #22#27;
                    #22#28 = #20#14; |PINTA #22#28;
                    #22#29 = #20#15; |PINTA #22#29;
                    #22#30 = #20#15; |PINTA #22#30;
                    #22#31 = #20#17; |PINTA #22#31;
                    #22#32 = #20#18; |PINTA #22#32;
                    #22#33 = #20#19; |PINTA #22#33;
                    #22#34 = #20#20; |PINTA #22#34;
                    #22#35 = #20#6; |PINTA #22#35;
                    #22#36 = #20#7; |PINTA #22#36;
                    #22#37 = #20#21; |PINTA #22#37;
                    #22#38 = #20#22; |PINTA #22#38;
                    #22#39 = #20#23; |PINTA #22#39;
                    #22#40 = #20#25; |PINTA #22#40;
                    #22#41 = #20#31; |PINTA #22#41;
                    #22#42 = #20#32; |PINTA #22#42;
                    #22#43 = #20#33; |PINTA #22#43;
                    #22#44 = #20#34; |PINTA #22#44;
                    #22#45 = #20#35; |PINTA #22#45;
                    #22#46 = #20#36; |PINTA #22#46;
               |FINSI;
          |FINSI;
          |CIERRA #124;
     |FINSI;
     |SI Campo = 3;
          |ABRE #124;
          #124#0 = #22Campo;
          |LEE 000#124=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo cliente...";
               |ERROR;
          |SINO;
               #22#89 = #124#1; |PINTA #22#89;
          |FINSI;
          |CIERRA #124;
     |FINSI;
     |SI Campo = 7;
          |ABRE #112;
          #112#0 = #22Campo;
          |LEE 000#112=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo proveedor...";
               |ERROR;
          |SINO;
               #22#90 = #112#1; |PINTA #22#90;
          |FINSI;
          |CIERRA #112;
     |FINSI;
     |SI Campo = 11; |O Campo = 12;
          |ABRE #19;
          #19#0 = #22#11;
          #19#1 = #22#12;
          |LEE 000#19=;
          |SI FSalida ! 0;
               |SI Campo = 12;
                    |MENAV "0000No existe c¢digo series camiseria...";
                    |ERROR;
               |FINSI;
          |SINO;
               #22#91 = #19#2; |PINTA #22#91;
               |SI aConte ! #22Campo;
                    #22#13 = #19#3; |PINTA #22#13;
                    |ABRE #18;
                    #18#0 = #22#13;
                    |LEE 000#18=;
                    |SI FSalida ! 0; |DDEFECTO #18; |FINSI;
                    |CIERRA #18;
                    #22#14 = #18#1; |PINTA #22#14;
               |FINSI;
          |FINSI;
          |CIERRA #19;
     |FINSI;
     |SI Campo = 13;
          |ABRE #18;
          #18#0 = #22Campo;
          |LEE 000#18=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo categoria...";
               |ERROR;
          |SINO;
               |SI aConte ! #22Campo;
                    #22#14 = #18#1; |PINTA #22#14;
               |FINSI;
          |FINSI;
          |CIERRA #18;
     |FINSI;
     |SI Campo = 14; |O Campo = 15;
          |HAZ TotalC;
     |FINSI;
     |SI Campo = 16;
          |ABRE #6;
          #6#0 = #22Campo;
          |LEE 000#6=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo tipo de prenda...";
               |ERROR;
          |FINSI;
          |CIERRA #6;
     |FINSI;
     |SI Campo = 17;
          |ABRE #4;
          #4#0 = #22Campo;
          |LEE 000#4=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo tipo de patr¢n...";
               |ERROR;
          |FINSI;
          |CIERRA #4;
     |FINSI;
     |SI Campo = 37;
          |ABRE #1;
          #1#0 = #22Campo;
          |LEE 000#1=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo tipo de cuello...";
               |ERROR;
          |FINSI;
          |CIERRA #1;
     |FINSI;
     |SI Campo = 38;
          |ABRE #2;
          #2#0 = #22Campo;
          |LEE 000#2=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo tipo de hombro...";
               |ERROR;
          |FINSI;
          |CIERRA #2;
     |FINSI;
     |SI Campo = 39;
          |ABRE #3;
          #3#0 = #22Campo;
          |LEE 000#3=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo tipo de pecho...";
               |ERROR;
          |FINSI;
          |CIERRA #3;
     |FINSI;
     |SI Campo = 40;
          |ABRE #5;
          #5#0 = #22Campo;
          |LEE 000#5=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo tipo de bajo...";
               |ERROR;
          |FINSI;
          |CIERRA #5;
     |FINSI;
     |SI Campo = 47;
          |ABRE #7;
          #7#0 = #22Campo;
          |LEE 000#7=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo modelo de cuello...";
               |ERROR;
          |SINO;
               #22#94 = #7#1; |PINTA #22#94;
               |SI aConte ! #22Campo;
                    #22#48 = #7#2; |PINTA #22#48;
                    |HAZ TotalC;
               |FINSI;
          |FINSI;
          |CIERRA #7;
     |FINSI;
     |SI Campo = 50;
          |ABRE #8;
          #8#0 = #22Campo;
          |LEE 000#8=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo pie de cuello...";
               |ERROR;
          |FINSI;
          |CIERRA #8;
     |FINSI;
     |SI Campo = 51;
          |ABRE #9;
          #9#0 = #22Campo;
          |LEE 000#9=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo modelo de pu¤o...";
               |ERROR;
          |SINO;
               #22#95 = #9#1; |PINTA #22#95;
               |SI aConte ! #22Campo;
                    #22#52 = #9#2; |PINTA #22#52;
                    |HAZ TotalC;
               |FINSI;
          |FINSI;
          |CIERRA #9;
     |FINSI;
     |SI Campo = 53;
          |ABRE #10;
          #10#0 = #22Campo;
          |LEE 000#10=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo tipo pespuntes...";
               |ERROR;
          |FINSI;
          |CIERRA #10;
     |FINSI;
     |SI Campo = 54;
          |ABRE #11;
          #11#0 = #22Campo;
          |LEE 000#11=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo tipo manga corta...";
               |ERROR;
          |SINO;
               #22#96 = #11#1; |PINTA #22#96;
               |SI aConte ! #22Campo;
                    #22#55 = #11#2; |PINTA #22#55;
                    |HAZ TotalC;
               |FINSI;
          |FINSI;
          |CIERRA #11;
     |FINSI;
     |SI Campo = 56;
          |ABRE #12;
          #12#0 = #22Campo;
          |LEE 000#12=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo tipo delantero...";
               |ERROR;
          |SINO;
               #22#97 = #12#1; |PINTA #22#97;
               |SI aConte ! #22Campo;
                    #22#57 = #12#2; |PINTA #22#57;
                    |HAZ TotalC;
               |FINSI;
          |FINSI;
          |CIERRA #12;
     |FINSI;
     |SI Campo = 58;
          |ABRE #13;
          #13#0 = #22Campo;
          |LEE 000#13=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo tipo de bolsillo...";
               |ERROR;
          |SINO;
               #22#98 = #13#1; |PINTA #22#98;
               |SI aConte ! #22Campo;
                    #22#59 = #13#2; |PINTA #22#59;
                    |HAZ TotalC;
               |FINSI;
          |FINSI;
          |CIERRA #13;
     |FINSI;
     |SI Campo = 60;
          |ABRE #14;
          #14#0 = #22Campo;
          |LEE 000#14=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo tipo de espalda...";
               |ERROR;
          |SINO;
               #22#99 = #14#1; |PINTA #22#99;
               |SI aConte ! #22Campo;
                    #22#61 = #14#2; |PINTA #22#61;
                    |HAZ TotalC;
               |FINSI;
          |FINSI;
          |CIERRA #14;
     |FINSI;
     |SI Campo = 62; |Y aConte ! #22Campo;
          aAlfa = #22Campo; |QBF aAlfa;
          |SI aAlfa = "";
               |C_M #22#63, 1, "N";
               #22#63 = 0; |PINTA #22#63;
          |SINO;
               |C_M #22#63, 1, "S";
               #22#63 = #17#1; |PINTA #22#63;
          |FINSI;
          |HAZ TotalC;
     |FINSI;
     |SI Campo = 64;
          |ABRE #15;
          #15#0 = #22Campo;
          |LEE 000#15=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo tipo de letra iniciales...";
               |ERROR;
          |FINSI;
          |CIERRA #15;
     |FINSI;
     |SI Campo = 66;
          |ABRE #16;
          #16#0 = #22Campo;
          |LEE 000#16=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo de lugar de bordado...";
               |ERROR;
          |FINSI;
          |CIERRA #16;
     |FINSI;
     |SI Campo = 70; |Y aConte ! #22Campo;
          |SI #22Campo = "S";
               #22#71 = #17#2;
               |C_M #22#71, 1, "S"; |PINTA #22#71;
          |SINO;
               #22#71 = 0;
               |C_M #22#71, 1, "N"; |PINTA #22#71;
          |FINSI;
          |HAZ TotalC;
     |FINSI;
     |SI Campo = 72; |Y aConte ! #22Campo;
          |SI #22Campo = "S";
               #22#73 = #17#3;
               |C_M #22#73, 1, "S"; |PINTA #22#73;
          |SINO;
               #22#73 = 0;
               |C_M #22#73, 1, "N"; |PINTA #22#73;
          |FINSI;
          |HAZ TotalC;
     |FINSI;
     |SI Campo = 74; |Y aConte ! #22Campo;
          |SI #22Campo = "S";
               #22#75 = #17#4;
               |C_M #22#75, 1, "S"; |PINTA #22#75;
          |SINO;
               #22#75 = 0;
               |C_M #22#75, 1, "N"; |PINTA #22#75;
          |FINSI;
          |HAZ TotalC;
     |FINSI;
     |SI Campo = 76; |Y aConte ! #22Campo;
          |SI #22Campo = "S";
               #22#77 = #17#4;
               |C_M #22#77, 1, "S"; |PINTA #22#77;
          |SINO;
               #22#77 = 0;
               |C_M #22#77, 1, "N"; |PINTA #22#77;
          |FINSI;
          |HAZ TotalC;
     |FINSI;
     |SI Campo = 79;
          |HAZ TotalC;
     |FINSI;
     |SI Campo = 81;
          |SI #22#81 = 0;
               #22#82 = "E";
               #22#83 = 0;
               |C_M #22#82, 1, "N"; |PINTA #22#82;
          |SINO;
               |C_M #22#82, 1, "S"; |PINTA #22#82;
          |FINSI;
          |HAZ TotalC;
     |FINSI;
     |SI Campo = 82;
          |SI #22Campo = "E";
               |C_M #22#83, 1, "N"; |PINTA #22#83;
          |SINO;
               |C_M #22#83, 1, "S"; |PINTA #22#83;
          |FINSI;
     |FINSI;
     |SI Campo = 83; |Y #22#82 = "T";
          |ABRE #515;
          #515#0 = #22Campo;
          |LEE 000#515=;
          |SI FSalida ! 0;
               |MENAV "0000No existe c¢digo tarjeta...";
               |ERROR;
          |FINSI;
          |CIERRA #515;
     |FINSI;
|FPRC;

|PROCESO TotalC;
     #22#78 = #22#15*(#22#14+#22#48+#22#52+#22#55+#22#57+#22#59+#22#61+#22#63+#22#71+#22#73+#22#75+#22#77);
     |PINTA #22#78;
     #22#100 = #22#78 - #22#79; |PINTA #22#100;
     #22#80 = #22#100 * #22#15; |PINTA #22#80;
     #22#84 = #22#80 - #22#81; |PINTA #22#84;
|FPRC;

|PROCESO EvtPanC2;
     aAlfa = "|C047WID";
     aAlfa = #22#aAlfa#;
     nId = aAlfa;
     |FOCOTECLADO nId;
|FPRC;

|PROCESO EditaC;
     |SI nModo = 1; |VENTANA 0501, 3099, -1, 17, "Nuevo pedido camisas"; |FINSI;
     |SI nModo = 2; |VENTANA 0501, 3099, -1, 17, "Modifica pedido camisas"; |FINSI;
     |SI nModo = 4; |VENTANA 0501, 3099, -1, 17, "Consulta pedido camisas"; |FINSI;
     |HAZ PushVenModal;

     aAlfa = "|NC"; nCampos = #22aAlfa;
     IaCamMod = aCamMod1<-;
     |PARA i = 0; |SI i < nCampos; |HACIENDO i = i + 1;
          |C_M #22i, 0, aAlfa;
          aCamMod = aAlfa;
          IaCamMod = IaCamMod + 1;
     |SIGUE;

     |SI nModo = 1;
          |LEE 000#22u;
          |SI FSalida = 0;
               nNume = #22#0 + 1;
          |SINO;
               nNume = 1;
          |FINSI;
          |DDEFECTO #22;
          #22#0 = nNume;
          |GRABA 020#22b;
          |SI #0#0 ! "000000";
               #22#2 = #0#0;
               #22#3 = #0#0;
               #22#88 = #0#1;
               #22#89 = #0#1;
               aConte = "";
               Campo = 2; |HAZ TipoC0;
          |FINSI;
     |SINO;
          #22#0 = #referec@#0#;
          |SI nModo = 4;
               |LEE 020#22=;
          |SINO;
               |LEE 121#22=;
          |FINSI;
          aAlfa = #22#62; |QBF aAlfa;
          |SI aAlfa ! ""; |C_M #22#63, 1, "S"; |FINSI;
          |SI #22#70 = "S"; |C_M #22#71, 1, "S"; |FINSI;
          |SI #22#72 = "S"; |C_M #22#73, 1, "S"; |FINSI;
          |SI #22#74 = "S"; |C_M #22#75, 1, "S"; |FINSI;
          |SI #22#76 = "S"; |C_M #22#77, 1, "S"; |FINSI;
          |SI #22#81 ! 0;
               |C_M #22#82, 1, "S";
               |SI #22#82 = "T"; |C_M #22#83, 1, "S"; |FINSI;
          |FINSI;
     |FINSI;
     |PINPA #0#22; nPanta1 = FSalida;
     |PINPA #1#22; nPanta2 = FSalida;
     |CONTROL_SIMPLE nPanta2, "EVENTOPAN", 0000, 0000, EvtPanC2;
     |PINDA #0#22;
     |PINDA #1#22;
     |SI nModo = 1; |ENDATOS #1#22; |FINSI;
     |SI nModo = 2; |ENDATOS #2#22; |FINSI;
     |SI nModo = 4; |PAUSA; |FINSI;
     |SI FSalida = 0; |Y nModo ! 4;
          |GRABA 020#22a;
          |SALVA_DATOS #22;
          |REPON_DATOS #referec@;
          |HAZ RefresGridC;
          |PULSATECLA;
     |SINO;
          |SI nModo = 1;
               |BORRA 020#22c;
          |FINSI;
     |FINSI;
     |LIBERA #22;

     aAlfa = "|NC"; nCampos = #22aAlfa;
     IaCamMod = aCamMod1<-;
     |PARA i = 0; |SI i < nCampos; |HACIENDO i = i + 1;
          aAlfa = aCamMod;
          |C_M #22i, 1, aAlfa;
          IaCamMod = IaCamMod + 1;
     |SIGUE;

     |HAZ PopVenModal;
|FPRC;

|PROCESO TieneLinT;
     nTieneLineasT = 1;
     |ERROR10;
|FPRC;

|PROCESO TieneLinC;
     nTieneLineasC = 1;
     |ERROR10;
|FPRC;

|DEFBUCLE TieneLinC1;
     #referen@#1001;
     ;
     000001;
     999999;
     ;
     NULL, TieneLinC;
|FIN;

|DEFBUCLE TieneLinC2;
     #referen@#2002;
     ;
     aDCli, 000001;
     aHCli, 999999;
     ;
     NULL, TieneLinC;
|FIN;

|DEFBUCLE TieneLinC3;
     #referen@#3003;
     ;
     aDSitu, aDCli, 000001;
     aHSitu, aHCli, 999999;
     ;
     NULL, TieneLinC;
|FIN;

|DEFBUCLE TieneLinT1;
     #referen@#1001;
     ;
     000001;
     999999;
     ;
     NULL, TieneLinT;
|FIN;

|DEFBUCLE TieneLinT2;
     #referen@#2002;
     ;
     aDCli, 000001;
     aHCli, 999999;
     ;
     NULL, TieneLinT;
|FIN;

|DEFBUCLE TieneLinT3;
     #referen@#3003;
     ;
     aDSitu, aDCli, 000001;
     aHSitu, aHCli, 999999;
     ;
     NULL, TieneLinT;
|FIN;

|PROCESO TieneLineas1;
     nTieneLineasC = 0;
     nTieneLineasT = 0;
     |DDEF aPath;
     aAlfa = aPath + "camcor22";
     |CARGA_DEF aAlfa, referen@;
     |SI FSalida = 0;
          |BUCLE TieneLinC1;
          |DESCARGA_DEF #referen@;
     |FINSI;
     aAlfa = aPath + "camcor30";
     |CARGA_DEF aAlfa, referen@;
     |SI FSalida = 0;
          |BUCLE TieneLinT1;
          |DESCARGA_DEF #referen@;
     |FINSI;
|FPRC;

|PROCESO TieneLineas2;
     nTieneLineasC = 0;
     nTieneLineasT = 0;
     |DDEF aPath;
     aAlfa = aPath + "camcor22";
     |CARGA_DEF aAlfa, referen@;
     |SI FSalida = 0;
          |BUCLE TieneLinC2;
          |DESCARGA_DEF #referen@;
     |FINSI;
     aAlfa = aPath + "camcor30";
     |CARGA_DEF aAlfa, referen@;
     |SI FSalida = 0;
          |BUCLE TieneLinT2;
          |DESCARGA_DEF #referen@;
     |FINSI;
|FPRC;

|PROCESO TieneLineas3;
     nTieneLineasC = 0;
     nTieneLineasT = 0;
     |DDEF aPath;
     aAlfa = aPath + "camcor22";
     |CARGA_DEF aAlfa, referen@;
     |SI FSalida = 0;
          |BUCLE TieneLinC3;
          |DESCARGA_DEF #referen@;
     |FINSI;
     aAlfa = aPath + "camcor30";
     |CARGA_DEF aAlfa, referen@;
     |SI FSalida = 0;
          |BUCLE TieneLinT3;
          |DESCARGA_DEF #referen@;
     |FINSI;
|FPRC;

|PROCESO BtnVerT;
     |LEE 000#referet@.=;
     |SI FSalida = 0;
          nModo = 4; |HAZ EditaT;
     |FINSI;
|FPRC;

|PROCESO BtnNuevoT;
     nModo = 1; |HAZ EditaT;
     |HAZ RefresBtn;
|FPRC;

|PROCESO BtnModiT;
     |LEE 000#referet@.=;
     |SI FSalida = 0;
          |SI #referet@#35 ! 0;
               aAlfa = ("000000" + #referet@#0) % -106;
               aAlfa = "0000Pedido traje:" + aAlfa + " con tiquet generado...";
               |MENAV aAlfa;
          |SINO;
               |SI #referet@#8 = "S";
                    aAlfa = ("000000" + #referet@#0) % -106;
                    aAlfa = "0000NPedido traje:" + aAlfa + " enviado al proveedor. ¨Continuar?";
                    |CONFI aAlfa;
               |FINSI;
               |SI FSalida = 0; |Y #referet@#9 = "S";
                    aAlfa = ("000000" + #referet@#0) % -106;
                    aAlfa = "0000NPedido traje:" + aAlfa + " recibido. ¨Continuar?";
                    |CONFI aAlfa;
               |FINSI;
               |SI FSalida = 0;
                    nModo = 2; |HAZ EditaT;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO BtnBorraT;
     |LEE 101#referet@.=;
     |SI FSalida = 0;
          |SI #referet@#35 ! 0;
               aAlfa = ("000000" + #referet@#0) % -106;
               aAlfa = "0000Pedido traje:" + aAlfa + " con tiquet generado...";
               |MENAV aAlfa;
          |SINO;
               |SI #referet@#8 = "S";
                    aAlfa = ("000000" + #referet@#0) % -106;
                    aAlfa = "0000NPedido traje:" + aAlfa + " enviado al proveedor. ¨Continuar?";
                    |CONFI aAlfa;
               |FINSI;
               |SI FSalida = 0; |Y #referet@#9 = "S";
                    aAlfa = ("000000" + #referet@#0) % -106;
                    aAlfa = "0000NPedido traje:" + aAlfa + " recibido. ¨Continuar?";
                    |CONFI aAlfa;
               |FINSI;
               |SI FSalida = 0;
                    aAlfa = ("000000" + #referet@#0) % -106;
                    aAlfa = "0000N¨Borrar pedido traje: " + aAlfa + "?";
                    |CONFI aAlfa;
                    |SI FSalida = 0;
                         |BORRA 020#referet@.a;
                         |HAZ RefresBtn;
                         |REFRESCACONTROL nGridT;
                    |FINSI;
               |FINSI;
          |FINSI;
          |LIBERA #referet@;
     |FINSI;
|FPRC;

|PROCESO BtnCierraT;
     |LEE 101#referet@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referet@#0) % -106;
          |SI #referet@#35 = 0;
               aAlfa = "0000Pedido traje:" + aAlfa + " sin ticket generado...";
               |MENAV aAlfa;
          |SINO;
               aAlfa = "0000N¨Cambiar situaci¢n pedido traje: " + aAlfa + " a cerrado?";
               |CONFI aAlfa;
               |SI FSalida = 0;
                    #referet@#5 = "C";
                    |GRABA 020#referet@.a;
                    |REFRESCACONTROL nGridT;
               |FINSI;
          |FINSI;
          |LIBERA #referet@;
     |FINSI;
|FPRC;

|PROCESO BtnAnuRecibeT;
     |LEE 101#referet@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referet@#0) % -106;
          |SI #referet@#9 = "N";
               aAlfa = "0000Pedido traje:" + aAlfa + " no esta recibido...";
               |MENAV aAlfa;
          |SINO;
               aAlfa = "0000N¨Marcar pedido traje: " + aAlfa + " como no recibido?";
               |CONFI aAlfa;
               |SI FSalida = 0;
                    #referet@#9 = "N";
                    |GRABA 020#referet@.a;
                    |REFRESCACONTROL nGridT;
               |FINSI;
          |FINSI;
          |LIBERA #referet@;
     |FINSI;
|FPRC;

|PROCESO BtnRecibeT;
     |LEE 101#referet@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referet@#0) % -106;
          |SI #referet@#9 = "S";
               aAlfa = "0000Pedido traje:" + aAlfa + " ya esta recibido...";
               |MENAV aAlfa;
          |SINO;
               aAlfa = "0000N¨Marcar pedido traje: " + aAlfa + " como recibido?";
               |CONFI aAlfa;
               |SI FSalida = 0;
                    #referet@#9 = "S";
                    |CONFI "0000N¨Enviar mail pedido traje al cliente?";
                    |SI FSalida = 0;
                         |HAZ EnviaCliT;
                         |SI nError = 0; #referet@#10 = "M"; |FINSI;
                    |FINSI;
                    |GRABA 020#referet@.a;
                    |REFRESCACONTROL nGridT;
               |FINSI;
          |FINSI;
          |LIBERA #referet@;
     |FINSI;
|FPRC;

|PROCESO BtnImpreT;
     |LEE 000#referet@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referet@#0) % -106;
          aAlfa = "0000N¨Imprimir pedido traje: " + aAlfa + " ?";
          |CONFI aAlfa;
          |SI FSalida = 0;
               |HAZ ImpreT;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO BtnGenT;
     |LEE 000#referet@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referet@#0) % -106;
          |SI #referet@#35 = 0;
               aAlfa = "0000N¨Generar tiquet pedido traje: " + aAlfa + " ?";
               |CONFI aAlfa;
               |SI FSalida = 0;
                    |HAZ GenTiquetT;
                    |REFRESCACONTROL nGridT;
               |FINSI;
          |SINO;
               aAlfa = "0000Pedido traje:" + aAlfa + " con tiquet generado:" + #referet@#34 + "/" + #referet@#35 + " ...";
               |MENAV aAlfa;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO BtnEnvioProT;
     |LEE 101#referet@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referet@#0) % -106;
          |SI #referet@#8 = "S";
               aAlfa = "0000N¨Reenviar pedido traje: " + aAlfa + " al proveedor?";
          |SINO;
               aAlfa = "0000N¨Enviar pedido traje: " + aAlfa + " al proveedor?";
          |FINSI;
          |CONFI aAlfa;
          |SI FSalida = 0;
               |HAZ EnviaProT;
               |SI nError = 0;
                    #referet@#8 = "S";
                    |GRABA 020#referet@.a;
                    |REFRESCACONTROL nGridT;
               |FINSI;
          |FINSI;
          |LIBERA #referet@;
     |FINSI;
|FPRC;

|PROCESO BtnEnvioCliT;
     |LEE 101#referet@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referet@#0) % -106;
          |SI #referet@#10 ! " ";
               aAlfa = "0000N¨Reenviar pedido traje: " + aAlfa + " al cliente?";
          |SINO;
               aAlfa = "0000N¨Enviar pedido traje: " + aAlfa + " al cliente?";
          |FINSI;
          |CONFI aAlfa;
          |SI FSalida = 0;
               |SI #referet@#9 = "N";
                    aAlfa = ("000000" + #referet@#0) % -106;
                    aAlfa = "0000N¨El pedido traje: " + aAlfa + " no se ha recibido. ¨Continuar?";
                    |CONFI aAlfa;
               |FINSI;
          |FINSI;
          |SI FSalida = 0;
               |HAZ EnviaCliT;
               |SI nError = 0;
                    #referet@#10 = "M";
                    |GRABA 020#referet@.a;
                    |REFRESCACONTROL nGridT;
               |FINSI;
          |FINSI;
          |LIBERA #referet@;
     |FINSI;
|FPRC;

|PROCESO BtnDupliT;
     |LEE 000#referet@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referet@#0) % -106;
          aAlfa = "0000N¨Duplicar pedido traje: " + aAlfa + " ?";
          |CONFI aAlfa;
          |SI FSalida = 0;
               |LEE 000#30u;
               nNume = #30#0 + 1;
               |SALVA_DATOS #referet@;
               |REPON_DATOS #30;
               #30#0 = nNume;
               #30#1 = ~;
               #30#4 = ~;
               #30#5 = "A";
               #30#8 = "N";
               #30#9 = "N";
               #30#10 = "N";
               #30#30 = 0;     ||entrega
               #30#34 = "";    ||sesion
               #30#35 = 0;     ||tiquet
               #30#31 = "E";   ||fpago
               #30#32 = 0;     ||tarjeta
               |HAZ PreciosT;
               |HAZ TotalT;
               |GRABA 020#30b;

               #referet@#0 = #30#0;
               nModo = 2; |HAZ EditaT;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO BtnSeleT;
     |LEE 000#referet@.=;
     |SI FSalida = 0;
          |SALVA_DATOS #referet@;
          |SI #referet@#5 = "A";
               nSwBtn = 1; |HAZ Refresca;
          |SINO;
               nSwBtn = 2; |HAZ Refresca;
          |FINSI;
          |REPON_DATOS #referet@;
          |PULSATECLA;
          |HAZ RefresGridT;
     |FINSI;
|FPRC;

|PROCESO BtnVerC;
     |LEE 000#referec@.=;
     |SI FSalida = 0;
          nModo = 4; |HAZ EditaC;
     |FINSI;
|FPRC;

|PROCESO BtnNuevoC;
     nModo = 1; |HAZ EditaC;
     |HAZ RefresBtn;
|FPRC;

|PROCESO BtnModiC;
     |LEE 000#referec@.=;
     |SI FSalida = 0;
          |SI #referec@#87 ! 0;
               aAlfa = ("000000" + #referec@#0) % -106;
               aAlfa = "0000Pedido camisa:" + aAlfa + " con tiquet generado...";
               |MENAV aAlfa;
          |SINO;
               |SI #referec@#8 = "S";
                    aAlfa = ("000000" + #referec@#0) % -106;
                    aAlfa = "0000NPedido camisa:" + aAlfa + " enviado al proveedor. ¨Continuar?";
                    |CONFI aAlfa;
               |FINSI;
               |SI FSalida = 0; |Y #referec@#9 = "S";
                    aAlfa = ("000000" + #referec@#0) % -106;
                    aAlfa = "0000NPedido camisa:" + aAlfa + " recibido. ¨Continuar?";
                    |CONFI aAlfa;
               |FINSI;
               |SI FSalida = 0;
                    nModo = 2; |HAZ EditaC;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO BtnBorraC;
     |LEE 101#referec@.=;
     |SI FSalida = 0;
          |SI #referec@#87 ! 0;
               aAlfa = ("000000" + #referec@#0) % -106;
               aAlfa = "0000Pedido camisa:" + aAlfa + " con tiquet generado...";
               |MENAV aAlfa;
          |SINO;
               |SI #referec@#8 = "S";
                    aAlfa = ("000000" + #referec@#0) % -106;
                    aAlfa = "0000NPedido camisa:" + aAlfa + " enviado al proveedor. ¨Continuar?";
                    |CONFI aAlfa;
               |FINSI;
               |SI FSalida = 0; |Y #referec@#9 = "S";
                    aAlfa = ("000000" + #referec@#0) % -106;
                    aAlfa = "0000NPedido camisa:" + aAlfa + " recibido. ¨Continuar?";
                    |CONFI aAlfa;
               |FINSI;
               |SI FSalida = 0;
                    aAlfa = ("000000" + #referec@#0) % -106;
                    aAlfa = "0000N¨Borrar pedido camisa: " + aAlfa + "?";
                    |CONFI aAlfa;
                    |SI FSalida = 0;
                         |BORRA 020#referec@.a;
                         |HAZ RefresBtn;
                         |REFRESCACONTROL nGridC;
                    |FINSI;
               |FINSI;
          |FINSI;
          |LIBERA #referec@;
     |FINSI;
|FPRC;

|PROCESO BtnCierraC;
     |LEE 101#referec@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referec@#0) % -106;
          |SI #referec@#87 = 0;
               aAlfa = "0000Pedido camisa:" + aAlfa + " sin ticket generado...";
               |MENAV aAlfa;
          |SINO;
               aAlfa = "0000N¨Cambiar situaci¢n pedido camisa: " + aAlfa + " a cerrado?";
               |CONFI aAlfa;
               |SI FSalida = 0;
                    #referec@#5 = "C";
                    |GRABA 020#referec@.a;
                    |REFRESCACONTROL nGridC;
               |FINSI;
          |FINSI;
          |LIBERA #referec@;
     |FINSI;
|FPRC;

|PROCESO BtnAnuRecibeC;
     |LEE 101#referec@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referec@#0) % -106;
          |SI #referec@#9 = "N";
               aAlfa = "0000Pedido camisa:" + aAlfa + " no esta recibido...";
               |MENAV aAlfa;
          |SINO;
               aAlfa = "0000N¨Marcar pedido camisa: " + aAlfa + " como no recibido?";
               |CONFI aAlfa;
               |SI FSalida = 0;
                    #referec@#9 = "N";
                    |GRABA 020#referec@.a;
                    |REFRESCACONTROL nGridC;
               |FINSI;
          |FINSI;
          |LIBERA #referec@;
     |FINSI;
|FPRC;

|PROCESO BtnRecibeC;
     |LEE 101#referec@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referec@#0) % -106;
          |SI #referec@#9 = "S";
               aAlfa = "0000Pedido camisa:" + aAlfa + " ya esta recibido...";
               |MENAV aAlfa;
          |SINO;
               aAlfa = "0000N¨Marcar pedido camisa: " + aAlfa + " como recibido?";
               |CONFI aAlfa;
               |SI FSalida = 0;
                    #referec@#9 = "S";
                    |CONFI "0000N¨Enviar mail pedido camisa al cliente?";
                    |SI FSalida = 0;
                         |HAZ EnviaCliC;
                         |SI nError = 0; #referec@#10 = "M"; |FINSI;
                    |FINSI;
                    |GRABA 020#referec@.a;
                    |REFRESCACONTROL nGridC;
               |FINSI;
          |FINSI;
          |LIBERA #referec@;
     |FINSI;
|FPRC;

|PROCESO BtnImpreC;
     |LEE 000#referec@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referec@#0) % -106;
          aAlfa = "0000N¨Imprimir pedido camisa: " + aAlfa + " ?";
          |CONFI aAlfa;
          |SI FSalida = 0;
               |HAZ ImpreC;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO BtnGenC;
     |LEE 000#referec@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referec@#0) % -106;
          |SI #referec@#87 = 0;
               aAlfa = "0000N¨Generar tiquet pedido camisa: " + aAlfa + " ?";
               |CONFI aAlfa;
               |SI FSalida = 0;
                    |HAZ GenTiquetC;
                    |REFRESCACONTROL nGridC;
               |FINSI;
          |SINO;
               aAlfa = "0000Pedido camisa:" + aAlfa + " con tiquet generado:" + #referec@#86 + "/" + #referec@#87 + " ...";
               |MENAV aAlfa;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO BtnEnvioC;
     |LEE 101#referec@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referec@#0) % -106;
          |SI #referec@#8 = "S";
               aAlfa = "0000N¨Reenviar pedido camisa: " + aAlfa + " al proveedor?";
          |SINO;
               aAlfa = "0000N¨Enviar pedido camisa: " + aAlfa + " al proveedor?";
          |FINSI;
          |CONFI aAlfa;
          |SI FSalida = 0;
               |HAZ EnviaProC;
               |SI nError = 0;
                    #referec@#8 = "S";
                    |GRABA 020#referec@.a;
                    |REFRESCACONTROL nGridC;
               |FINSI;
          |FINSI;
          |LIBERA #referec@;
     |FINSI;
|FPRC;

|PROCESO BtnEnvioCliC;
     |LEE 101#referec@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referec@#0) % -106;
          |SI #referec@#10 ! " ";
               aAlfa = "0000N¨Reenviar pedido camisa: " + aAlfa + " al cliente?";
          |SINO;
               aAlfa = "0000N¨Enviar pedido camisa: " + aAlfa + " al cliente?";
          |FINSI;
          |CONFI aAlfa;
          |SI #referec@#9 = "N";
               aAlfa = ("000000" + #referec@#0) % -106;
               aAlfa = "0000N¨El pedido camisa: " + aAlfa + " no se ha recibido. ¨Continuar?";
               |CONFI aAlfa;
          |FINSI;
          |SI FSalida = 0;
               |HAZ EnviaCliC;
               |SI nError = 0;
                    #referec@#10 = "M";
                    |GRABA 020#referec@.a;
                    |REFRESCACONTROL nGridC;
               |FINSI;
          |FINSI;
          |LIBERA #referec@;
     |FINSI;
|FPRC;

|PROCESO BtnDupliC;
     |LEE 000#referec@.=;
     |SI FSalida = 0;
          aAlfa = ("000000" + #referec@#0) % -106;
          aAlfa = "0000N¨Duplicar pedido camisa: " + aAlfa + " ?";
          |CONFI aAlfa;
          |SI FSalida = 0;
               |LEE 000#22u;
               nNume = #22#0 + 1;
               |SALVA_DATOS #referec@;
               |REPON_DATOS #22;
               #22#0 = nNume;
               #22#5 = "A";
               #22#8 = "N";
               #22#9 = "N";
               #22#10 = "N";
               #22#81 = 0;     ||entrega
               #22#86 = "";    ||sesion
               #22#87 = 0;     ||tiquet
               #22#82 = "E";   ||fpago
               #22#83 = 0;     ||tarjeta
               |HAZ PreciosC;
               |HAZ TotalC;
               |GRABA 020#22b;

               #referec@#0 = #22#0;
               nModo = 2; |HAZ EditaC;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO BtnSeleC;
     |LEE 000#referec@.=;
     |SI FSalida = 0;
          |SALVA_DATOS #referec@;
          |SI #referec@#5 = "A";
               nSwBtn = 1; |HAZ Refresca;
          |SINO;
               nSwBtn = 2; |HAZ Refresca;
          |FINSI;
          |REPON_DATOS #referec@;
          |PULSATECLA;
          |HAZ RefresGridC;
     |FINSI;
|FPRC;

|PROCESO RefresGridT;
     |SI nClave = 1; |SELECT #1#referet@; |FINSI;
     |SI nClave = 2; |SELECT #2#referet@; |FINSI;
     |SI nClave = 3; |SELECT #3#referet@; |FINSI;
     |LEE 000#referet@.=
     |REFRESCACONTROL nGridT;
|FPRC;

|PROCESO RefresGridC;
     |SI nClave = 1; |SELECT #1#referec@; |FINSI;
     |SI nClave = 2; |SELECT #2#referec@; |FINSI;
     |SI nClave = 3; |SELECT #3#referec@; |FINSI;
     |LEE 000#referec@.=
     |REFRESCACONTROL nGridC;
|FPRC;

|PROCESO RefresBtn;
     |SI nClave = 1; |HAZ TieneLineas1; |FINSI;
     |SI nClave = 2; |HAZ TieneLineas2; |FINSI;
     |SI nClave = 3; |HAZ TieneLineas3; |FINSI;

     |SI nSwBtn = 0;
          aDSitu = " "; aHSitu = " ";
          |ESTADO_CONTROL nBtnAbierto, "DISABLE";
          |ESTADO_CONTROL nBtnCerrado, "DISABLE";
          |ESTADO_CONTROL nBtnTodos, "DISABLE";
          |ESTADO_CONTROL nBtnGenTicket, "DISABLE";

          |ESTADO_CONTROL nBtnVerC, "HIDE";
          |ESTADO_CONTROL nBtnNuevoC, "HIDE";
          |ESTADO_CONTROL nBtnModiC, "HIDE";
          |ESTADO_CONTROL nBtnBorraC, "HIDE";
          |ESTADO_CONTROL nBtnCierraC, "HIDE";
          |ESTADO_CONTROL nBtnRecibeC, "HIDE";
          |ESTADO_CONTROL nBtnAnuRecibeC, "HIDE";
          |ESTADO_CONTROL nBtnImpreC, "HIDE";
          |ESTADO_CONTROL nBtnDupliC1, "HIDE";
          |ESTADO_CONTROL nBtnGenC, "HIDE";
          |ESTADO_CONTROL nBtnEnvioC, "HIDE";
          |ESTADO_CONTROL nBtnEnvioCliC, "HIDE";
          |ESTADO_CONTROL nBtnDupliC, "HIDE";
          |ESTADO_CONTROL nBtnSeleC, "HIDE";

          |ESTADO_CONTROL nBtnVerT, "HIDE";
          |ESTADO_CONTROL nBtnNuevoT, "HIDE";
          |ESTADO_CONTROL nBtnModiT, "HIDE";
          |ESTADO_CONTROL nBtnBorraT, "HIDE";
          |ESTADO_CONTROL nBtnCierraT, "HIDE";
          |ESTADO_CONTROL nBtnRecibeT, "HIDE";
          |ESTADO_CONTROL nBtnAnuRecibeT, "HIDE";
          |ESTADO_CONTROL nBtnImpreT, "HIDE";
          |ESTADO_CONTROL nBtnDupliT1, "HIDE";
          |ESTADO_CONTROL nBtnGenT, "HIDE";
          |ESTADO_CONTROL nBtnEnvioProT, "HIDE";
          |ESTADO_CONTROL nBtnEnvioCliT, "HIDE";
          |ESTADO_CONTROL nBtnDupliT, "HIDE";
          |ESTADO_CONTROL nBtnSeleT, "HIDE";
     |FINSI;
     |SI nSwBtn = 1;
          aDSitu = "A"; aHSitu = "A";
          |ESTADO_CONTROL nBtnAbierto, "DISABLE";
          |ESTADO_CONTROL nBtnCerrado, "ENABLE";
          |ESTADO_CONTROL nBtnTodos, "ENABLE";
          |ESTADO_CONTROL nBtnGenTicket, "ENABLE";

          |ESTADO_CONTROL nBtnVerC, "SHOW";
          |ESTADO_CONTROL nBtnNuevoC, "SHOW";
          |ESTADO_CONTROL nBtnModiC, "SHOW";
          |ESTADO_CONTROL nBtnBorraC, "SHOW";
          |ESTADO_CONTROL nBtnCierraC, "SHOW";
          |ESTADO_CONTROL nBtnRecibeC, "SHOW";
          |ESTADO_CONTROL nBtnAnuRecibeC, "SHOW";
          |ESTADO_CONTROL nBtnImpreC, "SHOW";
          |ESTADO_CONTROL nBtnDupliC1, "SHOW";
          |ESTADO_CONTROL nBtnGenC, "SHOW";
          |ESTADO_CONTROL nBtnEnvioC, "SHOW";
          |ESTADO_CONTROL nBtnEnvioCliC, "SHOW";
          |ESTADO_CONTROL nBtnDupliC, "HIDE";
          |ESTADO_CONTROL nBtnSeleC, "HIDE";
          |SI nTieneLineasC = 0;
               |ESTADO_CONTROL nBtnVerC, "DISABLE";
               |ESTADO_CONTROL nBtnModiC, "DISABLE";
               |ESTADO_CONTROL nBtnBorraC, "DISABLE";
               |ESTADO_CONTROL nBtnCierraC, "DISABLE";
               |ESTADO_CONTROL nBtnRecibeC, "DISABLE";
               |ESTADO_CONTROL nBtnAnuRecibeC, "DISABLE";
               |ESTADO_CONTROL nBtnImpreC, "DISABLE";
               |ESTADO_CONTROL nBtnDupliC1, "DISABLE";
               |ESTADO_CONTROL nBtnGenC, "DISABLE";
               |ESTADO_CONTROL nBtnEnvioC, "DISABLE";
               |ESTADO_CONTROL nBtnEnvioCliC, "DISABLE";
          |SINO;
               |ESTADO_CONTROL nBtnVerC, "ENABLE";
               |ESTADO_CONTROL nBtnModiC, "ENABLE";
               |ESTADO_CONTROL nBtnBorraC, "ENABLE";
               |ESTADO_CONTROL nBtnCierraC, "ENABLE";
               |ESTADO_CONTROL nBtnRecibeC, "ENABLE";
               |ESTADO_CONTROL nBtnAnuRecibeC, "ENABLE";
               |ESTADO_CONTROL nBtnImpreC, "ENABLE";
               |ESTADO_CONTROL nBtnDupliC1, "ENABLE";
               |ESTADO_CONTROL nBtnGenC, "ENABLE";
               |ESTADO_CONTROL nBtnEnvioC, "ENABLE";
               |ESTADO_CONTROL nBtnEnvioCliC, "ENABLE";
          |FINSI;

          |ESTADO_CONTROL nBtnVerT, "SHOW";
          |ESTADO_CONTROL nBtnNuevoT, "SHOW";
          |ESTADO_CONTROL nBtnModiT, "SHOW";
          |ESTADO_CONTROL nBtnBorraT, "SHOW";
          |ESTADO_CONTROL nBtnCierraT, "SHOW";
          |ESTADO_CONTROL nBtnRecibeT, "SHOW";
          |ESTADO_CONTROL nBtnAnuRecibeT, "SHOW";
          |ESTADO_CONTROL nBtnImpreT, "SHOW";
          |ESTADO_CONTROL nBtnDupliT1, "SHOW";
          |ESTADO_CONTROL nBtnGenT, "SHOW";
          |ESTADO_CONTROL nBtnEnvioProT, "SHOW";
          |ESTADO_CONTROL nBtnEnvioCliT, "SHOW";
          |ESTADO_CONTROL nBtnDupliT, "HIDE";
          |ESTADO_CONTROL nBtnSeleT, "HIDE";
          |SI nTieneLineasT = 0;
               |ESTADO_CONTROL nBtnVerT, "DISABLE";
               |ESTADO_CONTROL nBtnModiT, "DISABLE";
               |ESTADO_CONTROL nBtnBorraT, "DISABLE";
               |ESTADO_CONTROL nBtnCierraT, "DISABLE";
               |ESTADO_CONTROL nBtnRecibeT, "DISABLE";
               |ESTADO_CONTROL nBtnAnuRecibeT, "DISABLE";
               |ESTADO_CONTROL nBtnImpreT, "DISABLE";
               |ESTADO_CONTROL nBtnDupliT1, "DISABLE";
               |ESTADO_CONTROL nBtnGenT, "DISABLE";
               |ESTADO_CONTROL nBtnEnvioProT, "DISABLE";
               |ESTADO_CONTROL nBtnEnvioCliT, "DISABLE";
          |SINO;
               |ESTADO_CONTROL nBtnVerT, "ENABLE";
               |ESTADO_CONTROL nBtnModiT, "ENABLE";
               |ESTADO_CONTROL nBtnBorraT, "ENABLE";
               |ESTADO_CONTROL nBtnCierraT, "ENABLE";
               |ESTADO_CONTROL nBtnRecibeT, "ENABLE";
               |ESTADO_CONTROL nBtnAnuRecibeT, "ENABLE";
               |ESTADO_CONTROL nBtnImpreT, "ENABLE";
               |ESTADO_CONTROL nBtnDupliT1, "ENABLE";
               |ESTADO_CONTROL nBtnGenT, "ENABLE";
               |ESTADO_CONTROL nBtnEnvioProT, "ENABLE";
               |ESTADO_CONTROL nBtnEnvioCliT, "ENABLE";
          |FINSI;
     |FINSI;
     |SI nSwBtn = 2;
          aDSitu = "C"; aHSitu = "C";
          |ESTADO_CONTROL nBtnAbierto, "ENABLE";
          |ESTADO_CONTROL nBtnCerrado, "DISABLE";
          |ESTADO_CONTROL nBtnTodos, "ENABLE";
          |ESTADO_CONTROL nBtnGenTicket, "ENABLE";

          |ESTADO_CONTROL nBtnVerC, "SHOW";
          |ESTADO_CONTROL nBtnNuevoC, "HIDE";
          |ESTADO_CONTROL nBtnModiC, "HIDE";
          |ESTADO_CONTROL nBtnBorraC, "HIDE";
          |ESTADO_CONTROL nBtnCierraC, "HIDE";
          |ESTADO_CONTROL nBtnRecibeC, "HIDE";
          |ESTADO_CONTROL nBtnAnuRecibeC, "HIDE";
          |ESTADO_CONTROL nBtnImpreC, "HIDE";
          |ESTADO_CONTROL nBtnDupliC1, "HIDE";
          |ESTADO_CONTROL nBtnGenC, "HIDE";
          |ESTADO_CONTROL nBtnEnvioC, "HIDE";
          |ESTADO_CONTROL nBtnEnvioCliC, "HIDE";
          |ESTADO_CONTROL nBtnDupliC, "SHOW";
          |ESTADO_CONTROL nBtnSeleC, "HIDE";
          |SI nTieneLineasC = 0;
               |ESTADO_CONTROL nBtnVerC, "DISABLE";
               |ESTADO_CONTROL nBtnDupliC, "DISABLE";
          |SINO;
               |ESTADO_CONTROL nBtnVerC, "ENABLE";
               |ESTADO_CONTROL nBtnDupliC, "ENABLE";
          |FINSI;

          |ESTADO_CONTROL nBtnVerT, "SHOW";
          |ESTADO_CONTROL nBtnNuevoT, "HIDE";
          |ESTADO_CONTROL nBtnModiT, "HIDE";
          |ESTADO_CONTROL nBtnBorraT, "HIDE";
          |ESTADO_CONTROL nBtnCierraT, "HIDE";
          |ESTADO_CONTROL nBtnRecibeT, "HIDE";
          |ESTADO_CONTROL nBtnAnuRecibeT, "HIDE";
          |ESTADO_CONTROL nBtnImpreT, "HIDE";
          |ESTADO_CONTROL nBtnDupliT1, "HIDE";
          |ESTADO_CONTROL nBtnGenT, "HIDE";
          |ESTADO_CONTROL nBtnEnvioProT, "HIDE";
          |ESTADO_CONTROL nBtnEnvioCliT, "HIDE";
          |ESTADO_CONTROL nBtnDupliT, "SHOW";
          |ESTADO_CONTROL nBtnSeleT, "HIDE";
          |SI nTieneLineasT = 0;
               |ESTADO_CONTROL nBtnVerT, "DISABLE";
               |ESTADO_CONTROL nBtnDupliT, "DISABLE";
          |SINO;
               |ESTADO_CONTROL nBtnVerT, "ENABLE";
               |ESTADO_CONTROL nBtnDupliT, "ENABLE";
          |FINSI;
     |FINSI;
     |SI nSwBtn = 3;
          aDSitu = " "; aHSitu = "z";
          |ESTADO_CONTROL nBtnAbierto, "ENABLE";
          |ESTADO_CONTROL nBtnCerrado, "ENABLE";
          |ESTADO_CONTROL nBtnTodos, "DISABLE";
          |ESTADO_CONTROL nBtnGenTicket, "ENABLE";

          |ESTADO_CONTROL nBtnVerC, "HIDE";
          |ESTADO_CONTROL nBtnNuevoC, "HIDE";
          |ESTADO_CONTROL nBtnModiC, "HIDE";
          |ESTADO_CONTROL nBtnBorraC, "HIDE";
          |ESTADO_CONTROL nBtnCierraC, "HIDE";
          |ESTADO_CONTROL nBtnRecibeC, "HIDE";
          |ESTADO_CONTROL nBtnAnuRecibeC, "HIDE";
          |ESTADO_CONTROL nBtnImpreC, "HIDE";
          |ESTADO_CONTROL nBtnDupliC1, "HIDE";
          |ESTADO_CONTROL nBtnGenC, "HIDE";
          |ESTADO_CONTROL nBtnEnvioC, "HIDE";
          |ESTADO_CONTROL nBtnEnvioCliC, "HIDE";
          |ESTADO_CONTROL nBtnDupliC, "HIDE";
          |ESTADO_CONTROL nBtnSeleC, "SHOW";
          |SI nTieneLineasC = 0;
               |ESTADO_CONTROL nBtnSeleC, "DISABLE";
          |SINO;
               |ESTADO_CONTROL nBtnSeleC, "ENABLE";
          |FINSI;

          |ESTADO_CONTROL nBtnVerT, "HIDE";
          |ESTADO_CONTROL nBtnNuevoT, "HIDE";
          |ESTADO_CONTROL nBtnModiT, "HIDE";
          |ESTADO_CONTROL nBtnBorraT, "HIDE";
          |ESTADO_CONTROL nBtnCierraT, "HIDE";
          |ESTADO_CONTROL nBtnRecibeT, "HIDE";
          |ESTADO_CONTROL nBtnAnuRecibeT, "HIDE";
          |ESTADO_CONTROL nBtnImpreT, "HIDE";
          |ESTADO_CONTROL nBtnDupliT1, "HIDE";
          |ESTADO_CONTROL nBtnGenT, "HIDE";
          |ESTADO_CONTROL nBtnEnvioProT, "HIDE";
          |ESTADO_CONTROL nBtnEnvioCliT, "HIDE";
          |ESTADO_CONTROL nBtnDupliT, "HIDE";
          |ESTADO_CONTROL nBtnSeleT, "SHOW";
          |SI nTieneLineasT = 0;
               |ESTADO_CONTROL nBtnSeleT, "DISABLE";
          |SINO;
               |ESTADO_CONTROL nBtnSeleT, "ENABLE";
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO Refresca;
     |REFERENCIA_DEF aGet1, #0;
     aGet2  = 0;    || numero de campo
     IaGet = aGet1<-;
     |ESPECIFICA "GETDATACONTROL", aGet;
     aAlfa = FSalida; |QBT aAlfa;
     aAlfa = ("000000" + aAlfa) % -106;
     #0#0 = aAlfa; |PINTA #0#0;

     |ABRE #124;
     #124#0 = #0#0;
     |LEE 000#124=;
     |SI #0#0 = "000000";
          #0#1 = "<Todos los clientes>";
          aDCli = "      ";
          aHCli = "zzzzzz";
     |SINO;
          |SI FSalida = 0;
               #0#1 = #124#1;
          |SINO;
               #0#1 = "<Cliente inexistente>";
          |FINSI;
          aDCli = #0#0;
          aHCli = #0#0;
     |FINSI;
     |CIERRA #124;
     |PINTA #0#1;

     |SI nSwBtn = 0; aDSitu = " "; aHSitu = " "; |FINSI;
     |SI nSwBtn = 1; aDSitu = "A"; aHSitu = "A"; |FINSI;
     |SI nSwBtn = 2; aDSitu = "C"; aHSitu = "C"; |FINSI;
     |SI nSwBtn = 3; aDSitu = " "; aHSitu = "z"; |FINSI;

     |SI nGridC ! -1; |DESTRUYECONTROL nGridC; |FINSI;
     |SI nGridT ! -1; |DESTRUYECONTROL nGridT; |FINSI;

     nRango = 4 + 8 + 16 + 32;
     |SI #0#0 = "000000";
          |SI nSwBtn = 3;
               nClave = 1;
               |LINEAL_SIMPLE #1#referec@, nRango, 1003, 1799, MinC, MaxC, EvtC;
               nGridC = FSalida;
               |LINEAL_SIMPLE #1#referet@, nRango, 2003, 2799, MinT, MaxT, EvtT;
               nGridT = FSalida;
          |SINO;
               nClave = 3;
               |LINEAL_SIMPLE #3#referec@, nRango, 1003, 1799, MinC, MaxC, EvtC;
               nGridC = FSalida;
               |LINEAL_SIMPLE #3#referet@, nRango, 2003, 2799, MinT, MaxT, EvtT;
               nGridT = FSalida;
               |HAZ TieneLineas3;
          |FINSI;
     |SINO;
          |SI nSwBtn = 3;
               nClave = 2;
               |LINEAL_SIMPLE #2#referec@, nRango, 1003, 1799, MinC, MaxC, EvtC;
               nGridC = FSalida;
               |LINEAL_SIMPLE #2#referet@, nRango, 2003, 2799, MinT, MaxT, EvtT;
               nGridT = FSalida;
               |HAZ TieneLineas2;
          |SINO;
               nClave = 3;
               |LINEAL_SIMPLE #3#referec@, nRango, 1003, 1799, MinC, MaxC, EvtC;
               nGridC = FSalida;
               |LINEAL_SIMPLE #3#referet@, nRango, 2003, 2799, MinT, MaxT, EvtT;
               nGridT = FSalida;
               |HAZ TieneLineas3;
          |FINSI;
     |FINSI;
     |HAZ RefresBtn;
|FPRC;

|PROCESO EvtC;
     |SI FSalida = 1; |O FSalida = 2;
          |SI nClave = 1; |SELECT #1#referec@; |FINSI;
          |SI nClave = 2; |SELECT #2#referec@; |FINSI;
          |SI nClave = 3; |SELECT #3#referec@; |FINSI;
          |LEE 000#referec@.=;
          |SI nSwBtn = 1;
               |SI #referec@#9 = "S";
                    |ESTADO_CONTROL nBtnRecibeC, "HIDE";
                    |ESTADO_CONTROL nBtnAnuRecibeC, "SHOW";
               |SINO;
                    |ESTADO_CONTROL nBtnRecibeC, "SHOW";
                    |ESTADO_CONTROL nBtnAnuRecibeC, "HIDE";
               |FINSI;
          |FINSI;
     |FINSI;
     |SI FSalida = 4; |Y nTieneLineasC ! 0;
          |SI nSwBtn = 1; |O nSwBtn = 2;
               |HAZ BtnVerC;
          |SINO;
               nSwSeleC = #referec@#0;
               |PTEC 806;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO EvtT;
     |SI FSalida = 1; |O FSalida = 2;
          |SI nClave = 1; |SELECT #1#referet@; |FINSI;
          |SI nClave = 2; |SELECT #2#referet@; |FINSI;
          |SI nClave = 3; |SELECT #3#referet@; |FINSI;
          |LEE 000#referet@.=;
          |SI nSwBtn = 1;
               |SI #referet@#9 = "S";
                    |ESTADO_CONTROL nBtnRecibeT, "HIDE";
                    |ESTADO_CONTROL nBtnAnuRecibeT, "SHOW";
               |SINO;
                    |ESTADO_CONTROL nBtnRecibeT, "SHOW";
                    |ESTADO_CONTROL nBtnAnuRecibeT, "HIDE";
               |FINSI;
          |FINSI;
     |FINSI;
     |SI FSalida = 4; |Y nTieneLineasT ! 0;
          |SI nSwBtn = 1; |O nSwBtn = 2;
               |HAZ BtnVerT;
          |SINO;
               nSwSeleT = #referet@#0;
               |PTEC 806;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO MinC;
     #referec@#0 = 000001;
     #referec@#2 = aDCli;
     #referec@#5 = aDSitu;
|FPRC;

|PROCESO MaxC;
     #referec@#0 = 999999;
     #referec@#2 = aHCli;
     #referec@#5 = aHSitu;
|FPRC;

|PROCESO MinT;
     #referet@#0 = 000001;
     #referet@#2 = aDCli;
     #referet@#5 = aDSitu;
|FPRC;

|PROCESO MaxT;
     #referet@#0 = 999999;
     #referet@#2 = aHCli;
     #referet@#5 = aHSitu;
|FPRC;

|PROCESO BtnAbierto;
     nSwBtn = 1;
     |HAZ Refresca;
|FPRC;

|PROCESO BtnCerrado;
     nSwBtn = 2;
     |HAZ Refresca;
|FPRC;

|PROCESO BtnTodos;
     nSwBtn = 3;
     |HAZ Refresca;
|FPRC;

|PROCESO BtnSalir;
     |PTEC 807;
|FPRC;

|PROCESO BtnActua;
     FSalida = 0;
     |HAZ T12;
|FPRC;

|PROCESO T0; |TIPO 0;
     |SI FSalida = 0;
          |PTEC 806;
     |FINSI;
|FPRC;

|PROCESO T12; |TIPO 12;
     |SI nSwBtn = 0; nSwBtn = 1; |FINSI;
     |SI FSalida ! 7; |HAZ Refresca; |FINSI;
     |SI nSwSeleC ! 0;
          #referec@#0 = nSwSeleC;
          |HAZ BtnSeleC;
          nSwSeleC = 0;
     |FINSI;
     |SI nSwSeleT ! 0;
          #referet@#0 = nSwSeleT;
          |HAZ BtnSeleT;
          nSwSeleT = 0;
     |FINSI;
|FPRC;

|PROCESO T80; |TIPO 80;
     FSalida = 3099;
|FPRC;

|PROGRAMA;
     |ABRE #17; |LEE 000#17p; |CIERRA #17;

     |DDEF aPath;
     aAlfa = aPath + "camcor22"; |CARGA_DEF aAlfa, referec@;
     aAlfa = aPath + "camcor30"; |CARGA_DEF aAlfa, referet@;
     |ABRET #referec@;
     |ABRET #referet@;
     |ABRET #22;
     |ABRET #30;

     |PINPA #0#0; nPanta = FSalida;
     |PINDA #0#0;

     |CONTROL_SIMPLE nPanta, "BOTON,{{137}}Actualizar", 722, 734, BtnActua;
     nBtnActua = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{197}}Abiertos", 822, 834, BtnAbierto;
     nBtnAbierto = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{197}}Cerrados", 836, 848, BtnCerrado;
     nBtnCerrado = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{197}}Todos", 850, 862, BtnTodos;
     nBtnTodos = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{197}}Generar Ticket Global", 880, 899, BtnGenTicket;
     nBtnGenTicket = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{001}}Salir", 2989, 2999, BtnSalir;
     nBtnSalir = FSalida;

     |CONTROL_SIMPLE nPanta, "BOTON,{{155}}Ver", 1802, 1812, BtnVerC;
     nBtnVerC = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{193}}Nuevo", 1813, 1823, BtnNuevoC;
     nBtnNuevoC = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{197}}Modificar", 1824, 1834, BtnModiC;
     nBtnModiC = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{199}}Borrar", 1835, 1845, BtnBorraC;
     nBtnBorraC = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{137}}Cerrar", 1846, 1856, BtnCierraC;
     nBtnCierraC = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{137}}Recibir", 1857, 1867, BtnRecibeC;
     nBtnRecibeC = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{137}}Anular Rec.", 1857, 1867, BtnAnuRecibeC;
     nBtnAnuRecibeC = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{205}}Imprimir", 1868, 1878, BtnImpreC;
     nBtnImpreC = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{156}}Duplicar", 1879, 1889, BtnDupliC;
     nBtnDupliC1 = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{137}}Generar Ticket", 1902, 1917, BtnGenC;
     nBtnGenC = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{157}}Env¡o Proveedor", 1918, 1933, BtnEnvioC;
     nBtnEnvioC = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{157}}Env¡o Cliente", 1934, 1949, BtnEnvioCliC;
     nBtnEnvioCliC = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{156}}Duplicar", 1813, 1823, BtnDupliC;
     nBtnDupliC = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{197}}Seleccionar", 1802, 1815, BtnSeleC;
     nBtnSeleC = FSalida;

     |CONTROL_SIMPLE nPanta, "BOTON,{{155}}Ver", 2802, 2812, BtnVerT;
     nBtnVerT = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{193}}Nuevo", 2813, 2823, BtnNuevoT;
     nBtnNuevoT = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{197}}Modificar", 2824, 2834, BtnModiT;
     nBtnModiT = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{199}}Borrar", 2835, 2845, BtnBorraT;
     nBtnBorraT = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{137}}Cerrar", 2846, 2856, BtnCierraT;
     nBtnCierraT = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{137}}Recibir", 2857, 2867, BtnRecibeT;
     nBtnRecibeT = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{137}}Anular Rec.", 2857, 2867, BtnAnuRecibeT;
     nBtnAnuRecibeT = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{205}}Imprimir", 2868, 2878, BtnImpreT;
     nBtnImpreT = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{156}}Duplicar", 2879, 2889, BtnDupliT;
     nBtnDupliT1 = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{137}}Generar Ticket", 2902, 2917, BtnGenT;
     nBtnGenT = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{157}}Env¡o Proveedor", 2918, 2933, BtnEnvioProT;
     nBtnEnvioProT = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{157}}Env¡o Cliente", 2934, 2949, BtnEnvioCliT;
     nBtnEnvioCliT = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{156}}Duplicar", 2813, 2823, BtnDupliT;
     nBtnDupliT = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,{{197}}Seleccionar", 2802, 2815, BtnSeleT;
     nBtnSeleT = FSalida;

     |HAZ Refresca;
     |PARA; |SI; |HACIENDO;
          FSalida = "::ENDATOS::SINBOTONES::";
          |ENDATOS #1#0;
          |SI FSalida ! 0; |SAL; |FINSI;
     |SIGUE;

     |PULSATECLA;
     |CIERRAT #referec@;
     |CIERRAT #referet@;
     |CIERRAT #22;
     |CIERRAT #30;
     |DESCARGA_DEF #referet@;
     |DESCARGA_DEF #referec@;
     |PULSATECLA;
|FPRO;
