|FICHEROS;
     malpe713 #713;
     agifa025 #25;
|FIN;

|VARIABLES;
     nPanta = 0;
     nGrid = 0;

     nRango = 0;
     nPos1 = 0;
     nPos2 = 0;
     &enLinea = 0;

     aEsc1           = "";
     aEsc2           = "";
     aRetu           = "";
     aTecla          = "";
|FIN;

|PROCESO Infm713;
     #713#0 = enLinea;
     #713#1 = "";
|FPRC;

|PROCESO Supm713;
     #713#0 = enLinea;
     #713#1 = "zz";
|FPRC;

|PROCESO Eventom713;
     |SI FSalida = 4;
          #713#0 = enLinea;
          #713#1 = #713#1;
          |LEE 000#713=;
          |SI FSalida = 0;
               |SI #713#3 = "*"
                    #713#3 = "";
               |SINO;
                    #713#3 = "*";
               |FINSI;
               |GRABA 020#713a;
          |FINSI;
          |REFRESCACONTROL nGrid;
     |FINSI;
|FPRC;

|PROCESO agifa025;
     #713#0 = enLinea;
     #713#1 = #25#0;
     |LEE 000#713=;
     |SI FSalida ! 0;
          #713#0 = enLinea;
          #713#1 = #25#0;
          #713#2 = #25#1;
          #713#3 = "";
          |GRABA 020#713n;
     |SINO;
          #713#2 = #25#1;
          #713#3 = #713#3;
          |GRABA 020#713a;
     |FINSI;
|FPRC;

|DEFBUCLE agifa025;
     #25#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, agifa025;
|FIN;

|PROCESO agifa713;
     #25#0 = #713#1;
     |LEE 000#25=;
     |SI FSalida ! 0;
          #713#0 = enLinea;
          #713#1 = #713#1;
          |BORRA 020#713a;
     |FINSI;
|FPRC;

|DEFBUCLE agifa713;
     #713#1;
     ;
     enLinea, "";
     enLinea, "zz";
     ;
     NULL, agifa713;
|FIN;

|PROCESO CargaLineal;
     |BUCLE agifa025;
     |BUCLE agifa713;
|FPRC;

|PROGRAMA;
     |ABRE #25;
     |ABRE #713;

     |PINPA #0#713; nPanta = FSalida; |PINDA #0#713;

     |HAZ CargaLineal;

     nRango = 1 + 4 + 8 + 16 + 32;
     nPos1 = 0910; nPos2 = 1760;
     |LINEAL_SIMPLE #1#713, nRango, nPos1, nPos2, Infm713, Supm713, Eventom713;
     nGrid = FSalida;

     aEsc1  = &255 + "806";
     aEsc2  = &255 + "807";
     aRetu  = &255 + "802";
     |PARA; |SI;  |HACIENDO;
        FSalida = "::{{001}}Salir," + nGrid;
        |LEETECLA aTecla;
        |SI aTecla = aEsc1; |SAL;  |FINSI;
        |SI aTecla = aEsc2; |SAL;  |FINSI;
        |SI aTecla = aRetu; |SAL;  |FINSI;
     |SIGUE;

     |DESTRUYECONTROL nGrid;

     |CIERRA #713;
     |CIERRA #25;
|FPRO;

|PROCESO Tipo80w713; |TIPO 80;
     FSalida = 2799;
|FPRC;
