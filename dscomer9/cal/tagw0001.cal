|FICHEROS;
     tagw0001 #0;
     tagw0002 #2;
     agifa019 #19;
     dsm00238 #238;
     dsm00239 #239;
|FIN;

|VARIABLES;
     nConta    = 0;
     aAlfa     = "";
     i         = 0;
|FIN;

|PROCESO agifa019;
     |SI #19#179 = "N";
          |ACABA;
     |FINSI;

     |DDEFECTO #2;
     #2#6 = #19#194;
     #2#7 = #19#196;
     #2#8 = #19#188;
     #2#9 = #19#189;
     #2#10 = #19#190;
     #2#11 = #19#191;
     #2#12 = #19#197;
     #2#13 = #19#192;
     |LEE 000#2=;
     |SI FSalida ! 0;
          nConta = nConta + 1;
          aAlfa = ("0000" + nConta) % -104;
          #2#0 = aAlfa;
          |GRABA 020#2n;

          |PARA i = 0; |SI i [ 15; |HACIENDO i = i + 1;
               #238i = #2i;
          |SIGUE;
          #238#14 = "00001";
          #238#3 = "UNIDADES";
          #238#5 = "UNI";
          #238#15 = "00002";
          #238#2 = "METROS";
          #238#4 = "MTS";

          |GRABA 020#238n;

     |FINSI;

     #19#201 = #2#0;
     |GRABA 020#19a;

     |LIBERA #19;
|FPRC;

|DEFBUCLE agifa019;
     #19#1;
     ;
     INICIO;
     FINAL;
     be;
     NULL, agifa019;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |SI #0#0 = "SI";
          |DELINDEX #239;
          |ABRE #239;
          #239#0 = "00001";
          #239#1 = "UNIDADES";
          #239#2 = "UNI";
          |GRABA 020#239n;
          |CIERRA #239;

          |ABRE #239;
          #239#0 = "00002";
          #239#1 = "METROS";
          #239#2 = "MTR";
          |GRABA 020#239n;
          |CIERRA #239;


          |DELINDEX #2;
          |DELINDEX #238;
          |ABRE #2;
          |ABRE #238;
          |BUCLE agifa019;
          |CIERRA #238;
          |CIERRA #2;
     |FINSI;
|FPRC;
