|FICHEROS;
  guerw011 #0;
|FIN;

|VARIABLES;
  &aparam = "";
  &programa = "";
  path = "";
  copia = "";
  mensaje = "";
  cab = "Grabar Diskette";
  sistem = "";
  fichero = "";
  alfa1 = "";
  ficsecu = "nomfiche.ext";

  aAlfa = "";
  PathOrig = ""; PathDest = "";
  aTraba = "";
  aTrab1 = "";
  aEmpre = "";
  aNombr = "";
|FIN;

|PROCESO copiando;
  |IP_REMOTO aAlfa;
  |QBT aAlfa;
  |SI aAlfa ! "";
     |ENVIA_FICHERO PathOrig , PathDest;
  |SINO;
     |COPIA_FICHERO PathOrig, PathDest;
  |FINSI;
|FPRC;

|PROGRAMA;
  |CLS;
  |PINPA #0#0;
  |CABEZA cab;

  |ATRI R;
  |PINTA 0838, programa;
  |ATRI 0;

  |PINDA #0#0;
  |ENDATOS #1#0;
  |SI FSalida ! 0;  |ACABA;  |FINSI;
  |DFICE path;
  |ATRI P; |ATRI R;
  mensaje = " Introduzca disco vacio en la unidad " + #0#0 + ": ";
  |PINTA 2320,mensaje;
  |ATRI 0;
  |PAUSA;
  |SI FSalida ! 0; |ACABA; |FINSI;
  |BLIN 23;

  |DFICE aTraba;
  |DFICB aTrab1;
  aEmpre = aTraba - aTrab1;
  aEmpre = aEmpre - "/";

  aNombr = "cab" + aEmpre + ".dat";
  PathOrig = path + aNombr;
  PathDest = #0#0 + ":" + aNombr;
  aTraba = "Copiando: " + aNombr;
  |ATRI P; |ATRI R; |PINTA 2420, aTraba; |ATRI 0;
  |HAZ copiando;

  aNombr = "cab" + aEmpre + ".ddx";
  PathOrig = path + aNombr;
  PathDest = #0#0 + ":" + aNombr;
  aTraba = "Copiando: " + aNombr;
  |ATRI P; |ATRI R; |PINTA 2420, aTraba; |ATRI 0;
  |HAZ copiando;

  aNombr = "cab" + aEmpre + ".ixx";
  PathOrig = path + aNombr;
  PathDest = #0#0 + ":" + aNombr;
  aTraba = "Copiando: " + aNombr;
  |ATRI P; |ATRI R; |PINTA 2420, aTraba; |ATRI 0;
  |HAZ copiando;

  aNombr = "lin" + aEmpre + ".dat";
  PathOrig = path + aNombr;
  PathDest = #0#0 + ":" + aNombr;
  aTraba = "Copiando: " + aNombr;
  |ATRI P; |ATRI R; |PINTA 2420, aTraba; |ATRI 0;
  |HAZ copiando;

  aNombr = "lin" + aEmpre + ".ddx";
  PathOrig = path + aNombr;
  PathDest = #0#0 + ":" + aNombr;
  aTraba = "Copiando: " + aNombr;
  |ATRI P; |ATRI R; |PINTA 2420, aTraba; |ATRI 0;
  |HAZ copiando;

  aNombr = "lin" + aEmpre + ".ixx";
  PathOrig = path + aNombr;
  PathDest = #0#0 + ":" + aNombr;
  aTraba = "Copiando: " + aNombr;
  |ATRI P; |ATRI R; |PINTA 2420, aTraba; |ATRI 0;
  |HAZ copiando;

  aNombr = "cmo" + aEmpre + ".dat";
  PathOrig = path + aNombr;
  PathDest = #0#0 + ":" + aNombr;
  aTraba = "Copiando: " + aNombr;
  |ATRI P; |ATRI R; |PINTA 2420, aTraba; |ATRI 0;
  |HAZ copiando;

  aNombr = "cmo" + aEmpre + ".ddx";
  PathOrig = path + aNombr;
  PathDest = #0#0 + ":" + aNombr;
  aTraba = "Copiando: " + aNombr;
  |ATRI P; |ATRI R; |PINTA 2420, aTraba; |ATRI 0;
  |HAZ copiando;

  aNombr = "cmo" + aEmpre + ".ixx";
  PathOrig = path + aNombr;
  PathDest = #0#0 + ":" + aNombr;
  aTraba = "Copiando: " + aNombr;
  |ATRI P; |ATRI R; |PINTA 2420, aTraba; |ATRI 0;
  |HAZ copiando;

  aNombr = "lmo" + aEmpre + ".dat";
  PathOrig = path + aNombr;
  PathDest = #0#0 + ":" + aNombr;
  aTraba = "Copiando: " + aNombr;
  |ATRI P; |ATRI R; |PINTA 2420, aTraba; |ATRI 0;
  |HAZ copiando;

  aNombr = "lmo" + aEmpre + ".ddx";
  PathOrig = path + aNombr;
  PathDest = #0#0 + ":" + aNombr;
  aTraba = "Copiando: " + aNombr;
  |ATRI P; |ATRI R; |PINTA 2420, aTraba; |ATRI 0;
  |HAZ copiando;

  aNombr = "lmo" + aEmpre + ".ixx";
  PathOrig = path + aNombr;
  PathDest = #0#0 + ":" + aNombr;
  aTraba = "Copiando: " + aNombr;
  |ATRI P; |ATRI R; |PINTA 2420, aTraba; |ATRI 0;
  |HAZ copiando;
     ||컴컴컴컴컴컴컴컴컴컴컴컴
     aNombr = "vac" + aEmpre + ".ixx"; |HAZ MiCopia;
     aNombr = "vac" + aEmpre + ".dat"; |HAZ MiCopia;
     aNombr = "vac" + aEmpre + ".ddx"; |HAZ MiCopia;
     aNombr = "val" + aEmpre + ".ixx"; |HAZ MiCopia;
     aNombr = "val" + aEmpre + ".dat"; |HAZ MiCopia;
     aNombr = "val" + aEmpre + ".ddx"; |HAZ MiCopia;
|FPRO;

|PROCESO MiCopia;
     PathOrig = path + aNombr;
     PathDest = #0#0 + ":" + aNombr;
     aTraba = "Copiando: " + aNombr;
     |ATRI P; |ATRI R; |PINTA 2420, aTraba; |ATRI 0;
     |HAZ copiando;
|FPRC;
