|FICHEROS;
     malpe168 #0;
     agifa041 #1;

     agifa010@ #10; || Se hacen con referencias por que tienen
     agifa071@ #71; || TIPOS 15, 16, 17
     malpe090@ #90; ||  ''
     malpe091@ #91; ||  ''
     agifa134 #134;
     agifa059 #59;
     agifa084 #84;
     agifa069 #69;
     agifa065 #65;
     malpe004 #4;
     malpe005 #5;
     agifa027 #27;
     agifa007 #7;
     referen@;
|FIN;

|VARIABLES;
     D30 = "";
     H30 = "";
     aAlfa = "";
     aDef = "";
|FIN;

|PROCESO agifa010;
     |BORRA 020#10a;
     |SALVA_DATOS #10;
     |REPON_DATOS #referen@;
     |BORRA 040#referen@.c;
     |GRABA 020#referen@.n;
|FPRC;

|DEFBUCLE agifa010;
     #10#1002;
     ;
     #0#1, 000001;
     #0#1, 999999;
     be;
     NULL, agifa010;
|FIN;

|PROCESO agifa071;
     |BORRA 020#71a;
     |SALVA_DATOS #71;
     |REPON_DATOS #referen@;
     |BORRA 040#referen@.c;
     |GRABA 020#referen@.n;
|FPRC;

|DEFBUCLE agifa071;
     #71#1003;
     ;
     #0#1, 000001, 001;
     #0#1, 999999, 999;
     be;
     NULL, agifa071;
|FIN;

|PROCESO agifa134;
     |BORRA 020#134a;
     |SALVA_DATOS #134;
     |REPON_DATOS #referen@;
     |BORRA 040#referen@.c;
     |GRABA 020#referen@.n;
|FPRC;

|DEFBUCLE agifa134;
     #134#1;
     ;
     #0#1, 000001;
     #0#1, 999999;
     ;
     NULL, agifa134;
|FIN;

|PROCESO agifa059;
     |BORRA 020#59a;
     |SALVA_DATOS #59;
     |REPON_DATOS #referen@;
     |BORRA 040#referen@.c;
     |GRABA 020#referen@.n;
|FPRC;

|DEFBUCLE agifa059;
     #59#1;
     ;
     #0#1, 000001, 001;
     #0#1, 999999, 999;
     ;
     NULL, agifa059;
|FIN;

|PROCESO agifa084;
     |BORRA 020#84a;
     |SALVA_DATOS #84;
     |REPON_DATOS #referen@;
     |BORRA 040#referen@.c;
     |GRABA 020#referen@.n;
|FPRC;

|DEFBUCLE agifa084;
     #84#1;
     ;
     #0#1, 000001;
     #0#1, 999999;
     ;
     NULL, agifa084;
|FIN;

|PROCESO agifa069;
     |BORRA 020#69a;
     |SALVA_DATOS #69;
     |REPON_DATOS #referen@;
     |BORRA 040#referen@.c;
     |GRABA 020#referen@.n;
|FPRC;

|DEFBUCLE agifa069;
     #69#1;
     ;
     #0#1, 000001, 001;
     #0#1, 999999, 999;
     ;
     NULL, agifa069;
|FIN;

|PROCESO agifa065;
     |BORRA 020#65a;
     |SALVA_DATOS #65;
     |REPON_DATOS #referen@;
     |BORRA 040#referen@.c;
     |GRABA 020#referen@.n;
|FPRC;

|DEFBUCLE agifa065;
     #65#1;
     ;
     "                    ", "01.01.000", "  ", 000001, 00000, #0#1;
     "zzzzzzzzzzzzzzzzzzzz", "31.12.999", "zz", 999999, 99999, #0#1;
     ;
     NULL, agifa065;
|FIN;

|PROCESO malpe004;
     |BORRA 020#4a;
     |SALVA_DATOS #4;
     |REPON_DATOS #referen@;
     |BORRA 040#referen@.c;
     |GRABA 020#referen@.n;
|FPRC;

|DEFBUCLE malpe004;
     #4#1;
     ;
     #0#1, 000001;
     #0#1, 999999;
     ;
     NULL, malpe004;
|FIN;

|PROCESO malpe005;
     |BORRA 020#5a;
     |SALVA_DATOS #5;
     |REPON_DATOS #referen@;
     |BORRA 040#referen@.c;
     |GRABA 020#referen@.n;
|FPRC;

|DEFBUCLE malpe005;
     #5#1;
     ;
     #0#1, 000001, 001;
     #0#1, 999999, 999;
     ;
     NULL, malpe005;
|FIN;

|PROCESO malpe090;
     |BORRA 020#90a;
     |SALVA_DATOS #90;
     |REPON_DATOS #referen@;
     |BORRA 040#referen@.c;
     |GRABA 020#referen@.n;
|FPRC;

|DEFBUCLE malpe090;
     #90#1002;
     ;
     #0#1, 000001;
     #0#1, 999999;
     ;
     NULL, malpe090;
|FIN;

|PROCESO malpe091;
     |BORRA 020#91a;
     |SALVA_DATOS #91;
     |REPON_DATOS #referen@;
     |BORRA 040#referen@.c;
     |GRABA 020#referen@.n;
|FPRC;

|DEFBUCLE malpe091;
     #91#1003;
     ;
     #0#1, 000001, 001;
     #0#1, 999999, 999;
     ;
     NULL, malpe091;
|FIN;

|PROCESO agifa007;
     |BORRA 020#7a;
     |SALVA_DATOS #7;
     |REPON_DATOS #referen@;
     |BORRA 040#referen@.c;
     |GRABA 020#referen@.n;
|FPRC;

|DEFBUCLE agifa007;
     #7#1;
     ;
     #0#1;
     #0#1;
     ;
     NULL, agifa007;
|FIN;

|PROCESO agifa027;
     |BORRA 020#27a;
     |SALVA_DATOS #27;
     |REPON_DATOS #referen@;
     |BORRA 040#referen@.c;
     |GRABA 020#referen@.n;
|FPRC;

|DEFBUCLE agifa027;
     #27#1;
     ;
     #0#1, D30;
     #0#1, H30;
     ;
     NULL, agifa027;
|FIN;

|PROCESO Tipo66; |TIPO 66;
     |DBASE aAlfa;
     aAlfa = aAlfa + "fich/";
     |PATH_DAT #1 aAlfa;
     |ABRE #1;
     #1#0 = #0#0;
     |LEE 000#1];
     |CONSULTA_CLAVE #1#1;
     |SI FSalida = 0;
          #0#0 = #1#0; |PINTA #0#0;
     |SINO;
          |ERROR;
     |FINSI;
     |CIERRA #1;
|FPRC;

|PROCESO Tipo0; |TIPO 0;
     |DBASE aAlfa;
     aAlfa = aAlfa + "fich/";
     |PATH_DAT #1 aAlfa;
     |ABRE #1;
     #1#0 = #0#0;
     |LEE 000#1=;
     |SI FSalida ! 0;
          |MENAV "0000No existe Empresa Gestion...";
          |ERROR;
     |SINO;
          |DFICE aAlfa;
          aAlfa = aAlfa % -205;
          |SI aAlfa = #0#0;
               |MENAV "0000La empresa destino no puede ser la actual...";
               |ERROR;
          |FINSI;
     |FINSI;
     |CIERRA #1;
|FPRC;

|PROCESO Carga;
     |DDEF aDef;
     aDef = aDef + aAlfa;
     |CARGA_DEF aDef, referen@;
     |SI FSalida ! 0;
          aAlfa = "0000ERROR al cargar: " + aDef;
          |MENAV aAlfa;
     |FINSI;
     |DBASE aAlfa;
     aAlfa = aAlfa + "fich/" + (("00000" + #0#0) % -105) + "/";
     |PATH_DAT #referen@#aAlfa#;
     |ABRE #referen@;
|FPRC;

|PROCESO Descarga;
     |CIERRA #referen@;
     |DESCARGA_DEF #referen@;
|FPRC;

|PROCESO Tipo3; |TIPO 3;
     D30 = " " * 30;
     H30 = "z" * 30;

     aAlfa = "agifa010";
     |HAZ Carga;
     |SI FSalida = 0;
          |DDEF aDef; aDef = aDef + "agifa010"
          |CARGA_DEF aDef, agifa010@;
          |SI FSalida = 0;
               |BUCLE agifa010;
               |DESCARGA_DEF #agifa010@;
          |FINSI;
          |HAZ Descarga;
     |FINSI;

     aAlfa = "agifa071";
     |HAZ Carga;
     |SI FSalida = 0;
          |DDEF aDef; aDef = aDef + "agifa071"
          |CARGA_DEF aDef, agifa071@;
          |SI FSalida = 0;
               |BUCLE agifa071;
               |DESCARGA_DEF #agifa071@;
          |FINSI;
          |HAZ Descarga;
     |FINSI;

     aAlfa = "agifa134";
     |HAZ Carga;
     |SI FSalida = 0;
          |BUCLE agifa134;
          |HAZ Descarga;
     |FINSI;

     aAlfa = "agifa059";
     |HAZ Carga;
     |SI FSalida = 0;
          |BUCLE agifa059;
          |HAZ Descarga;
     |FINSI;

     aAlfa = "agifa084";
     |HAZ Carga;
     |SI FSalida = 0;
          |BUCLE agifa084;
          |HAZ Descarga;
     |FINSI;

     aAlfa = "agifa069";
     |HAZ Carga;
     |SI FSalida = 0;
          |BUCLE agifa069;
          |HAZ Descarga;
     |FINSI;

     aAlfa = "agifa065";
     |HAZ Carga;
     |SI FSalida = 0;
          |BUCLE agifa065;
          |HAZ Descarga;
     |FINSI;

     aAlfa = "malpe004";
     |HAZ Carga;
     |SI FSalida = 0;
          |BUCLE malpe004;
          |HAZ Descarga;
     |FINSI;

     aAlfa = "malpe005";
     |HAZ Carga;
     |SI FSalida = 0;
          |BUCLE malpe005;
          |HAZ Descarga;
     |FINSI;

     aAlfa = "malpe090";
     |HAZ Carga;
     |SI FSalida = 0;
          |DDEF aDef; aDef = aDef + "malpe090";
          |CARGA_DEF aDef, malpe090@;
          |SI FSalida = 0;
               |BUCLE malpe090;
               |DESCARGA_DEF #malpe090@;
          |FINSI;
          |HAZ Descarga;
     |FINSI;

     aAlfa = "malpe091";
     |HAZ Carga;
     |SI FSalida = 0;
          |DDEF aDef; aDef = aDef + "malpe091"
          |CARGA_DEF aDef, malpe091@;
          |SI FSalida = 0;
               |BUCLE malpe091;
               |DESCARGA_DEF #malpe091@;
          |FINSI;
          |HAZ Descarga;
     |FINSI;

     aAlfa = "agifa007";
     |HAZ Carga;
     |SI FSalida = 0;
          |BUCLE agifa007;
          |HAZ Descarga;
     |FINSI;

     aAlfa = "agifa027";
     |HAZ Carga;
     |SI FSalida = 0;
          |BUCLE agifa027;
          |HAZ Descarga;
     |FINSI;
|FPRC;
