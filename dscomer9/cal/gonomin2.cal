|FICHEROS;
     gopaexca #0;  ||VIC
     gopaexli #1;  ||VIC
     gopartid #2;  ||VIC
     gocatcon #3;  ||VIC
     gopre001 #4;  ||VIC
     gopre004 #5;  ||VIC
     agifa027 #8;  ||VIC
     gopartca #9;  ||VIC
     gopartll #10; ||VIC
     gopartli #11; ||VIC
     goptrbca #12; ||VIC
     goptrbli #13; ||VIC
     gomantli #14; ||VIC
     goparame #15; ||VIC
     gopartia #16; ||VIC
     agifa019 #17;
     gomantho #18; ||VIC
     gocatcot #19; ||VIC

     gonomtm2 #20;

     gotrabaj #21; ||VIC
     goartive #22; ||VIC
|FIN;
----------------------------------------------------------------------
|VARIABLES;
     &nDeci_PBase   = 0;
     &nDeci_TBase   = 0;
     &nDeci_PTrab   = 0;
     &nDeci_TTrab   = 0;
     &nDeci_TotVis  = 0;
     &cCodMonTrab   = "";
     &cCodMonDe   = "";
     &cCodMonA    = "";
     &nPrecioVent = 0;
     &nPrecioComp = 0;
     nMoneCat     = "";
     nMoneExp     = "";
     nConta         = 0;
     nModo          = 0;
     nLinea         = 0;
     nHay           = 0;
     nSigno         = 0;
     nBotTipos      = 0;
     nSalida        = 0;

     cConta         = "";
     cTipo          = "";
     nLin           = 0;
     {500}fiebdc    = "";
     nSal = 0;
|FIN;

-------------------------------------------------------------------------------
|PROCESO ContadorPartes;  ||VIC
     |ABRE #15;
     #15#0 = "A";
     |LEE 000#15=;

     |SI FSalida = 0;
          |ABRE #8;
          #8#0 = "partetrab";                     ||Tipo documento.
          #8#2 = #1#5;                            ||Serie Expediente.
          |LEE 000#8=;

          |SI FSalida = 0;
               #8#1 = #8#1 + 1;
               |GRABA 020#8a;
          |SINO;
               #8#1 = 1;
               |GRABA 020#8c;
          |FINSI;

          #11#4 = #1#5;
          #11#5 = #8#1;
          |CIERRA #8;
     |FINSI;
     |CIERRA #15;
|FPRC;

|PROCESO sacamone;
     |ABRE #18;
     |DDEFECTO #18;
     #18#0 = #20#8;
     #18#1 = #20#9;
     |LEE 000#18=;
     nMoneExp = #18#6;
     cCodMonTrab = nMoneExp;
     |HAZ MonBas;
     |CIERRA #18;
|FPRC;

|PROCESO Categoria;  ||VIC;
     |DDEFECTO #3;
     |ABRE #3;
     #3#0 = #0#7;                                 ||Categoria.
     #3#1 = #0#6;                                 ||Convenio.
     |LEE 000#3=;

     |SI FSalida = 0;
          #0#3  = #3#3;                           ||PVP Pres.
          #0#4  = #3#7;                           ||PVP Admi.
          #0#5  = #3#8;                           ||PVP Extr.
          #0#10 = #3#4;                           ||PCT Pres.
          #0#11 = #3#9;                           ||PCT Admi.
          #0#12 = #3#10;                          ||PCT Extr.
          #0#13 = #3#13;                          ||Cod. MO.
          nMoneCat = #3#5;
     |FINSI;

     |CIERRA #3;
|FPRC;
-------------------------------------------------------------------------------
|PROCESO Precio; ||VIC
     |ABRE #4;
     #4#0 = #1#7;                            ||Serie Pres.
     #4#1 = #1#8;                            ||Numero Pres.
     |LEE 000#4=;
     |SI FSalida = 0;
          #1#18 = #4#18;                     ||Tipo Presupuesto.
          #1#19 = #4#7;                      ||Moneda Trabajo.
          |ABRE #19;
          #19#0 = #0#7;  ||Categoria.
          #19#1 = #0#6;  ||Convenio.
          #19#2 = #1#20; ||Tipo Horas.
          |LEE 000#19=;
          |SI FSalida ! 0;
               |SI #4#18 = "P";
                    #1#15 = #0#10;                 ||PVP Pres.
               |FINSI;
               |SI #4#18 = "A";
                    #1#15 = #0#11;                 ||PVP Admi.
               |FINSI;
               |SI #4#18 = "E";
                    #1#15 = #0#12;                 ||PVP Extr.
               |FINSI;
          |SINO;
               |SI #4#18 = "P";
                    #1#15 = #19#5;                 ||PVP Pres.
               |FINSI;
               |SI #4#18 = "A";
                    #1#15 = #19#7;                 ||PVP Admi.
               |FINSI;
               |SI #4#18 = "E";
                    #1#15 = #19#9;                 ||PVP Extr.
               |FINSI;
          |FINSI;
          |CIERRA #19;
          |SI nMoneCat ! nMoneExp;
               cCodMonDe   = nMoneCat;
               cCodMonA    = nMoneExp;
               nPrecioComp = #1#15;
               |HAZ DemonAmon;
               #1#15 = nPrecioComp;
          |FINSI;

          |ABRE #5;
          #5#0 = #1#7;                            ||Serie Pres.
          #5#1 = #1#8;                            ||Numero Pres.
          #5#3 = #1#9;                            ||Partida.
          #5#5 = #0#13;                           ||Codigo MO.
          |LEE 000#5=;

          |SI FSalida = 0;
               #1#14 = #5#9;
          |SINO;
               |ABRE #19;
               #19#0 = #0#7;  ||Categoria.
               #19#1 = #0#6;  ||Convenio.
               #19#2 = #1#20; ||Tipo Horas.
               |LEE 000#19=;
               |SI FSalida ! 0;
                    |SI #4#18 = "P";
                         #1#14 = #0#3;                 ||PVP.
                         #1#15 = #0#11;                ||PVC.
                    |FINSI;
                    |SI #4#18 = "A";
                         #1#14 = #0#4;                 ||PVP.
                         #1#15 = #0#12;                ||PVP.
                    |FINSI;
                    |SI #4#18 = "E";
                         #1#14 = #0#5;                 ||PVP.
                         #1#15 = #0#13;                ||PVP.
                    |FINSI;
               |SINO;
                    |SI #4#18 = "P";
                         #1#14 = #19#4;                 ||PVP.
                         #1#15 = #19#5;                 ||PVC.
                    |FINSI;
                    |SI #4#18 = "A";
                         #1#14 = #19#6;                 ||PVP.
                         #1#15 = #19#7;                 ||PVC.
                    |FINSI;
                    |SI #4#18 = "E";
                         #1#14 = #19#8;                 ||PVP.
                         #1#15 = #19#9;                 ||PVC.
                    |FINSI;
               |FINSI;
               |CIERRA #19;
               |SI nMoneCat ! nMoneExp;
                    cCodMonDe   = nMoneCat;
                    cCodMonA    = nMoneExp;
                    nPrecioComp = #1#15;
                    |HAZ DemonAmon;
                    #1#15 = nPrecioComp;
               |FINSI;
               |SI nMoneCat ! nMoneExp;
                    cCodMonDe   = nMoneCat;
                    cCodMonA    = nMoneExp;
                    nPrecioVent = #1#14;
                    |HAZ DemonAmon;
                    #1#14 = nPrecioVent;
               |FINSI;
          |FINSI;
          |CIERRA #5;
          |CIERRA #4;
     |FINSI;
     #1#18 = #4#18;                     ||Tipo Presupuesto.
     #1#19 = #4#7;                      ||Moneda Trabajo.
     #1#16 = #1#14 * #1#3;
     #1#17 = #1#15 * #1#3;
|FPRC;
/*
|PROCESO Precio;
     #1#18 = #4#18;                     ||Tipo Presupuesto.
     #1#19 = #4#7;                      ||Moneda Trabajo.
     #1#16 = #1#14 * #1#3;
     #1#17 = #1#15 * #1#3;
|FPRC;
*/
-------------------------------------------------------------------------------
|PROCESO GraParPre; ||VIC
     |DDEFECTO #10;
     #10#0  = #14#0;                              ||Serie Expe.
     #10#1  = #14#1;                              ||Nº. Expedi.
     #10#2  = #14#2;                              ||Linea.
     #10#3  = #14#6;                              ||Fecha Pres.
     #10#4  = #14#3;                              ||Serie Pres.
     #10#5  = #14#4;                              ||Num. Presu.
     #10#14 = #14#5;                              ||Tipo PAE.
     |GRABA 020#10c;
|FPRC;
-------------------------------------------------------------------------------
|DEFBUCLE GraParPre; ||VIC
     #14#1;
     ;                                          ||Campos Extras.
     #1#5, #1#6,   1;
     #1#5, #1#6, 999;
     ;                                          ||b/e Bolqueo-Ordenacion.
     NULL, GraParPre;
|FIN;
-------------------------------------------------------------------------------
|PROCESO Goparlin; ||VIC
     nLinea = #11#2 + 1;
|FPRC;
-------------------------------------------------------------------------------
|DEFBUCLE Goparlin; ||VIC
     #11#1;
     ;                                          ||Campos Extras.
     #10#4, #10#5,    1;
     #10#4, #10#5, 9999;
     ;                                          ||b/e Bolqueo-Ordenacion.
     NULL, Goparlin;
|FIN;
-------------------------------------------------------------------------------
|PROCESO GraPtrLin; ||VIC
     #13#0 = #12#0;                               ||Serie Expediente.
     #13#1 = #12#1;                               ||Numero Expediente.
     #13#2 = #0#2;                                ||Fecha Parte.
     #13#4 = #0#0;                                ||Cliente.
     #13#5 = #0#1;                                ||Nombre Cliente.
     #13#6 = #0#7;                                ||Categoria.
     #13#7 = #0#9;                                ||Descripcion Cat.

     |SI #1#18 = "P";
          #13#8 = #13#8 + #1#3;          ||Cantidad Horas Pres.
     |FINSI;

     |SI #1#18 = "A";
          #13#9 = #13#9 + #1#3;          ||Cantidad Horas Pres.
     |FINSI;

     |SI #1#18 = "E";
          #13#10 = #13#10 + #1#3;        ||Cantidad Horas Pres.
     |FINSI;

     #13#11 = #13#11 + #1#3;             ||Total Horas Trabajador.
     #13#12 = #1#14;                              ||Precio Venta Trab.
     #13#13 = #1#15;                              ||Precio Coste Trab.
     #13#16 = #13#11 * #13#12;                    ||Importe Venta Trab.
     #13#17 = #13#11 * #13#13;                    ||Importe Coste Trab.
     #13#20 = #12#16;                             ||Serie Presu.
     #13#21 = #12#17;                             ||Numero Pres.
     #13#22 = #0#13;                              ||Codigo Mano Obra.
     #13#23 = #12#15;                             ||Serie Parte.
     #13#24 = #12#3;                              ||Numero Parte.
     #13#25 = #1#4;                               ||Tipo MO.

     |SI #13#11 = 0;
          |BORRA 020#13a;
     |SINO;
          |GRABA 020#13a;
     |FINSI;

     nHay = #13#3;
|FPRC;
-------------------------------------------------------------------------------
|DEFBUCLE GraPtrLin;  ||VIC
     #13#4;
     4,25;                                          ||Campos Extras.
     #12#15, #12#3,    1, #0#0, #1#4;
     #12#15, #12#3, 9999, #0#0, #1#4;
     ;                                          ||b/e Bolqueo-Ordenacion.
     NULL, GraPtrLin;
|FIN;
-------------------------------------------------------------------------------
|PROCESO BusLin;  ||VIC
     nLinea = #13#3;
|FPRC;

|DEFBUCLE BusLin; ||VIC
     #13#4;
     ;                                          ||Campos Extras.
     #12#15, #12#3,    1;
     #12#15, #12#3, 9999;
     ;                                          ||b/e Bolqueo-Ordenacion.
     NULL, BusLin;
|FIN;
-------------------------------------------------------------------------------
|PROCESO LineaPartida;  ||VIC
     nLinea = #16#7 + 1;
|FPRC;

|DEFBUCLE LineaPartida;  ||VIC
     #16#1;
     ;                                          ||Campos Extras.
     "T", #13#23, #13#24,   1,   1;
     "T", #13#23, #13#24, 999, 999;
     ;                                          ||b/e Bolqueo-Ordenacion.
     NULL, LineaPartida;
|FIN;
-------------------------------------------------------------------------------
|PROCESO PartePartidas;  ||VIC
     |SELECT #3#16;
     #16#34 = "T";
     #16#0  = #13#20;                             ||Serie Presu.
     #16#1  = #13#21;                             ||Nº Presu.
     #16#2  = #13#0;                              ||Serie Exped.
     #16#3  = #13#1;                              ||Nº. Presu.
     #16#4  = #13#23;                             ||Serie Parte.
     #16#5  = #13#24;                             ||Nº Parte.
     #16#6  = #13#3;
     #16#28 = #13#2;                              ||Fecha.
     #16#8  = #1#9;                               ||Partida.
     #16#33 = #1#22;                              ||Capitulo
     |LEE 101#16=;
     FSalida = 111;                ||esto es una prueba
     |SI FSalida ! 0;
          nLinea = 0;
          |BUCLE LineaPartida;
          |DDEFECTO #16;
          #16#0  = #13#20;                        ||Serie Presu.
          #16#1  = #13#21;                        ||Nº Presu.
          #16#2  = #13#0;                         ||Serie Exped.
          #16#3  = #13#1;                         ||Nº. Presu.
          #16#4  = #13#23;                        ||Serie Parte.
          #16#5  = #13#24;                        ||Nº Parte.
          #16#28 = #13#2;                         ||Fecha.
          #16#8  = #1#9;                          ||Partida.
          #16#6  = #13#3;                         ||Linea de Parte.
          #16#7  = nLinea + 1;                    ||Linea.
          |LEE 101#16=;
          |SI FSalida ! 0;
               |GRABA 020#16b;
          |FINSI;
     |FINSI;

     #16#9  = #1#10;                              ||Descripcion Partida.
     #16#10 = #16#10 + #1#3;                      ||Cantidad.

     #16#11 = #13#12;                             ||Venta Trab. Precio.
     #16#37 = #13#12;                             ||Venta Trab. Precio.
     #16#12 = #13#13;                             ||Coste Trab. Precio.
     #16#41 = #13#13;                             ||Coste Trab. Precio.
     #16#13 = #13#16;                             ||Importe Venta Trab.
     #16#14 = #16#10 * #16#12;                    ||Importe Coste Trab.
||     #16#14 = #13#17;                             ||Importe Coste Trab.

     #16#22 = #13#12;                             ||Venta Base. Precio.
     #16#45 = #13#12;                             ||Venta Base. Precio.
     #16#23 = #13#13;                             ||Coste Base. Precio.
     #16#49 = #13#13;                             ||Coste Base. Precio.
     #16#24 = #13#16;                             ||Importe Venta Base.
     #16#25 = #16#10 * #16#23;                    ||Importe Coste Base.
||     #16#25 = #13#17;                             ||Importe Coste Base.

     #16#15 = #1#11;                              ||Codigo Cliente.
     #16#16 = #1#12;                              ||Nombre Cliente.
     #16#18 = "PASE AUTOMATICO DESDE NOMINAS"     ||Nombre Almacen
     #16#20 = #0#13;                              ||Codigo MO.
     #16#21 = #1#19;                              ||Moneda Trabajo.
     #16#29 = "T";                                ||Tipo Articulo.
     #16#34 = "T";
     |ABRE #17;
     #17#0 = #16#8;                               ||Partida;
     |LEE 000#17=;

     |SI FSalida = 0;
          #16#30 = #17#1;                         ||Descripcion Partida.
     |FINSI;

     |CIERRA #17;

     |SI #16#10 = 0;
          |BORRA 020#16a;
     |SINO;
          |GRABA 020#16a;
     |FINSI;

     |LIBERA #16;
|FPRC;

|PROCESO PtrLi; ||VIC
     nHay = 0;

     |BUCLE GraPtrLin;

     |SI nHay = 0;
          nLinea = 0;
          |BUCLE BusLin;
          |DDEFECTO #13;
          #13#20 = #12#16;                             ||Serie Presu.
          #13#21 = #12#17;                             ||Numero Pres.
          #13#2  = #0#2;                               ||Fecha Parte.
          #13#3  = nLinea + 1;
          |LEE 101#13=;
          |SI FSalida ! 0;
               |GRABA 020#13b;
          |FINSI;
          |HAZ GraPtrLin;
     |SINO;
          #13#20 = #12#16;                             ||Serie Presu.
          #13#21 = #12#17;                             ||Numero Pres.
          #13#2  = #0#2;                               ||Fecha Parte.
          #13#3  = nHay;                               ||Linea.
          |LEE 101#13=;
     |FINSI;

     |LIBERA #13;

     |HAZ PartePartidas;
|FPRC;
-------------------------------------------------------------------------------
|PROCESO PtrCa;  ||VIC
     |DDEFECTO #12;
     #12#0  = #11#14;                             ||Serie Expediente.
     #12#1  = #11#15;                             ||Numero Expediente
     #12#2  = #0#2;                               ||Fecha Parte.
     #12#16 = #11#0;                              ||Serie Presupuesto
     #12#17 = #11#1;                              ||Numer. Presus.
     |LEE 101#12=;

     |SI FSalida ! 0;
          |GRABA 020#12b;
     |FINSI;

     #12#3  = #11#5;                              ||Numero Parte.
     #12#15 = #11#4;                              ||Serie Parte.

     |SI #1#18 = "P";
          #12#4 = #12#4 + #1#3;          ||Cantidad Horas Pres.
     |FINSI;

     |SI #1#18 = "A";
          #12#5 = #12#5 + #1#3;          ||Cantidad Horas Pres.
     |FINSI;

     |SI #1#18 = "E";
          #12#6 = #12#6 + #1#3;          ||Cantidad Horas Pres.
     |FINSI;

     #12#7  = #1#11;                              ||Codigo Cliente.
     #12#8  = #1#12;                              ||Nombre Cliente.
     #12#9  = #12#9 +  #1#3;             ||Total Horas PAE.
     #12#11 = #12#11 + #1#16;            ||Importe Venta.
     #12#10 = #12#10 + #1#17;            ||Importe Coste.
     #12#13 = #12#13 + #1#3;             ||Computo Total Horas.
     #12#14 = #1#19;                              ||Moneda Trabajo.
     #12#18 = #1#3;                               ||Total Horas a Adjudicar.
     #12#19 = 0;                                  ||Horas pdte. adjudicar.
     #12#20 = #1#18;                              ||Tipo PAE.
     |GRABA 020#12a;

     |HAZ PtrLi;

     |SI #12#9 = 0;
          |BORRA 020#12a;
     |FINSI;

     |LIBERA #12;
|FPRC;
-------------------------------------------------------------------------------
|PROCESO ParteFechas;  ||VIC
     |SELECT #2#11;
     #11#0 = #10#4;                               ||Serie Pres.
     #11#1 = #10#5;                               ||Num. Presu.
     #11#3 = #0#2;                                ||Fecha Pres.
     |LEE 101#11=;

     |SI FSalida ! 0;
          nLinea = 1;
          |BUCLE Goparlin;
          |DDEFECTO #11;
          #11#0 = #10#4;                          ||Serie Pres.
          #11#1 = #10#5;                          ||Num. Presu.
          #11#2 = nLinea;
          #11#3 = #0#2;                           ||Fecha Pres.
          |HAZ ContadorPartes;
          |GRABA 020#11b;
     |FINSI;

     |SI #1#18 = "P";
          #11#6 = #11#6 + #1#3;          ||Cantidad Horas Pres.
     |FINSI;

     |SI #1#18 = "A";
          #11#7 = #11#7 + #1#3;          ||Cantidad Horas Pres.
     |FINSI;

     |SI #1#18 = "E";
          #11#8 = #11#8 + #1#3;          ||Cantidad Horas Pres.
     |FINSI;

     #11#10 = #11#10 + #1#16;            ||Importe Venta.
     #11#9  = #11#9  + #1#17;            ||Importe Coste.
     #11#13 = #11#13 + #1#3;             ||Computo Total Horas.
     #11#14 = #1#5;                               ||Serie Expediente.
     #11#15 = #1#6;                               ||Numero Expediente.
     #11#16 = #1#18;                              ||Tipo PAE;
     |GRABA 020#11a;

     |HAZ PtrCa;

     |SI #11#13 = 0;
          |BORRA 020#11a;
     |FINSI;

     |LIBERA #11;
|FPRC;
-------------------------------------------------------------------------------
|PROCESO PartePres; ||VIC
     |SELECT #2#10;
     #10#0 = #1#5;                                ||Serie Expediente.
     #10#1 = #1#6;                                ||Numero Expedient.
     #10#4 = #1#7;                                ||Serie Presupuesto
     #10#5 = #1#8;                                ||Numero Presupues.
     |LEE 000#10=;

     |SI FSalida ! 0;
          |BUCLE GraParPre;
     |FINSI;

     |SELECT #2#10;
     #10#0 = #1#5;                           ||Serie Expediente.
     #10#1 = #1#6;                           ||Numero Expedient.
     #10#4 = #1#7;                           ||Serie Presupuesto
     #10#5 = #1#8;                           ||Numero Presupues.
     |LEE 101#10=;
     |SI FSalida = 0;

          |SI #1#18 = "P";
               #10#6 = #10#6 + #1#3;          ||Cantidad Horas Pres.
          |FINSI;

          |SI #1#18 = "A";
               #10#7 = #10#7 + #1#3;          ||Cantidad Horas Pres.
          |FINSI;

          |SI #1#18 = "E";
               #10#8 = #10#8 + #1#3;          ||Cantidad Horas Pres.
          |FINSI;

          #10#10 = #10#10 + #1#16;            ||Importe Venta.
          #10#9  = #10#9  + #1#17;            ||Importe Coste.
          #10#13 = #10#13 + #1#3;             ||Computo Total Horas.
          |GRABA 020#10a;
     |FINSI;

     |LIBERA #10;

     |HAZ ParteFechas;
|FPRC;
-------------------------------------------------------------------------------
|PROCESO MiraParte; ||VIC;
     |DDEFECTO #9;
     #9#0 = #1#5;                                 ||Serie Expediente.
     #9#1 = #1#6;                                 ||Nuemro Expediente.
     |LEE 101#9=;

     |SI FSalida ! 0;
          |GRABA 020#9b;
     |FINSI;

     |SI #1#18 = "P";
          #9#2 = #9#2 + #1#3;            ||Cantidad Horas Pres.
     |FINSI;

     |SI #1#18 = "A";
          #9#3 = #9#3 + #1#3;            ||Cantidad Horas Adm.
     |FINSI;

     |SI #1#18 = "E";
          #9#4 = #9#4 + #1#3;            ||Cantidad Horas Ext.
     |FINSI;

     #9#5 = #9#5 + #1#3;                 ||Total Horas PAE.
     #9#7 = #9#7 + #1#16;                ||Importe Venta.
     #9#6 = #9#6 + #1#17;                ||Importe Coste.
     #9#10 = #1#11;                               ||Codigo Cliente.
     #9#11 = #1#19;                               ||Moneda Trabajo.
     #9#12 = #1#12;                               ||Nombre Cliente.
     |GRABA 020#9a;

     |HAZ PartePres;

     |LIBERA #9;
|FPRC;
-------------------------------------------------------------------------------
|PROCESO aomopat2; ||VIC;
     |DDEFECTO #0;
     #0#0 = #20#0;
     #0#2 = #20#1;

     #21#0 = #0#0;
     |LEE 000#21=;

     #0#1  = #21#1;
     #0#6  = #21#2;
     #0#7  = #21#3;
     #0#8  = #21#24;
     #0#9  = #21#25;
     |HAZ Categoria;

     |DDEFECTO #1;
     #1#0 = #0#0;
     #1#1 = #0#2;
     #1#3  = #20#6; ||Numero Horas.
     #1#20 = #20#7; ||Tipo Horas.
     #1#5  = #20#8; ||Serie Expediente.
     #1#6  = #20#9; ||Numero Expediente.
     #1#7  = #20#2; ||Serie Presupuesto.
     #1#8  = #20#3; ||Numero Presupuesto.
     #1#9  = #20#5; ||Partida.
     #1#11 = #18#2; ||Cliente.
     #1#12 = #18#8; ||Nombre.
     #1#13 = #18#3; ||Titulo Expe.
     #1#22 = #20#4; ||Capitulo

     #22#0 = #20#5;
     |LEE 000#22=;
     #1#10 = #22#1;

     |HAZ Precio;
     |HAZ MiraParte;
|FPRC;

|DEFBUCLE aomopat2; || VIC
     #20#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL,aomopat2;
|FIN;
/****************************
|PROCESO aomopat3;
     #21#0 = #20#0;
     |LEE 000#21=;

     #19#0 = #21#3;  ||Categoria.
     #19#1 = #21#2;  ||Convenio.
     #19#2 = #20#7;  ||Tipo Horas.
     |LEE 101#19=;
     nSal = FSalida;
     #19#5 = #20#10;
     |SI nSal = 0; |GRABA 020#19a; |FINSI;
     |SI nSal ! 0; |GRABA 020#19n; |FINSI;
     |LIBERA #19;
|FPRC;

|DEFBUCLE aomopat3; || VIC
     #20#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL,aomopat3;
|FIN;
*************************/

|PROCESO segundaparte; ||VIC
     |HAZ sacamone;
     |ABRE #0;
     |ABRE #1;
     |ABRE #9;
     |ABRE #10;
     |ABRE #11;
     |ABRE #12;
     |ABRE #13;
     |ABRE #16;
     |ABRE #21;
     |ABRE #22;
  ||ABRE #19;
  ||BUCLE aomopat3;
  ||CIERRA #19;
     |BUCLE aomopat2;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #9;
     |CIERRA #10;
     |CIERRA #11;
     |CIERRA #12;
     |CIERRA #13;
     |CIERRA #16;
     |CIERRA #21;
     |CIERRA #22;
|FPRC;
-------------------------------------------------------------------------------
