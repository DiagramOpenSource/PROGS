|FICHEROS;
     guerz042 #10; ||Este

     gopartca #0;
     gopartll #1;
     gopartli #2;
     goptrbca #3;
     goptrbli #4;
     gopartia #5;
     goparame #9;
|FIN;

|VARIABLES;
     aAlfa = "";
     aAlf1 = "";
|FIN;

|PROCESO gopartia;
     #5#28 = #2#3;   || Corrige la fecha
     |GRABA 020#5a;
     |LIBERA #5;
|FPRC;

|DEFBUCLE gopartia;
     #5#1;
     ;
     "T", #3#15, #3#3, #4#3, 1;
     "T", #3#15, #3#3, #4#3, 999;
     be;
     NULL, gopartia;
|FIN;

|PROCESO Goptrbli;
     |BUCLE gopartia;
     |SI #3#20 = "P";#4#8  = #4#11;|FINSI;
     |SI #3#20 = "A";#4#9  = #4#11;|FINSI;
     |SI #3#20 = "E";#4#10 = #4#11;|FINSI;
     #4#16 = #4#11*#4#12;           ||Total Trabajador Venta Mon Trab.
     #4#17 = #4#11*#4#13;           ||Total Trabajador Costo Mon Trab.
     #4#18 = #4#11*#4#14;           ||Total Trabajador Venta Mon Base.
     #4#19 = #4#11*#4#15;           ||Total Trabajador Costo Mon Base.
     |GRABA 020#4a;

     #3#4 = #3#4 + #4#8;
     #3#5 = #3#5 + #4#9;
     #3#6 = #3#6 + #4#10;
     #3#9 = #3#4 + #3#5 + #3#6;
     #3#10 = #3#10 + #4#17; ||CT
     #3#11 = #3#11 + #4#16; ||VT
     #3#12 = #3#12 + #4#19; ||CB
     #3#13 = #3#13 + #4#18; ||VB

     #2#6 = #2#6 + #4#8;
     #2#7 = #2#7 + #4#9;
     #2#8 = #2#8 + #4#10;
     #2#9 = #2#9 + #4#17;   ||CT
     #2#10 = #2#10 + #4#16; ||VT
     #2#11 = #2#11 + #4#19; ||CB
     #2#12 = #2#12 + #4#18; ||VB
     #2#13 = #2#6 + #2#7 + #2#8;

     #1#6 = #1#6 + #4#8;
     #1#7 = #1#7 + #4#9;
     #1#8 = #1#8 + #4#10;
     #1#9 = #1#9 + #4#17;
     #1#10 = #1#10 + #4#16;
     #1#11 = #1#11 + #4#19;
     #1#12 = #1#12 + #4#18;
     #1#13 = #1#6 + #1#7 + #1#8;

     #0#2 = #0#2 + #4#8;
     #0#3 = #0#3 + #4#9;
     #0#4 = #0#4 + #4#10;
     #0#5 = #0#2 + #0#3 + #0#4;
     #0#6 = #0#6 + #4#17;
     #0#7 = #0#7 + #4#16;
     #0#8 = #0#8 + #4#19;
     #0#9 = #0#9 + #4#18;
|FPRC;

|DEFBUCLE Goptrbli;
     #4#1;
     ;
     #3#16, #3#17, #3#2, 0001;
     #3#16, #3#17, #3#2, 9999;
     be;
     NULL,  Goptrbli;
|FIN;

|PROCESO Gopartli;
     #2#6 = 0;
     #2#7 = 0;
     #2#8 = 0;
     #2#9 = 0;
     #2#10 = 0;
     #2#11 = 0;
     #2#12 = 0;
     #2#13 = 0;

     #2#14 = #0#0;
     #2#15 = #0#1;

     |DDEFECTO #3;
     |ABRE #3;
     #3#0 = #2#14;
     #3#1 = #2#15;
     #3#2 = #2#3;
     #3#16 = #2#0;
     #3#17 = #2#1;
     |LEE 101#3=;
     |SI FSalida ! 0;
          #3#3 = #2#5;
          #3#7 = #0#10;
          #3#8 = #0#12;
          #3#14 = #0#11;
          #3#15 = #2#4;
          #3#20 = #2#16;
          |GRABA 020#3b;
     |FINSI;
     |SI FSalida = 0;
          #3#4 = 0;
          #3#5 = 0;
          #3#6 = 0;
          #3#9 = 0;
          #3#10 = 0;
          #3#11 = 0;
          #3#12 = 0;
          #3#13 = 0;
          |BUCLE Goptrbli;
          |GRABA 020#3a;
     |FINSI;
     |CIERRA #3;

     |GRABA 020#2a;
     |LIBERA #2;
|FPRC;

|DEFBUCLE Gopartli;
     #2#1;
     ;
     #1#4, #1#5, 0001;
     #1#4, #1#5, 9999;
     ;
     NULL, Gopartli;
|FIN;

|PROCESO Gopartll;
     #1#6 = 0;
     #1#7 = 0;
     #1#8 = 0;
     #1#9 = 0;
     #1#10 = 0;
     #1#11 = 0;
     #1#12 = 0;
     #1#13 = 0;
     |BUCLE Gopartli;
     |GRABA 020#1a;
     |LIBERA #1;
|FPRC;

|DEFBUCLE Gopartll;
     #1#1;
     ;
     #0#0, #0#1, 0001;
     #0#0, #0#1, 9999;
     be;
     NULL, Gopartll;
|FIN;

|PROCESO gopartca;
     #0#2 = 0;
     #0#3 = 0;
     #0#4 = 0;
     #0#5 = 0;
     #0#6 = 0;
     #0#7 = 0;
     #0#8 = 0;
     #0#9 = 0;
     |BUCLELIN 0 Gopartll #0;
     |GRABA 020#0a;
     |LIBERA #0;
|FPRC;

|DEFBUCLE gopartca;
     #0#1;
     ;
     #10#0, #10#2;
     #10#1, #10#3;
     be;
     NULL, gopartca;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |BUCLE gopartca;
|FPRC;

|PROCESO Tipo13; |TIPO 13;
     |ABRE #9; |LEE 000#9p; |CIERRA #9;
     |SI #9#141 = "O";
          |ATRI R; |PINTA 1123, " DESDE O.T.       ";
          |ATRI R; |PINTA 1323, " HASTA O.T.       ";
     |FINSI;
|FPRC;
