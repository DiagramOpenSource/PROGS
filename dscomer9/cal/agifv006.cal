|FICHEROS;
    agifv006 #0;  || Pantalla Seleccion
    agifv007 #1,MANTE;  || Auxiliar Entlineal Con los Articulos
    agifv008 #2,MANTE;  || Auxiliar Entlineal Con Los Articulos / Almacen.
    agifa019 #3;  || Articulos.
    agifa017 #4;  || Articulo/Almacen.
    agifa029 #5;  || Almacenes.
    agifv005 #6;
    dsm00024 #24;
    agifa142 #142;
|FIN;

|VARIABLES;
     &eaArticulo = "";
     &Tempo = "";
     aTmp1 = "";
     aTmp2 = "";
     aTmp3 = "";
     sum = 0;
     suma= 0;
|FIN;


|PROCESO Llena006; |TIPO 6;
     eaArticulo = #0Campo;
     |HAZ LlenaArticulo;
     |SI FSalida = 0;
          #0Campo = eaArticulo;
          |PINTA #0Campo;
     |SINO;
          |ERROR; |ACABA;
     |FINSI;
|FPRC;

|PROCESO proar;
   sum = sum +1;
   #1#0 = sum;
   #1#1 = #3#0;
   #1#2 = #3#1;
   #1#3 = #3#6;
   #1#4 = #3#104;
   |SI #142#118 = "S";
        #1#5 = #3#180;
   |SINO;
       #1#5 = "N";
   |FINSI;
   |GRABA 020#1n;
|FPRC;

|DEFBUCLE leear;
    #3#1;
    ;
    #0#0;
    #0#1;
    ;
    NULL,proar;
|FIN;


|PROCESO infos; |TIPO 3;
        |ABRE #142; |LEE 000#142p; |CIERRA #142;

        |HAZ CreaTempo; aTmp1 = Tempo; |NOME_DAT #1 aTmp1; |DELINDEX #1;

        |HAZ CreaTempo; aTmp2 = Tempo; |NOME_DAT #2 aTmp2; |DELINDEX #2;

        |HAZ CreaTempo; aTmp3 = Tempo; |NOME_DAT #2 aTmp3; |DELINDEX #6;

        |ABRE #1;
        |BUCLE leear;
        |CIERRA #1;
        |ENTLINEAL #1#1,1, 4 , 22, 1 , infea , supea;
        |CIERRA #1;

        Tempo = aTmp1; |HAZ BoraTempo; |DELINDEX #1;
        Tempo = aTmp2; |HAZ BoraTempo; |DELINDEX #2;
        Tempo = aTmp3; |HAZ BoraTempo; |DELINDEX #6;
|FPRC;


|RUTINA infea;
     #1#0=1;
|FRUT;

|RUTINA supea;
     #1#0=sum;
|FRUT;

|RUTINA infem;
     #2#0=1;
|FRUT;

|RUTINA supem;
     #2#0=suma;
|FRUT;

|PROCESO proalm;
   |ABRE #5;
   #5#0 = #4#1;
   |LEE 000#5=;
   |SI FSalida = 0;
        suma = suma +1;
        #2#0 = suma;
        #2#1 = #1#1;
        #2#2 = #1#2;
        #2#3 = #1#3;
        #2#4 = #4#1;
        #2#5 = #5#1;
        #2#6 = #4#5;
        #2#7 = #4#39;
        #2#8 = #1#4;
        |GRABA 020#2n;
   |FINSI;
   |CIERRA #5;
|FPRC;

|DEFBUCLE leealm;
    #4#1;
    ;
    #1#1, 1;
    #1#1, 99999;
    ;
    NULL,proalm;
|FIN;

|PROCESO infoa; |TIPO 0;
      suma=0;
      |DELINDEX #2;
      |PUSHV 0501 2380
      |ABRE #2;
      |BUCLE leealm;
      |ENTLINEAL #1#2,1, 4 , 22, 1 , infem , supem;
      |CIERRA #2;
      |POPV;
|FPRC;


|PROCESO Tipo7; |TIPO 7;
     |SI #1#5 = "S";
          |MENSA "0000Intro 'Consulta Stock Partidas'";
     |FINSI;
|FPRC;

|PROCESO LeeParti;
     #6#1 = #2#4;
     #6#2 = #2#5;
     #6#3 = #2#6;
     #6#4 = #2#7;
     #6#5 = #24#2;
     #6#6 = #24#22;
     #6#7 = #24#27;
     #6#8 = #24#28;
     |GRABA 020#6n;
|FPRC;

|DEFBUCLE LeeParti;
     #24#1;
     ;
     #2#1, #2#4, "                              ";
     #2#1, #2#4, "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzz";
     ;
     NULL, LeeParti;
|FIN;

|RUTINA Inf;
     #6#5= "                              ";
|FRUT;

|RUTINA Sup;
     #6#5= "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzz";
|FRUT;

|PROCESO Tipo0; |TIPO 0;
      suma=0;
      |DELINDEX #6;
      |PUSHV 0501 2380
      |ABRE #6;
      |BUCLE LeeParti;
      |ENTLINEAL #1#6,1, 4 , 22, 1 , Inf , Sup;
      |CIERRA #6;
      |POPV;
|FPRC;
