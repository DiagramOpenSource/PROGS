|FICHEROS;
     dsz00141 #0;
     agifa019 #19;
     dsm00024 #24;
     agifa065 #65;
     dsw00110 #110;
|FIN;

|VARIABLES;
     aAlfa = "";
     aEntrada = "";
|FIN;

|PROCESO Tmp;
     #24#0 = #110#0;
     #24#1 = #110#1;
     #24#2 = #110#2;
     |LEE 101#24=;
     |SI FSalida = 0;
          #24#3 = #110#6; ||Prv
          #24#4 = #110#3; ||F.1Entrada
          #24#5 = #110#5; ||F.UltSalida

          |GRABA 020#24a;
          |LIBERA #24;
     |FINSI;
|FPRC;

|DEFBUCLE Tmp;
     #110#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, Tmp;
|FIN;

|PROCESO agifa065;
     aEntrada = "";
     |SI #65#2 = "AV";
               |Y #65#2 = "BC";
               |Y #65#2 = "FC";
               |Y #65#2 = "SS";
               |Y #65#2 = "TI";
               |Y #65#2 = "MS";
               |Y #65#2 = "SF";
          aEntrada = "N";     || Salida
     |FINSI;
     |SI #65#2 = "BV";
               |Y #65#2 = "AC";
               |Y #65#2 = "SA";
               |Y #65#2 = "ES"
               |Y #65#2 = "EV";
               |Y #65#2 = "ME";
               |Y #65#2 = "FB";
          aEntrada = "S";     ||
     |FINSI;

     |DDEFECTO #110;
     #110#0 = #65#0;
     #110#1 = #65#5;
     #110#2 = #65#18;
     |LEE 101#110=;
     |SI FSalida ! 0;
          #110#3 = #65#1;
          #110#4 = #65#1;
          #110#5 = #65#1;
          #110#6 = #65#10;
          |GRABA 020#110b;
     |FINSI;

     |SI #65#1 < #110#3; |Y aEntrada = "S";
          #110#3 = #65#1;
     |FINSI;
     |SI #65#1 > #110#4; |Y aEntrada = "S";
          #110#4 = #65#1;
          #110#6 = #65#10;
     |FINSI;
     |SI #65#1 > #110#5; |Y aEntrada = "N";
          #110#5 = #65#1;
     |FINSI;

     |GRABA 020#110a;
     |LIBERA #110;
|FPRC;

|DEFBUCLE agifa065;
     #65#1;
     ;
     #0#0, "01.01.0000", "  ", 000000, 00000, "     ";
     #0#1, "31.12.9999", "zz", 999999, 99999, "zzzzz";
     ;
     NULL, agifa065;
|FIN;

|PROCESO T3; |TIPO 3;
     aAlfa = Usuario;
     |NOME_DAT #110 aAlfa;
     |DELINDEX #110;
     |ABRE #110;
     |BUCLE agifa065;
     |CIERRA #110;

     |ABRE #24;
     |BUCLE Tmp;
     |CIERRA #24;

     |DELINDEX #110;
|FPRC;
