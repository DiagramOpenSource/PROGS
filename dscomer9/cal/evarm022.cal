|FICHEROS;
     evarm022 #0;
     evarm004 #4;
     agifa024 #24;
     agifa210 #10,MANTE;
     agifa071 #71;
     agifa073 #73;
     agifa104 #104;
|FIN;

|VARIABLES;
     &eaSerPed = "";
     &enNumPed = 0;
     &eaCliente = "";
     nOk = 0;
     nSw = 0;
     i = 0;
     &Tempo = "";
     nPdte = 0;
     nTalla = 0;
     aAlfa = "";
|FIN;

|PROCESO Imprimiendo;
     |PRINT;
|FPRC;

|DEFBUCLE Imprimiendo;
     #0#3;
     ;
     eaCliente, "  ", 000001, 001;
     eaCliente, "zz", 999999, 999;
     ;
     NULL, Imprimiendo;
|FIN;

|PROCESO Imprime;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "eva00022";
          |SI FSalida = 0;
               |BUCLE Imprimiendo;
               |PIEINF;
               |FININF;
          |SINO;
               |MENAV "0000Error en informe 'eva00022'";
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;


|PROCESO PulsaTecla; |TIPO 11;
     |SI FSalida = 12;
          eaSerPed = #0#5;
          enNumPed = #0#6;
          |SUB_EJECUTA_NP "evarm023";
          |ERROR;
     |FINSI;
     |SI FSalida = 13; || Albaran
          |ABRE #10;
          #10#52 = #0#0;
          #10#0 = #0#1;
          |LEE 020#10=;
          |SI FSalida = 0;
               |PUSHV 0101 2380;
               |CLS;
               |PINPA #0#10;
               |PINDA #0#10;
               |ENDATOS #4#10;
               |POPV;
          |FINSI;
          |CIERRA #10;
          |ERROR;
     |FINSI;
     |SI FSalida = 14; || Imprimir
          |ERROR;
          nSw = 1;
          |PTEC 807;
     |FINSI;
     |SI FSalida = 15;
          |CONSULTA_CLAVE #2#0;
          |ERROR;
     |FINSI;
|FPRC;

|PROCESO Min;
     #0#10 = eaCliente;
     #0#0 = "     ";
     #0#1 = 000001;
     #0#2 = 001;
     #0#9 = "31.12.9999";
|FPRC;

|PROCESO Max;
     #0#10 = eaCliente;
     #0#0 = "zzzzz";
     #0#1 = 999999;
     #0#2 = 999;
     #0#9 = "01.01.0000";
|FPRC;

|PROCESO LlenaRefe;
     aAlfa = #0#2; |QBF aAlfa;
     |SI aAlfa = "";
          #4#30 = #0#5;
          #4#31 = #0#6;
          #4#32 = #0#7;
          |LEE 000#4=;
          |SI FSalida = 0;
               #0#8 = #4#28;
               |GRABA 020#0a;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE LlenaRefe;
     #0#3;
     ;
     eaCliente, "     ", 000001, 001;
     eaCliente, "zzzzz", 999999, 999;
     be;
     NULL, LlenaRefe;
|FIN;

|PROCESO Lineal;
     |ABRE #4;
     |BUCLE LlenaRefe;
     |CIERRA #4;

     |ABRE #24;
     #24#0 = eaCliente;
     |LEE 000#24=;
     |CIERRA #24;
     |PINTA 523, #24#0;
     |PINTA 531, #24#1;

     |PARA nSw = 1; |SI nSw ! 0; |HACIENDO;
          nSw = 0;
          |ENTLINEAL #2#0, 3, 4, 20, 0, Min, Max;
          |SI nSw = 1;
               |HAZ Imprime;
          |FINSI;
     |SIGUE;
|FPRC;

|PROCESO Tipo66; |TIPO 66;
     |ABRE #24;
     #24#0 = #0#10;
     |LEE 000#24];
     |CONSULTA_CLAVE #1#24;
     |SI FSalida = 0;
          #0#10 = #24#0;
          nOk = 1;
     |SINO;
          |ERROR;
     |FINSI;
     |CIERRA #24;
|FPRC;

|PROGRAMA;
     |CLS;
     |SI eaCliente = "";
          |PINPA #0#0;
          |ENTLINEAL #2#0, 3, 7, 20, 0, Min, Max;
          |PINTA 531, #24#1;
          |C_V #0#10, 1, "S";
          |ENCAMPO #10#0;
          |SI FSalida = 0; |O nOk = 1;
               |C_V #0#10, 1, "N";
               eaCliente = #0#10;
               |HAZ Lineal;
          |FINSI;
     |SINO;
          |PINPA #0#0;
          |HAZ Lineal;
     |FINSI;
|FPRO;
