|FICHEROS;
     rocaiz01 #0;
     rocaim01 #1;
     agifa019 #19;
     agifa024 #24;
|FIN;

|VARIABLES;
     &eaCliente = "";
     &enPrecio = 0;
     &eaArticulo = "";
     &nDeci_PreBase = 0;
     &enComision = 0;
     nTari = 0;
     nPrecio = 0;
     aAlfa = "";
     nBoton1 = 0;
     nBoton2 = 0;
     nBoton3 = 0;
     nBoton4 = 0;
     nBoton5 = 0;
     nBoton6 = 0;
     aAlf1 = "";
     aAlf2 = "";
     nPos = 0;
     aLon = "";
     nNume = 0;
     aNume = "";
     aPrecio = "";
|FIN;

|PROCESO Formatea;
     aNume = "1" + ("0" * nDeci_PreBase);
     nNume = aNume;
     nNume = nPrecio * nNume;
     |SI nPrecio = 0;
          aAlfa = "0" * nDeci_PreBase;
     |SINO;
          aAlfa = nNume;
     |FINSI;
     aLon = aAlfa % A0;
     nPos = aLon;
     nPos = aLon - nDeci_PreBase;
     nPos = 100 + nPos;
     aAlf1 = aAlfa % nPos;
     nPos = 100 + nDeci_PreBase;
     nPos = -nPos;
     aAlf2 = aAlfa % nPos;
     |SI aAlf1 = ""; aAlf1 = "0"; |FINSI;
     aPrecio = aAlf1 + "." + aAlf2;
|FPRC;


|PROCESO Tari1;
     nTari = 1;
     enPrecio = #19#18;
     enComision = #1#1;
     |PTEC 802;
|FPRC;

|PROCESO Tari2;
     nTari = 2;
     enPrecio = #19#19;
     enComision = #1#2;
     |PTEC 802;
|FPRC;

|PROCESO Tari3;
     nTari = 3;
     enPrecio = #19#20;
     enComision = #1#3;
     |PTEC 802;
|FPRC;

|PROCESO Tari4;
     nTari = 4;
     enPrecio = #19#147;
     enComision = #1#4;
     |PTEC 802;
|FPRC;

|PROCESO Tari5;
     nTari = 5;
     enPrecio = #19#148;
     enComision = #1#5;
     |PTEC 802;
|FPRC;

|PROCESO Tari6;
     nTari = 6;
     enPrecio = #19#149;
     enComision = #1#6;
     |PTEC 802;
|FPRC;

|PROCESO Recoge;
     |SI nTari = 1;
          enPrecio = #19#18;
          enComision = #1#1;
     |FINSI;

     |SI nTari = 2;
          enPrecio = #19#19;
          enComision = #1#2;
     |FINSI;

     |SI nTari = 3;
          enPrecio = #19#20;
          enComision = #1#3;
     |FINSI;

     |SI nTari = 4;
          enPrecio = #19#147;
          enComision = #1#4;
     |FINSI;

     |SI nTari = 5;
          enPrecio = #19#148;
          enComision = #1#5;
     |FINSI;

     |SI nTari = 6;
          enPrecio = #19#149;
          enComision = #1#6;
     |FINSI;
|FPRC;

|PROCESO BuscaTari;
     |SI enPrecio = #19#18;
          nTari = 0;
     |FINSI;

     |SI enPrecio = #19#19;
          nTari = 1;
     |FINSI;

     |SI enPrecio = #19#20;
          nTari = 2;
     |FINSI;

     |SI enPrecio = #19#147;
          nTari = 3;
     |FINSI;

     |SI enPrecio = #19#148;
          nTari = 4;
     |FINSI;

     |SI enPrecio = #19#149;
         nTari = 5;
     |FINSI;
|FPRC;

|PROGRAMA;
     |MENSA "0000Seleccione la tarifa pulsando botón o tecla 1, 2, 3, 4, 5, 6";

     |ABRE #19;
     #19#0 = eaArticulo;
     |LEE 020#19=;
     |CIERRA #19;

     |ABRE #1;
     #1#0 = #19#0;
     |LEE 000#1=;
     |CIERRA #1;

     |ABRE #24;
     #24#0 = eaCliente;
     |LEE 000#24=;
     |SI FSalida ! 0;
          #24#39 = 1;
     |FINSI;
     |CIERRA #24;

     |BLANCO 6252356;
     |PINPA #0#0;
     nTari = #24#39 - 1;
     |HAZ BuscaTari;
     |PINTA #0nTari;

     nPrecio = #19#18;
     |HAZ Formatea;
     aAlfa = "BOTON," + aPrecio;
     |CONTROL_SIMPLE 0, aAlfa, 1041, 1053, Tari1;
     nBoton1 = FSalida;

     nPrecio = #19#19;
     |HAZ Formatea;
     aAlfa = "BOTON," + aPrecio;
     |CONTROL_SIMPLE 0, aAlfa, 1241, 1253, Tari2;
     nBoton2 = FSalida;

     nPrecio = #19#20;
     |HAZ Formatea;
     aAlfa = "BOTON," + aPrecio;
     |CONTROL_SIMPLE 0, aAlfa, 1441, 1453, Tari3;
     nBoton3 = FSalida;

     nPrecio = #19#147;
     |HAZ Formatea;
     aAlfa = "BOTON," + aPrecio;
     |CONTROL_SIMPLE 0, aAlfa, 1641, 1653, Tari4;
     nBoton4 = FSalida;

     nPrecio = #19#148;
     |HAZ Formatea;
     aAlfa = "BOTON," + aPrecio;
     |CONTROL_SIMPLE 0, aAlfa, 1841, 1853, Tari5;
     nBoton5 = FSalida;

     nPrecio = #19#149;
     |HAZ Formatea;
     aAlfa = "BOTON," + aPrecio;
     |CONTROL_SIMPLE 0, aAlfa, 2041, 2053, Tari6;
     nBoton6 = FSalida;

     |PARA nTari = 0; |SI nTari = 0; |HACIENDO;
          |LEETECLA aAlfa;
          |SI aAlfa ] 1; |Y aAlfa [ 6;
               nTari = aAlfa; |HAZ Recoge; |SAL;
          |FINSI;
          aAlfa = aAlfa % 203;
          |SI aAlfa = 806; |O aAlfa = 807; |SAL; |FINSI;
     |SIGUE;

     |FIN_CONTROL_WINDOWS nBoton1;
     |FIN_CONTROL_WINDOWS nBoton2;
     |FIN_CONTROL_WINDOWS nBoton3;
     |FIN_CONTROL_WINDOWS nBoton4;
     |FIN_CONTROL_WINDOWS nBoton5;
     |FIN_CONTROL_WINDOWS nBoton6;

     |PULSATECLA;
|FPRO;
