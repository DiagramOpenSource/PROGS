|FICHEROS;
     gocasdev #0;
     gocaseta #1;
     goparame #100;
|FIN;
-------------------------------------------------------------------------------
|VARIABLES;
     nLinea    = 0;
     nModo     = 0;
     FEstado   = 0;
|FIN;
-------------------------------------------------------------------------------
-------------------------------------------------------------------------------
|PROGRAMA;
     |CLS;
     |ABRE #0;
     |DDEFECTO #0;
     |PINPA #0#0;
     |ABRE #100; |LEE 000#100p; |CIERRA #100;
     |SI #100#141 = "O";
          |ATRI R; |PINTA 916, " O.T.       "; |ATRI 0;
     |FINSI;
     |ENTLINEAL #1#0, 1, 1, 23, 0, Minimo, Maximo;
|FPROG;
-------------------------------------------------------------------------------
|PROCESO Minimo;
     #0#0  = 1;
     #0#15 = "D";
|FPRC;
-------------------------------------------------------------------------------
|PROCESO Maximo;
     #0#0  = 9999;
     #0#15 = "D";
|FPRC;
-------------------------------------------------------------------------------
|PROCESO TipoDevo; |TIPO 0;
     |SI #0#15 ! "D";
          |MENAV "0000SOLO PUEDE MODIFICAR LINEAS DE DEVOLUCION";
          |ERROR10;
     |FINSI;
|FPRC;
-------------------------------------------------------------------------------
|PROCESO AltaContr; |TIPO 3;
   nModo = (FEntrada / 100) ! 0;
   |ABRE #gocaseta;
   |SI nModo = 1;
      |LEE 000#gocaseta.u;
      nLinea = #gocaseta#0 + 1;
      |DDEFECTO #gocaseta;
      #gocaseta#0 = nLinea;
      |GRABA 020#gocaseta.b;
   |FINSI;
   |SI nModo = 2;
      |SELECT #3#gocaseta;
      #gocaseta#1  = #gocasdev#1;
      #gocaseta#2  = #gocasdev#2;
      #gocaseta#3  = #gocasdev#3;
      #gocaseta#4  = #gocasdev#4;
      #gocaseta#5  = #gocasdev#5;
      #gocaseta#6  = #gocasdev#6;
      #gocaseta#17 = #gocasdev#6;
      |LEE 000#gocaseta.=;
      FEstado = FSalida;
      |SELECT #1#gocaseta;
      |SI FEstado = 0;
         #gocaseta#0 = nLinea;
         |LEE 101#gocaseta.=;
      |SINO;
         |LEE 000#gocaseta.u;
         nLinea = #gocaseta#0 + 1;
         |DDEFECTO #gocaseta;
         #gocaseta#0 = nLinea;
         |GRABA 020#gocaseta.b;
      |FINSI;
   |FINSI;
   #gocaseta#1  = #gocasdev#1;
   #gocaseta#2  = #gocasdev#2;
   #gocaseta#3  = #gocasdev#3;
   #gocaseta#4  = #gocasdev#4;
   #gocaseta#5  = #gocasdev#5;
   #gocaseta#6  = #gocasdev#6;
   #gocaseta#7  = #gocasdev#7;
   #gocaseta#8  = #gocasdev#8;
   #gocaseta#9  = #gocasdev#9;
   #gocaseta#10 = #gocasdev#10;
   #gocaseta#11 = #gocasdev#11;
   #gocaseta#12 = #gocasdev#12;
   #gocaseta#13 = #gocasdev#13;
   #gocaseta#14 = #gocasdev#14;
   #gocaseta#15 = #gocasdev#15;
   #gocaseta#16 = #gocasdev#16;
   #gocaseta#17 = #gocasdev#17;
   #gocaseta#18 = #gocasdev#18;
   #gocaseta#19 = #gocasdev#19;
   #gocaseta#20 = #gocasdev#20;
   #gocaseta#21 = #gocasdev#21;
   #gocaseta#22 = #gocasdev#22;
   #gocaseta#23 = #gocasdev#23;
   #gocaseta#24 = #gocasdev#24;
   #gocaseta#25 = #gocasdev#25;
   |GRABA 020#gocaseta.a; |LIBERA #gocaseta;
   |CIERRA #gocaseta;
|FPRC;
-------------------------------------------------------------------------------
|PROCESO BajaContr; |TIPO 1;
   nModo = (FEntrada / 100) ! 0;
   |SI nModo = 3;
      |ABRE #gocaseta;
      |SELECT #3#gocaseta;
      #gocaseta#1  = #gocasdev#1;
      #gocaseta#2  = #gocasdev#2;
      #gocaseta#3  = #gocasdev#3;
      #gocaseta#4  = #gocasdev#4;
      #gocaseta#5  = #gocasdev#5;
      #gocaseta#6  = #gocasdev#6;
      #gocaseta#17 = #gocasdev#17;
      |LEE 101#gocaseta.=;
      |SI FSalida = 0;
         |BORRA 020#gocaseta.a; |LIBERA #gocaseta;
      |FINSI;
      |SELECT #1#gocaseta;
      |CIERRA #gocaseta;
   |FINSI;
|FPRC;
