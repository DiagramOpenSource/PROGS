|FICHEROS;
     malpe118 #0;
     malpe087 #87;
     malpe088 #88;
     malpe090 #90;
     malpe091 #91;
     malpe104 #104;
|FIN;

|VARIABLES;
     &enLin = 0;
     nMal = 1;
     nHay = 0;
     fFecha = @;
|FIN;

|PROCESO malpe104;
     |SI fFecha = "01.01.0000"; fFecha = #104#4; |FINSI;
     |SI fFecha > #104#4;
          enLin = #104#3;
          nMal = 1;
     |FINSI;
     fFecha = #104#4;
|FPRC;

|DEFBUCLE malpe104;
     #104#1;
     ;
     #88#28, #88#0, #88#1, 001;
     #88#28, #88#0, #88#1, 999;
     ;
     NULL, malpe104;
|FIN;

|PROCESO malpe088;
     fFecha = "01.01.0000";
     nMal = 0;
     |BUCLE malpe104;
     |SI nMal = 1;
          nHay = 1;
          |PRINT;
     |FINSI;
|FPRC;

|DEFBUCLE malpe087;
     #87#1;
     1;
     #0#1, #0#3, #0#5;
     #0#2, #0#4, #0#6;
     ;
     NULL, NULL, malpe088;
|FIN;

|DEFBUCLE LinPedido;
     #88#1;
     ;
     #91#31, #91#12, #91#21;
     #91#31, #91#12, #91#21;
     ;
     NULL, malpe088;
|FIN;

|PROCESO malpe091;
     #87#25 = #91#31;
     #87#0 = #91#12;
     |LEE 000#87=;
     |SI FSalida = 0;
          |BUCLE LinPedido;
     |FINSI;
|FPRC;

|DEFBUCLE malpe090;
     #90#3;
     ;
     "      ", #0#5, #0#1, #0#3;
     "zzzzzz", #0#6, #0#2, #0#4;
     ;
     NULL, NULL, malpe091;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "malpe118";
          |SI FSalida = 0;
               |SI #0#0 = "P";
                    |BUCLE malpe087;
               |SINO;
                    |ABRE #87;
                    |BUCLE malpe090;
                    |CIERRA #87;
               |FINSI;
               |SI nHay ! 0; |PIEINF; |FINSI;
               |FININF;
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;
