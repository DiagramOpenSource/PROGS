|FICHEROS;
     agifa130 #0,MANTE;
     agifa142 #142;
|FINSI;

|VARIABLES;
     &enSalida = 0;
     nExiste = 0;
     aAlfa = "";
     aSer = "";
     aNum = "";
|FINS;

|PROGRAMA;
     aAlfa = PARAMETRO;
     aSer = aAlfa % 105;
     aNum = aAlfa % 606;

     |ABRE #142; |LEE 000#142p; |CIERRA #142;

     |PUSHV 0101 2380;
     |CLS;

     |ABRE #0;
     #0#49 = aSer;
     #0#0 = aNum;
     |LEE 101#0=;
     nExiste = FSalida;
     |PINPA #0#0;
     |PINDA #0#0;
     |SI nExiste ! 0;
          |GRABA 020#0b;
          |CONFI "0000SConfirma el alta (S/N)";
     |SINO;
          FSalida = 0;
     |FINSI;
     enSalida = FSalida;
     |SI FSalida ! 0;
          |SI nExiste ! 0; |BORRA 020#0c; |FINSI;
     |SINO;
          |SI nExiste = 0;
               |ENDATOS #2#0;
          |SINO;
               |ENDATOS #1#0;
          |FINSI;
          enSalida = FSalida;
          |SI FSalida ! 0;
               |SI nExiste ! 0; |BORRA 020#0c; |FINSI;
          |SINO;
               |GRABA 020#0a;
          |FINSI;
     |FINSI;
     |CIERRA #0;
     |POPV;
|FPRO;
