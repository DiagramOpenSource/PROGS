|FICHEROS;
    agifa143 #0;  ||  Temporal pase facturas proformas a pedidos.
    agifa144 #1;  ||  Seleccion pase.
    agifa146 #2;  ||  Cabec. Facturas Proforma.
    agifa147 #3;  ||  LIneas Facturas Proforma.
|FIN;

|VARIABLES;
     aSerie = "";
     nTecla = 0;
|FIN;

|PROCESO EntraFecha;
     |ENCAMPO #5#0;
     |SI FSalida = 0;
          #0#8 = "*";
          |PINTA #0#8;
          |GRABA 020#0a;
     |FINSI;
|FPRC;

|PROCESO entra_serie;
     |ENCAMPO #7#0;
     |SI FSalida = 0;
          aSerie = #0#7;
          #0#8 = "*";
          |PINTA #0#8;
          |GRABA 020#0a;
     |FINSI;
|FPRC;

|PROCESO salida; |TIPO 11;
     nTecla = FSalida;
     |SI FSalida = 9;
          |HAZ consulta;
          |ERROR;
     |FINSI;
     |SI FSalida = 10;
          |HAZ entra_serie;
     |FINSI;
     |SI FSalida = 11;
          |HAZ EntraFecha;
     |FINSI;
|FPRC;

|PROCESO intro; |TIPO 0;
     |SI FSalida = 0; |Y #0Campo = Contenido;
          |SI #0#8 = "*";
               #0#8 = "";
          |SINO;
               #0#8 = "*";
          |FINSI;
          |GRABA 020#0a;
          |PINTA #0#8;
     |FINSI;
|FPRC;

|PROCESO consulta;
     |ABRE #2;
     |DDEFECTO #2;
     #2#48 = #0#2;  ||  Serie.
     #2#0  = #0#3;  ||  Factura.
     |LEE 001#2=;
     |SI FSalida = 0;
         |PUSHV 0101 2380;
         |CLS;
         |PINPA #0#2;
         |PINDA #0#2;
         |PAUSA;
         |POPV;
     |SINO;
         |MENAV "0000Factura Inexistente.";
     |FINSI;
     |CIERRA #2;
|FPRC;

|PROCESO lim_min;
         #3#20 = #0#2;  ||  Serie.
         #3#0  = #0#3;  ||  Factura.
         #3#1  = 1;     ||  Linea.
|FPRC;

|PROCESO lim_max;
         #3#20 = #0#2;  ||  Serie.
         #3#0  = #0#3;  ||  Factura.
         #3#1  = 999;   ||  Linea.
|FPRC;
