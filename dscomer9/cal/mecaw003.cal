|FICHEROS;
     mecaw003 #0;
     mecaw017 #17,MANTE;   || Tmp
     mecaw018 #18,MANTE;   || Tmp
     mecaw019 #19,MANTE;   || Tmp
     mecam006 #6;
     agifa049 #49;
     agifa073 #73;
     agifa104 #104;
     agifa019 #119;
     agifa048 #480;
|FIN;

|VARIABLES;
     &Tempo = "";
     &aTmp17 = "";
     &aTmp18 = "";
     &aTmp19 = "";
     aAlfa = "";
     nHay = 0;
     nHayCompo = 0;
     nMarca = 0;
|FIN;

|PROCESO MarcaTodo;
     |DDEFECTO #6;
     #6#0 = #18#0;
     #6#1 = #18#1;
     #6#2 = #18#2;
     |LEE 101#6=;
     |SI FSalida ! 0; |GRABA 020#6b; |FINSI;

     |SI nMarca = 13;
          #18#6 = "*";
          #18#7 = ~;
          #6#4 = "S";
          #6#5 = #18#7;
     |SINO;
          #18#6 = "";
          #18#7 = "01.01.0000";
          #6#4 = "N";
          #6#5 = #18#7;
     |FINSI;
     |GRABA 020#18a;
     |LIBERA #18;

     |GRABA 020#6a;
     |LIBERA #6;
|FPRC;

|DEFBUCLE MarcaTodo;
     #18#1;
     ;
     INICIO;
     FINAL;
     be;
     NULL, MarcaTodo;
|FIN;

|PROCESO EscanLin;
     |SI #49#2 = #19#1;
          nHayCompo = 1;
     |FINSI;
|FPRC;

|DEFBUCLE EscanLin;
     #49#1;
     ;
     #73#2, 001;
     #73#2, 999;
     ;
     NULL, EscanLin;
|FIN;

|PROCESO Pedido3;
     |DDEFECTO #6;
     #6#0 = #73#28;
     #6#1 = #73#0;
     #6#2 = #73#1;
     |LEE 000#6=;
     |SI #6#4 = "N"; |ACABA; |FINSI;
     |SI #6#8 ! 0; |ACABA; |FINSI;

     nHayCompo = 0;
     |BUCLE EscanLin;
     |SI nHayCompo = 0; |ACABA; |FINSI;

     |DDEFECTO #104;
     #104#25 = #73#28;
     #104#0 = #73#0;
     |LEE 000#104=;

     #18#0 = #104#25;
     #18#1 = #104#0;
     #18#2 = #73#1;
     #18#3 = #104#1;
     #18#4 = #104#4;
     #18#5 = #104#8;

     |SI #6#4 = "S";
          #18#6 = "*";
     |SINO;
          #18#6 = "";
     |FINSI;
     #18#7 = #6#5;
     #18#8 = #73#2;
     #18#9 = #73#4;
     |GRABA 020#18n;
     nHay = 1;
|FPRC;

|DEFBUCLE Pedido3;
     #73#3;
     ;
     INICIO;
     FINAL;
     ;
     NULL, Pedido3;
|FIN;

|PROCESO Tipo19_11; |TIPO 11;
     |SI FSalida ! 13; |ACABA; |FINSI;

     |HAZ CreaTempo; aTmp18 = Tempo; |NOME_DAT #18 Tempo; |DELINDEX #18;
     |PUSHV 0501 2380;
     |ABRE #18;
     |ABRE #6;
     |ABRE #104;
     nHay = 0;
     |BUCLE Pedido3;
     |CIERRA #104;
     |CIERRA #6;
     |CIERRA #18;
     |SI nHay = 0;
          |MENAV "0000No hay registros...";
     |SINO;
          |PARA nMarca = 1; |SI nMarca ! 0; |HACIENDO;
               nMarca = 0;
               |ENTLINEAL #1#18, 1, 4, 19, 1, Min18, Max18;
               |SI nMarca ! 0;
                    |ABRE #6;
                    |BUCLE MarcaTodo;
                    |CIERRA #6;
               |FINSI;
          |SIGUE;
     |FINSI;
     |POPV;
     Tempo = aTmp18; |HAZ BoraTempo; |DELINDEX #18;
|FPRC;

|PROCESO Escandallo;
     |DDEFECTO #119;
     #119#0 = #49#2;
     |LEE 000#119=;

     #19#0 = #49#1;
     #19#1 = #49#2;
     #19#2 = #49#3;
     #19#3 = #119#104;
     |GRABA 020#19n;
     nHay = 1;
|FPRC;

|DEFBUCLE Escandallo;
     #480#1;
     ;
     #17#8;
     #17#8;
     ;
     NULL, NULL, Escandallo;
|FIN;

|PROCESO Min19;
     #19#0 = 1;
|FPRC;

|PROCESO Max19;
     #19#0 = 999;
|FPRC;

|PROCESO EscandalloAceptadas;
     |HAZ CreaTempo; aTmp19 = Tempo; |NOME_DAT #19 Tempo; |DELINDEX #19;
     |PUSHV 0501 2380;
     |ABRE #19;
     |ABRE #119;
     nHay = 0;
     |BUCLE Escandallo;
     |CIERRA #119;
     |CIERRA #19;
     |SI nHay = 0;
          |MENAV "0000No hay registros.";
     |SINO;
          |ENTLINEAL #1#19, 1, 4, 22, 1, Min19, Max19;
     |FINSI;
     |POPV;
     Tempo = aTmp19; |HAZ BoraTempo; |DELINDEX #19;
|FPRC;

|PROCESO Tipo18_11; |TIPO 11;
     |SI FSalida = 13; |O FSalida = 14;
          nMarca = FSalida;
          |PTEC 807;
     |FINSI;
|FPRC;

|PROCESO Tecla18; |TIPO 0;
     |SI FSalida = 0; |Y #18Campo = Contenido;
          |ABRE #6;
          |DDEFECTO #6;
          #6#0 = #18#0;
          #6#1 = #18#1;
          #6#2 = #18#2;
          |LEE 101#6=;
          |SI FSalida ! 0; |GRABA 020#6b; |FINSI;
          |SI #6#8 ! 0;
               aAlfa = "0000Articulo en orden produccion:" + #6#14 + "/" + #6#8 + ". No se modifica.";
               |MENAV aAlfa;
          |SINO;
               |SI #18#6 = "*";
                    #18#6 = "";
                    #18#7 = "01.01.0000";
                    #6#4 = "N";
                    #6#5 = #18#7;
               |SINO;
                    #18#6 = "*";
                    #18#7 = ~;
                    #6#4 = "S";
                    #6#5 = #18#7;
               |FINSI;
               |GRABA 020#18a;
               |GRABA 020#6a;
               |LIBERA #6;
               |PINTA #18#6;
               |PINTA #18#7;
          |FINSI;
          |CIERRA #6;
     |FINSI;
|FPRC;

|PROCESO Pedido2;
     |DDEFECTO #6;
     #6#0 = #73#28;
     #6#1 = #73#0;
     #6#2 = #73#1;
     |LEE 000#6=;
     |SI #6#4 = "N"; |ACABA; |FINSI;
     |SI #6#8 ! 0; |ACABA; |FINSI;

     |DDEFECTO #104;
     #104#25 = #73#28;
     #104#0 = #73#0;
     |LEE 000#104=;

     #18#0 = #104#25;
     #18#1 = #104#0;
     #18#2 = #73#1;
     #18#3 = #104#1;
     #18#4 = #104#4;
     #18#5 = #104#8;

     |SI #6#4 = "S";
          #18#6 = "*";
     |SINO;
          #18#6 = "";
     |FINSI;
     #18#7 = #6#5;
     #18#8 = #73#2;
     #18#9 = #73#4;
     |GRABA 020#18n;
     nHay = 1;
|FPRC;

|DEFBUCLE Pedido2;
     #73#3;
     ;
     #17#8, "     ", 000001, "      ";
     #17#8, "zzzzz", 999999, "zzzzzz";
     ;
     NULL, Pedido2;
|FIN;

|PROCESO Aceptadas;
     |HAZ CreaTempo; aTmp18 = Tempo; |NOME_DAT #18 Tempo; |DELINDEX #18;
     |PUSHV 0501 2380;
     |ABRE #18;
     |ABRE #6;
     |ABRE #104;
     nHay = 0;
     |BUCLE Pedido2;
     |CIERRA #104;
     |CIERRA #6;
     |CIERRA #18;
     |SI nHay = 0;
          |MENAV "0000No hay registros...";
     |SINO;
          |PARA nMarca = 1; |SI nMarca ! 0; |HACIENDO;
               nMarca = 0;
               |ENTLINEAL #1#18, 1, 4, 19, 1, Min18, Max18;
               |SI nMarca ! 0;
                    |ABRE #6;
                    |BUCLE MarcaTodo;
                    |CIERRA #6;
               |FINSI;
          |SIGUE;
     |FINSI;
     |POPV;
     Tempo = aTmp18; |HAZ BoraTempo; |DELINDEX #18;
|FPRC;

|PROCESO Tipo11; |TIPO 11;
     |SI FSalida = 13; || F5;
          |HAZ Aceptadas;
          |ERROR; |ACABA;
     |FINSI;
     |SI FSalida = 14; || F6;
          |HAZ EscandalloAceptadas;
          |ERROR; |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tecla; |TIPO 0;
     |SI FSalida = 0; |Y #17Campo = Contenido;
          |ABRE #6;
          |DDEFECTO #6;
          #6#0 = #17#0;
          #6#1 = #17#1;
          #6#2 = #17#2;
          |LEE 101#6=;
          |SI FSalida ! 0; |GRABA 020#6b; |FINSI;
          |SI #6#8 ! 0;
               aAlfa = "0000Articulo en orden produccion:" + #6#14 + "/" + #6#8 + ". No se modifica.";
               |MENAV aAlfa;
          |SINO;
               |SI #17#6 = "*";
                    #17#6 = "";
                    #17#7 = "01.01.0000";
                    #6#4 = "N";
                    #6#5 = #17#7;
               |SINO;
                    #17#6 = "*";
                    #17#7 = ~;
                    #6#4 = "S";
                    #6#5 = #17#7;
               |FINSI;
               |GRABA 020#17a;
               |GRABA 020#6a;
               |LIBERA #6;
               |PINTA #17#6;
               |PINTA #17#7;
          |FINSI;
          |CIERRA #6;
     |FINSI;
|FPRC;

|PROCESO Min17;
     #17#0 = "     ";
     #17#1 = 0;
     #17#2 = 0;
|FPRC;

|PROCESO Max17;
     #17#0 = "zzzzzz";
     #17#1 = 999999;
     #17#2 = 999;
|FPRC;

|PROCESO Min18;
     #18#0 = "     ";
     #18#1 = 0;
     #18#2 = 0;
|FPRC;

|PROCESO Max18;
     #18#0 = "zzzzzz";
     #18#1 = 999999;
     #18#2 = 999;
|FPRC;

|PROCESO Pedido;
     |DDEFECTO #6;
     #6#0 = #73#28;
     #6#1 = #73#0;
     #6#2 = #73#1;
     |LEE 000#6=;
     |SI #6#4 = "S"; |ACABA; |FINSI;

     #17#0 = #104#25;
     #17#1 = #104#0;
     #17#2 = #73#1;
     #17#3 = #104#1;
     #17#4 = #104#4;
     #17#5 = #104#8;

     |SI #6#4 = "S";
          #17#6 = "*";
     |SINO;
          #17#6 = "";
     |FINSI;
     #17#7 = #6#5;
     #17#8 = #73#2;
     #17#9 = #73#4;
     |GRABA 020#17n;
     nHay = 1;
|FPRC;

|DEFBUCLE Pedido;
     #104#1;
     1, 4;
     #0#0, #0#2, #0#4, #0#6;
     #0#1, #0#3, #0#5, #0#7;
     ;
     NULL, NULL, Pedido;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |HAZ CreaTempo; aTmp17 = Tempo; |NOME_DAT #17 Tempo; |DELINDEX #17;
     |ABRE #17;
     |ABRE #6;
     |BUCLE Pedido;
     |CIERRA #6;
     |CIERRA #17;
     |SI nHay = 0;
          |MENAV "0000No hay registros";
     |SINO;
          |ENTLINEAL #1#17, 1, 4, 19, 1, Min17, Max17;
     |FINSI;
     Tempo = aTmp17; |HAZ BoraTempo; |DELINDEX #17;
|FPRC;
