|FICHEROS;
     dsm00034 #0;   || escandallo cabs.
     dsm00035 #1;   || escandallo lins.
     agifa019 #2;
     agifa017 #17;
     dsl00001 #36;       || Codigos de barras multiples
     agifa142 #142;
     dsm00010 #910;
|FIN;

|VARIABLES;
     nModo = 0;
|FIN;

|INCLUYE i_varart;

|PROCESO PideArt35;  |TIPO 7;
     nModo = (FEntrada / 100) ! 0;

     |SI #1#2 ! "                    ";
         |ABRE #2;
         #2#0 = #1#2;
         |LEE 000#2=;
         |SI FSalida ! 0;  |DDEFECTO #2;  |FINSI;
         |CIERRA #2;
         |SI #2#176 = "S";
             |C_M #1#2, 1, "N";
             |C_M #1#5, 1, "N";
             |ACABA;
         |FINSI;
     |FINSI;

     |ABRE #910;
     |LEE 040#910p;
     |SI FSalida ! 0;  |DDEFECTO #910;  |FINSI;
     |CIERRA #910;

     |SI #910#2 [ 2;    |ACABA;  |FINSI;

     eAlfa = #1Campo;
     |SUB_EJECUTA_NP "dsz99990";                 || Por Pantalla

     |SI eAlfa = "-1";  |PTEC 807;  |ACABA;  |FINSI;
     |SI eAlfa = "-2";              |ACABA;  |FINSI;

     eaArticulo = eAlfa;      ||  700000-4215

     #1Campo = eAlfa;
     |PINTA #1Campo;
     |PTEC 802;
|FPRC;


|PROCESO Calc635;  |TIPO 6;
     enAlta = 1;
     eaArticulo = #1Campo;
     |HAZ LlenaArticulo;
     |SI FSalida = 0;
          #1Campo = eaArticulo;
          |PINTA #1Campo;
     |SINO;
          |ERROR; |ACABA;
     |FINSI;

     |ABRE #142; |LEE 000#142=; |CIERRA #142;

     |SI #142#55 = "S";  || Codigos de Barras
          |ABRE #36;
          |SELECT #2#36;
          #36#3 = #1#2;
          |LEE 010#36=;
          |SI FSalida=0; |Y #1#2 ! #36#1;
               #1#2 = #36#1;
               |PINTA #1#2;
          |FINSI;
          |CIERRA #36;
     |FINSI;
     |ABRE #2;
     #2#0 = #1#2;
     |LEE 000#2=;
     |CIERRA #2;
|FPRC;


|PROCESO Tipo35_11; |TIPO 11;
     |SI FSalida = 13;
          eaProgVta = "dsm00035";
          |HAZ VerDobleUniF;
          |ERROR; |ACABA;
     |FINSI;
|FPRC;

|PROCESO DobleUni35; |TIPO 7;
     |C_M #1#10, 1, "S";
     eaProgVta = "dsm00035";
     |HAZ DobleUniF;
     |SI eaSw2Stock = "S";
          |C_M #1#10, 1, "N";
     |FINSI;
|FPRC;

|PROCESO PinUni; |TIPO 0;
     |PINTA #1#10;
|FPRC;

|PROCESO SacaPrecio; |TIPO 0;
     |SI #1Campo ! Contenido; |Y #1#4 ! " ";
          |ABRE #2;
          #2#0 = #0#2;
          |LEE 000#2=;
          |SI FSalida = 0;
               |SI #1#4 = "P";
                    #1#11 = #2#18; |PINTA #1#11;
               |SINO;
                    #1#11 = #2#9; |PINTA #1#11;
               |FINSI;
          |FINSI;
          |CIERRA #2;
     |FINSI;
|FPRC;
