|FICHEROS;
     guerz029 #0;
     gomatcab #1;
     gomatlin #2;
     gomatljn #3;

     goalbpa1 #11;
     goalbpa2 #12;
     goalbpa3 #13; || = gopartia
|FIN;

|VARIABLES;
     nEsta = 0;
     nTotComTra = 0;
     nTotComBas = 0;
     nTotVenTra = 0;
     nTotVenBas = 0;
     nImpComTrab = 0;
     nImpComBase = 0;
     nImpVenTrab = 0;
     nImpVenBase = 0;
|FIN;

|PROCESO goalbpa3Sum;
     nImpComTrab = #13#14;
     nImpComBase = #13#25;
     nImpVenTrab = #13#13;
     nImpVenBase = #13#24;

     nTotComTra = nTotComTra + nImpComTrab; ||Imp. Comp. Trabajo.
     nTotVenTra = nTotVenTra + nImpVenTrab; ||Imp. Vent. Trabajo.
     nTotComBas = nTotComBas + nImpComBase; ||Imp. Comp. Base.
     nTotVenBas = nTotVenBas + nImpVenBase; ||Imp. Vent. Base.
|FPRC;

|DEFBUCLE goalbpa3Sum;
     #13#1;
     ;
     "M", #3#5, #3#6, 001, 001;
     "M", #3#5, #3#6, 999, 999;
     ;
     NULL, goalbpa3Sum;
|FIN;

|PROCESO gomatljn;
     nTotComTra = 0;
     nTotComBas = 0;
     nTotVenTra = 0;
     nTotVenBas = 0;
     |BUCLE goalbpa3Sum;
     #3#9  = nTotComTra;                          ||I.Comp.Tra.
     #3#10 = nTotComBas;                          ||I.Comp.Bas.
     #3#11 = nTotVenTra;                          ||I.Vent.Tra.
     #3#12 = nTotVenBas;                          ||I.Vent.Bas.
     |GRABA 020#3a;
     #2#5 = #2#5 + #3#9;
     #2#6 = #2#6 + #3#10;
     #2#7 = #2#7 + #3#11;
     #2#8 = #2#8 + #3#12;
|FPRC;

|DEFBUCLE gomatljn;
     #3#1;
     ;
     #2#3, #2#4, 0001;
     #2#3, #2#4, 9999;
     ;
     NULL, gomatljn;
|FIN;

|PROCESO gomatlin;
     #2#5 = 0;
     #2#6 = 0;
     #2#7 = 0;
     #2#8 = 0;
     |BUCLE gomatljn;
     |GRABA 020#2a;

     |SI #2#9 = "P";
          #1#2 = #1#2 + #2#5;         ||Pres. Costo.
          #1#3 = #1#3 + #2#6;
          #1#4 = #1#4 + #2#7;         ||Pres. Venta.
          #1#5 = #1#5 + #2#8;
     |FINSI;

     |SI #2#9 = "A";
          #1#6 = #1#6 + #2#5;         ||Admi. Costo.
          #1#7 = #1#7 + #2#6;
          #1#8 = #1#8 + #2#7;         ||Admi. Venta.
          #1#9 = #1#9 + #2#8;
     |FINSI;

     |SI #2#9 = "E";
          #1#10 = #1#10 + #2#5;         ||Extr. Costo.
          #1#11 = #1#11 + #2#6;
          #1#12 = #1#12 + #2#7;         ||Extr. Venta.
          #1#13 = #1#13 + #2#8;
     |FINSI;

     #1#14 = #1#4 + #1#8 + #1#12;           ||Total Gen. Venta.
     #1#15 = #1#5 + #1#9 + #1#13;

     #1#16 = #1#2 + #1#6 + #1#10;           ||Total Gen. Venta.
     #1#17 = #1#3 + #1#7 + #1#11;
|FPRC;

|PROCESO gomatljnMira;
     |SI #3#5 ] #0#4; |Y #3#5 [ #0#5;
          |SI #3#6 ] #0#6; |Y #3#6 [ #0#7;
               nEsta = 1;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE gomatljnMira;
     #3#1;
     ;
     #2#3, #2#4, 0001;
     #2#3, #2#4, 9999;
     ;
     NULL, gomatljnMira;
|FIN;

|PROCESO gomatlinMira;
     |BUCLE gomatljnMira;
|FPRC;

|PROCESO gomatcab;
     nEsta = 0;
     |BUCLELIN 2 gomatlinMira #1;
     |SI nEsta = 0;
          |ERROR;
     |SINO;
          #1#2  = 0;
          #1#4  = 0;
          #1#6  = 0;
          #1#8  = 0;
          #1#10 = 0;
          #1#12 = 0;
          #1#14 = 0;
          #1#16 = 0;
     |FINSI;
|FPRC;

|PROCESO gomatcabFin;
     |SI nEsta ! 0;
          |GRABA 020#1a;
     |FINSI;
|FPRC;

|DEFBUCLE gomatcab;
     #1#1;
     ;
     #0#0, #0#2;
     #0#1, #0#3;
     be;
     NULL, gomatcab, gomatlin, gomatcabFin;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |BUCLE gomatcab;
|FPRC;
