|FICHEROS;
     dsz00068 #0;
     dsl00001 #1;
     agifa019 #19;
|FIN;

|VARIABLES;
     nLin = 0;
     &eaCodBar = "";
     aMensa    = "";
     nLinea    = 0;
     aCodBarra = "";
|FIN;

|PROCESO NoRepe; |TIPO 0;
     |SI FSalida = 2; |ACABA; |FINSI;
     aMensa = "";
     |ABRE #1;
     |SELECT #2#1;
     #1#3 = #0#3;
     |LEE 000#1];
     |PARA; |SI FSalida = 0; |Y #1#3 = #0#3; |HACIENDO;
          aMensa = "0000Codigo Existente." + &13 + " Articulo: [" + #1#1 + "]";
          |LEE 000#1s;
     |SIGUE;
     |CIERRA #1;

     |SI aMensa ! "";
          |MENAV aMensa;
          |ERROR;
     |FINSI;
|FPRC;


|PROCESO AltaDsl0001;
     |ABRE #1;
     |LEE 000#1u;
     nLin = #1#0 + 1;
     |DDEFECTO #1;
     #1#0 = nLin;
     #1#1 = #0#1;
     #1#2 = #0#2;
     #1#3 = #0#3;
     #1#4 = #0#4;
     #1#5 = #0#5;
     #1#6 = #0#6;
     |GRABA 020#1n;
     |CIERRA #1;

     |SI #dsl00001#6 = 0; |O #dsl00001#6 = 1;
          |ABRE #agifa019;
          #agifa019#0 = #dsl00001#1;
          |LEE 101#agifa019.=;
          |SI FSalida = 0;
               #agifa019#128 = #dsl00001#3;
               |GRABA 020#agifa019.a;
          |FINSI;
          |LIBERA #agifa019;
          |CIERRA #agifa019;
     |FINSI;
|FPRC;

|PROGRAMA;
     |BLANCO 807 1975;
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |SI FSalida = 0;
          |HAZ AltaDsl0001;
          eaCodBar = #0#3;
     |FINSI;
|FPRO;
