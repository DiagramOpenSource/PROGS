|FICHEROS;
     desan005 #0;
     dsm00116 #116;
|FIN;

|VARIABLES;
     nPos = 0;
     i = 0;
     fFecha = @;
     nModo = 0;
     aAlfa = "";
     aPrv = "";
     nA¤o = 0;
     nNum = 0;
|FIN;

|PROCESO DefCampa; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1;
          aPrv = #0#0;
          nA¤o = #0#1;
          #0#2 = 999;
          |LEE 000#0];
          |SI FSalida = 0;
               |LEE 000#0a;
          |SINO;
               |LEE 000#0u;
          |FINSI;
          |SI FSalida = 0; |Y aPrv = #0#0; |Y nA¤o = #0#1;
               nNum = #0#2 + 1;
          |SINO;
               nNum = 1;
          |FINSI;
          |DDEFECTO #0;
          #0#0 = aPrv;
          #0#1 = nA¤o;
          #0#2 = nNum;
     |FINSI;
|FPRC;

|PROCESO DefA¤o; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1;
          fFecha = ~;
          aAlfa = fFecha % -104;
          #0#1 = aAlfa;
     |FINSI;
|FPRC;

|PROCESO Tipo13; |TIPO 13;
     |ATRI I;
     |C_A #116#1, 1, 27;
     |ABRE #116;
     nPos = 1013;
     |PARA i = 3; |SI i [ 12; |HACIENDO i = i + 1;
          |DDEFECTO #116;
          #116#0 = #0i;
          |LEE 000#116=;
          |PINTA nPos, #116#1;
          nPos = nPos + 100;
     |SIGUE;
     nPos = 1052;
     |PARA i = 13; |SI i [ 22; |HACIENDO i = i + 1;
          |DDEFECTO #116;
          #116#0 = #0i;
          |LEE 000#116=;
          |PINTA nPos, #116#1;
          nPos = nPos + 100;
     |SIGUE;
     |CIERRA #116;
     |ATRI 0;
|FPRC;

|PROCESO Tipo0; |TIPO 0;
     |ABRE #116;
     #116#0 = #0Campo;
     |LEE 000#116=;
     |SI FSalida ! 0;
          |MENAV "0000Grupo articulo inexistente...";
          |ERROR;
     |SINO;
          |HAZ Tipo13;
     |FINSI;
     |CIERRA #116;
|FPRC;

|PROCESO Tipo66; |TIPO 66;
     |ABRE #116;
     #116#0 = #0Campo;
     |LEE 000#116];
     |CONSULTA_CLAVE #1#116;
     |SI FSalida = 0;
          #0Campo = #116#0; |PINTA #0Campo;
     |SINO;
          |ERROR;
     |FINSI;
     |CIERRA #116;
|FPRC;
