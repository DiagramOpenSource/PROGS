|FICHEROS;
     dsy00007 #0;
     agifa501 #501;
     agifa572 #572;
     agifa024 #24;
|FIN;

|VARIABLES;
     &enFactu  = 0;
     &enImpo   = 0;
     aInforme  = "";
     nHay      = 0;
     aCli      = "";
|FIN;

|PROCESO agifa572;
     |SI #572#9 [ 0;
          |ACABA;
     |FINSI;

     nHay = 1;

     |SI #0#4 = "D";
          |DDEFECTO #24;
          #24#0 = #572#0;
          |LEE 000#24=;

          #501#36 = #572#13;
          #501#0 = #572#3;
          |LEE 000#501=;

          |PRINT;
     |SINO;
          |SI aCli ! #572#0; |Y aCli ! "";
               |DDEFECTO #24;
               #24#0 = aCli;
               |LEE 000#24=;
               |PRINT;
               enFactu = 1;
               enImpo = #572#9;
          |SINO;
               enFactu = enFactu + 1;
               enImpo = enImpo + #572#9;
          |FINSI;
          aCli = #572#0;
     |FINSI;
|FPRC;

|DEFBUCLE agifa572;
     #572#1;
     5;
     #0#2, 0001, #0#0;
     #0#3, 9999, #0#1;
     ;
     NULL, agifa572;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |SI #0#4 = "D";
          aInforme = "dsy10007";
     |SINO;
          aInforme = "dsy00007";
     |FINSI;

     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR aInforme;
          |SI FSalida = 0;
               |ABRE #24;
               |ABRE #501;
               |BUCLE agifa572;
               |CIERRA #24;
               |CIERRA #501;
               |SI aCli ! "";
                    |DDEFECTO #24;
                    #24#0 = aCli;
                    |LEE 000#24=;
                    |PRINT;
               |FINSI;
               |SI nHay ! 0;
                    |PIEINF;
               |FINSI;
               |FININF;
          |FINSI;
          |FINIMP;
     |FINSI;
|FPRC;
