|FICHEROS;
     guerm204 #0;
     agifa019 #19;
|FIN;

|VARIABLES;
     &enTiva = 0;
     &efFiva = @;
     &eaDiva = "";
     &enIva = 0;
     &enRec = 0;
     &EURODB = 0;
     nPrecio = 0;
     aMensaje = "";
     aCli = "";
     aDObra = "";
     aHObra = "";
|FIN;

|PROCESO Tipo8; |TIPO 8;
     |HAZ DecimalesBase;
|FPRC;

|PROCESO DefPrecio; |TIPO 7;
     |DDEFECTO #19;
     |ABRE #19;
     #19#0 = #0#2;
     |LEE 000#19=;
     nPrecio = #19#18;
     |SI #19#130 = "S";
          enTiva = #19#30;
          efFiva = ~;
          |HAZ SacaIVA;
          nPrecio = nPrecio / (1+(enIva/100));
     |FINSI;
     |SI nPrecio ! 0;
          #0#6 = nPrecio;
     |FINSI;
     |PINTA #0#6;
     |CIERRA #19;
|FPRC;

|PROCESO NoCero; |TIPO 0;
     |SI #guerm204#6 = 0;
          aMensaje = "0000El precio no puede ser CERO";
          |MENAV aMensaje;
          |ERROR;
     |FINSI;
|FPRC;

|PROCESO Min204;
     #0#0 = aCli;
     #0#1 = aDObra;
     #0#2 = " " * 20;
|FPRC;

|PROCESO Max204;
     #0#0 = aCli;
     #0#1 = aHObra;
     #0#2 = "z" * 20;
|FPRC;

|PROCESO Obra204_66; |TIPO 66;
     aCli = #0#0;
     |SI Campo = 1;
          aDObra = "     ";
          aHObra = "zzzzz";
     |SINO;
          aDObra = #0#1;
          aHObra = #0#1;
     |FINSI;
     |LEE 000#0];
     |CONSULTA_F_CLAVE #1#0, Min204, Max204;
     |SI FSalida = 0;
          #0#0 = #0#0; |PINTA #0#0;
          #0#1 = #0#1; |PINTA #0#1;
          #0#2 = #0#2; |PINTA #0#2;
     |SINO;
          |ERROR;
     |FINSI;
|FPRC;
