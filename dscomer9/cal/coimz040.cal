|FICHEROS;
     coimz040;
     agifa060;
     agifa120;
     coima042;
     coima043;
     coima060;
     coima061;
     coima062;
     coima063;
     coima064;
|FIN;

|VARIABLES;
     aAlfa               = "";
     aIdi                = "";
     aFic                = "";

     &eaArticulo         = "";
     &eaFam              = "";
     &eaSubFam           = "";
     &eaDesArt           = "";
|FIN;

|PROCESO T12;  |TIPO 12;
     #coima042#0 = #coimz040#0;
     |LEE 000#coima042.=;

     #coima043#0 = #coimz040#0;
     #coima043#1 = eaArticulo;
     |LEE 000#coima043.=;
     |SI FSalida ! 0;
         |DDEFECTO #coima043;
         #coima043#0 = #coimz040#0;
         #coima043#1 = eaArticulo;
         |GRABA 020#coima043.b;
     |FINSI;

     #coima043#2 = #coima042#1;
     #coima043#3 = eaDesArt;
     #coima043#4 = #coimz040#1;
     |GRABA 020#coima043.a;
     |LIBERA #coima043;
|FPRC;

|PROCESO T0;
     #coima042#0 = #coimz040#0;
     |LEE 000#coima042.=;
     |SI FSalida ! 0;
         |MENAV "0000El idioma no existe o no procede";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO GrabaIdioma;
     #coima042#0 = aIdi;
     |LEE 000#coima042.=;

     #coima062#0 = aIdi;
     #coima062#1 = eaFam;
     |LEE 000#coima062.=;
     |SI FSalida ! 0;
         #coima062#2 = #agifa060#1;
     |FINSI;

     #coima063#0 = aIdi;
     #coima063#1 = eaSubFam;
     |LEE 000#coima063.=;
     |SI FSalida ! 0;
         #coima063#2 = #agifa120#1;
     |FINSI;

     #coima060#0 = eaArticulo;
     |LEE 000#coima060.=;
     |SI FSalida ! 0;  |DDEFECTO #coima060;  |FINSI;

     #coima064#0 = aIdi;
     #coima064#1 = #coima060#6;
     |LEE 000#coima064.=;
     |SI FSalida ! 0;
         #coima064#2 = #coima061#1;
     |FINSI;

     aAlfa = #coima062#2;  |QBF aAlfa;
     aAlfa = aAlfa + " " + eaFam;        |QBF aAlfa;
     aAlfa = aAlfa + " " + #coima063#2;  |QBF aAlfa;
     aAlfa = aAlfa + " " + eaSubFam;     |QBF aAlfa;
     aAlfa = aAlfa + " " + #coima060#6;  |QBF aAlfa;
     aAlfa = aAlfa + " " + #coima064#2;  |QBF aAlfa;

     #coima043#0 = aIdi;
     #coima043#1 = eaArticulo;
     |LEE 000#coima043.=;
     |SI FSalida ! 0;
         |DDEFECTO #coima043;
         #coima043#0 = aIdi;
         #coima043#1 = eaArticulo;
         |GRABA 020#coima043.b;
     |FINSI;

     #coima043#2 = #coima042#1;
     #coima043#3 = eaDesArt;
     #coima043#4 = aAlfa;
     |GRABA 020#coima043.a;
     |LIBERA #coima043;

     |PULSATECLA;

     #coimz040#0 = #coima043#0;
     #coimz040#1 = #coima043#4;
     |GRABA 020#coimz040.n;
     |LIBERA #coimz040;
|FPRC;

|PROCESO Baja;
     #coimz040#0 = "";
|FPRC;

|PROCESO Alta;
     #coimz040#0 = "zzz";
|FPRC;

|PROCESO Idiomas;
     aIdi = "ESP";  |HAZ GrabaIdioma;
     aIdi = "ING";  |HAZ GrabaIdioma;
     aIdi = "FRA";  |HAZ GrabaIdioma;
     aIdi = "ITA";  |HAZ GrabaIdioma;
     aIdi = "ALE";  |HAZ GrabaIdioma;

     |ENTLINEAL #1#coimz040, 1, 2, 17, 1, Baja, Alta;
|FPRC;

|PROCESO PonDes;
     |CONFI "0000SQuiere incluir las descripcion en Idiomas";
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |HAZ Idiomas;
|FPRC;

|PROCESO LeeIdioma;
     #coima043#0 = aIdi;
     #coima043#1 = eaArticulo;
     |LEE 000#coima043.=;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     #coimz040#0 = #coima043#0;
     #coimz040#1 = #coima043#4;
     |GRABA 020#coimz040.n;
     |LIBERA #coimz040;
|FPRC;

|PROCESO SacaIdiomas;
     aIdi = "ESP";  |HAZ LeeIdioma;
     aIdi = "ING";  |HAZ LeeIdioma;
     aIdi = "FRA";  |HAZ LeeIdioma;
     aIdi = "ITA";  |HAZ LeeIdioma;
     aIdi = "ALE";  |HAZ LeeIdioma;

     |ENTLINEAL #1#coimz040, 1, 2, 17, 1, Baja, Alta;
|FPRC;

|PROGRAMA;
     |SI PARAMETRO = "PONDES";
         |HAZ PonDes;

         |ACABA;
     |FINSI;

     |SI PARAMETRO = "SACAIDIOMAS";
         |HAZ SacaIdiomas;

         |ACABA;
     |FINSI;
|FPRO;

|PROCESO T80;  |TIPO 80;
     aFic = "coimz040" + Usuario;
     |NOME_DAT #coimz040#aFic#;

     |ABRE #coimz040;  |CIERRA #coimz040;  |DELINDEX #coimz040;

     |ABRET #agifa060;
     |ABRET #agifa120;
     |ABRET #coima042;
     |ABRET #coima043;
     |ABRET #coima060;
     |ABRET #coima061;
     |ABRET #coima062;
     |ABRET #coima063;
     |ABRET #coima064;
     |ABRET #coimz040;

     #coima060#0 = eaArticulo;
     |LEE 000#coima060.=;
     |SI FSalida ! 0;  |DDEFECTO #coima060;  |FINSI;

     #coima061#0 = #coima060#6;
     |LEE 000#coima061.=;
     |SI FSalida ! 0;  |DDEFECTO #coima061;  |FINSI;

     #agifa060#0 = eaFam;
     |LEE 000#agifa060.=;
     |SI FSalida ! 0;  |DDEFECTO #agifa060;  |FINSI;

     #agifa120#0 = eaSubFam;
     |LEE 000#agifa120.=;
     |SI FSalida ! 0;  |DDEFECTO #agifa120;  |FINSI;

     eaDesArt = #agifa060#1;  |QBF eaDesArt;
     eaDesArt = eaDesArt + " " + #agifa060#0;  |QBF eaDesArt;
     eaDesArt = eaDesArt + " " + #agifa120#1;  |QBF eaDesArt;
     eaDesArt = eaDesArt + " " + #agifa120#0;  |QBF eaDesArt;
     eaDesArt = eaDesArt + " " + #coima061#0;  |QBF eaDesArt;
     eaDesArt = eaDesArt + " " + #coima061#1;  |QBF eaDesArt;
|FPRC;

|PROCESO T90;  |TIPO 90;
     |CIERRAT #agifa060;
     |CIERRAT #agifa120;
     |CIERRAT #coima042;
     |CIERRAT #coima043;
     |CIERRAT #coima060;
     |CIERRAT #coima061;
     |CIERRAT #coima062;
     |CIERRAT #coima063;
     |CIERRAT #coima064;
     |CIERRAT #coimz040;  |DELINDEX #coimz040;
|FPRC;
