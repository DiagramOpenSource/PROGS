|FICHEROS;
     guerz064 #0;
     goalbpa4 #4;
     goalbpa5 #5;
     gopartia #6;
     goartmer #7;
     agifa019 #19;
|FIN;

|VARIABLES;
     nPrecio = 0;
|FIN;

|PROCESO gopartia;
     |DDEFECTO #7;
     #7#0 = #6#20;
     |LEE 000#7=;
     nPrecio = #7#1;

     |DDEFECTO #19;
     #19#0 = #6#20;
     |LEE 000#19=;

     |SI nPrecio = 0; nPrecio = #19#28; |FINSI;
     |SI nPrecio = 0; nPrecio = #19#9; |FINSI;

     #6#41 = nPrecio;
     #6#49 = nPrecio;
     |HAZ CalcuGopartia;
     |GRABA 020#6a;
     |LIBERA #6;

     |DDEFECTO #5;
     #5#0 = #6#4;
     #5#1 = #6#5;
     #5#2 = #6#6;
     |LEE 101#5=;
     |SI FSalida ! 0;
          #5#3 = #6#20;
          #5#4 = #6#30;
          #5#5 = #6#10;
          #5#6 = #5#5;
          #5#7 = 0;
          #5#8 = #6#17;
          |GRABA 020#5b;
     |FINSI;
     #5#9 = nPrecio;
     #5#10 = #5#9 * #5#5;
     |GRABA 020#5a;
     |LIBERA #5;

     |DDEFECTO #4;
     #4#0 = #6#4;
     #4#1 = #6#5;
     |LEE 000#4=;
     |SI FSalida ! 0;
          #4#2 = #6#28;
          |GRABA 020#4n
     |FINSI;

|FPRC;

|DEFBUCLE gopartia;
     #6#1;
     28,20;
     "A", "     ", 000001, 001, 001, #0#0, #0#2;
     "A", "zzzzz", 999999, 999, 999, #0#1, #0#3;
     be;
     NULL, gopartia;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |ABRE #4;
     |ABRE #5;
     |ABRE #7;
     |ABRE #19;
     |BUCLE gopartia;
     |CIERRA #19;
     |CIERRA #7;
     |CIERRA #5;
     |CIERRA #4;
|FPRC;
