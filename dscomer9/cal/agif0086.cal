
     GuerImpCerti, Modulo 002743

|FICHEROS;
     guerm060@;          || Fichero para Impresion
     guerm059@;
     guerm208@;
     agifa084@;

     agifa084 #84;
     agifa069 #69;
|FIN;

|VARIABLES;
     &enTotalCerti = 0;
     aAlfa = "";
     aDef = "";
     nPresu = 0;
     aSer = "";
     nNum = 0;
|FIN;

|PROCESO CargaUniCer;
     |DDEFECTO #guerm208@;
     #guerm208@#0 = nPresu;
     #guerm208@#1 = #69#1;
     |LEE 000#guerm208@.=;

     |DDEFECTO #guerm060@;
     #guerm060@#0 = #84#48;
     #guerm060@#1 = #84#0;
     #guerm060@#2 = #69#1;
     |LEE 101#guerm060@.=;
     |SI FSalida ! 0; |GRABA 020#guerm060@.b; |FINSI;

     #guerm060@#4 = #guerm060@#4 + #69#5;
     #guerm060@#6 = #guerm060@#6 + #69#9;

     #guerm060@#3 = #guerm208@#7;
     #guerm060@#5 = (#guerm208@#7 * #guerm208@#6) < #guerm208@#8;

     |GRABA 020#guerm060@.a;
     |LIBERA #guerm060@;
|FPRC;

|DEFBUCLE CargaUniCer;
     #69#1;
     ;
     aSer, nNum, 001;
     aSer, nNum, 999;
     ;
     NULL, CargaUniCer;
|FIN;

|PROCESO guerm059;
     aSer = #guerm059@#0;
     nNum = #guerm059@#1;

     #agifa084@#48 = aSer;
     #agifa084@#0 = nNum;
     |LEE 000#agifa084@.=;
     |SI FSalida = 0;
          enTotalCerti = enTotalCerti + #agifa084@#41;
          |BUCLE CargaUniCer;
     |FINSI;
|FPRC;

|DEFBUCLE guerm059;
     #guerm059@#2001;
     ;
     nPresu;
     nPresu;
     ;
     NULL, guerm059;
|FIN;

|PROCESO Borra_guerm060;
     |BORRA 020#guerm060@.a;
|FPRC;

|DEFBUCLE Borra_guerm060;
     #guerm060@#1003;
     ;
     #84#48, #84#0, 001;
     #84#48, #84#0, 999;
     be;
     NULL, Borra_guerm060;
|FIN;

|PROCESO GuerImpCerti;
     enTotalCerti = 0;
     |DDEF aDef;
     aAlfa = aDef + "guerm060";
     |CARGA_DEF aAlfa, guerm060@;
     |SI FSalida = 0;
          aAlfa = aDef + "guerm059";
          |CARGA_DEF aAlfa, guerm059@;
          |SI FSalida = 0;
               aAlfa = aDef + "guerm208";
               |CARGA_DEF aAlfa, guerm208@;
               |SI FSalida = 0;
                    aAlfa = aDef + "agifa084";
                    |CARGA_DEF aAlfa, agifa084@;
                    |SI FSalida = 0;

                         |BUCLE Borra_guerm060;

                         |ABRE #guerm060@;
                         |ABRE #guerm059@;
                         |ABRE #guerm208@;
                         |ABRE #agifa084@;
                         #guerm059@#0 = #84#48;
                         #guerm059@#1 = #84#0;
                         |LEE 000#guerm059@.=;
                         |SI FSalida = 0;
                              nPresu = #guerm059@#4;
                              |BUCLE guerm059;
                         |FINSI;
                         |CIERRA #agifa084@;
                         |CIERRA #guerm208@;
                         |CIERRA #guerm059@;
                         |CIERRA #guerm060@;

                         |DESCARGA_DEF #agifa084@
                    |FINSI;
                    |DESCARGA_DEF #guerm208@;
               |FINSI;
               |DESCARGA_DEF #guerm059@;
          |FINSI;
          |DESCARGA_DEF #guerm060@;
     |FINSI;
|FPRC;
