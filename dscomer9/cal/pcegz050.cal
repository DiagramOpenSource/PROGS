|FICHEROS;
     pcegz050 #0;
     pcegm004 #4;
     pcegm033 #33;
     pcegm035 #35;
     agifa142 #142;
     :/dscarter/def/dscam003 #3;
     :/dscarter/def/dscam004 #104;
     :/dscarter/def/dscam045 #45;

     pcegz056 #56;
|FIN;

|VARIABLES;
     aAlfa = "";
     nCodCob = 0;
     nCodPed = 0;
     aSerPed = "";
     nCodRec = 0;
     aEmpRec = "";
     aBase = "";
|FIN;

|PROCESO AsignaRec;
     nCodCob = #56#0;
     aEmpRec = #56#4;
     nCodRec = #56#5;

     aAlfa = aBase + "dscarter/fich/" + aEmpRec + "/";
     |PATH_DAT #3#aAlfa#;
     |PATH_DAT #104#aAlfa#;
     |ABRE #3;
     |ABRE #104;
     |ABRE #35;
     #35#0 = nCodCob;
     |LEE 121#35=;
     |SI FSalida = 0; |Y #35#15 = 0;
          #3#40 = nCodRec;
          |LEE 121#3=;
          |SI FSalida = 0; |Y #3#14 = "P";
               |HAZ AsignaCobroN43Rec;
          |FINSI;
     |FINSI;
     |CIERRA #3;
     |CIERRA #104;
     |CIERRA #35;
|FPRC;

|PROCESO AsignaPed;
     nCodCob = #56#0;
     aSerPed = #56#2;
     nCodPed = #56#3;

     |ABRE #4;
     |ABRE #35;
     #35#0 = nCodCob;
     |LEE 121#35=;
     |SI FSalida = 0; |Y #35#15 = 0;
          #4#25 = aSerPed;
          #4#0 = nCodPed;
          |LEE 121#4=;
          |SI FSalida = 0; |Y #4#70 ! "C";
               |HAZ AsignaCobroN43;
          |FINSI;
     |FINSI;
     |CIERRA #4;
     |CIERRA #35;
|FPRC;

|PROCESO Tmp;
     |SI #56#1 = "P";
          |HAZ AsignaPed;
     |SINO;
          |HAZ AsignaRec;
     |FINSI;
|FPRC;

|DEFBUCLE Tmp;
     #56#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, Tmp;
|FIN;

|PROGRAMA;
     |ABRE #33; |LEE 000#33p; |CIERRA #33;
     |ABRE #142; |LEE 000#142p; |CIERRA #142;

     aAlfa = PARAMETRO;
     |NOME_DAT #56 aAlfa;

     |DBASS aBase;
     |BUCLE Tmp;
|FPRO;
