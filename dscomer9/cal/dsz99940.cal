          agifa048 <-> berm0001
          agifa049 <-> berm0002


|FICHEROS;
     berm0001 #101;
     berm0002 #102;
     agifa048 #148;
     agifa049 #149;
|FIN;

|VARIABLES;
     &enEstaDentro = 0; || sirve para evitar reentradas
     i = 0;
     aPath = "";
     nTipo = 0;
|FIN;

|PROCESO EsIber_121; ||Igual que EsIber21
     |DBASE aPath;
     aPath = aPath + "/bin/iber0001.tab";
     |XABRE "E", aPath, 0;
|FPRC;

|PROCESO Es_1Berria;   || Igual que EsBerria
     |DBASE aPath;
     aPath = aPath + "/def/berm0003.mas";
     |XABRE "E", aPath, 0;
     |SI FSalida = 0;
          |HAZ EsIber_121;
          |SI FSalida = 0;
              FSalida = 1;
          |SINO;
              FSalida = 0;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO &Copia48_15; |TIPO 15;
     |SI enEstaDentro = 1; |ACABA; |FINSI;
     enEstaDentro = 1;

     nTipo = 15;

     |HAZ Es_1Berria;
     |SI FSalida = 0;
          |HAZ BerriaModEsCa;
     |FINSI;

     enEstaDentro = 0;
|FPRC;

|PROCESO &Copia48_16; |TIPO 16;
     |SI enEstaDentro = 1; |ACABA; |FINSI;
     enEstaDentro = 1;

     nTipo = 16;

     |HAZ Es_1Berria;
     |SI FSalida = 0;
          |HAZ BerriaModEsCa;
     |FINSI;

     enEstaDentro = 0;
|FPRC;

|PROCESO &Copia48_17; |TIPO 17;
     |SI enEstaDentro = 1; |ACABA; |FINSI;
     enEstaDentro = 1;

     nTipo = 17;

     |HAZ Es_1Berria;
     |SI FSalida = 0;
          |HAZ BerriaModEsCa;
     |FINSI;

     enEstaDentro = 0;
|FPRC;

|PROCESO &Copia49_15; |TIPO 15;
     |SI enEstaDentro = 1; |ACABA; |FINSI;
     enEstaDentro = 1;

     nTipo = 15;

     |HAZ Es_1Berria;
     |SI FSalida = 0;
          |HAZ BerriaModEsLi;
     |FINSI;

     enEstaDentro = 0;
|FPRC;

|PROCESO &Copia49_16; |TIPO 16;
     |SI enEstaDentro = 1; |ACABA; |FINSI;
     enEstaDentro = 1;

     nTipo = 16;

     |HAZ Es_1Berria;
     |SI FSalida = 0;
          |HAZ BerriaModEsLi;
     |FINSI;

     enEstaDentro = 0;
|FPRC;

|PROCESO &Copia49_17; |TIPO 17;
     |SI enEstaDentro = 1; |ACABA; |FINSI;
     enEstaDentro = 1;

     nTipo = 17;

     |HAZ Es_1Berria;
     |SI FSalida = 0;
          |HAZ BerriaModEsLi;
     |FINSI;

     enEstaDentro = 0;
|FPRC;

|PROCESO BerriaModEsLi;
     |ABRE #149;
     #149#0 = #102#0;
     #149#1 = #102#1;
     |SI nTipo = 17;
          |BORRA 000#149c;
     |SINO;
          |LEE 101#149=;
          |SI FSalida ! 0; |GRABA 020#149b; |FINSI;
          |PARA i = 0; |SI i [ 21; |HACIENDO i = i + 1;
               #149i = #102i;
          |SIGUE;
          |GRABA 020#149a;
     |FINSI;
     |CIERRA #149;
|FPRC;

|PROCESO BerriaModEsCa;
     |ABRE #148;
     #148#0 = #101#0;
     |SI nTipo = 17;
          |BORRA 000#148c;
     |SINO;
          |LEE 101#148=;
          |SI FSalida ! 0; |GRABA 020#148b; |FINSI;
          |PARA i = 0; |SI i [ 36; |HACIENDO i = i + 1;
               #148i = #101i;
          |SIGUE;
          |GRABA 020#148a;
     |FINSI;
     |CIERRA #148;
|FPRC;
