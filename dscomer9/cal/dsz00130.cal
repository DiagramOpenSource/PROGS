|FICHEROS;
     dsz00130 #0;
     agifa007 #7;
     gopre012 #12;
     agifa077 #77;
     agifa079 #79;
|FIN;

|VARIABLES;
     &Tempo = "";
     nHay = 0;
     aInforme = "";
|FIN;

|PROCESO Tmp;
     nHay = 1;
     |PRINT;
|FPRC;

|DEFBUCLE Tmp;
     #12#2;
     ;
     INICIO;
     FINAL;
     ;
     NULL, Tmp;
|FIN;

|PROCESO agifa077;
     #79#66 = #77#51;
     #79#0 = #77#39;
     |LEE 000#79=;
     |SI FSalida = 0; |Y #79#1 ] #0#0; |Y #79#1 [ #0#1;
          #12#0 = "";
          #12#1 = #79#66;
          #12#2 = #79#0;
          |LEE 000#12=;
          |SI FSalida ! 0;
               |DDEFECTO #7;
               #7#26 = #12#1
               |LEE 000#7=;

               #12#3 = #79#2;
               #12#4 = #79#3;
               #12#5 = #7#27;
               #12#6 = #79#108 + #79#111 + #79#114 + #79#119 + #79#122 + #79#47;||BASE
               #12#7 = #79#116 + #79#117;  ||IVA
               #12#8 = #79#118;            ||Tot
               #12#9 = #79#1;
               |GRABA 020#12n;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE agifa077;
     #77#3;
     71, 38;
     #0#2, "01.01.0000", #0#8, #0#6, #0#4, "S";
     #0#3, "31.12.9999", #0#9, #0#7, #0#5, "S";
     ;
     NULL, agifa077;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |HAZ CreaTempo;
     |NOME_DAT #12 Tempo; |DELINDEX #12;

     |IMPRE 0;
     |SI FSalida = 0
          aInforme = #0#10; |QBF aInforme;
          |INFOR aInforme;
          |SI FSalida = 0;
               |ABRE #12;
               |ABRE #7;
               |ABRE #79;
               |BUCLE agifa077;
               |CIERRA #79;
               |CIERRA #7;
               |CIERRA #12;

               |BUCLE Tmp;

               |SI nHay ! 0; |PIEINF; |FINSI;
               |FININF;
          |SINO;
               aInforme = "0000Falta informe:" + aInforme;
               |MENAV aInforme;
          |FINSI;
          |FINIMP;
     |FINSI;
     |DELINDEX #12; |HAZ BoraTempo;
|FPRC;

|PROGRAMA;
     |ABRE #0;
     |LEE 101#0p;
     |SI FSalida ! 0; |GRABA 020#0b; |FINSI;
     #0#0 = ~;
     |PDEFECTO #0, 1, 10;
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |SI FSalida = 0;
          |GRABA 020#0a;
     |FINSI;
     |CIERRA #0;
|FPRO;
