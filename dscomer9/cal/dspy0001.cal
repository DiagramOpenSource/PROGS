|FICHEROS;
   dspy0001 #0;

   dspm0001 #1;
   dspm0002 #2;
   dspm0003 #3;
   dspm0004 #4;
   dspm0007 #7;
|FIN;

|VARIABLES;
   &eaDoc = "";
   &Cod1  = ""; &Des1  = ""; &Unid1 = 0;
   &Cod2  = ""; &Des2  = ""; &Unid2 = 0;
   &Cod3  = ""; &Des3  = ""; &Unid3 = 0;
   &Cod4  = ""; &Des4  = ""; &Unid4 = 0;
   &Cod5Elem  = "";
   &Cant5Elem = "";

   &SwLinPaq  = 0;
   &SwLinArt  = 0;
   &SwLin5Ele = 0;
   aInforme   = "dspy0001";
|FIN;

|PROCESO Det5Elem;
   Cod5Elem = Cod5Elem + "[" + (#dspm0004#3 % 0104) + "] ";
   Cant5Elem = Cant5Elem + "[" + (("0000" + #dspm0004#4) % -104) + "] ";
|FPRC;

|DEFBUCLE Det5Elem;
#dspm0004#1;
;
#dspm0003#0, #dspm0003#1, #dspm0003#2, "      ";
#dspm0003#0, #dspm0003#1, #dspm0003#2, "zzzzzz";
be;
NULL,Det5Elem;
|FIN;

|PROCESO DetArticulos;
   Cod5Elem = "";
   Cant5Elem = "";
   |SI #dspm0003#5 = "S";
      |BUCLE Det5Elem;
   |FINSI;
   SwLinArt = 1; |PRINT; SwLinArt = 0;
|FPRC;

|DEFBUCLE DetArticulos;
#dspm0003#1;
;
#dspm0002#0,#dspm0002#1,001;
#dspm0002#0,#dspm0002#1,999;
be;
NULL,DetArticulos;
|FIN;

|PROCESO DetPaquetes;
   SwLinPaq = 1; |PRINT; SwLinPaq = 0;
   |BUCLE DetArticulos;
|FPRC;

|DEFBUCLE DetPaquetes;
#dspm0002#1;
;
#dspm0001#0,001;
#dspm0001#0,999;
be;
NULL,DetPaquetes;
|FIN;

|PROCESO Emision;
   eaDoc = "PL" + "     " + #1#0;
   |HAZ PackListVar;

   |INFOR aInforme;
   |SI FSalida ! 0; |ACABA; |FINSI;
   Cod1  = ""; Des1  = ""; Unid1 = 0;
   Cod2  = ""; Des2  = ""; Unid2 = 0;
   Cod3  = ""; Des3  = ""; Unid3 = 0;
   Cod4  = ""; Des4  = ""; Unid4 = 0;
   |BUCLE DetPaquetes;
   |PIEINF;
   |FININF;
|FPRC;

|DEFBUCLE Emision;
#dspm0001#1;
1,27;
#dspy0001#0,#dspy0001#1,#dspy0001#2;
#dspy0001#3,#dspy0001#4,#dspy0001#5;
be;
NULL,Emision;
|FIN;

|PROGRAMA;
     |ABRE #7; |LEE 000#7p; |CIERRA #7;
     aInforme = #7#1; |QBF aInforme;

   |CLS;
   |CABEZA "Emision de packing list";
   |PINPA #0#0; |PINDA #0#0;
   |ENDATOS #1#0;
   |SI FSalida = 0;
      |IMPRE 0;
      |SI FSalida ! 0; |ACABA; |FINSI;
      |BUCLE Emision;
      |FINIMP;
   |FINSI;
|FPRO;
