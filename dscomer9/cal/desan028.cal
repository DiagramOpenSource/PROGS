|FICHEROS;
     desan028 #0;
     desan004 #4;
     agifa019 #19;
     agifa020 #20;
     agifa023 #23;
     agifa024 #24;
|FIN;

|VARIABLES;
     aArti = "";
     nPre = 0;
|FIN;

|PROCESO Ofertas;
     |DDEFECTO #19;
     #19#0 = #4#2;
     |LEE 000#19=;
     |SI #19#2 < #0#4; |O #19#2 > #0#5; |ACABA; |FINSI;
||     |SI aArti = #4#2; |ACABA; |FINSI;
||     aArti = #4#2;

     nPre = #4#4 / ((100 - #0#10) / 100);

     #20#0 = #24#0;
     |LEE 000#20=;
     |SI FSalida ! 0;
          #20#0 = #24#0;
          |SI #24#193 = "B"
               #20#1 = "N";
          |SINO;
               #20#1 = "S";
          |FINSI;
          #20#2 = #24#192;
          |GRABA 020#20n;
     |FINSI;
     |DDEFECTO #23;
     #23#0 = #24#0;
     #23#1 = #19#0;
     #23#35 = #19#1;
     |LEE 101#23=;
     |SI FSalida ! 0; |GRABA 020#23b; |FINSI;
     #23#2 = nPre;
     #23#28 = #4#12;
     #23#29 = #4#13;
     |GRABA 020#23a;
     |LIBERA #23;
|FPRC;

|DEFBUCLE Ofertas;
     #4#1;
     ;
     #0#6, 0001;
     #0#7, 9999;
     ;
     NULL, NULL, NULL, NULL, NULL, Ofertas;
     #4#2, #4#4;
|FIN;

|PROCESO Clientes;
     aArti = "";
     |BUCLE Ofertas;
|FPRC;

|DEFBUCLE Clientes;
     #24#1;
     158;
     #0#0, #0#2;
     #0#1, #0#3;
     ;
     NULL, Clientes;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |ABRE #19;
     |ABRE #20;
     |ABRE #23;
     |BUCLE Clientes;
     |CIERRA #23;
     |CIERRA #20;
     |CIERRA #19;
|FPRC;
