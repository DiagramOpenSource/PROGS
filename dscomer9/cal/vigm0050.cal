|FICHEROS;
     vigm0050 #0;
     vig00001@;
     dscam045@;
|FIN;

|VARIABLES;
     aAlfa = "";
     aBass = "";
     nEmpresa = 0;
|FIN;

|PROCESO Min;
     #0#3 = "     ";
     #0#4 = 000000;
|FPRC;

|PROCESO Max;
     #0#3 = "zzzzz";
     #0#4 = 999999;
|FPRC;

|PROGRAMA;
     |CLS;
     |CABEZA "Facturas liquidadas";
     |ENTLINEAL #1#0, 1, 2, 22, 1, Min, Max;
|FPRO;

|PROCESO CtrlCartera;
     aAlfa = ("00000" + #dscam045@#6) % -105;
     aAlfa = aBass + "dscarter/fich/" + aAlfa + "/";
     |PATH_DAT #vig00001@#aAlfa#;
     |ABRE #vig00001@;
     |CONSULTA_CLAVE #1#vig00001@;
     |CIERRA #vig00001@;
|FPRC;

|DEFBUCLE CtrlCartera;
     #dscam045@#1002;
     2;
     nEmpresa, 001, "V";
     nEmpresa, 999, "V";
     ;
     NULL, CtrlCartera;
|FINI;

|| Tecla oculta F5 muestra el fichero de control facturas liquidadas
|| de cartera vig00001
|PROCESO Tecla; |TIPO 11;
     |SI FSalida ! 13; |ACABA; |FINSI;

     |DBASS aBass;
     aAlfa = aBass + "dscarter/def/dscam045";
     |CARGA_DEF aAlfa, dscam045@;
     |SI FSalida = 0;
          aAlfa = aBass + "dscarter/def/vig00001";
          |CARGA_DEF aAlfa, vig00001@;
          |SI FSalida = 0;
               |DFICE aAlfa; aAlfa = aAlfa % -205;
               nEmpresa = aAlfa;
               aAlfa = aBass + "dscarter/fich/";
               |PATH_DAT #dscam045@#aAlfa#;
               |BUCLE CtrlCartera;
               |DESCARGA_DEF #vig00001@;
          |FINSI;
          |DESCARGA_DEF #dscam045@;
     |FINSI;
     |ERROR;
|FPRC;
