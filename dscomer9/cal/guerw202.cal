|FICHEROS;
     guerw202 #0,MANTE;
     agifa010 #10;
     guerz201@ #12; || Por exceso de ficheros al compilar
|FIN;

|VARIABLES;
 {-1}Menu  = "";
     Menu1 = "2400";
     Menu2 = "1";
     Menu3 = " ";
     Menu4 = "CPAT";
     Menu5 = " Cancelar ";
     Menu6 = " Pendientes ";
     Menu7 = " Asignados ";
     Menu8 = " Todos ";
 {-1}Otro  = "";
     Otro1 = "2400";
     Otro2 = "1";
     Otro3 = " ";
     Otro4 = "RAC";
     Otro5 = " Repasar ";
     Otro6 = " Actualizar ";
     Otro7 = " Cancelar ";
     aAlfa = "";
|FIN;

|PROCESO NoAlta; |TIPO 6;
     |ABRE #10;
     #10#52 = #0#0;
     #10#0 = #0#1;
     |LEE 000#10=;
     |SI FSalida ! 0;
          |ERROR;
     |FINSI;
     |CIERRA #10;
|FPRC;

|PROCESO Tmp;
     #12#0 = #0#0;
     #12#1 = #0#1;
     |LEE 121#12=;
     |SI FSalida = 0;
          #12#2 = #0#2;
          |GRABA 020#12a;
          |LIBERA #12;
     |FINSI;
|FPRC;

|DEFBUCLE Tmp;
     #0#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, Tmp;
|FIN;

|PROCESO GrabaTmp;
     #0#0 = #12#0;
     #0#1 = #12#1;
     #0#2 = #12#2;
     #0#3 = #10#3;
     #0#4 = #10#4;
     |GRABA 020#0n;
|FPRC;

|PROCESO Agifa010;
     |DDEFECTO #12;
     #12#0 = #10#52;
     #12#1 = #10#0;
     |LEE 000#12=;
     |SI FSalida ! 0;
          |GRABA 020#12n;
     |FINSI;
     |SI Menu2 = 2; |Y #12#2 = 0;
          |HAZ GrabaTmp;
     |FINSI;
     |SI Menu2 = 3; |Y #12#2 ! 0;
          |HAZ GrabaTmp;
     |FINSI;
     |SI Menu2 = 4;
          |HAZ GrabaTmp;
     |FINSI;
|FPRC;

|DEFBUCLE Agifa010;
     #10#1;
     38;
     "     ", 000001, "N";
     "zzzzz", 999999, "N";
     ;
     NULL, Agifa010;
|FIN;

|PROCESO Min;
     #0#0 = "     ";
     #0#1 = 1;
|FPRC;

|PROCESO Max;
     #0#0 = "zzzzz";
     #0#1 = 999999;
|FPRC;

|PROGRAMA;
     |DDEF aAlfa;
     aAlfa = aAlfa + "guerz201";
     |CARGA_DEF aAlfa, guerz201@;
     |SI FSalida ! 0; |ACABA; |FINSI;

     aAlfa = Usuario; |QBF aAlfa;
     |NOME_DAT #0 aAlfa;
     |DELINDEX #0;
     |CLS;
     |PINPA #0#0;
     |ENTLINEAL #1#0, -2, 7, 20, 0, Min, Max;
     |MENU Menu;
     |SI FSalida > 1;
          Menu2 = FSalida;
          |ABRE #0;
          |ABRE #12;
          |BUCLE Agifa010;
          |CIERRA #12;
          |CIERRA #0;
          |PARA; |SI Otro2 = 1; |HACIENDO;
               |ENTLINEAL #1#0, -2, 2, 20, 0, Min, Max;
               |MENU Otro;
               Otro2 = FSalida;
          |SIGUE;
          |SI Otro2 = 2;
               |ABRE #12;
               |BUCLE Tmp;
               |CIERRA #12;
          |FINSI;
     |FINSI;
     |DELINDEX #0;

     |DESCARGA_DEF #guerz201@;
|FPRO;
