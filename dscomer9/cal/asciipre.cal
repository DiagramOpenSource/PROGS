|FICHEROS;
 asciipre #0;
 agifa023 #2;
|FIN;

|VARIABLES;
  f1=0;
  sw=0;
  v= "";
  v1=0;
  jj=0;
  hh=0;
  pro="";
  fam="";
  path="";
  fs =1;
  f=0;
  varalfa = "";
  codigo = "";
  codigoa = "";
  precio = "";
  descue = "";
|FIN;

|PROGRAMA;
|CLS;
|CABEZA "TRASPASO ASCII PRECIOS CLI/ARTICULO";
|PINPA #0#0;
|ENDATOS #1#0;
|SI #0#9 = "SI";
  |SI FSalida = 0;
    path = #0#0;
    |QBF path;
    pro ="rt  " + path + #0#1;
    |QBF pro;
    |FABRE pro;
    f1 = FSalida;
    |SI FSalida ] 0;
      varalfa = "";
      fs = 1
      |PARA jj = 1; |SI fs ] 0;|HACIENDO jj = jj + 1;
        varalfa = f1 + " " + #0#2;
        |FLEE varalfa;
        fs = FSalida;
        |SI FSalida ] 0;
          |ABRE #2;
          codigo = varalfa % #0#3;
          #2#0 = codigo;
          codigoa = varalfa % #0#4;
          |QBF codigo;
          |PINTA 2107,"                                                                ";
          |PINTA 2107,codigo;
          #2#0 = codigo;
          #2#1 = codigoa;
          |LEE 101#2=;
          sw = FSalida;
          |SI FSalida ! 0;
            |DDEFECTO #2;
            #2#0 = codigo;
            #2#1 = codigoa;
          |FINSI;


          |SI #0#5 > 0;
            precio = varalfa % #0#5;
            |QBT precio;
            #2#2 = precio;
          |FINSI;

          |SI #0#7 > 0;
            descue = varalfa % #0#7;
            |QBT descue;
            #2#32 = descue;
          |FINSI;

          |SI sw ! 0;
            |SI #0#6 = "S";
              |GRABA 101#2n;
            |FINSI;
          |SINO;
            |GRABA 101#2a;
          |FINSI;
          |LIBERA #2;
          |CIERRA #2;
          |PARA hh = 0; |SI hh < 32;|HACIENDO hh = hh + 1;
            #2hh = "";
          |SIGUE;
        |FINSI;
      |SIGUE;
    |FINSI;
  |FINSI;
|FINSI;
|FCIERRA pro;
|FPRO;
