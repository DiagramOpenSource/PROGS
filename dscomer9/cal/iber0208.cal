|FICHEROS;
     iber0208 #208;
     iber0209 #209;
     iber0066 #66;
     iber0067 #67;
     iberz020 #20,MANTE;
|FIN;

|VARIABLES;
     nModiIVA  = 0;
     nModi     = 0;
     aAlfa     = "";
     nModo     = 0;
     nSw       = 0;
|FIN;

|PROCESO CalPrecio; |TIPO 0;
     #209#7 = (#209#4 - #209#5) < #209#6;
     |PINTA #209#7;
|FPRC;

|PROCESO ModiIVA; |TIPO 0;
     |SI #208Campo ! Contenido;
          nModiIVA = 1;
     |FINSI;
|FPRC;
컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
|PROCESO Tipo209_2; |TIPO 2;
     nModo = (FEntrada / 100) ! 0;
     #209#8 = "S";
     nModi = 1;
     |SI nModo = 3;
          |HAZ BorraLos;
     |FINSI;
|FPRC;
컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
|PROCESO ModifiIVA;
     #66#6 = ~;
     #66#7 = #208#3;
     |GRABA 020#66a;
|FPRC;

|DEFBUCLE ModifiIVA;
     #66#2;
     ;
     #208#0, #208#1;
     #208#0, #208#1;
     be;
     NULL, ModifiIVA;
|FIN;
컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
|PROCESO BorraLinTari;
     |SI nSw = 1;
          |BORRA 020#67a;
     |SINO;
          #209#0 = #208#0;
          #209#1 = #208#1;
          #209#2 = #67#4;
          |LEE 000#209=;
          |SI FSalida ! 0;
               |BORRA 020#67a;
          |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE BorraLinTari;
     #67#1;
     ;
     #66#0, #66#1, #66#2, #66#3, "                    ", "T";
     #66#0, #66#1, #66#2, #66#3, "zzzzzzzzzzzzzzzzzzzz", "T";
     ;
     NULL, BorraLinTari;
|FIN;

|PROCESO BorraTari;
     |BUCLE BorraLinTari;
|FPRC;

|DEFBUCLE BorraTari;
     #66#2;
     ;
     #208#0, #208#1;
     #208#0, #208#1;
     ;
     NULL, BorraTari;
|FIN;

|PROCESO GrabaTarifas;
     #67#0 = #66#0;
     #67#1 = #66#1;
     #67#2 = #66#2;
     #67#3 = #66#3;
     #67#4 = #209#2;
     #67#11 = "T";
     |LEE 101#67=;
     |SI FSalida ! 0; |GRABA 020#67b; |FINSI;

     #67#5 = #209#3;
     #67#6 = #209#4;
     #67#7 = #209#5;
     #67#8 = #209#6;
     #67#9 = #209#7;
     #67#10 = ~;
     |GRABA 020#67a;
     |LIBERA #67;
|FPRC;

|DEFBUCLE BGrabaTari;
     #66#2;
     ;
     #208#0, #208#1;
     #208#0, #208#1;
     be;
     NULL, GrabaTarifas;
|FIN;

|PROCESO GrabaTari;
     |SI #209#8 = "S";
          |BUCLE BGrabaTari;
          #209#8 = "N";
          |GRABA 020#209a;
          |LIBERA #209;
     |FINSI;
|FPRC;

|PROCESO BorraTodos;
     |BUCLE BorraLinTari;
|FPRC;

|DEFBUCLE BorraTodos;
     #66#2;
     ;
     #208#0, #208#1;
     #208#0, #208#1;
     be;
     NULL, BorraTodos;
|FIN;

|PROCESO BorraLos;
     nSw = 1;
     |BUCLE BorraTodos;
     nSw = 0;
|FPRC;

|PROCESO Tipo208_3; |TIPO 3;
     |SI nModiIVA ! 0;
          |MENSA "0000Modificando IVA....";
          |BUCLE ModifiIVA;
          nModiIVA = 0;
     |FINSI;

     |SI nModi  = 0; |ACABA; |FINSI;
     nModi = 0;
     |MENSA "0000Actualizando....";

     |ABRE #209;
     |BUCLE BorraTari;
     |CIERRA #209;

     |ABRE #67;
     |BUCLELIN 0 GrabaTari #208;
     |CIERRA #67;

     |MENSA "0000Tarifas Modificadas...";
|FPRC;
컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
|PROCESO CopiaLin;
     #209#0 = #20#1;
     #209#1 = #20#3;
     #209#8 = "N";
     |GRABA 000#209n;  ||sin errores
|FPRC;

|PROCESO Tipo20_12; |TIPO 12;
     #208#0 = #20#0;
     #208#1 = #20#2;
     |LEE 000#208=;
     |SI FSalida = 0;
          #208#0 = #20#1;
          #208#1 = #20#3;
          |GRABA 000#208n;
          |SI FSalida ! 0;
               |MENAV "0000Destino Existente...";
          |SINO;
               #208#0 = #20#0;
               #208#1 = #20#2;
               |LEE 000#208=;
               |ABRE #209;
               |BUCLELIN 2 CopiaLin #208;
               |CIERRA #209;
          |FINSI;
     |SINO;
          |MENAV "0000No existe Origen...";
     |FINSI;
|FPRC;

|PROCESO PreguntaCop;
     |PUSHV 0501 2380;
     |BLANCO 0917 1764;
     #20#0 = #208#0;
     #20#1 = #208#0;
     #20#2 = #208#1;
     #20#3 = ~;
     |PINPA #0#20;
     |PINDA #0#20;
     |ENDATOS #2#20;
     |POPV;
|FPRC;

|PROCESO Tipo208_20; |TIPO 20;
     aAlfa = FSalida;
     |SI aAlfa = "OPCION";
         FSalida = "Copiar";
         |ACABA;
     |FINSI;
     |HAZ PreguntaCop;
|FPRC;
