|FICHEROS;
     agifa084 #84;
     agifa069 #69;
     agifa069@ #169;

     agifa010 #10;
     tmp00071 #71;
     agifa071@ #171;
     agifa071 #7;

     carm0001 #1;
     carm0002 #2;
|FIN;

|VARIABLES;
     &enTotal  = 0;
     &enDesKg  = 0;
     &enPrecio = 0;
     aAlfa     = "";
     nHay      = 0;
|FIN;

|PROCESO Referencia;
     |SI #169#30 = #69#1; || Unidades_2 = Linea
          nHay = #169#1;
          |ERROR10;
     |FINSI;
|FPRC;

|DEFBUCLE Referencia;
     #169#1003;
     ;
     #69#20, #69#0, 001;
     #69#20, #69#0, 999;
     ;
     NULL, Referencia;
|FIN;

|PROCESO FriImpFC;
     enDesKg = 0;
     enTotal = 0;
     enPrecio = 0;

     |ABRE #1;
     #1#0 = #69#2;
     #1#1 = "01.01.0000";
     |LEE 000#1];
     |SI FSalida = 0; |Y #1#0 = #69#2;
          |CIERRA #1;
          |ACABA;
     |FINSI;
     |CIERRA #1;

     |DDEF aAlfa;
     aAlfa = aAlfa + "agifa069";
     |CARGA_DEF aAlfa, agifa069@;
     |SI FSalida = 0;
          |ABRE #2;
          #2#0 = #69#2;
          |LEE 000#2=;
          |SI FSalida = 0;
               nHay = 0;
               |BUCLE Referencia;
               |SI nHay ! 0;
                    |ABRE #169;
                    #169#20 = #69#20;
                    #169#0 = #69#0;
                    #169#1 = nHay;
                    |LEE 000#169=;
                    |CIERRA #169;
                    enTotal = (#169#27 + #69#27) ! 2 ;
                    enDesKg = #169#5;
                    enPrecio = #169#6;
               |SINO;
                    enTotal = #69#27 ! 2;
               |FINSI;
          |SINO;
               enTotal = #69#27 ! 2;
          |FINSI;
          |CIERRA #2;
          |DESCARGA_DEF #agifa069@;
     |FINSI;
     |PRINT;
|FPRC;
--------------------------------
|PROCESO Referencia_2;
     |SI #171#51 = #71#1; || Medida_1 = Linea
          nHay = #171#1;
          |ERROR10;
     |FINSI;
|FPRC;

|DEFBUCLE Referencia_2;
     #171#1003;
     ;
     #71#29, #71#0, 001;
     #71#29, #71#0, 999;
     ;
     NULL, Referencia_2;
|FIN;

|PROCESO FriImpAV;
     enDesKg = 0;
     enTotal = 0;
     enPrecio = 0;

     |ABRE #1;
     #1#0 = #71#2;
     #1#1 = "01.01.0000";
     |LEE 000#1];
     |SI FSalida = 0; |Y #1#0 = #71#2;
          |CIERRA #1;
          |ACABA;
     |FINSI;
     |CIERRA #1;

     |DDEF aAlfa;
     aAlfa = aAlfa + "tmp00071";
     |CARGA_DEF aAlfa, agifa071@;
     |SI FSalida = 0;
          |ABRE #2;
          #2#0 = #71#2;
          |LEE 000#2=;
          |SI FSalida = 0;
               nHay = 0;
               |BUCLE Referencia_2;
               |SI nHay ! 0;
                    |ABRE #171;
                    #171#29 = #71#29;
                    #171#0 = #71#0;
                    #171#1 = nHay;
                    |LEE 000#171=;
                    |CIERRA #171;
                    enTotal = (#171#37 + #71#37) ! 2 ;
                    enDesKg = #171#5;
                    enPrecio = #171#6;
               |SINO;
                    enTotal = #71#37 ! 2;
               |FINSI;
          |SINO;
               enTotal = #71#37 ! 2;
          |FINSI;
          |CIERRA #2;
          |DESCARGA_DEF #agifa071@;
     |FINSI;
     |PRINT;
|FPRC;

|PROCESO Referencia_3;
     |SI #171#51 = #7#1; || Medida_1 = Linea
          nHay = #171#1;
          |ERROR10;
     |FINSI;
|FPRC;

|DEFBUCLE Referencia_3;
     #171#1003;
     ;
     #7#29, #7#0, 001;
     #7#29, #7#0, 999;
     ;
     NULL, Referencia_3;
|FIN;

|PROCESO FriImpFac;
     enDesKg = 0;
     enTotal = 0;
     enPrecio = 0;

     |ABRE #1;
     #1#0 = #7#2;
     #1#1 = "01.01.0000";
     |LEE 000#1];
     |SI FSalida = 0; |Y #1#0 = #7#2;
          |CIERRA #1;
          |ACABA;
     |FINSI;
     |CIERRA #1;

     |DDEF aAlfa;
     aAlfa = aAlfa + "agifa071";
     |CARGA_DEF aAlfa, agifa071@;
     |SI FSalida = 0;
          |ABRE #2;
          #2#0 = #7#2;
          |LEE 000#2=;
          |SI FSalida = 0;
               nHay = 0;
               |BUCLE Referencia_3;
               |SI nHay ! 0;
                    |ABRE #171;
                    #171#29 = #7#29;
                    #171#0 = #7#0;
                    #171#1 = nHay;
                    |LEE 000#171=;
                    |CIERRA #171;
                    enTotal = (#171#37 + #7#37) ! 2;
                    enDesKg = #171#5;
                    enPrecio = #171#6;
               |SINO;
                    enTotal = #7#37 ! 2;
               |FINSI;
          |SINO;
               enTotal = #7#37 ! 2;
          |FINSI;
          |CIERRA #2;
          |DESCARGA_DEF #agifa071@;
     |FINSI;
     |PRINT;
|FPRC;
