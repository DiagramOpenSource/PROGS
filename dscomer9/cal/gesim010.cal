|FICHEROS;
     gesim010 #0;
     gesim011 #1,MANTE;
     agifa019 #19;
     gesiz022 #22,MANTE; ||Pan Solucion
|FIN;

|VARIABLES;
     aAlfa = "";
     nGrid = -1;
     nRango = 0;
     nModo = 0;
     nHay = 0;
     nConta = 0;
     aConte = "";
     nPanta = 0;
|FIN;

|PROCESO Min;
     #1#0 = #0#0;
     #1#1 = 001;
|FPRC;

|PROCESO Max;
     #1#0 = #0#0;
     #1#1 = 999;
|FPRC;

|PROCESO Tipo14; |TIPO 14;    ||(*)
     |SI nGrid = -1;
          nRango = 1 + 4 + 8 + 16 + 32;
          |LINEAL_SIMPLE #1#1, nRango, 1502, 3298, Min, Max, NULL;
          nGrid = FSalida;
          |PINPA #0#0; nPanta = FSalida;
          |CONTROL_SIMPLE nPanta, "BOTON,{{137}}Soluci¢n aviso", 1081, 1098, BtnSolucion
     |SINO;
          |REFRESCACONTROL nGrid;
     |FINSI;
|FPRC;

|PROCESO Tipo8; |TIPO 8; ||(*)
     |ABRET #1;
|FPRC;

|PROCESO Tipo9; |TIPO 9; ||(*)
     |CIERRAT #1;
|FPRC;

|PROCESO BorraLin;
     |BORRA 020#1a;
     |LIBERA #1;
|FPRC;

|DEFBUCLE BorraLin;
     #1#1;
     ;
     #0#0, 001;
     #0#0, 999;
     be;
     NULL, BorraLin;
|FIN;

|PROCESO Tipo2; |TIPO 2; ||(*)
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3;
          |BUCLE BorraLin;
     |FINSI;
|FPRC;

|PROCESO Tipo0; |TIPO 0;     ||(*)
     |REFRESCACONTROL nGrid;
|FPRC

|PROCESO Tipo12; |TIPO 12;    ||(*)
     || No quitar
|FPRC;

|PROCESO Tipo30; |TIPO 30;    ||(*)
/*
     nModo = (FEntrada / 100) ! 0;
     |ABRE #1;
     #1#0 = #0#0;
     #1#1 = 0;
     |LEE 000#1];
     |SI FSalida ! 0; |O #1#0 ! #0#0;
          |SI nModo = 1;
               |MENAV "0000Se anulan los datos entrados.";
          |SINO;
               |MENAV "0000No existen lineas, se borra la cabecera.";
          |FINSI;
          |BORRA 020#0a;
          |ERROR;
     |FINSI;
     |CIERRA #1;
*/
     nModo = 0;
|FPRC;

|PROCESO TotaImpo; |TIPO 0;
     #1#7 = (#1#4 * #1#5) < #1#6; |PINTA #1#7;
|FPRC;

|PROCESO DefeLin; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1;
          #1#0 = #0#0;
          #1#1 = 999;
          |LEE 000#1];
          |SI FSalida = 0;
               |LEE 000#1a;
          |SINO;
               |LEE 000#1u;
          |FINSI;
          |SI FSalida = 0; |Y #1#0 = #0#0;
               nConta = #1#1 + 1;
          |SINO;
               nConta = 1;
          |FINSI;
          |DDEFECTO #1;
          #1#0 = #0#0;
          #1#1 = nConta;
     |FINSI;
|FPRC;

|PROCESO Conte; |TIPO 7;
     aConte = #1Campo;
|FPRC;

|PROCESO DesArti; |TIPO 0;
     |ABRE #19;
     #19#0 = #1#2;
     |LEE 000#19=;
     |SI FSalida = 0;
          |SI aConte ! #1#2;
               #1#3 = #19#1; |PINTA #1#3;
               #1#5 = #19#18; |PINTA #1#5;
               #1#6 = #19#21; |PINTA #1#6;
               #1#9 = #19#9; |PINTA #1#9;
               |HAZ TotaImpo;
          |FINSI;
     |SINO;
          |MENAV "0000No existe art¡culo...";
          |ERROR;
     |FINSI;
     |CIERRA #19;
|FPRC;

|PROCESO ConsArti; |TIPO 66;
     |ABRE #19;
     #19#0 = #1#2;
     |LEE 000#19];
     |CONSULTA_CLAVE #1#19;
     |SI FSalida = 0;
          #1#2 = #19#0;
     |SINO;
          |ERROR;
     |FINSI;
     |CIERRA #19;
|FPRC;

|PROCESO BtnSolucion;
     |VENTANA 1320, 2580, -1, 17, "Soluci¢n aviso";
     |HAZ PushVenModal;
     #22#0 = #0#3;
     #22#1 = #0#4;
     #22#2 = #0#5;
     #22#3 = #0#6;
     #22#4 = #0#7;
     #22#5 = #0#8;
     #22#6 = #0#9;
     #22#7 = #0#10;
     #22#8 = #0#11;
     #22#9 = #0#12;
     |PINPA #0#22;
     |PINDA #0#22;
     |SI nModo = 0; |O nModo = 4;
          |PAUSA;
     |SINO;
          |ENDATOS #2#22;
          |SI FSalida = 0;
               #0#3 = #22#0;
               #0#4 = #22#1;
               #0#5 = #22#2;
               #0#6 = #22#3;
               #0#7 = #22#4;
               #0#8 = #22#5;
               #0#9 = #22#6;
               #0#10 = #22#7;
               #0#11 = #22#8;
               #0#12 = #22#9;
          |FINSI;
     |FINSI;
     |HAZ PopVenModal;
|FPRC;
