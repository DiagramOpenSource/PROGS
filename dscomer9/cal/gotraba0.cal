|FICHEROS;
     gotraba0 #0;
     gotrabal #1,MANTE;|| Lineas
     gotraba2 #2,MANTE;|| IRPF -> (es temporal)
     gotraba3 #3,MANTE;|| Datos Bancarios
     gotracur #4,MANTE;|| Formacion Academica
     gotraba5 #5,MANTE;|| Formacion Complementaria
     gotraba6 #6,MANTE;|| Incidencias
     gotraba7 #7,MANTE;|| Descendientes
     gotraba8 #8,MANTE;|| Ascendientes
     gotrabat #9,MANTE;|| Tipos Horas Trabajador

     gonomica #12;
     gocatcon #15;
     gotracur #16;
     gocatcot #20,MANTE;
     agifa324 #321;
|FIN;

|VARIABLES;
     &cCodMonTrab = "";
     nBotonLabel = -1;
     nLin = 0;
     nBotonSalir = 0;
     fFecha = @;
     nConta = 0;
     {1}aContiene = "";
     aVersion1 = "";
     aVersion2 = "";
     {1}aLocal = "";
     aLon = "";
     aFic = "";
     nPos = 0;
     nPos1 = 0;
     nPos2 = 0;
     aOrg = "";
     aDes = "";
     aIP = "";
     nID = 0;
     i = 0;
     nPesta바 = 0;
     aDir = "";
     nModo = 0;
     aFoto = "";
     aAlfa = "";
     nPanta = 0;
     nRango = 0;
     nBotonIrpf = -1;
     nBotonFoto1 = -1;
     nBotonFoto2 = -1;
     nGridLin1 = -1;
     nGridLin3 = -1;
     nGridLin4 = -1;
     nGridLin5 = -1;
     nGridLin6 = -1;
     nGridLin7 = -1;
     nGridLin8 = -1;
     nGridLin9 = -1;
     nVentana = 0;
     nTabulador      = 0;

     {-1}sPestanya   = 0;
     sPestanya1      = 0;
     sPestanya2      = 0;
     sPestanya3      = "";

     {-1}menu       = "";
     menu1          = "2400";
     menu2          = "1";
     menu3          = "Contador:  ";
     menu4          = "AM";
     menu5          = " Automatico ";
     menu6          = " Manual ";

     {-1}aUtil       = "";
     aUtil1          = "2400";
     aUtil2          = "1";
     aUtil3          = "Opciones:  ";
     aUtil4          = "IH";
     aUtil5          = " Imprimir ";
     aUtil6          = " Tipos Hora ";
     aAlfa1 = "";
     aAlfa2 = "";
     nNume = 0;
     nNume1 = 0;
     nNume2 = 0;
     nEdad = 0;

     nPanta3 = 0;

     aNifQbf1   = "";
     aNifQbf2   = "";

     &eaVarDni  = "";
     &enCalcCif = 0;
|FIN

|PROCESO letranif2;
     |SI FSalida = 10;
         eaVarDni   = #0Campo;
         enCalcCif  = 1;
         |HAZ CalculoNIFCIF;
         #0Campo = eaVarDni;
         |PINTA #0Campo;
         |ERROR;
         |ACABA;
     |FINSI;

     eaVarDni  = #0Campo;
     enCalcCif = 0;
     |HAZ CalculoNIFCIF;
     aNifQbf1 = #0Campo;   |QBF aNifQbf1;
     aNifQbf2 = eaVarDni;  |QBF aNifQbf2;

     |SI aNifQbf1 ! aNifQbf2; |Y aNifQbf1 ! "";
         |CONFI "0000SEl Nif puede ser Erroneo. Desea Calcularlo.";
         |SI FSalida = 0;
             #0Campo = eaVarDni;  |PINTA #0Campo;
             |ERROR;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO Computa; |TIPO 0;
     |SI #0#128 = "N";
          |C_M #0#129, 1, "S";
     |SINO;
          |C_M #0#129, 1, "N";
          #0#129 = 0; |PINTA #0#129;
     |FINSI;
|FPRC;

|PROCESO Tipo12; |TIPO 12;
|FPRC;

|PROCESO EventoPan7;
     |SI nGridLin9 = -1;
          |PINPA #7#0;
          nRango = 1 + 4 + 8 + 16 + 32;
          |LINEAL_SIMPLE #1#9, nRango, 1502, 2098, Min, Max, NULL;
          nGridLin9 = FSalida;
     |SINO;
          |REFRESCACONTROL nGridLin9;
     |FINSI;
|FPRC;

|PROCESO EventoPan6;
     |SI nGridLin6 = -1;
          |PINPA #6#0;
          nRango = 1 + 4 + 8 + 16 + 32;
          |LINEAL_SIMPLE #1#6, nRango, 0702, 1698, Min, Max, NULL;
          nGridLin6 = FSalida;
     |SINO;
          |REFRESCACONTROL nGridLin6;
     |FINSI;
|FPRC;

|PROCESO EventoPan5;
     |SI nGridLin4 = -1;
          |PINPA #5#0;
          nRango = 1 + 4 + 8 + 16 + 32;
          |LINEAL_SIMPLE #1#4, nRango, 0702, 1749, Min, Max, NULL;
          nGridLin4 = FSalida;
          nRango = 1 + 4 + 8 + 16 + 32;
          |LINEAL_SIMPLE #1#5, nRango, 0751, 1798, Min, Max, NULL;
          nGridLin5 = FSalida;
     |SINO;
          |REFRESCACONTROL nGridLin4;
          |REFRESCACONTROL nGridLin5;
     |FINSI;
|FPRC;

|PROCESO EventoPan4;
     |SI nGridLin3 = -1;
          |PINPA #4#0;
          nRango = 1 + 4 + 8 + 16 + 32;
          |LINEAL_SIMPLE #1#3, nRango, 1302, 1898, Min, Max, NULL;
          nGridLin3 = FSalida;
     |SINO;
          |REFRESCACONTROL nGridLin3;
     |FINSI;
|FPRC;

|PROCESO EventoPan3;
     |SI nGridLin1 = -1;
          |PINPA #3#0;        || Hay que pintar la pantalla antes del lineal
          nRango = 1 + 4 + 8 + 16 + 32; nPos1 = 1040; nPos2 = 1598;
          |LINEAL_SIMPLE #1#1, nRango, nPos1, nPos2, Min, Max, NULL;
          nGridLin1 = FSalida;
     |SINO;
          |REFRESCACONTROL nGridLin1;
     |FINSI;
|FPRC;

|PROCESO DisablaPestanya;
     sPestanya1 = nTabulador;
     sPestanya3 = "DISABLE";
     |ESPECIFICA "COMMANDCONTROL", sPestanya;
|FPRC;

|PROCESO EnablaPestanya;
     sPestanya1 = nTabulador;
     sPestanya3 = "ENABLE";
     |ESPECIFICA "COMMANDCONTROL", sPestanya;
|FPRC;

|PROCESO BotonSalir;
     |PTEC 806;
|FPRC;

|PROCESO BotonIRPF;
     nModo = (FEntrada / 100) ! 0;

     |PARA i = 0; |SI i [ 11; |HACIENDO i = i + 1;
          aAlfa = "|X" + (("000" + i) % -103);
          nID = #0#aAlfa#;
          |ESTADO_CONTROL nID, "HIDE";
     |SIGUE;

||*Con esto desabilita todas las pesta바s
||     aAlfa = "|P002SID"; aAlfa = #0#aAlfa#;
||     nPanta = aAlfa;
||     |MAINCOMMAND 32913,"-1","-1", aAlfa,"-1","-1";
||     nPesta바 = FSalida;
||     |ESTADO_CONTROL nPesta바, "DISABLE";

     aAlfa = "|P002SID"; aAlfa = #0#aAlfa#;
     nPanta = aAlfa;

     aAlfa = nPanta;
     |MAINCOMMAND 32913, "-1", "-1", aAlfa, "-1", "-1";
     nTabulador = FSalida;

     sPestanya2 = 0;   |HAZ DisablaPestanya;
     sPestanya2 = 1;   |HAZ DisablaPestanya;
     sPestanya2 = 2;   |HAZ DisablaPestanya;
     sPestanya2 = 3;   |HAZ DisablaPestanya;
     sPestanya2 = 4;   |HAZ DisablaPestanya;
     sPestanya2 = 5;   |HAZ DisablaPestanya;
     sPestanya2 = 6;   |HAZ DisablaPestanya;

     |VENTANA 0501, 2099, nPanta, -1, "";
     nVentana = FSalida;

     #0#101 = #2#0;
     #0#102 = #2#1;
     #0#103 = #2#2;
     #0#104 = #2#3;
     |PINPA #0#2; nPanta = FSalida;
     |PINDA #0#2;

     nRango = 1 + 4 + 8 + 16 + 32;
     |LINEAL_SIMPLE #1#7, nRango, 1602, 2045, Min, Max, NULL;
     nGridLin7 = FSalida;
     nRango = 1 + 4 + 8 + 16 + 32;
     |LINEAL_SIMPLE #1#8, nRango, 1647, 2098, Min, Max, NULL;
     nGridLin8 = FSalida;
     |CONTROL_SIMPLE nPanta, "BOTON,Salir", 1487, 1498, BotonSalir;
     nBotonSalir = FSalida;

     |ENDATOS #2#2;
     |SI FSalida = 0; |Y nModo ! 4;
          #0#101 = #2#0;
          #0#102 = #2#1;
          #0#103 = #2#2;
          #0#104 = #2#3;
     |FINSI;

     |FIN_CONTROL_WINDOWS nBotonSalir;
     |FIN_CONTROL_WINDOWS nGridLin7;
     |FIN_CONTROL_WINDOWS nGridLin7;
     |FINVENTANA nVentana;

     |PARA i = 0; |SI i [ 11; |HACIENDO i = i + 1;
          aAlfa = "|X" + (("000" + i) % -103);
          nID = #0#aAlfa#;
          |ESTADO_CONTROL nID, "SHOW";
     |SIGUE;

||* habilita todas las pesta바s
||     |ESTADO_CONTROL nPesta바, "ENABLE";

     sPestanya2 = 0;   |HAZ EnablaPestanya;
     sPestanya2 = 1;   |HAZ EnablaPestanya;
     sPestanya2 = 2;   |HAZ EnablaPestanya;
     sPestanya2 = 3;   |HAZ EnablaPestanya;
     sPestanya2 = 4;   |HAZ EnablaPestanya;
     sPestanya2 = 5;   |HAZ EnablaPestanya;
     sPestanya2 = 6;   |HAZ EnablaPestanya;

|FPRC;

|PROCESO BotonFoto;
     aDir = "F*.bmp";
     |BROWSE aDir;
     aDir = aDir % 2;  |QBF aDir;
     |SI aDir = "";  |ACABA; |FINSI;

     aLon = aDir % A0;
     aFic = "";
     |PARA i = 1; |SI i < aLon; |HACIENDO i = i + 1;
          nPos = -(i * 100) - 1;
          aAlfa = aDir % nPos;
          |SI aAlfa = "/"; |O aAlfa = "\"; |SAL; |FINSI;
          aFic = aAlfa + aFic;
     |SIGUE;

     #0#88 = aFic; |PINTA #0#88;

     aOrg = aDir;
     |DFICE aDes;
     aDes = aDes + #0#88; |QBF aDes;

     aIP = "";
     |IP_REMOTO aIP;
     |SI aIP ! "";
          |RECIBE_FICHERO aOrg, aDes;
     |SINO;
          |COPIA_FICHERO aOrg, aDes;
     |FINSI;

     |HAZ PintaFoto;
|FPRC;

|PROCESO Min;
     #1#0 = #0#0;
     #1#1 = 1;

     #3#0 = #0#0;
     #3#1 = 1;

     #4#0 = #0#0;
     #4#1 = 1;

     #5#0 = #0#0;
     #5#1 = 1;

     #6#0 = #0#0;
     #6#1 = 1;

     #7#0 = #0#0;
     #7#1 = 1;

     #8#0 = #0#0;
     #8#1 = 1;

     #9#0 = #0#0;
     #9#2 = 1;
|FPRC;


|PROCESO Max;
     #1#0 = #0#0;
     #1#1 = 9999;

     #3#0 = #0#0;
     #3#1 = 99;

     #4#0 = #0#0;
     #4#1 = 99;

     #5#0 = #0#0;
     #5#1 = 99;

     #6#0 = #0#0;
     #6#1 = 99;

     #7#0 = #0#0;
     #7#1 = 99;

     #8#0 = #0#0;
     #8#1 = 99;

     #9#0 = #0#0;
     #9#2 = 99;
|FPRC;

|PROCESO PintaFoto;
     |SI nBotonFoto1 ! -1;
          |FIN_CONTROL_WINDOWS nBotonFoto1;
     |FINSI;
     aAlfa = "|P001SID"; aAlfa = #0#aAlfa#;
     nPanta = aAlfa;

     aAlfa = #0#88; |QBF aAlfa;
     |SI aAlfa = "";
          |DBASE aOrg;
          aOrg = aOrg + "documentos/vacio.bmp";
     |SINO;
          |DFICE aOrg;
          aOrg = aOrg + #0#88;  |QBF aOrg;
     |FINSI;

     aIP = "";
     |IP_REMOTO aIP;
     |SI aIP ! "";
          |ESPECIFICA "RBASS", aLocal;
          aDes = aLocal + Usuario;

          aContiene1 = aDes;
          |ESPECIFICA "REMOTOMD5", aContiene;
          aVersion1 = FSalida; |QBF aVersion1;

          aContiene1 = aOrg;
          |ESPECIFICA "MD5", aContiene;
          aVersion2 = FSalida; |QBF aVersion2;

          |SI aVersion1 ! aVersion2;
               |ENVIA_FICHERO aOrg, aDes;
          |FINSI;
     |SINO;
          |||DBASS aAlfa;
          ||aDes = aAlfa + Usuario;
          |||COPIA_FICHERO aOrg, aDes;
          aDes = aOrg;
     |FINSI;

     aFoto = "IMAGEN,"  + aDes;
     |CONTROL_SIMPLE nPanta, aFoto, 0671, 1288, NULL;
     nBotonFoto1 = FSalida;
|FPRC;

|PROCESO EventoLin1;
     |SI FSalida = 1; |O FSalida = 2;
          |LEE 000#1=;
     |FINSI;
|FPRC;

|PROCESO EventoLin3;
     |SI FSalida = 1; |O FSalida = 2;
          |LEE 000#3=;
     |FINSI;
|FPRC;

|PROCESO EventoLin4;
     |SI FSalida = 1; |O FSalida = 2;
          |LEE 000#4=;
     |FINSI;
|FPRC;

|PROCESO EventoLin5;
     |SI FSalida = 1; |O FSalida = 2;
          |LEE 000#5=;
     |FINSI;
|FPRC;

|PROCESO EventoLin6;
     |SI FSalida = 1; |O FSalida = 2;
          |LEE 000#6=;
     |FINSI;
|FPRC;

|PROCESO EventoLin9;
     |SI FSalida = 1; |O FSalida = 2;
          |LEE 000#9=;
     |FINSI;
|FPRC;

|PROCESO Tipo13; |TIPO 13;
     |SI nBotonLabel ! -1;
          |FIN_CONTROL_WINDOWS nBotonLabel;
     |FINSI;
     aAlfa = "|P000SID"; aAlfa = #0#aAlfa#;
     nPanta = aAlfa;
     aAlfa = "LABEL,{{15}} " + (("00000" + #0#0) % -105) + " " + #0#1;
     |CONTROL_SIMPLE nPanta, aAlfa, 0903, 0966, NULL;
     nBotonLabel = FSalida;

     |SI nBotonIrpf = -1;
          aAlfa = "|P001SID"; aAlfa = #0#aAlfa#;
          nPanta = aAlfa;
          |CONTROL_SIMPLE nPanta, "BOTON,...", 1290, 1294, BotonFoto;
          nBotonFoto2 = FSalida;

          aAlfa = "|P002SID"; aAlfa = #0#aAlfa#;
          nPanta = aAlfa;
          |CONTROL_SIMPLE nPanta, "BOTON,{{193}} Irpf ", 2044, 2051, BotonIRPF;
          nBotonIrpf = FSalida;

          |PINPA #3#0;        || Hay que pintar la pantalla antes del lineal
          nRango = 1 + 4 + 8 + 16 + 32; nPos1 = 1040; nPos2 = 1598;
          |LINEAL_SIMPLE #1#1, nRango, nPos1, nPos2, Min, Max, EventoLin1;
          nGridLin1 = FSalida;

          |PINPA #4#0;
          nRango = 1 + 4 + 8 + 16 + 32;
          |LINEAL_SIMPLE #1#3, nRango, 1302, 1898, Min, Max, EventoLin3;
          nGridLin3 = FSalida;

          |PINPA #5#0;
          nRango = 1 + 4 + 8 + 16 + 32;
          |LINEAL_SIMPLE #1#4, nRango, 0702, 1749, Min, Max, EventoLin4;
          nGridLin4 = FSalida;
          nRango = 1 + 4 + 8 + 16 + 32;
          |LINEAL_SIMPLE #1#5, nRango, 0751, 1798, Min, Max, EventoLin5;
          nGridLin5 = FSalida;

          |PINPA #6#0;
          nRango = 1 + 4 + 8 + 16 + 32;
          |LINEAL_SIMPLE #1#6, nRango, 0702, 1698, Min, Max, EventoLin6;
          nGridLin6 = FSalida;

          |PINPA #7#0;
          nRango = 1 + 4 + 8 + 16 + 32;
          |LINEAL_SIMPLE #1#9, nRango, 1502, 2098, Min, Max, EventoLin9;
          nGridLin9 = FSalida;
/*
          aAlfa = "|P003SID"; aAlfa = #0#aAlfa#;
          nPanta = aAlfa; nPos1 = 0; nPos2 = 0;
          |CONTROL_SIMPLE nPanta, "EVENTOPAN", nPos1, nPos2, EventoPan3;

          aAlfa = "|P004SID"; aAlfa = #0#aAlfa#;
          nPanta = aAlfa;
          |CONTROL_SIMPLE nPanta, "EVENTOPAN", 0, 0, EventoPan4;

          aAlfa = "|P005SID"; aAlfa = #0#aAlfa#;
          nPanta = aAlfa;
          |CONTROL_SIMPLE nPanta, "EVENTOPAN", 0, 0, EventoPan5;

          aAlfa = "|P006SID"; aAlfa = #0#aAlfa#;
          nPanta = aAlfa;
          |CONTROL_SIMPLE nPanta, "EVENTOPAN", 0, 0, EventoPan6;

          aAlfa = "|P007SID"; aAlfa = #0#aAlfa#;
          nPanta = aAlfa;
          |CONTROL_SIMPLE nPanta, "EVENTOPAN", 0, 0, EventoPan7;
*/
     |FINSI;
     |HAZ PintaFoto;
|FPRC;

|PROCESO Tipo9; |TIPO 9;
     |CIERRAT #1;
     |CIERRAT #3;
     |CIERRAT #4;
     |CIERRAT #5;
     |CIERRAT #6;
     |CIERRAT #7;
     |CIERRAT #8;
     |CIERRAT #9;

     |FIN_CONTROL_WINDOWS nBotonLabel;
     |FIN_CONTROL_WINDOWS nBotonIrpf;
     |FIN_CONTROL_WINDOWS nBotonFoto1;
     |FIN_CONTROL_WINDOWS nBotonFoto2;
     |FIN_CONTROL_WINDOWS nGridLin1;
     |FIN_CONTROL_WINDOWS nGridLin3;
     |FIN_CONTROL_WINDOWS nGridLin4;
     |FIN_CONTROL_WINDOWS nGridLin5;
     |FIN_CONTROL_WINDOWS nGridLin6;
     |FIN_CONTROL_WINDOWS nGridLin9;
     |PULSATECLA;
|FPRC;

|PROCESO Tipo8; |TIPO 8;
     |ABRE #321; |LEE 000#321p; |CIERRA #321;
     cCodMonTrab = #321#9;
     |HAZ MonBas;

     |ABRET #1;
     |ABRET #3;
     |ABRET #4;
     |ABRET #5;
     |ABRET #6;
     |ABRET #7;
     |ABRET #8;
     |ABRET #9;
|FPRC;

|PROCESO Tipo80; |TIPO 80;
     FSalida = 2799;
|FPRC;
----------------------------------------------------------------------------------
|PROCESO Borra1;
     |BORRA 020#1a;
|FPRC;

|DEFBUCLE Borra1;
     #1#1;
     ;
     #0#0, 01;
     #0#0, 99;
     be;
     NULL, Borra1;
|FIN;

|PROCESO Borra3;
     |BORRA 020#3a;
|FPRC;

|DEFBUCLE Borra3;
     #3#1;
     ;
     #0#0, 01;
     #0#0, 99;
     be;
     NULL, Borra3;
|FIN;

|PROCESO Borra4;
     |BORRA 020#4a;
|FPRC;

|DEFBUCLE Borra4;
     #4#1;
     ;
     #0#0, 01;
     #0#0, 99;
     be;
     NULL, Borra4;
|FIN;

|PROCESO Borra5;
     |BORRA 020#5a;
|FPRC;

|DEFBUCLE Borra5;
     #5#1;
     ;
     #0#0, 01;
     #0#0, 99;
     be;
     NULL, Borra5;
|FIN;

|PROCESO Borra6;
     |BORRA 020#6a;
|FPRC;

|DEFBUCLE Borra6;
     #6#1;
     ;
     #0#0, 01;
     #0#0, 99;
     be;
     NULL, Borra6;
|FIN;

|PROCESO Borra7;
     |BORRA 020#7a;
|FPRC;

|DEFBUCLE Borra7;
     #7#1;
     ;
     #0#0, 01;
     #0#0, 99;
     be;
     NULL, Borra7;
|FIN;

|PROCESO Borra8;
     |BORRA 020#8a;
|FPRC;

|DEFBUCLE Borra8;
     #8#1;
     ;
     #0#0, 01;
     #0#0, 99;
     be;
     NULL, Borra8;
|FIN;

|PROCESO BorTipHor;
     |BORRA 020#9a;
|FPRC;

|DEFBUCLE BorTipHor;
     #9#1;
     ;
     #0#0, 01;
     #0#0, 99;
     be;
     NULL, BorTipHor;
|FIN;

|PROCESO BorCurso;
     |BORRA 020#16a;
|FPRC;

|DEFBUCLE BorCurso;
     #16#1;
     ;
     #0#0, 01;
     #0#0, 99;
     be;
     NULL, BorCurso;
|FIN;

|PROCESO Tipo2; |TIPO 2;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3;
          |ABRE #12;
          #12#0 = #0#0;
          |LEE 000#12=;
          |SI FSalida = 0;
               |CONFI "0000N쮻ESEA ELIMINAR LAS NOMINAS DEL TRABAJADOR?";
               |SI FSalida = 0;
                    |BORRA 020#12a;
               |SINO;
                    |ERROR; |ACABA;
               |FINSI;
          |FINSI;
          |CIERRA #12;
          |BUCLE BorCurso;
          |BUCLE BorTipHor;

          |BUCLE Borra1;
          |BUCLE Borra3;
          |BUCLE Borra4;
          |BUCLE Borra5;
          |BUCLE Borra6;
          |BUCLE Borra7;
          |BUCLE Borra8;
     |FINSI;
|FPRC;

|PROCESO ContTrab; |TIPO 7;

     nModo = (FEntrada/100)!0;

     |SI nModo ! 1;
          |ACABA;
     |FINSI;

     |MENU menu;

     |SI FSalida = 1;    ||Automatico
          |LEE 000#0u;

          |SI FSalida ! 0;
               nConta = 1;
          |SINO;
               nConta = #0#0;
               nConta = nConta + 1;
          |FINSI;

          |DDEFECTO #0;
          #0#0 = nConta;
          |PTEC 802;
          |PINTA #0#0;
     |FINSI;
|FPRC;

|PROCESO ImpTrabaja;
     |PRINT;
|FPRC;

|DEFBUCLE ImpTrabaja;
     #1#1;
     ;
     #0#0, 1;
     #0#0, 99;
     ;
     NULL, ImpTrabaja;
|FIN;

|PROCESO ImpTrab; |TIPO 4;
     |SUB_EJECUTA_NP "goinform;IMPgotraba1";
     |INFOR "gotraba1";
     |PRINT;
     |PIEINF;
     |FININF;
     |SUB_EJECUTA_NP "goinform;ENVgotraba1";
     |SUB_EJECUTA_NP "goinform;IMPgotraba2";
     |INFOR "gotraba2";
     |PRINT;
     |PIEINF;
     |FININF;
     |SUB_EJECUTA_NP "goinform;ENVgotraba2";
     |SUB_EJECUTA_NP "goinform;IMPgotraba3";
     |INFOR "gotraba3";
     |BUCLE ImpTrabaja;
     |PIEINF;
     |FININF;
     |SUB_EJECUTA_NP "goinform;ENVgotraba3";
     |SUB_EJECUTA_NP "goinform;RUNfichtrab";
|FPRC;

|PROCESO CalcEdad; |TIPO 0;
     aAlfa1 = #0#11; aAlfa1 = aAlfa1 % -104; nNume1 = aAlfa1; || Anyo Nacimiento
     fFecha = ~; aAlfa2 = fFecha; aAlfa2 = aAlfa2 % -104; nNume2 = aAlfa2; || Anyo Actual
     nEdad = nNume2 - nNume1;
     aAlfa1 = #0#11; aAlfa1 = aAlfa1 % 402; nNume1 = aAlfa1; || Mes Nacimiento
     fFecha = ~; aAlfa2 = fFecha; aAlfa2 = aAlfa2 % 402; nNume2 = aAlfa2; || Mes Actual
     nNume = nNume2 - nNume1;
     |SI nNume2 < nNume1;
          nEdad = nEdad - 1;
     |FINSI;
     #0#26 = nEdad;                        || edad
     |PINTA #0#26;
|FPRC;

|PROCESO SuelPact; |TIPO 7;
/*
     |SI FSalida = 13;
          |ATRI I;
          |PINTA 2224, "SUELDO PACTADO:";
          |ATRI 0;
          |C_M #0#23, 1, "S";
          |C_V #0#23, 1, "S";
     |SINO;
          |C_M #0#23, 1, "N";
          |C_V #0#23, 1, "N";
          |PINPA #0#0;
          |PINDA #0#0;
     |FINSI;
*/
|FPRC;

|PROCESO BorSue; |TIPO 0;
/*
     |C_M #0#23, 1, "N";
     |C_V #0#23, 1, "N";
     |PINPA #0#0;
     |PINDA #0#0;
*/
|FPRC;


|PROCESO ModGrupo; |TIPO 0;
     aAlfa = #0#28;
     |PARA i = 29; |SI i [ 73; |HACIENDO i = i + 1;
          |C_M #0i, 1, aAlfa;
     |SIGUE;
     |SI #0#28 ! Contenido;
          |SI #0#28 = "N";
               |PARA i = 29; |SI i [ 73; |HACIENDO i = i + 1;
                    #0i = "";
               |SIGUE;
          |SINO;
               |DDEFECTO #15;
               |ABRE #15;
               #15#0 = #0#3;
               #15#1 = #0#2;
               |LEE 000#15=;
               |CIERRA #15;
               #0#29 = #15#14;
               #0#30 = #15#92;
               #0#31 = #15#15;
               #0#32 = #15#27;
               #0#33 = #15#28;
               #0#34 = #15#29;
               #0#35 = #15#30;
               #0#36 = #15#31;
               #0#37 = #15#32;
               #0#38 = #15#33;
               #0#39 = #15#34;

               #0#40 = #15#21;
               #0#41 = #15#93;
               #0#42 = #15#22;
               #0#43 = #15#43;
               #0#44 = #15#44;
               #0#45 = #15#45;
               #0#46 = #15#46;
               #0#47 = #15#47;
               #0#48 = #15#48;
               #0#49 = #15#49;
               #0#50 = #15#50;

               #0#51 = #15#23;
               #0#52 = #15#94;
               #0#53 = #15#24;
               #0#54 = #15#75;
               #0#55 = #15#76;
               #0#56 = #15#77;
               #0#57 = #15#78;
               #0#58 = #15#79;
               #0#59 = #15#80;
               #0#60 = #15#81;
               #0#61 = #15#82;

               #0#62 = #15#25;
               #0#63 = #15#95;
               #0#64 = #15#26;
               #0#65 = #15#83;
               #0#66 = #15#84;
               #0#67 = #15#85;
               #0#68 = #15#86;
               #0#69 = #15#87;
               #0#70 = #15#88;
               #0#71 = #15#89;
               #0#72 = #15#90;

               #0#73 = #15#91;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO TipoHora0; |TIPO 0;
     |SI #0#28 = "N"; |ACABA; |FINSI;
     |ABRE #9;
     #9#0 = #0#0;
     #9#2 = #0Campo;
     |LEE 000#9=;
     |SI FSalida ! 0; |Y #9#2 > 0;
          |MENAV "0000Tipo de hora no definido...";
     |FINSI;
     |CIERRA #0;
|FPRC;

|PROCESO TipoHora7; |TIPO 66;
     |ABRE #9;
     #9#0 = #0#0;
     #9#2 = #0Campo;
     |LEE 000#9];
     |CONSULTA_F_CLAVE #1#9, Min, Max;
     |SI FSalida = 0;
          #0Campo = #9#2;
          |PINTA #0Campo;
     |SINO;
          |ERROR;
     |FINSI;
     |CIERRA #9;
|FPRC;

|PROCESO ContFech; |TIPO 0;
     |SI #1#3 < #1#2;
          |MENAV "0000LA FECHA DE FINALIZACION DE CONTRATO, NO PUEDE SER INFERIOR";
          |ERROR10;
          |ACABA;
     |FINSI;
|FPRC;

|PROCESO ContaTrab1; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 1; |ACABA; |FINSI;

     #1#0 = #0#0;
     #1#1 = 9999;
     |LEE 000#1];
     |SI FSalida = 0;
          |LEE 000#1a;
     |SINO;
          |LEE 000#1u;
     |FINSI;
     |SI FSalida = 0; |Y #1#0 = #0#0;
          nLin = #1#1 + 1;
     |SINO;
          nLin = 1;
     |FINSI;
     |DDEFECTO #1;
     #1#0 = #0#0;
     #1#1 = nLin;
|FPRC;

|PROCESO ContaTrab3; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 1; |ACABA; |FINSI;
     #3#0 = #0#0;
     #3#1 = 99;
     |LEE 000#3];
     |SI FSalida = 0;
          |LEE 000#3a;
     |SINO;
          |LEE 000#3u;
     |FINSI;
     |SI FSalida = 0; |Y #3#0 = #0#0;
          nLin = #3#1 + 1;
     |SINO;
          nLin = 1;
     |FINSI;
     |DDEFECTO #3;
     #3#0 = #0#0;
     #3#1 = nLin;
|FPRC;

|PROCESO ContaTrab4; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 1; |ACABA; |FINSI;
     #4#0 = #0#0;
     #4#1 = 99;
     |LEE 000#4];
     |SI FSalida = 0;
          |LEE 000#4a;
     |SINO;
          |LEE 000#4u;
     |FINSI;
     |SI FSalida = 0; |Y #4#0 = #0#0;
          nLin = #4#1 + 1;
     |SINO;
          nLin = 1;
     |FINSI;
     |DDEFECTO #4;
     #4#0 = #0#0;
     #4#1 = nLin;
|FPRC;

|PROCESO ContaTrab5; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 1; |ACABA; |FINSI;
     #5#0 = #0#0;
     #5#1 = 99;
     |LEE 000#5];
     |SI FSalida = 0;
          |LEE 000#5a;
     |SINO;
          |LEE 000#5u;
     |FINSI;
     |SI FSalida = 0; |Y #5#0 = #0#0;
          nLin = #5#1 + 1;
     |SINO;
          nLin = 1;
     |FINSI;
     |DDEFECTO #5;
     #5#0 = #0#0;
     #5#1 = nLin;
|FPRC;

|PROCESO ContaTrab6; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 1; |ACABA; |FINSI;
     #6#0 = #0#0;
     #6#1 = 99;
     |LEE 000#6];
     |SI FSalida = 0;
          |LEE 000#6a;
     |SINO;
          |LEE 000#6u;
     |FINSI;
     |SI FSalida = 0; |Y #6#0 = #0#0;
          nLin = #6#1 + 1;
     |SINO;
          nLin = 1;
     |FINSI;
     |DDEFECTO #6;
     #6#0 = #0#0;
     #6#1 = nLin;
|FPRC;

|PROCESO ContaTrab7; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 1; |ACABA; |FINSI;
     #7#0 = #0#0;
     #7#1 = 99;
     |LEE 000#7];
     |SI FSalida = 0;
          |LEE 000#7a;
     |SINO;
          |LEE 000#7u;
     |FINSI;
     |SI FSalida = 0; |Y #7#0 = #0#0;
          nLin = #7#1 + 1;
     |SINO;
          nLin = 1;
     |FINSI;
     |DDEFECTO #7;
     #7#0 = #0#0;
     #7#1 = nLin;
|FPRC;

|PROCESO ContaTrab8; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 1; |ACABA; |FINSI;
     #8#0 = #0#0;
     #8#1 = 99;
     |LEE 000#8];
     |SI FSalida = 0;
          |LEE 000#8a;
     |SINO;
          |LEE 000#8u;
     |FINSI;
     |SI FSalida = 0; |Y #8#0 = #0#0;
          nLin = #8#1 + 1;
     |SINO;
          nLin = 1;
     |FINSI;
     |DDEFECTO #8;
     #8#0 = #0#0;
     #8#1 = nLin;
|FPRC;

|PROCESO ContaTrab9; |TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 1; |ACABA; |FINSI;
     #9#0 = #0#0;
     #9#2 = 99;
     |LEE 000#9];
     |SI FSalida = 0;
          |LEE 000#9a;
     |SINO;
          |LEE 000#9u;
     |FINSI;
     |SI FSalida = 0; |Y #9#0 = #0#0;
          nLin = #9#2 + 1;
     |SINO;
          nLin = 1;
     |FINSI;
     |DDEFECTO #9;
     #9#0 = #0#0;
     #9#2 = nLin;
|FPRC;
