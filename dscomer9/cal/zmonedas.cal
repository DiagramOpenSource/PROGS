|FICHEROS;
     zmonedas;      || pantalla
     agifa321;      || parametros divisas
     agifa324;      || gestion divisas
|FIN;

|VARIABLES;
     &EURO = 0;
     &EURODB = 0;
     &EURODV = 0;
     aAlfa = "";

     &nDeci_Base = 0;
     &nDeci_BaseMx = 0;
     &nDeci_BaseMxD = 0;
     &nDeci_BaseMxF = 0;
     &nDeci_BaseMxP = 0;
     &nDeci_Div = 0;
     &nDeci_DivD = 0;
     &nDeci_DivF = 0;
     &nDeci_DivP = 0;
     &nDeci_EsCab = 0;
     &nDeci_EsLin = 0;
     &nDeci_IBase = 0;
     &nDeci_ITrab = 0;
     &nDeci_IVA = 0;
     &nDeci_IVADiv = 0;
     &nDeci_IVAImp = 0;
     &nDeci_IVACImp = 0;
     &nDeci_IVACDiv = 0;
     &nDeci_ImpVis = 0;
     &nDeci_ImpVisD = 0;
     &nDeci_ImpVisF = 0;
     &nDeci_ImpVisP = 0;
     &nDeci_Incr = 0;
     &nDeci_Medi = 0;
     &nDeci_Meda = 0;
     &nDeci_PBas = 0;
     &nDeci_PBase = 0;
     &nDeci_PDiv = 0;
     &nDeci_PTrab = 0;
     &nDeci_PreBasMx = 0;
     &nDeci_PreBasMxD = 0;
     &nDeci_PreBasMxF = 0;
     &nDeci_PreBasMxP = 0;
     &nDeci_PreBase = 0;
     &nDeci_PreBaseMx = 0;
     &nDeci_PreDiv = 0;
     &nDeci_PreDivD = 0;
     &nDeci_PreDivF = 0;
     &nDeci_PreDivF0 = 0;
     &nDeci_PreDivP = 0;
     &nDeci_PreVis = 0;
     &nDeci_PreVisD = 0;
     &nDeci_PreVisF = 0;
     &nDeci_PreVisP = 0;
     &nDeci_TBas = 0;
     &nDeci_TBase = 0;
     &nDeci_TDiv = 0;
     &nDeci_TTrab = 0;
     &nDeci_TotNoVis = 0;
     &nDeci_TotNoVisD = 0;
     &nDeci_TotNoVisF = 0;
     &nDeci_TotNoVisP = 0;
     &nDeci_TotVis = 0;
     &nDeci_TotVisD = 0;
     &nDeci_TotVisF = 0;
     &nDeci_TotVisP = 0;
     &nDeci_Uni = 0;
     &nDeci_UniTpv = 0;
     &nDeci_VTot = 0;
     &nDeci_Vto = 0;
     &nDeci_nBruto = 0;
     &nDeci_nDe = 0;
     &nDeci_nDec_d = 0;
     &nDeci_nPrecio = 0;
     &nDeci_sob = 0;
     &nDeci_sob1 = 0;
|FIN;

|PROCESO LosNDECI;
     nDeci_Base = EURODB;
     nDeci_BaseMx = EURODB;
     nDeci_BaseMxD = EURODB;
     nDeci_BaseMxF = EURODB;
     nDeci_BaseMxP = EURODB;
     nDeci_Div = EURODB;
     nDeci_DivD = EURODB;
     nDeci_DivF = EURODB;
     nDeci_DivP = EURODB;
     nDeci_EsCab = EURODB;
     nDeci_EsLin = EURODB;
     nDeci_IBase = EURODB;
     nDeci_ITrab = EURODB;
     nDeci_IVA = EURODB;
     nDeci_IVADiv = EURODB;
     nDeci_IVAImp = EURODB;
     nDeci_IVACImp = EURODB;
     nDeci_IVACDiv = EURODB;
     nDeci_ImpVis = EURODB;
     nDeci_ImpVisD = EURODB;
     nDeci_ImpVisF = EURODB;
     nDeci_ImpVisP = EURODB;
     nDeci_Incr = EURODB;
     nDeci_Medi = EURODB;
     nDeci_Meda = EURODB;
     nDeci_PBas = EURODB;
     nDeci_PBase = EURODB;
     nDeci_PDiv = EURODB;
     nDeci_PTrab = EURODB;
     nDeci_PreBasMx = EURODB;
     nDeci_PreBasMxD = EURODB;
     nDeci_PreBasMxF = EURODB;
     nDeci_PreBasMxP = EURODB;
     nDeci_PreBase = EURODB;
     nDeci_PreBaseMx = EURODB;
     nDeci_PreDiv = EURODB;
     nDeci_PreDivD = EURODB;
     nDeci_PreDivF = EURODB;
     nDeci_PreDivF0 = EURODB;
     nDeci_PreDivP = EURODB;
     nDeci_PreVis = EURODB;
     nDeci_PreVisD = EURODB;
     nDeci_PreVisF = EURODB;
     nDeci_PreVisP = EURODB;
     nDeci_TBas = EURODB;
     nDeci_TBase = EURODB;
     nDeci_TDiv = EURODB;
     nDeci_TTrab = EURODB;
     nDeci_TotNoVis = EURODB;
     nDeci_TotNoVisD = EURODB;
     nDeci_TotNoVisF = EURODB;
     nDeci_TotNoVisP = EURODB;
     nDeci_TotVis = EURODB;
     nDeci_TotVisD = EURODB;
     nDeci_TotVisF = EURODB;
     nDeci_TotVisP = EURODB;
     nDeci_Uni = EURODB;
     nDeci_UniTpv = EURODB;
     nDeci_VTot = EURODB;
     nDeci_Vto = EURODB;
     nDeci_nBruto = EURODB;
     nDeci_nDe = EURODB;
     nDeci_nDec_d = EURODB;
     nDeci_nPrecio = EURODB;
     nDeci_sob = EURODB;
     nDeci_sob1 = EURODB;
|FPRC;

|PROGRAMA;
     |DFICE aAlfa;  |QBF aAlfa;

     |SI PARAMETRO ! ""; || El agif0041 llama con el N§ de  empresa
          aAlfa = aAlfa + PARAMETRO + "/";
     |FINSI;


     |PATH_DAT #agifa321#aAlfa#;
     |PATH_DAT #agifa324#aAlfa#;

     |ABRE #agifa321;
     |LEE 000#agifa321.p;
     |CIERRA #agifa321;

     |ABRE #agifa324;
     #agifa324#0 = #agifa321#9;
     |LEE 000#agifa324.=;
     |CIERRA #agifa324;

     |SI #agifa324#2 = 1;|Y #agifa324#3 = 1;                || en EUROS
          EURO = 166.186;
          EURODB = 2;
          EURODV = 0;
          #zmonedas#0 = "EURO";
     |FINSI;

     |SI #agifa324#2 = 166.386;|Y #agifa324#3 = 166.386;    || en PESETAS
          EURO = 1 / 166.186;
          EURODB = 0;
          EURODV = 2;
          #zmonedas#0 = "PESETA";
     |FINSI;

     |HAZ LosNDECI;

||     |PINPA #0#zmonedas;
||     |PINDA #0#zmonedas;

     #zmonedas#1 = EURO;
||     |PINTA #zmonedas#1#;
|FPRO;
