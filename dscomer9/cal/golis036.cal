|FICHEROS;
     golis036 #0;
     gomantho #1;
     gopartia #3;
     agifa142 #142;
     agifa724 #724;
     cacuenta@;
|FIN;

|VARIABLES;
     aDef = "";
     aPath = "";
     aAlfa = "";
|FIN;

|PROCESO gopartia;
     |DDEFECTO #1;
     #1#0 = #3#2;
     #1#1 = #3#3;
     |LEE 000#1=;

     #724#0 = #3#20;
     |LEE 000#724=;
     |SI FSalida ! 0; |DDEFECTO #724; |FINSI;

     |SI aDef ! "";
          |DDEFECTO #cacuenta@;
          #cacuenta@#0 = #724#3;
          |LEE 000#cacuenta@.=;
          #0#3 = #cacuenta@#2;
     |FINSI;

     |PRINT;
|FPRC;

|DEFBUCLE gopartia;
     #3#1;
     28;
     " ", "     ", 000001, 001, 001, #0#0;
     "z", "zzzzz", 999999, 999, 999, #0#1;
     ;
     NULL, gopartia;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |ABRE #142; |LEE 000#142p; |CIERRA #142;
     aDef = #142#151; |QBF aDef;
     aDef = aDef + "/def/cacuenta";
     |CARGA_DEF aDef, cacuenta@;
     |SI FSalida ! 0;
          aAlfa = "0000Error al cargar:" + aDef;
          aDef = "";
          |MENAV aAlfa;
     |SINO;
          aPath = #142#151; |QBF aPath;
          aPath = aPath + "/fich/" + (("000000" + #142#152) % -106) + "/";
          |PATH_DAT #cacuenta@#aPath#;
          |ABRE #cacuenta@;
     |FINSI;

     Impresora = "Crystal Reports";
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "golis036";
          |SI FSalida = 0;
               |ABRE #1;
               |ABRE #724;
               |BUCLE gopartia;
               |CIERRA #724;
               |CIERRA #1;
               |PIEINF;
               |FININF;
          |SINO;
               |SI #0#2 = "S";
                    |MENAV "0000Error informe 'golis036'";
               |SINO;
                    |MENAV "0000Error informe 'golisd36'";
               |FINSI;
          |FINSI;
          |FINIMP;
     |FINSI;

     |SI aDef ! "";
          |CIERRA #cacuenta@;
          |DESCARGA_DEF #cacuenta@;
     |FINSI;
|FPRC;
