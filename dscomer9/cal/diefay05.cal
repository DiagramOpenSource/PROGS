|FICHEROS;
     diefay05 #0;
     agifa077 #77;
     agifa080 #80;
     diefaw13 #13;
     agifa019 #19;
     agifa112 #112;
|FIN;

|VARIABLES;
     &enActual = 0;
     nAnt = 0;
     aInf = "diefay05";
     nImpo = 0;
     nHay = 0;
     aAlfa = "";
     nUni = 0;
     dFecha = @;
     hFecha = @;
     nNume = 0;
|FIN;

|PROCESO diefaw13;
     |DDEFECTO #112;
     #112#0 = #13#0;
     |LEE 000#112=;
     |DDEFECTO #19;
     #19#0 = #13#1;
     |LEE 000#19=;

     nHay = 1;
     |PRINT;
|FPRC;

|DEFBUCLE diefaw13;
     #13#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, diefaw13;
|FIN;

|PROCESO agifa080;

     |SI #80#2 < #0#5; |O #80#2 > #0#6;
          |ACABA;
     |FINSI;

     |DDEFECTO #19;
     #19#0 = #80#2;
     |LEE 000#19=;

     |SI #19#2 < #0#3; |O #19#2 > #0#4;
          |ACABA;
     |FINSI;

     nImpo = (((((#80#5 * #80#30) < #80#8) < #80#26) < #77#5) < #77#32) < #77#7;
     nUni = #80#5;
     |SI #77#42 = "S";
          nImpo = -nImpo;
          nUni = -nUni;
     |FINSI;

     |DDEFECTO #13;
     #13#0 = #77#3;
     #13#1 = #80#2;
     |LEE 101#13=;
     |SI FSalida ! 0; |GRABA 020#13b; |FINSI;

     |SI nAnt = 1;
          #13#4 = #13#4 + nUni;
          #13#5 = #13#5 + nImpo;
     |SINO;
          #13#2 = #13#2 + nUni;
          #13#3 = #13#3 + nImpo;
     |FINSI;

     |GRABA 020#13a;
     |LIBERA #13;
|FPRC;

|DEFBUCLE agifa077;
     #77#3;
     ;
     #0#1, #0#7, "     ", 000001;
     #0#2, #0#8, "zzzzz", 999999;
     ;
     NULL, NULL, agifa080;
|FIN;

|DEFBUCLE agifa077Ant;
     #77#3;
     ;
     #0#1, dFecha, "     ", 000001;
     #0#2, hFecha, "zzzzz", 999999;
     ;
     NULL, NULL, agifa080;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     aAlfa = #0#7; aAlfa = aAlfa % -104;
     enActual = aAlfa;
     nNume = aAlfa -1;
     aAlfa = #0#7; aAlfa = aAlfa % 106;
     aAlfa = aAlfa + nNume;
     dFecha = aAlfa;

     aAlfa = #0#8; aAlfa = aAlfa % -104;
     nNume = aAlfa -1;
     aAlfa = #0#8; aAlfa = aAlfa % 106;
     aAlfa = aAlfa + nNume;
     hFecha = aAlfa;

     aAlfa = Usuario; |QBF aAlfa;
     |NOME_DAT #13 aAlfa;
     |DELINDEX #13;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR aInf;
          |SI FSalida ! 0;
               aInf = "0000No existe Informe " + aInf;
               |MENAV aInf;
          |SINO;
               |ABRE #13;
               |ABRE #19;
               nAnt = 0;
               |BUCLE agifa077;
               |DBASE aAlfa;
               aAlfa = aAlfa + "fich/" + (("00000" + #0#0) % -105) + "/";
               |PATH_DAT #77 aAlfa;
               |PATH_DAT #80 aAlfa;
               nAnt = 1;
               |BUCLE agifa077Ant;
               |CIERRA #13;
               |ABRE #112;
               |BUCLE diefaw13;
               |CIERRA #112;
               |CIERRA #19;
               |SI nHay ! 0; |PIEINF; |FINSI;
               |FININF;
          |FINSI;
          |FINIMP;
     |FINSI;
     |DELINDEX #13;
|FPRC;
