|FICHEROS;
     belm0003 #0;
     belm0004 #1;
     belz0001 #10,MANTE;
     agifa019 #19;
     referen@;
|FIN;

|VARIABLES;
     nModo = 0;
     nLinea = 0;
     aAlfa = "";
     nForma = 0;
|FIN;

|PROCESO agifa019;
     #referen@#0 = #0#0;
     #referen@#2 = #19#0;
     |LEE 000#referen@.=;
     |SI FSalida ! 0;
          #1#0 = #0#0;
          #1#1 = 999999;
          |LEE 000#1];
          |SI FSalida = 0;
               |LEE 000#1a;
          |SINO;
               |LEE 000#1u;
          |FINSI;
          |SI FSalida = 0; |Y #1#0 = #0#0;
               nLinea = #1#1 + 1;
          |SINO;
               nLinea = 1;
          |FINSI;
          |DDEFECTO #1;
          #1#0 = #0#0;
          #1#1 = nLinea;
          #1#2 = #19#0;
          #1#3 = #19#1;
          |GRABA 020#1n;
     |FINSI;
|FPRC;

|DEFBUCLE agifa019;
     #19#1;
     2, 3, 125;               ||fam, subfam, linea
     #10#0, #10#2, #10#4, #10#6;
     #10#1, #10#3, #10#5, #10#7;
     ;
     NULL, agifa019;
|FIN;

|PROCESO T11; |TIPO 11;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 4; |Y FSalida = 13;
          |PUSHV 0501 2380;
          |BLANCO 12162076;
          |PINPA #0#10;
          |PINDA #0#10;
          |ENDATOS #1#10;
          |SI FSalida = 0;
               |DDEF aAlfa;
               aAlfa = aAlfa + "belm0004";
               |CARGA_DEF aAlfa, referen@;
               |SI FSalida = 0;
                    |ABRE #referen@; |SELECT #2#referen@;
                    |BUCLE agifa019;
                    |CIERRA #referen@;
                    |DESCARGA_DEF #referen@;
               |FINSI;
          |FINSI;
          |POPV;
          |PTEC 816;
          |PTEC 812;
          |ERROR;
     |FINSI;
|FPRC;

|PROCESO Arti; |TIPO 0;
     |DDEF aAlfa;
     aAlfa = aAlfa + "belm0004";
     |CARGA_DEF aAlfa, referen@;
     |SI FSalida = 0;
          |ABRE #referen@; |SELECT #2#referen@;
          #referen@#0 = #1#0;
          #referen@#2 = #1#2;
          |LEE 000#referen@.=;
          |SI FSalida = 0;
               aAlfa = "0000Artículo existente en línea: " + #referen@#1;
               |MENAV aAlfa;
               |ERROR;
          |FINSI;
          |CIERRA #referen@;
          |DESCARGA_DEF #referen@;
     |FINSI;
|FPRC;
