|FICHEROS;
     gosubive #0;
     gofamive #1;
     agifa120 #2;
     goparame #10;
|FIN;
----------------------------------------------------------------------
|VARIABLES;
     cCodigo   = "";
     cFich     = "";
     nHay      = 0;
     nMod      = 0;
     nSal      = 0;
     qSal      = 0;
     bAlfa     = "";
     cAlfa     = "";
|FIN;
-------------------------------------------------------------------------------
|PROCESO tipo222; |TIPO 2;
     nMod = (FEntrada / 100) ! 0;
     qSal = 0 +. 1;
     |ABRE #2;
     |SI nMod = 1;
          #2#0 = #0#0;
          |LEE 101#2=;
          nSal = FSalida;
          #2#0 = #0#0;
          #2#1 = #0#1;
          |SI nSal ! 0; |GRABA 020#2n; |FINSI;
          |SI nSal = 0; |GRABA 020#2a; |FINSI;
          |LIBERA #2;
     |FINSI;
     |SI nMod = 2; |Y qSal > 0;
          #2#0 = #0#0;
          |LEE 101#2=;
          nSal = FSalida;
          #2#0 = #0#0;
          #2#1 = #0#1;
          |SI nSal ! 0; |GRABA 020#2n; |FINSI;
          |SI nSal = 0; |GRABA 020#2a; |FINSI;
          |LIBERA #2;
     |FINSI;
     |SI nMod = 3;
          #2#0 = #0#0;
          |LEE 101#2=;
          |SI FSalida = 0;
               |BORRA 020#2a;
          |FINSI;
     |FINSI;
     |CIERRA #2;
|FPRC;

|PROCESO tipofam; |TIPO 7;
     |ABRE #10; |LEE 000#10p; |CIERRA #10;
     nMod = (FEntrada / 100) ! 0;
     |SI nMod = 1;
          #0#2 = bAlfa;
          |C_M #0#2 , 1 , "S";
          |ENCAMPO #2#0;
          |SI FSalida ! 0;
               |PTEC 807;
               |ACABA;
          |FINSI;
          |SI #10#90 = "S"; |Y #10#141 = "O";
               |C_M #0#2 , 1 , "N";
               |C_V #0#4 , 1 , "N";
               |C_M #0#4 , 1 , "N";
               |ENCAMPO #4#0;
          |SINO;
               bAlfa = #0#2;
               #0#0 = #0#2;
               |PINTA #0#0;
               |C_M #0#2 , 1 , "N";
               |C_V #0#4 , 1 , "S";
               |C_M #0#4 , 1 , "S";
               |ENCAMPO #4#0;
               |SI FSalida ! 0;
                    #0#0 = "";
                    #0#2 = "";
                    |PINTA #0#0;
                    |PINTA #0#2;
                    |C_V #0#4 , 1 , "N";
                    |C_M #0#4 , 1 , "N";
                    |PTEC 807;
               |FINSI;
               cAlfa = #0#4;
               #0#0 = bAlfa + cAlfa;
               |PINTA #0#0;
               |C_V #0#4 , 1 , "N";
               |C_M #0#4 , 1 , "N";
               |PTEC 802;
          |FINSI;
     |FINSI;
|FPRC;
