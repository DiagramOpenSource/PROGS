|FICHEROS;
   repatrim #0;
   reparame #1;
|FIN;

|VARIABLES;
   pantalla     = 0;

   &empresa     = 0;
   &nombre      = "";
   &modo        = 0;
   &modelito    = 0;
   &codigo      = "";
   &indivi      = "";
|FIN;

|INCLUYE i_husuar;
|INCLUYE i_letran;
|INCLUYE i_activo;

|RUTINA inferior;
  #0#0 = empresa;
  #0#1 = codigo;
  #0#2 = 001;
|FRUT;

|RUTINA superior;
  #0#0 = empresa;
  #0#1 = codigo;
  #0#2 = 999;
|FRUT;

|PROGRAMA;
|PINPA #0#0;
|HAZ titulo;
|HAZ refer;

|SI modo = 1;  |ENTLINEAL #1#0,3,1,15,0,inferior,superior;  |FINSI;
|SI modo = 2;  |ENTLINEAL #1#0,3,2,15,0,inferior,superior;  |FINSI;
|SI modo = 4;  |ENTLINEAL #1#0,3,4,15,0,inferior,superior;  |FINSI;
|FPRO;

|PROCESO titulo;
|ATRI R;
|SI codigo = "C1"; |PINTA 808,"C1) Bienes y Derechos no Exentos (Excepto Inmuebles)";  |FINSI;
|SI codigo = "C2"; |PINTA 808,"C2) Bienes Inmuebles no Exentos";   |FINSI;
|SI codigo = "C3"; |PINTA 808,"D) Bienes y Derechos Exentos";      |FINSI;
|SI codigo = "D1"; |PINTA 811,"E) Depositos en cta.cte. o ahorro"; |FINSI;
|SI codigo = "E1"; |PINTA 823,"F1) Valores en Bolsa";              |FINSI;
|SI codigo = "E2"; |PINTA 823,"F2) Valores no Bolsa";              |FINSI;
|SI codigo = "F1"; |PINTA 823,"G1) Acciones en Bolsa";                 |FINSI;
|SI codigo = "F2"; |PINTA 823,"G2) Acciones en Bolsa Otras Entidades"; |FINSI;
|SI codigo = "F3"; |PINTA 823,"G3) Acciones no Bolsa";                 |FINSI;
|SI codigo = "F4"; |PINTA 823,"G4) Acciones no Bolsa Otras Entidades"; |FINSI;
|SI codigo = "F5"; |PINTA 823,"H1) Acciones en Bolsa Exentas";         |FINSI;
|SI codigo = "F6"; |PINTA 823,"H2) Acciones no Bolsa Exentas";         |FINSI;
|SI codigo = "G1"; |PINTA 823,"I) Seguros de Vida"; |FINSI;
|SI codigo = "I1"; |PINTA 823,"K) Joyas,pieles,vehiculos,embarcaciones,aeronaves"; |FINSI;
|SI codigo = "J1"; |PINTA 823,"L) Objetos de arte y antiguedades"; |FINSI;
|SI codigo = "K1"; |PINTA 808,"M) Derechos reales de uso y disfrute"; |FINSI;
|SI codigo = "L1"; |PINTA 823,"N) Concesiones administrativas"; |FINSI;
|SI codigo = "M1"; |PINTA 823,"O) Propiedad Intelectual e Industrial"; |FINSI;
|SI codigo = "N1"; |PINTA 823,"P) Opciones contractuales"; |FINSI;
|SI codigo = "O1"; |PINTA 823,"Q) Demas bienes y derechos de contenido economico"; |FINSI;
|SI codigo = "U1"; |PINTA 823,"Deudas"; |FINSI;
|SI codigo = "V1"; |PINTA 823,"Valor Patrimonio no Productivo"; |FINSI;
|SI codigo = "V3"; |PINTA 823,"Bienes y derechos Ceuta y Melilla"; |FINSI;
|SI codigo = "V2"; |PINTA 818,"Importes en el extranjero"; |FINSI;
|SI codigo = "V4"; |PINTA 818,"Datos Renta"; |FINSI;
|ATRI 0;

|ATRI I;
|SI codigo = "V4"; |PINTA 958,  "C.Integra";          |FINSI;
|SI codigo = "V4"; |PINTA 969,  "Limite 70%";         |FINSI;
|SI codigo = "V2"; |PINTA 963,  "Base";               |FINSI;
|SI codigo = "V2"; |PINTA 974,  "Valor";              |FINSI;
|SI codigo = "C1"; |PINTA 0924, "Descrip.Actividad "; |FINSI;
|SI codigo = "C2"; |PINTA 0924, "Valor Catastral   "; |FINSI;
|SI codigo = "C3"; |PINTA 0924, "Valor Catastral   "; |FINSI;
|ATRI 0;

|SI codigo = "A1"; HPrograma = "(repatrim) PATRIMONIO LETRA A1"; |FINSI;
|SI codigo = "B1"; HPrograma = "(repatrim) PATRIMONIO LETRA B1"; |FINSI;
|SI codigo = "C1"; HPrograma = "(repatrim) PATRIMONIO LETRA C1"; |FINSI;
|SI codigo = "C2"; HPrograma = "(repatrim) PATRIMONIO LETRA C2"; |FINSI;
|SI codigo = "C3"; HPrograma = "(repatrim) PATRIMONIO LETRA D1"; |FINSI;
|SI codigo = "D1"; HPrograma = "(repatrim) PATRIMONIO LETRA E1"; |FINSI;
|SI codigo = "E1"; HPrograma = "(repatrim) PATRIMONIO LETRA F1"; |FINSI;
|SI codigo = "E2"; HPrograma = "(repatrim) PATRIMONIO LETRA F2"; |FINSI;
|SI codigo = "F1"; HPrograma = "(repatrim) PATRIMONIO LETRA G1"; |FINSI;
|SI codigo = "F2"; HPrograma = "(repatrim) PATRIMONIO LETRA G2"; |FINSI;
|SI codigo = "F3"; HPrograma = "(repatrim) PATRIMONIO LETRA G3"; |FINSI;
|SI codigo = "F4"; HPrograma = "(repatrim) PATRIMONIO LETRA G4"; |FINSI;
|SI codigo = "F5"; HPrograma = "(repatrim) PATRIMONIO LETRA H1"; |FINSI;
|SI codigo = "F6"; HPrograma = "(repatrim) PATRIMONIO LETRA H2"; |FINSI;
|SI codigo = "G1"; HPrograma = "(repatrim) PATRIMONIO LETRA I1"; |FINSI;
|SI codigo = "H1"; HPrograma = "(repatrim) PATRIMONIO LETRA J1"; |FINSI;
|SI codigo = "I1"; HPrograma = "(repatrim) PATRIMONIO LETRA K1"; |FINSI;
|SI codigo = "J1"; HPrograma = "(repatrim) PATRIMONIO LETRA L1"; |FINSI;
|SI codigo = "K1"; HPrograma = "(repatrim) PATRIMONIO LETRA M1"; |FINSI;
|SI codigo = "L1"; HPrograma = "(repatrim) PATRIMONIO LETRA N1"; |FINSI;
|SI codigo = "M1"; HPrograma = "(repatrim) PATRIMONIO LETRA O1"; |FINSI;
|SI codigo = "N1"; HPrograma = "(repatrim) PATRIMONIO LETRA P1"; |FINSI;
|SI codigo = "O1"; HPrograma = "(repatrim) PATRIMONIO LETRA Q1"; |FINSI;
|SI codigo = "U1"; HPrograma = "(repatrim) PATRIMONIO LETRA U1"; |FINSI;
|SI codigo = "V1"; HPrograma = "(repatrim) PATRIMONIO LETRA V1"; |FINSI;
|SI codigo = "V2"; HPrograma = "(repatrim) PATRIMONIO LETRA V2"; |FINSI;
|SI codigo = "V3"; HPrograma = "(repatrim) PATRIMONIO LETRA V3"; |FINSI;
|SI codigo = "V4"; HPrograma = "(repatrim) PATRIMONIO LETRA V4"; |FINSI;
|FPRC;

|PROCESO refer;
|SI codigo = "C1";
    |CAMPO_MODIFICA #0#14, 1, "S";
    |CAMPO_MODIFICA #0#16, 1, "N";
    |CAMPO_MODIFICA #0#18, 1, "N";
    |CAMPO_VISUAL #0#14, 1, "S";
    |CAMPO_VISUAL #0#16, 1, "N";
    |CAMPO_VISUAL #0#18, 1, "N";
|FINSI;
|SI codigo = "C2"; |O codigo = "C3";
    |CAMPO_MODIFICA #0#14, 1, "N";
    |CAMPO_MODIFICA #0#16, 1, "S";
    |CAMPO_MODIFICA #0#18, 1, "S";
    |CAMPO_VISUAL #0#14, 1, "N";
    |CAMPO_VISUAL #0#16, 1, "S";
    |CAMPO_VISUAL #0#18, 1, "S";
|FINSI;
|FPRC;

|PROCESO Actualiza; |TIPO 2;
pantalla   = 0 +. 1;
QueTipo    = (FEntrada / 100) ! 0;
HContribu  = #0#0;
HNombre    = nombre;
HLinea     = #0#2;
HPerceptor = #0#4;
HRdto      = #0#9;

|SI QueTipo = 1; HTipo = "ALTA FICHA";         |FINSI;
|SI QueTipo = 2; HTipo = "MODIFICACION FICHA"; |FINSI;
|SI QueTipo = 3; HTipo = "BAJA FICHA";         |FINSI;

|SI QueTipo = 3; |Y pantalla ! 1; |HAZ AltaHistorico;  |FINSI;
|SI QueTipo < 3; |Y pantalla = 1; |HAZ AltaHistorico;  |FINSI;
|FPRC;

|PROCESO parametro; |TIPO 0;
modelito = (FEntrada / 100) ! 0;
|SI modelito = 1;
   |ABRE #1;
   |LEE 040#1=;
   |SI FSalida = 0;
      |SI #1#6 ! "G"; |Y #1#6 ! "V";
          #0#3  = #1#6;
          |PINTA #0#3;
      |FINSI;
      |CIERRA #1;
   |FINSI;
|FINSI;
|FPRC;

|PROCESO TipoIndi; |TIPO 7;
|SI indivi = "S"; |Y #0Campo ! "V";
    #0Campo = "T"; |PINTA #0Campo;
|FINSI;
|FPRC;

|PROCESO tipo; |TIPO 0;
|SI indivi = "S"; |Y #0#3 ! "T";
    |MENAV "      La renta es individual";
    |ERROR; |ACABA;
|FINSI;

npro = 30; |HAZ sigrabo;

|SI codigo = "A1"; npro = 31; |HAZ sigrabo; |FINSI;
|SI codigo = "B1"; npro = 32; |HAZ sigrabo; |FINSI;
|SI codigo = "C1"; npro = 33; |HAZ sigrabo; |FINSI;
|SI codigo = "C2"; npro = 53; |HAZ sigrabo; |FINSI;
|SI codigo = "C3"; npro = 54; |HAZ sigrabo; |FINSI;
|SI codigo = "D1"; npro = 34; |HAZ sigrabo; |FINSI;
|SI codigo = "E1"; npro = 35; |HAZ sigrabo; |FINSI;
|SI codigo = "E2"; npro = 55; |HAZ sigrabo; |FINSI;
|SI codigo = "F1"; npro = 36; |HAZ sigrabo; |FINSI;
|SI codigo = "F2"; npro = 56; |HAZ sigrabo; |FINSI;
|SI codigo = "F3"; npro = 57; |HAZ sigrabo; |FINSI;
|SI codigo = "F4"; npro = 58; |HAZ sigrabo; |FINSI;
|SI codigo = "F5"; npro = 59; |HAZ sigrabo; |FINSI;
|SI codigo = "F6"; npro = 61; |HAZ sigrabo; |FINSI;
|SI codigo = "G1"; npro = 37; |HAZ sigrabo; |FINSI;
|SI codigo = "H1"; npro = 38; |HAZ sigrabo; |FINSI;
|SI codigo = "I1"; npro = 39; |HAZ sigrabo; |FINSI;
|SI codigo = "J1"; npro = 40; |HAZ sigrabo; |FINSI;
|SI codigo = "K1"; npro = 41; |HAZ sigrabo; |FINSI;
|SI codigo = "L1"; npro = 42; |HAZ sigrabo; |FINSI;
|SI codigo = "M1"; npro = 43; |HAZ sigrabo; |FINSI;
|SI codigo = "N1"; npro = 44; |HAZ sigrabo; |FINSI;
|SI codigo = "O1"; npro = 45; |HAZ sigrabo; |FINSI;
|SI codigo = "U1"; npro = 46; |HAZ sigrabo; |FINSI;
|SI codigo = "V1"; npro = 47; |HAZ sigrabo; |FINSI;
|SI codigo = "V2"; npro = 48; |HAZ sigrabo; |FINSI;
|SI codigo = "V3"; npro = 49; |HAZ sigrabo; |FINSI;
|SI codigo = "V4"; npro = 50; |HAZ sigrabo; |FINSI;

|SI #0#3 = "T"; #0#4 = "TITULAR   "; |FINSI;
|SI #0#3 = "C"; #0#4 = "CONYUGE   "; |FINSI;
|SI #0#3 = "G"; #0#4 = "GANANCIAL "; |FINSI;
|SI #0#3 = "1"; #0#4 = "FAMILIARES"; |FINSI;
|SI #0#3 = "2"; #0#4 = "FAMILIARES"; |FINSI;
|SI #0#3 = "3"; #0#4 = "FAMILIARES"; |FINSI;
|SI #0#3 = "4"; #0#4 = "FAMILIARES"; |FINSI;
|SI #0#3 = "V"; #0#4 = "VARIOS    "; |FINSI;
|PINTA #0#4;
|FPRC;
