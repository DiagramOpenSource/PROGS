|FICHEROS;
    reincpre #1;
    rejerant #2;
    reincreg #7;
    reincire #8;
    reincpen #9;
    rew00001 #99;
|FIN;

|| **************************************************************************
||                           PROCESOS IMPRESION
|| **************************************************************************

|INCLUYE i_varcre;     || Incluye de Variables;

|PROCESO regular;
varalf = "";                                                     |HAZ imprime;
varalf = "";                                                     |HAZ imprime;

|SI swcab = 0;
    |HAZ Espacios;
    swcab = 1;
    |CIMPR 5;
    varalf = "INCREMETOS Y DISMINUCIONES REGULARES";             |HAZ imprime;
    |CIMPR 6;
    varalf = "";                                                 |HAZ imprime;
|FINSI;

varalf = "----------------------------------------------------------------";
|HAZ imprime;

varalf = "Declaracion : " + #7#4;                                |HAZ imprime;
varalf = "Descripcion : " + #7#13;                               |HAZ imprime;
varalf = "Titular ....: " + #7#3;                                |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
varalf = "Imputacion de Rendimientos                         ";  |HAZ imprime;
a = #7#14; importe = a;                                          |HAZ importe;
varalf = "Valor de transmision ............................: " + importe;
                                                                 |HAZ imprime;
a = #7#15; importe = a;                                          |HAZ importe;
varalf = "Valor de la adquisicion o de la mejora ..........: " + importe;
                                                                 |HAZ imprime;
a = #7#16; importe = a;                                          |HAZ importe;
varalf = "Disminucion de patrimonio regular ...............: " + importe;
                                                                 |HAZ imprime;
a = #7#17; importe = a;                                          |HAZ importe;
varalf = "Disminucion regular imputable a 1997 ............: " + importe;
                                                                 |HAZ imprime;
a = #7#18; importe = a;                                          |HAZ importe;
varalf = "Incremento de patrimonio regular ................: " + importe;
                                                                 |HAZ imprime;
a = #7#19; importe = a;                                          |HAZ importe;
varalf = "Incremento exento por reinversion ...............: " + importe;
                                                                 |HAZ imprime;
a = #7#20; importe = a;                                          |HAZ importe;
varalf = "Incremento regular sometido a gravamen ..........: " + importe;
                                                                 |HAZ imprime;
a = #7#21; importe = a;                                          |HAZ importe;
varalf = "Incremento regular imputable a 1997 .......... ..: " + importe;
                                                                 |HAZ imprime;
varalf = "----------------------------------------------------------------";
|HAZ imprime;
|FPRC;

|DEFBUCLE reincreg;
#7#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, regular;
|FIN;


|| ********************** Incrementos y disminuciones irregulares ***********

|PROCESO irregular_5;
varalf = "";                                                     |HAZ imprime;
varalf = "";                                                     |HAZ imprime;

|SI swcab = 0;
    |HAZ Espacios;
    swcab = 1;
    |CIMPR 5;
    varalf = "INCREMETOS Y DISMINUCIONES IRREGULARES";           |HAZ imprime;
    |CIMPR 6;
    varalf = "";                                                 |HAZ imprime;
|FINSI;

varalf = "----------------------------------------------------------------";
|HAZ imprime;

varalf = "Declaracion : " + #8#4;                                |HAZ imprime;
varalf = "Descripcion : " + #8#13;                               |HAZ imprime;
varalf = "Titular ....: " + #8#3;                                |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
a = #8#14; importe = a;                                          |HAZ importe;
varalf = "Valor de transmision ............................: " + importe;
                                                                 |HAZ imprime;
a = #8#15; importe = a;                                          |HAZ importe;
varalf = "Valor de la adquisicion o de la mejora ..........: " + importe;
                                                                 |HAZ imprime;
|SI #8#18 ! 0; a = #8#18; |FINSI;
|SI #8#19 ! 0; a = #8#19; |FINSI;
importe = a;                                                     |HAZ importe;
varalf = "Numeros de a¤os permanencia .....................: " + importe;
                                                                 |HAZ imprime;
varalf = "Si la diferencia es negativa                       ";  |HAZ imprime;
a = #8#17; importe = a;                                          |HAZ importe;
varalf = "Disminucion de patrimonio regular ...............: " + importe;
                                                                 |HAZ imprime;
a = #8#21; importe = a;                                          |HAZ importe;
varalf = "Disminucion de patrimonio irregular reducida ....: " + importe;
                                                                 |HAZ imprime;
a = #8#25; importe = a;                                          |HAZ importe;
varalf = "Disminucion de patrimonio irregular imput.a 1997 : " + importe;
                                                                 |HAZ imprime;
varalf = "Si la diferencia es positiva                       ";  |HAZ imprime;
a = #8#16; importe = a;                                          |HAZ importe;
varalf = "Incremento de patrimonio irregular ..............: " + importe;
                                                                 |HAZ imprime;
a = #8#20; importe = a;                                          |HAZ importe;
varalf = "Incremento de patrimonio irregular reducido .....: " + importe;
                                                                 |HAZ imprime;
a = #8#22; importe = a;                                          |HAZ importe;
varalf = "Incremento exento por reinversion ...............: " + importe;
                                                                 |HAZ imprime;
a = #8#23; importe = a;                                          |HAZ importe;
varalf = "Incremento irregular sometido a gravamen ........: " + importe;
                                                                 |HAZ imprime;
a = #8#24; importe = a;                                          |HAZ importe;
varalf = "Incr.irregular sometido a gravamen imput. a 1997 : " + importe;
                                                                 |HAZ imprime;
varalf = "----------------------------------------------------------------";
|HAZ imprime;
|FPRC;

|DEFBUCLE reincire;
#8#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, irregular_5;
|FIN;

|PROCESO premios;

|SI swcab = 0;
    |HAZ Espacios;
    varalf = "";                                                |HAZ imprime;
    varalf = "";                                                |HAZ imprime;
    swcab = 1;
    |CIMPR 5;
    varalf = "PREMIOS, SORTEOS, JUEGOS, RIFAS";                  |HAZ imprime;
    |CIMPR 6;
    varalf = "=" * 130;                                          |HAZ imprime;
    varalf = "LI  P  D  T  Perceptor   D  Descripcion                        Valoracion      Retencion      I.Integro";
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
|FINSI;
varalf = #1#1; varalf = ("00" + varalf) % -102;
varalf = varalf + "  " + #1#16 + "  " + #1#9 + "  " + #1#2 + "  " + #1#3;
varalf = varalf + "  " + #1#4  + "  " + #1#5;
importe = #1#6;    |HAZ importe;
varalf = varalf + "  " + importe;
importe = #1#7;    |HAZ importe;
varalf = varalf + "  " + importe;
importe = #1#8;    |HAZ importe;
varalf = varalf + "  " + importe;
|HAZ imprime;
varalf = ""; |HAZ imprime;
|FPRC;

|DEFBUCLE reincpre;
#1#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, premios;
|FIN;

|PROCESO pendiente;
varalf = "";                                                     |HAZ imprime;
varalf = "";                                                     |HAZ imprime;

|SI swcab = 0;
    |HAZ Espacios;
    swcab = 1;
    |CIMPR 5;
    varalf = "INCREMETOS PENDIENTES POR OPERACIONES A PLAZOS";   |HAZ imprime;
    |CIMPR 6;
    varalf = "";                                                 |HAZ imprime;
|FINSI;

varalf = "----------------------------------------------------------------";
|HAZ imprime;

varalf = "Declaracion : " + #9#4;                                |HAZ imprime;
varalf = "Descripcion : " + #9#13;                               |HAZ imprime;
varalf = "Titular ....: " + #9#3;                                |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
a = #9#14; importe = a;                                  |HAZ importe;
varalf = "A¤o de Venta ....................................: " + importe;
varalf = "Incremento o Disminucion : " + #9#18;                  |HAZ imprime;
varalf = "Regular o Irregular .... : " + #9#30;                  |HAZ imprime;
varalf = "Tipo Bien 1, 2 o 3 ..... : " + #9#31;                  |HAZ imprime;
varalf = "Observaciones 1......... : " + #9#32;                  |HAZ imprime;
varalf = "Observaciones 2......... : " + #9#33;                  |HAZ imprime;
varalf = "Observaciones 3......... : " + #9#34;                  |HAZ imprime;
                                                                 |HAZ imprime;
a = #9#15; importe = a;                                  |HAZ importe;
varalf = "Importe Total ...................................: " + importe;
                                                                 |HAZ imprime;
a = #9#16; importe = a;                                  |HAZ importe;
varalf = "Parte imputable a 1997 ..........................: " + importe;
                                                                 |HAZ imprime;
a = #9#17; importe = a;                                  |HAZ importe;
varalf = "Parte imputable a¤os anteriores .................: " + importe;
                                                                 |HAZ imprime;
varalf = "----------------------------------------------------------------";
|HAZ imprime;
|FPRC;

|DEFBUCLE reincpen;
#9#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, pendiente;
|FIN;

|PROCESO anterior;
|SI swcab = 0;
    |HAZ Espacios;
    varalf = "";                                                 |HAZ imprime;
    varalf = "";                                                 |HAZ imprime;
    swcab = 1;
    |CIMPR 5;
    varalf = "RENDIMIENTOS NETOS DE EJERCICIOS ANTERIORES";      |HAZ imprime;
    |CIMPR 6;
    varalf = "=" * 130;                                          |HAZ imprime;
    varalf = "LI  P  T  Perceptor   TIP  Descripcion                     A¤os        Importe";
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
|FINSI;
varalf  = #2#1; varalf = ("00" + varalf) % -102;
varalf  = varalf + "  " + #2#8 + "  " + #2#2 + "  " + #2#3 + "  " + #2#4;
varalf  = varalf + "  " + #2#5;
alfa    = #2#6;
alfa    = ("  " + alfa) % -102;
varalf  = varalf + "              " + alfa;

importe = #2#7;    |HAZ importe;
varalf  = varalf + "  " + importe;
|HAZ imprime;
varalf = ""; |HAZ imprime;
|FPRC;

|DEFBUCLE rejerant;
#2#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, anterior;
|FIN;

|PROCESO recomp05;
swcab = 0; |BUCLE reincreg;
swcab = 0; |BUCLE reincire;
swcab = 0; |BUCLE reincpre;
swcab = 0; |BUCLE reincpen;
swcab = 0; |BUCLE rejerant;
|FPRC;
