|FICHEROS;
     rerecupe #0;
     rez00000 #1;
     reepigra #100;
     relement #101;
     reeleact #102;
     retabla1 #103;
     retabla2 #104;
     retabla3 #105;
     retabla4 #106;
     rehacien #107;
     recasill #108;
     redefin1 #109;
     redefin2 #110;
     redefin3 #111;
     redefin4 #112;
     regrinfc #113;
     regrinfl #114;
     retipcas #115;
     recofisc #116;
|FIN;

|VARIABLES;
     ficheros  = "";
     traba1    = "";
     temporal1 = "";
     temporal2 = "";
     BaseD     = "";
     Base      = "";
     BaseO     = "";
     Long      = "";
     Valfa     = "";
     Num       = 0;
|FIN;

|PROCESO mayor;
  #0Campo = #0Campo > " ";
  |PINTA #0Campo;
|FPRC;

|PROCESO instala; |TIPO 3;
  |SI #0#0 ! "SI";  |ACABA;  |FINSI;
  |DBASE Base;  |QBT Base;
  Long  = Base % 0;
  Num   = Long;
  Num   = 100 + (Num - 1);
  BaseD = Base  % Num;

  Num   = Long;
  Num   = 100 + (Num - 3);
  BaseO = Base % Num;
  Valfa = BaseD % -102;
  Num   = Valfa;
  Num   = Num - 1;
  BaseO = BaseO + Num;

  BaseD = BaseD + "/";
  BaseO = BaseO + "/";

  |DFICE ficheros;
  |ABRE #1;
  |LEE 040#1p;
  |SI FSalida ! 0;
      |CIERRA #1;
      |DELINDEX #1;
      traba1 = "rez00000";  |HAZ copiando;
  |FINSI;
  |CIERRA #1;

  |SI #0#7 = "SI";
      |ATRI I; |PINTA 2320, "Instalando Ficheros Epigrafes                ";
      traba1 = "reepigra";  |HAZ copiando;
  |FINSI;

  |SI #0#1 = "SI";
      |ATRI I; |PINTA 2320, "Instalando Ficheros Elementos Actividades    ";
      traba1 = "relement";  |HAZ copiando;
  |FINSI;

  |SI #0#2 = "SI";
      |ATRI I; |PINTA 2320, "Instalando Ficheros Rendimientos Epigrafes   ";
      traba1 = "reeleact";  |HAZ copiando;
  |FINSI;

  |SI #0#3 = "SI";
      |ATRI I; |PINTA 2320, "Instalando Ficheros Tarifa Individual        ";
      traba1 = "retabla1";  |HAZ copiando;
  |FINSI;

  |SI #0#4 = "SI";
      |ATRI I; |PINTA 2320, "Instalando Ficheros Tarifa Conjunta          ";
      traba1 = "retabla2";  |HAZ copiando;
  |FINSI;

  |SI #0#5 = "SI";
      |ATRI I; |PINTA 2320, "Instalando Ficheros Tarifa Patrimonio        ";
      traba1 = "retabla3";  |HAZ copiando;
  |FINSI;

  |SI #0#10 = "SI";
      |ATRI I; |PINTA 2320, "Instalando Ficheros T. Correccion Monetaria ";
      traba1 = "retabla4";  |HAZ copiando;
  |FINSI;

  |SI #0#11 = "SI";
      |ATRI I; |PINTA 2320, "Copiando Controles pase R.E.O. a¤o anterior ";
      traba1 = "recontpl";  |HAZ copiando;
  |FINSI;

  |SI #0#6 = "SI";
      |ATRI I; |PINTA 2320, "Instalando Ficheros Datos Hacienda           ";
      traba1 = "rehacien";  |HAZ copiando;
  |FINSI;

  |SI #0#8 = "SI";
      |ATRI I; |PINTA 2320, "Instalando Ficheros Informes Varios          ";
      traba1 = "recasill";  |HAZ copiando;
      traba1 = "redefin1";  |HAZ copiando;
      traba1 = "redefin2";  |HAZ copiando;
      traba1 = "redefin3";  |HAZ copiando;
      traba1 = "redefin4";  |HAZ copiando;
      traba1 = "regrinfc";  |HAZ copiando;
      traba1 = "regrinfl";  |HAZ copiando;
      traba1 = "retipcas";  |HAZ copiando;
  |FINSI;

  |SI #0#9 = "SI";
      |ATRI I; |PINTA 2320, "Instalando Corresponsabilidad Fiscal         ";
      traba1 = "recofisc";  |HAZ copiando;
  |FINSI;

  |ATRI 0;

  |HAZ Indexa;
|FPRC;

|PROCESO Indexa;
  |ABRE #1;    |CIERRA #1;
  |ABRE #100;  |CIERRA #100;
  |ABRE #101;  |CIERRA #101;
  |ABRE #102;  |CIERRA #102;
  |ABRE #103;  |CIERRA #103;
  |ABRE #104;  |CIERRA #104;
  |ABRE #105;  |CIERRA #105;
  |ABRE #106;  |CIERRA #106;
  |ABRE #107;  |CIERRA #107;
  |ABRE #108;  |CIERRA #108;
  |ABRE #109;  |CIERRA #109;
  |ABRE #110;  |CIERRA #110;
  |ABRE #111;  |CIERRA #111;
  |ABRE #112;  |CIERRA #112;
  |ABRE #113;  |CIERRA #113;
  |ABRE #114;  |CIERRA #114;
  |ABRE #115;  |CIERRA #115;
  |ABRE #116;  |CIERRA #116;
|FPRC;

|PROCESO copiando;
  |SI traba1 = "recontpl";
      temporal1 = BaseO + "fich/recontpl.dat";  temporal2 = BaseD + "fich/recontpl.dat";
      |COPIA_FICHERO temporal1, temporal2;

      temporal1 = BaseO + "fich/recontpl.ddx";  temporal2 = BaseD + "fich/recontpl.ddx";
      |COPIA_FICHERO temporal1, temporal2;

      temporal1 = BaseO + "fich/recontpl.ixx";  temporal2 = BaseD + "fich/recontpl.ixx";
      |COPIA_FICHERO temporal1, temporal2;

      temporal1 = BaseO + "fich/recontli.dat";  temporal2 = BaseD + "fich/recontli.dat";
      |COPIA_FICHERO temporal1, temporal2;

      temporal1 = BaseO + "fich/recontli.ddx";  temporal2 = BaseD + "fich/recontli.ddx";
      |COPIA_FICHERO temporal1, temporal2;

      temporal1 = BaseO + "fich/recontli.ixx";  temporal2 = BaseD + "fich/recontli.ixx";
      |COPIA_FICHERO temporal1, temporal2;

      temporal1 = BaseO + "fich/recontdt.dat";  temporal2 = BaseD + "fich/recontdt.dat";
      |COPIA_FICHERO temporal1, temporal2;

      temporal1 = BaseO + "fich/recontdt.ddx";  temporal2 = BaseD + "fich/recontdt.ddx";
      |COPIA_FICHERO temporal1, temporal2;

      temporal1 = BaseO + "fich/recontdt.ixx";  temporal2 = BaseD + "fich/recontdt.ixx";
      |COPIA_FICHERO temporal1, temporal2;

      |ACABA;
  |FINSI;

  temporal1 = ficheros + traba1 + ".dat";  |FBORRA temporal1;
  temporal1 = ficheros + traba1 + ".ddx";  |FBORRA temporal1;
  temporal1 = ficheros + traba1 + ".ixx";  |FBORRA temporal1;


  temporal1 = ficheros + traba1 + ".ddd";
  temporal2 = ficheros + traba1 + ".dat";
  |COPIA_FICHERO temporal1, temporal2;
|FPRC;
