|FICHEROS;
    premvtoc #0;    || movimientos cabs.
    premvtol #1;    || movimientos lins.

    prequiva #10;   || codigos de tarjetas
    pretarea #11;   || codigos de incidencia
    pretermi #12;   || codigos de terminales
    labempre #13;   || empresas
    labtraba #14;   || trabajadores
|FIN;

|VARIABLES;
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    para1 = 0;
    para2 = 0;
    para3 = 0;
    para4 = 0;
    fech1 = @;
    fech2 = @;
    fech3 = @;
    fech4 = @;
    elsw1 = 0;
    elsw2 = 0;
    elsw3 = 0;
    elsw4 = 0;
    FEstado = 0;
    seleccio = 0;
    modo = 0;
    sw_rup = 0;

    p_mes = "";
     aAlfa = "";

    nModo  = 0;
|FIN;
____________________________________/ DESDE CABECERAS
|PROCESO defecto; |TIPO 7;
    fech1 = ~;
    alfa1 = fech1;
    alfa1 = alfa1 % -104;
    #0Campo = alfa1;
|PINTA #0Campo;
|FPRC;

|PROCESO mirames; |TIPO 7;
    fech1 = ~;
    alfa1 = fech1;
    alfa1 = alfa1 % 402;
    #0Campo = alfa1;
|PINTA #0Campo;
|FPRC;

|PROCESO pintames; |TIPO 0;
|SI #0#1 =  1;  p_mes = "ENERO     ";  |FINSI;
|SI #0#1 =  2;  p_mes = "FEBRERO   ";  |FINSI;
|SI #0#1 =  3;  p_mes = "MARZO     ";  |FINSI;
|SI #0#1 =  4;  p_mes = "ABRIL     ";  |FINSI;
|SI #0#1 =  5;  p_mes = "MAYO      ";  |FINSI;
|SI #0#1 =  6;  p_mes = "JUNIO     ";  |FINSI;
|SI #0#1 =  7;  p_mes = "JULIO     ";  |FINSI;
|SI #0#1 =  8;  p_mes = "AGOSTO    ";  |FINSI;
|SI #0#1 =  9;  p_mes = "SEPTIEMBRE";  |FINSI;
|SI #0#1 = 10;  p_mes = "OCTUBRE   ";  |FINSI;
|SI #0#1 = 11;  p_mes = "NOVIEMBRE ";  |FINSI;
|SI #0#1 = 12;  p_mes = "DICIEMBRE ";  |FINSI;
|PINTA 0722, p_mes;
|FPRC;
____________________________________/ DESDE LINEAS
|PROCESO tipo0;
   nModo = (FEntrada / 100) ! 0;
   |SI nModo ! 4;
      |SI nModo = 2; |O nModo = 3;
         |SI #premvtol#2 ] 900000;
            |MENAV "    Movimiento de rectificacion. Modifiquelo desde la opcion de rectificaciones.";
            |ERROR;
         |FINSI;
      |FINSI;
      |SI nModo = 1;
         |SI #premvtol#2 ] 900000;
            |MENAV "    Contador previsto para rectificaciones. Indique un contador por debajo de 900000";
            |ERROR;
         |FINSI;
      |FINSI;
   |FINSI;
|FPRC;

|PROCESO tipo13; |TIPO 13;
|HAZ pin_barras;
|HAZ pin_tareas;
|HAZ pin_terminal;
|HAZ pintames;
|FPRC;

|PROCESO pin_barras; |TIPO 0;
|DDEFECTO #10;
|DDEFECTO #13;
|DDEFECTO #14;
|ABRE #10;
    #10#0 = #1#7;
|LEE 000#10=;
|SI FSalida = 0;
    |ABRE #13;
        #13#0 = #10#1;
    |LEE 000#13=;
    |CIERRA #13;
    |ABRE #14;
        #14#0 = #10#1;
        #14#1 = #10#2;
    |LEE 000#14=;
    |CIERRA #14;
|FINSI;
|CIERRA #10;

|COLOR 0,7;
|ATRI I;

|PINTA 1815, #14#0;
|PINTA 1821, #14#1;
|PINTA 1915, #13#2;
|PINTA 2015, #14#2;

|ATRI 0;
|FPRC;

|PROCESO pin_tareas; |TIPO 0;
|DDEFECTO #11;
|ABRE #11;
    #11#0 = #1#8;
|LEE 000#11=;
|CIERRA #11;

|ATRI I;
|PINTA 2115, #11#1;
|ATRI 0;
|FPRC;

|PROCESO pin_terminal; |TIPO 0;
|DDEFECTO #12;
|ABRE #12;
    #12#0 = #1#9;
|LEE 000#12=;
|CIERRA #12;

|ATRI I;
|PINTA 2215, #12#1;
|ATRI 0;
|FPRC;
