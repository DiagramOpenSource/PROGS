|FICHEROS;
    prehisvc #0;    || historico variaciones cabs.
    prehisvl #1;    || historico variaciones lins.
|FIN;

|VARIABLES;
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    para1 = 0;
    para2 = 0;
    para3 = 0;
    para4 = 0;
    fech1 = @;
    fech2 = @;
    fech3 = @;
    fech4 = @;
    elsw1 = 0;
    elsw2 = 0;
    elsw3 = 0;
    elsw4 = 0;
    FEstado = 0;
    seleccio = 0;
    modo = 0;
    sw_rup = 0;

    p_mes = "";
|FIN;
____________________________________/ DESDE CABECERAS
|PROCESO defecto; |TIPO 7;
    fech1 = ~;
    alfa1 = fech1;
    alfa1 = alfa1 % -104;
    #0Campo = alfa1;
|PINTA #0Campo;
|FPRC;
____________________________________/ DESDE LINEAS
|PROCESO pintames; |TIPO 7;
|SI #1#3 =  1;  p_mes = "ENERO     ";  |FINSI;
|SI #1#3 =  2;  p_mes = "FEBRERO   ";  |FINSI;
|SI #1#3 =  3;  p_mes = "MARZO     ";  |FINSI;
|SI #1#3 =  4;  p_mes = "ABRIL     ";  |FINSI;
|SI #1#3 =  5;  p_mes = "MAYO      ";  |FINSI;
|SI #1#3 =  6;  p_mes = "JUNIO     ";  |FINSI;
|SI #1#3 =  7;  p_mes = "JULIO     ";  |FINSI;
|SI #1#3 =  8;  p_mes = "AGOSTO    ";  |FINSI;
|SI #1#3 =  9;  p_mes = "SEPTIEMBRE";  |FINSI;
|SI #1#3 = 10;  p_mes = "OCTUBRE   ";  |FINSI;
|SI #1#3 = 11;  p_mes = "NOVIEMBRE ";  |FINSI;
|SI #1#3 = 12;  p_mes = "DICIEMBRE ";  |FINSI;
    #1#4 = p_mes;
|PINTA #1#4;
|FPRC;
____________________________________/ DESDE LINEAS
|PROCESO recalculo; |TIPO 0;
    nume1 = Contenido;
|SI nume1 ! #1Campo;
     |AVISO;
     |CONFI "0000SRecalcular?";
     |SI FSalida ! 0;    |ACABA;   |FINSI;

        #1#7 = #1#5 + #1#6;        || horas totales a computar
        #1#10= #1#8 * #1#9;        || tope de horas a cotizar

    |SI #1#7 > #1#10;
            #1#11 = #1#9;          || tope de dias (nomina) EL TOPE
            #1#12 = #1#10;         || horas a cotizar (nomina) EL TOPE
            #1#13 = #1#7 - #1#12;  || horas reservadas (DIFERENCIA)
    |SINO;
            #1#11 = (#1#7 / #1#8)!0;|| dias a cotizar (nomina) TODOS
            #1#12 = #1#7;          || horas a cotizar (nomina) TODAS
            #1#13 = 0;             || horas reservadas (NINGUNA)
        |SI #1#12 ! 0;|Y #1#11 = 0;
                #1#11 = 1;         || si hay horas 1 dia como minimo
        |FINSI;
    |FINSI;
    |PINTA #1#5;
    |PINTA #1#6;
    |PINTA #1#7;
    |PINTA #1#8;
    |PINTA #1#9;
    |PINTA #1#10;
    |PINTA #1#11;
    |PINTA #1#12;
    |PINTA #1#13;
|FINSI;
|FPRC;
