|FICHEROS;
     prequiva #0;
     pretopes #14;
     :/laboral/def/labtraba;
|FIN;

|VARIABLES;
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    para1 = 0;
    para2 = 0;
    para3 = 0;
    para4 = 0;
    fech1 = @;
    fech2 = @;
    fech3 = @;
    fech4 = @;
    elsw1 = 0;
    elsw2 = 0;
    elsw3 = 0;
    elsw4 = 0;
    FEstado = 0;
    seleccio = 0;
    modo = 0;
    sw_rup = 0;

    aju_cod = 0;
    aju_des = "";
    aju_dia = "";
     nCodAjus = 0;
     nCampo = 0;
     aAlfa1 = "";
     aAlfa2 = "";
     aMensa = "";
|FIN;

____________________________________/
|PROCESO refresca; |TIPO 13;
|HAZ ajuste;
|FPRC;

|PROCESO ajustes1;
    aju_cod = #14#0;
    aju_des = #14#1;
    aju_dia = #14#142;
|ERROR10;
|FPRC;

|DEFBUCLE ajustes;
     #14#4;
     ;
     nCodAjus, fech1;
     nCodAjus, fech2;
     ;
     NULL, ajustes1;
|FIN;

|PROCESO ajuste; |TIPO 0;
     fech1 = ~;
     fech2 = "01.01.1900";
     aju_cod = 0;
     aju_des = "----------------------------------------";
     aju_dia = "----------";
     |SI Campo = 3;
          nCodAjus = #0#3;
     |SINO;
          nCodAjus = #0#6;
     |FINSI;
     |BUCLE ajustes;
     |ATRI I;
     |SI Campo = 3; |O Campo = 0;
          |PINTA 1433, aju_des;
          |PINTA 1563, aju_dia;
     |FINSI;
     |SI Campo = 6; |O Campo = 0;
          |PINTA 1633, aju_des;
          |PINTA 1763, aju_dia;
     |FINSI;
     |ATRI 0;
|FPRC;

|PROCESO mayus; |TIPO 0;
    #0Campo = #0Campo > #0Campo;
|PINTA #0Campo;
|FPRC;

/*
|PROCESO ayudaturno; |TIPO 7;
     |PUSHV 09351673;
     ||CUADRO 09 35 16 73;
     |ATRI R;
     ||            567890123456789012345678901234567890123
     |PINTA 0935, "                                       ";
     |PINTA 1035, " Con el turno de ma¤ana se asumira que ";
     |PINTA 1135, " la primera hora marcada en la tarjeta ";
     |PINTA 1235, " del trabajador cada dia es la hora de ";
     |PINTA 1335, " entrada. El turno  de noche la tomara ";
     |PINTA 1435, " como hora de salida del turno que co- ";
     |PINTA 1535, " menzo el dia anterior.                ";
     |PINTA 1635, "                                       ";
     |ATRI 0;
|FPRC;

|PROCESO recupera; |TIPO 0;
     |POPV;
|FPRC;
*/

|PROCESO Min;
     #labtraba#0 = #0nCampo;
     #labtraba#1 = 00001;
|FPRC;

|PROCESO Max;
     #labtraba#0 = #0nCampo;
     #labtraba#1 = 99999;
|FPRC;

|PROCESO BuscaTrab; |TIPO 66;
     nCampo = 1;
     |ABRE #labtraba;
     |CONSULTA_F_CLAVE #1#labtraba, Min, Max;
     |SI FSalida = 0;
          #0Campo = #labtraba#1;
          #0#7 = #labtraba#2;
          |PINTA #0Campo;
          |PINTA #0#7;
     |SINO;
          |ERROR;
     |FINSI;
     |CIERRA #labtraba;
|FPRC;

|PROCESO CompTrab;
     nCampo = 1;
     |ABRE #labtraba;
     #labtraba#0 = #0nCampo;
     #labtraba#1 = #0Campo;
     |LEE 000#labtraba.=;
     |SI FSalida ! 0;
          aAlfa1 = #0Campo;  aAlfa1 = "00000" + aAlfa1; aAlfa1 = aAlfa1 % -105;
          aAlfa2 = #0nCampo; aAlfa2 = "00000" + aAlfa2; aAlfa2 = aAlfa2 % -105;
          aMensa = "    Trabajador " + aAlfa2 + "." + aAlfa1 + " no existe.";
          |MENAV aMensa;
          |ERROR;
     |SINO;
          #0#7 = #labtraba#2;
          |PINTA #0#7;
     |FINSI;
     |CIERRA #labtraba;
|FPRC;
