|FICHEROS;
   carepinf #0;
   carepres #1;
   carepin1 #2;
   canempre #30;
|FIN;

|VARIABLES;
   &entrada = 1;
   sw        = 0;
   error     = 0;
   linea     = 0;
   informe   = "carepinf";
   {-1}menu  = "";
   menu1 = "2400";
   menu2 = "1";
   menu3 = " Elija opcion: ";
   menu4 = "PI";
   menu5 = " Pantalla ";
   menu6 = " Impresora ";
|FIN;

|INCLUYE dscont_i;

|PROCESO porimpre;
   sw = 1;
   |PRINT;
|FPRC;

|PROCESO porpanta;
   error     = 0;
   #carepin1#0 = #canempre#1;
   #carepin1#1 = #canempre#26;
   |PINTA #carepin1#0;
   |PINTA #carepin1#1;

   Pos  = linea;
   #carepin1#2 = #carepres#0;
   #carepin1#3 = #carepres#1;
   #carepin1#4 = #carepres#2;
   #carepin1#5 = #carepres#8
   #carepin1#6 = #carepres#11;
   |PINDA #0#2;
   Pos = -1;
   linea = linea + 100;
   |SI linea > 1200; |HAZ cambiapa; |FINSI;
|FPRC;

|PROCESO cambiapa;
   error = 0;
   linea = 100;
   |PAUSA;
   |SI FSalida = 1; |O FSalida = 7;
      error = 1;
      |ERROR10;
   |SINO;
      |PINPA #0#2;
   |FINSI;
|FPRC;

|DEFBUCLE leeimp_1;
   #1#1;
   1;
   #0#1,#0#3;
   #0#2,#0#4;
   e;
   NULL,porimpre;
|FIN;

|DEFBUCLE leeimp_2;
   #1#2;
   0;
   #0#3,#0#1;
   #0#4,#0#2;
   e;
   NULL,porimpre;
|FIN;

|DEFBUCLE leepan_1;
   #1#1;
   1;
   #0#1,#0#3;
   #0#2,#0#4;
   e;
   NULL, porpanta;
|FIN;

|DEFBUCLE leepan_2;
   #1#2;
   0;
   #0#3,#0#1;
   #0#4,#0#2;
   e;
   NULL, porpanta;
|FIN;


|PROCESO impresora;
   |SI #carepinf#7 = 1;  |BUCLE leeimp_1;  |FINSI;
   |SI #carepinf#7 = 2;  |BUCLE leeimp_2;  |FINSI;
|FPRC;

|PROCESO pantalla;
   error = 1;
   linea = 100;
   |PINPA #0#2;
   |SI #carepinf#7 = 1;  |BUCLE leepan_1;  |FINSI;
   |SI #carepinf#7 = 2;  |BUCLE leepan_2;  |FINSI;
   |SI error = 0; |PAUSA; |FINSI;
|FPRC;

|PROCESO impre;|TIPO 3;

   |HAZ inicio;
   |MENU menu;
   menu2 = FSalida;
   |SI FSalida ! 1; |Y FSalida ! 2;  |ACABA; |FINSI;

   |SI menu2 = 1;
       |HAZ pantalla;
   |SINO;
       |IMPRE 0;
       |SI FSalida ! 0;  |ACABA;  |FINSI;
       |INFOR informe;
       |SI FSalida ! 0;  |FINIMP;  |ACABA;  |FINSI;

       sw = 0;
       |HAZ impresora;
       |SI sw = 1;
           |PIEINF;
       |FINSI;
       |FININF;
       |FINIMP;
   |FINSI;
|FPRC;
