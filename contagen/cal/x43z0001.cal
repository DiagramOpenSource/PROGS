|FICHEROS;
     :n43base/n43m0002;
     canempre;

     x43w0001,MANTE;
|FIN;

|VARIABLES;
     n0Vent              = 0;
     n1Vent              = 0;
     nCmp                = 0;

     aEsc1               = "";
     aEsc2               = "";
     aRetu               = "";
     aTecla              = "";
     aAlfa               = "";

     {-1}aVent           = "";
         aVent1          = 0;
         aVent2          = 0;
         aVent3          = 0;
         aVent4          = 0;
         aVent5          = "";

     &enEmp              = 0;
     &eaEnt              = "";
     &eaOfi              = "";
     &eaCta              = "";
     &efOpe              = @;
     &eaPaq              = "";
     &enMov              = 0;
     &enDnDIARIO         = 0;
     &enHnDIARIO         = 0;
     &efDFechas          = @;
     &efHFechas          = @;
     &enDDocume          = 0;
     &enHDocume          = 0;
     &enBorraAu          = 0;
|FIN;

|INCLUYE dscont_i;

|PROCESO T12;  |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;
     |SI FSalida = 1;  |ACABA;  |FINSI;

     |SI #n43m0002#13 = "1";
         |POSICIONATE #x43w0001#31;
     |SINO;
         |POSICIONATE #x43w0001#30;
     |FINSI;

     |ERROR;
|FPRC;

|PROCESO GrabaMov;
     #n43m0002#0 = enEmp;
     #n43m0002#1 = eaEnt;
     #n43m0002#2 = eaOfi;
     #n43m0002#3 = eaCta;
     #n43m0002#4 = efOpe;
     #n43m0002#5 = enMov;
     |LEE 101#n43m0002.=;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     #n43m0002#27  = #x43w0001#27;
     #n43m0002#28  = #x43w0001#28;
     #n43m0002#29  = #x43w0001#29;

     |SI #n43m0002#13 = "1";
         #n43m0002#30 = #x43w0001#31;
         #n43m0002#31 = #x43w0001#32;
         #n43m0002#32 = #x43w0001#33;
         #n43m0002#33 = #x43w0001#34;

         #n43m0002#34 = #x43w0001#35;
         #n43m0002#35 = #x43w0001#37;
         #n43m0002#36 = #x43w0001#38;
         #n43m0002#37 = #x43w0001#39;
     |FINSI;

     |SI #n43m0002#13 = "2";
         #n43m0002#30 = #x43w0001#30;
         #n43m0002#31 = #x43w0001#32;
         #n43m0002#32 = #x43w0001#33;
         #n43m0002#33 = #x43w0001#34;

         #n43m0002#34 = #x43w0001#36;
         #n43m0002#35 = #x43w0001#37;
         #n43m0002#36 = #x43w0001#38;
         #n43m0002#37 = #x43w0001#39;
     |FINSI;

     #n43m0002#27 = #x43w0001#27;

     #n43m0002#38 = #x43w0001#40;
     #n43m0002#39 = #x43w0001#41;
     #n43m0002#40 = "";

     |GRABA 020#n43m0002.a;
     |LIBERA #n43m0002;
|FPRC;

|PROGRAMA;
     |VENTANA 0501, 3699, -1, 16, "Definir asiento";
     n1Vent = FSalida;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = n1Vent;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;
     |PTEC 802; |PAUSA;

     |DDEFECTO #x43w0001;
     |PARA nCmp = 0;  |SI nCmp [ 29;  |HACIENDO nCmp = nCmp + 1;
           #x43w0001#nCmp#  = #n43m0002#nCmp#;
     |SIGUE;

     #x43w0001#40  = #n43m0002#38;
     #x43w0001#41  = #n43m0002#39;

     |C_M #x43w0001#30, 1, "S";
     |C_M #x43w0001#31, 1, "S";
     |C_M #x43w0001#35, 1, "S";
     |C_M #x43w0001#36, 1, "S";

     |SI #n43m0002#13 = "1";
         #x43w0001#30 = "";
         #x43w0001#31 = #n43m0002#30;
         #x43w0001#32 = #n43m0002#31;
         #x43w0001#33 = #n43m0002#32;
         #x43w0001#34 = #n43m0002#33;

         #x43w0001#35 = #n43m0002#34;
         #x43w0001#36 = "";
         #x43w0001#37 = #n43m0002#35;
         #x43w0001#38 = #n43m0002#36;
         #x43w0001#39 = #n43m0002#37;

         |C_M #x43w0001#30, 1, "N";
         |C_M #x43w0001#36, 1, "N";
     |FINSI;

     |SI #n43m0002#13 = "2";
         #x43w0001#31 = "";
         #x43w0001#30 = #n43m0002#30;
         #x43w0001#32 = #n43m0002#31;
         #x43w0001#33 = #n43m0002#32;
         #x43w0001#34 = #n43m0002#33;

         #x43w0001#35 = "";
         #x43w0001#36 = #n43m0002#34;
         #x43w0001#37 = #n43m0002#35;
         #x43w0001#38 = #n43m0002#36;
         #x43w0001#39 = #n43m0002#37;

         |C_M #x43w0001#31, 1, "N";
         |C_M #x43w0001#35, 1, "N";
     |FINSI;

     |C_M #x43w0001#40, 1, "N";
     |C_M #x43w0001#41, 1, "N";

     |SI eaDepar = "S";
         |SI #x43w0001#40 = "  ";
             #x43w0001#40 = eaDfDepC;
         |FINSI;

         |C_M #x43w0001#40, 1, "S";
     |FINSI;

     |SI eaSubde = "S";
         |SI #x43w0001#41 = "  ";
             #x43w0001#41 = eaDfSubC;
         |FINSI;

         |C_M #x43w0001#41, 1, "S";
     |FINSI;

     |PINPA #0#x43w0001;
     |PINDA #0#x43w0001;
     |ENDATOS #2#x43w0001;
     |SI FSalida = 0;
         |HAZ GrabaMov;
     |FINSI;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = n1Vent;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |FINVENTANA n1Vent;
|FPRO;

|PROCESO T80;  |TIPO 80;
     |HAZ inicio;

     |PULSATECLA;
     |PULSATECLA;
     |PULSATECLA;

     |ABRET #n43m0002;
     #n43m0002#0 = enEmp;
     #n43m0002#1 = eaEnt;
     #n43m0002#2 = eaOfi;
     #n43m0002#3 = eaCta;
     #n43m0002#4 = efOpe;
     #n43m0002#5 = enMov;
     |LEE 000#n43m0002.=;
     |SI FSalida ! 0;  |DDEFECTO #n43m0002;  |FINSI;

     |SI #n43m0002#29 ! 0;
         enDnDIARIO = #n43m0002#27;     || diario
         enHnDIARIO = #n43m0002#27;
         efDFechas  = #n43m0002#28;     || fecha
         efHFechas  = #n43m0002#28;
         enDDocume  = #n43m0002#29;     || documento
         enHDocume  = #n43m0002#29;     || documento
         enBorraAu  = 3;

         |SUB_EJECUTA_NP "caborasi;NOMEQUITESQUETECORTOLOSGUEVOS";

         #n43m0002#29 = 0;
     |FINSI;
|FPRC;

|PROCESO T90;  |TIPO 90;
     |CIERRAT #n43m0002;
|FPRC;
