|FICHEROS;
     gadw0003;

     :/basica/def/agicen14;
|FIN;

|VARIABLES;
     nOpcion        = 0;
     nTotalLinea    = 0;
     nConta         = 0;
     nBaffer        = 0;
     nCogeOpcion    = 0;
     nError         = 0;
     nPos           = 0;
     nComp          = 0;
     nLCod          = 0;
     nVentana       = 0;
     nCalc          = 0;
     nID            = 0;
     nEmpresa       = 0;
     nActiv         = 0;
     nValor         = 0;

     aAlfa          = "";
     aContenido     = "";
     aTabla         = "";
     aFTabla        = "";
     aDestino       = "";
     aAlfa1         = "";
     aID            = "";
     aVar           = "";
     aLetra         = "";

  {40}aPopup        = "";

     {-1}aVent      = "";
         aVent1     = 0;
         aVent2     = 0;
         aVent3     = 0;
         aVent4     = 0;
         aVent5     = "";

     &eaVarDni      = "";
     &enCalcCif     = 0;
     &eaCodNif      = "";
     &eaAlfa        = "";
     &enError       = 0;
     &eaUsuario     = "";
|FIN;

|PROCESO Tipo0C1Fw101; |TIPO 0;
     |ABRE #agicen14;
     #agicen14#0 = eaUsuario;
     #agicen14#1 = #gadw0003#1;
     |LEE 000#agicen14.=;
     |SI FSalida ! 0;  |DDEFECTO #agicen14;  |FINSI;

     #gadw0003#1  = #agicen14#1;
     #gadw0003#46 = #agicen14#4;

     |PINTA #gadw0003#1;
     |PINTA #gadw0003#46;
|FPRC;

|PROCESO CargaTablaFw101;
     |DBASS aTabla;  |QBF aTabla;
     aTabla = aTabla + "modelos/fich/";

     aTabla      = aTabla + aFTabla;
     nOpcion     = 1;
     nTotalLinea = 0;
     nConta      = -1;
     nBaffer     = 0;

     |LEESECUENCIAL aTabla, nBaffer, nTotalLinea, 0, 0;
|FPRC;

|PROCESO SacaTablaFw101;
     |VENTANA 1750, 2885, -1, 17, "Paises";
     nVentana = FSalida;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |PARA; |SI;  |HACIENDO;
          nOpcion = 1;
          |BMENUG nBaffer, 0, 1, nTotalLinea, 1545, nOpcion;
          nOpcion     = FSalida;
          nCogeOpcion = nOpcion - 1;
          |SI FSalida [ nTotalLinea; |Y FSalida ] 1;
              |DEL_BUF nBaffer, nCogeOpcion, aDestino;

              |SAL;
         |FINSI;
     |SIGUE;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |FINVENTANA nVentana;
|FPRC;

|PROCESO CompruebaTablaFw101;
     enError = 1;
     nPos    = 100 + nComp;

     |LEESECUENCIAL aTabla, nBaffer, nTotalLinea, 0, 0;
     |PARA nConta = 0;  |SI nConta [ nTotalLinea;  |HACIENDO nConta = nConta + 1;
         |DEL_BUF nBaffer, nConta, aDestino;
         aAlfa = aDestino % nPos;

         |QBF aAlfa;
         |QBF eaAlfa;

         |SI aAlfa = eaAlfa;  enError = 0;  |SAL;  |FINSI;
     |SIGUE;

     |FINDIM nBaffer;
|FPRC;

|PROCESO FinTablaFw101;
     |FINDIM nBaffer;
|FPRC;

|PROCESO Tipo7C5Fw101; |TIPO 7;
     aFTabla = "ztabla05.txt";
     nLCod   = 2;
     |HAZ CargaTablaFw101;
|FPRC;

|PROCESO Tipo0C5Fw101; |TIPO 0;
     nComp = nLCod;
     aAlfa = "|C010TIPO"; aAlfa1 = #gadw0003#aAlfa#;
     aAlfa = #gadw0003#5; |QBF aAlfa;
     |SI aAlfa1 = "N"; nCalc = - (100 + nLCod); aAlfa = (("0" * nComp) + aAlfa) % nCalc; |FINSI;
     |SI aAlfa1 ! "N"; nCalc = 100 + nLCod;     aAlfa = (aAlfa + (" " * nComp)) % nCalc; |FINSI;
     eaAlfa = aAlfa;
     |HAZ CompruebaTablaFw101;

     aAlfa1  = aDestino % 102;  #gadw0003#5  = aAlfa1;  |PINTA #gadw0003#5;
     aAlfa1  = aDestino % 440;  #gadw0003#47 = aAlfa1;  |PINTA #gadw0003#47;

     |HAZ FinTablaFw101;
|FPRC;

|PROCESO Tipo0C6Fw101;   |TIPO 0;
     #gadw0003#48 = "";

     |SI #gadw0003#6 = "1";
         #gadw0003#48 = "NIF";
     |FINSI;

     |SI #gadw0003#6 = "2";
         #gadw0003#48 = "NIF/IVA (NIF operador intracomunitario)";
     |FINSI;

     |SI #gadw0003#6 = "3";
         #gadw0003#48 = "Pasaporte";
     |FINSI;

     |SI #gadw0003#6 = "4";
         #gadw0003#48 = "Documento Oficial de identificacion expedido por el pais o territorio de residencia";
     |FINSI;

     |SI #gadw0003#6 = "5";
         #gadw0003#48 = "Certificado de residencia fiscal";
     |FINSI;

     |SI #gadw0003#6 = "6";
         #gadw0003#48 = "Otro documento probatorio";
     |FINSI;

     |PINTA #gadw0003#48;
|FPRC;

|PROCESO Tipo0C8Fw101;  |TIPO 0;
     #gadw0003#49 = "";
     |SI #gadw0003#8 = " ";
         #gadw0003#49 = "Operaci¢n habitual";
     |FINSI;

     |SI #gadw0003#8 = "A";
         #gadw0003#49 = "Asiento resumen de facturas";
     |FINSI;

     |SI #gadw0003#8 = "B";
         #gadw0003#49 = "Asiento resumen de tiques";
     |FINSI;

     |SI #gadw0003#8 = "C";
         #gadw0003#49 = "Factura con varios asientos (varios tipo impositivos)";
     |FINSI;

     |SI #gadw0003#8 = "D";
         #gadw0003#49 = "Factura rectificativa";
     |FINSI;

     |SI #gadw0003#8 = "F";
         #gadw0003#49 = "Adquisiciones realizadas por las agencias de viajes directamente en inter‚s del viajero";
     |FINSI;

     |SI #gadw0003#8 = "G";
         #gadw0003#49 = "R‚gimen especial de grupo de entidades en IVA o IGIC";
     |FINSI;

     |SI #gadw0003#8 = "H";
         #gadw0003#49 = "R‚gimen especial de oro de inversi¢n";
     |FINSI;

     |SI #gadw0003#8 = "I";
         #gadw0003#49 = "Inversi¢n del Sujeto pasivo (ISP)";
     |FINSI;

     |SI #gadw0003#8 = "J";
         #gadw0003#49 = "Tiques";
     |FINSI;

     |SI #gadw0003#8 = "K";
         #gadw0003#49 = "Rectificación anotaciones registrales";
     |FINSI;

     |SI #gadw0003#8 = "L";
         #gadw0003#49 = "Adquisiciones a comerciantes minoristas del IGIC";
     |FINSI;

     |SI #gadw0003#8 = "P";
         #gadw0003#49 = "Adquisiciones intracomunitarias de bienes.";
     |FINSI;

     |SI #gadw0003#8 = "Q";
         #gadw0003#49 = "Operaciones a las que se aplique el r‚gimen especial de bienes usados, ...";
     |FINSI;

     |PINTA #gadw0003#49;
     |PINTA #gadw0003#9;
     |PINTA #gadw0003#10;
     |PINTA #gadw0003#11;
     |PINTA #gadw0003#12;
|FPRC;
