|FICHEROS;
 camw0001 #0;
 camw0002 #2,MANTE;
 camw0003 #3,MANTE;
 camw0004 #4,MANTE;
 :/modelos/def/dsmom030 #130;
|FIN;


|VARIABLES;
 nNume1 = 0;
 nNume2 = 0;
 nNume3 = 0;
 &nSwSal = 0;
 nInkey = 0;
 nPara1 = 0;
 &nSw4  = 0;
|FIN;

|INCLUYE dscont_i;

|| ******************************************** Calculos Pantalla
|| ******* Calculos mw0002
|CALCULO TrasConcepto2;  |TIPO 0;
   |SI FSalida = 10;
       enConcepto = #2Campo;
       |HAZ VerConcepto30;
       #2Campo = enConcepto; |PINTA #2Campo;
   |FINSI;
   enFilConc = 3;
   enConcepto = #2Campo;
   |HAZ FiltroConcepto;  |SI eswLect ! 0; |ACABA; |FINSI;
   #2#4 = #dsmom030#1; |PINTA #2#4;
|FCAL;
|| *****************************************************************
|PROCESO Cambia03;
 |C_L #3#3,1,"N";
 |C_P #3#3,1,0914;

 |C_L #3#4,1,"N";
 |C_P #3#4,1,0902;

 |PARA nPara1 = 5; |SI nPara1 [ 40; |HACIENDO nPara1 = nPara1 + 1;
       |C_V #3nPara1,1,"S";
       |C_M #3nPara1,1,"S";
 |SIGUE;
 nSw4  = 1;
|FPRC;

|PROCESO VuelveaCambiar;
 |C_L #3#3,1,"S";
 |C_P #3#3,1,1620;

 |C_L #3#4,1,"S";
 |C_P #3#4,1,1608;

 |PARA nPara1 = 5; |SI nPara1 [ 40; |HACIENDO nPara1 = nPara1 + 1;
       |C_V #3nPara1,1,"N";
       |C_M #3nPara1,1,"N";
 |SIGUE;
 nSw4  = 0;
|FPRC;

|| ******************************************** Calculos Pantalla
|CALCULO wTipo12; |TIPO 12;
|FCAL;

|CALCULO wTipo3; |TIPO 3;

  |ENTLINEAL #1#2, -2, 2, 14, 0, ClaveBajaAxC, ClaveAltaAxC;

  |PUSHV 0501 2380;
  |HAZ Cambia03;
  |PINPA #0#3;
  |ENTLINEAL #1#3, -2, 2, 22, 1, ClaveBajaAxD, ClaveAltaAxD;
|FCAL;

|RUTINA ClaveBajaAxD;
 #3#0 = #0#0;
 #3#1 = " ";
 #3#2 = 01;
|FRUT;

|RUTINA ClaveAltaAxD;
 #3#0 = #0#0;
 #3#1 = "z";
 #3#2 = 99;
|FRUT;

|RUTINA ClaveBajaAxC;
 #2#0 = #0#0;
 #2#1 = 01;
|FRUT;

|RUTINA ClaveAltaAxC;
 #2#0 = #0#0;
 #2#1 = 99;
|FRUT;

|PROCESO wTipo0; |TIPO 0;
 nInkey = FSalida;
 |SI nInkey = 11;
     nSwSal = 0;
     |ENTLINEAL #1#2, -2, 2, 14, 0, ClaveBajaAxC, ClaveAltaAxC;
     |ERROR;
 |FINSI;
 |SI nInkey = 12;
     nSwSal = 0;
     |PUSHV 0501 2380;
     |HAZ Cambia03;
     |PINPA #0#3;
     |ENTLINEAL #1#3, -2, 2, 22, 1, ClaveBajaAxD, ClaveAltaAxD;
     |ERROR;
     |HAZ VuelveaCambiar;
     |POPV;
     |ENTLINEAL #1#3, -2, 7, 22, 0, ClaveBajaAxD, ClaveAltaAxD;
 |FINSI;
|FPRC

|CALCULO PresentaLinea;  |TIPO 7;
 |ENTLINEAL #1#2, -2, 7, 14, 0, ClaveBajaAxC, ClaveAltaAxC;
 |HAZ VuelveaCambiar;
 |ENTLINEAL #1#3, -2, 7, 22, 0, ClaveBajaAxD, ClaveAltaAxD;
|FCAL;

|CALCULO TrasConcepto1;  |TIPO 0;     ||Concepto Factura / IVA
   |SI FSalida = 10;
       enConcepto = #0Campo;
       |HAZ VerConcepto30;
       #0Campo = enConcepto; |PINTA #0Campo;
   |FINSI;
   eaCuenta  = "";
   enFilConc = 0;
   enConcepto = #0Campo;
   |HAZ FiltroConcepto;  |SI eswLect ! 0; |ACABA; |FINSI;
   |SI Campo = 1; nNume1 = 10; |FINSI;
   |SI Campo = 2; nNume1 = 11; |FINSI;
   |SI Campo = 6; nNume1 = 12; |FINSI;
   #0nNume1 = #dsmom030#1; |PINTA #0nNume1;
|FCAL;

|PROGRAMA;
   |HAZ inicio;

   |CLS;
   |CABEZA "Claves para conceptos IVA e IRPF";
   |PINPA #0#0;

   |ABRE #0;
   |DDEFECTO #0;
   |LEE 000#0p;
   |SI FSalida ! 0;
       |DDEFECTO #0;
       |GRABA 020#0c;
   |FINSI;
   #0#0 = "A";
   |PINDA #0#0;
   |ENDATOS #1#0;
   |SI FSalida = 0;
      |GRABA 020#0a;
   |FINSI;
   |LIBERA #0;
   |CIERRA #0;
|FPRO;
