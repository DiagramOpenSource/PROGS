|FICHEROS;
   cavilw01 #0;
|FIN;

|VARIABLES;
   aMarca = "";

   nLibro = 0;
   aSerie = "";
   nFactura = 0;
|FIN;

|PROCESO BucleTodos;
   #cavilw01#8 = aMarca;
   |GRABA 020#cavilw01.a;
|FPRC;

|DEFBUCLE BucleTodos;
#cavilw01#1;
;
INICIO;
FINAL;
be;
NULL, BucleTodos;
|FIN;

|PROCESO Tipo11w01; |TIPO 11;
   |SI FSalida = 10;
      |SI #cavilw01#8 = " ";
         #cavilw01#8 = "*";
      |SINO;
         #cavilw01#8 = " ";
      |FINSI;
      |PINTA #cavilw01#8;
      |GRABA 020#cavilw01.a;
      |ERROR;
   |FINSI;
   |SI FSalida = 12;
      |SALVA_FICHA #cavilw01;
      aMarca = "*"; |BUCLE BucleTodos;
      |REPON_FICHA #cavilw01;
      |ERROR;
      |PTEC 809;
      |PONCONTROL 23, "SI";
   |FINSI;
   |SI FSalida = 13;
      |SALVA_FICHA #cavilw01;
      aMarca = " "; |BUCLE BucleTodos;
      |REPON_FICHA #cavilw01;
      |ERROR;
      |PTEC 809;
      |PONCONTROL 23, "SI";
   |FINSI;
|FPRC;
