|FICHEROS;
|FIN;

|VARIABLES;
   aAlfa    = "";
   aOrigen  = "";
   aDestino = "";
   aIP      = "";

   nHandle = 0;
   nResultado = 0;
|FIN;

|PROGRAMA;
   aAlfa = PARAMETRO;
   |XABRE "C", aAlfa, nHandle;
   |SI FSalida ] 0;
      |XLEE nHandle, 250, aAlfa; aOrigen = aAlfa;
      |XLEE nHandle, 250, aAlfa; aDestino = aAlfa;
      |XCIERRA nHandle;

      aIP = ""; |IP_REMOTO aIP;
      |SI aIP = "";
         |COPIA_FICHERO aOrigen, aDestino;
      |SINO;
         |ENVIA_FICHERO aOrigen, aDestino;
      |FINSI;
      nResultado = FSalida;
   |SINO;
      nResultado = -1;
   |FINSI;

   aAlfa = PARAMETRO;
   |XABRE "CW", aAlfa, nHandle;
   |SI FSalida ] 0;
      aAlfa = nResultado; |XGRABA nHandle, aAlfa;
      |XCIERRA nHandle;
   |FINSI;
|FPRO;
