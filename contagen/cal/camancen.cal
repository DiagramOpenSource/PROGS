|FICHEROS;
     camancen #0;
     cafantas #2;
|FIN;

|VARIABLES;
 modo = 0;
 nume1 = 0;
 nume2 = 0;
 corta = 0;
 nume3 = 0;
 jg = 0;
 sitio = 0;
    sindical = "";
    mensaje1 = "    ATENCION!!! Solicite Libro de Matricula para este Centro ...";
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    runnom = "";

 &enModo    = 0;
 &eaCodCen  = "";
|FIN;

|INCLUYE dscont_i;

|CALCULO CeLocalidad; |TIPO 0;
 nume1 = Campo - 1;
 enCodPobl = #0Campo;
 enCodProv = #0nume1;
 |HAZ LeeLocalidad;
 #0#9 = eaProvincia; |PINTA #0#9;
 #0#6 = eaPoblacion; |PINTA #0#6;
|FCAL;


|PROCESO sindical; |TIPO 0;
    eaCodCen = #0#0;
|FPRC;

|PROCESO mensaje;
    modo = FEntrada /100;
    modo = modo ! 0;
|MODULO alfa1;
|SI modo = 1; |Y alfa1 = "labcentr";
    |MENAV mensaje1;
|FINSI;
|FPRC;

|PROCESO control3; |TIPO 0;
|SI FSalida = 9;
        alfa1 = #0Campo;
    |QBF alfa1;
        alfa2 = alfa1 % 102; alfa3 = alfa1 % -107;
        alfa4 = alfa3 % 101;
    |SI alfa4 = "0";
            alfa3 = alfa3 % 206;
            alfa1 = alfa2 + alfa3;
    |FINSI;
        nume1 = alfa1;
        nume2 = nume1 / 97;
    |HAZ trunca3;
    |SI nume1 ] 0; |Y nume1 [ 99;
            alfa1 = #0Campo;
        |QBF alfa1;
            alfa2 = nume1;
            alfa2 = "00" + alfa2;
            alfa2 = alfa2 % -102;
            alfa1 = alfa1 + alfa2;
            #0Campo = alfa1;
        |PINTA #0Campo;
    |FINSI;
|FINSI;
|FPRC;

|PROCESO trunca3;
    corta = 0;
    alfa1 = nume2;  alfa2 = alfa1 % 0;  nume3 = alfa2;
|PARA jg = nume3; |SI jg ] 1;|Y corta = 0; |HACIENDO jg = jg - 1;
        sitio = (jg * 100) + 1;
        alfa2 = alfa1 % sitio;
    |SI alfa2 = ".";  corta = jg;  |FINSI;
|SIGUE;
|SI corta ! 0;
        sitio = 100 + corta - 1;
        alfa1 = alfa1 % sitio;
|FINSI;
    nume3 = alfa1;
    nume1 = nume1 - (nume3 * 97);
|FPRC;

|RUTINA ClaveBaja0;
     #0#0 = enEmpresa;
     #0#1 = 01;
|FRUT;

|RUTINA ClaveAlta0;
     #0#0 = enEmpresa;
     #0#1 = 98;
|FRUT;

|PROGRAMA;

   enModo = 1;
   |SI eaCodCen = "";
       |HAZ inicio;
       |CLS;
       |CABEZA "Centros de Trabajo";
   |FINSI;

   #0#0 = enEmpresa;
   #2#8 = eaNombreEmp;
   #2#9 = eaNifEmp;    |C_A #2#9,1,12;
   |ATRI N;
   |PINTA 0502, #0#0;
   |PINTA 0509, #2#9;
   |PINTA 0522, #2#8;
   |ATRI I;
   |PINTA 0702, " Mantenimiento de Centros de Trabajo";
   |ATRI 0;

   |HAZ DirAplicSt;

   |SI HayLaboral = 1;
       |SUB_EJECUTA_NP ":laboral/nomw0007";
   |SINO;
       |ENTLINEAL #1#0, -2, enModo, 20, 1, ClaveBaja0, ClaveAlta0;
   |FINSI;
|FPRO;
