|FICHEROS;
   cacambi2 #0;
   cacambix #1;    || preparacion

   canempre #30;

   cacuenta #20;   || plan contable
   casieali #21;   || asientos predefinidos lins.
   camaasic #25;   || apuntes cabs.
   camaasil #26;   || apuntes lins.

   camaniva #29;   || Mantenimiento de registro (CABECERA)
   caivalin #27;   || Mantenimiento de registro (CABECERA)
   cainliva #31;   || Introduccion facturas (LINEAS)

   caconcic #38;   || diferencias cabs.
   cacuepre #39;   || cuentas presupuestarias
   camoauxc #40;   || cuentas inventario

   :/modelos/def/dsmom041 #41;     || amortizaciones cabs.
   :/modelos/def/dsmom040 #42;     || grupos amortiz.

   caexistc #43;   || descarga existencias cabs.
   caexistl #44;   || descarga existencias lins.

   caconcil #45;   || diferencias lineas.
   camoauxl #52;   || diferencias lineas.

   camaylin #46;   || lineas mayor

   capasven #51;   || asiento ventas autom ticas.

   caclipro #50;   || Clientes Proveedores GENERAL
   plancont #60;   || plan contable basico

   caivaasi #64;   || Ctrl Entrada IVA asientos.

   calicont #67;   || Contrapartidas Apuntes
   caliconb #68;   || Contrapartidas Bloques

   camautol #69;   || Asientos Automaticos Lineas
   camauto1 #71;   || Asientos Automaticos Lineas esp

   cagruiva #70;   ||grupo de iva

   catalm01 #74;
   cafinanc #75;
   caw00017 #76;

   cadeflab #77;
   cadeflac #78;
   cadeflal #79;
   caplalab #80;
   caconvec #81;
   cadeflax #82;
   cadeflay #83;
   cadeflaz #84;

   cadefxab #177;
   cadefxal #179;
   cadefxax #182;
   cadefxaz #184;

   ca8m0003 #403;
   ca8m0004 #404;

   n43saldo #504;
|FIN;

|VARIABLES;
   aAlfa1 = "";
   aAlfa2 = "";
   nPara1 = 0;
   nNume1 = 0;
   alfa1 = "";
   alfa2 = "";
   alfa3 = "";
   alfa4 = "";
   nume1 = 0;
   nume2 = 0;
   nume3 = 0;
   nume4 = 0;
   para1 = 0;
   para2 = 0;
   para3 = 0;
   para4 = 0;
   FEstado = 0;
   seleccio = 0;
   modo = 0;
   sw_rup = 0;

   mens = "";
   longi = 0;
   niveles = 0;
   cuenta = "";
   feini = @;
   fefin = @;
   traba = "";
   x = 0;
   mascara = "";
   aNombre = "";
   aCuenta = "";

   swcam = 0;
   &aLaEmpresa = "";
   &eaDirFich = "";
   aParam     = "";
   nSwC08     = 0;
   nCompara   = 0;
   nEjer      = 0;
   nTabla     = 0;
   aPath08    = "";
   aPath      = "";
   &enImpExp  = 0;
|FIN;

|INCLUYE dscont_i;
____________________________________/ CALCULOS DE PANTALLA
|PROCESO mayus; |TIPO 0;
   #0Campo = #0Campo > #0Campo;
   |PINTA #0Campo;
|FPRC;

|PROCESO tipo8; |TIPO 8;
   |ABRE #1;
   |LEE 000#1p;
   |SI FSalida ! 0;
      |PINPA #0#0;                        || para que puedan leer
      |MENAV "    Preparacion Nula ...";
      |PTEC 807;
   |SINO;
      |HAZ inicio;
   |FINSI;
   |CIERRA #1;
|FPRC;
____________________________________/ CARGA DE NIVELES NUEVOS
|PROCESO niveles;
   |SI dig3 ! #cacuenta#1;  |ACABA;  |FINSI;
   niveles = dig3 - 1;
   aCuenta = #cacuenta#0;
   aNombre = "<Cambio de Niveles>";
   |PARA para1 = 1; |SI para1 [ niveles; |HACIENDO para1 = para1 + 1;
      |SI para1 = 5;  nume1 = dig8;  |FINSI;
      |SI para1 = 4;  nume1 = dig7;  |FINSI;
      |SI para1 = 3;  nume1 = dig6;  |FINSI;
      |SI para1 = 2;  nume1 = dig5;  |FINSI;
      |SI para1 = 1;  nume1 = dig4;  |FINSI;
      nume1 = 100 + nume1;
      ||cuenta = #20#0;
      cuenta = aCuenta;

      #cacuenta#0 = cuenta % nume1;
      #cacuenta#1 = para1;
      |LEE 000#20=;
      |SI FSalida ! 0;
         #plancont#0 = #cacuenta#0;
         #plancont#1 = #cacuenta#1;
         |LEE 000#60=;
         |SI FSalida = 0;
            |PARA para2 = 0; |SI para2 [ 60; |HACIENDO para2 = para2 + 1;
               #cacuenta#para2# = #plancont#para2#;
            |SIGUE;
            |GRABA 020#20n;
         |SINO;
            #cacuenta#0 = cuenta;
            #cacuenta#1 = dig3;
            |LEE 000#20=;
            #cacuenta#0 = #plancont#0;
            #cacuenta#1 = #plancont#1;
            #cacuenta#2 = aNombre;
            |SI #cacuenta#1 ! dig3;  #cacuenta#3 = "N";   |FINSI;
            |GRABA 020#20n;
         |FINSI;
      |SINO;
         aNombre = #cacuenta#2;
      |FINSI;
   |SIGUE;
|FPRC;
____________________________________/ CAMBIO DE CUENTAS
____________________________________/ n43saldo
|PROCESO n43saldo0;
   swcam = 0;
   mens = " Auxliar de Cuentas Bancarias Norma 43 > " + #504#0;  #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #504#6;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #504#6;
      #504#6 = #cacambix#2;
      #504#7 = #cacambix#3;
      swcam = 1;
   |FINSI;
   |SI swcam = 1; |GRABA 020#504a; |FINSI;
   |LIBERA #504;
|FPRC;

|DEFBUCLE n43saldo;
   #504#1;
   ;
   001;
   999;
   be;
   NULL, n43saldo0;
|FIN;

|PROCESO n43saldo;
   |ABRE #1;
   |BUCLE n43saldo;
   |CIERRA #1;
|FPRC;
____________________________________/ cagruiva
|PROCESO cagruiva1;
   mens = " Grupos de IVA> " + #cagruiva#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   |PARA para4 = 2; |SI para4 [ 16; |HACIENDO para4 = para4 + 1;
      para3 = para4 + 15;
      #cacambix#0 = #cagruiva#para4#;
      #cacambix#1 = #cagruiva#para3#;
      |LEE 000#1=;
      |SI FSalida = 0;
         #cagruiva#para4# = #cacambix#2;
         #cagruiva#para3# = #cacambix#3;
      |FINSI;
   |SIGUE;
   |GRABA 020#70a;

   |LIBERA #70;
|FPRC;

|DEFBUCLE cagruiva;
   #70#1;
   ;
   00;
   99;
   be;
   NULL, cagruiva1;
|FIN;

|PROCESO cagruiva;
   |ABRE #1;
   |BUCLE cagruiva;
   |CIERRA #1;
|FPRC;
____________________________________/ camautol
|PROCESO camautol1;
   mens = " Astos Automaticos > " + #camautol#0 + "-" + #camautol#1;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #camautol#2;
   #cacambix#1 = #camautol#3;
   |LEE 000#1=;
   |SI FSalida = 0;
      #camautol#2 = #cacambix#2;
      #camautol#3 = #cacambix#3;
      |GRABA 020#69a;
   |FINSI;

   |LIBERA #69;
|FPRC;

|DEFBUCLE camautol;
   #69#1;
   ;
   00001,    0;
   99999, 9999;
   be;
   NULL, camautol1;
|FIN;

|PROCESO camautol;
   |ABRE #1;
   |BUCLE camautol;
   |CIERRA #1;
|FPRC;

____________________________________/ camauto1
|PROCESO camauto11;
   mens = " Astos Automaticos > " + #camauto1#0 + "-" + #camauto1#1;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #camauto1#2;
   #cacambix#1 = #camauto1#3;
   |LEE 000#1=;
   |SI FSalida = 0;
      #camauto1#2 = #cacambix#2;
      #camauto1#3 = #cacambix#3;
      |GRABA 020#71a;
   |FINSI;

   |LIBERA #71;
|FPRC;

|DEFBUCLE camauto1;
   #71#1;
   ;
   00001,    0;
   99999, 9999;
   be;
   NULL, camauto11;
|FIN;

|PROCESO camauto1;
   |ABRE #1;
   |BUCLE camauto1;
   |CIERRA #1;
|FPRC;
____________________________________/ caliconb
|PROCESO caliconb1;
   mens = " Contrapartidas> " + #caliconb#0 + "-" + #caliconb#1; #cacambi2#1 = mens; |PINTA #cacambi2#1;
   #cacambix#0 = #caliconb#2;
   #cacambix#1 = #caliconb#3;
   |LEE 000#1=;
   |SI FSalida = 0;
      #caliconb#2 = #cacambix#2;
      #caliconb#3 = #cacambix#3;
      |GRABA 020#68a;
   |FINSI;
   |LIBERA #68;
|FPRC;

|DEFBUCLE caliconb;
   #68#1;
   ;
   "        ",     0;
   "zzzzzzzz", 99999;
   be;
   NULL, caliconb1;
|FIN;

|PROCESO caliconb;
   |ABRE #1;
   |BUCLE caliconb;
   |CIERRA #1;
|FPRC;
____________________________________/ calicont
|PROCESO calicont1;
   mens = " Contrapartidas> " + #calicont#0 + "-" + #calicont#1 + "-" + #calicont#2; #cacambi2#1 = mens; |PINTA #cacambi2#1;
   #cacambix#0 = #calicont#4;
   #cacambix#1 = #calicont#5;
   |LEE 000#1=;
   |SI FSalida = 0;
      #calicont#4 = #cacambix#2;
      #calicont#5 = #cacambix#3;
      |GRABA 020#67a;
   |FINSI;
   |LIBERA #67;
|FPRC;

|DEFBUCLE calicont;
   #67#1;
   ;
   0, feini,      0,    0;
   99, fefin, 999999, 9999;
   be;
   NULL, calicont1;
|FIN;

|PROCESO calicont;
   |ABRE #1;
   feini = "01.01.0001";
   fefin = "31.12.9999";
   |BUCLE calicont;
   |CIERRA #1;
|FPRC;
____________________________________/ camaylin
|PROCESO camaylin1;
   swcam = 0;
   mens = " Mayor> " + #camaylin#0 + "-" + #camaylin#1;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #camaylin#4;
   #cacambix#1 = #camaylin#5;
   |LEE 000#1=;
   |SI FSalida = 0;
      #camaylin#4 = #cacambix#2;
      #camaylin#5 = #cacambix#3;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #camaylin#10;
   #cacambix#1 = #camaylin#11;
   |LEE 000#1=;
   |SI FSalida = 0;
      #camaylin#10 = #cacambix#2;
      #camaylin#11 = #cacambix#3;
      swcam = 1;
   |FINSI;

   |SI swcam = 1; |GRABA 020#46a; |FINSI;
   |LIBERA #46;
|FPRC;

|DEFBUCLE camaylin;
   #46#1;
   ;
   0, feini,      0,    0;
   99, fefin, 999999, 9999;
   be;
   NULL, camaylin1;
|FIN;

|PROCESO camaylin;
   |ABRE #1;
   feini = "01.01.0001";
   fefin = "31.12.9999";
   |BUCLE camaylin;
   |CIERRA #1;
|FPRC;
____________________________________/ caexistl
|PROCESO caexistl1;
   swcam = 0;
   mens = " Descarga Existencias> " + #caexistl#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #caexistl#2;
   #cacambix#1 = #caexistl#3;
   |LEE 000#1=;
   |SI FSalida = 0;
      #caexistl#2 = #cacambix#2;
      #caexistl#3 = #cacambix#3;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #caexistl#5;
   #cacambix#1 = #caexistl#6;
   |LEE 000#1=;
   |SI FSalida = 0;
      #caexistl#5 = #cacambix#2;
      #caexistl#6 = #cacambix#3;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #caexistl#8;
   #cacambix#1 = #caexistl#9;
   |LEE 000#1=;
   |SI FSalida = 0;
      #caexistl#8 = #cacambix#2;
      #caexistl#9 = #cacambix#3;
      swcam = 1;
   |FINSI;

   |SI swcam = 1; |GRABA 020#44a; |FINSI;
   |LIBERA #44;
|FPRC;

|DEFBUCLE caexistl;
   #44#1;
   ;
   0,  0;
   99, 99;
   be;
   NULL, caexistl1;
|FIN;

|PROCESO caexistl;
   |ABRE #1;
   |BUCLE caexistl;
   |CIERRA #1;
|FPRC;
____________________________________/ caexistc
|PROCESO caexistc1;
   mens = " Descarga Existencias> " + #caexistc#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #caexistc#2;
   #cacambix#1 = #caexistc#3;
   |LEE 000#1=;
   |SI FSalida = 0;
      #caexistc#2 = #cacambix#2;
      #caexistc#3 = #cacambix#3;
      |GRABA 020#43a;
   |FINSI;

   |LIBERA #43;
|FPRC;

|DEFBUCLE caexistc;
   #43#1;
   ;
   0;
   99;
   be;
   NULL, caexistc1;
|FIN;

|PROCESO caexistc;
   |ABRE #1;
   |BUCLE caexistc;
   |CIERRA #1;
|FPRC;
____________________________________/ caivaasi
|PROCESO caivaasi;
   |ABRE #1;
   |ABRE #64;
   #caivaasi#0 = 1;
   |LEE 000#64=;
   |SI FSalida ! 0;
      |CIERRA #64;
      |CIERRA #1;
      |ACABA;
   |FINSI;
   mens = " Control Entrada Asientos IVA > ";  #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #caivaasi#39;
   #cacambix#1 = #caivaasi#40;
   |LEE 000#1=;
   |SI FSalida = 0;
      #caivaasi#39 = #cacambix#2;
      #caivaasi#40 = #cacambix#3;
   |FINSI;

   #cacambix#0 = #caivaasi#49;
   |LEE 000#1=;
   |SI FSalida = 0; #caivaasi#49 = #cacambix#2; |FINSI;

   #cacambix#0 = #caivaasi#53;
   |LEE 000#1=;
   |SI FSalida = 0; #caivaasi#53 = #cacambix#2; |FINSI;

   #cacambix#0 = #caivaasi#81;
   |LEE 000#1=;
   |SI FSalida = 0; #caivaasi#81 = #cacambix#2; |FINSI;

   #cacambix#0 = #caivaasi#82;
   |LEE 000#1=;
   |SI FSalida = 0; #caivaasi#82 = #cacambix#2; |FINSI;

   #cacambix#0 = #caivaasi#138;
   |LEE 000#1=;
   |SI FSalida = 0; #caivaasi#138 = #cacambix#2; |FINSI;

   #cacambix#0 = #caivaasi#142;
   |LEE 000#1=;
   |SI FSalida = 0; #caivaasi#142 = #cacambix#2; |FINSI;

   |GRABA 020#64a;
   |LIBERA #64;

   |CIERRA #64;
   |CIERRA #1;
|FPRC;
|| ----------------------------------------------------------------
____________________________________/ caconvec;
|PROCESO caconvec1;
   swcam = 0;
   mens = " Ventas automaticas > " + #caconvec#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #caconvec#2;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #caconvec#2;
      #caconvec#2 = #cacambix#2;
      swcam = 1;
   |FINSI;
   |SI swcam = 1; |GRABA 020#81a; |FINSI;
   |LIBERA #81;
|FPRC;

|DEFBUCLE caconvec;
   #81#1;
   ;
   "  ";
   "zz";
   be;
   NULL, caconvec1;
|FIN;

|PROCESO caconvec;
   |ABRE #1;
   |BUCLE caconvec;
   |CIERRA #1;
|FPRC;

____________________________________/ caplalab;
|PROCESO caplalab1;
   swcam = 0;
   mens = " Registros Laboral > " + #caplalab#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #caplalab#9;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #caplalab#9;
      #caplalab#9 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #caplalab#13;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #caplalab#13;
      #caplalab#13 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #caplalab#17;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #caplalab#17;
      #caplalab#17 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #caplalab#21;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #caplalab#21;
      #caplalab#21 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #caplalab#25;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #caplalab#25;
      #caplalab#25 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #caplalab#37;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #caplalab#37;
      #caplalab#37 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #caplalab#44;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #caplalab#44;
      #caplalab#44 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #caplalab#48;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #caplalab#48;
      #caplalab#48 = #cacambix#2;
      swcam = 1;
   |FINSI;

   |SI swcam = 1; |GRABA 020#80a; |FINSI;
   |LIBERA #80;
|FPRC;

|DEFBUCLE caplalab;
   #80#1;
   ;
   0001;
   9999;
   be;
   NULL, caplalab1;
|FIN;

|PROCESO caplalab;
   |ABRE #1;
   |BUCLE caplalab;
   |CIERRA #1;
|FPRC;

____________________________________/ cadefxal;
|PROCESO cadefxal1;
   swcam = 0;
   mens = " Desglose Laboral Centros > " + #cadefxal#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #cadefxal#2;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadefxal#2;
      #cadefxal#2 = #cacambix#2;
      swcam = 1;
   |FINSI;
   |SI swcam = 1; |GRABA 020#179a; |FINSI;
   |LIBERA #179;
|FPRC;

|DEFBUCLE cadefxal;
   #179#1;
   ;
   00, 001;
   99, 999;
   be;
   NULL, cadefxal1;
|FIN;

|PROCESO cadefxal;
   |ABRE #1;
   |BUCLE cadefxal;
   |CIERRA #1;
|FPRC;

____________________________________/ cadeflal;
|PROCESO cadeflal1;
   swcam = 0;
   mens = " Desglose Laboral > " + #cadeflal#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #cadeflal#2;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflal#2;
      #cadeflal#2 = #cacambix#2;
      swcam = 1;
   |FINSI;
   |SI swcam = 1; |GRABA 020#79a; |FINSI;
   |LIBERA #79;
|FPRC;

|DEFBUCLE cadeflal;
   #79#1;
   ;
   001;
   999;
   be;
   NULL, cadeflal1;
|FIN;

|PROCESO cadeflal;
   |ABRE #1;
   |BUCLE cadeflal;
   |CIERRA #1;
|FPRC;

|PROCESO cadefxaz1;
   swcam = 0;
   mens = " Desglose Laboral SS Areas / Secciones Centros> " + #cadefxaz#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #cadefxaz#3;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadefxaz#3;
      #cadefxaz#3 = #cacambix#2;
      swcam = 1;
   |FINSI;
   #cacambix#0 = #cadefxaz#6;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadefxaz#6;
      #cadefxaz#6 = #cacambix#2;
      swcam = 1;
   |FINSI;
   #cacambix#0 = #cadefxaz#8;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadefxaz#8;
      #cadefxaz#8 = #cacambix#2;
      swcam = 1;
   |FINSI;

   |SI swcam = 1; |GRABA 020#184a; |FINSI;
   |LIBERA #184;
|FPRC;

|DEFBUCLE cadefxaz;
   #184#1;
   ;
   00, " ", " ";
   99, "z", "z";
   be;
   NULL, cadefxaz1;
|FIN;

|PROCESO cadefxaz;
   |ABRE #1;
   |BUCLE cadefxaz;
   |CIERRA #1;
|FPRC;

|PROCESO cadeflaz1;
   swcam = 0;
   mens = " Desglose Laboral SS Areas / Secciones > " + #cadeflaz#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #cadeflaz#3;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflaz#3;
      #cadeflaz#3 = #cacambix#2;
      swcam = 1;
   |FINSI;
   #cacambix#0 = #cadeflaz#6;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflaz#6;
      #cadeflaz#6 = #cacambix#2;
      swcam = 1;
   |FINSI;
   #cacambix#0 = #cadeflaz#8;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflaz#8;
      #cadeflaz#8 = #cacambix#2;
      swcam = 1;
   |FINSI;

   |SI swcam = 1; |GRABA 020#84a; |FINSI;
   |LIBERA #84;
|FPRC;

|DEFBUCLE cadeflaz;
   #84#1;
   ;
   " ", " ";
   "z", "z";
   be;
   NULL, cadeflaz1;
|FIN;

|PROCESO cadeflaz;
   |ABRE #1;
   |BUCLE cadeflaz;
   |CIERRA #1;
|FPRC;
____________________________________/ cadefxax;
|PROCESO cadefxax1;
   swcam = 0;
   mens = " Desglose Laboral Area/Secciones Centros> " + #cadefxax#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #cadefxax#3;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadefxax#3;
      #cadefxax#3 = #cacambix#2;
      swcam = 1;
   |FINSI;
   |SI swcam = 1; |GRABA 020#182a; |FINSI;
   |LIBERA #182;
|FPRC;

|DEFBUCLE cadefxax;
   #182#1;
   ;
   00, " ", " ";
   99, "z", "z";
   be;
   NULL, cadefxax1;
|FIN;

|PROCESO cadefxax;
   |ABRE #1;
   |BUCLE cadefxax;
   |CIERRA #1;
|FPRC;
____________________________________/ cadeflax;
|PROCESO cadeflax1;
   swcam = 0;
   mens = " Desglose Laboral Area/Secciones > " + #cadeflax#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #cadeflax#3;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflax#3;
      #cadeflax#3 = #cacambix#2;
      swcam = 1;
   |FINSI;
   |SI swcam = 1; |GRABA 020#82a; |FINSI;
   |LIBERA #82;
|FPRC;

|DEFBUCLE cadeflax;
   #82#1;
   ;
   " ", " ";
   "z", "z";
   be;
   NULL, cadeflax1;
|FIN;

|PROCESO cadeflax;
   |ABRE #1;
   |BUCLE cadeflax;
   |CIERRA #1;
|FPRC;

|PROCESO cadeflay1;
   swcam = 0;
   mens = " Desglose Laboral SS Centros > " + #cadeflay#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #cadeflay#2;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflay#2;
      #cadeflay#2 = #cacambix#2;
      swcam = 1;
   |FINSI;
   #cacambix#0 = #cadeflay#5;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflay#5;
      #cadeflay#5 = #cacambix#2;
      swcam = 1;
   |FINSI;
   #cacambix#0 = #cadeflay#7;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflay#7;
      #cadeflay#7 = #cacambix#2;
      swcam = 1;
   |FINSI;

   |SI swcam = 1; |GRABA 020#83a; |FINSI;
   |LIBERA #83;
|FPRC;

|DEFBUCLE cadeflay;
   #83#1;
   ;
   01;
   99;
   be;
   NULL, cadeflay1;
|FIN;

|PROCESO cadeflay;
   |ABRE #1;
   |BUCLE cadeflay;
   |CIERRA #1;
|FPRC;
____________________________________/ cadeflac;
|PROCESO cadeflac1;
   swcam = 0;
   mens = " Desglose Laboral Centros > " + #cadeflac#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #cadeflac#2;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflac#2;
      #cadeflac#2 = #cacambix#2;
      swcam = 1;
   |FINSI;
   |SI swcam = 1; |GRABA 020#78a; |FINSI;
   |LIBERA #78;
|FPRC;

|DEFBUCLE cadeflac;
   #78#1;
   ;
   00;
   99;
   be;
   NULL, cadeflac1;
|FIN;

|PROCESO cadeflac;
   |ABRE #1;
   |BUCLE cadeflac;
   |CIERRA #1;
|FPRC;

____________________________________/ cadeflab
|PROCESO cadeflab;

   |ABRE #77;
   |LEE 000#77p;
   |SI FSalida ! 0;
      |CIERRA #77;
      |ACABA;
   |FINSI;

   |ABRE #1;

   swcam = 0;
   mens = " Control Defectos Laboral >";   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #cadeflab#1;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflab#1;
      #cadeflab#1 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #cadeflab#4;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflab#4;
      #cadeflab#4 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #cadeflab#7;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflab#7;
      #cadeflab#7 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #cadeflab#10;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflab#10;
      #cadeflab#10 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #cadeflab#13;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflab#13;
      #cadeflab#13 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #cadeflab#16;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflab#16;
      #cadeflab#16 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #cadeflab#49;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflab#49;
      #cadeflab#49 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #cadeflab#63;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflab#63;
      #cadeflab#63 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #cadeflab#69;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cadeflab#69;
      #cadeflab#69 = #cacambix#2;
      swcam = 1;
   |FINSI;

   |SI swcam = 1; |GRABA 020#77a; |FINSI;
   |LIBERA #77;

   |CIERRA #77;
   |CIERRA #1;
|FPRC;

____________________________________/ cadefxab
|PROCESO cadefxab1;
   swcam = 0;
   mens = " Control Defectos Laboral Centros>";   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #177#1;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #177#1;
      #177#1 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #177#4;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #177#4;
      #177#4 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #177#7;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #177#7;
      #177#7 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #177#10;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #177#10;
      #177#10 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #177#13;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #177#13;
      #177#13 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #177#16;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #177#16;
      #177#16 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #177#49;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #177#49;
      #177#49 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #177#63;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #177#63;
      #177#63 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #177#69;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #177#69;
      #177#69 = #cacambix#2;
      swcam = 1;
   |FINSI;

   |SI swcam = 1; |GRABA 020#177a; |FINSI;
   |LIBERA #177;
|FPRC;

|DEFBUCLE cadefxab;
   #177#1;
   ;
   00;
   99;
   be;
   NULL, cadefxab1;
|FIN;

|PROCESO cadefxab;
   |ABRE #1;
   |BUCLE cadefxab;
   |CIERRA #1;
|FPRC;

____________________________________/ caw00017
|PROCESO caw000171;
   swcam = 0;
   mens = " Apuntes Extras > " + #caw00017#1;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #caw00017#4;
   #cacambix#1 = #caw00017#5;
   |LEE 000#1=;
   |SI FSalida = 0;
      #caw00017#4 = #cacambix#2;
      #caw00017#5 = #cacambix#3;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #caw00017#10;
   #cacambix#1 = #caw00017#11;
   |LEE 000#1=;
   |SI FSalida = 0;
      #caw00017#10 = #cacambix#2;
      #caw00017#11 = #cacambix#3;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #caw00017#16;
   #cacambix#1 = #caw00017#17;
   |LEE 000#1=;
   |SI FSalida = 0;
      #caw00017#16 = #cacambix#2;
      #caw00017#17 = #cacambix#3;
      swcam = 1;
   |FINSI;

  |SI swcam = 1; |GRABA 020#76a; |FINSI;
  |LIBERA #76;
|FPRC;

|DEFBUCLE caw00017;
   #76#1;
   ;
   00, "01.01.0000", 000001, 0001;
   99, "31.12.2999", 999999, 9999;
   be;
   NULL, caw000171;
|FIN;

|PROCESO caw00017;
   |ABRE #1;
   |BUCLE caw00017;
   |CIERRA #1;
|FPRC;

____________________________________/ cafinanc
|PROCESO cafinanc1;
   swcam = 0;
   mens = " Op. Financieras > " + #cafinanc#1;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #cafinanc#7;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cafinanc#7;
      #cafinanc#7 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #cafinanc#8;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cafinanc#8;
      #cafinanc#8 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #cafinanc#9;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cafinanc#9;
      #cafinanc#9 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #cafinanc#10;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cafinanc#10;
      #cafinanc#10 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #cafinanc#11;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cafinanc#11;
      #cafinanc#11 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #cafinanc#35;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cafinanc#35;
      #cafinanc#35 = #cacambix#2;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #cafinanc#41;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #cafinanc#41;
      #cafinanc#41 = #cacambix#2;
      swcam = 1;
   |FINSI;

   |SI swcam = 1; |GRABA 020#75a; |FINSI;
   |LIBERA #75;
|FPRC;

|DEFBUCLE cafinanc;
   #75#1;
   ;
   enEmpresa,0;
   enEmpresa,99999;
   be;
   NULL, cafinanc1;
|FIN;

|PROCESO cafinanc;
   |ABRE #1;
   |BUCLE cafinanc;
   |CIERRA #1;
|FPRC;

____________________________________/ catalm01
|PROCESO catalm011;
   swcam = 0;
   mens = " Vencimientos > " + #catalm01#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #catalm01#1;
   #cacambix#1 = #catalm01#2;
   |LEE 000#1=;
   |SI FSalida = 0;
      #catalm01#1 = #cacambix#2;
      #catalm01#2 = #cacambix#3;
      swcam = 1;
   |FINSI;

   #cacambix#0 = #catalm01#3;
   #cacambix#1 = #catalm01#4;
   |LEE 000#1=;
   |SI FSalida = 0;
      #catalm01#3 = #cacambix#2;
      #catalm01#4 = #cacambix#3;
      swcam = 1;
   |FINSI;

   |SI swcam = 1; |GRABA 020#74a; |FINSI;
   |LIBERA #74;
|FPRC;

|DEFBUCLE catalm01;
   #74#1;
   ;
   enEmpresa,0;
   enEmpresa,999999;
   be;
   NULL, catalm011;
|FIN;

|PROCESO catalm01;
   |ABRE #1;
   |BUCLE catalm01;
   |CIERRA #1;
|FPRC;

|| ------------ Para cambiar correctamente la cuena en Amortizaciones
|PROCESO VerTrataAmor;
   aPath08 = "";
   |SI enEjercicio = 2008;
       aPath08 = dirfich0;
   |SINO;
       |DBASS aPath; |QBF aPath;
       aPath = aPath + "contagen/fich/";
       |SALVA_DATOS #canempre;
       |ABRE #canempre;
       |SELECT #4#canempre;
       #canempre#2  = enEmpresa;
       #canempre#26 = 8;
       |LEE 001#canempre.=;
       |SI FSalida = 0;
           aAlfa1 = #canempre#2; |QBF aAlfa1; aAlfa1 = ("00000" + aAlfa1) % -105;
           aAlfa2 = #canempre#3; |QBF aAlfa2; aAlfa2 = ("0"     + aAlfa2) % -101;
           aPath08 = aPath + aAlfa1 + aAlfa2 + "/";
       |FINSI;
       |SELECT #1#canempre;
       |CIERRA #canempre;
       |REPON_DATOS #canempre;
    |FINSI;
    nTabla = 0;
    |SI aPath08 ! "";
        |PATH_DAT #403 aPath08;
        |ABRE #403;
        |LEE 041#403p;
        |SI FSalida = 0;
            nTabla = 1;
        |FINSI;
        |CIERRA #403;
    |FINSI;
|FPRC;
____________________________________/ dsmom040
|PROCESO dsmom0401;
   swcam = 0;
   mens = " Grupos Amortizacion> " + #dsmom040#2;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   |SI enEjercicio < 2008;
       #cacambix#0 = #dsmom040#3;
       #cacambix#1 = #dsmom040#4;
       |LEE 000#1=;
       |SI FSalida = 0;
          #dsmom040#3 = #cacambix#2;
          #dsmom040#4 = #cacambix#3;
          swcam = 1;
       |FINSI;

       #cacambix#0 = #dsmom040#5;
       #cacambix#1 = #dsmom040#6;
       |LEE 000#1=;
       |SI FSalida = 0;
          #dsmom040#5 = #cacambix#2;
          #dsmom040#6 = #cacambix#3;
          swcam = 1;
       |FINSI;
   |SINO;
       #cacambix#0 = #dsmom040#10;
       #cacambix#1 = #dsmom040#11;
       |LEE 000#1=;
       |SI FSalida = 0;
          #dsmom040#10 = #cacambix#2;
          #dsmom040#11 = #cacambix#3;
          swcam = 1;
       |FINSI;

       #cacambix#0 = #dsmom040#12;
       #cacambix#1 = #dsmom040#13;
       |LEE 000#1=;
       |SI FSalida = 0;
          #dsmom040#12 = #cacambix#2;
          #dsmom040#13 = #cacambix#3;
          swcam = 1;
       |FINSI;
   |FINSI;

   |SI swcam = 1; |GRABA 020#42a; |FINSI;
   |LIBERA #42;
|FPRC;

|DEFBUCLE dsmom040;
   #42#1;
   ;
   enEmpresa,0;
   enEmpresa,9999;
   be;
   NULL, dsmom0401;
|FIN;

|PROCESO dsmom040;
   |ABRE #1;
   |BUCLE dsmom040;
   |CIERRA #1;
|FPRC;
____________________________________/ dsmom041
|PROCESO dsmom0411;
   mens = " Elementos Amortizacion> " + #dsmom041#2;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   aAlfa1 = #dsmom041#27; aAlfa1 = aAlfa1 % -104;
   nEjer  = aAlfa1;
   nCompara = 0;
   |SI enEjercicio < 2008; |Y nEjer < 2008;
       nCompara = 1;
   |FINSI;
   |SI nEjer = enEjercicio;  nCompara = 1; |FINSI;

   |SI nEjer < 2008; |Y enEjercicio ] 2008;
       |SI nTabla = 0;  nCompara = 1;  |FINSI; || No ha tabla
   |FINSI;

   |SI nCompara = 1;
       #cacambix#0 = #dsmom041#5;
       #cacambix#1 = #dsmom041#6;
       |LEE 000#1=;
       |SI FSalida = 0;
           #dsmom041#5 = #cacambix#2;
           #dsmom041#6 = #cacambix#3;
           |GRABA 020#41a;
        |FINSI;
   |FINSI;

   |LIBERA #41;
|FPRC;

|DEFBUCLE dsmom041;
   #41#1;
   ;
   enEmpresa,"        ",00;
   enEmpresa,"zzzzzzzz",99;
   be;
   NULL, dsmom0411;
|FIN;

|PROCESO dsmom041;
   |ABRE #1;
   |BUCLE dsmom041;
   |CIERRA #1;
|FPRC;

____________________________________/ camoauxl

|PROCESO camoauxl1;
   mens = " Lineas Ctas.Inventario> " + #cacambix#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

  |PARA nPara1 = 1; |SI nPara1 [ 99; |HACIENDO nPara1 = nPara1 + 1;
        aAlfa1 = nPara1; |QBF aAlfa1;
        aAlfa1 = ("00" + aAlfa1) % -102;
        |PARA para3 = 1; |SI para3 [ 999; |HACIENDO para3 = para3 + 1;
              #camoauxl#7 = aAlfa1;
              #camoauxl#0 = #cacambix#0;
              #camoauxl#1 = #cacambix#1;
              #camoauxl#2 = para3;
              |LEE 000#52];
              |SI FSalida ! 0;
                  |SAL;
              |SINO;
                  |SI #camoauxl#0 = #cacambix#0; |Y #camoauxl#1 = #cacambix#1;
                      #camoauxl#7 = aAlfa1;
                      #camoauxl#0 = #cacambix#2;
                      #camoauxl#1 = #cacambix#3;
                      para3 = #camoauxl#2;
                      |LEE 000#52=;
                      |SI FSalida = 0;
                          |BORRA 020#52a;
                      |FINSI;
                      #camoauxl#7 = aAlfa1;
                      #camoauxl#0 = #cacambix#0;
                      #camoauxl#1 = #cacambix#1;
                      #camoauxl#2 = para3;
                      |LEE 000#52=;
                      |SI FSalida = 0;
                          |BORRA 020#52a;
                          #camoauxl#7 = aAlfa1;
                          #camoauxl#0 = #cacambix#2;
                          #camoauxl#1 = #cacambix#3;
                          #camoauxl#2 = para3;
                          |GRABA 020#52n;
                      |FINSI;
                  |SINO;
                      |SAL;
                  |FINSI;
              |FINSI;
        |SIGUE;
   |SIGUE;
|FPRC;

|DEFBUCLE camoaux2l;
   #1#1;
   ;
   "            ", 0;
   "zzzzzzzzzzzz", 9;
   ;
   NULL, camoauxl1;
|FIN;

|PROCESO camoauxl;
   |ABRE #52;
   |BUCLE camoaux2l;
   |CIERRA #52;
|FPRC;
____________________________________/ camoauxc
|PROCESO camoauxc1;
   mens = " Ctas.Inventario> " + #cacambix#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

  |PARA nPara1 = 1; |SI nPara1 [ 99; |HACIENDO nPara1 = nPara1 + 1;
        aAlfa1 = nPara1; |QBF aAlfa1;
        aAlfa1 = ("00" + aAlfa1) % -102;
        #camoauxc#6 = aAlfa1;
        #camoauxc#0 = #cacambix#2;
        #camoauxc#1 = #cacambix#3;
        |LEE 000#40=;
        |SI FSalida ! 0;
            #camoauxc#6 = aAlfa1;
            #camoauxc#0 = #cacambix#0;
            #camoauxc#1 = #cacambix#1;
            |LEE 000#40=;
            |SI FSalida = 0;
                |BORRA 020#40a;
                #camoauxc#6 = aAlfa1;
                #camoauxc#0 = #cacambix#2;
                #camoauxc#1 = #cacambix#3;
                |GRABA 020#40n;
           |FINSI;
        |FINSI;
  |SIGUE;
|FPRC;

|DEFBUCLE cacambix3;
   #1#1;
   ;
   "            ", 0;
   "zzzzzzzzzzzz", 9;
   ;
   NULL, camoauxc1;
|FIN;

|PROCESO camoauxc;
   |ABRE #40;
   |BUCLE cacambix3;
   |CIERRA #40;
|FPRC;


____________________________________/ cacuepre
|PROCESO cacuepre1;
   mens = " Ctas.Presup.> " + #cacambix#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #cacuepre#0;
   #cacambix#1 = #cacuepre#1;
   |LEE 000#1=;
   |SI FSalida = 0;
      |BORRA 020#39a;
      #cacuepre#0 = #cacambix#2;
      #cacuepre#1 = #cacambix#3;
      |GRABA 000#39n;
   |FINSI;
|FPRC;

|DEFBUCLE cacuepre;
   #39#1;
   ;
   0, "            ", 0;
   99, "zzzzzzzzzzzz", 9;
   ;
   NULL, cacuepre1;
|FIN;

|PROCESO cacuepre;
   |ABRE #1;
   |BUCLE cacuepre;
   |CIERRA #1;
|FPRC;
____________________________________/ caconcic
|PROCESO caconcic1;
   mens = " Diferencias> " + #cacambix#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #caconcic#0 = #cacambix#2;
   #caconcic#1 = #cacambix#3;
   |LEE 000#38=;
   |SI FSalida ! 0;
      #caconcic#0 = #cacambix#0;
      #caconcic#1 = #cacambix#1;
      |LEE 000#38=;
      |SI FSalida = 0;
         |BORRA 020#38a;
         #caconcic#0 = #cacambix#2;
         #caconcic#1 = #cacambix#3;
         |GRABA 020#38n;
      |FINSI;
   |FINSI;
|FPRC;

|DEFBUCLE cacambix2;
   #1#1;
   ;
   "            ", 0;
   "zzzzzzzzzzzz", 9;
   ;
   NULL, caconcic1;
|FIN;

|PROCESO caconcic;
   |ABRE #38;
   |BUCLE cacambix2;
   |CIERRA #38;
|FPRC;
____________________________________/ caconcil
|PROCESO caconcil1;
   mens = " Diferencias Lineas> " + #cacambix#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   |PARA para3 = 1; |SI para3 [ 999; |HACIENDO para3 = para3 + 1;
      #caconcil#0 = #cacambix#0;
      #caconcil#1 = #cacambix#1;
      #caconcil#2 = para3;
      |LEE 000#45];
      |SI FSalida ! 0;
         |SAL;
      |SINO;
         |SI #caconcil#0 = #cacambix#0; |Y #caconcil#1 = #cacambix#1;
            #caconcil#0 = #cacambix#2;
            #caconcil#1 = #cacambix#3;
            para3 = #caconcil#2;
            |LEE 000#45=;
            |SI FSalida = 0;
               |BORRA 020#45a;
            |FINSI;
            #caconcil#0 = #cacambix#0;
            #caconcil#1 = #cacambix#1;
            #caconcil#2 = para3;
            |LEE 000#45=;
            |SI FSalida = 0;
               |BORRA 020#45a;
               #caconcil#0 = #cacambix#2;
               #caconcil#1 = #cacambix#3;
               #caconcil#2 = para3;
               |GRABA 020#45n;
            |FINSI;
         |SINO;
            |SAL;
         |FINSI;
      |FINSI;
   |SIGUE;
|FPRC;

|DEFBUCLE cacambix2l;
   #1#1;
   ;
   "            ", 0;
   "zzzzzzzzzzzz", 9;
   ;
   NULL, caconcil1;
|FIN;

|PROCESO caconcil;
   |ABRE #45;
   |BUCLE cacambix2l;
   |CIERRA #45;
|FPRC;

____________________________________/ capasven
|PROCESO capasven2;
   mens = " Control Pase Ventas Contado  > " + #capasven#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #capasven#9;  || cuenta clientes
   #cacambix#1 = #capasven#12;
   |LEE 000#1=;
   |SI FSalida = 0;
      #capasven#9  = #cacambix#2;
      #capasven#12 = #cacambix#3;
      |GRABA 020#51a;
   |FINSI;

   #cacambix#0 = #capasven#10;  || cuenta Ventas
   #cacambix#1 = #capasven#13;
   |LEE 000#1=;
   |SI FSalida = 0;
      #capasven#10 = #cacambix#2;
      #capasven#13 = #cacambix#3;
      |GRABA 020#51a;
   |FINSI;

   #cacambix#0 = #capasven#11;  || cuenta IVA
   #cacambix#1 = #capasven#14;
   |LEE 000#1=;
   |SI FSalida = 0;
      #capasven#11 = #cacambix#2;
      #capasven#14 = #cacambix#3;
      |GRABA 020#51a;
   |FINSI;

   |LIBERA #51;
|FPRC;

|DEFBUCLE capasven1;
   #51#1;
   ;
   "  ";
   "zz";
   be;
   NULL, capasven2;
|FIN;

|PROCESO capasven;
   |ABRE #1;
   |BUCLE capasven1;
   |CIERRA #1;
|FPRC;
____________________________________/ Mantenimiento IVA/IRPF

|PROCESO LineasIva;
/*  Estructura anterior
   #cacambix#0 = #caivalin#13;
   eaCuenta    = #caivalin#13;
   |HAZ SacaNivel;
   #cacambix#1 = enNivel;
*/

   #cacambix#0 = #caivalin#12;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0;
       #caivalin#12 = #cacambix#2;
   |FINSI;

   #cacambix#0 = #caivalin#13;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0;
       #caivalin#13 = #cacambix#2;
   |FINSI;

   #cacambix#0 = #caivalin#14;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0;
       #caivalin#14 = #cacambix#2;
   |FINSI;

   #cacambix#0 = #caivalin#15;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0;
       #caivalin#15 = #cacambix#2;
   |FINSI;

   #cacambix#0 = #caivalin#23;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0;
       #caivalin#23 = #cacambix#2;
   |FINSI;

   |GRABA 020#caivalin.a;
|FPRC;

|DEFBUCLE LineasIva;
 #caivalin#1;
 ;
 #camaniva#0,#camaniva#1,001;
 #camaniva#0,#camaniva#1,999;
 ;
 NULL,LineasIva;
|FIN;

|PROCESO camaniva;
   mens = " Registros Iva/IRPF> " + #camaniva#0 + "-" + #camaniva#2;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   |BUCLE LineasIva;

/* Estrucura Anterior
   #cacambix#0 = #camaniva#12;
   eaCuenta = #camaniva#12;
   |HAZ SacaNivel;
   #cacambix#1 = enNivel;
*/

   #cacambix#0 = #camaniva#12;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0;  |Y #cacambix#0 = #camaniva#12;
      #camaniva#12 = #cacambix#2;
      |GRABA 020#camaniva.a;
   |FINSI;

   |LIBERA #camaniva;
|FPRC;

|DEFBUCLE camaniva;
   #camaniva#3;
   ;
   00, "     ",      0;
   99, "zzzzz", 999999;
   be;
   NULL, camaniva;
|FIN;

|PROCESO ManteIva;
   |ABRE #1; |BUCLE camaniva; |CIERRA #1;
|FPRC;
____________________________________/ Introduccion facturas
|PROCESO cainliva;
   mens = " Introduccion facturas>" + #cainliva#0 + "-" + #cainliva#1;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

/* Estructua Anterior;
   #cacambix#0 = #cainliva#5;
   eaCuenta    = #cainliva#5;
   |HAZ SacaNivel
   #cacambix#1 = enNivel;
*/

   #cacambix#0 = #cainliva#5;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0;
       #cainliva#5 = #cacambix#2;
   |FINSI;

   #cacambix#0 = #cainliva#17;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0;
       #cainliva#17 = #cacambix#2;
   |FINSI;

   #cacambix#0 = #cainliva#20;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0;
       #cainliva#20 = #cacambix#2;
   |FINSI;

   #cacambix#0 = #cainliva#22;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0;
       #cainliva#22 = #cacambix#2;
   |FINSI;

   #cacambix#0 = #cainliva#24;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0;
       #cainliva#24 = #cacambix#2;
   |FINSI;

   #cacambix#0 = #cainliva#36;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0;
       #cainliva#36 = #cacambix#2;
   |FINSI;

   #cacambix#0 = #cainliva#40;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0;
       #cainliva#40 = #cacambix#2;
   |FINSI;

   |GRABA 020#cainliva.a;
   |LIBERA #cainliva;
|FPRC;

|DEFBUCLE cainliva;
   #cainliva#1;
   ;
   0,   0;
   99, 999;
   be;
   NULL, cainliva;
|FIN;

|PROCESO IntLinIva;
   |ABRE #1; |BUCLE cainliva; |CIERRA #1;
|FPRC;
____________________________________/ camaasil
|PROCESO camaasil1;
   mens = " Apuntes Lins.> " + #camaasil#0 + "-" + #camaasil#1;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #camaasil#4;
   #cacambix#1 = #camaasil#5;
   |LEE 000#1=;
   |SI FSalida = 0;
      #camaasil#4 = #cacambix#2;
      #camaasil#5 = #cacambix#3;
      |GRABA 020#26a;
   |FINSI;

   #cacambix#0 = #camaasil#10;
   #cacambix#1 = #camaasil#11;
   |LEE 000#1=;
   |SI FSalida = 0;
      #camaasil#10 = #cacambix#2;
      #camaasil#11 = #cacambix#3;
      |GRABA 020#26a;
   |FINSI;

   #cacambix#0 = #camaasil#16;
   #cacambix#1 = #camaasil#17;
   |LEE 000#1=;
   |SI FSalida = 0;
      #camaasil#16 = #cacambix#2;
      #camaasil#17 = #cacambix#3;
      |GRABA 020#26a;
   |FINSI;

   |LIBERA #26;
|FPRC;

|DEFBUCLE camaasil;
   #26#1;
   ;
    0, feini,      0,    0;
   99, fefin, 999999, 9999;
   be;
   NULL, camaasil1;
|FIN;

|PROCESO camaasil;
   |ABRE #1;
   feini = "01.01.0001";
   fefin = "31.12.9999";
   |BUCLE camaasil;
   |CIERRA #1;
|FPRC;
____________________________________/ camaasic
|PROCESO camaasic1;
   mens = " Apuntes Cabs.> " + #camaasic#0 + "-" + #camaasic#1;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacambix#0 = #camaasic#8;
   #cacambix#1 = #camaasic#9;
   |LEE 000#1=;
   |SI FSalida = 0;
      #camaasic#8 = #cacambix#2;
      #camaasic#9 = #cacambix#3;
      |GRABA 020#25a;
   |FINSI;

   #cacambix#0 = #camaasic#10;
   #cacambix#1 = #camaasic#11;
   |LEE 000#1=;
   |SI FSalida = 0;
      #camaasic#10 = #cacambix#2;
      #camaasic#11 = #cacambix#3;
      |GRABA 020#25a;
   |FINSI;

   |LIBERA #25;
|FPRC;

|DEFBUCLE camaasic;
   #25#1;
   ;
    0, feini,      0;
   99, fefin, 999999;
   be;
   NULL, camaasic1;
|FIN;

|PROCESO camaasic;
   |ABRE #1;
   feini = "01.01.0001";
   fefin = "31.12.9999";
   |BUCLE camaasic;
   |CIERRA #1;
|FPRC;
____________________________________/ casieali
|PROCESO buscala;
   nume1 = #cacambix#1;
   |ERROR10;
|FPRC;

|DEFBUCLE buscala;
   #1#1;
   ;
   #21#3, 0;
   #21#3, 9;
   ;
   NULL, buscala;
|FIN;

|PROCESO casieali1;
   mens = " Predefinidos> " + #casieali#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   nume1 = -1;
   |BUCLE buscala;
   |SI nume1 ! -1;
      #casieali#3 = #cacambix#2;
      #casieali#4 = #cacambix#3;
      |GRABA 020#21a;
   |FINSI;
   |LIBERA #21;
|FPRC;

|DEFBUCLE casieali;
   #21#1;
   ;
   1,  1;
   9999, 99;
   be;
   NULL, casieali1;
|FIN;

|PROCESO casieali;
   |BUCLE casieali;
|FPRC;

____________________________________/ CLIENTES Y PROVEEDORES
|PROCESO clienpro1;
   mens = "Contrapartida Cli./Prov.> " + #caclipro#10;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;
   #cacambix#0 = #caclipro#21;
   #cacambix#1 = #caclipro#22;
   |LEE 000#1=;
   |SI FSalida = 0;
      #caclipro#21 = #cacambix#2;        || contrapartida
      #caclipro#22 = #cacambix#3;
      |GRABA 020#50a;
   |FINSI;
   |LIBERA #50;
|FPRC;

|DEFBUCLE clienpro;
   #50#1;
   ;
   " ","            ";
   "z","zzzzzzzzzzzz";
   be;
   NULL, clienpro1;
|FIN;

|PROCESO clienpro;
   |ABRE #1;
   |BUCLE clienpro;
   |CIERRA #1;
|FPRC;
____________________________________/ caclirpo
|PROCESO caclipro1;

   mens = " CLIE/PROV.> " + #cacambix#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #caclipro#10 = #cacambix#2;
   #caclipro#11 = #cacambix#3;

   traba = #caclipro#10 % 102;
   |SI traba = "43"; |O traba = "44";
      #caclipro#23 = "C";
   |SINO;
      #caclipro#23 = "P";
   |FINSI;
   alfa2 = #caclipro#23;

   |LEE 000#50=;
   |SI FSalida = 0;  |ACABA;  |FINSI;
   #caclipro#10 = #cacambix#0;
   #caclipro#11 = #cacambix#1;
   traba = #caclipro#10 % 102;
   |SI traba = "43";  |O traba = "44";
      #caclipro#23 = "C";
   |SINO;
      #caclipro#23 = "P";
   |FINSI;
   |LEE 000#50=;
   |SI FSalida ! 0;  |ACABA;  |FINSI;
   |BORRA 020#50a;

   nNume1 = #cacambix#0;
   #caclipro#23 = alfa2;
   #caclipro#10 = #cacambix#2;
   #caclipro#11 = #cacambix#3;
   |SI nNume1 = #caclipro#0;
       #caclipro#0 = #caclipro#10;
   |FINSI;
   |GRABA 020#50n;
|FPRC;

|DEFBUCLE cacambix4;
   #1#1;
   ;
   "            ", 0;
   "zzzzzzzzzzzz", 9;
   ;
   NULL, caclipro1;
|FIN;

|PROCESO caclipro;
   |ABRE #50;
   |BUCLE cacambix4;
   |CIERRA #50;
|FPRC;
____________________________________/ cacuenta
|PROCESO cacuenta1;
   mens = " Plan Contable> " + #cacambix#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

   #cacuenta#0 = #cacambix#2;
   #cacuenta#1 = #cacambix#3;
   |LEE 141#20=;
   |SI FSalida = 0;
       |SI #cacambix#1 ! #cacambix#3;
           #cacuenta#1 = #cacambix#3;
           |GRABA 020#20a;
       |FINSI;
       |LIBERA #20;
       |ACABA;
   |FINSI;
   |LIBERA #20;
   #cacuenta#0 = #cacambix#0;
   #cacuenta#1 = #cacambix#1;
   |LEE 101#20=;
   |SI FSalida ! 0;  |LIBERA #20; |ACABA;  |FINSI;
   |SI #cacambix#7 ! "N";
       |BORRA 020#20a;
   |SINO;
       #cacuenta#3 = "N";
       eaCuenta = #cacuenta#0; |HAZ SacaNivel;
       #cacuenta#1 = enNivel;
       |GRABA 020#20a;
   |FINSI;
   |LIBERA #20;
   #cacuenta#0 = #cacambix#2;
   #cacuenta#1 = #cacambix#3;

   || la 3a clave esta formada por la cta + zzzz y el campo fantasma del nivel;
   mascara = #cacuenta#0;
   |QBF mascara;
   mascara = mascara +"zzzzzzzzzzzz";
   mascara = mascara % 112;
   #cacuenta#54    = mascara;
   #cacuenta#55    = #cacambix#3;

   |GRABA 020#20n;
   |SI FSalida = 0;
      |HAZ niveles;
   |FINSI;
|FPRC;

|DEFBUCLE cacambix;
   #1#1;
   ;
   "            ", 0;
   "zzzzzzzzzzzz", 9;
   ;
   NULL, cacuenta1;
|FIN;

|PROCESO cacuenta;
   |PATH_DAT #plancont #dir_fich#;
   |ABRE #20;
   |ABRE #60;
   |BUCLE cacambix;
   |CIERRA #20;
   |CIERRA #60;
|FPRC;
|| ----------------------------------------------------------------

|PROCESO Para8m003;
  mens = "Equivalencia Cuentas Plan 2008> " + #1#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;

  #403#0 = #1#0;
  |LEE 101#403=;
  |SI FSalida = 0;
      |BORRA 020#403a;
      #403#0 = #1#2;
      |GRABA 040#403n;
  |FINSI;
  |LIBERA #403;
|FPRC;

|DEFBUCLE Para8m003;
   #1#1;
   ;
   "            ", 0;
   "zzzzzzzzzzzz", 9;
   ;
   NULL, Para8m003;
|FIN;

|PROCESO Leoca8m003;
   mens = "Equivalencia Cuentas Plan 2008> " + #403#2;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;
   eaCuenta = #403#2;
   #cacambix#0 = #403#2;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = #403#2;
      #403#2 = #cacambix#2;
      |GRABA 020#403a;
   |FINSI;
   |LIBERA #403;
|FPRC;

|DEFBUCLE Leoca8m003;
 #403#1;
 ;
 "            ";
 "zzzzzzzzzzzz";
 be;
 NULL, Leoca8m003;
|FIN;

|PROCESO Leoca8m004
   mens = "Diario Apertura Plan 2008> " + #404#11 + "-" + #404#12 + "-" + #404#0;   #cacambi2#1 = mens;   |PINTA #cacambi2#1;
   |SI nSwC08 = 1;
       eaCuenta = #404#8;
   |SINO;
       eaCuenta = #404#1;
   |FINSI;
   #cacambix#0 = eaCuenta;
   #cacambix#1 = 0;
   |LEE 000#1];
   |SI FSalida = 0; |Y #cacambix#0 = eaCuenta;
       |SI nSwC08 = 1;
           #404#8 = #cacambix#2;
           #404#9 = #cacambix#3;
       |SINO;
           #404#1 = #cacambix#2;
           #404#7 = #cacambix#3;
       |FINSI;
       |GRABA 020#404a;
   |FINSI;
   |LIBERA #404;
|FPRC;

|DEFBUCLE Leoca8m004;
 #404#1;
 ;
 00, "01.01.0000", 000001, 0001;
 99, "31.12.2999", 999999, 9999;
 be;
 NULL, Leoca8m004;
|FIN;

|PROCESO ca8m3y4;
  nSwC08 = 0;
  |SI enEjercicio ] 2008;
      nSwC08 = 1;
  |FINSI;
  |SI enEjercicio = 2007;
      |ABRE #30;
      |SELECT #4#30;
      #30#2  = enEmpresa;
      #30#26 = 8;
      |LEE 040#30=;
      |SI FSalida = 0;
          nSwC08 = 2;
          |DFICB alfa1;
          alfa2 = #30#2; |QBF alfa2; alfa2 = ("00000" + alfa2) % -105;
          alfa3 = #30#3; |QBF alfa3; alfa3 = ("0"     + alfa3) % -101;
          alfa1 = alfa1 + alfa2 + alfa3 + "/";
          |PATH_DAT #403 alfa1;
          |PATH_DAT #404 alfa1;
      |FINSI;
      |SELECT #1#30;
      |CIERRA #30;
  |FINSI;

  |SI nSwC08 ! 0;
      |SI nSwC08 = 1;
          |ABRE #1;
          |BUCLE Leoca8m003;
          |CIERRA #1;
      |SINO;
          |ABRE #403;
          |BUCLE Para8m003;
          |CIERRA #403;
      |FINSI;

      |ABRE #1;
      |BUCLE Leoca8m004;
      |CIERRA #1;
  |FINSI;
|FPRC;
____________________________________/
|PROCESO tipo3; |TIPO 3;
   |SI #cacambi2#0 ! "SI";  |ACABA;  |FINSI;
   enImpExp = 1;
   |HAZ cacuenta;
   |HAZ caclipro;
   |HAZ clienpro;
   |HAZ casieali;
   |HAZ camaasic;
   |HAZ camaasil;

   |HAZ IntLinIva;
   |HAZ ManteIva;
   |HAZ capasven;

   |HAZ caivaasi;

   |HAZ caconcic;
   |HAZ caconcil;
   |HAZ cacuepre;
   |HAZ camoauxc;
   |HAZ camoauxl;

   |HAZ catalm01;
   |HAZ cafinanc;
   |HAZ caw00017;

   |HAZ cadeflab; |HAZ cadefxab;
   |HAZ cadeflac;
   |HAZ cadeflal; |HAZ cadefxal;
   |HAZ cadeflax; |HAZ cadefxax;
   |HAZ cadeflay;
   |HAZ cadeflaz; |HAZ cadefxaz;
   |HAZ caplalab;

   |HAZ caconvec;

|| ----------------- Proceso Amortizaciones
   |HAZ DirAplicSt;
   |SI Haymodelo ! 0;
       |HAZ VerTrataAmor;
       |HAZ dsmom040;
       |HAZ dsmom041;
   |FINSI;

   |HAZ caexistc;
   |HAZ caexistl;
   |HAZ camaylin;

   |HAZ calicont;
   |HAZ caliconb;

   |HAZ camautol;
   |HAZ camauto1;

   |HAZ cagruiva;

   |HAZ ca8m3y4;

   |HAZ n43saldo;

   |SUB_EJECUTA "cacambi4";

   |HAZ Analitica;
   |SI enSwAna = 1;
       |SUB_EJECUTA "cacambi3";
   |FINSI;
   enImpExp = 0;
|FPRC;


|PROGRAMA;
  aParam = PARAMETRO; |QBF aParam;
  |SI aParam = "";
      |DFICE dirfich0;
      |SI aLaEmpresa = "";
          |MANTE #0;
      |SINO;
          |PINPA #0#0;
          #cacambi2#0 = "SI";
          |HAZ tipo3;
      |FINSI;
  |SINO;
       dirfich0 = eaDirFich;
       |PATH_DAT #1 eaDirFich;
       |PATH_DAT #20 eaDirFich;
       |PATH_DAT #21 eaDirFich;
       |PATH_DAT #25 eaDirFich;
       |PATH_DAT #26 eaDirFich;
       |PATH_DAT #27 eaDirFich;
       |PATH_DAT #29 eaDirFich;
       |PATH_DAT #31 eaDirFich;
       |PATH_DAT #38 eaDirFich;
       |PATH_DAT #39 eaDirFich;
       |PATH_DAT #40 eaDirFich;
       |PATH_DAT #43 eaDirFich;
       |PATH_DAT #44 eaDirFich;
       |PATH_DAT #45 eaDirFich;
       |PATH_DAT #46 eaDirFich;
       |PATH_DAT #50 eaDirFich;
       |PATH_DAT #51 eaDirFich;
       |PATH_DAT #52 eaDirFich;
       |PATH_DAT #64 eaDirFich;
       |PATH_DAT #67 eaDirFich;
       |PATH_DAT #68 eaDirFich;
       |PATH_DAT #69 eaDirFich;
       |PATH_DAT #70 eaDirFich;
       |PATH_DAT #71 eaDirFich;

       |PATH_DAT #76 eaDirFich;
       |PATH_DAT #77 eaDirFich;
       |PATH_DAT #78 eaDirFich;
       |PATH_DAT #79 eaDirFich;
       |PATH_DAT #80 eaDirFich;
       |PATH_DAT #81 eaDirFich;

       |SI enEjercicio ] 2008;
           |PATH_DAT #403 eaDirFich;
           |PATH_DAT #404 eaDirFich;
       |FINSI;

       |PATH_DAT #504 eaDirFich;

       |ABRE #1;
       |LEE 000#1p;
       |SI FSalida ! 0;
           |CIERRA #1;
           |ACABA;  ||no hay cambios
       |FINSI;
       |CIERRA #1;

       |PINPA #0#0;
       #cacambi2#0 = "SI";
       |SI aParam = "PaseCa8";
           |HAZ ca8m3y4;
       |SINO;
          |HAZ tipo3;
       |FINSI;
   |FINSI;
|FPRO;
