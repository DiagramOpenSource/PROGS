|FICHEROS;
   cabordif #0;
   caconcic #2;
   caconcil #3;
|FIN;

|VARIABLES;
   &entrada = 1;
   alfa1    = "";
   swalg    = 0;
   feini    = @;
   fefin    = @;
   mensa1   = "    ATENCION !!! Fecha fuera de periodo ... ";
|FIN;

|INCLUYE dscont_i;

|| *********************************************************************
|CALCULO cuenta; |TIPO 0;
     eaCuenta = #cabordif#Campo#;
     salidas  = FSalida;
     |HAZ FiltraPuntos;
     #cabordif#Campo# = eaCuenta;
     |PINTA #cabordif#Campo#;
|FCAL;

|PROCESO tipo7; |TIPO 7;
 #0#5 = fec1; |PINTA #0#5;
 #0#6 = fec2; |PINTA #0#6;
|FPRC;

|CALCULO fechah; |TIPO 0;
  |SI #0#6 < #0#5;
      |MENAV mensa1;
      |ERROR;
  |FINSI;
|FCAL;

|| *********************************************************************
|PROCESO borrarlo;

 |SI #0#3 ! 3;                           || Seleccion de Tipo Anotacion
     |SI #0#3 ! #3#3; |LIBERA #3; |ACABA; |FINSI;
 |FINSI;
 |SI #0#4 ! "T";                         || Seleccion de Punteo
     |SI #0#4 = "S"; |Y #3#8 = " "; |LIBERA #3; |ACABA; |FINSI;
     |SI #0#4 = "N"; |Y #3#8 ! " "; |LIBERA #3; |ACABA; |FINSI;
 |FINSI;

 |BORRA 020#3a;
 |LIBERA #3;
|FPRC;

|DEFBUCLE borrar_a;
 #3#1;
 4;
 #0#0, 001, feini;
 #0#1, 999, fefin;
 be;
 NULL, borrarlo;
|FIN;

|| *********************************************************************

|PROCESO leelineas;
 swalg = 1;
 |ERROR10;
|FPRC;

|PROCESO borrar_cab;
 swalg = 0;
 |BUCLELIN 2leelineas#2;
 |SI swalg = 0;
     |BORRA 020#2a;
 |FINSI;
 |LIBERA #2;
|FPRC;

|DEFBUCLE borrar_c;
 #2#1;
 ;
 #0#0;
 #0#1;
 be;
 NULL, borrar_cab;
|FIN;


|PROCESO pase; |TIPO 3;

  feini = #0#5;
  fefin = #0#6;

  |BUCLE borrar_a;  ||Bucle para borrar Lineas
  |BUCLE borrar_c;  ||Repasar las cabeceras.

|FPRC;
