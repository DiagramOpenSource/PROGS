|FICHEROS;
     zconcili #100,MANTE;
     camaasil #1;
     caconccu #0;
     n43saldo #5;
     n43datos #11;
|FIN;

|VARIABLES;
    &entrada    = 1;
    &ext1       = "";
    &ext2       = "";
    &ext3       = "";
    &ext4       = "";
    &ext5       = "";
    &exf0       = "";
    &exf1       = @;
    &exf2       = @;
    &contador   = 0;
    &fichero    = "";
    &cuenta     = "";
    &digito     = 0;
    &saldoant   = 0;
    &nombre     = "";
    &asien1     = 0;
    &asien2     = 0;
    &docum      = 0;
    &fecha      = @;
    &SalActual  = 0;
    &TipoCuadre = "";
    sw          = 0;
    &eSwHay43   = 0;
    aAlfa       = "";
    &eSwMul     = 0;
|FIN;

|INCLUYE dscont_i;
|INCLUYE dsco08_i;

|PROCESO Tipo7_0; |TIPO 7;
||    |SI eSwHay43 = 0;
        aAlfa = " F2-Ext., F3-Asto, F4-Ext.Imp., F5-Diferencias, F6-Ext.Conc.";
||    |SINO;
||        aAlfa = " F2-Ext., F3-Asto, F4-E.Imp., F5-Dif., F6-E.Conc.,F7-Norma43";
||    |FINSI;

    |SI eSwMul = 0;
        aAlfa = " F2-Ext., F3-Asto, F4-Ext.Imp., F5-Diferencias, F6-Ext.Conc.";
    |SINO;
        aAlfa = " F2-Extracto, F3-Asiento, F4-Extr.Importe, F5-Diferencias";
    |FINSI;

    |SI #100#8 = " ";
        aAlfa = "    F12-Puntear," + aAlfa;
    |SINO;
        aAlfa = "    F12-Despuntear," + aAlfa;
    |FINSI;
    |MENSA aAlfa;
|FPRC;

|PROCESO LaCuenta;
         aCtaSe = #0#0;
         |SI eSwMul = 1;
             aCtaSe = eaCta08;
             |SI #100#12 < 2008;
                 aCtaSe = eaCta90;
             |FINSI;
         |FINSI;
         ext1 = aCtaSe;
         ext2 = #0#1;

         ext4 = enEmpresa;
         ext5 = #100#10;
|FPRC;

|PROCESO Tipo11; |TIPO 11;
     |SI FSalida < 9; |O FSalida > 15;
        |ACABA;
     |FINSI;

     dirfich0 = #100#11; |QBF dirfich0;

     |SI FSalida = 9;
         |LIBERA #100;
         |LEE 110#100=;
         |SI #100#8 = " ";
             #100#8 = "*";
             #0#7 = #0#7 + #100#6;
             #0#8 = #0#8 + #100#7;

             #0#14 = #0#14 -  #100#6;
             #0#15 = #0#15 -  #100#7;
         |SINO;
             #100#8 = " ";
             #0#7 = #0#7 - #100#6;
             #0#8 = #0#8 - #100#7;

             #0#14 = #0#14 +  #100#6;
             #0#15 = #0#15 +  #100#7;
         |FINSI;
         #0#3  = #0#7  - #0#8;
         #0#13 = #0#14 - #0#15;

         |PINTA #0#7;  |PINTA #0#8;  |PINTA #0#3;
         |PINTA #0#14; |PINTA #0#15; |PINTA #0#13;

         |PINTA #100#8;

         |GRABA 020#100a;
         |PTEC 809;
         |ACABA;
     |FINSI;

     |SI FSalida = 10;
         |HAZ LaCuenta;
         |SUB_EJECUTA_NP "caextrac";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI FSalida = 11;
         ext1   = #100#1;
         ext2   = #100#1;
         asien1 = 0;
         asien2 = 999999;
         docum  = #100#3;
         fecha  = #100#2;
         |SUB_EJECUTA_NP "caditrac";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI FSalida = 12;
         |HAZ LaCuenta;
         |SUB_EJECUTA_NP "caextrai";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI FSalida = 13;
         |HAZ LaCuenta;
         |SUB_EJECUTA_NP "caconci1";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI FSalida = 14; |Y eSwMul = 0;
         |HAZ LaCuenta;
         exf0 = #0#16;
         exf1 = #0#17;
         exf2 = #0#18;
         |SUB_EJECUTA_NP "caconexi";
         |ERROR;
         |ACABA;
     |FINSI;

/*
     |SI FSalida = 15; |Y eSwHay43 = 1;
         ext1 = #0#0;
         ext2 = #0#1;
         ext3 = #0#4;
         |SUB_EJECUTA_NP "n43zdato;Consulta";
         |ERROR;
         |ACABA;
     |FINSI;
*/
|FPRC;
