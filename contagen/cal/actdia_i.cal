||      Actualiza los saldos del diario.
|INCLUYE dscont_i;

|FICHEROS;
   camandia #10;
|FIN;


|PROCESO ActDiario;
   |ABRE #10;
   #camandia#0 = nDIARIO;
   |LEE 101#10=;
   |SI FSalida ! 0;
      |DDEFECTO #10;
      #camandia#0 = nDIARIO;
      |SI #camandia#0 = 0;
         #camandia#1 = "DIARIO DE APERTURA";
      |SINO;
         |SI #camandia#0 = 99;
            #camandia#1 = "DIARIO DE CIERRE";
         |SINO;
            #camandia#1 = "<DIARIO SIN DEFINIR>";
         |FINSI;
      |FINSI;
      |GRABA 020#10n;
      |LEE 121#10=;
   |FINSI;
   |SI DebeHaber = "D";
      #camandia#2 = #camandia#2 + MasMenos;        || debe
   |SINO;
      #camandia#3 = #camandia#3 + MasMenos;        || haber
   |FINSI;
   |GRABA 020#10a;
   |LIBERA #10;
   |CIERRA #10;
|FPRC;
