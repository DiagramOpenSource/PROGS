|FICHEROS;
   canempre #30;
|FIN;

|VARIABLES;
   aAlfa   = "";
   aAlfa1  = "";
   aChar   = "";
   aCR     = "";
   aLF     = "";
   nHandle = 0;
   aFich   = "";
   nCalc   = 0;
   nCmp    = 0;
   &ext1   = "";
|FIN;

|PROGRAMA;
   aCR = &13; aLF = &10;
   |DFICB aFich; |QBF aFich;
   aFich = aFich + "emp*.pdx";
   |_PDIR aFich;
   |PARA; |SI FSalida = 0; |HACIENDO;
      |XABRE "B", aFich, nHandle;
      |SI FSalida = 0;
         |DBASE aAlfa; |QBF aAlfa; aAlfa = aAlfa + "fich/";
         |PATH_DAT #canempre#aAlfa#;
         |ABRE #canempre;
         |DDEFECTO #canempre;
         aChar = ""; nCmp = 0; FSalida = 1;
         |PARA; |SI FSalida > 0; |Y aChar ! aLF; |HACIENDO;
            |SI aChar ! aCR;
               aAlfa1 = aAlfa1 + aChar;
            |SINO;
               |SI nCmp = 20;
                  |QBF aAlfa1;
                  aAlfa1 = (aAlfa1 + "          ") % 0110;
               |FINSI;
               #canempre#nCmp# = aAlfa1;
               nCmp = nCmp + 1; aAlfa1 = "";
               |XLEE nHandle, 1, aChar;
            |FINSI;
            |XLEE nHandle, 1, aChar;
         |SIGUE;
         |SALVA_DATOS #canempre;
         |LEE 000#canempre.=;
         |SI FSalida = 0;
            |REPON_DATOS #canempre;
            |GRABA 000#canempre.a;
         |SINO;
            |REPON_DATOS #canempre;
            |GRABA 000#canempre.n;
         |FINSI;
         |XCIERRA nHandle;
         |FBORRA aFich;
      |FINSI;
      |_SDIR aFich;
   |SIGUE;
|FPRO;
