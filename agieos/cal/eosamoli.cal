|FICHEROS;
   eosamoli #0;
   eosamorc #1;
   eosamorl #2;
   eosclien #3;
|FIN;

|VARIABLES;
   nAnyo1    = 0;
   nAnyo     = 0;
   sw        = 0;
   empresa   = 0;
   informe   = "eosamoli";
   &sw_print = 0;
   fecha     = @;
   alfa1     = "";
   nume1     = 0;
|FIN;

|INCLUYE i_consul;

|PROCESO aDefecto; |TIPO 7;
 fecha = ~;
 alfa1 = fecha;
 alfa1 = alfa1 % -102;
 nume1 = alfa1;
 |SI nume1 < 80;
     nume1 = 2000 + nume1;
 |SINO;
     nume1 = 1900 + nume1;
 |FINSI;
 #0#3 = nume1; |PINTA #0#3;
|FPRC;

|PROCESO dDefecto; |TIPO 0;
 #0#7 = #0#2; |PINTA #0#7;
 #0#8 = #0#3; |PINTA #0#8;
|FPRC;

|CALCULO imprimir;
 |SI #2#4 [ 80;
     nAnyo1 = 2000 + #2#4;
 |SINO;
     nAnyo1 = 1900 + #2#4;
 |FINSI;

 |SI nAnyo1 < #0#7;  |O nAnyo1 > #0#8;
     |ACABA;
 |FINSI;

 sw_print = 0;
 |PRINT;
|FCAL;

|CALCULO lineas;
|SI #1#1 [ 80;
    nAnyo = 2000 + #1#1;
|SINO;
    nAnyo = 1900 + #1#1;
|FINSI;

|SI nAnyo < #0#2;  |O nAnyo > #0#3;
    |ACABA;
|FINSI;

#3#0 = #1#0;
|LEE 040#3=;
|SI FSalida ! 0; |DDEFECTO #3; |FINSI;

|SI sw = 0; sw = 1; empresa = #1#0; |FINSI;
|SI empresa ! #1#0;
   |PIEINF;
   empresa = #1#0;
|FINSI;
sw_print = 1;
|PRINT;
|BUCLELIN 0imprimir#1;
sw_print = 2;
|PRINT;
|FCAL;

|DEFBUCLE eosamoli0_1;
#1#1;
;
#0#0, 80, #0#4;
#0#1, 99, #0#5;
e;
NULL,lineas;
|FIN;

|DEFBUCLE eosamoli0_2;
#1#1;
;
#0#0, 00, #0#4;
#0#1, 79, #0#5;
e;
NULL,lineas;
|FIN;

|CALCULO impre; |TIPO 3;
|IMPRE 0;
|SI FSalida = 0;
   |INFOR informe;
   |SI FSalida = 0;
       |ABRE #3;
       |BUCLE eosamoli0_1;  || Del A¤o 80 al 99
       |BUCLE eosamoli0_2;  || Del A¤o 00 al 79
       |PIEINF;
       |FININF;
       |CIERRA #3;
   |SINO;
       |MENAV "      No Existe informe.";
   |FINSI;
   |FINIMP;
|SINO;
   |MENAV "     Impresion Cancelada. ";
|FINSI;
|FCAL;
