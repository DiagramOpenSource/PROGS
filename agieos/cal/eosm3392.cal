|FICHEROS;
     eosm3392 #0;
     eosm4392 #1;
     eos39251 #90,MANTE;
     eos39252 #91,MANTE;
     eos39253 #92,MANTE;
     eos39254 #93,MANTE;
     eos39255 #94,MANTE;
     eos39256 #95,MANTE;
     eos39257 #96,MANTE;
     eos39258 #97,MANTE;
     eos39259 #98,MANTE;
     eos3925a #99;
     eos3925b #100,MANTE;
     eos3925c #101,MANTE;
     eos39260 #102,MANTE;
     eos39261 #103,MANTE;
     eos3925f #104,MANTE;
     eos3925g #105,MANTE;
     eos39262 #106,MANTE;

    eosma392  #997;
    eosm3390  #998;
    eosclien  #999;
|FIN;

|VARIABLES;
      &SwViene  = 0;
      &VEmpresa = 0;
      &VAnyo    = 0;
      &enEjer   = 0;

      Cont     = 0; Calc = 0;
      xxx      = 0;
      yyy      = 0;
      modo     = 0;
      opcion   = 0;
      opcion1  = 0;
      sw       = 0;
      sw1      = 0;
      panta    = 0;
      fondo    = "°";
      x        = 0;
      posici   = 0;
      horizo   = "";

      Desde    = 0;
      Hasta    = 0;
      Comodin  = "";
      Entrada  = 1;
      Cont1    = 0;
      Cont2    = 0;
      FEstado  = 0;


   {-1} menu   = "";
      menu1    = "1311";
      menu2    = "1";
      menu3    = "7";
      menu4    = "Datos Estadisticos                              ";
      menu5    = "Operaciones Realizadas en Regimen General       ";
      menu6    = "Resultados                                      ";
      menu7    = "Volumen de Operaciones                          ";
      menu8    = "Operaciones Especificas                         ";
      menu9    = "Prorratas                                       ";
      menu10   = "Activ.con regimenes de deduccion diferenciados  ";

   {-1} general   = "";
      general1    = "1750";
      general2    = "1";
      general3    = "2";
      general4    = "Base imponible y cuota  ";
      general5    = "Deducciones             ";
|FIN;

|PROCESO Tipo8; |TIPO 8;
|ABRE #eosm3392;
|ABRE #eosm4392;

|SI SwViene = 1;
    #0#0 = VEmpresa;
    #0#1 = VAnyo;
    |PTEC 802;
    |PTEC 802;
    |PTEC 802;
|FINSI;
|HAZ MiraSiPaso;
|FPRC;

|PROCESO Tipo9; |TIPO 9;
     |CIERRA #eosm3392;
     |CIERRA #eosm4392;
|FPRC;

|PROCESO i_archiv; |TIPO 7;
|SI #0#4 = "S";
    |MENAV "     Registro archivado, DESARCHIVELO";
    |PTEC 807;
|FINSI;
|FPRC;

|PROCESO acceso; |TIPO 3;

modo = (FEntrada / 100) ! 0;
|SI modo = 1; |O modo = 2; |HAZ pantalla; |FINSI;
|FPRC;

|PROCESO consulta; |TIPO 13;
   |CABEZA "Modelo 392";

|SI SwViene = 1;

    #0#0 = VEmpresa;   |PINTA #0#0;
    #0#1 = VAnyo;      |PINTA #0#1;
    |LIBERA #0;
    |LEE 101#0=;
|FINSI;

modo = (FEntrada / 100) ! 0;
|SI modo = 4;
    |PINTA #0#0;
    |PINTA #0#1;
    |PINTA #0#2;
    |PINTA #0#3;
    |PINTA #0#4;
    |HAZ pantalla;
    |SI SwViene = 1;
        |PTEC 807;
        |PTEC 807;
    |FINSI;
|FINSI;
|FPRC;

|PROCESO pantalla;
    #1#0 = #0#0;
    #1#1 = #0#1;
    |LEE 101#1=;
    |SI FSalida ! 0;
        |DDEFECTO #1;
        #1#0 = #0#0;
        #1#1 = #0#1;
        |GRABA 020#1b;
    |FINSI;

    opcion = 1;
    sw     = 0;

    |PARA; |SI sw = 0; |HACIENDO;
       |HAZ puntero1;
       menu2  = opcion;
       |MENUG menu;
       opcion = FSalida;

       |SI #0#1 [ 80;
           enEjer = 2000 + #0#1;
       |SINO;
           enEjer = 1900 + #0#1;
       |FINSI;

       |SI opcion ] 1; |Y opcion [ 7;
          |SI opcion = 1;
              |SI enEjer [ 2007;
                  |HAZ eos39251;
              |SINO;
                  |HAZ eos3925f;
              |FINSI;
          |FINSI;

          |SI opcion = 2; |HAZ general;  |FINSI;
          |SI opcion = 3; |HAZ eos39258; |FINSI;

          |SI opcion = 4;
              |SI #0#1 ] 6;  |Y #0#1 [ 79;
                  |HAZ eos39260;
              |SINO;
                  |HAZ eos39259;
              |FINSI;
          |FINSI;

          |SI opcion = 5;
              |SI enEjer [ 2005;
                  |HAZ eos3925a;
              |SINO;
                  |SI enEjer [ 2007;
                     |HAZ eos39261;
                  |SINO;
                     |HAZ eos39262;
                  |FINSI;
              |FINSI;
          |FINSI;

          |SI opcion = 6; |HAZ eos3925b; |FINSI;
          |SI opcion = 7; |HAZ eos3925c; |FINSI;
       |SINO;
          sw = 1;
       |FINSI;
    |SIGUE;

    |PINPA #0#0;

    |GRABA 020#1a;
|FPRC;

|PROCESO general;
|PUSHV 0501 2380;
sw1     = 0;
opcion1 = 1;
|PARA; |SI sw1 = 0; |HACIENDO;
   |HAZ puntero2;
   |PARA x = 16; |SI x [ 21; |HACIENDO x = x + 1;
       posici = (x * 100) + 80;
       |PINTA posici,fondo;
   |SIGUE;
   horizo = "";
   |PARA x = 1; |SI x [ 38; |HACIENDO x = x + 1;
       horizo = horizo + fondo;
   |SIGUE;
   |PINTA 2143,horizo;
   general2  = opcion1;
   |MENUG general;
   opcion1 = FSalida;
   |SI opcion1 ] 1; |Y opcion1 [ 2;
       |SI opcion1 = 1; |HAZ eos39252; |FINSI;
       |SI opcion1 = 2;
           |SI enEjer [ 2007;
               |HAZ eos39253;
           |SINO;
               |HAZ eos3925g;
           |FINSI;
       |FINSI;
   |SINO;
       sw1 = 1;
   |FINSI;
|SIGUE;
|POPV;
|FPRC;

|PROCESO puntero1;
|SI #0#17 ! " "; |O #0#23 ! "    ";
    menu4    = "Datos Estadisticos                             *";
|SINO;
    menu4    = "Datos Estadisticos                              ";
|FINSI;

|SI #0#75 ! 0; |O #0#128 ! 0;
    menu5    = "Operaciones Realizadas en Regimen General      *";
|SINO;
    menu5    = "Operaciones Realizadas en Regimen General       ";
|FINSI;

|SI #0#132 ! 0; |O #0#143 ! 0; |O #0#144 ! 0;
   menu6    = "Resultados                                     *";
|SINO;
   menu6    = "Resultados                                      ";
|FINSI;

|SI #0#155 ! 0;
    menu7    = "Volumen de Operaciones                         *";
|SINO;
    menu7    = "Volumen de Operaciones                          ";
|FINSI;

menu8    = "Operaciones Especificas                         ";
|SI #0#1 < 6;
    |SI #0#156 ! 0; |O #0#157 ! 0; |O #0#158 ! 0; |O #0#159 ! 0; |O #0#160 ! 0;
     |O #0#162 ! 0; |O #0#161 ! 0; |O #0#163 ! 0;
        menu8    = "Operaciones Especificas                        *";
    |FINSI;
|SINO;
    |SI #0#156 ! 0; |O #0#157 ! 0; |O #0#158 ! 0; |O #0#159 ! 0; |O #0#160 ! 0;
     |O #0#162 ! 0;
        menu8    = "Operaciones Especificas                        *";
    |FINSI;
|FINSI;

|SI #0#169 ! 0; |O #0#175 ! 0; |O #0#181 ! 0; |O #0#187 ! 0; |O #0#193 ! 0;
    menu9    = "Prorratas                                      *";
|SINO;
    menu9    = "Prorratas                                       ";
|FINSI;

|SI #0#210 ! 0; |O #0#227 ! 0; |O #0#244 ! 0;
    menu10  = "Activ.con regimenes de deduccion diferenciados *";
|SINO;
    menu10  = "Activ.con regimenes de deduccion diferenciados  ";
|FINSI;

|FPRC;

|PROCESO puntero2;
|SI #0#75 ! 0;
   general4    = "Base imponible y cuota *";
|SINO;
   general4    = "Base imponible y cuota  ";
|FINSI;

|SI #0#128 ! 0;
   general5    = "Deducciones            *";
|SINO;
   general5    = "Deducciones             ";
|FINSI;
|FPRC;

|PROCESO eos39251;
|PARA xxx = 5; |SI xxx [ 28; |HACIENDO xxx = xxx + 1;
      yyy    = xxx - 5;
      #90yyy = #0xxx;
|SIGUE;
#90#24 = #0#0;
#90#25 = #0#1;

|PUSHV 0501 2380;
|PINPA #0#90;
|PINDA #0#90;
|SI modo = 4; |PAUSA; |POPV; |ACABA; |FINSI;

|ENDATOS #1#90;
|SI FSalida = 0;
    |PARA xxx = 5; |SI xxx [ 28; |HACIENDO xxx = xxx + 1;
          yyy    = xxx - 5;
          #0xxx  = #90yyy;
    |SIGUE;
|FINSI;
|POPV;
|FPRC;

|PROCESO eos3925f;
|PARA xxx = 5; |SI xxx [ 28; |HACIENDO xxx = xxx + 1;
      yyy    = xxx - 5;
      #104yyy = #0xxx;
|SIGUE;
#104#24 = #0#0;
#104#25 = #0#1;
#104#26 = #1#2;
#104#27 = #1#3;
#104#28 = #1#4;
#104#29 = #1#5;
#104#30 = #1#6;
#104#31 = #1#7;


|PUSHV 0501 2380;
|PINPA #0#104;
|PINDA #0#104;
|SI modo = 4; |PAUSA; |POPV; |ACABA; |FINSI;

|ENDATOS #1#104;
|SI FSalida = 0;
    |PARA xxx = 5; |SI xxx [ 28; |HACIENDO xxx = xxx + 1;
          yyy    = xxx - 5;
          #0xxx  = #104yyy;
    |SIGUE;

    #1#2  = #104#26;
    #1#3  = #104#27;
    #1#4  = #104#28;
    #1#5  = #104#29;
    #1#6  = #104#30;
    #1#7  = #104#31;
|FINSI;
|POPV;
|FPRC;

|PROCESO eos39252;
  |PARA xxx = 29; |SI xxx [ 74; |HACIENDO xxx = xxx + 1;
        yyy    = xxx - 28;
        #91yyy = #0xxx;
  |SIGUE;

  || Total de bases

  #91#60  = #91#01 + #91#03 + #91#05;
  #91#61  = #91#07 + #91#09 + #91#11;
  #91#62  = #91#13;
  #91#63  = #91#15 + #91#17 + #91#19;
  #91#64  = #91#21 + #91#23 + #91#25;
  #91#65  = #91#27;
  #91#66  = #91#29;
  #91#67  = #91#31;

  #91#68  = #91#35 + #91#37 + #91#39 + #91#41;
  #91#69  = #91#43;
  #91#70  = #91#45;

  ||Total de Cuotas

  #91#71  = #91#02 + #91#04 + #91#06;
  #91#72  = #91#08 + #91#10 + #91#12;
  #91#73  = #91#14;
  #91#74  = #91#16 + #91#18 + #91#20;
  #91#75  = #91#22 + #91#24 + #91#26;
  #91#76  = #91#28;
  #91#77  = #91#30;
  #91#78  = #91#32;

  #91#79  = #91#36 + #91#38 + #91#40 + #91#42;
  #91#80  = #91#44;
  #91#81  = #91#46;

  #91#33  = #91#60 + #91#61 + #91#62 + #91#63 + #91#64 + #91#65 + #91#66 + #91#67;
  #91#34  = #91#71 + #91#72 + #91#73 + #91#74 + #91#75 + #91#76 + #91#77 + #91#78;
  #91#47  = #91#33 + #91#68 + #91#69 + #91#70;
  #91#48  = #91#34 + #91#79 + #91#80 + #91#81;

  |PUSHV 0501 2380;
  |PINPA #0#91;
  |PINDA #0#91;
  |SI modo = 4; |PAUSA; |POPV; |ACABA; |FINSI;

  |ENDATOS #1#91;
  |SI FSalida = 0;
      |PARA xxx = 29; |SI xxx [ 74; |HACIENDO xxx = xxx + 1;
           yyy   = xxx - 28;
           #0xxx = #91yyy;
      |SIGUE;

      #eosm3392#75 = #91#48;

      |HAZ Total98;
  |FINSI;
  |SI FSalida = -1; |POPV; |FINSI;
  |POPV;
|FPRC;

|PROCESO eos39253;
  |PARA Cont = 82; |SI Cont [ 122; |HACIENDO Cont = Cont + 8;
     yyy = (Cont - 82) / 8;
     #92yyy = #0Cont;
     yyy = yyy + 7;
     Cont = Cont + 1;
     #92yyy = #0Cont;
     Cont = Cont - 1;
  |SIGUE;

  Cont = 76;
  |PARA Cont1 = 1; |SI Cont1 [ 6; |HACIENDO Cont1 = Cont1 + 1;
     Calc = 57 + (2 * Cont1);
     |PARA Cont2 = 1; |SI Cont2 [ 6; |HACIENDO Cont2 = Cont2 + 1;
        yyy = Cont - Calc;
        #92yyy = #0Cont;
        Cont = Cont + 1;
     |SIGUE;
     Cont = Cont + 2;
  |SIGUE;

  #92#6 = #0#124; #92#13 = #0#125; #92#14 = #0#126; #92#15 = #0#127;
  #92#16 = #0#128;

  |PUSHV 0501 2380;

  |PINPA #0#92;
  |PINDA #0#92;
  |SI modo = 4; |PAUSA; |POPV; |ACABA; |FINSI;

  |ENDATOS #1#92;
  |SI FSalida = 0;
     |PARA Cont = 82; |SI Cont [ 122; |HACIENDO Cont = Cont + 8;
        yyy = (Cont - 82) / 8;
        #0Cont = #92yyy;
        yyy = yyy + 1;
        Cont = Cont + 1;
        #0Cont = #92yyy;
        Cont = Cont - 1;
     |SIGUE;

     Cont = 76;
     |PARA Cont1 = 1; |SI Cont1 [ 6; |HACIENDO Cont1 = Cont1 + 1;
        Calc = 57 + (2 * Cont1);
        |PARA Cont2 = 1; |SI Cont2 [ 6; |HACIENDO Cont2 = Cont2 + 1;
           yyy = Cont - Calc;
           #0Cont = #92yyy;
           Cont = Cont + 1;
        |SIGUE;
        Cont = Cont + 2;
     |SIGUE;
     #0#124 = #92#6; #0#125 = #92#13; #0#126 = #92#14; #0#127 = #92#15;
     #0#128 = #92#16;

     |HAZ Total98;
  |FINSI;
  |POPV;
|FPRC;

|PROCESO eos3925g;
     #105#22 = #0#76;  #105#23 = #0#77;
     #105#24 = #0#78;  #105#25 = #0#79;
     #105#26 = #0#80;  #105#27 = #0#81;
     #105#0  = #0#82;  #105#9  = #0#83;

     #105#28 = #1#8;   #105#29 = #1#9;
     #105#30 = #1#10;  #105#31 = #1#11;
     #105#32 = #1#12;  #105#33 = #1#13;
     #105#1  = #1#14;  #105#10 = #1#15;

     #105#34 = #1#16;  #105#35 = #1#17;
     #105#36 = #1#18;  #105#37 = #1#19;
     #105#38 = #1#20;  #105#39 = #1#21;
     #105#2  = #1#22;  #105#11 = #1#23;

     #105#40 = #0#84;  #105#41 = #0#85;
     #105#42 = #0#86;  #105#43 = #0#87;
     #105#44 = #0#88;  #105#45 = #0#89;
     #105#3  = #0#90;  #105#12 = #0#91;

     #105#46 = #0#92;  #105#47 = #0#93;
     #105#48 = #0#94;  #105#49 = #0#95;
     #105#50 = #0#96;  #105#51 = #0#97;
     #105#4  = #0#98;  #105#13 = #0#99;

     #105#52 = #0#100; #105#53 = #0#101;
     #105#54 = #0#102; #105#55 = #0#103;
     #105#56 = #0#104; #105#57 = #0#105;
     #105#5  = #0#106; #105#14 = #0#107;

     #105#58 = #0#108; #105#59 = #0#109;
     #105#60 = #0#110; #105#61 = #0#111;
     #105#62 = #0#112; #105#63 = #0#113;
     #105#6  = #0#114; #105#15 = #0#115;

     #105#64 = #0#116; #105#65 = #0#117;
     #105#66 = #0#118; #105#67 = #0#119;
     #105#68 = #0#120; #105#69 = #0#121;
     #105#7  = #0#122; #105#16 = #0#123;

     #105#8  = #0#124; #105#17 = #0#125;
                       #105#18 = #0#126;
                       #105#19 = #0#127;
                       #105#20 = #1#24;
                       #105#21 = #0#128;

     |PUSHV 0501 2380;

     |PINPA #0#105;
     |PINDA #0#105;
     |SI modo = 4; |PAUSA; |POPV; |ACABA; |FINSI;

     |ENDATOS #1#105;
     |SI FSalida = 0;
         #0#76 = #105#22;  #0#77 = #105#23;
         #0#78 = #105#24;  #0#79 = #105#25;
         #0#80 = #105#26;  #0#81 = #105#27;
         #0#82 = #105#0;   #0#83 = #105#9;

         #1#8  = #105#28;  #1#9  = #105#29;
         #1#10 = #105#30;  #1#11 = #105#31;
         #1#12 = #105#32;  #1#13 = #105#33;
         #1#14 = #105#1;   #1#15 = #105#10;

         #1#16 = #105#34;  #1#17 = #105#35;
         #1#18 = #105#36;  #1#19 = #105#37;
         #1#20 = #105#38;  #1#21 = #105#39;
         #1#22 = #105#2;   #1#23 = #105#11;

         #0#84 = #105#40;  #0#85 = #105#41;
         #0#86 = #105#42;  #0#87 = #105#43;
         #0#88 = #105#44;  #0#89 = #105#45;
         #0#90 = #105#3;   #0#91 = #105#12;

         #0#92 = #105#46;  #0#93 = #105#47;
         #0#94 = #105#48;  #0#95 = #105#49;
         #0#96 = #105#50;  #0#97 = #105#51;
         #0#98 = #105#4;   #0#99 = #105#13;

         #0#100 = #105#52; #0#101 = #105#53;
         #0#102 = #105#54; #0#103 = #105#55;
         #0#104 = #105#56; #0#105 = #105#57;
         #0#106 = #105#5;  #0#107 = #105#14;

         #0#108 = #105#58; #0#109 = #105#59;
         #0#110 = #105#60; #0#111 = #105#61;
         #0#112 = #105#62; #0#113 = #105#63;
         #0#114 = #105#6;  #0#115 = #105#15;

         #0#116 = #105#64; #0#117 = #105#65;
         #0#118 = #105#66; #0#119 = #105#67;
         #0#120 = #105#68; #0#121 = #105#69;
         #0#122 = #105#7;  #0#123 = #105#16;

         #0#124 = #105#8;  #0#125 = #105#17;
                           #0#126 = #105#18;
                           #0#127 = #105#19;
                           #1#24  = #105#20;
                           #0#128 = #105#21;

        |HAZ Total98;
     |FINSI;
  |POPV;
|FPRC;

|PROCESO eos39258;
|PARA xxx = 130; |SI xxx [ 144; |HACIENDO xxx = xxx + 1;
      yyy    = xxx - 130;
      #97yyy = #0xxx;
|SIGUE;
#97#0 = #0#129;

|PUSHV 0501 2380;

|PINPA #0#97;
|PINDA #0#97;
|SI modo = 4; |PAUSA; |POPV; |ACABA; |FINSI;

|ENDATOS #1#97;
|SI FSalida = 0;
    |PARA xxx = 130; |SI xxx [ 144; |HACIENDO xxx = xxx + 1;
          yyy    = xxx - 130;
          #0xxx  = #97yyy;
    |SIGUE;

    |HAZ Total98;
|FINSI;
|POPV;
|FPRC;

|PROCESO eos39259;

   |PUSHV 0501 2380;

   |PARA xxx = 145; |SI xxx [ 155; |HACIENDO xxx = xxx + 1;
      yyy    = xxx - 145;
      #98yyy = #0xxx;
   |SIGUE;
   |PINPA #0#98;
   |PINDA #0#98;
   |SI modo = 4; |PAUSA; |POPV; |ACABA; |FINSI;

   |ENDATOS #1#98;
   |SI FSalida = 0;
       |PARA xxx = 145; |SI xxx [ 155; |HACIENDO xxx = xxx + 1;
          yyy    = xxx - 145;
          #0xxx  = #98yyy;
       |SIGUE;

       |HAZ Total98;
   |FINSI;

   |POPV;
|FPRC;

|PROCESO eos39260;
     |PUSHV 0501 2380;

     #102#0  = #0#145;
     #102#1  = #0#150;
     #102#2  = #0#151;
     #102#3  = #0#152;
     #102#4  = #0#163;
     #102#5  = #0#161;
     #102#6  = #0#149;
     #102#7  = #0#146;
     #102#8  = #0#147;
     #102#9  = #0#153;
     #102#10 = #0#154;
     #102#11 = #0#155;

     |PINPA #0#102;
     |PINDA #0#102;
     |SI modo = 4; |PAUSA; |POPV; |ACABA; |FINSI;

     |ENDATOS #1#102;
     |SI FSalida = 0;
         #0#145 = #102#0;
         #0#150 = #102#1;
         #0#151 = #102#2;
         #0#152 = #102#3;
         #0#163 = #102#4;
         #0#161 = #102#5;
         #0#149 = #102#6;
         #0#146 = #102#7;
         #0#147 = #102#8;
         #0#153 = #102#9;
         #0#154 = #102#10;
         #0#155 = #102#11;

         |HAZ Total98;
     |FINSI;

     |POPV;
|FPRC;

|PROCESO eos3925a;
|PARA xxx = 156; |SI xxx [ 163; |HACIENDO xxx = xxx + 1;
      yyy    = xxx - 156;
      #99yyy = #0xxx;
|SIGUE;

|PUSHV 0501 2380;

|PINPA #0#99;
|PINDA #0#99;
|SI modo = 4; |PAUSA; |POPV; |ACABA; |FINSI;

|ENDATOS #1#99;
|SI FSalida = 0;
    |PARA xxx = 156; |SI xxx [ 163; |HACIENDO xxx = xxx + 1;
          yyy    = xxx - 156;
          #0xxx  = #99yyy;
    |SIGUE;

    |HAZ Total98;
|FINSI;

|POPV;
|FPRC;

|PROCESO eos39261;
     #103#0  = #0#156;
     #103#1  = #0#157;
     #103#2  = #0#158;
     #103#3  = #0#159;
     #103#4  = #0#160;
     #103#5  = #0#162;

     |PUSHV 0501 2380;

     |PINPA #0#103;
     |PINDA #0#103;
     |SI modo = 4; |PAUSA; |POPV; |ACABA; |FINSI;

     |ENDATOS #1#103;
     |SI FSalida = 0;
         #0#156 = #103#0;
         #0#157 = #103#1;
         #0#158 = #103#2;
         #0#159 = #103#3;
         #0#160 = #103#4;
         #0#162 = #103#5;

         |HAZ Total98;
     |FINSI;

     |POPV;
|FPRC;

|PROCESO eos39262;
     #106#0  = #0#156;
     #106#1  = #0#157;
     #106#2  = #0#158;
     #106#3  = #0#159;
     #106#4  = #0#160;
     #106#5  = #0#162;
     #106#6  = #1#25;

     |PUSHV 0501 2380;

     |PINPA #0#106;
     |PINDA #0#106;
     |SI modo = 4; |PAUSA; |POPV; |ACABA; |FINSI;

     |ENDATOS #1#106;
     |SI FSalida = 0;
         #0#156 = #106#0;
         #0#157 = #106#1;
         #0#158 = #106#2;
         #0#159 = #106#3;
         #0#160 = #106#4;
         #0#162 = #106#5;
         #1#25  = #106#6;

         |HAZ Total98;
     |FINSI;

     |POPV;
|FPRC;

|PROCESO eos3925b;

     || Prorrata 1
     #100#00 = #0#164;  #100#01 = #0#165;  #100#02 = #0#166;
     #100#03 = #0#167;  #100#04 = #0#168;  #100#05 = #0#169;

     || Prorrata 2
     #100#06 = #0#170;  #100#07 = #0#171;  #100#08 = #0#172;
     #100#09 = #0#173;  #100#10 = #0#174;  #100#11 = #0#175;

     || Prorrata 3
     #100#12 = #0#176;  #100#13 = #0#177;  #100#14 = #0#178;
     #100#15 = #0#179;  #100#16 = #0#180;  #100#17 = #0#181;

     || Prorrata 4
     #100#18 = #0#182;  #100#19 = #0#183;  #100#20 = #0#184;
     #100#21 = #0#185;  #100#22 = #0#186;  #100#23 = #0#187;

     || Prorrata 5
     #100#24 = #0#188;  #100#25 = #0#189;  #100#26 = #0#190;
     #100#27 = #0#191;  #100#28 = #0#192;  #100#29 = #0#193;

     |PUSHV 0501 2380;

     |PINPA #0#100; |PINDA #0#100;
     |SI modo = 4; |PAUSA; |POPV; |ACABA; |FINSI;

     |ENDATOS #1#100;
     |SI FSalida = 0;

         || Prorrata 1
         #0#164 = #100#00;  #0#165 = #100#01;  #0#166 = #100#02;
         #0#167 = #100#03;  #0#168 = #100#04;  #0#169 = #100#05;

         || Prorrata 2
         #0#170 = #100#06;  #0#171 = #100#07;  #0#172 = #100#08;
         #0#173 = #100#09;  #0#174 = #100#10;  #0#175 = #100#11;

         || Prorrata 3
         #0#176 = #100#12;  #0#177 = #100#13;  #0#178 = #100#14;
         #0#179 = #100#15;  #0#180 = #100#16;  #0#181 = #100#17;

         || Prorrata 4
         #0#182 = #100#18;  #0#183 = #100#19;  #0#184 = #100#20;
         #0#185 = #100#21;  #0#186 = #100#22;  #0#187 = #100#23;

         || Prorrata 5
         #0#188 = #100#24;  #0#189 = #100#25;  #0#190 = #100#26;
         #0#191 = #100#27;  #0#192 = #100#28;  #0#193 = #100#29;

         |HAZ Total98;
     |FINSI;
     |POPV;
|FPRC;

|PROCESO eos3925c;

     |PARA xxx = 194; |SI xxx [ 244; |HACIENDO xxx = xxx + 1;
        yyy    = xxx - 194;
        #101yyy = #0xxx;
     |SIGUE;

     |PUSHV 0501 2380;

     |PINPA #0#101;
     |PINDA #0#101;
     |SI modo = 4; |PAUSA; |POPV; |ACABA; |FINSI;

     |ENDATOS #1#101;
     |SI FSalida = 0;
        |PARA xxx = 194; |SI xxx [ 244; |HACIENDO xxx = xxx + 1;
           yyy    = xxx - 194;
           #0xxx = #101yyy;
        |SIGUE;

        |HAZ Total98;
     |FINSI;
     |POPV;
|FPRC;

|PROCESO Total98;

 ||* Regimen general
 ||  Base imponible y cuota
     #0#62  = #0#30 + #0#032 + #0#034 + #0#036 + #0#038 + #0#040 + #0#042;
     #0#62  = #0#62 + #0#044 + #0#046 + #0#048 + #0#050 + #0#052 + #0#054;
     #0#62  = #0#62 + #0#056 + #0#058 + #0#060;

     #0#75  = #0#062 + #0#064 + #0#066 + #0#068 + #0#070 + #0#072 + #0#074;

 ||  Deducciones
     #0#82 = #0#76 + #0#78 + #0#80;
     #0#83 = #0#77 + #0#79 + #0#81;
     #0#90 = #0#84 + #0#86 + #0#88;
     #0#91 = #0#85 + #0#87 + #0#89;
     #0#98 = #0#92 + #0#94 + #0#96;
     #0#99 = #0#93 + #0#95 + #0#97;
     #0#106 = #0#100 + #0#102 + #0#104;
     #0#107 = #0#101 + #0#103 + #0#105;
     #0#114 = #0#108 + #0#110 + #0#112;
     #0#115 = #0#109 + #0#111 + #0#113;
     #0#122 = #0#116 + #0#118 + #0#120;
     #0#123 = #0#117 + #0#119 + #0#121;

     #0#128 = #0#83  + #0#91 + #0#99 + #0#107 + #0#115 + #0#123 + #0#125;
     #0#128 = #0#128 + #0#126 + #0#127 + #1#15 + #1#23 + #1#24;

     #0#129 = #0#75 - #0#128;

 ||  Liquidacion anual
     #0#130 = #0#129;
     #0#132 = #0#130 - #0#131;

 || Administraciones
     #0#138 = #0#130 % #0#133;
     #0#140 = #0#138 - #0#139;

 ||* Volumen de las operaciones
 ||  Operaciones realizadas en el ejercicio
     |SI #0#1 [ 5;
         #0#155 = #0#145 + #0#146 + #0#147 + #0#148 + #0#149 + #0#150 + #0#151;
         #0#155 = #0#155 + #0#152 - #0#153 - #0#154;
     |SINO;
         #0#155 = #0#145 + #0#150 + #0#151 + #0#152 + #0#163 + #0#161 + #0#149;
         #0#155 = #0#155 + #0#146 + #0#147 - #0#153 - #0#154;
     |FINSI;

 ||* Actividades con regimenes de deduccion diferenciados
     #0#210 = #0#195 + #0#197 + #0#199 + #0#201 + #0#203 + #0#205 + #0#207;
     #0#210 = #0#210 + #0#208 + #0#209;

     #0#227 = #0#212 + #0#214 + #0#216 + #0#218 + #0#220 + #0#222 + #0#224;
     #0#227 = #0#227 + #0#225 + #0#226;

     #0#244 = #0#229 + #0#231 + #0#233 + #0#235 + #0#237 + #0#239 + #0#241;
     #0#244 = #0#244 + #0#242 + #0#243;
|FPRC;

|PROCESO PasaDatos;
   #eosclien#0 = #eosm3390#0;
   |LEE 000#eosclien.=;
   |SI FSalida = 0;
      |SI #eosclien#61 ! "    ";
         #eosma392#0 = #eosm3390#0;
         #eosma392#1 = #eosm3390#1;
         |LEE 000#eosma392.=;
         FEstado = FSalida;

         |PARA Cont = 0; |SI Cont [ 28; |HACIENDO Cont = Cont + 1;
            #eosm3392#Cont# = #eosm3390#Cont#;
         |SIGUE;
         |PARA Cont = 29; |SI Cont [ 50; |HACIENDO Cont = Cont + 1;
            Calc = Cont + 4;
            #eosm3392#Cont# = #eosm3390#Calc#;
         |SIGUE;
         #eosm3392#51 = #eosm3390#176; #eosm3392#52 = #eosm3390#177;
         #eosm3392#53 = #eosm3390#178; #eosm3392#54 = #eosm3390#179;
         #eosm3392#55 = #eosm3390#180; #eosm3392#56 = #eosm3390#181;
         #eosm3392#57 = #eosm3390#55;  #eosm3392#58 = #eosm3390#56;
         #eosm3392#59 = #eosm3390#182; #eosm3392#60 = #eosm3390#183;
         #eosm3392#61 = #eosm3390#57;  #eosm3392#62 = #eosm3390#58;

         |PARA Cont = 63; |SI Cont [ 68; |HACIENDO Cont = Cont + 1;
            Calc = Cont - 4;
            #eosm3392#Cont# = #eosm3390#Calc#;
         |SIGUE;

         #eosm3392#69 = #eosm3390#184;  #eosm3392#70 = #eosm3390#185;
         #eosm3392#71 = #eosm3390#65;   #eosm3392#72 = #eosm3390#66;
         #eosm3392#73 = #eosm3390#186;  #eosm3392#74 = #eosm3390#187;
         #eosm3392#75 = #eosm3390#67;

         |PARA Cont = 76; |SI Cont [ 81; |HACIENDO Cont = Cont + 1;
            Calc = Cont - 74;
            #eosm3392#Cont# = #eosma392#Calc#;
         |SIGUE;
         #eosm3392#82 = #eosm3392#76 + #eosm3392#78 + #eosm3392#80;
         #eosm3392#83 = #eosm3392#77 + #eosm3392#79 + #eosm3392#81;
         |SI #eosm3392#82 = 0; |Y #eosm3390#188 ! 0;
            #eosm3392#76 = #eosm3390#188; #eosm3392#77 = #eosm3390#68;
            #eosm3392#82 = #eosm3392#76 + #eosm3392#78 + #eosm3392#80;
            #eosm3392#83 = #eosm3392#77 + #eosm3392#79 + #eosm3392#81;
         |FINSI;

         |PARA Cont = 84; |SI Cont [ 89; |HACIENDO Cont = Cont + 1;
            Calc = Cont - 76;
            #eosm3392#Cont# = #eosma392#Calc#;
         |SIGUE;
         #eosm3392#90 = #eosm3392#84 + #eosm3392#86 + #eosm3392#88;
         #eosm3392#91 = #eosm3392#85 + #eosm3392#87 + #eosm3392#89;
         |SI #eosm3392#90 = 0; |Y #eosm3390#189 ! 0;
            #eosm3392#84 = #eosm3390#189; #eosm3392#85 = #eosm3390#69;
            #eosm3392#90 = #eosm3392#84 + #eosm3392#86 + #eosm3392#88;
            #eosm3392#91 = #eosm3392#85 + #eosm3392#87 + #eosm3392#89;
         |FINSI;

         |PARA Cont = 92; |SI Cont [ 97; |HACIENDO Cont = Cont + 1;
            Calc = Cont - 78;
            #eosm3392#Cont# = #eosma392#Calc#;
         |SIGUE;
         #eosm3392#98 = #eosm3392#92 + #eosm3392#94 + #eosm3392#96;
         #eosm3392#99 = #eosm3392#93 + #eosm3392#95 + #eosm3392#97;
         |SI #eosm3392#98 = 0; |Y #eosm3390#190 ! 0;
            #eosm3392#92 = #eosm3390#190; #eosm3392#93 = #eosm3390#70;
            #eosm3392#98 = #eosm3392#92 + #eosm3392#94 + #eosm3392#96;
            #eosm3392#99 = #eosm3392#93 + #eosm3392#95 + #eosm3392#97;
         |FINSI;

         |PARA Cont = 100; |SI Cont [ 105; |HACIENDO Cont = Cont + 1;
            Calc = Cont - 80;
            #eosm3392#Cont# = #eosma392#Calc#;
         |SIGUE;
         #eosm3392#106 = #eosm3392#100 + #eosm3392#102 + #eosm3392#104;
         #eosm3392#107 = #eosm3392#101 + #eosm3392#103 + #eosm3392#105;
         |SI #eosm3392#106 = 0; |Y #eosm3390#191 ! 0;
            #eosm3392#100 = #eosm3390#191;  #eosm3392#101 = #eosm3390#71;
            #eosm3392#106 = #eosm3392#100 + #eosm3392#102 + #eosm3392#104;
            #eosm3392#107 = #eosm3392#101 + #eosm3392#103 + #eosm3392#105;
         |FINSI;

         |PARA Cont = 108; |SI Cont [ 113; |HACIENDO Cont = Cont + 1;
            Calc = Cont - 82;
            #eosm3392#Cont# = #eosma392#Calc#;
         |SIGUE;
         #eosm3392#114 = #eosm3392#108 + #eosm3392#110 + #eosm3392#112;
         #eosm3392#115 = #eosm3392#109 + #eosm3392#111 + #eosm3392#113;
         |SI #eosm3392#114 = 0; |Y #eosm3390#192 ! 0;
            #eosm3392#108 = #eosm3390#192;  #eosm3392#109 = #eosm3390#72;
            #eosm3392#114 = #eosm3392#108 + #eosm3392#110 + #eosm3392#112;
            #eosm3392#115 = #eosm3392#109 + #eosm3392#111 + #eosm3392#113;
         |FINSI;

         |PARA Cont = 116; |SI Cont [ 121; |HACIENDO Cont = Cont + 1;
            Calc = Cont - 84;
            #eosm3392#Cont# = #eosma392#Calc#;
         |SIGUE;
         #eosm3392#122 = #eosm3392#116 + #eosm3392#118 + #eosm3392#120;
         #eosm3392#123 = #eosm3392#117 + #eosm3392#119 + #eosm3392#121;
         |SI #eosm3392#122 = 0; |Y #eosm3390#193 ! 0;
            #eosm3392#116 = #eosm3390#193;  #eosm3392#117 = #eosm3390#73;
            #eosm3392#122 = #eosm3392#116 + #eosm3392#118 + #eosm3392#120;
            #eosm3392#123 = #eosm3392#117 + #eosm3392#119 + #eosm3392#121;
         |FINSI;

         #eosm3392#124 = #eosm3390#194;  #eosm3392#125 = #eosm3390#74;
         #eosm3392#126 = #eosm3390#195;  #eosm3392#127 = #eosm3390#75;

         #eosm3392#128 = #eosm3392#83  + #eosm3392#91  + #eosm3392#99;
         #eosm3392#128 = #eosm3392#128 + #eosm3392#107 + #eosm3392#115;
         #eosm3392#128 = #eosm3392#128 + #eosm3392#123 + #eosm3392#125;
         #eosm3392#128 = #eosm3392#128 + #eosm3392#126 + #eosm3392#127;

         #eosm3392#129 = #eosm3392#75 - #eosm3392#128;

         #eosm3392#130 = #eosm3392#129;
         #eosm3392#131 = #eosm3390#147;
         #eosm3392#132 = #eosm3392#130 - #eosm3392#131;

         |PARA Cont = 133; |SI Cont [ 144; |HACIENDO Cont = Cont + 1;
            Calc = Cont + 16 ;
            #eosm3392#Cont# = #eosm3390#Calc#;
         |SIGUE;

         #eosm3392#145 = #eosma392#38;  #eosm3392#146 = #eosma392#39;
         #eosm3392#147 = #eosma392#40;  #eosm3392#148 = #eosma392#41;
         #eosm3392#149 = #eosm3390#164; #eosm3392#150 = #eosm3390#165;
         #eosm3392#151 = #eosm3390#166; #eosm3392#152 = #eosm3390#167;
         #eosm3392#153 = #eosm3390#168; #eosm3392#154 = #eosm3390#169;

         |PARA Cont = 145; |SI Cont [ 154; |HACIENDO Cont = Cont + 1;
            #eosm3392#155 = #eosm3392#155 + #eosm3392#Cont#;
         |SIGUE;

         #eosm3392#156 = #eosma392#42;  #eosm3392#157 = #eosm3390#171;
         #eosm3392#158 = #eosma392#43;  #eosm3392#159 = #eosma392#44;
         #eosm3392#160 = #eosm3390#172; #eosm3392#161 = #eosm3390#173;
         #eosm3392#162 = #eosm3390#174; #eosm3392#163 = #eosm3390#175;

         |PARA Cont = 164; |SI Cont [ 244; |HACIENDO Cont = Cont + 1;
            Calc = Cont - 119 ;
            #eosm3392#Cont# = #eosma392#Calc#;
         |SIGUE;

         |GRABA 020#0n;
         |LIBERA #0;

         |BORRA 020#eosm3390.a;
         |SI FEstado = 0; |BORRA 020#eosma392.a; |FINSI;
      |FINSI;
   |FINSI;
   |LIBERA #eosm3390;
|FPRC;

|DEFBUCLE PasaDatos;
#eosm3390#1;
;
INICIO;
FINAL;
be;
NULL,PasaDatos;
|FIN;

|PROCESO MiraSiPaso;
   |ABRE #eosm3390; |ABRE #eosm3392; |ABRE #eosma392; |ABRE #eosclien;
   |LEE 000#0p;
   |SI FSalida ! 0;
      |LEE 000#eosm3390.p;
      |SI FSalida = 0;
         |BUCLE PasaDatos;
      |FINSI;
   |FINSI;
   |CIERRA #eosclien; |CIERRA #eosma392; |CIERRA #eosm3392; |CIERRA #eosm3390;
|FPRC;

|PROCESO Ejercicio
    |SI #0#1 [ 80;
        enEjer = 2000 + #0#1;
    |SINO;
        enEjer = 1900 + #0#1;
    |FINSI;

    |SI enEjer ] 2009;
        |MENAV "0000Modelo desactivado solo hasta el 2008.";
        |ERROR;
    |FINSI;
|FPRC;
