|FICHEROS;
   eoszcdir #10;
   eoscabve #0;
   eoscabco #1;
|FIN;

|VARIABLES;
   cod_emp    = "";
   cod_any    = "";
   datos      = "";
   contenido  = "";
   handle     = "";
   directorio = "";
   fichero    = "";
   final      = "";
|FIN;

|PROCESO graba_ventas;
cod_emp = #0#0;
cod_emp = ("00000" + cod_emp) % -105;

cod_any = #0#4;
cod_any = ("00" + cod_any) % -102;

datos   = "v" + cod_emp + cod_any;

contenido = handle + " " + datos + final;
|FGRABA contenido;

contenido = handle + " Ventas  : " + cod_emp + "  " + cod_any + final;
|FGRABA contenido;

contenido = handle + "  " + final;
|FGRABA contenido;

contenido = handle + " 20" + final;
|FGRABA contenido;

contenido = handle + " 1" + final;
|FGRABA contenido;
|FPRC;

|PROCESO graba_compras;
cod_emp = #1#0;
cod_emp = ("00000" + cod_emp) % -105;

cod_any = #1#4;
cod_any = ("00" + cod_any) % -102;

datos   = "c" + cod_emp + cod_any;

contenido = handle + " " + datos + final;
|FGRABA contenido;

contenido = handle + " Compras : " + cod_emp + "  " + cod_any + final;
|FGRABA contenido;

contenido = handle + "  " + final;
|FGRABA contenido;

contenido = handle + " 20" + final;
|FGRABA contenido;

contenido = handle + " 1" + final;
|FGRABA contenido;
|FPRC;

|DEFBUCLE eoscabve;
#0#1;
;
#10#0, #10#2;
#10#1, #10#3;
e;
NULL, graba_ventas;
|FIN;

|DEFBUCLE eoscabco;
#1#1;
;
#10#0, #10#2;
#10#1, #10#3;
e;
NULL, graba_compras;
|FIN;

|PROCESO tipo_3; |TIPO 3;
final = "";
|DFICE directorio;
fichero = "wt  " + directorio + "agieosl.dir";
|QBF fichero;

|FABRE fichero;
handle = FSalida;

contenido = handle + " eoslinve" + final;
|FGRABA contenido;

contenido = handle + " Lineas Libros" + final;
|FGRABA contenido;

contenido = handle + " " + final;
|FGRABA contenido;

contenido = handle + " 20" + final;
|FGRABA contenido;

contenido = handle + " 1" + final;
|FGRABA contenido;

|SI FSalida ] 0;
    |SI #10#4 = "D";
        |BUCLE eoscabve;
        |BUCLE eoscabco;
    |FINSI;
    |SI #10#4 = "C"; |BUCLE eoscabco; |FINSI;
    |SI #10#4 = "V"; |BUCLE eoscabve; |FINSI;
|FINSI;

contenido = handle + " eoslinve" + final;
|FGRABA contenido;

contenido = handle + " Lineas Libros" + final;
|FGRABA contenido;

contenido = handle + " " + final;
|FGRABA contenido;

contenido = handle + " 20" + final;
|FGRABA contenido;

contenido = handle + " 1" + final;
|FGRABA contenido;

FSalida = handle;
|FCIERRA FSalida;
|FPRC;
