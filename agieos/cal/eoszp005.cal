|FICHEROS;
    eoszp005 #0;
    eosm3130 #2;
    eosm1300 #3;
    eosm1303 #33;
    eosma330 #5;
    eosm0015 #6;
    eosclien #10;
    eosm0020 #11;
    eosm0019 #14;
|FIN;

|VARIABLES;
    fecha   = @;
    anyo_a  = "";
    d_clien = 0;
    h_clien = 0;
    periodo = 0;
    anyo    = 0;
    xxx     = 0;
    yyy     = 0;
    zzz     = 0;
|FIN;

|INCLUYE i_consul;

|PROCESO el_13198;
  #0#04 = #11#7;
  #0#05 = #11#14;
  #0#06 = #11#21;
  #0#07 = #11#28;
  #0#08 = #11#35;
  #0#09 = #11#8;
  #0#10 = #11#15;
  #0#11 = #11#22;
  #0#12 = #11#29;
  #0#13 = #11#36;
  #0#14 = #11#11;
  #0#15 = #11#18;
  #0#16 = #11#25;
  #0#17 = #11#32;
  #0#18 = #11#39;
  #0#19 = 0;
  #0#20 = 0;
  #0#21 = 0;
  #0#22 = #11#43;
  #0#23 = #11#44;
  #0#24 = #11#41 + #11#45;
  #0#25 = #11#47;
|FPRC;

|DEFBUCLE eosm0020;
  #11#1;
  ;
  #0#0, #0#3, #0#2;
  #0#0, #0#3, #0#2;
  ;
  NULL, el_13198;
|FIN;

|PROCESO el_130;
#0#26 = #0#26 + (#2#8  + #2#11);
#0#27 = #0#27 + (#2#14 + #2#17);
#0#28 = #0#28 +  #2#18;
#0#29 = #0#29 +  #2#19;
#0#30 = #0#30 +  #2#21;
#0#31 = #0#31 +  #2#26;
#0#32 = #0#32 +  #2#27;
#0#33 = #0#33 +  #2#28;
#0#34 = #0#34 +  #2#25;
#0#35 = #0#35 +  #2#30;
#0#36 = #0#36 +  #2#31;
#0#37 = #0#37 +  #2#36;
#0#38 = #0#38 +  #2#29;
|FPRC;

|DEFBUCLE eosm3130;
#2#1;
;
#0#0, 0, #0#2, #0#3;
#0#0, 9, #0#2, #0#3;
;
NULL, el_130;
|FIN;

|PROCESO el_300;
#0#39 = #0#39 + #3#20;
#0#40 = #0#40 + #3#25;
#0#41 = #0#41 + #3#26;
#0#42 = #0#42 + (#3#33 - (#3#32 + #3#31));

|PARA xxx = 6; |SI xxx [ 12; |HACIENDO xxx = xxx + 3;
    yyy = xxx - 1;
    zzz = xxx + 1;

    |SI #3xxx = #0#63; |O #3xxx = #0#64; |O #3xxx = #0#65;
        |SI #3xxx = #0#63;
            #0#69 = #0#69 + #3yyy;
            #0#76 = #0#76 + #3zzz;
        |FINSI;

        |SI #3xxx = #0#64;
            #0#70 = #0#70 + #3yyy;
            #0#77 = #0#77 + #3zzz;
        |FINSI;

        |SI #3xxx = #0#65;
            #0#71 = #0#71 + #3yyy;
            #0#78 = #0#78 + #3zzz;
        |FINSI;
    |SINO;
        |SI #0#63 = 0;
            #0#63 = #3xxx;
            #0#69 = #3yyy;
            #0#76 = #3zzz;
        |SINO;
            |SI #0#64 = 0;
                #0#64 = #3xxx;
                #0#70 = #3yyy;
                #0#77 = #3zzz;
            |SINO;
                |SI #0#65 = 0;
                    #0#65 = #3xxx;
                    #0#71 = #3yyy;
                    #0#78 = #3zzz;
                |FINSI;
            |FINSI;
        |FINSI;
    |FINSI;
|SIGUE;

|PARA xxx = 15; |SI xxx [ 21; |HACIENDO xxx = xxx + 3;
    |SI xxx = 21; xxx = 47; |FINSI;
    yyy = xxx - 1;
    zzz = xxx + 1;

    |SI #3xxx = #0#66; |O #3xxx = #0#67; |O #3xxx = #0#68;
        |SI #3xxx = #0#66;
            #0#72 = #0#72 + #3yyy;
            #0#79 = #0#79 + #3zzz;
        |FINSI;

        |SI #3xxx = #0#67;
            #0#73 = #0#73 + #3yyy;
            #0#80 = #0#80 + #3zzz;
        |FINSI;

        |SI #3xxx = #0#68;
            #0#74 = #0#74 + #3yyy;
            #0#81 = #0#81 + #3zzz;
        |FINSI;
    |SINO;
        |SI #0#66 = 0;
            #0#66 = #3xxx;
            #0#72 = #3yyy;
            #0#79 = #3zzz;
        |SINO;
            |SI #0#67 = 0;
                #0#67 = #3xxx;
                #0#73 = #3yyy;
                #0#80 = #3zzz;
            |SINO;
                |SI #0#68 = 0;
                    #0#68 = #3xxx;
                    #0#74 = #3yyy;
                    #0#81 = #3zzz;
                |FINSI;
            |FINSI;
        |FINSI;
    |FINSI;
|SIGUE;

#0#75 = #0#75 + #3#49;   || Adquisiciones intracomunitarias.
#0#82 = #0#82 + #3#50;   || Adquisiciones intracomunitarias.
#0#83 = #0#83 + #3#29;
|FPRC;

|DEFBUCLE eosm1300;
#3#1;
;
#0#0, 0, #0#2, #0#3;
#0#0, 9, #0#2, #0#3;
;
NULL, el_300;
|FIN;

|PROCESO el_303;
#0#39 = #0#39 + #33#20;
#0#40 = #0#40 + #33#25;
#0#41 = #0#41 + #33#26;
#0#42 = #0#42 + (#33#33 - (#33#32 + #33#31));

|PARA xxx = 6; |SI xxx [ 12; |HACIENDO xxx = xxx + 3;
    yyy = xxx - 1;
    zzz = xxx + 1;

    |SI #33xxx = #0#63; |O #33xxx = #0#64; |O #33xxx = #0#65;
        |SI #33xxx = #0#63;
            #0#69 = #0#69 + #33yyy;
            #0#76 = #0#76 + #33zzz;
        |FINSI;

        |SI #33xxx = #0#64;
            #0#70 = #0#70 + #33yyy;
            #0#77 = #0#77 + #33zzz;
        |FINSI;

        |SI #33xxx = #0#65;
            #0#71 = #0#71 + #33yyy;
            #0#78 = #0#78 + #33zzz;
        |FINSI;
    |SINO;
        |SI #0#63 = 0;
            #0#63 = #33xxx;
            #0#69 = #33yyy;
            #0#76 = #33zzz;
        |SINO;
            |SI #0#64 = 0;
                #0#64 = #33xxx;
                #0#70 = #33yyy;
                #0#77 = #33zzz;
            |SINO;
                |SI #0#65 = 0;
                    #0#65 = #33xxx;
                    #0#71 = #33yyy;
                    #0#78 = #33zzz;
                |FINSI;
            |FINSI;
        |FINSI;
    |FINSI;
|SIGUE;

|PARA xxx = 15; |SI xxx [ 21; |HACIENDO xxx = xxx + 3;
    |SI xxx = 21; xxx = 47; |FINSI;
    yyy = xxx - 1;
    zzz = xxx + 1;

    |SI #33xxx = #0#66; |O #33xxx = #0#67; |O #33xxx = #0#68;
        |SI #33xxx = #0#66;
            #0#72 = #0#72 + #33yyy;
            #0#79 = #0#79 + #33zzz;
        |FINSI;

        |SI #33xxx = #0#67;
            #0#73 = #0#73 + #33yyy;
            #0#80 = #0#80 + #33zzz;
        |FINSI;

        |SI #33xxx = #0#68;
            #0#74 = #0#74 + #33yyy;
            #0#81 = #0#81 + #33zzz;
        |FINSI;
    |SINO;
        |SI #0#66 = 0;
            #0#66 = #33xxx;
            #0#72 = #33yyy;
            #0#79 = #33zzz;
        |SINO;
            |SI #0#67 = 0;
                #0#67 = #33xxx;
                #0#73 = #33yyy;
                #0#80 = #33zzz;
            |SINO;
                |SI #0#68 = 0;
                    #0#68 = #33xxx;
                    #0#74 = #33yyy;
                    #0#81 = #33zzz;
                |FINSI;
            |FINSI;
        |FINSI;
    |FINSI;
|SIGUE;

#0#75 = #0#75 + #33#49;   || Adquisiciones intracomunitarias.
#0#82 = #0#82 + #33#50;   || Adquisiciones intracomunitarias.
#0#83 = #0#83 + #33#29;
|FPRC;

|DEFBUCLE eosm1303;
#33#1;
;
#0#0, 0, #0#2, #0#3;
#0#0, 9, #0#2, #0#3;
;
NULL, el_303;
|FIN;

|PROCESO el_31098;
  #0#43 = #14#6;
  #0#44 = #14#11;
  #0#45 = #14#16;
  #0#46 = #14#21;
  #0#47 = #14#26;
  #0#48 = #14#7;
  #0#49 = #14#12;
  #0#50 = #14#17;
  #0#51 = #14#22;
  #0#52 = #14#27;
  #0#53 = #14#9;
  #0#54 = #14#14;
  #0#55 = #14#19;
  #0#56 = #14#24;
  #0#57 = #14#29;
  #0#58 = #14#30;
  #0#59 = #14#34;
  #0#60 = #14#38;
  #0#83 = #0#83 + #14#37;
|FPRC;

|DEFBUCLE eosm0019;
  #14#1;
  ;
  #0#0, #0#3, #0#2;
  #0#0, #0#3, #0#2;
  ;
  NULL, el_31098;
|FIN;

|PROCESO el_330;
#0#39 = #0#39 + #5#27;
#0#40 = #0#40 + #5#40;
#0#41 = #0#41 + #5#41;
#0#42 = #0#42 + #5#50;

|PARA xxx = 8; |SI xxx [ 14; |HACIENDO xxx = xxx + 3;
    yyy = xxx - 1;
    zzz = xxx + 1;

    |SI #5xxx = #0#63; |O #5xxx = #0#64; |O #5xxx = #0#65;
        |SI #5xxx = #0#63;
            #0#69 = #0#69 + #5yyy;
            #0#76 = #0#76 + #5zzz;
        |FINSI;

        |SI #5xxx = #0#64;
            #0#70 = #0#70 + #5yyy;
            #0#77 = #0#77 + #5zzz;
        |FINSI;

        |SI #5xxx = #0#63;
            #0#69 = #0#69 + #5yyy;
            #0#76 = #0#76 + #5zzz;
        |FINSI;
    |SINO;
        |SI #0#63 = 0;
            #0#63 = #5xxx;
            #0#69 = #5yyy;
            #0#76 = #5zzz;
        |SINO;
            |SI #0#64 = 0;
                #0#64 = #5xxx;
                #0#70 = #5yyy;
                #0#77 = #5zzz;
            |SINO;
                |SI #0#65 = 0;
                    #0#65 = #5xxx;
                    #0#71 = #5yyy;
                    #0#78 = #5zzz;
                |FINSI;
            |FINSI;
        |FINSI;
    |FINSI;
|SIGUE;

|PARA xxx = 17; |SI xxx [ 23; |HACIENDO xxx = xxx + 3;
    yyy = xxx - 1;
    zzz = xxx + 1;

    |SI #5xxx = #0#66; |O #5xxx = #0#67; |O #5xxx = #0#68;
        |SI #5xxx = #0#66;
            #0#72 = #0#72 + #5yyy;
            #0#79 = #0#79 + #5zzz;
        |FINSI;

        |SI #5xxx = #0#67;
            #0#73 = #0#73 + #5yyy;
            #0#80 = #0#80 + #5zzz;
        |FINSI;

        |SI #5xxx = #0#68;
            #0#74 = #0#74 + #5yyy;
            #0#81 = #0#81 + #5zzz;
        |FINSI;
    |SINO;
        |SI #0#66 = 0;
            #0#66 = #5xxx;
            #0#72 = #5yyy;
            #0#79 = #5zzz;
        |SINO;
            |SI #0#67 = 0;
                #0#67 = #5xxx;
                #0#73 = #5yyy;
                #0#80 = #5zzz;
            |SINO;
                |SI #0#68 = 0;
                    #0#68 = #5xxx;
                    #0#74 = #5yyy;
                    #0#81 = #5zzz;
                |FINSI;
            |FINSI;
        |FINSI;
    |FINSI;
|SIGUE;

#0#75 = #0#75 + #5#25;   || Adquisiciones intracomunitarias.
#0#82 = #0#82 + #5#26;   || Adquisiciones intracomunitarias.
#0#83 = #0#83 + #5#44;
|FPRC;

|DEFBUCLE eosma330;
#5#1;
;
#0#0, 0, #0#2, " ", #0#3;
#0#0, 9, #0#2, "z", #0#3;
;
NULL, el_330;
|FIN;

|PROCESO el_309;
  #0#39 = #0#39 + #6#50;
  #0#41 = #0#41 + #6#50;
  #0#42 = #0#42 + #6#50;

  |PARA xxx = 33; |SI xxx [ 39; |HACIENDO xxx = xxx + 3;
      yyy = xxx - 1;
      zzz = xxx + 1;

      |SI #6xxx = #0#63; |O #6xxx = #0#64; |O #6xxx = #0#65;
          |SI #6xxx = #0#63;
              #0#69 = #0#69 + #6yyy;
              #0#76 = #0#76 + #6zzz;
          |FINSI;

          |SI #6xxx = #0#64;
              #0#70 = #0#70 + #6yyy;
              #0#77 = #0#77 + #6zzz;
          |FINSI;

          |SI #6xxx = #0#63;
              #0#69 = #0#69 + #6yyy;
              #0#76 = #0#76 + #6zzz;
          |FINSI;
      |SINO;
          |SI #0#63 = 0;
              #0#63 = #6xxx;
              #0#69 = #6yyy;
              #0#76 = #6zzz;
          |SINO;
              |SI #0#64 = 0;
                  #0#64 = #6xxx;
                  #0#70 = #6yyy;
                  #0#77 = #6zzz;
              |SINO;
                  |SI #0#65 = 0;
                      #0#65 = #6xxx;
                      #0#71 = #6yyy;
                      #0#78 = #6zzz;
                  |FINSI;
              |FINSI;
          |FINSI;
      |FINSI;
  |SIGUE;

  |PARA xxx = 42; |SI xxx [ 48; |HACIENDO xxx = xxx + 3;
      yyy = xxx - 1;
      zzz = xxx + 1;

      |SI #6xxx = #0#66; |O #6xxx = #0#67; |O #6xxx = #0#68;
          |SI #6xxx = #0#66;
              #0#72 = #0#72 + #6yyy;
              #0#79 = #0#79 + #6zzz;
          |FINSI;

          |SI #6xxx = #0#67;
              #0#73 = #0#73 + #6yyy;
              #0#80 = #0#80 + #6zzz;
          |FINSI;

          |SI #6xxx = #0#68;
              #0#74 = #0#74 + #6yyy;
              #0#81 = #0#81 + #6zzz;
          |FINSI;
      |SINO;
          |SI #0#66 = 0;
              #0#66 = #6xxx;
              #0#72 = #6yyy;
              #0#79 = #6zzz;
          |SINO;
              |SI #0#67 = 0;
                  #0#67 = #6xxx;
                  #0#73 = #6yyy;
                  #0#80 = #6zzz;
              |SINO;
                  |SI #0#68 = 0;
                      #0#68 = #6xxx;
                      #0#74 = #6yyy;
                      #0#81 = #6zzz;
                  |FINSI;
              |FINSI;
          |FINSI;
      |FINSI;
  |SIGUE;
|FPRC;

|DEFBUCLE eosm0015;
  #6#1;
  ;
  #0#0, 000, #0#2, #0#3, " ";
  #0#0, 999, #0#2, #0#3, "z";
  ;
  NULL, el_309;
|FIN;

|PROCESO tipo_3;
|BUCLE eosm0020;
|BUCLE eosm3130;
|BUCLE eosm1300;
|BUCLE eosm1303;
|BUCLE eosm0019;
|BUCLE eosma330;
|BUCLE eosm0015;

#0#61 = #0#42 + #0#60;

|SI #10#60 = "S";
    |SI #0#2 = 1; #0#83 = #10#68; |FINSI;
    |SI #0#2 = 2; #0#83 = #10#65; |FINSI;
    |SI #0#2 = 3; #0#83 = #10#66; |FINSI;
    |SI #0#2 = 4; #0#83 = #10#67; |FINSI;
    #0#61 = #0#42 + #0#60 - #0#83;
|FINSI;

#0#62 = 0;
|SI #0#25 > 0; #0#62 = #0#62 + #0#25; |FINSI;
|SI #0#38 > 0; #0#62 = #0#62 + #0#38; |FINSI;
|SI #0#61 > 0; #0#62 = #0#62 + #0#61; |FINSI;
|FPRC;

|PROGRAMA;
     |CLS;
     |CABEZA "Consulta Liquidaciones";

     |PARA; |SI; |HACIENDO;
          |C_V #0#62, 1, "N";

          |DDEFECTO #0;
          |PINPA #0#0;
          |PINDA #0#0;
          |ENDATOS #2#0;
          |SI FSalida ! 0; |SAL; |FINSI;

          |SI #10#60 = "S";
              |ATRI P;
              |PINTA 2153, "Hace Modelo 370";
              |ATRI p;
          |FINSI;

          |HAZ tipo_3;

          |C_V #0#62, 1, "S";
          |ATRI P; |PINTA 0552, "Total a Pagar .... "; |ATRI p;
          |PINTA #0#62;
          |PINDA #0#0;
          |PAUSA;
     |SIGUE;
|FPRO;

|PROCESO impresion; |TIPO 0;
|SI FSalida ! 11;
    |ABRE #10;
    #10#0 = #0#0;
    |LEE 040#10=;
    |SI FSalida ! 0;
        |MENAV "      No existe empresa";
        |ERROR;
        |CIERRA #10;
        |ACABA;
    |FINSI;
    |CIERRA #10;
    #0#1 = #10#2;  |PINTA #0#1;
|FINSI;

|PINTA #0#1;


|SI FSalida ! 11; |ACABA; |FINSI;

|D_CUADRO 0701, 1126;

||            234567890123456789012345
|PINTA 0802, " Empresa :              ";
|PINTA 0902, " Periodo :              ";
|PINTA 1002, " A¤o ....:              ";

fecha  = ~;
anyo_a = fecha % -102;

d_clien = 00001;
h_clien = 99999;
periodo = 01;
anyo    = anyo_a;

|ATRI I;
|PINTA 0813, d_clien;
|PINTA 0820, h_clien;
|PINTA 0913, periodo;
|PINTA 1013, anyo;
|ATRI i;

|ET campo_1;
   E_inf = 00001;
   E_sup = 99999;

   d_clien = 0813 ? 1;
   |SI FSalida = 2; |VETE campo_1;     |FINSI;
   |SI FSalida = 7; |PTEC 807; |ACABA; |FINSI;
   |SI FSalida = 1; |VETE fin_campo;   |FINSI;

|ET campo_2;
   E_inf = 00001;
   E_sup = 99999;

   h_clien = 0820 ? 1;
   |SI FSalida = 2; |VETE campo_1;     |FINSI;
   |SI FSalida = 7; |PTEC 807; |ACABA; |FINSI;
   |SI FSalida = 1; |VETE fin_campo;   |FINSI;

|ET campo_3;
   E_inf = 1;
   E_sup = 99;

   periodo = 0913 ? 1;
   |SI FSalida = 2; |VETE campo_2;     |FINSI;
   |SI FSalida = 1; |VETE fin_campo;   |FINSI;
   |SI FSalida = 7; |PTEC 807; |ACABA; |FINSI;

   E_inf = 0;
   E_sup = 99;

   anyo    = 1013 ? 1;
   |SI FSalida = 2; |VETE campo_3;     |FINSI;
   |SI FSalida = 1; |VETE fin_campo;   |FINSI;
   |SI FSalida = 7; |PTEC 807; |ACABA; |FINSI;

|ET fin_campo;
   |HAZ a_imprimir;
   |PTEC 807;
|FPRC;

|PROCESO venga;
|DDEFECTO #0;
#0#0 = #10#0;
#0#1 = #10#2;
#0#2 = periodo;
#0#3 = anyo;
|HAZ tipo_3;

|SI #0#62 = 0; |Y #0#25 = 0; |Y  #0#38 = 0; |Y #0#61 = 0; |ACABA; |FINSI;

|PRINT; |PIEINF;
|FPRC;

|DEFBUCLE eosclien;
#10#1;
;
d_clien;
h_clien;
;
NULL, venga;
|FIN;

|PROCESO a_imprimir;
|IMPRE 0;
|SI FSalida ! 0; |ACABA; |FINSI;

|INFOR "eoszp005";
|SI FSalida ! 0; |FINIMP; |ACABA; |FINSI;

|BUCLE eosclien;

|FININF;
|FINIMP;
|FPRC;
