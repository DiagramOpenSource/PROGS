|FICHEROS;
   eosclien #0;
   eosactiv #1;
   eosclpre #2;
   eoscomun #3;
   eoscomul #4;
   eosdaban #5;
|FIN;

|VARIABLES;
  &empresa = 0;
  &d_anyo  = 0;
  &h_anyo  = 0;
  &sw_anyo = 0;
  &QuePrograma = 0;
|FIN;

|PROGRAMA;
   |SI QuePrograma = 0; |O QuePrograma = 2;
       |SI sw_anyo = 0; |HAZ fichero0; |FINSI;
   |FINSI;

                    |HAZ fichero1;
   |SI sw_anyo = 0; |HAZ fichero2; |FINSI;
                    |HAZ fichero3;
   |SI sw_anyo = 0; |HAZ fichero5; |FINSI;
|FPRO;

|| ************************************************************************
||                     Baja del fichero empresas
|| ************************************************************************

|PROCESO fichero0;
|ABRE #0;
#0#0 = empresa
|LIBERA #0;
|LEE 110#0=;
|SI FSalida = 0; |BORRA 020#0a; |FINSI;
|CIERRA #0;
|FPRC;

|| ************************************************************************
||                     Baja del fichero Actividades
|| ************************************************************************

|PROCESO borra1;
|BORRA 020#1a;
|LIBERA #1;
|FPRC;

|DEFBUCLE activida;
#1#1;
;
empresa, 1, d_anyo;
empresa, 6, h_anyo;
be;
NULL, borra1;
|FIN;

|PROCESO fichero1;
|BUCLE activida;
|FPRC;

|| ************************************************************************
||                     Baja del fichero Clientes-Proveedores Empresas
|| ************************************************************************

|PROCESO borra2;
|BORRA 020#2a;
|LIBERA #2;
|FPRC;

|DEFBUCLE cliproem;
#2#1;
;
empresa, 1, 00000;
empresa, 2, 99999;
be;
NULL, borra2;
|FIN;

|PROCESO fichero2;
|BUCLE cliproem;
|FPRC;

|| ************************************************************************
||                     Baja del fichero Comuneros
|| ************************************************************************
|PROCESO null;
|FPRC;

|PROCESO borra3;
|BUCLELIN 1null#3;
|BORRA 020#3a;
|LIBERA #3;
|FPRC;

|DEFBUCLE comunero;
#3#1;
;
empresa, 1, d_anyo;
empresa, 6, h_anyo;
be;
NULL, borra3;
|FIN;

|PROCESO fichero3;
|BUCLE comunero;
|FPRC;

|| ************************************************************************
||                     Baja del fichero Bancos
|| ************************************************************************

|PROCESO fichero5;
|ABRE #5;
#5#0 = empresa
|LIBERA #5;
|LEE 110#5=;
|SI FSalida = 0; |BORRA 020#5a; |FINSI;
|CIERRA #5;
|FPRC;
