|FICHEROS;
     dsz18401 #0;

     dsw18401 #10;
     dsw18402 #11;
     eosclien #12;

     dsm18401 #20;
     dsm18402 #21;
     dsm18403 #22;
     dsm18404 #23;
     dsm18405 #24;
     dsm18406 #25;
     dsm18407 #26;
     dsm18408 #27;
     dsm18409 #28;
     dsm18414 #35;
     dsm18415;
     dsm18430 #50;
     dsm18431 #51;
     dsm18432;

     dsmow568;
     dsmoy000;
|FIN;

|VARIABLES;
     nPara1     = 0;

     aEsc      = "";
     aF2       = "";
     aF3       = "";
     aF4       = "";
     aF5       = "";
     aF6       = "";
     aF7       = "";
     aF8       = "";
     aTecla    = "";
     aFichero  = "";

     fFecha = @;

     nImpI1 = 0; nImpJ1 = 0;
     nImpI2 = 0; nImpJ2 = 0;
     nImpI3 = 0; nImpJ3 = 0;
     nImpI4 = 0; nImpJ4 = 0;
     nImpI5 = 0; nImpJ5 = 0;
     nImpI6 = 0; nImpJ6 = 0;
     nCampo = 0; nNume  = 0;

     nCont = 0;
     nCalc = 0;
     nHandle = 0;
     nLong   = 0;
     nCont1  = 0;
     nSwError = 0;
     nTecla   = 0;
     nSwClaveD = 0;

     nNumDecl    = 0;
     nNumTotSocs = 0;
     nNumSocs    = 0;
     nNumSocsDec = 0;
     nDEmpresa   = 0;
     nHEmpresa   = 0;

     nBoton1     = 0;
     nBoton2     = 0;
     nBoton3     = 0;
     nBoton4     = 0;
     nBoton5     = 0;
     nBoton6     = 0;
     nBoton7     = 0;

     aAbre     = "";
     aTercera  = "";

     Cadena    = "";
     aAntPais  = "";
     aRed      = "";
     aDPais    = "";
     aHPais    = "";
     aPais     = "";
     aCadena   = "";
     aCadena1  = "";
     aClave    = "";
     aSubClave = "";
     aAlfa2    = "";
     aLong     = "";
     aOrigen   = "";
     aDestino  = "";
     aDerecho  = "";
     aCyP      = "";

     aSubClv   = "";
     nImporte  = 0;
     nSwClaveGrabada = 0;

     aTRegimen = ""; aTActivid = ""; nEpigrafe = 0;
     aNifCes   = ""; aNomCes   = ""; nAnyoAdq  = 0;
     nMesAdq   = 0;  nDiaAdq   = 0;        nValLiq   = 0;
     nValAdq   = 0;  nImpIngr  = 0;        nImpGast  = 0;
     nImpRtas  = 0;  nPorcRed  = 0;        nImpRtaR  = 0;
     nGanPer   = 0;  nBaseDed  = 0;        nRetIng   = 0;
       nNumeA    = 0;
       nNumeB    = 0;
       nNumeC    = 0;
       nNumeD    = 0;
     nNumeE    = 0;
     nNumeF    = 0;
     nNumeG    = 0;
     nNumeH    = 0;
     nNumeI    = 0;
     nNumeJ    = 0;
     nNumeK    = 0;

     aAlfa     = ""; aAlfa1 = "";
     TipoDato  = "";
     Vacio1    = ""; Vacio2   = "";
     Long      = 0;  LongDec  = 0;
     nNegativo = 0;
     Calc1     = 0;  Calc2  = 0;
     nPer      = 0;  nGan   = 0;
     nSwDatos  = 0;  nSigno = 0;

     nDatosClvD = 0;


     aNumeA = 0;
     aNumeB = 0;
     aNumeC = 0;
     aNumeD = 0;
     nSw    = 0;

     &eaPathEmision      = "";
     &eaPathLanza        = "";
     &eaPathExplorador   = "";
     &eaPathInternet     = "";
     &eaFicheroPlano     = "";
     &eaOpcion           = "";
     &enErrorPortal      = 0;
     &eaFicheroImpre     = "";
     &eaFicheroSalid     = "";
     &eaFicheroError     = "";
     &enEmpresa          = 0;
     &eaNomEmpresa       = "";
     &eaUnidad           = "";
     &eaFichDatos = "";
     &eaFichAuxil = "";
     &eaFichError = "";
     &enTotSoc  = 0;
     &enNumDec  = 0;
     &eaFecha   = "";
     &eaJustPr  = "";
     &eaJustAn  = "";
     &eaPorcen  = "";
     &eaAlfa    = "";
     &eaModelos = "";
     &eaEjer    = "";
     &eaPeriodo = "";
     &eaTipoE   = "";
     &eaTipoR   = "";
     &eaTipoP   = "";
     &eaTipoC   = "";
     &eaTipoA   = "";
     &eaTipoV   = "";
     &eaModoImpre = "";
     &enCodCli  = 0;
     &enAnyo    = 0;
     &enPresentar = 0;
|FIN;

|PROCESO CargaVar16;
     |SI aAlfa1 = "¥"; aAlfa1 = &209;  |FINSI;
     |SI aAlfa1 = "¤"; aAlfa1 = &209;  |FINSI;
     |SI aAlfa1 = "ç"; aAlfa1 = &199;  |FINSI;
     |SI aAlfa1 = "Ç"; aAlfa1 = &199;  |FINSI;
     |SI aAlfa1 = "-"; aAlfa1 = &45;   |FINSI;
     |SI aAlfa1 = "'"; aAlfa1 = &49;   |FINSI;

     |SI TipoDato = "An";
         |SI aAlfa1 = "&"; aAlfa1 = &38;  |FINSI;
         |SI aAlfa1 = ","; aAlfa1 = &44;  |FINSI;
         |SI aAlfa1 = "."; aAlfa1 = &46;  |FINSI;
         |SI aAlfa1 = ":"; aAlfa1 = &58;  |FINSI;
         |SI aAlfa1 = ";"; aAlfa1 = &59;  |FINSI;
         |SI aAlfa1 = "_"; aAlfa1 = &95;  |FINSI;
    |FINSI;

    aAlfa2 = aAlfa2 + aAlfa1;
|FPRC;

|PROCESO Formateo16;
     |QBF aAlfa;
     |SI TipoDato = "F";
         aAlfa = aAlfa - "."; aAlfa = aAlfa - ".";
         |SI aAlfa = "01010000"; aAlfa = "0" * 8; |FINSI;
         |ACABA;
     |FINSI;

     |SI TipoDato = "N";
         nNegativo = 0;
         Vacio1 = "0" * Long;
         Vacio2 = "0" * LongDec;
         aAlfa = aAlfa - "N";
         |SI FSalida ! 0;
             nNegativo = 1;
         |FINSI;
     |SINO;
         Vacio1 = " " * Long;
     |FINSI;

     |SI TipoDato ! "N";
         Calc1 = 100 + Long; aAlfa = (aAlfa + Vacio1) % Calc1;
     |SINO;
         |SI LongDec = 0;
             Calc1 = 0 - (100 + Long);
             aAlfa = (Vacio1 + aAlfa) % Calc1;
         |SINO;
             aAlfa = aAlfa - ".";
             |SI FSalida = 0;
                 Calc1 = 0 - (100 + Long);
                 aAlfa = (Vacio1 + aAlfa) % Calc1;
                 aAlfa1 = "0" * LongDec;
             |SINO;
                 Calc1 = (((FSalida / 100) ! 0) - 1) + 100;
                 Calc2 = (((FSalida / 100) ! 0) * 100) + 99;
                 aAlfa1 = aAlfa % Calc2;
                 aAlfa = aAlfa % Calc1;
                 Calc1 = 0 - (100 + Long);
                 aAlfa = (Vacio1 + aAlfa)  % Calc1;
                 Calc1 = 100 + LongDec;
                 aAlfa1 = (aAlfa1 + Vacio2) % Calc1;
             |FINSI;

             aAlfa = aAlfa + aAlfa1;
          |FINSI;

          |SI nNegativo = 1;
              Calc1 = 0 - (100 + (Long + LongDec)); Calc1 = Calc1 + 1;
              aAlfa = aAlfa % Calc1;
              aAlfa = "N" + aAlfa;
          |FINSI;
     |FINSI;

     aAlfa2 = "";

     |SI TipoDato = "A"; |O TipoDato = "An";
         aLong = aAlfa % 0; nLong = aLong;
         |PARA nCont1 = 1; |SI nCont1 [ nLong; |HACIENDO nCont1 = nCont1 + 1;
               Calc1  = (nCont1 * 100) + 1;
               aAlfa1 = aAlfa % Calc1;
               aAlfa1 = aAlfa1 > aAlfa1;
               |HAZ CargaVar16;
         |SIGUE;
         aAlfa = aAlfa2;
     |FINSI;

     Calc1 = aAlfa;
     |SI nSwDatos = 0; |Y Calc1 ! 0;
         nSwDatos = 1;
     |FINSI;
|FPRC;

|PROCESO RegistroDec_16;
     aCadena = "2184";
     aCadena = aCadena + #dsm18401#1;
     aCadena = aCadena + #dsw18402#4;
     aCadena = aCadena + #dsw18402#4;
     aCadena = aCadena + (" " * 9);
     eaAlfa  = #dsw18402#5;  |HAZ QuitaRaros;
     aCadena = aCadena + eaAlfa;

     aCadena = aCadena + "E";
     TipoDato = "A"; LongDec = 0;
     Long = 1;  aAlfa = aClave;    |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 2;  aAlfa = aSubClave; |HAZ Formateo16; aCadena = aCadena + aAlfa;
     |SI aClave ! "B"; |Y aClave ! "L";
         |SI aPais = "ES"; aPais = "  "; |FINSI;
     |FINSI;
     Long = 2;  aAlfa = aPais;     |HAZ Formateo16; aCadena = aCadena + aAlfa;

     TipoDato = "N"; LongDec = 0;
     Long = 1;  aAlfa = aTRegimen; |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 1;  aAlfa = aTActivid; |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 4;  aAlfa = nEpigrafe; |HAZ Formateo16; aCadena = aCadena + aAlfa;
     TipoDato = "A"; LongDec = 0;
     Long = 9;  aAlfa = aNifCes;   |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 20; aAlfa = aNomCes;   |HAZ Formateo16; aCadena = aCadena + aAlfa;
     TipoDato = "N"; LongDec = 0;
     Long = 4;  aAlfa = nAnyoAdq;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 2;  aAlfa = nMesAdq;   |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 2;  aAlfa = nDiaAdq;   |HAZ Formateo16; aCadena = aCadena + aAlfa;
     aCadena = aCadena; |XGRABA nHandle, aCadena; aCadena = "";

     TipoDato = "N"; LongDec = 2;
     Long = 11; aAlfa = nValLiq;   |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 11; aAlfa = nValAdq;   |HAZ Formateo16; aCadena = aCadena + aAlfa;
     |SI nImpIngr < 0;
        aCadena = aCadena + "N";
        nImpIngr = 0 - nImpIngr;
     |SINO;
        aCadena = aCadena + " ";
     |FINSI;
     Long = 11; aAlfa = nImpIngr;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 10; aAlfa = nImpGast;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
     |SI nImpRtas < 0;
        aCadena = aCadena + "N";
        nImpRtas = 0 - nImpRtas;
     |SINO;
        aCadena = aCadena + " ";
     |FINSI;
     Long = 11; aAlfa = nImpRtas;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 3;  aAlfa = nPorcRed;  |HAZ Formateo16; aCadena = aCadena + aAlfa;

     |SI nImpRtaR < 0;
         aCadena = aCadena + "N";
         nImpRtaR = 0 - nImpRtaR;
     |SINO;
         aCadena = aCadena + " ";
     |FINSI;

     Long = 9;  aAlfa = nImpRtaR;  |HAZ Formateo16; aCadena = aCadena + aAlfa;

     |SI nGanPer < 0; nGanPer = 0 - nGanPer; |FINSI;

     Long = 11; aAlfa = nGanPer;   |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 10; aAlfa = nBaseDed;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 10; aAlfa = nRetIng;   |HAZ Formateo16; aCadena = aCadena + aAlfa;

     |SI aClave = "C";
         TipoDato = "A"; LongDec = 0;
         Long = 1;  aAlfa = #dsm18405#14;  aCadena = aCadena + aAlfa;
         Long = 20; aAlfa = #dsm18405#15;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
     |SINO;
         aCadena = aCadena + "0" + "                    ";
     |FINSI;
     |XGRABA nHandle, aCadena; aCadena = "";

     |SI aClave = "D"; |Y aSubClave [ "02";
         TipoDato = "N"; LongDec = 2;
         Long = 10; aAlfa = nNumeA;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 10; aAlfa = nNumeB;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 10; aAlfa = nNumeC;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 10; aAlfa = nNumeD;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         aCadena = aCadena + aCyP;
     |SINO;
         |SI #dsm18401#1 ] 2019;
             aAlfa   = "0" * 130;
             aCadena = aCadena + aAlfa + " ";
         |SINO;
             aAlfa   = "0" * 48;
             aCadena = aCadena + aAlfa + " ";
         |FINSI;
     |FINSI;
     |XGRABA nHandle, aCadena; aCadena = "";

     |SI #dsm18401#1 ] 2019;
         aAlfa   = "0" * 104;
         aCadena = aCadena + aAlfa;
     |SINO;
         aCadena = " " * 180;
         |XGRABA nHandle, aCadena;
         aCadena = "      ";
     |FINSI;
     |XGRABA nHandle, aCadena;

     |SI eaOpcion = "3";
         aCadena = &13 + &10;
         |XGRABA nHandle, aCadena;
     |FINSI;
|FPRC;

|PROCESO RegistroDec_19;
     aCadena = "2184";
     aCadena = aCadena + #dsm18401#1;
     aCadena = aCadena + #dsw18402#4;
     aCadena = aCadena + #dsw18402#4;
     aCadena = aCadena + (" " * 9);
     eaAlfa  = #dsw18402#5;  |HAZ QuitaRaros;
     aCadena = aCadena + eaAlfa;

     aCadena = aCadena + "E";
     TipoDato = "A"; LongDec = 0;
     Long = 1;  aAlfa = aClave;    |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 2;  aAlfa = aSubClave; |HAZ Formateo16; aCadena = aCadena + aAlfa;
     |SI aClave ! "B"; |Y aClave ! "L";
         |SI aPais = "ES"; aPais = "  "; |FINSI;
     |FINSI;
     Long = 2;  aAlfa = aPais;     |HAZ Formateo16; aCadena = aCadena + aAlfa;

     TipoDato = "N"; LongDec = 0;
     Long = 1;  aAlfa = aTRegimen; |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 1;  aAlfa = aTActivid; |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 4;  aAlfa = nEpigrafe; |HAZ Formateo16; aCadena = aCadena + aAlfa;
     TipoDato = "A"; LongDec = 0;
     Long = 9;  aAlfa = aNifCes;   |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 20; aAlfa = aNomCes;   |HAZ Formateo16; aCadena = aCadena + aAlfa;
     TipoDato = "N"; LongDec = 0;
     Long = 4;  aAlfa = nAnyoAdq;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 2;  aAlfa = nMesAdq;   |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 2;  aAlfa = nDiaAdq;   |HAZ Formateo16; aCadena = aCadena + aAlfa;
     aCadena = aCadena; |XGRABA nHandle, aCadena; aCadena = "";

     TipoDato = "N"; LongDec = 2;
     Long = 11; aAlfa = nValLiq;   |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 11; aAlfa = nValAdq;   |HAZ Formateo16; aCadena = aCadena + aAlfa;
     |SI nImpIngr < 0;
        aCadena = aCadena + "N";
        nImpIngr = 0 - nImpIngr;
     |SINO;
        aCadena = aCadena + " ";
     |FINSI;
     Long = 11; aAlfa = nImpIngr;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 10; aAlfa = nImpGast;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
     |SI nImpRtas < 0;
        aCadena = aCadena + "N";
        nImpRtas = 0 - nImpRtas;
     |SINO;
        aCadena = aCadena + " ";
     |FINSI;
     Long = 11; aAlfa = nImpRtas;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 3;  aAlfa = nPorcRed;  |HAZ Formateo16; aCadena = aCadena + aAlfa;

     |SI nImpRtaR < 0;
         aCadena = aCadena + "N";
         nImpRtaR = 0 - nImpRtaR;
     |SINO;
         aCadena = aCadena + " ";
     |FINSI;

     Long = 9;  aAlfa = nImpRtaR;  |HAZ Formateo16; aCadena = aCadena + aAlfa;

     |SI nGanPer < 0; nGanPer = 0 - nGanPer; |FINSI;

     Long = 11; aAlfa = nGanPer;   |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 10; aAlfa = nBaseDed;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
     Long = 10; aAlfa = nRetIng;   |HAZ Formateo16; aCadena = aCadena + aAlfa;

     |SI aClave = "C";
         TipoDato = "A"; LongDec = 0;
         Long = 1;  aAlfa = #dsm18405#14;  aCadena = aCadena + aAlfa;
         Long = 20; aAlfa = #dsm18405#15;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
     |SINO;
         aCadena = aCadena + "0" + "                    ";
     |FINSI;
     |XGRABA nHandle, aCadena; aCadena = "";

     |SI aClave = "D"; |Y aSubClave [ "02";
         TipoDato = "N"; LongDec = 2;
         Long = 10; aAlfa = nNumeA;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 10; aAlfa = nNumeB;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 10; aAlfa = nNumeC;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 10; aAlfa = nNumeD;  |HAZ Formateo16; aCadena = aCadena + aAlfa;

         Long = 10; aAlfa = nNumeE;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 10; aAlfa = nNumeF;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 10; aAlfa = nNumeG;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 10; aAlfa = nNumeH;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 10; aAlfa = nNumeI;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 10; aAlfa = nNumeJ;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 8;  aAlfa = nNumeK;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         aCadena = aCadena + aCyP;
     |SINO;
         aAlfa   = "0" * 130;
         aCadena = aCadena + aAlfa + " ";
     |FINSI;
     |XGRABA nHandle, aCadena; aCadena = "";

     |SI aClave = "C";
         TipoDato = "N"; LongDec = 2;
         Long = 9; aAlfa = nNumeA;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 9; aAlfa = nNumeB;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 9; aAlfa = nNumeC;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 8; aAlfa = nNumeD;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 9; aAlfa = nNumeE;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 8; aAlfa = nNumeF;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 8; aAlfa = nNumeG;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 8; aAlfa = nNumeH;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 6; aAlfa = nNumeI;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         Long = 7; aAlfa = nNumeJ;  |HAZ Formateo16; aCadena = aCadena + aAlfa;
         aAlfa = #dsm18405#19; aAlfa = ("000" + aAlfa) % -103;
         aCadena = aCadena + aAlfa;
     |SINO;
         aAlfa   = "0" * 104;
         aCadena = aCadena + aAlfa;
     |FINSI;
     |XGRABA nHandle, aCadena; aCadena = "";

     |SI eaOpcion = "3";
         aCadena = &13 + &10;
         |XGRABA nHandle, aCadena;
     |FINSI;
|FPRC;

|PROCESO DefectVars_16;
     aPais     = "";
     aTRegimen = "0";      aTActivid = "0";      nEpigrafe = 0;
     aNifCes   = " " * 9;  aNomCes   = " " * 20; nAnyoAdq  = 0;
     nMesAdq   = 0;        nDiaAdq   = 0;        nValLiq   = 0;
     nValAdq   = 0;        nImpIngr  = 0;        nImpGast  = 0;
     nImpRtas  = 0;        nPorcRed  = 0;        nImpRtaR  = 0;
     nGanPer   = 0;        nBaseDed  = 0;        nRetIng   = 0;
     nNumeA    = 0;        nNumeB    = 0;        nNumeC    = 0;
     nNumeD    = 0;        nNumeE    = 0;        nNumeF    = 0;
     nNumeG    = 0;        nNumeH    = 0;        nNumeI    = 0;
     nNumeJ    = 0;        nNumeK    = 0;
|FPRC;

|PROCESO GrabaDomi16;
     |SI #dsm18430#41 = 0;
        |ABRE #eosclien;
        #eosclien#1 = #dsm18430#2;
        |LEE 000#eosclien.=;
        |SI FSalida ! 0; |DDEFECTO #eosclien; |FINSI;
        |CIERRA #eosclien;

        #dsm18430#6  = #eosclien#10;
        #dsm18430#36 = #eosclien#4;
        #dsm18430#5  = #eosclien#5;
        #dsm18430#37 = #eosclien#6;
        #dsm18430#38 = #eosclien#7;
        #dsm18430#39 = #eosclien#8;
        #dsm18430#40 = #eosclien#9;
        #dsm18430#41 = #eosclien#11;
        #dsm18430#42 = #eosclien#13;
     |FINSI;

     aAlfa = #dsm18430#36; |QBF aAlfa; aAlfa = aAlfa + " ";
     aAlfa1 = #dsm18430#5; aAlfa1 = aAlfa1 % 114;
     aAlfa = aAlfa + aAlfa1;  |QBF aAlfa; aAlfa = aAlfa + ",";
     aAlfa = aAlfa + #dsm18430#37; |QBF aAlfa;
     |SI #dsm18430#37 ! "   "; aAlfa = aAlfa + ","; |FINSI;
     aAlfa = aAlfa + #dsm18430#38; |QBF aAlfa;
     |SI #dsm18430#38 ! " "; aAlfa = aAlfa + ","; |FINSI;
     aAlfa = aAlfa + #dsm18430#39; |QBF aAlfa;
     |SI #dsm18430#39 ! "  "; aAlfa = aAlfa + ","; |FINSI;
     aAlfa = aAlfa + #dsm18430#40; |QBF aAlfa;
     |SI #dsm18430#40 ! "  "; aAlfa = aAlfa + ","; |FINSI;
     aAlfa1 = (("00" + #dsm18430#6) % -102) + (("000" + #dsm18430#41) % -103);
     aAlfa = aAlfa + "C.P." + aAlfa1 + ",";
     aAlfa1 = #dsm18430#42; aAlfa1 = aAlfa1 % 110;
     aAlfa = aAlfa + aAlfa1;  |QBF aAlfa;
     TipoDato = "A"; LongDec = 0;

     Long = 40; |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
|FPRC;

|PROCESO Comun_16;
     nSwClaveGrabada = 0;

     aCadena = "2184";
     aCadena = aCadena + #dsm18401#1;
     aCadena = aCadena + #dsw18402#4;

     TipoDato = "A";
     LongDec  = 0;
     Long     = 9;
     aAlfa    = #dsm18430#2; |HAZ Formateo16; aCadena = aCadena + aAlfa;

     Long     = 9;
     aAlfa    = #dsm18430#3; |HAZ Formateo16; aCadena = aCadena + aAlfa;

     TipoDato = "An";
     Long     = 40;
     aAlfa    = #dsm18430#4; |HAZ Formateo16; aCadena = aCadena + aAlfa;
     aCadena  = aCadena + "S";

     TipoDato = "N";
     LongDec  = 0;
     Long     = 2;
     aAlfa    = #dsm18430#6;  |HAZ Formateo16; aCadena = aCadena + aAlfa;

     TipoDato = "A";
     LongDec  = 0;
     aPais    = #dsm18430#7;
     |SI aPais = "ES"; aPais = "  "; |FINSI;
     Long     = 2;
     aAlfa    = aPais;       |HAZ Formateo16; aCadena = aCadena + aAlfa;

     TipoDato = "N";
     LongDec  = 0;
     Long     = 1;
     aAlfa    = #dsm18430#8; |HAZ Formateo16; aCadena = aCadena + aAlfa;

     TipoDato = "A";
     LongDec  = 0;
     Long     = 1;
     aAlfa    = #dsm18430#9;   |HAZ Formateo16; aCadena = aCadena + aAlfa;

     TipoDato = "N";
     LongDec  = 0;
     Long     = 3;
     aAlfa    = #dsm18430#10; |HAZ Formateo16; aCadena = aCadena + aAlfa;

     LongDec  = 4;
     Long     = 3;
     aAlfa    = #dsm18430#11; |HAZ Formateo16; aCadena = aCadena + aAlfa;
|FPRC;

|PROCESO FinalComun;
     aCadena1 = aCadena1 + "000000000000";
     aCadena1 = aCadena1 + "00                     00000";

     nSwClaveGrabada = 1;
     |XGRABA nHandle, aCadena1;

     aCadena1 = " " * 250;
     |XGRABA nHandle, aCadena1;

     aCadena1 = (" " * 51);
     |XGRABA nHandle, aCadena1;

     |SI eaOpcion = "3";
         aCadena1 = &13 + &10;
         |XGRABA nHandle, aCadena1;
     |FINSI;
|FPRC;

|PROCESO TipoA01_16;
     |SI #dsm18430#12 = 0; |Y #dsm18430#13 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "A01";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#12 < 0;
         aCadena1 = aCadena1 + "N";
         nCalc    = 0 - #dsm18430#12;
         aAlfa    = nCalc;
     |SINO;
         aCadena1 = aCadena1 + " ";
         aAlfa    = #dsm18430#12;
     |FINSI;
     Long      = 10;
     |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |SI #dsm18430#13 < 0;
         aCadena1 = aCadena1 + "0";
         nCalc    = 0 - #dsm18430#13;
         aAlfa    = nCalc;
     |SINO;
         aCadena1 = aCadena1 + "0";
         aAlfa    = #dsm18430#13;
     |FINSI;
     Long = 8;   |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoA02_16;
     |SI #dsm18430#43 = 0; |Y #dsm18430#44 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "A02";
     TipoDato = "N";
     LongDec  = 2;
     |SI #dsm18430#43 < 0;
         aCadena1 = aCadena1 + "N";
         nCalc    = 0 - #dsm18430#43;
         aAlfa    = nCalc;
     |SINO;
         aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#43;
     |FINSI;

     Long     = 10;
     |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |SI #dsm18430#44 < 0;
         aCadena1 = aCadena1 + "0";
         nCalc    = 0 - #dsm18430#44;
         aAlfa    = nCalc;
     |SINO;
         aCadena1 = aCadena1 + "0";
         aAlfa    = #dsm18430#44;
     |FINSI;

     Long     = 8;
     |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO dsm18332_16;
     aCadena1 = aCadena + "C00";
     TipoDato = "N"; LongDec = 2;

     nImporte =  #dsm18432#12;
     |SI nImporte < 0;
        aCadena1 = aCadena1 + "N";
        nCalc = 0 - nImporte; aAlfa = nCalc;
     |SINO;
        aCadena1 = aCadena1 + " ";  aAlfa = nImporte;
     |FINSI;
     Long = 10;  |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     nImporte =  #dsm18432#13;
     |SI nImporte < 0;
        aCadena1 = aCadena1 + "0";
        nCalc = 0 - nImporte; aAlfa = nCalc;
     |SINO;
        aCadena1 = aCadena1 + "0"; aAlfa = nImporte;
     |FINSI;
     Long = 8;   |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     TipoDato = "A"; LongDec = 0;
     |HAZ GrabaDomi16;

     aCadena1 = aCadena1 + "000000000000";
     aCadena1 = aCadena1 + #dsm18432#6;
     aCadena1 = aCadena1 + #dsm18432#7;
     aCadena1 = aCadena1 + #dsm18432#9;
     aCadena1 = aCadena1 + #dsm18432#8;

     TipoDato = "N";
     LongDec  = 2;
     Long     = 3;
     aAlfa    = #dsm18432#10; |HAZ Formateo16;
     aCadena1 = aCadena1 + aAlfa;

     nSwClaveGrabada = 1;
     |XGRABA nHandle, aCadena1;

     aCadena1 = " " * 250;
     |XGRABA nHandle, aCadena1;

     aCadena1 = (" " * 51);
     |XGRABA nHandle, aCadena1;

     |SI eaOpcion = "3";
         aCadena1 = &13 + &10;
         |XGRABA nHandle, aCadena1;
     |FINSI;
|FPRC;

|DEFBUCLE dsm18432_16;
     #dsm18432#2;
     ;
     #dsm18430#0, #dsm18430#1, #dsm18430#33, #dsm18430#34, 001;
     #dsm18430#0, #dsm18430#1, #dsm18430#33, #dsm18430#34, 999;
     ;
     NULL, dsm18332_16;
|FIN;

|PROCESO TipoC00_16;
     |SI #dsm18430#14 = 0; |Y #dsm18430#15 = 0;
         |ACABA;
     |FINSI;

     |BUCLE dsm18432_16;
|FPRC;

|PROCESO TipoD00_16;
     |SI #dsm18430#16 = 0;  |Y #dsm18430#17 = 0;  |Y #dsm18430#51 = 0;
      |Y nDatosClvD   = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "D00";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#16 < 0;
        aCadena1 = aCadena1 + "N";
        nCalc = 0 - #dsm18430#16; aAlfa = nCalc;
     |SINO;
        aCadena1 = aCadena1 + " ";  aAlfa = #dsm18430#16;
     |FINSI;
     Long = 10;  |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |SI #dsm18430#17 < 0;
        aCadena1 = aCadena1 + "0";
        nCalc = 0 - #dsm18430#17; aAlfa = nCalc;
     |SINO;
        aCadena1 = aCadena1 + "0";  aAlfa = #dsm18430#17;
     |FINSI;
     Long = 8;   |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;

     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#51 < 0;
        aCadena1 = aCadena1 + "0";
        nCalc = 0 - #dsm18430#51; aAlfa = nCalc;
     |SINO;
        aCadena1 = aCadena1 + "0";  aAlfa = #dsm18430#51;
     |FINSI;

     Long = 9;   |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     aCadena1 = aCadena1 + "00                     00000";

     nSwClaveGrabada = 1;
     aCadena1 = aCadena1; |XGRABA nHandle, aCadena1;

     aCadena1 = " " * 250;   |XGRABA nHandle, aCadena1;
     aCadena1 = (" " * 51);  |XGRABA nHandle, aCadena1;

     |SI eaOpcion = "3";
         aCadena1 = &13 + &10;
         |XGRABA nHandle, aCadena1;
     |FINSI;
|FPRC;

|PROCESO TipoE00_16;
     |SI #dsm18430#18 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "E00";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#18 < 0;
        aCadena1 = aCadena1 + "N";  nCalc = 0 - #dsm18430#18; aAlfa = nCalc;
     |SINO;
        aCadena1 = aCadena1 + " ";  aAlfa = #dsm18430#18;
     |FINSI;
     Long = 10;  |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoF01_16;
     |SI #dsm18430#19 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "F01";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#19 < 0;
        aCadena1 = aCadena1 + "N";
        nCalc = 0 - #dsm18430#19; aAlfa = nCalc;
     |SINO;
        aCadena1 = aCadena1 + " ";  aAlfa = #dsm18430#19;
     |FINSI;
     Long = 10;  |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoF02_16;
     |SI #dsm18430#20 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "F02";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#20 < 0;
        aCadena1 = aCadena1 + "N";
        nCalc = 0 - #dsm18430#20; aAlfa = nCalc;
     |SINO;
        aCadena1 = aCadena1 + " ";  aAlfa = #dsm18430#20;
     |FINSI;
     Long = 10;  |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoG01_16;
     |SI #dsm18430#21 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "G01";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#21 < 0;
        aCadena1 = aCadena1 + "N";
        nCalc = 0 - #dsm18430#21; aAlfa = nCalc;
     |SINO;
        aCadena1 = aCadena1 + " ";  aAlfa = #dsm18430#21;
     |FINSI;
     Long = 10;  |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoG02_16;
     |SI #dsm18430#22 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "G02";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#22 < 0;
        aCadena1 = aCadena1 + "N";
        nCalc = 0 - #dsm18430#22; aAlfa = nCalc;
     |SINO;
        aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#22;
     |FINSI;
     Long = 10;  |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoH01_16;
     |SI #dsm18430#49 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "H01";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#49 < 0;
        aCadena1 = aCadena1 + "N";
        nCalc = 0 - #dsm18430#49; aAlfa = nCalc;
     |SINO;
        aCadena1 = aCadena1 + " ";  aAlfa = #dsm18430#49;
     |FINSI;
     Long = 10;  |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoH02_16;
     |SI #dsm18430#50 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "H02";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#50 < 0;
        aCadena1 = aCadena1 + "N";
        nCalc = 0 - #dsm18430#50; aAlfa = nCalc;
     |SINO;
        aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#50;
     |FINSI;
     Long = 10;  |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoI01_16;
     |SI #dsm18430#23 ! "X"; |O #dsm18430#25 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "I01";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#23 = "X";
        |SI #dsm18430#25 < 0;
           aCadena1 = aCadena1 + "N";
           nCalc = 0 - #dsm18430#25; aAlfa = nCalc;
        |SINO;
           aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#25;
        |FINSI;
     |SINO;
        aCadena1 = aCadena1 + " ";     aAlfa = "0";
     |FINSI;
     Long = 10;                        |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = "0";          |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoI02_16;
     |SI #dsm18430#23 ! "X"; |O #dsm18430#26 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "I02";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#23 = "X";
        |SI #dsm18430#26 < 0;
           aCadena1 = aCadena1 + "N";
           nCalc = 0 - #dsm18430#26; aAlfa = nCalc;
        |SINO;
           aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#26;
        |FINSI;
     |SINO;
        aCadena1 = aCadena1 + " ";     aAlfa = "0";
     |FINSI;
     Long = 10;                        |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoI03_16;
     |SI #dsm18430#23 ! "X"; |O #dsm18430#27 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "I03";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#23 = "X";
        |SI #dsm18430#27 < 0;
           aCadena1 = aCadena1 + "N";
           nCalc = 0 - #dsm18430#27; aAlfa = nCalc;
        |SINO;
           aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#27;
        |FINSI;
     |SINO;
        aCadena1 = aCadena1 + " ";     aAlfa = "0";
     |FINSI;
     Long = 10;                        |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoI04_16;
     |SI #dsm18430#23 ! "X"; |O #dsm18430#28 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "I04";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#23 = "X";
        |SI #dsm18430#28 < 0;
           aCadena1 = aCadena1 + "N";
           nCalc = 0 - #dsm18430#28; aAlfa = nCalc;
        |SINO;
           aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#28;
        |FINSI;
     |SINO;
        aCadena1 = aCadena1 + " ";     aAlfa = "0";
     |FINSI;
     Long = 10;                        |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoI05_16;
     |SI #dsm18430#23 ! "X"; |O #dsm18430#29 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "I05";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#23 = "X";
        |SI #dsm18430#29 < 0;
           aCadena1 = aCadena1 + "N";
           nCalc = 0 - #dsm18430#29; aAlfa = nCalc;
        |SINO;
           aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#29;
        |FINSI;
     |SINO;
        aCadena1 = aCadena1 + " ";     aAlfa = "0";
     |FINSI;
     Long = 10;                        |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoI06_16;
     |SI #dsm18430#23 ! "X"; |O #dsm18430#30 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "I06";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#23 = "X";
        |SI #dsm18430#30 < 0;
           aCadena1 = aCadena1 + "N";
           nCalc = 0 - #dsm18430#30; aAlfa = nCalc;
        |SINO;
           aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#30;
        |FINSI;
     |SINO;
        aCadena1 = aCadena1 + " ";     aAlfa = "0";
     |FINSI;
     Long = 10;                        |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoJ01_16;
     |SI #dsm18430#24 ! "X"; |O #dsm18430#25 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "J01";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#24 = "X";
        |SI #dsm18430#25 < 0;
           aCadena1 = aCadena1 + "N";
           nCalc = 0 - #dsm18430#25; aAlfa = nCalc;
        |SINO;
           aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#25;
        |FINSI;
     |SINO;
        aCadena1 = aCadena1 + " ";     aAlfa = "0";
     |FINSI;
     Long = 10;                        |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = "0";          |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoJ02_16;
     |SI #dsm18430#24 ! "X"; |O #dsm18430#26 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "J02";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#24 = "X";
        |SI #dsm18430#26 < 0;
           aCadena1 = aCadena1 + "N";
           nCalc = 0 - #dsm18430#26; aAlfa = nCalc;
        |SINO;
           aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#26;
        |FINSI;
     |SINO;
        aCadena1 = aCadena1 + " ";     aAlfa = "0";
     |FINSI;
     Long = 10;                        |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoJ03_16;
     |SI #dsm18430#24 ! "X"; |O #dsm18430#27 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "J03";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#24 = "X";
        |SI #dsm18430#27 < 0;
           aCadena1 = aCadena1 + "N";
           nCalc = 0 - #dsm18430#27; aAlfa = nCalc;
        |SINO;
           aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#27;
        |FINSI;
     |SINO;
        aCadena1 = aCadena1 + " ";     aAlfa = "0";
     |FINSI;
     Long = 10;                        |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoJ04_16;
     |SI #dsm18430#24 ! "X"; |O #dsm18430#28 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "J04";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#24 = "X";
        |SI #dsm18430#28 < 0;
           aCadena1 = aCadena1 + "N";
           nCalc = 0 - #dsm18430#28; aAlfa = nCalc;
        |SINO;
           aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#28;
        |FINSI;
     |SINO;
        aCadena1 = aCadena1 + " ";     aAlfa = "0";
     |FINSI;
     Long = 10;                        |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoJ05_16;
     |SI #dsm18430#24 ! "X"; |O #dsm18430#29 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "J05";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#24 = "X";
        |SI #dsm18430#29 < 0;
           aCadena1 = aCadena1 + "N";
           nCalc = 0 - #dsm18430#29; aAlfa = nCalc;
        |SINO;
           aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#29;
        |FINSI;
     |SINO;
        aCadena1 = aCadena1 + " ";     aAlfa = "0";
     |FINSI;
     Long = 10;                        |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO TipoJ06_16;
     |SI #dsm18430#24 ! "X"; |O #dsm18430#30 = 0;
         |ACABA;
     |FINSI;

     aCadena1 = aCadena + "J06";
     TipoDato = "N"; LongDec = 2;
     |SI #dsm18430#24 = "X";
        |SI #dsm18430#30 < 0;
           aCadena1 = aCadena1 + "N";
           nCalc = 0 - #dsm18430#30; aAlfa = nCalc;
        |SINO;
           aCadena1 = aCadena1 + " "; aAlfa = #dsm18430#30;
        |FINSI;
     |SINO;
        aCadena1 = aCadena1 + " ";     aAlfa = "0";
     |FINSI;
     Long = 10;                        |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO ClaveK_16;
     |SI nImporte = 0;  |ACABA;  |FINSI;

     aCadena1 = aCadena + aSubClv;
     TipoDato = "N"; LongDec = 2;
     |SI nImporte < 0;
        aCadena1 = aCadena1 + "N";
        nCalc = 0 - nImporte; aAlfa = nCalc;
     |SINO;
        aCadena1 = aCadena1 + " "; aAlfa = nImporte;
     |FINSI;
     Long = 10;                        |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
     Long = 9;   aAlfa = 0;            |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;

     |HAZ GrabaDomi16;
     |HAZ FinalComun;
|FPRC;

|PROCESO dsm18430_16;
     |HAZ Comun_16;
     |HAZ TipoA01_16;
     |HAZ TipoA02_16;
     |HAZ TipoC00_16;
     |HAZ TipoD00_16;
     |HAZ TipoE00_16;
     |HAZ TipoF01_16;
     |HAZ TipoF02_16;
     |HAZ TipoG01_16;
     |HAZ TipoG02_16;
     |HAZ TipoH01_16;
     |HAZ TipoH02_16;
     |HAZ TipoI01_16;
     |HAZ TipoI02_16;
     |HAZ TipoI03_16;
     |HAZ TipoI04_16;
     |HAZ TipoI05_16;
     |HAZ TipoI06_16;
     |HAZ TipoJ01_16;
     |HAZ TipoJ02_16;
     |HAZ TipoJ03_16;
     |HAZ TipoJ04_16;
     |HAZ TipoJ05_16;
     |HAZ TipoJ06_16;

     aSubClv = "K01"; nImporte = #dsm18430#31; |HAZ ClaveK_16;
     aSubClv = "K02"; nImporte = #dsm18430#45; |HAZ ClaveK_16;
     aSubClv = "K03"; nImporte = #dsm18430#46; |HAZ ClaveK_16;
     aSubClv = "K04"; nImporte = #dsm18430#47; |HAZ ClaveK_16;
     aSubClv = "K05"; nImporte = #dsm18430#48; |HAZ ClaveK_16;

     |SI nSwClaveGrabada = 0; || Si no se ha grabado ninguna clave, hay que
                              ||   presentar el socio con clave vacia
        aCadena1 = (aCadena % 0192)  + " 00" + (aCadena % 9664);
        aCadena1 = aCadena1 + " ";
        aAlfa    = "0";
        TipoDato = "N";
        LongDec  = 2;
        Long     = 10;  |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
        Long     = 9;   |HAZ Formateo16; aCadena1 = aCadena1 + aAlfa;
        |HAZ GrabaDomi16;
        |HAZ FinalComun;
     |FINSI;
|FPRC;

|DEFBUCLE dsm18430_16;
     #dsm18430#2;
     ;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, "               ";
     #dsm18401#0, #dsm18401#1, #dsm18401#3, "zzzzzzzzzzzzzzz";
     ;
     NULL, dsm18430_16;
|FIN;

|PROCESO Socios_16;
     |BUCLE dsm18430_16;
|FPRC;

|PROCESO dsm18414_16;
     |HAZ DefectVars_16;
     aClave    = "L";
     aSubClave = #dsm18414#4;
     aPais     = #dsm18414#5;
     nImpGast  = #dsm18414#6;
     |SI nImpGast ! 0; |HAZ RegistroDec_16; |FINSI;
|FPRC;

|DEFBUCLE dsm18414_16;
     #dsm18414#1;
     ;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 001;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 999;
     ;
     NULL, dsm18414_16;
|FIN;

|PROCESO CapituloL_16;
     |BUCLE dsm18414_16;
|FPRC;

|PROCESO CapituloK_16;
     |HAZ DefectVars_16;
     aClave    = "K";
     aSubClave = "01";
     nRetIng   = #dsm18401#50;
     |SI nRetIng ! 0; |HAZ RegistroDec_16; |FINSI;

     |HAZ DefectVars_16;
     aClave    = "K";
     aSubClave = "02";
     nRetIng   = #dsm18401#51;
     |SI nRetIng ! 0; |HAZ RegistroDec_16; |FINSI;

     |HAZ DefectVars_16;
     aClave    = "K";
     aSubClave = "03";
     nRetIng   = #dsm18401#52;
     |SI nRetIng ! 0; |HAZ RegistroDec_16; |FINSI;

     |HAZ DefectVars_16;
     aClave    = "K";
     aSubClave = "04";
     nRetIng   = #dsm18401#53;
     |SI nRetIng ! 0; |HAZ RegistroDec_16; |FINSI;

     |HAZ DefectVars_16;
     aClave    = "K";
     aSubClave = "05";
     nRetIng   = #dsm18401#54;
     |SI nRetIng ! 0; |HAZ RegistroDec_16; |FINSI;
|FPRC;

|PROCESO CapituloJ_16;
     |HAZ DefectVars_16;
     aClave    = "J";
     aSubClave = "01";
     nBaseDed  = #dsm18401#45;
     |SI nBaseDed ! 0; |HAZ RegistroDec_16; |FINSI;

     |HAZ DefectVars_16;
     aClave    = "J";
     aSubClave = "02";
     nBaseDed  = #dsm18401#46;
     |SI nBaseDed ! 0; |HAZ RegistroDec_16; |FINSI;

     |HAZ DefectVars_16;
     aClave    = "J";
     aSubClave = "03";
     nBaseDed  = #dsm18401#48;
     |SI nBaseDed ! 0; |HAZ RegistroDec_16; |FINSI;

     |HAZ DefectVars_16;
     aClave    = "J";
     aSubClave = "04";
     nBaseDed  = #dsm18401#49;
     |SI nBaseDed ! 0; |HAZ RegistroDec_16; |FINSI;
|FPRC;

|PROCESO CapituloI_16;
     |HAZ DefectVars_16;
     aClave    = "I";
     aSubClave = "01";
     nBaseDed  = #dsm18401#38;
     |SI nBaseDed ! 0; |HAZ RegistroDec_16; |FINSI;

     |HAZ DefectVars_16;
     aClave    = "I";
     aSubClave = "02";
     nBaseDed  = #dsm18401#39;
     |SI nBaseDed ! 0; |HAZ RegistroDec_16; |FINSI;

     |HAZ DefectVars_16;
     aClave    = "I";
     aSubClave = "03";
     nBaseDed  = #dsm18401#40;
     |SI nBaseDed ! 0; |HAZ RegistroDec_16; |FINSI;

     |HAZ DefectVars_16;
     aClave    = "I";
     aSubClave = "04";
     nBaseDed  = #dsm18401#41;
     |SI nBaseDed ! 0; |HAZ RegistroDec_16; |FINSI;

     |HAZ DefectVars_16;
     aClave    = "I";
     aSubClave = "05";
     nBaseDed  = #dsm18401#43;
     |SI nBaseDed ! 0; |HAZ RegistroDec_16; |FINSI;

     |HAZ DefectVars_16;
     aClave    = "I";
     aSubClave = "06";
     nBaseDed  = #dsm18401#42;
     |SI nBaseDed ! 0; |HAZ RegistroDec_16; |FINSI;
|FPRC;

|PROCESO CapituloH_16;
     |SI #dsm18401#35 = 0;  |Y #dsm18401#36 = 0;
      |Y #dsm18401#34 = 0;  |Y #dsm18401#37 = 0;
         |ACABA;
     |FINSI;

     |HAZ DefectVars_16;
     aClave    = "H";
     aSubClave = "  ";
     nValLiq   = #dsm18401#35;
     nValAdq   = #dsm18401#36;
     nImpIngr  = #dsm18401#34;
     nImpRtas = #dsm18401#37;
     |HAZ RegistroDec_16;
|FPRC;

|PROCESO dsm18409_16;
     |SI aDPais = "ES"; |Y aHPais = "ES";
         |SI #dsm18409#6 = "G";
             nGan = nGan + #dsm18409#7;
         |SINO;
             nPer = nPer + #dsm18409#7;
         |FINSI;
     |SINO;
         |SI #dsm18409#5 = "ES"; |ACABA; |FINSI;

         |SI aAntPais ! #dsm18409#5;
              |SI nPer ! 0; |O nGan ! 0;
                  aClave = "G";
                  |SI nGan ! 0;
                      |SI aDerecho = "N";
                          aSubClave = "03";
                      |SINO;
                          aSubClave = "07";
                      |FINSI;

                      aPais = aAntPais; nGanPer = nGan;
                      |HAZ RegistroDec_16;
                  |FINSI;

                  |SI nPer ! 0;
                      |SI aDerecho = "N";
                          aSubClave = "04";
                      |SINO;
                          aSubClave = "08";
                      |FINSI;

                      aPais = aAntPais; nGanPer = nPer;
                      |HAZ RegistroDec_16;
                  |FINSI;
              |FINSI;

              aAntPais = #dsm18409#5;
         |FINSI;

         |SI #dsm18408#6 = "G"; nGan = nGan + #dsm18409#7; |FINSI;
         |SI #dsm18408#6 = "P"; nPer = nPer + #dsm18409#7; |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE dsm18409_16;
     #dsm18409#2;
     9;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, aDPais, aDerecho;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, aHPais, aDerecho;
     ;
     NULL, dsm18409_16;
|FIN;

|PROCESO CapituloG_16;
     aDerecho = "N";
     |HAZ DefectVars_16;

     nGan     = 0;
     nPer     = 0;
     aAntPais = "";
     aDPais   = "ES";
     aHPais   = "ES";
     |BUCLE dsm18409_16;

     aClave    = "G";
     aSubClave = "01";
     aPais     = "ES";
     nGanPer   = nGan;
     |SI nGanPer ! 0; |HAZ RegistroDec_16; |FINSI;

     |HAZ DefectVars_16;
     nGan     = 0;
     nPer     = 0;
     aAntPais = "";
     aDPais   = "ES";
     aHPais   = "ES";
     |BUCLE dsm18409_16;

     aClave    = "G";
     aSubClave = "02";
     aPais     = "ES";
     nGanPer   = nPer;
     |SI nGanPer ! 0; |HAZ RegistroDec_16; |FINSI;

     aDPais    = "  ";
     aHPais    = "zz";
     nPer      = 0;
     nGan       = 0;
     |BUCLE dsm18409_16;

     |SI nPer ! 0; |O nGan ! 0;
         aClave = "G";
         |SI nGan ! 0;
             nGanPer   = nGan;
             aSubClave = "03";
             aPais     = aAntPais;
             |HAZ RegistroDec_16;
         |FINSI;

         |SI nPer ! 0;
             nGanPer   = nPer;
             aSubClave = "04";
             aPais     = aAntPais;
             |HAZ RegistroDec_16;
        |FINSI;
     |FINSI;

     aDerecho = "S";
     |HAZ DefectVars_16;

     nGan     = 0;
     nPer     = 0;
     aAntPais = "";
     aDPais   = "ES";
     aHPais   = "ES";
     |BUCLE dsm18409_16;

     aClave    = "G";
     aSubClave = "05";
     aPais     = "ES";
     nGanPer   = nGan;
     |SI nGanPer ! 0; |HAZ RegistroDec_16; |FINSI;

     |HAZ DefectVars_16;
     nGan      = 0;
     nPer      = 0;
     aAntPais  = "";
     aDPais    = "ES";
     aHPais    = "ES";
     |BUCLE dsm18409_16;

     aClave    = "G";
     aSubClave = "06";
     aPais     = "ES";
     nGanPer   = nPer;
     |SI nGanPer ! 0; |HAZ RegistroDec_16; |FINSI;

     aDPais    = "  ";
     aHPais    = "zz";
     nPer      = 0;
     nGan      = 0;
     |BUCLE dsm18409_16;

     |SI nPer ! 0; |O nGan ! 0;
         aClave = "G";
         |SI nGan ! 0;
             nGanPer   = nGan;
             aSubClave = "07";
             aPais     = aAntPais;
             |HAZ RegistroDec_16;
         |FINSI;

         |SI nPer ! 0;
             nGanPer   = nPer;
             aSubClave = "08";
             aPais     = aAntPais;
             |HAZ RegistroDec_16;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO dsm18408_16;
     |SI aDPais = "ES"; |Y aHPais = "ES";
        |SI #dsm18408#5 = "G";
           nGan = nGan + #dsm18408#6;
        |SINO;
           nPer = nPer - #dsm18408#6;
        |FINSI;
     |SINO;
        |SI #dsm18408#4 = "ES"; |ACABA; |FINSI;
        |SI aAntPais ! #dsm18408#4;
           |SI nPer ! 0; |O nGan ! 0;
              aClave = "F";
              |SI nGan ! 0;
                 nGanPer = nGan; aSubClave = "03"; aPais = aAntPais;
                 |HAZ RegistroDec_16;
              |FINSI;
              |SI nPer ! 0;
                 nGanPer = nPer; aSubClave = "04"; aPais = aAntPais;
                 |HAZ RegistroDec_16;
              |FINSI;
           |FINSI;
           aAntPais = #dsm18408#4;
           |HAZ DefectVars_16; nGan = 0; nPer = 0;
        |FINSI;
        |SI #dsm18408#5 = "G"; nGan = nGan + #dsm18408#6; |FINSI;
        |SI #dsm18408#5 = "P"; nPer = nPer + #dsm18408#6; |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE dsm18408_16;
     #dsm18408#2;
     ;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, aDPais;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, aHPais;
     ;
     NULL, dsm18408_16;
|FIN;

|PROCESO CapituloF_16;
     |HAZ DefectVars_16;
     nGan   = 0;
     nPer   = 0;
     aDPais = "ES";
     aHPais = "ES";
     |BUCLE dsm18408_16;

     aClave    = "F";
     aSubClave = "01";
     aPais     = "ES";
     nGanPer   = nGan;
     |SI nGanPer ! 0; |HAZ RegistroDec_16; |FINSI;

     aClave    = "F";
     aSubClave = "02";
     aPais     = "ES";
     nGanPer   = nPer;
     |SI nGanPer ! 0; |HAZ RegistroDec_16; |FINSI;

     aDPais = "  ";
     aHPais = "zz";
     nPer   = 0;
     nGan   = 0;
     |BUCLE dsm18408_16;

     |SI nPer ! 0; |O nGan ! 0;
         aClave = "F";
         |SI nGan ! 0;
             nGanPer   = nGan;
             aSubClave = "03";
             aPais     = aAntPais;
             |HAZ RegistroDec_16;
         |FINSI;

         |SI nPer ! 0;
             nGanPer   = nPer;
             aSubClave = "04";
             aPais     = aAntPais;
             |HAZ RegistroDec_16;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO dsm18407_16;
     |HAZ DefectVars_16;

     aClave    = "E";
     aSubClave = "";
     aNifCes   = #dsm18407#4;
     aNomCes   = #dsm18407#5;
     aAlfa     = #dsm18407#6; |QBF aAlfa;
     aAlfa1    = aAlfa % 0102;
     nDiaAdq   = aAlfa1;
     aAlfa1    = aAlfa % 0402;
     nMesAdq   = aAlfa1;
     aAlfa1    = aAlfa % 0704;
     nAnyoAdq  = aAlfa1;
     nValLiq   = #dsm18407#7;
     nValAdq   = #dsm18407#8;
     nImpRtas  = #dsm18407#9;
     |HAZ RegistroDec_16;
|FPRC;

|DEFBUCLE dsm18407_16;
     #dsm18407#1;
     ;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 001;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 999;
     ;
     NULL, dsm18407_16;
|FIN;

|PROCESO CapituloE_16;
     |BUCLE dsm18407_16;
|FPRC;

|PROCESO dsm18431_16;
     |SI #dsm18431#4 = "ES"; |ACABA; |FINSI;

     |SI aAntPais ! #dsm18431#4;
         |SI nImpIngr ! 0; |O nImpGast ! 0; |O nImpRtas ! 0;
             aSubClave = "02";
             aPais     = aAntPais;
             aTRegimen = #dsm18406#4;
             aTActivid = #dsm18406#5; nEpigrafe = #dsm18406#6;

             |SI nImpIngr ! 0; |O nImpGast ! 0; |O nImpRtas ! 0;
                 |HAZ RegistroDec_16;
                 |HAZ DefectVars_16;

                 nImpIngr = 0;
                 nImpGast = 0;
                 nImpRtas = 0;
                 nNumeA   = 0;
                 nNumeB   = 0;
                 nNumeC   = 0;
                 nNumeD   = 0;
             |FINSI;
         |FINSI;

         aAntPais = #dsm18431#4;
     |FINSI;

     nImpIngr = nImpIngr + #dsm18431#6;
     nImpGast = nImpGast + #dsm18431#7;
     nImpRtas = nImpRtas + #dsm18431#8;

     nNumeA   = nNumeA + #dsm18431#11;
     nNumeB   = nNumeB + #dsm18431#12;
     nNumeC   = nNumeC + #dsm18431#13;
     nNumeD   = nNumeD + #dsm18431#14;
|FPRC;

|DEFBUCLE dsm18431_16;
     #dsm18431#1;
     ;
     #dsm18406#0, #dsm18406#1, #dsm18406#2, #dsm18406#3, "  ", " ";
     #dsm18406#0, #dsm18406#1, #dsm18406#2, #dsm18406#3, "zz", "z";
     ;
     NULL, dsm18431_16;
|FIN;

|PROCESO dsm18406_16;
     |HAZ DefectVars_16;

     aSubClave = "01";
     aTRegimen = #dsm18406#4;
     aTActivid = #dsm18406#5;
     nEpigrafe = #dsm18406#6;

     nImpIngr  = #dsm18406#7;
     nImpGast  = #dsm18406#8;
     nImpRtas  = #dsm18406#9;
     nNumeA    = #dsm18406#17;
     nNumeB    = #dsm18406#18;
     nNumeC    = #dsm18406#19;
     nNumeD    = #dsm18406#20;
     aCyP      = " ";
     |SI #dsm18406#25 = "S";  aCyP = "X";  |FINSI;

     |SI nImpIngr ! 0; |O nImpGast ! 0; |O nImpRtas ! 0;
      |O nNumeA ! 0;   |O nNumeB ! 0;   |O nNumeC ! 0;
      |O nNumeD ! 0;
         nDatosClvD = 1;
         |HAZ RegistroDec_16;
     |FINSI;

     nImpIngr = 0;
     nImpGast = 0;
     nImpRtas = 0;
     nNumeA   = 0;
     nNumeB   = 0;
     nNumeC   = 0;
     nNumeD   = 0;
     |HAZ DefectVars_16;
     |BUCLE dsm18431_16;

     aSubClave = "02";
     aPais     = aAntPais;
     aTRegimen = #dsm18406#4;
     aTActivid = #dsm18406#5;
     nEpigrafe = #dsm18406#6;

     |SI nImpIngr ! 0; |O nImpGast ! 0; |O nImpRtas ! 0;
      |O nNumeA   ! 0; |O nNumeB   ! 0; |O nNumeC   ! 0;
      |O nNumeD   ! 0;
         nDatosClvD = 1;
         |HAZ RegistroDec_16;
     |FINSI;

     |HAZ DefectVars_16;

     aSubClave = "03";
     aTRegimen = #dsm18406#4;
     aTActivid = #dsm18406#5;
     nEpigrafe = #dsm18406#6;
     nImpRtaR  = #dsm18406#13;

     |SI nImpRtaR ! 0;
         nDatosClvD = 1;
         |HAZ RegistroDec_16;
     |FINSI;
|FPRC;

|DEFBUCLE dsm18406_16;
     #dsm18406#1;
     ;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 01;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 99;
     ;
     NULL, dsm18406_16;
|FIN;

|PROCESO CapituloD_16;
     nDatosClvD = 0;
     aClave     = "D";
     |BUCLE dsm18406_16;
|FPRC;

|| /////////////////////////////////////////////////
|PROCESO dsm18431_19;
     |SI #dsm18431#4 = "ES"; |ACABA; |FINSI;

     |SI aAntPais ! #dsm18431#4;
         |SI nImpIngr ! 0; |O nImpGast ! 0; |O nImpRtas ! 0;
             aSubClave = "02";
             aPais     = aAntPais;
             aTRegimen = #dsm18406#4;
             aTActivid = #dsm18406#5; nEpigrafe = #dsm18406#6;

             |SI nImpIngr ! 0; |O nImpGast ! 0; |O nImpRtas ! 0;
                 |HAZ RegistroDec_19;
                 |HAZ DefectVars_16;

                 nImpIngr = 0;
                 nImpGast = 0;
                 nImpRtas = 0;
             |FINSI;
         |FINSI;

         aAntPais = #dsm18431#4;
     |FINSI;

     |SI aTRegimen = "3"; |Y aTActivid = "2";
         #dsm18431#6  = 0;
         #dsm18431#7  = 0;

         #dsm18431#11 = 0;
         #dsm18431#12 = 0;
         #dsm18431#13 = 0;
         #dsm18431#14 = 0;
         |PDEFECTO #dsm18431, 16, 23;
     |FINSI;

     nImpIngr = nImpIngr + #dsm18431#6;
     nImpGast = nImpGast + #dsm18431#7;
     nImpRtas = nImpRtas + #dsm18431#8;

     nNumeA   = nNumeA + #dsm18431#11;
     nNumeB   = nNumeB + #dsm18431#12;
     nNumeC   = nNumeC + #dsm18431#13;

     nNumeD   = nNumeD + #dsm18431#16;
     nNumeE   = nNumeE + #dsm18431#17;
     nNumeF   = nNumeF + #dsm18431#18;
     nNumeG   = nNumeG + #dsm18431#19;
     nNumeH   = nNumeH + #dsm18431#20;
     nNumeI   = nNumeI + #dsm18431#21;
     nNumeJ   = nNumeJ + #dsm18431#22;

     nNumeK   = nNumeK + #dsm18431#14;
|FPRC;

|DEFBUCLE dsm18431_19;
     #dsm18431#1;
     ;
     #dsm18406#0, #dsm18406#1, #dsm18406#2, #dsm18406#3, "  ", " ";
     #dsm18406#0, #dsm18406#1, #dsm18406#2, #dsm18406#3, "zz", "z";
     ;
     NULL, dsm18431_19;
|FIN;

|PROCESO dsm18406_19;
     |HAZ DefectVars_16;

     aSubClave = "01";
     aTRegimen = #dsm18406#4;
     aTActivid = #dsm18406#5;
     nEpigrafe = #dsm18406#6;
     |SI aTRegimen = "3"; |Y aTActivid = "2";
         #dsm18406#7  = 0;
         #dsm18406#8  = 0;
         |PDEFECTO #dsm18406,17,21;
         |PDEFECTO #dsm18406,27,34;
     |FINSI;

     nImpIngr  = #dsm18406#7;
     nImpGast  = #dsm18406#8;
     nImpRtas  = #dsm18406#9;
     nNumeA    = #dsm18406#17;
     nNumeB    = #dsm18406#18;
     nNumeC    = #dsm18406#19;

     nNumeK    = #dsm18406#20;
     nNumeD    = #dsm18406#27;
     nNumeE    = #dsm18406#28;
     nNumeF    = #dsm18406#29;
     nNumeG    = #dsm18406#30;
     nNumeH    = #dsm18406#31;
     nNumeI    = #dsm18406#32;
     nNumeJ    = #dsm18406#33;

     aCyP      = " ";
     |SI #dsm18406#25 = "S";  aCyP = "X";  |FINSI;

     |SI nImpIngr ! 0; |O nImpGast ! 0; |O nImpRtas ! 0;
      |O nNumeA ! 0;   |O nNumeB ! 0;   |O nNumeC ! 0;
       |O nNumeD ! 0;   |O nNumeE ! 0;   |O nNumeF ! 0;
        |O nNumeG ! 0;   |O nNumeH ! 0;   |O nNumeI ! 0;
          |O nNumeJ ! 0;   |O nNumeK ! 0;
         nDatosClvD = 1;
         |HAZ RegistroDec_19;
     |FINSI;

     nImpIngr = 0;
     nImpGast = 0;
     nImpRtas = 0;
     |HAZ DefectVars_16;

     |BUCLE dsm18431_19;

     aSubClave = "02";
     aPais     = aAntPais;
     aTRegimen = #dsm18406#4;
     aTActivid = #dsm18406#5;
     nEpigrafe = #dsm18406#6;

     |SI nImpIngr ! 0; |O nImpGast ! 0; |O nImpRtas ! 0;
      |O nNumeA   ! 0; |O nNumeB   ! 0; |O nNumeC   ! 0;
       |O nNumeD   ! 0; |O nNumeE   ! 0; |O nNumeF   ! 0;
        |O nNumeG   ! 0; |O nNumeH   ! 0; |O nNumeI   ! 0;
          |O nNumeJ   ! 0; |O nNumeK   ! 0;
         nDatosClvD = 1;
         |HAZ RegistroDec_19;
     |FINSI;

     |HAZ DefectVars_16;

     aSubClave = "03";
     aTRegimen = #dsm18406#4;
     aTActivid = #dsm18406#5;
     nEpigrafe = #dsm18406#6;
     nImpRtaR  = #dsm18406#13;

     |SI nImpRtaR ! 0;
         nDatosClvD = 1;
         |HAZ RegistroDec_19;
     |FINSI;
|FPRC;

|DEFBUCLE dsm18406_19;
     #dsm18406#1;
     ;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 01;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 99;
     ;
     NULL, dsm18406_19;
|FIN;

|PROCESO CapituloD_19;
     nDatosClvD = 0;
     aClave     = "D";
     |BUCLE dsm18406_19;
|FPRC;

|PROCESO dsm18405_19;
     |HAZ DefectVars_16;

     aPais = #dsm18405#5;

     |SI aSubClave = "01";
         |SI aPais = "ES";
             |SI #dsm18405#6 ! 0;  |O #dsm18405#7 ! 0;
              |O #dsm18405#8 ! 0;
                 nImpIngr  = #dsm18405#6;
                 nImpGast  = #dsm18405#7;
                 nImpRtas  = #dsm18405#8;
                 nNumeA    = #dsm18405#20;
                 nNumeB    = #dsm18405#21;
                 nNumeC    = #dsm18405#22;
                 nNumeD    = #dsm18405#23;
                 nNumeE    = #dsm18405#24;
                 nNumeF    = #dsm18405#25;
                 nNumeG    = #dsm18405#26;
                 nNumeH    = #dsm18405#27;
                 nNumeI    = #dsm18405#28;
                 nNumeJ    = #dsm18405#29;
                 |HAZ RegistroDec_19;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI aSubClave = "02";
         |SI aPais ! "ES";
             |SI #dsm18405#6 ! 0;  |O #dsm18405#7 ! 0;
              |O #dsm18405#8 ! 0;
                 nImpIngr  = #dsm18405#6;
                 nImpGast  = #dsm18405#7;
                 nImpRtas  = #dsm18405#8;
                 nNumeA    = #dsm18405#20;
                 nNumeB    = #dsm18405#21;
                 nNumeC    = #dsm18405#22;
                 nNumeD    = #dsm18405#23;
                 nNumeE    = #dsm18405#24;
                 nNumeF    = #dsm18405#25;
                 nNumeG    = #dsm18405#26;
                 nNumeH    = #dsm18405#27;
                 nNumeI    = #dsm18405#28;
                 nNumeJ    = #dsm18405#29;
                 |HAZ RegistroDec_19;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI aSubClave = "03";
         |SI #dsm18405#10 ! 0;
            aPais     = "  ";
            nPorcRed  = #dsm18405#9;
            nImpRtaR  = #dsm18405#10;
            |HAZ RegistroDec_19;
         |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE dsm18405_19;
     #dsm18405#1;
     ;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 001;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 999;
     ;
     NULL, dsm18405_19;
|FIN;

|PROCESO CapituloC_19;
     aClave    = "C";
     aSubClave = "01";
     |BUCLE dsm18405_19;

     aClave    = "C";
     aSubClave = "02";
     |BUCLE dsm18405_19;

     aClave    = "C";
     aSubClave = "03";
     |BUCLE dsm18405_19;
|FPRC;

|| /////////////////////////////////////////////////

|PROCESO dsm18405_16;
     |HAZ DefectVars_16;

     aPais = #dsm18405#5;

     |SI aSubClave = "01";
         |SI aPais = "ES";
             |SI #dsm18405#6 ! 0;  |O #dsm18405#7 ! 0;
              |O #dsm18405#8 ! 0;
                 nImpIngr  = #dsm18405#6;
                 nImpGast  = #dsm18405#7;
                 nImpRtas  = #dsm18405#8;
                 |HAZ RegistroDec_16;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI aSubClave = "02";
         |SI aPais ! "ES";
             |SI #dsm18405#6 ! 0;  |O #dsm18405#7 ! 0;
              |O #dsm18405#8 ! 0;
                 nImpIngr  = #dsm18405#6;
                 nImpGast  = #dsm18405#7;
                 nImpRtas  = #dsm18405#8;
                 |HAZ RegistroDec_16;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI aSubClave = "03";
         |SI #dsm18405#10 ! 0;
            aPais     = "  ";
            nPorcRed  = #dsm18405#9;
            nImpRtaR  = #dsm18405#10;
            |HAZ RegistroDec_16;
         |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE dsm18405_16;
     #dsm18405#1;
     ;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 001;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 999;
     ;
     NULL, dsm18405_16;
|FIN;

|PROCESO CapituloC_16;
     aClave    = "C";
     aSubClave = "01";
     |BUCLE dsm18405_16;

     aClave    = "C";
     aSubClave = "02";
     |BUCLE dsm18405_16;

     aClave    = "C";
     aSubClave = "03";
     |BUCLE dsm18405_16;
|FPRC;

|PROCESO dsm18404_16;
     |HAZ DefectVars_16;

     aClave     = "B";
     aSubClave  = "  ";
     aPais      = #dsm18404#7;
     aNifCes    = #dsm18404#4;
     aNomCes    = #dsm18404#5;
     nImpIngr   = #dsm18404#6;
     |HAZ RegistroDec_16;
|FPRC;

|DEFBUCLE dsm18404_16;
     #dsm18404#1;
     ;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 001;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 999;
     ;
     NULL, dsm18404_16;
|FIN;

|PROCESO CapituloB_16;
     |BUCLE dsm18404_16;
|FPRC;

|PROCESO dsm18403_16;
     |SI aSubClave = "01";
         |SI #dsm18403#5 = "ES";
             |SI nSw = 0;  |HAZ DefectVars_16;  |FINSI;

             aPais    = #dsm18403#5;
             nImpIngr = nImpIngr + #dsm18403#6;
             nImpGast = nImpGast + #dsm18403#7;
             nImpRtas = nImpRtas +  #dsm18403#8;
             nSw      = 1;
         |FINSI;
     |FINSI;

     |SI aSubClave = "02";
         |SI #dsm18403#5 ! "ES";
             |SI nSw = 0;  |HAZ DefectVars_16;  |FINSI;

             aPais    = #dsm18403#5;
             nImpIngr = nImpIngr + #dsm18403#6;
             nImpGast = nImpGast + #dsm18403#7;
             nImpRtas = nImpRtas +  #dsm18403#8;
             nSw      = 1;
         |FINSI;
     |FINSI;

     |SI aSubClave = "03";
         |SI #dsm18403#10 ! 0;
             |SI nSw = 0;  |HAZ DefectVars_16;  |FINSI;

             aPais = "  ";
             nPorcRed = #dsm18403#9;
             nImpRtaR = nImpRtaR + #dsm18403#10;
             nSw      = 1;
         |FINSI;
     |FINSI;
|FPRC;

|DEFBUCLE dsm18403_16;
     #dsm18403#1;
     ;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 001;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, 999;
     ;
     NULL, dsm18403_16;
|FIN;

|PROCESO CapituloA_16;
     nSw       = 0;
     aClave    = "A";
     aSubClave = "01";
     |BUCLE dsm18403_16;
     |SI nSw = 1; |HAZ RegistroDec_16; |FINSI;

     nSw       = 0;
     aClave    = "A";
     aSubClave = "02";
     |BUCLE dsm18403_16;
     |SI nSw = 1; |HAZ RegistroDec_16; |FINSI;

     nSw       = 0;
     aClave    = "A";
     aSubClave = "03";
     |BUCLE dsm18403_16;
     |SI nSw = 1; |HAZ RegistroDec_16; |FINSI;
|FPRC;

|PROCESO Declarantes_16;
     aCadena = "";
     |PARA nCont = 1; |SI nCont [ 24; |HACIENDO nCont = nCont + 1;
           eaAlfa  = #dsw18402#nCont#;  |HAZ QuitaRaros;
           aCadena = eaAlfa;
           |XGRABA nHandle, aCadena;
     |SIGUE;

     aCadena = " " * 250;
     |XGRABA nHandle, aCadena;

     |SI eaOpcion = "3";
         aCadena = &13 + &10;
         |XGRABA nHandle, aCadena;
     |FINSI;

     |HAZ CapituloA_16;
     |HAZ CapituloB_16;
     |SI #dsm18401#1 < 2019;
         |HAZ CapituloC_16;
         |HAZ CapituloD_16;
     |SINO;
         |HAZ CapituloC_19;
         |HAZ CapituloD_19;
     |FINSI;
     |HAZ CapituloE_16;
     |HAZ CapituloF_16;
     |HAZ CapituloG_16;
     |HAZ CapituloH_16;
     |HAZ CapituloI_16;
     |HAZ CapituloJ_16;
     |HAZ CapituloK_16;
     |HAZ CapituloL_16;
     |HAZ Socios_16;
|FPRC;

|PROCESO dsm18406D;
     |SI #dsm18406#7 ! 0; |O #dsm18406#8 ! 0; |O #dsm18406#10 ! 0; |O #dsm18406#11 ! 0;
         nSwClaveD = 1; |ERROR10;
     |FINSI;
|FPRC;

|DEFBUCLE dsm18406D;
     #dsm18406#1;
     ;
     #dsm18430#0, #dsm18430#1, #dsm18430#33, 001;
     #dsm18430#0, #dsm18430#1, #dsm18430#33, 999;
     ;
     NULL, dsm18406D;
|FIN;

|PROCESO dsm18432D;
     nNumSocs = nNumSocs + 1;
|FPRC;

|DEFBUCLE dsm18432D;
     #dsm18432#2;
     ;
     #dsm18430#0, #dsm18430#1, #dsm18430#33, #dsm18430#34, 001;
     #dsm18430#0, #dsm18430#1, #dsm18430#33, #dsm18430#34, 999;
     ;
     NULL, dsm18432D;
|FIN;

|PROCESO CuentaSocios_16;
     nCalc     = nNumSocs;
     nSwClaveD = 0;
     |BUCLE dsm18406D;

     |SI #dsm18430#12 ! 0; nNumSocs = nNumSocs + 1; |FINSI;

     |SI #dsm18430#14 ! 0;
         |BUCLE dsm18432D;
     |FINSI;

     |SI #dsm18430#16 ! 0; |O nSwClaveD = 1;
         nNumSocs = nNumSocs + 1;
     |FINSI;

     |SI #dsm18430#18 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#19 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#20 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#21 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#22 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#25 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#26 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#27 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#28 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#29 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#30 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#31 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#43 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#45 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#46 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#47 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#48 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#49 ! 0; nNumSocs = nNumSocs + 1; |FINSI;
     |SI #dsm18430#50 ! 0; nNumSocs = nNumSocs + 1; |FINSI;

     |SI nCalc = nNumSocs;
        nNumSocsDec = nNumSocsDec + 1;
     |SINO;
        nNumSocsDec = nNumSocsDec + (nNumSocs - nCalc);
     |FINSI;
|FPRC;

|DEFBUCLE CuentaSocios_16;
     #dsm18430#2;
     ;
     #dsm18401#0, #dsm18401#1, #dsm18401#3, "               ";
     #dsm18401#0, #dsm18401#1, #dsm18401#3, "zzzzzzzzzzzzzzz";
     ;
     NULL, CuentaSocios_16;
|FIN;

|PROCESO dsm18401_2016;
     eaFicheroPlano = eaModelos + (("00000" + #20#0) % -105) + ".txt";
     eaFicheroImpre = eaModelos + (("00000" + #20#0) % -105) + ".imp";
     eaFicheroSalid = eaModelos + (("00000" + #20#0) % -105) + ".sal";
     eaFicheroError = "err" + (("00000" + #20#0) % -105) + ".txt";

     aAbre = eaPathEmision + eaFicheroPlano;
     |XABRE "BW", aAbre, nHandle;

     nNumSocsDec = 0;
     nNumSocs    = 0;
     |BUCLE CuentaSocios_16;

     |DDEFECTO #dsw18402;        ||Declarante
     #dsw18402#0 = #20#0;
     #dsw18402#3 = #20#1;
     aAlfa  = #20#8; |QBF aAlfa;
     TipoDato = "An"; LongDec = 0; Long = 9; |HAZ Formateo16;
     #dsw18402#4 = aAlfa;
     aAlfa  = #20#9; |QBF aAlfa;
     TipoDato = "An"; LongDec = 0; Long = 40; |HAZ Formateo16;
     #dsw18402#5 = aAlfa;

     |SI eaOpcion = "3"; |O eaOpcion = "1";
         #dsw18402#6 = "T";
     |SINO;
         #dsw18402#6 = "P";
     |FINSI;

     aAlfa = #20#16; |QBT aAlfa;
     aAlfa = (aAlfa + (" " * 9)) % 0109; #dsw18402#7 = aAlfa;
     aAlfa = #20#55; |QBF aAlfa;
     TipoDato = "An"; LongDec = 0; Long = 40; |HAZ Formateo16;
     #dsw18402#8 = aAlfa;

     #dsw18402#9 = "1840000000000";
     |SI #20#3 = 0;
         #dsw18402#10 = " ";
         #dsw18402#11 = " ";
         #dsw18402#12 = "0000000000000";
     |SINO;
         |SI #20#7 = "0000000000";
             #dsw18402#10 = "C";
             #dsw18402#11 = " ";
             #dsw18402#12 = "0000000000000";
         |SINO;
             #dsw18402#10 = " ";
             #dsw18402#11 = "S";
             aAlfa        = "184" + (("0000000000" + #20#7) % -110);
             #dsw18402#12 = aAlfa;
         |FINSI;
     |FINSI;
     aAlfa   = nNumSocsDec; aAlfa = (("0" * 9) + aAlfa) % -109;
     #dsw18402#13 = aAlfa;
     #dsw18402#14 = #20#18;
     #dsw18402#15 = #20#19;
     #dsw18402#16 = #20#20;
     #dsw18402#17 = #20#21;
     #dsw18402#18 = #20#22;
     nCalc   = #20#23; nCalc = nCalc * 100; aAlfa = nCalc;
     aAlfa   = (("0" * 5) + aAlfa) % -105;
     #dsw18402#19 = aAlfa;
     |SI #20#56 = "S";
         #dsw18402#20 = "X";
     |SINO;
         #dsw18402#20 = " ";
     |FINSI;
     nCalc   = #20#24; nCalc = nCalc * 100; aAlfa = nCalc;
     aAlfa   = (("0" * 15) + aAlfa) % -115;
     #dsw18402#21 = aAlfa;
     aAlfa   = #20#25; |QBF aAlfa;
     aAlfa   = (aAlfa + (" " * 9)) % 0109;  #dsw18402#22 = aAlfa;
     aAlfa = #20#26; |QBF aAlfa;
     TipoDato = "An"; LongDec = 0; Long = 40; |HAZ Formateo16;
     #dsw18402#23 = aAlfa;
     #dsw18402#25 = #dsz18401#35;
     aAlfa = #dsz18401#33; |QBF aAlfa;
     TipoDato = "An"; LongDec = 0; Long = 40; |HAZ Formateo16;
     #dsw18402#26 = aAlfa;
     aAlfa = #dsz18401#34; |QBF aAlfa;
     TipoDato = "An"; LongDec = 0; Long = 40; |HAZ Formateo16;
     #dsw18402#27 = aAlfa;

     nNumDecl = 1; |HAZ Declarantes_16;

     |XCIERRA nHandle;

     enEmpresa    = #20#0;
     eaNomEmpresa = #20#4;

     #dsmoy000#0 = 184;
     #dsmoy000#6 = #dsz18401#13;
     |HAZ PresentaPortal;
|FPRC;

|DEFBUCLE dsm18401_2016;
     #dsm18401#1;
     ;
     nDEmpresa, #dsz18401#13, 184, #dsz18401#28;
     nHEmpresa, #dsz18401#13, 184, #dsz18401#28;
     ;
     NULL, dsm18401_2016;
|FIN;

|PROCESO Individual2016;
     |SI #dsz18401#0 = "N";
         nDEmpresa = #dsz18401#1;
         nHEmpresa = #dsz18401#2;
         |BUCLE dsm18401_2016;
     |SINO;
         |PARA nPara1 = 3; |SI nPara1 [ 12; |HACIENDO nPara1 = nPara1 + 1;
               |SI #dsz18401#nPara1# ! 0;
                   nDEmpresa = #dsz18401#nPara1#;
                   nHEmpresa = #dsz18401#nPara1#;
                   |BUCLE dsm18401_2016;
               |FINSI;
         |SIGUE;
     |FINSI;
|FPRC;

|PROCESO Bloque2016;
     enAnyo     = #dsz18401#13;
     eaModelos  = "184";
     eaEjer     = #dsz18401#13;

     eaPathLanza = eaUnidad + "\MODELOS";            |RMKDIR eaPathLanza;
     eaPathLanza = eaPathLanza + "\" + eaModelos;    |RMKDIR eaPathLanza;
     eaPathLanza = eaPathLanza + "\" + eaEjer;       |RMKDIR eaPathLanza;
     eaPathLanza = eaPathLanza + "\";

     |DBASE eaPathEmision;
     eaPathEmision = eaPathEmision + "emisiones";       |MKDIR eaPathEmision;
     eaPathEmision = eaPathEmision + "/" + eaModelos;   |MKDIR eaPathEmision;
     eaPathEmision = eaPathEmision + "/" + eaEjer;      |MKDIR eaPathEmision;
     eaPathEmision = eaPathEmision + "/";

     eaPathInternet = eaUnidad + "/AEAT";                |RMKDIR eaPathInternet;
     eaPathInternet = eaPathInternet + "/INTERNET";      |RMKDIR eaPathInternet;
     eaPathInternet = eaPathInternet + "/" + eaModelos;  |RMKDIR eaPathInternet;
     eaPathInternet = eaPathInternet + "/" + eaEjer;     |RMKDIR eaPathInternet;
     eaPathInternet = eaPathInternet + "/";

     |HAZ Botones_2015;
     |SI eaOpcion = "0";  |ACABA;  |FINSI;

     aFichero = "dsw18402" + Usuario;
     |NOME_DAT #dsw18402#aFichero#;
     |ABRE #dsw18402;  |CIERRA #dsw18402;  |DELINDEX #dsw18402;
     |ABRE #dsw18402;

     fFecha = #dsz18401#35; fFecha = fFecha % 2; aAlfa = fFecha;
     eaFecha = aAlfa % 1199;

     |ABRE #eosclien;
     |HAZ Individual2016;
     |CIERRA #eosclien;
     |CIERRA #dsw18402;
     |DELINDEX #dsw18402;

     |SI eaOpcion = "3";
         |SI enPresentar = 0;
             aAlfa =  "      Los ficheros generados estan: " + eaPathInternet + " de su PC";
             |MENAV aAlfa;
         |FINSI;
     |FINSI;
|FPRC;
