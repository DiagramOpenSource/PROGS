|FICHEROS;
   eoszcdes #0;
   eosactiv #1;
   eosw0019 #2;
|FIN;

|VARIABLES;
   linea = 0;
|FIN;

|INCLUYE i_ficher;

|RUTINA inferior;
#2#0 = 1;
|FRUT;

|RUTINA superior;
#2#0 = linea;
|FRUT;

|PROCESO carga_ind;
linea = linea + 1;
#2#00 = linea;
#2#01 = #1#0;
#2#02 = #1#1;
#2#03 = #1#2;
#2#04 = #1#3;
#2#05 = #1#4;
#2#06 = #1#5;
#2#07 = #1#6;
#2#08 = #1#29;
#2#09 = #1#43;
#2#10 = #1#44;
|GRABA 040#2n;
|FPRC;

|DEFBUCLE eosactiv;
#1#1;
43, 44;
00000, 0, #0#4, #0#0, #0#2;
99999, 9, #0#4, #0#1, #0#3;
e;
NULL, carga_ind;
|FIN;

|PROCESO carga_act;
#1#0 = #2#1;
#1#1 = #2#2;
#1#2 = #2#3;
|LIBERA #1;
|LEE 140#1=;
|SI FSalida = 0;
    #1#29 = #2#8;
    #1#43 = #2#9;
    #1#44 = #2#10;
    |GRABA 140#1a;
|FINSI;
|FPRC;

|DEFBUCLE eosw0019;
#2#1;
;
00000;
99999;
e;
NULL, carga_act;
|FIN;



|PROCESO tipo_3; |TIPO 3;
comienza = "19";
|HAZ fichero;
|NOME_DAT #2 fichero;
|ABRE #2; |CIERRA #2; |DELINDEX #2;

linea = 0;
|ABRE #2;
|BUCLE eosactiv;
|CIERRA #2;

|SI linea ! 0;
    |PINPA #0#2;
    |ENTLINEAL #1#2, 1, 2, 20, 0, inferior, superior;
    |CONFI "2400SDesea grabar lo modificado en el fichero de Actividades : ";
    |SI FSalida = 0;
        |ABRE #1;
        |BUCLE eosw0019;
        |CIERRA #1;
    |FINSI;
|FINSI;
|DELINDEX #2;
|FPRC;

|PROCESO cuadro_1; |TIPO 7;
|PUSHV 0501 2380;
|CUADRO 1316 2158;
|ATRI R;
|PINTA 1417, " 1 = Regimen Ordinario                   ";
|PINTA 1517, " 2 = Regimen especial de bienes usados   ";
|PINTA 1617, " 3 = Regimen especial de objetos de arte ";
|PINTA 1717, "     antiguedades y objetos de coleccion ";
|PINTA 1817, " 4 = Regimen especial Agencias de Viaje  ";
|PINTA 1917, " 5 = Regimen especial determinacion pro- ";
|PINTA 2017, "     porcional.                          ";
|ATRI 0;
|FPRC;

|PROCESO recupera; |TIPO 0;
|POPV;
|PINTA #2Campo;
|FPRC;
