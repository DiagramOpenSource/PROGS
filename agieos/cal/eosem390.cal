|FICHEROS;
     eosem390 #0;
     eosm1390 #1;
     eosclien #2;
     eoshacie #3;
     eosdaban #4;
     eoscomul #5;
     eosm2390 #6;
     eosm3390 #7;
     eosm4390 #8;
     eosm5390 #9;
|FIN;

|VARIABLES;
     informe   = "";
     xxxxfiac  = "  ";
     xxaponer  = "  ";
     xrelleno  = "                              ";
     sw_fisica = 0;
     vacio_20  = "                    ";
     vacio_16  = "                ";
     vacio_12  = "            ";
     vacio_10  = "          ";
     x         = 0;
     sw_sigue  = 0;
     sw_impre  = 0;
     d_cliente = 0;
     h_cliente = 0;

     {-1]} Menu  = "";
           Menu1 = "2400";
           Menu2 = "1";
           Menu3 = "Elija Impresion : ";
           Menu4 = "LPI";
           Menu5 = "  Impresora Laser  ";
           Menu6 = "  Impresora Carro  ";
           Menu7 = "  Internet ";

     &eaMoneda = "";
     &enOpcionI = 0;
     &dia      = "";
     &mes      = "";
     &anyo     = "";
     &sw_sit   = 0;
     &d_empre  = 0;
     &h_empre  = 0;
     &el_anyo  = 0;
|FIN;

|INCLUYE i_anyode;
|INCLUYE i_consul;

|PROCESO pinta_anyo; |TIPO 7;
  |HAZ i_anyodef;
  #0#2 = i_anyodef - 1;
  |SI #0#2 < 0;  #0#2 = 99;  |FINSI;
  |PINTA #0#2;
|FPRC;

|PROCESO impre; |TIPO 3;
  dia  = #0#6 % 102;
  mes  = #0#6 % 402;
  anyo = #0#6 % -104;
  |HAZ mes;

  |SI #0#2 ] 0;  |Y #0#2 [ 80;
      |HAZ pase;

      |SI #0#2 ] 4;
          |SI #0#2 [ 11;
              |HAZ ProcesosXml2004;
          |FINSI;

          |SI #0#2 ] 12;
              |HAZ ProcesosXml2012;
          |FINSI;

          |ACABA;
      |FINSI;
  |FINSI;
|FPRC;

|PROCESO pase;
  |CONFI "2400NDesea hacer el pase desde el 300 y Modulos : ";
  |SI FSalida ! 0; |ACABA; |FINSI;

  el_anyo = #0#2;
  sw_sit  = 1;
  |SI #0#7 = "S"
      d_empre = #0#0;
      h_empre = #0#1;
      |SI #0#2 ] 0;  |Y #0#2 [ 80;
          |SUB_EJECUTA "eosp2390";
      |SINO;
          |SI #0#2 < 95; |SUB_EJECUTA "eosp1390"; |FINSI;
          |SI #0#2 ] 95; |SUB_EJECUTA "eosp2390"; |FINSI;
      |FINSI;
  |SINO;
      |PARA x = 8; |SI x [ 31; |HACIENDO x = x + 1;
            |SI #0x ! 0;
                d_empre = #0x;
                h_empre = #0x;
                |SI #0#2 ] 0;  |Y #0#2 [ 80;
                    |SUB_EJECUTA "eosp2390";
                |SINO;
                    |SI #0#2 < 95; |SUB_EJECUTA "eosp1390"; |FINSI;
                    |SI #0#2 ] 95; |SUB_EJECUTA "eosp2390"; |FINSI;
                |FINSI;
            |FINSI;
      |SIGUE;
  |FINSI;
|FPRC;

|PROCESO mes;
   |SI mes = "01"; mes = "ENERO     "; |FINSI;
   |SI mes = "02"; mes = "FEBRERO   "; |FINSI;
   |SI mes = "03"; mes = "MARZO     "; |FINSI;
   |SI mes = "04"; mes = "ABRIL     "; |FINSI;
   |SI mes = "05"; mes = "MAYO      "; |FINSI;
   |SI mes = "06"; mes = "JUNIO     "; |FINSI;
   |SI mes = "07"; mes = "JULIO     "; |FINSI;
   |SI mes = "08"; mes = "AGOSTO    "; |FINSI;
   |SI mes = "09"; mes = "SEPTIEMBRE"; |FINSI;
   |SI mes = "10"; mes = "OCTUBRE   "; |FINSI;
   |SI mes = "11"; mes = "NOVIEMBRE "; |FINSI;
   |SI mes = "12"; mes = "DICIEMBRE "; |FINSI;
|FPRC;

|PROCESO nomodi;|TIPO 7;
  |SI #0#7 = "N"; |HAZ nomodifi; |FINSI;
|FPRC;

|PROCESO nomodi1;|TIPO 7;
  |SI #0#7 = "S"; |HAZ nomodifi; |FINSI;
|FPRC;

|PROCESO nomodifi;             || rutina de conversion a no modificables
  xxaponer = Anono;
  xxxxfiac = Control % A1001;
  Control = Control + xxxxfiac;
  Control = Control + xrelleno;
  Control = Control % A120;
  Control = Control + xxaponer;
|FPRC;

|PROCESO MiraVarMoneda;  |TIPO 0;
     |HAZ PintaMoneda;
     #0#32 = eaMoneda;
     |PINTA #0#32;
|FPRC;
