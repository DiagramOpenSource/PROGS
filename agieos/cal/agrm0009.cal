|FICHEROS;
     agrm0008 #8;        || Explotaciones
     agrm0009 #9;        || Terrenos
|FIN;

|VARIABLES;
     ModoEste   = 0;
     Campos     = 0;

     &VEmpresa  = 0;
     &VAnyo     = 0;
     &VVTerreno = 0;
     &Modo      = 0;
|FIN;

|PROCESO Mayus9;
#9Campo = #9Campo > #9Campo;
|PINTA #9Campo;
|FPRC;

|RUTINA ClaveBaja9;
#9#0 = VEmpresa;
#9#1 = VAnyo;
#9#2 = 1;
|FRUT;

|RUTINA ClaveAlta9;
#9#0 = VEmpresa;
#9#1 = VAnyo;
#9#2 = 999;
|FRUT;

|PROGRAMA;
|SI Modo = 1; |ENTLINEAL #1#9, 3, 1, 22, 1, ClaveBaja9, ClaveAlta9; |FINSI;
|SI Modo = 2; |ENTLINEAL #1#9, 3, 2, 22, 1, ClaveBaja9, ClaveAlta9; |FINSI;
|SI Modo = 4; |ENTLINEAL #1#9, 3, 4, 22, 1, ClaveBaja9, ClaveAlta9; |FINSI;
|FPRO;

|PROCESO TipoCultivo; |TIPO 0;
|SI #9#6 = 1; #9#7 = "TIERRAS";                    |FINSI;
|SI #9#6 = 2; #9#7 = "PLANTACION DE AMORTIZACION"; |FINSI;
|SI #9#6 = 3; #9#7 = "PLANTACIONES DE CREACION ";  |FINSI;
|PINTA #9#7;
|FPRC;

|PROCESO Explotacion; |TIPO 0;
|SI #9#9 = "            "; |ACABA; |FINSI;

|ABRE #8;
#8#0 = #9#0;
#8#1 = #9#1;
#8#2 = #9#9;
|LEE 040#8=;
|SI FSalida ! 0;
    |MENAV "       No existe C¢digo de Explotaci¢n ";
    |ERROR;
|FINSI;
|CIERRA #8;
|FPRC;

|PROCESO Tipo2; |TIPO 2;
ModoEste = 0 +. 1;
|SI ModoEste = 1;
    |PARA Campos = 1; |SI Campos < #9#2; |HACIENDO Campos = Campos + 1;
          |PTEC 809;
    |SIGUE;
    |PARA Campos = #9#2; |SI Campos ] 1; |HACIENDO Campos = Campos - 1;
          |PTEC 808;
    |SIGUE;
|FINSI;

VVTerreno = VVTerreno +. #9#11;
|FPRC;
