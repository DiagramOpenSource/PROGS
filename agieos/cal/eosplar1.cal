|FICHEROS;
    eosplar1 #0;
    eosplan1 #1;
    eosactiv #7;
    eospla11 #10;
    eosopesp #8;
    eosopes2 #88;
    eoscopl1 #3;
|FIN;

|VARIABLES;
    y   = 0;
    pep = 0;
    xxx = 0;
    FEstado = 0;
|FIN;

|INCLUYE i_consul;
|INCLUYE i_anyode;

|PROCESO pinta_anyo; |TIPO 7;
|HAZ i_anyodef;
#0#2 = i_anyodef;
|PINTA #0#2;
|FPRC;

|PROCESO GrabaOper; |TIPO 0;
|ABRE #3;
#3#0 = #1#2;
#3#1 = #1#1;
|LEE 040#3=;
|SI FSalida ! 0; |DDEFECTO #3;  |FINSI;
|CIERRA #3;

|ABRE #8;
#8#0 = #1#0;
#8#1 = #1#83;
#8#2 = #1#2;
#8#3 = #1#1;
|LIBERA #8;
|LEE 140#8=;
FEstado = FSalida;
|SI FSalida ! 0; |CDEFECTO #8, 1; |FINSI;

#8#7  = #1#152;
#8#8  = #1#150;
#8#12 = #1#88;

#8#9  = 0;
|SI #1#3 = 0; |Y #3#9  = "S";  #8#9 = #8#9 + #1#19; |FINSI;
|SI #1#4 = 0; |Y #3#10 = "S";  #8#9 = #8#9 + #1#20; |FINSI;
|SI #1#5 = 0; |Y #3#11 = "S";  #8#9 = #8#9 + #1#21; |FINSI;
|SI #1#6 = 0; |Y #3#12 = "S";  #8#9 = #8#9 + #1#22; |FINSI;

|SI FEstado = 0; |GRABA 140#8a; |SINO; |GRABA 140#8n; |FINSI;
|CIERRA #8;
|FPRC;

|PROCESO GrabaOper88; |TIPO 0;
|ABRE #3;
#3#0 = #1#2;
#3#1 = #1#1;
|LEE 040#3=;
|SI FSalida ! 0; |DDEFECTO #3;  |FINSI;
|CIERRA #3;

|ABRE #88;
#88#0 = #1#0;
#88#1 = #1#83;
#88#2 = #1#2;
#88#3 = #1#1;
|LIBERA #88;
|LEE 140#88=;
FEstado = FSalida;
|SI FSalida ! 0; |CDEFECTO #88, 1; |FINSI;

#88#9  = #1#152;
#88#10 = #1#150;
#88#16 = #1#88;

#88#11 = 0;
|SI #1#3 = 0; |Y #3#9  = "S";  #88#9 = #88#11 + #1#19; |FINSI;
|SI #1#4 = 0; |Y #3#10 = "S";  #88#9 = #88#11 + #1#20; |FINSI;
|SI #1#5 = 0; |Y #3#11 = "S";  #88#9 = #88#11 + #1#21; |FINSI;
|SI #1#6 = 0; |Y #3#12 = "S";  #88#9 = #88#11 + #1#22; |FINSI;

|SI FEstado = 0; |GRABA 140#88a; |SINO; |GRABA 140#88n; |FINSI;
|CIERRA #88;
|FPRC;

|PROCESO grababien;
|PARA y = 0; |SI y [ 20; |HACIENDO y = y + 1;
      pep = y + 19; #10y = #10y + #1pep;
      pep = y + 62; #1pep = #10y;
|SIGUE;

|PARA y = 25; |SI y [ 35; |HACIENDO y = y + 1;
      pep = y + 83;   #10y  = #10y + #1pep;
      pep = y + 94;   #1pep = #10y;
|SIGUE;

#1#91  = #1#19 + #1#20 + #1#21 + #1#22;
#1#92  = #1#62 + #1#63 + #1#64 + #1#65;
#1#93  = #1#40 + #1#41 + #1#42 + #1#43 + #1#44 + #1#45 + #1#87;
#1#94  = 0;
#1#95  = 0;
#1#96  = 0;

|PARA xxx = 26; |SI xxx [ 34; |HACIENDO xxx = xxx + 1;
     #1#94 = #1#94 + #1xxx;
|SIGUE;
|PARA xxx = 108; |SI xxx [ 118; |HACIENDO xxx = xxx + 1;
     #1#94 = #1#94 + #1xxx;
|SIGUE;

|PARA xxx = 69; |SI xxx [ 77; |HACIENDO xxx = xxx + 1;
     #1#95 = #1#95 + #1xxx;
|SIGUE;
|PARA xxx = 119; |SI xxx [ 129; |HACIENDO xxx = xxx + 1;
     #1#95 = #1#95 + #1xxx;
|SIGUE;

|PARA xxx = 130; |SI xxx [ 149; |HACIENDO xxx = xxx + 1;
     #1#96 = #1#96 + #1xxx;
|SIGUE;

#10#21 = #10#21 + #1#85;  #1#86 = #10#21;
#10#22 = #10#22 + #1#88;  #1#89 = #10#22;
#1#82  = #1#80  - #1#81;
#1#54  = #1#82;

|SI #0#2 [ 8;  |O #0#2 ] 80;
    |HAZ GrabaOper;
|SINO;
    |HAZ GrabaOper88;
|FINSI;

|SI #7#22 = "C";
    #1#54 = #1#82 + #1#49 - #1#48;
    #1#55 = 0;
    |SI #7#23 = "P";
        #1#55 = #1#80 % 1;
        |SI #1#55 < 0; #1#55 = 0; |FINSI;
    |FINSI;
    #1#58 = #1#54 - #1#55;
|FINSI;

|SI #7#22 = "B";
    #1#57 = #1#54 % #1#56;
    |SI #1#57 < 0; #1#57 = 0; |FINSI;
    #1#58 = #1#54 - #1#57;
|FINSI;
|GRABA 140#1a;
|LIBERA #1;
|FPRC;

|DEFBUCLE eosplan1;
#1#1;
;
#7#0, #7#1, #0#2, 1;
#7#0, #7#1, #0#2, 4;
be;
NULL, grababien;
|FIN;

|PROCESO planilla;
|DDEFECTO #10;
|BUCLE eosplan1;
|FPRC;

|DEFBUCLE eosactiv;
#7#1;
;
#0#0, #0#3, #0#2;
#0#1, #0#4, #0#2;
e;
NULL, planilla;
|FIN;

|PROCESO impre;|TIPO 3;
|BUCLE eosactiv;
|FPRC;
