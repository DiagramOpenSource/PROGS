|FICHEROS;
   eosm2390 #0;
|FIN;

|VARIABLES;
   &empresa = 0;
   &anyo    = 0;
   &modo    = 0;
   &nombre  = "";
   &fecha   = "";
   &archi   = "";

   &opcion  = 0;
   &opcion1 = 0;

   sw       = 0;
   sw1      = 0;
   panta    = 0;
   fondo    = "°";
   x        = 0;
   posici   = 0;
   horizo   = "";

{-1} menu   = "";
   menu1    = "1311";
   menu2    = "1";
   menu3    = "5";
   menu4    = "Datos Estadisticos                              ";
   menu5    = "Operaciones Realizadas en Regimen General       ";
   menu6    = "Operaciones Realizadas en Regimen Simplificado  ";
   menu7    = "Resultados                                      ";
   menu8    = "Operaciones Especificas                         ";

{-1} general   = "";
   general1    = "1750";
   general2    = "1";
   general3    = "2";
   general4    = "Base imponible y cuota  ";
   general5    = "Deducciones             ";

{-1} modulos   = "";
   modulos1    = "1850";
   modulos2    = "1";
   modulos3    = "2";
   modulos4    = "I.V.A. Devengado        ";
   modulos5    = "Deducciones             ";
|FIN;

|PROCESO i_archiv; |TIPO 7;
|SI #0#202 = "S";
    |MENAV "     Registro archivado, DESARCHIVELO";
    |PTEC 807;
|FINSI;
|FPRC;

|PROCESO acceso; |TIPO 30;
modo = (FEntrada / 100) ! 0;
|SI modo = 1; |O modo = 2; |HAZ pantalla; |FINSI;
|FPRC;

|PROCESO consulta; |TIPO 13;
modo = (FEntrada / 100) ! 0;
|SI modo = 4;
    |PINTA #0#0;
    |PINTA #0#1;
    |PINTA #0#2;
    |PINTA #0#201;
    |PINTA #0#202;
    |HAZ pantalla;
|FINSI;
|FPRC;

|PROCESO pantalla;
opcion = 1;
sw = 0;
empresa = #0#0;
nombre  = #0#2;
anyo    = #0#1;
fecha   = #0#201;
archi   = #0#202;
|PARA; |SI sw = 0; |HACIENDO;
   |HAZ puntero1;
   |PARA x = 12; |SI x [ 20; |HACIENDO x = x + 1;
       posici = (x * 100) + 63;
       |PINTA posici,fondo;
   |SIGUE;
   horizo = "";
   |PARA x = 1; |SI x [ 60; |HACIENDO x = x + 1;
       horizo = horizo + fondo;
   |SIGUE;
   |PINTA 2004,horizo;
   menu2  = opcion;
   |MENUG menu;
   opcion = FSalida;
   |SI opcion ] 1; |Y opcion [ 5;
       |CIERRAT #0;
       |SI opcion = 1; |SUB_EJECUTA "eos39031.run"; |FINSI;
       |SI opcion = 2; |HAZ general;        |FINSI;
       |SI opcion = 3; |HAZ modulos       ; |FINSI;
       |SI opcion = 4; |SUB_EJECUTA "eos39036.run"; |FINSI;
       |SI opcion = 5; |SUB_EJECUTA "eos39037.run"; |FINSI;
       |ABRET #0;

       #0#0   = empresa;
       #0#1   = anyo;
       #0#2   = nombre;
       #0#201 = fecha;
       #0#202 = archi;

       |LIBERA #0;
       |LEE 110#0=;
   |SINO;
       sw = 1;
   |FINSI;
|SIGUE;
|PINPA #0#0;
|FPRC;

|PROCESO general;
|PUSHV 0501 2380;
sw1     = 0;
opcion1 = 1;
|PARA; |SI sw1 = 0; |HACIENDO;
   |HAZ puntero2;
   |PARA x = 16; |SI x [ 21; |HACIENDO x = x + 1;
       posici = (x * 100) + 80;
       |PINTA posici,fondo;
   |SIGUE;
   horizo = "";
   |PARA x = 1; |SI x [ 38; |HACIENDO x = x + 1;
       horizo = horizo + fondo;
   |SIGUE;
   |PINTA 2143,horizo;
   general2  = opcion1;
   |MENUG general;
   opcion1 = FSalida;
   |SI opcion1 ] 1; |Y opcion1 [ 2;
       |SI opcion1 = 1; |SUB_EJECUTA "eos39032.run"; |FINSI;
       |SI opcion1 = 2; |SUB_EJECUTA "eos39033.run"; |FINSI;
   |SINO;
       sw1 = 1;
   |FINSI;
|SIGUE;
|POPV;
|FPRC;

|PROCESO modulos;
|PUSHV 0501 2380;
sw1     = 0;
opcion1 = 1;
|PARA; |SI sw1 = 0; |HACIENDO;
   |HAZ puntero3;
   |PARA x = 17; |SI x [ 22; |HACIENDO x = x + 1;
       posici = (x * 100) + 80;
       |PINTA posici,fondo;
   |SIGUE;
   horizo = "";
   |PARA x = 1; |SI x [ 38; |HACIENDO x = x + 1;
       horizo = horizo + fondo;
   |SIGUE;
   |PINTA 2243,horizo;
   modulos2  = opcion1;
   |MENUG modulos;
   opcion1 = FSalida;
   |SI opcion1 ] 1; |Y opcion1 [ 2;
       |SI opcion1 = 1; |SUB_EJECUTA "eos39034.run"; |FINSI;
       |SI opcion1 = 2; |SUB_EJECUTA "eos39035.run"; |FINSI;
   |SINO;
       sw1 = 1;
   |FINSI;
|SIGUE;
|POPV;
|FPRC;

|PROCESO puntero1;
|SI #0#15 ! " "; |O #0#21 ! "    ";
    menu4    = "Datos Estadisticos                             *";
|SINO;
    menu4    = "Datos Estadisticos                              ";
|FINSI;

|SI #0#90 ! 0; |O #0#96 ! 0;
    menu5    = "Operaciones Realizadas en Regimen General      *";
|SINO;
    menu5    = "Operaciones Realizadas en Regimen General       ";
|FINSI;

|SI #0#169 ! 0; |O #0#172 ! 0;
    menu6    = "Operaciones Realizadas en Regimen Simplificado *";
|SINO;
    menu6    = "Operaciones Realizadas en Regimen Simplificado  ";
|FINSI;

|SI #0#97 ! 0; |O #0#173 ! 0; |O #0#176 ! 0;
   menu7    = "Resultados                                     *";
|SINO;
   menu7    = "Resultados                                      ";
|FINSI;

|SI #0#198 ! 0;
    menu8    = "Operaciones Especificas                        *";
|SINO;
    menu8    = "Operaciones Especificas                         ";
|FINSI;
|FPRC;

|PROCESO puntero2;
|SI #0#90 ! 0;
   general4    = "Base imponible y cuota *";
|SINO;
   general4    = "Base imponible y cuota  ";
|FINSI;

|SI #0#96 ! 0;
   general5    = "Deducciones            *";
|SINO;
   general5    = "Deducciones             ";
|FINSI;
|FPRC;

|PROCESO puntero3;
|SI #0#169 ! 0;
   modulos4    = "I.V.A. Devengado       *";
|SINO;
   modulos4    = "I.V.A. Devengado        ";
|FINSI;

|SI #0#172 ! 0;
   modulos5    = "Deducciones            *";
|SINO;
   modulos5    = "Deducciones             ";
|FINSI;
|FPRC;
