|FICHEROS;
     eosw0054 #0;
|FIN;

|VARIABLES;
     Suma     = 0;
     CampoBas = 0;
     CampoIva = 0;
     CampoCuo = 0;
|FIN;

|PROCESO CalcuDBase;  |TIPO 0;
  |SI #0Campo = Contenido;  |ACABA;  |FINSI;
  CampoIva   = Campo + 1;
  CampoCuo   = Campo + 2;
  #0CampoCuo = #0Campo % #0CampoIva; |PINTA #0CampoCuo;
|FPRC;

|PROCESO CalcuDIva;  |TIPO 0;
  |SI #0Campo = Contenido;  |ACABA;  |FINSI;
  CampoBas   = Campo - 1;
  CampoCuo   = Campo + 1;
  #0CampoCuo = #0CampoBas % #0Campo;  |PINTA #0CampoCuo;
|FPRC;

|PROCESO PulsaTecla100;  |TIPO 11;
  |SI FSalida ! 9;  |ACABA;  |FINSI;

  |LIBERA #0;
  |LEE 140#0=;

  |ET Campo16;   |ENCAMPO #16#0;
                 |SI FSalida = 1;  |VETE Graba;    |FINSI;
                 |SI FSalida = 7;  |ACABA;         |FINSI;
                 |SI FSalida = 2;  |VETE Campo16;  |FINSI;

  |ET Campo17;   |ENCAMPO #17#0;
                 |SI FSalida = 1;  |VETE Graba;    |FINSI;
                 |SI FSalida = 7;  |ACABA;         |FINSI;
                 |SI FSalida = 2;  |VETE Campo16;  |FINSI;

  |ET Campo18;   |ENCAMPO #18#0;
                 |SI FSalida = 1;  |VETE Graba;    |FINSI;
                 |SI FSalida = 7;  |ACABA;         |FINSI;
                 |SI FSalida = 2;  |VETE Campo17;  |FINSI;

  |ET Campo19;   |ENCAMPO #19#0;
                 |SI FSalida = 1;  |VETE Graba;    |FINSI;
                 |SI FSalida = 7;  |ACABA;         |FINSI;
                 |SI FSalida = 2;  |VETE Campo18;  |FINSI;

  |ET Campo20;   |ENCAMPO #20#0;
                 |SI FSalida = 1;  |VETE Graba;    |FINSI;
                 |SI FSalida = 7;  |ACABA;         |FINSI;
                 |SI FSalida = 2;  |VETE Campo19;  |FINSI;

  |ET Campo21;   |ENCAMPO #21#0;
                 |SI FSalida = 1;  |VETE Graba;    |FINSI;
                 |SI FSalida = 7;  |ACABA;         |FINSI;
                 |SI FSalida = 2;  |VETE Campo20;  |FINSI;

  |ET Campo22;   |ENCAMPO #22#0;
                 |SI FSalida = 1;  |VETE Graba;    |FINSI;
                 |SI FSalida = 7;  |ACABA;         |FINSI;
                 |SI FSalida = 2;  |VETE Campo21;  |FINSI;

  |ET Campo23;   |ENCAMPO #23#0;
                 |SI FSalida = 1;  |VETE Graba;    |FINSI;
                 |SI FSalida = 7;  |ACABA;         |FINSI;
                 |SI FSalida = 2;  |VETE Campo22;  |FINSI;

  |ET Campo24;   |ENCAMPO #24#0;
                 |SI FSalida = 7;  |ACABA;         |FINSI;
                 |SI FSalida = 2;  |VETE Campo20;  |FINSI;

  |ET Graba;
                 Suma = #0#16 + #0#19 + #0#22;
                 |SI Suma ! #0#8;
                     |MENAV "     La suma de las base es diferente al importe declarado";
                     |VETE Campo16;
                 |FINSI;
                 |GRABA 140#0a;
                 |LIBERA #0;
|FPRC;
