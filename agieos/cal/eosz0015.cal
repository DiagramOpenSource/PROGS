|FICHEROS;
     eosz0015 #0;
     eosirpf1 #1;
     eosaplic #100;
     eosclipr #103;
     :/agicli/def/agicontr #101;
|FIN;

|VARIABLES;
     aPathFich    = "";
     aPathPan     = "";
|FIN;

|PROCESO Pasalos;
     #103#0 = #1#7;
     |LEE 101#103=;
     |SI FSalida ! 0;
         |DDEFECTO #103;
         #103#0  = #1#7;
         #103#1  = #1#3;
         #103#2  = "";
         #103#3  = #1#127;
         #103#4  = #1#128;
         #103#5  = #1#130;
         #103#6  = #1#131;
         #103#7  = #1#5;
         #103#8  = #1#6;
         #103#9  = #1#132;
         #103#10 = #1#4;
         |GRABA 020#103n;
     |FINSI;
     |LIBERA #103;
|FPRC;

|DEFBUCLE eosirpf1;
     #1#1;
     ;
     00001, 00000, 00;
     99999, 99999, 99;
     ;
     NULL, Pasalos;
|FIN;

|PROCESO Tipo8;  |TIPO 8;
     |ABRE #100;
     |LEE 040#100p;
     |SI FSalida ! 0; |DDEFECTO #100; |FINSI;
     |CIERRA #100;

     |SI #100#11 = 1; |ACABA; |FINSI;

     |ABRE #101;
     |LEE 040#101p;
     |SI FSalida ! 0; |CIERRA #101; |ACABA; |FINSI;
     |CIERRA #101;

     aPathFich = #101#8; |QBF aPathFich;
     |SI aPathFich = "*";  |ACABA;  |FINSI;
     aPathPan = (aPathFich - "fich/") + "pan/";

     |PATH_DAT #103 aPathFich;
     |PATH_PAN #103 aPathPan;
|FPRC;

|PROCESO Tipo3;  |TIPO 3;
     |HAZ Tipo8;

     |ABRE #103;
     |BUCLE eosirpf1;
     |CIERRA #103;
|FPRC;
