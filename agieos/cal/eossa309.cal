|FICHEROS;
     eossa309 #0;
     eosm0015 #1;
     eosclien #2;
     eospanta #3;
|FIN;

|VARIABLES;
  Linea = 0;
  Sw    = 0;

  {-1}Menu  = "";
      Menu1 = "2425";
      Menu2 = "1";
      Menu3 = "Opciones : ";
      Menu4 = "PI";
      Menu5 = " Pantalla  ";
      Menu6 = " Impresora ";
|FIN;

|INCLUYE i_consul;

|PROCESO Pantalla;
  |SI #1#4 = "01.01.0000"; |ACABA;  |FINSI;
  |SI #1#5 = "S";          |ACABA;  |FINSI;

  Sw = 1;
  #2#0 = #1#0;
  |LEE 040#2=;
  |SI FSalida ! 0;  |DDEFECTO #2;  |FINSI;

  #3#0 = #1#0;
  #3#1 = #2#3;
  #3#2 = #1#3;
  #3#3 = #1#2;
  #3#4 = #1#1;
  Pos  = Linea;
  |PINDA #0#3;
  Pos = -1;
  Linea = Linea + 100;
  |SI Linea > 1300;
      |PAUSA;
      |PINPA #0#3;
       Linea = 100;
  |FINSI;
|FPRC;

|PROCESO Impresora;
  |SI #1#4 = "01.01.0000"; |ACABA;  |FINSI;
  |SI #1#5 = "S";          |ACABA;  |FINSI;

  Sw = 1;
  #2#0 = #1#0;
  |LEE 040#2=;
  |SI FSalida ! 0;  |DDEFECTO #2;  |FINSI;

  |PRINT;
|FPRC;

|DEFBUCLE eosm0015I;
  #1#1;
  ;
  #0#0, 000, #0#2, #0#4, " ";
  #0#1, 999, #0#3, #0#5, "z";
  ;
  NULL, Impresora;
|FIN;

|DEFBUCLE eosm0015P;
  #1#1;
  ;
  #0#0, 000, #0#2, #0#4, " ";
  #0#1, 999, #0#3, #0#5, "z";
  ;
  NULL, Pantalla;
|FIN;

|PROCESO impre;|TIPO 3;
  |MENU Menu;
  Menu2 = FSalida;
  |SI Menu2 = 1;
      Linea = 100;
      |PINPA #0#3;
      |ABRE #2;
      |BUCLE eosm0015P;
      |CIERRA #2;
      |SI Sw = 1;  |PAUSA;  |FINSI;
  |FINSI;

  |SI Menu2 = 2;
      |IMPRE 0;
      |SI FSalida ! 0;  |ACABA;  |FINSI;

      |INFOR "eossa309";
      |SI FSalida ! 0;  |FINIMP;  |ACABA;  |FINSI;

      |ABRE #2;
      |BUCLE eosm0015I;
      |CIERRA #2;

      |SI Sw = 1;  |PIEINF;  |FINSI;
      |FININF;
      |FINIMP;
  |FINSI;
|FPRC;
