|FICHEROS;
     agrm0008 #8;         || Explotaciones
     agrm0011 #11;        || Maquinarias
|FIN;

|VARIABLES;
     &VEmpresa  = 0;
     &VAnyo     = 0;
     &VVMaquina = 0;
     &Modo      = 0;
|FIN;

|RUTINA ClaveBaja11;
#11#0 = VEmpresa;
#11#1 = VAnyo;
#11#2 = 1;
|FRUT;

|RUTINA ClaveAlta11;
#11#0 = VEmpresa;
#11#1 = VAnyo;
#11#2 = 999;
|FRUT;

|PROGRAMA;
|SI Modo = 1; |ENTLINEAL #1#11, 3, 1, 22, 1, ClaveBaja11, ClaveAlta11; |FINSI;
|SI Modo = 2; |ENTLINEAL #1#11, 3, 2, 22, 1, ClaveBaja11, ClaveAlta11; |FINSI;
|SI Modo = 4; |ENTLINEAL #1#11, 3, 4, 22, 1, ClaveBaja11, ClaveAlta11; |FINSI;
|FPRO;

|PROCESO Cuadro; |TIPO 7;
|PUSHV 0501 2380;
|D_CUADRO 1353, 2176;

|ATRI R;
|PINTA 1454, "-1- MEJORAS DE REGADIO";
|PINTA 1554, "-2- OTRAS MEJORAS     ";
|PINTA 1654, "-3- TRACTORES         ";
|PINTA 1754, "-4- MOTOCULTORES      ";
|PINTA 1854, "-5- COSECHADORAS      ";
|PINTA 1954, "-6- EQUIPOS DE RIEGO  ";
|PINTA 2054, "-7- OTRAS MAQUINAS    ";
|ATRI 0;
|FPRC;

|PROCESO PonTipo; |TIPO 0;
|POPV;

|SI #11#5 = 1;  #11#6 = "MEJORAS DE REGADIO";  |FINSI;
|SI #11#5 = 2;  #11#6 = "OTRAS MEJORAS     ";  |FINSI;
|SI #11#5 = 3;  #11#6 = "TRACTORES         ";  |FINSI;
|SI #11#5 = 4;  #11#6 = "MOTOCULTORES      ";  |FINSI;
|SI #11#5 = 5;  #11#6 = "COSECHADORAS      ";  |FINSI;
|SI #11#5 = 6;  #11#6 = "EQUIPOS DE RIEGO  ";  |FINSI;
|SI #11#5 = 7;  #11#6 = "OTRAS MAQUINAS    ";  |FINSI;

|PINTA #11#5;
|PINTA #11#6;

|SI #11#5 = 1; |O #11#5 = 2;
    |C_M #11#7, 1, "N";   #11#7 = 0;  |PINTA #11#7;
    |C_M #11#8, 1, "S";
|SINO;
    |C_M #11#8, 1, "N";   #11#7 = ""; |PINTA #11#8;
    |C_M #11#7, 1, "S";
|FINSI;
|FPRC;

|PROCESO Explotacion; |TIPO 0;
|SI #11#9 = "            "; |ACABA; |FINSI;

|ABRE #8;
#8#0 = #11#0;
#8#1 = #11#1;
#8#2 = #11#9;
|LEE 040#8=;
|SI FSalida ! 0;
    |MENAV "       No existe C¢digo de Explotaci¢n ";
    |ERROR;
|FINSI;
|CIERRA #8;
|FPRC;

|PROCESO Tipo2; |TIPO 2;
VVMaquina = VVMaquina +. #11#10;
|FPRC;
