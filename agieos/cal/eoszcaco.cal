|FICHEROS;
   eoszcaco #0;
   eosclien #1;
|FIN;

|VARIABLES;
   &emp_act = 0;
   &emp_nue = 0;

   empresa  = 0;
   sw       = 0;
|FIN;

|PROCESO cambio;
    |PINTA 1624, #0#1;

    emp_act = #0#0;
    emp_nue = #0#2;

    |SUB_EJECUTA "eoszcac1";
    |SUB_EJECUTA "eoszcac2";
    |SUB_EJECUTA "eoszcac3";
    |SUB_EJECUTA "eoszcac4";
    |SUB_EJECUTA "eoszcac5";
    |SUB_EJECUTA "eoszcac6";
    |SUB_EJECUTA "eoszcac7";
|FPRC;

|DEFBUCLE eoszcaco_2;
#0#1;
;
00000;
99999;
e;
NULL, cambio;
|FIN;

|PROCESO filtra_lo;
|SI empresa = #0#2; sw = 1; |FINSI;

empresa = #0#2;
|FPRC;

|DEFBUCLE eoszcaco_1;
#0#2;
;
00000, 00000, 00000;
99999, 99999, 99999;
e;
NULL, filtra_lo;
|FIN;

|RUTINA inferior;
#0#0 = 1;
|FRUT;

|RUTINA superior;
#0#0 = 99999;
|FRUT;

|PROGRAMA;
|CLS;
|CABEZA "Cambio de Codigos";
|ET otra_vez;
    |PINPA #0#0;
    |ENTLINEAL #1#0, 1, 1, 20, 0, inferior, superior;

    sw = 0;
    |BUCLE eoszcaco_1;
    |SI sw = 1;
        |MENAV "     Hay Codigos Nuevos Repetidos";
        |VETE otra_vez;
    |FINSI;

|CONFI "2400NDesea realizar el Cambio : ";
|SI FSalida = 0;
    |CUADRO 1323 1764;
    |ATRI R;
    |PINTA 1424, "          CAMBIANDO CODIGO A :          "
    |ATRI 0;

    |BUCLE eoszcaco_2;
    |DELINDEX #0;
|FINSI;
|FPRO;

|PROCESO nuevo; |TIPO 0;
|ABRE #1;
#1#0 = #0#2;
|LEE 040#1=;
|SI FSalida = 0;
    |MENAV "      La empresa ya existe.";
    |ERROR;
|FINSI;
|CIERRA #1;
|FPRC;
