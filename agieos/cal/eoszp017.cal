|FICHEROS;
     eoszp017 #0;
     eosintra #1;
     :/agicli/def/agicontr #97;
     eosclipr #98;
     eosaplic #96;
|FIN;

|VARIABLES;
     Pais       = "";
     Base       = "";
     PathAgicli = "";
     XPara      = 0;
|FIN;

|PROCESO DeDonde; |TIPO 8;
  |ABRE #96;
  |LEE 040#96p;
  |SI FSalida ! 0; |DDEFECTO #96; |FINSI;
  |CIERRA #96;

  |SI #96#11 = 1; |ACABA; |FINSI;

  |DBASS Base;
  |PATH_DAT #97 Base;

  |ABRE #97;
  |LEE 040#97p;
  |SI FSalida ! 0; |CIERRA #97; |ACABA; |FINSI;
  |CIERRA #97;

  PathAgicli = #97#8; |QBF PathAgicli;
  |SI PathAgicli = "*";  |ACABA;  |FINSI;
  |PATH_DAT #98 PathAgicli;
|FPRC;

|PROCESO Mira;
  Pais =  #98#14 % 102;
  |PARA XPara = 0; |SI XPara [ 19;  |HACIENDO XPara = XPara + 1;
        |SI #0XPara !  "  "; |Y #0XPara = Pais;
            #1#0 = #0XPara;
            #1#1 = #98#0;
            |LIBERA #1;
            |LEE 140#1=;
            |SI FSalida ! 0;
                #1#0 = #0XPara;
                #1#1 = #98#0;
                #1#2 = #98#1;
                |GRABA 140#1n;
            |FINSI;
            |SAL;
        |FINSI;
  |SIGUE;
|FPRC;

|DEFBUCLE eosclipr;
  #98#1;
  ;
  "            ";
  "zzzzzzzzzzzz";
  ;
  NULL, Mira;
|FIN;

|PROCESO Tipo3;  |TIPO 3;
  |ABRE #1;
  |BUCLE eosclipr;
  |CIERRA #1;
|FPRC;
