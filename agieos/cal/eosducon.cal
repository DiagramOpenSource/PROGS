|FICHEROS;
   eosducon #0;
   eoscomun #1;
   eoscomul #2;
   eosclien #4;
   eosactiv #10;
|FIN;

|VARIABLES;
   x       = 0;
   y       = 0;
   d_empre = 0;
   h_empre = 0;

   aAlfa1  = "";
   nNume1  = 0;
   fFecha1 = @;
   nCampo  = 0;
|FIN;

|INCLUYE i_consul;

|PROCESO grabaind;
 |DDEFECTO #10;
 #10#0 = #2#3;
 #10#1 = #2#5;
 #10#2 = #2#7;
 |LEE 001#10=;
 |SI FSalida = 0;
     #2#4 = #10#3;
     |GRABA 020#2a;
 |SINO;
     #4#0 = #2#3;
     |LEE 001#4=;
     |SI FSalida = 0;
         #2#4 = #4#2;
         |GRABA 020#2a;
     |FINSI;
 |FINSI;
 |LIBERA #2;
|FPRC;

|DEFBUCLE eoscomul;
 #2#1;
 ;
 d_empre, #0#3, #0#5, 000;
 h_empre, #0#4, #0#6, 999;
 be;
 NULL, grabaind;
|FIN;

|PROCESO duplica; |TIPO 3;

 |SI #0#6 < 80;
     nNume1 = 2000 + #0#6;
 |SINO;
     nNume1 = 1900 + #0#6;
 |FINSI;
 aAlfa1  = nNume1;
 aAlfa1  = "01.01." + aAlfa1;
 fFecha1 = aAlfa1;

 |ABRE #4;
 |ABRE #10;
  d_empre = #0#1;
  h_empre = #0#2;
 |BUCLE eoscomul;
 |CIERRA #10;
 |CIERRA #4;
|FPRC;
