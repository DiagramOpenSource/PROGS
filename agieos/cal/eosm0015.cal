|FICHEROS;
     eosm0015;
     eosclien;

     eosw0049,MANTE;
     eosw0050,MANTE;
     eosw0051;

     dsmow167,MANTE;
     dsmow057,MANTE;
     dsmow058,MANTE;
     dsmow059,MANTE;
|FIN;

|VARIABLES;
     Modo       = 0;
     Salir      = 0;
     Salir14    = 0;
     Opcion     = 0;
     Opcion14   = 0;
     CampoBas   = 0;
     nCampo1    = 0;
     nCampo2    = 0;
     ResAnt     = 0;
     &enEjer    = 0;
     aAlfa      = "";
     nNume1     = 0;

{-1} MGeneral   = "";
     MGeneral1  = "1451";
     MGeneral2  = "1";
     MGeneral3  = "3";
     MGeneral4  = "Transmitente        ";
     MGeneral5  = "Situacion Tributaria";
     MGeneral6  = "Caracteristicas     ";

{-1} MMenu      = "";
     MMenu1     = "1447";
     MMenu2     = "1";
     MMenu3     = "4";
     MMenu4     = "Transmitente/Adjudicatario";
     MMenu5     = "Situacion Tributaria";
     MMenu6     = "Hecho Imponible";
     MMenu7     = "Datos Tecnicos";

{-1} MTecnico   = "";
     MTecnico1  = "1760";
     MTecnico2  = "1";
     MTecnico3  = "3";
     MTecnico4  = "Veh¡culos    ";
     MTecnico5  = "Embarcaciones";
     MTecnico6  = "Aeronaves    ";
|FIN;

|INCLUYE i_period;

|PROCESO DfectoPeriodo; |TIPO 7;
  #eosm0015#3 = Periodo;
  |PINTA #eosm0015#3;
|FPRC;

|PROCESO Tipo13; |TIPO 13;
  Modo = (FEntrada / 100) ! 0;
  |SI Modo ! 4; |ACABA; |FINSI;

  |HAZ MGeneral;
|FPRC;

|PROCESO MiraDecla;
   aAlfa = "N";
   |SI #eosm0015#54 = "C";
       aAlfa = "S";
       |SALVA_FICHA #eosm0015;
       |ABRE #eosm0015;
       #eosm0015#54 = " ";
       |LEE 000#eosm0015.=;
       |SI FSalida = 0;
           ResAnt = #eosm0015#50;
       |FINSI;
       |CIERRA #eosm0015;
       |REPON_FICHA #eosm0015;
       |SI ResAnt ! 0;
           #eosm0015#55 = ResAnt;                      |PINTA #eosm0015#55;
           #eosm0015#56 = #eosm0015#50 - #eosm0015#55; |PINTA #eosm0015#56;
       |FINSI;
   |FINSI;
   |C_M #eosm0015#57, 1, aAlfa;
|FPRC;

|PROCESO Total;
  #eosm0015#50 = #eosm0015#34 + #eosm0015#37 + #eosm0015#40 + #eosm0015#43;
  #eosm0015#50 = #eosm0015#50 + #eosm0015#46 + #eosm0015#49;
  #eosm0015#56 = #eosm0015#50 - #eosm0015#55;
  |PINTA #eosm0015#56;
  |PINTA #eosm0015#50;
|FPRC;

|PROCESO CalcuDBase;  |TIPO 0;
  aAlfa  = Contenido;
  nNume1 = aAlfa;

  |SI #eosm0015#Campo# ! nNume1;
      nCampo1 = Campo + 1;
      nCampo2 = Campo + 2;
      #eosm0015#nCampo2# = #eosm0015#Campo# % #eosm0015#nCampo1#;
      |PINTA #eosm0015#nCampo2#;
  |FINSI;
  |HAZ Total;
|FPRC;

|PROCESO CalcuDIva;  |TIPO 0;
  aAlfa  = Contenido;
  nNume1 = aAlfa;

  |SI #eosm0015#Campo# ! nNume1;
      nCampo1  = Campo - 1;
      nCampo2  = Campo + 1;
      #eosm0015#nCampo2# = #eosm0015#nCampo1# % #eosm0015#Campo#;
      |PINTA #eosm0015#nCampo2#;
  |FINSI;
  |HAZ Total;
|FPRC;

|| ////////////////////////////////////////////////////////////////////////
|PROCESO Opcion1;
  |PUSHV 0501 2380;
  #eosw0049#0 = #eosm0015#6;
  #eosw0049#1 = #eosm0015#7;
  #eosw0049#2 = #eosm0015#8;
  |PINPA #0#eosw0049;
  |PINDA #0#eosw0049;
  |SI Modo = 4;  |PAUSA;  |POPV;  |ACABA;  |FINSI;

  |ENDATOS #1#eosw0049;
  |SI FSalida = 0;
      #eosm0015#6 = #eosw0049#0;
      #eosm0015#7 = #eosw0049#1;
      #eosm0015#8 = #eosw0049#2;
  |FINSI;
  |POPV;
|FPRC;

|PROCESO Opcion2;
  |PUSHV 0501 2380;
  #eosw0050#0  = #eosm0015#9;
  #eosw0050#1  = #eosm0015#10;
  #eosw0050#2  = #eosm0015#11;
  #eosw0050#3  = #eosm0015#12;
  #eosw0050#4  = #eosm0015#13;
  #eosw0050#5  = #eosm0015#14;
  #eosw0050#6  = #eosm0015#15;
  #eosw0050#7  = #eosm0015#16;
  #eosw0050#8  = #eosm0015#17;
  #eosw0050#9  = #eosm0015#51;
  #eosw0050#10 = #eosm0015#52;
  #eosw0050#11 = #eosm0015#53;

  |PINPA #0#eosw0050;
  |PINDA #0#eosw0050;
  |SI Modo = 4;  |PAUSA;  |POPV;  |ACABA;  |FINSI;

  |ENDATOS #1#eosw0050;
  |SI FSalida = 0;
      #eosm0015#9  = #eosw0050#0;
      #eosm0015#10 = #eosw0050#1;
      #eosm0015#11 = #eosw0050#2;
      #eosm0015#12 = #eosw0050#3;
      #eosm0015#13 = #eosw0050#4;
      #eosm0015#14 = #eosw0050#5;
      #eosm0015#15 = #eosw0050#6;
      #eosm0015#16 = #eosw0050#7;
      #eosm0015#17 = #eosw0050#8;
      #eosm0015#51 = #eosw0050#9;
      #eosm0015#52 = #eosw0050#10;
      #eosm0015#53 = #eosw0050#11;
  |FINSI;
  |POPV;
|FPRC;

|PROCESO Opcion3;
  |PUSHV 0501 2380;
  #eosw0051#0  = #eosm0015#18;
  #eosw0051#1  = #eosm0015#19;
  #eosw0051#2  = #eosm0015#20;
  #eosw0051#3  = #eosm0015#21;
  #eosw0051#4  = #eosm0015#22;
  #eosw0051#5  = #eosm0015#23;
  #eosw0051#6  = #eosm0015#24;
  #eosw0051#7  = #eosm0015#25;
  #eosw0051#8  = #eosm0015#26;
  #eosw0051#9  = #eosm0015#27;
  #eosw0051#10 = #eosm0015#28;
  #eosw0051#11 = #eosm0015#29;
  #eosw0051#12 = #eosm0015#30;
  #eosw0051#13 = #eosm0015#31;

  |PINPA #0#eosw0051;
  |PINDA #0#eosw0051;
  |SI Modo = 4;  |PAUSA;  |POPV;  |ACABA;  |FINSI;

  |ENDATOS #1#eosw0051;
  |SI FSalida = 0;
      #eosm0015#18 = #eosw0051#0;
      #eosm0015#19 = #eosw0051#1;
      #eosm0015#20 = #eosw0051#2;
      #eosm0015#21 = #eosw0051#3;
      #eosm0015#22 = #eosw0051#4;
      #eosm0015#23 = #eosw0051#5;
      #eosm0015#24 = #eosw0051#6;
      #eosm0015#25 = #eosw0051#7;
      #eosm0015#26 = #eosw0051#8;
      #eosm0015#27 = #eosw0051#9;
      #eosm0015#28 = #eosw0051#10;
      #eosm0015#29 = #eosw0051#11;
      #eosm0015#30 = #eosw0051#12;
      #eosm0015#31 = #eosw0051#13;
  |FINSI;
  |POPV;
|FPRC;
|| ////////////////////////////////////////////////////////////////////////////////
|PROCESO Tecnico1;
     |PUSHV 0501 2380;
     |PINPA #0#dsmow059;

     |C_M #dsmow059#4,  1, "N";  |C_V #dsmow059#4,  1, "N";
     |C_M #dsmow059#5,  1, "N";  |C_V #dsmow059#5,  1, "N";
     |C_M #dsmow059#6,  1, "N";  |C_V #dsmow059#6,  1, "N";
     |C_M #dsmow059#7,  1, "N";  |C_V #dsmow059#7,  1, "N";
     |C_M #dsmow059#8,  1, "N";  |C_V #dsmow059#8,  1, "N";
     |C_M #dsmow059#9,  1, "N";  |C_V #dsmow059#9,  1, "N";
     |C_M #dsmow059#10, 1, "N";  |C_V #dsmow059#10, 1, "N";
     |C_M #dsmow059#11, 1, "N";  |C_V #dsmow059#11, 1, "N";
     |C_M #dsmow059#12, 1, "N";  |C_V #dsmow059#12, 1, "N";
     |C_M #dsmow059#13, 1, "N";  |C_V #dsmow059#13, 1, "N";
     |C_M #dsmow059#14, 1, "N";  |C_V #dsmow059#14, 1, "N";
     |C_M #dsmow059#15, 1, "N";  |C_V #dsmow059#15, 1, "N";

     |C_M #dsmow059#0,  1, "S";  |C_V #dsmow059#0,  1, "S";  |C_P #dsmow059#0, 1, 1350;
     |C_M #dsmow059#1,  1, "S";  |C_V #dsmow059#1,  1, "S";  |C_P #dsmow059#1, 1, 1450;
     |C_M #dsmow059#2,  1, "S";  |C_V #dsmow059#2,  1, "S";  |C_P #dsmow059#2, 1, 1550;
     |C_M #dsmow059#3,  1, "S";  |C_V #dsmow059#3,  1, "S";  |C_P #dsmow059#3, 1, 1650;
     |C_M #dsmow059#15, 1, "S";  |C_V #dsmow059#15, 1, "S";  |C_P #dsmow059#15, 1, 1750;

     |ATRI S;  |PINTA 1124, "Vehiculos                 ";  |ATRI s;
     |PINTA 1324, "Marca ..................: ";
     |PINTA 1424, "Tipo ...................: ";
     |PINTA 1524, "Modelo (Denom.Comercial): ";
     |PINTA 1624, "N§.Identif. (Bastidor) .: ";
     |PINTA 1724, "Clasificacion ..........: ";

     #dsmow059#0  = #eosm0015#18;
     #dsmow059#1  = #eosm0015#19;
     #dsmow059#2  = #eosm0015#20;
     #dsmow059#3  = #eosm0015#21;
     #dsmow059#15 = #eosm0015#22;
     |PINDA #0#dsmow059;
     |SI Modo = 4;  |PAUSA;  |POPV;  |ACABA;  |FINSI;

     |ENDATOS #1#dsmow059;
     |SI FSalida = 0;
         #eosm0015#18 = #dsmow059#0;
         #eosm0015#19 = #dsmow059#1;
         #eosm0015#20 = #dsmow059#2;
         #eosm0015#21 = #dsmow059#3;
         #eosm0015#22 = #dsmow059#15;
     |FINSI;
     |POPV;
|FPRC;

|PROCESO Tecnico2;
     |PUSHV 0501 2380;
     |PINPA #0#dsmow059;

     |C_M #dsmow059#0,  1, "N";  |C_V #dsmow059#0,  1, "N";
     |C_M #dsmow059#1,  1, "N";  |C_V #dsmow059#1,  1, "N";
     |C_M #dsmow059#2,  1, "N";  |C_V #dsmow059#2,  1, "N";
     |C_M #dsmow059#3,  1, "N";  |C_V #dsmow059#3,  1, "N";
     |C_M #dsmow059#4,  1, "N";  |C_V #dsmow059#4,  1, "N";
     |C_M #dsmow059#8,  1, "N";  |C_V #dsmow059#8,  1, "N";
     |C_M #dsmow059#9,  1, "N";  |C_V #dsmow059#9,  1, "N";
     |C_M #dsmow059#10, 1, "N";  |C_V #dsmow059#10, 1, "N";
     |C_M #dsmow059#11, 1, "N";  |C_V #dsmow059#11, 1, "N";
     |C_M #dsmow059#12, 1, "N";  |C_V #dsmow059#12, 1, "N";
     |C_M #dsmow059#13, 1, "N";  |C_V #dsmow059#13, 1, "N";
     |C_M #dsmow059#14, 1, "N";  |C_V #dsmow059#14, 1, "N";
     |C_M #dsmow059#15, 1, "N";  |C_V #dsmow059#15, 1, "N";

     |C_M #dsmow059#5,  1, "S";  |C_V #dsmow059#5,  1, "S";  |C_P #dsmow059#5, 1, 1350;
     |C_M #dsmow059#6,  1, "S";  |C_V #dsmow059#6,  1, "S";  |C_P #dsmow059#6, 1, 1450;
     |C_M #dsmow059#7,  1, "S";  |C_V #dsmow059#7,  1, "S";  |C_P #dsmow059#7, 1, 1550;
     |C_M #dsmow059#14, 1, "S";  |C_V #dsmow059#14, 1, "S";  |C_P #dsmow059#14,1, 1650;

     |ATRI S;  |PINTA 1124, "Embarcaciones             ";  |ATRI s;
     |PINTA 1324, "Fabricante .............: ";
     |PINTA 1424, "Tipo-Modelo ............: ";
     |PINTA 1524, "N§.Identif. (Construc.) : ";
     |PINTA 1624, "Eslora maxima ..........: ";

     #dsmow059#5  = #eosm0015#23;
     #dsmow059#6  = #eosm0015#24;
     #dsmow059#7  = #eosm0015#25;
     #dsmow059#8  = #eosm0015#26;
     #dsmow059#14 = #eosm0015#59;
     aAlfa        = #eosm0015#26; |QBF aAlfa;
     |SI #eosm0015#59 = 0; |Y aAlfa ! "";
         #dsmow059#14 = #eosm0015#26;
     |FINSI;
     |PINDA #0#dsmow059;
     |SI Modo = 4;  |PAUSA;  |POPV;  |ACABA;  |FINSI;

     |ENDATOS #1#dsmow059;
     |SI FSalida = 0;
         #eosm0015#23  = #dsmow059#5;
         #eosm0015#24  = #dsmow059#6;
         #eosm0015#25  = #dsmow059#7;
         #eosm0015#26  = #dsmow059#8;
         #eosm0015#59  = #dsmow059#14;
     |FINSI;
     |POPV;
|FPRC;

|PROCESO Tecnico3;

     |PUSHV 0501 2380;
     |PINPA #0#dsmow059;

     |C_M #dsmow059#0,  1, "N";  |C_V #dsmow059#0,  1, "N";
     |C_M #dsmow059#1,  1, "N";  |C_V #dsmow059#1,  1, "N";
     |C_M #dsmow059#2,  1, "N";  |C_V #dsmow059#2,  1, "N";
     |C_M #dsmow059#3,  1, "N";  |C_V #dsmow059#3,  1, "N";
     |C_M #dsmow059#4,  1, "N";  |C_V #dsmow059#4,  1, "N";
     |C_M #dsmow059#5,  1, "N";  |C_V #dsmow059#5,  1, "N";
     |C_M #dsmow059#6,  1, "N";  |C_V #dsmow059#6,  1, "N";
     |C_M #dsmow059#7,  1, "N";  |C_V #dsmow059#7,  1, "N";
     |C_M #dsmow059#8,  1, "N";  |C_V #dsmow059#8,  1, "N";
     |C_M #dsmow059#14, 1, "N";  |C_V #dsmow059#14, 1, "N";
     |C_M #dsmow059#15, 1, "N";  |C_V #dsmow059#15, 1, "N";

     |C_M #dsmow059#9,  1, "S";  |C_V #dsmow059#9,  1, "S";  |C_P #dsmow059#9,  1, 1350;
     |C_M #dsmow059#10, 1, "S";  |C_V #dsmow059#10, 1, "S";  |C_P #dsmow059#10, 1, 1450;
     |C_M #dsmow059#11, 1, "S";  |C_V #dsmow059#11, 1, "S";  |C_P #dsmow059#11, 1, 1550;
     |C_M #dsmow059#12, 1, "S";  |C_V #dsmow059#12, 1, "S";  |C_P #dsmow059#12, 1, 1650;
     |C_M #dsmow059#13, 1, "S";  |C_V #dsmow059#13, 1, "S";  |C_P #dsmow059#13, 1, 1750;

     |ATRI S;  |PINTA 1124, "Aeronaves                 ";  |ATRI s;
     |PINTA 1324, "Fabricante .............: ";
     |PINTA 1424, "Marca-Tipo-Modelo ......: ";
     |PINTA 1524, "N§. Serie ..............: ";
     |PINTA 1624, "A¤o Fabricacion ........: ";
     |PINTA 1724, "Peso maximo despegue Kg.: ";

     #dsmow059#9  = #eosm0015#27;
     #dsmow059#10 = #eosm0015#28;
     #dsmow059#11 = #eosm0015#29;
     #dsmow059#12 = #eosm0015#30;
     #dsmow059#13 = #eosm0015#31;
     |PINDA #0#dsmow059;
     |SI Modo = 4;  |PAUSA;  |POPV;  |ACABA;  |FINSI;

     |ENDATOS #1#dsmow059;
     |SI FSalida = 0;
         #eosm0015#27 = #dsmow059#9;
         #eosm0015#28 = #dsmow059#10;
         #eosm0015#29 = #dsmow059#11;
         #eosm0015#30 = #dsmow059#12;
         #eosm0015#31 = #dsmow059#13;
     |FINSI;
     |POPV;
|FPRC;

|PROCESO Opcion14;
  |PUSHV 0501 2380;
  Salir14 = 0;
  |PARA; |SI Salir14 = 0; |HACIENDO;
         |MENUG MTecnico;
         MTecnico2 = FSalida;
         Opcion14  = FSalida;
         Salir14   = 1;
         |SI Opcion14 ] 1; |Y Opcion14 [ 3;
             |SI Opcion14 = 1;  |HAZ Tecnico1;  |FINSI;
             |SI Opcion14 = 2;  |HAZ Tecnico2;  |FINSI;
             |SI Opcion14 = 3;  |HAZ Tecnico3;  |FINSI;
             Salir14 = 0;
         |FINSI;
  |SIGUE;
  |POPV;
|FPRC;

|PROCESO Opcion13;
  |PUSHV 0501 2380;
  #dsmow058#0 = #eosm0015#14;
  #dsmow058#1 = #eosm0015#15;
  #dsmow058#2 = #eosm0015#16;
  #dsmow058#3 = #eosm0015#17;
  #dsmow058#4 = #eosm0015#52;
  #dsmow058#5 = #eosm0015#53;

  |PINPA #0#dsmow058;
  |PINDA #0#dsmow058;
  |SI Modo = 4;  |PAUSA;  |POPV;  |ACABA;  |FINSI;

  |ENDATOS #1#dsmow058;
  |SI FSalida = 0;
      #eosm0015#14 = #dsmow058#0;
      #eosm0015#15 = #dsmow058#1;
      #eosm0015#16 = #dsmow058#2;
      #eosm0015#17 = #dsmow058#3;
      #eosm0015#52 = #dsmow058#4;
      #eosm0015#53 = #dsmow058#5;
  |FINSI;
  |POPV;
|FPRC;

|PROCESO Opcion12;
  |PUSHV 0501 2380;
  #dsmow057#0 = #eosm0015#9;
  #dsmow057#1 = #eosm0015#10;
  #dsmow057#2 = #eosm0015#11;
  #dsmow057#3 = #eosm0015#12;
  #dsmow057#4 = #eosm0015#13;
  #dsmow057#5 = #eosm0015#51;

  |PINPA #0#dsmow057;
  |PINDA #0#dsmow057;
  |SI Modo = 4;  |PAUSA;  |POPV;  |ACABA;  |FINSI;

  |ENDATOS #1#dsmow057;
  |SI FSalida = 0;
      #eosm0015#9  = #dsmow057#0;
      #eosm0015#10 = #dsmow057#1;
      #eosm0015#11 = #dsmow057#2;
      #eosm0015#12 = #dsmow057#3;
      #eosm0015#13 = #dsmow057#4;
      #eosm0015#51 = #dsmow057#5;
  |FINSI;
  |POPV;
|FPRC;

|PROCESO Opcion11;
  |PUSHV 0501 2380;
  #dsmow167#0 = #eosm0015#6;
  #dsmow167#1 = #eosm0015#7;
  #dsmow167#2 = #eosm0015#8;
  #dsmow167#3 = #eosm0015#58;
  #dsmow167#4 = #eosm0015#60;
  #dsmow167#5 = #eosm0015#61;
  #dsmow167#6 = #eosm0015#62;
  #dsmow167#7 = #eosm0015#63;

  |PINPA #0#dsmow167;
  |PINDA #0#dsmow167;
  |SI Modo = 4;  |PAUSA;  |POPV;  |ACABA;  |FINSI;

  |ENDATOS #1#dsmow167;
  |SI FSalida = 0;
      #eosm0015#6  = #dsmow167#0;
      #eosm0015#7  = #dsmow167#1;
      #eosm0015#8  = #dsmow167#2;
      #eosm0015#58 = #dsmow167#3;
      #eosm0015#60 = #dsmow167#4;
      #eosm0015#61 = #dsmow167#5;
      #eosm0015#62 = #dsmow167#6;
      #eosm0015#63 = #dsmow167#7;
  |FINSI;
  |POPV;
|FPRC;
|| ////////////////////////////////////////////////////////////////////////////////

|PROCESO MGeneral;
  |BLANCO 1139 2078;

  Salir = 0;
  |PARA; |SI Salir = 0; |HACIENDO;
         |ABRE #eosclien;
         #eosclien#0 = #eosm0015#0;
         |LEE 040#eosclien.=;
         |SI FSalida ! 0;  |DDEFECTO #eosclien;  |FINSI;
         |CIERRA #eosclien;

         enEjer = #eosm0015#2 + 2000;

         |ATRI I; |PINTA 0726, #eosclien#2;
         |PINTA #eosm0015#0;  |PINTA #eosm0015#1;  |PINTA #eosm0015#2;
         |PINTA #eosm0015#3;  |PINTA #eosm0015#4;  |PINTA #eosm0015#5;
         |PINTA #eosm0015#32; |PINTA #eosm0015#33; |PINTA #eosm0015#34;
         |PINTA #eosm0015#35; |PINTA #eosm0015#36; |PINTA #eosm0015#37;
         |PINTA #eosm0015#38; |PINTA #eosm0015#39; |PINTA #eosm0015#40;
         |PINTA #eosm0015#41; |PINTA #eosm0015#42; |PINTA #eosm0015#43;
         |PINTA #eosm0015#44; |PINTA #eosm0015#45; |PINTA #eosm0015#46;
         |PINTA #eosm0015#47; |PINTA #eosm0015#48; |PINTA #eosm0015#49;
         |PINTA #eosm0015#50; |PINTA #eosm0015#54; |PINTA #eosm0015#55;
         |PINTA #eosm0015#56; |PINTA #eosm0015#57;

         |SI enEjer ] 2018;
             |MENUG MMenu;
             MMenu2 = FSalida;
             Opcion = FSalida;
             Salir  = 1;
             |SI Opcion ] 1; |Y Opcion [ 4;
                 |SI Opcion = 1;  |HAZ Opcion11;  |FINSI;
                 |SI Opcion = 2;  |HAZ Opcion12;  |FINSI;
                 |SI Opcion = 3;  |HAZ Opcion13;  |FINSI;
                 |SI Opcion = 4;  |HAZ Opcion14;  |FINSI;
                 Salir = 0;
             |FINSI;
         |SINO;
             |MENUG MGeneral;
             MGeneral2 = FSalida;
             Opcion     = FSalida;
             Salir      = 1;
             |SI Opcion ] 1; |Y Opcion [ 3;
                 |SI Opcion = 1;  |HAZ Opcion1;  |FINSI;
                 |SI Opcion = 2;  |HAZ Opcion2;  |FINSI;
                 |SI Opcion = 3;  |HAZ Opcion3;  |FINSI;
                 Salir = 0;
             |FINSI;
         |FINSI;
  |SIGUE;

  |PINPA #0#eosm0015;
|FPRC;

|PROCESO Tipo3;  |TIPO 3;
  Modo = (FEntrada / 100) ! 0;

  |HAZ MGeneral;
|FPRC;
