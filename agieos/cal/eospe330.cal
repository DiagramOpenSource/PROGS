|FICHEROS;
   eospe330 #0;
   eosma330 #1;
   eosclien #2;
   eospanta #3;
|FIN;

|VARIABLES;
  lin = 0;
  sw = 0;
  igual = "=";
  iguales = "";
  opcion = 0;
  {-1}menu  = "";
  menu1 = "2425";
  menu2 = "1";
  menu3 = "Opciones : ";
  menu4 = "PI";
  menu5 = " Pantalla  ";
  menu6 = " Impresora ";
|FIN;

|INCLUYE i_consul;

|PROCESO pantalla;
|SI #1#5 ! "          ";|O #1#6 = "S"; |ACABA; |FINSI;

#2#0 = #1#0;
|LEE 040#2=;
|SI FSalida ! 0; |DDEFECTO #2; |FINSI;

#3#0 = #1#0;
#3#1 = #2#3;
#3#2 = #1#2;
#3#3 = #1#4;
#3#4 = #1#1;
Pos  = lin;
|PINDA #0#3;
Pos = -1;
lin = lin + 100;
|SI lin > 1300; |PAUSA; |PINPA #0#3; lin = 100; |FINSI;
|FPRC;

|PROCESO impresora;
|SI #1#5 ! "          ";|O #1#6 = "S"; |ACABA; |FINSI;

#2#0 = #1#0;
|LEE 040#2=;
|SI FSalida ! 0; |DDEFECTO #2; |FINSI;

|PRINT;
|FPRC;

|DEFBUCLE eospe330_i;
#1#1;
;
#0#0, 1, #0#4, "M", #0#2;
#0#1, 6, #0#5, "T", #0#3;
e;
NULL, impresora;
|FIN;

|DEFBUCLE eospe330_p;
#1#1;
;
#0#0, 1, #0#4, "M", #0#2;
#0#1, 6, #0#5, "T", #0#3;
e;
NULL, pantalla;
|FIN;

|PROCESO impre;|TIPO 3;
sw = 0;
|ABRE #2;
|MENU menu;
opcion = FSalida;
|SI opcion ! 1; |Y opcion ! 2; |ACABA; |FINSI;

|SI opcion = 1;
  lin = 100;
  |PINPA #0#3;
  |BUCLE eospe330_p;
  |PAUSA;
|SINO;
  |IMPRE 0;
  |SI FSalida ! 0; |ACABA; |FINSI;

  |INFOR "eospe330";
  |SI FSalida ! 0; |CIERRA #2; |FINIMP; |ACABA; |FINSI;

  |BUCLE eospe330_i;
  |PIEINF;
  |FININF;
  |FINIMP;
|FINSI;
|CIERRA #2;
|FPRC;
