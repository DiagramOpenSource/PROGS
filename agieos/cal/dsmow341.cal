|FICHEROS;
   dsmow341 #10,MANTE;

   dsm210dp #20;
   dsm210db #21;
|FIN;

|VARIABLES;
   aAlfa  = "";
   aAlfa1 = "";
|FIN;

|PROCESO CalculaCuota;
   |SI #dsmow341#0 = "S";
      |C_M #dsmow341#8, 1, "S";
   |SINO;
      #dsmow341#8 = 0; |PINTA #dsmow341#8;
      |C_M #dsmow341#8, 1, "N";
   |FINSI;
   #dsmow341#7 = (#dsmow341#5 % #dsmow341#6) ! 2; |PINTA #dsmow341#7;
   #dsmow341#10 = #dsmow341#7 - #dsmow341#9; |PINTA #dsmow341#10;
   #dsmow341#12 = #dsmow341#10 - #dsmow341#11; |PINTA #dsmow341#12;
|FPRC;

|PROCESO CalculaReduc;
   #dsmow341#9 = (#dsmow341#7 % #dsmow341#8) ! 2; |PINTA #dsmow341#9;
|FPRC;

|PROCESO CalculoModelo;
   |HAZ CalculaCuota; |HAZ CalculaReduc;

   #dsmow341#10 = #dsmow341#7 - #dsmow341#9; |PINTA #dsmow341#10;
   #dsmow341#12 = #dsmow341#10 - #dsmow341#11; |PINTA #dsmow341#12;
|FPRC;

|PROCESO MiraFormaPago;
   |SI #dsmow341#13 = "S"; |Y Campo = 13;
      #dsmow341#14 = "N"; |PINTA #dsmow341#14;
      #dsmow341#15 = ""; |PINTA #dsmow341#15; |C_M #dsmow341#15, 1, "N";
      #dsmow341#16 = ""; |PINTA #dsmow341#16; |C_M #dsmow341#16, 1, "N";
      #dsmow341#17 = ""; |PINTA #dsmow341#17; |C_M #dsmow341#17, 1, "N";
      #dsmow341#18 = ""; |PINTA #dsmow341#18; |C_M #dsmow341#18, 1, "N";
      #dsmow341#19 = ""; |PINTA #dsmow341#19; |C_M #dsmow341#19, 1, "N";
   |FINSI;
   |SI #dsmow341#14 = "S"; |Y Campo = 14;
      #dsmow341#13 = "N"; |PINTA #dsmow341#13;
      |C_M #dsmow341#15, 1, "S"; |C_M #dsmow341#16, 1, "S";
      |C_M #dsmow341#17, 1, "S"; |C_M #dsmow341#18, 1, "S";
      |C_M #dsmow341#19, 1, "S";
   |FINSI;

   |SI Campo = 14;
      aAlfa =         #dsmow341#15; |QBF aAlfa;
      aAlfa = aAlfa + #dsmow341#16; |QBF aAlfa;
      aAlfa = aAlfa + #dsmow341#17; |QBF aAlfa;
      aAlfa = aAlfa + #dsmow341#18; |QBF aAlfa;
      aAlfa = aAlfa + #dsmow341#19; |QBF aAlfa;
      |SI aAlfa = ""; |Y #dsmow341#14 = "S";
         aAlfa =         #dsm210db#1;
         aAlfa = aAlfa + #dsm210db#2;
         aAlfa = aAlfa + #dsm210db#3;
         aAlfa = aAlfa + #dsm210db#4;
         aAlfa = aAlfa + #dsm210db#5;
         aAlfa = aAlfa + #dsm210db#6;
         aAlfa1 = aAlfa % 0104; aAlfa = aAlfa % 0599; #dsmow341#15 = aAlfa1; |PINTA #dsmow341#15;
         aAlfa1 = aAlfa % 0104; aAlfa = aAlfa % 0599; #dsmow341#16 = aAlfa1; |PINTA #dsmow341#16;
         aAlfa1 = aAlfa % 0104; aAlfa = aAlfa % 0599; #dsmow341#17 = aAlfa1; |PINTA #dsmow341#17;
         aAlfa1 = aAlfa % 0102; aAlfa = aAlfa % 0399; #dsmow341#18 = aAlfa1; |PINTA #dsmow341#18;
         #dsmow341#19 = aAlfa; |PINTA #dsmow341#19;
      |FINSI;
   |FINSI;
|FPRC;

|PROCESO MiraExencion;
   |ABRE #dsm210db;
   #dsm210db#0 = #dsm210dp#0;
   |LEE 000#dsm210db.=;
   |SI FSalida ! 0; |DDEFECTO #dsm210db; |FINSI;
   |CIERRA #dsm210db;

   |SI #dsmow341#0 ! "N"; |Y Campo = 0;
      #dsmow341#1 = "N"; |PINTA #dsmow341#1;
      #dsmow341#2 = "N"; |PINTA #dsmow341#2;
      #dsmow341#3 = "N"; |PINTA #dsmow341#3;
      #dsmow341#4 = "";  |PINTA #dsmow341#4; |C_M #dsmow341#4,1,"N";
   |FINSI;
   |SI #dsmow341#1 ! "N"; |Y Campo = 1;
      #dsmow341#0 = "N"; |PINTA #dsmow341#0;
      #dsmow341#2 = "N"; |PINTA #dsmow341#2;
      #dsmow341#3 = "N"; |PINTA #dsmow341#3;
      |C_M #dsmow341#4,1,"S";
   |FINSI;
   |SI #dsmow341#2 ! "N"; |Y Campo = 2;
      #dsmow341#0 = "N"; |PINTA #dsmow341#0;
      #dsmow341#1 = "N"; |PINTA #dsmow341#1;
      #dsmow341#3 = "N"; |PINTA #dsmow341#3;
      #dsmow341#4 = "";  |PINTA #dsmow341#4; |C_M #dsmow341#4,1,"N";
   |FINSI;
   |SI #dsmow341#3 ! "N"; |Y Campo = 3;
      #dsmow341#0 = "N"; |PINTA #dsmow341#0;
      #dsmow341#1 = "N"; |PINTA #dsmow341#1;
      #dsmow341#2 = "N"; |PINTA #dsmow341#2;
      #dsmow341#4 = "";  |PINTA #dsmow341#4; |C_M #dsmow341#4,1,"N";
   |FINSI;

   |SI #dsmow341#0 = "S";
      |C_M #dsmow341#8, 1, "S";
   |SINO;
      #dsmow341#8 = 0; |PINTA #dsmow341#8;
      |C_M #dsmow341#8, 1, "N";
   |FINSI;
|FPRC;
