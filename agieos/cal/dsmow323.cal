|FICHEROS;
   dsmow323 #0,MANTE;

   Referen@ #1000;
|FIN;

|VARIABLES;
   aAlfa  = "";
   aAlfa1 = "";

   nCargadoDef = 0;
|FIN;

|PROCESO AbreAgiCli;
   nCargadoDef = 0;
   |DBASS aAlfa; |QBF aAlfa;
   aAlfa1 = aAlfa + "agicli/def/agifigen.mas";
   |CARGA_DEF aAlfa1, Referen@;
   |SI FSalida = 0;
      aAlfa1 = aAlfa + "agicli/fich/";
      |PATH_DAT #Referen@#aAlfa1#; |ABRE #Referen@;
      nCargadoDef = 1;
   |FINSI;
|FPRC;

|PROCESO CierraAgiCli;
   |SI nCargadoDef = 1;
      |CIERRA #Referen@; |DESCARGA_DEF #Referen@;
   |FINSI;
|FPRC;

|PROCESO T66AgiCli; |TIPO 66;
   |HAZ AbreAgiCli;
   |SI nCargadoDef = 1;
      #Referen@#0 = #dsmow323#0;
      |LEE 000#Referen@.];
      |CONSULTA_CLAVE #1#Referen@;
      |SI FSalida = 0;
         #dsmow323#0 = #Referen@#0;  |PINTA #dsmow323#0;
         #dsmow323#1 = #Referen@#1;  |PINTA #dsmow323#1;
         #dsmow323#2 = #Referen@#13; |PINTA #dsmow323#2;
      |FINSI;
   |FINSI;
   |HAZ CierraAgiCli;
|FPRC;

|PROCESO T00AgiCli;
   |HAZ AbreAgiCli;
   |SI nCargadoDef = 1;
      #Referen@#0 = #dsmow323#0;
      |LEE 000#Referen@.=;
      |SI FSalida = 0;
         #dsmow323#1 = #Referen@#1;  |PINTA #dsmow323#1;
         #dsmow323#2 = #Referen@#13; |PINTA #dsmow323#2;
      |SINO;
         |MENAV "    Codigo inexistente"; |ERROR;
      |FINSI;
   |FINSI;
   |HAZ CierraAgiCli;
|FPRC;
