|FICHEROS;
     eosm0028 #28;
     eosm0029 #29;

     eosaplic #100;
     eosclipr #103;
     :/agicli/def/agicontr #101;
|FIN;

|VARIABLES;
     aPathFich    = "";
     aPathPan     = "";

     nModo        = 0;
|FIN;

|RUTINA ClaveBaja29;
     #29#0 = #28#0;
     #29#1 = "           ";
|FRUT;

|RUTINA ClaveAlta29;
     #29#0 = #28#0;
     #29#1 = "zzzzzzzzzzzz";
|FRUT;

|PROCESO Tipo14;  |TIPO 14;
     |PTEC 807;
     |ENTLINEAL #1#29, -2, 4, 22, 0, ClaveBaja29, ClaveAlta29;
|FPRC;

|PROCESO Tipo12;  |TIPO 12;
     |ENTLINEAL #1#29, -2, 1, 22, 0, ClaveBaja29, ClaveAlta29;
|FPRC;

|PROCESO Tipo8;  |TIPO 8;
     |ABRE #100;
     |LEE 040#100p;
     |SI FSalida ! 0; |DDEFECTO #100; |FINSI;
     |CIERRA #100;

     |SI #100#11 = 1; |ACABA; |FINSI;

     |ABRE #101;
     |LEE 040#101p;
     |SI FSalida ! 0; |CIERRA #101; |ACABA; |FINSI;
     |CIERRA #101;

     aPathFich = #101#8; |QBF aPathFich;
     |SI aPathFich = "*";  |ACABA;  |FINSI;
     aPathPan = (aPathFich - "fich/") + "pan/";

     |PATH_DAT #103 aPathFich;
     |PATH_PAN #103 aPathPan;
|FPRC;

|PROCESO Borra29;
     |BORRA 020#29a;
     |LIBERA #29;
|FPRC;

|DEFBUCLE eosm0029Baja;
     #29#1;
     ;
     #28#0, "            ";
     #28#0, "zzzzzzzzzzzz";
     ;
     NULL, Borra29;
|FIN;

|PROCESO Tipo2m0028;  |TIPO 2;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 3;  |ACABA;  |FINSI;

     |BUCLE eosm0029Baja;
|FPRC;
