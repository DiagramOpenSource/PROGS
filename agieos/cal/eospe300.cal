|FICHEROS;
   eospe300 #0;
   eosm1300 #1;
   eosclien #2;
   eospanta #3;
|FIN;

|VARIABLES;
 lin = 0;
  informe = "eospe300";
  error1 = "     No existe impresora";
  error2 = "     No existe informe";
  sw = 0;
  igual = "=";
  iguales = "";
  opcion = 0;
  {-1}menu  = "";
  menu1 = "2425";
  menu2 = "1";
  menu3 = "Opciones : ";
  menu4 = "PI";
  menu5 = " Pantalla  ";
  menu6 = " Impresora ";
|FIN;

|INCLUYE i_consul;

|CALCULO pantalla;
|SI #1#3 = "          ";|Y #1#4 ! "S";
     #2#0 = #1#0;
     |LEE 040#2=;
     #3#0 = #1#0;
     #3#1 = #2#3;
     #3#2 = #1#1;
     #3#3 = #1#2;
     #3#4 = #1#45;
     Pos = lin;
     |PINDA #0#3;
     Pos = -1;
     lin = lin + 100;
     |SI lin > 1300;
         |PAUSA;
         |PINPA #0#3;
         lin = 100;
     |FINSI;
|FINSI;
|FCAL;

|CALCULO impresora;
   |SI #1#3 = "          ";|Y #1#4 ! "S";
      #2#0 = #1#0;
      |LEE 040#2=;
      |PRINT;
   |FINSI;
|FCAL;

|DEFBUCLE eospe3000;
#1#1;
;
#0#0, 1, #0#4, #0#2;
#0#1, 6, #0#5, #0#3;
e;
NULL,impresora;
|FIN;

|DEFBUCLE eospe3001;
#1#1;
;
#0#0, 1, #0#4, #0#2;
#0#1, 6, #0#5, #0#3;
e;
NULL,pantalla;
|FIN;

|CALCULO impre;|TIPO 3;
|ABRE #2;
sw = 0;
|MENU menu;
opcion = FSalida;
|SI opcion < 1; |VETE fin; |FINSI;
|SI opcion = 1;
  |ABRE #3;
  lin = 100;
  |PINPA #0#3;
  |BUCLE eospe3001;
  |PAUSA;
  |CIERRA #3;
|SINO;
  |IMPRE 0;
  |SI FSalida = 0;
       |INFOR informe;
       |SI FSalida = 0;
          |BUCLE eospe3000;
          |PIEINF;
          |FININF;
       |SINO;
          |MENAV error2;
       |FINSI;
       |FINIMP;
  |SINO;
     |MENAV error1;
  |FINSI;
|FINSI;
|ET fin;
|CIERRA #2;
|FCAL;
