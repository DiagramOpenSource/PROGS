|FICHEROS;
     eosm0006 #0;
     eosm0007 #1;
     eosactiv #2;
     eosm0005 #3;
     eosexist #4;
     eosamorc #5;
     eosm0023 #6;
|FIN;

|PROCESO MiraActiv;
#0#3 = #2#6;
|FPRC;

|DEFBUCLE eosactiv;
#2#1;
;
#0#0, #0#1, 00;
#0#0, #0#1, 99;
;
NULL, MiraActiv;
|FIN;

|PROCESO Actividad; |TIPO 0;
#0#3 = "";
|BUCLE eosactiv;
|SI #0#3 = "                                        ";
    |MENAV "      No Existe Actividad";
    |ERROR;
    |ACABA;
|FINSI;
|PINTA #0#3;
|FPRC;

|PROCESO MiraExistencias;
#1#4 = #4#10;
|FPRC;

|DEFBUCLE eosexist;
#4#1;
;
#1#0, #1#1, 00;
#1#0, #1#1, 99;
;
NULL, MiraExistencias;
|FIN;

|PROCESO MiraAmortiza1;
#1#4 = #1#4 + #5#11;
#1#5 = #1#5 + #5#12;
|FPRC;

|DEFBUCLE eosamorc;
#5#1;
16;
#1#0, 00, 00000, #1#1;
#1#0, 99, 99999, #1#1;
;
NULL, MiraAmortiza1;
|FIN;

|PROCESO MiraAmortiza2;
#1#4 = #1#4 + #6#14;
#1#5 = #1#5 + #6#21;
|FPRC;

|DEFBUCLE eosm0023;
#6#1;
;
#1#0, #1#1, 00000;
#1#0, #1#1, 99999;
;
NULL, MiraAmortiza2;
|FIN;

|PROCESO MiraConcepto; |TIPO 7;
|ABRE #3;
#3#0 = #1#2;
|LEE 040#3=;
|SI FSalida ! 0; |DDEFECTO #3; |FINSI;
|CIERRA #3;

|SI #3#2 = "O"; |ACABA; |FINSI;

#1#4 = 0;
#1#5 = 0;
|SI #3#2 = "F"; |BUCLE eosexist; |FINSI;
|SI #3#2 = "A"; |BUCLE eosamorc; |FINSI;
|SI #3#2 = "A"; |BUCLE eosm0023; |FINSI;

#1#6 = #1#4 - #1#5;

|PINTA #1#4;
|PINTA #1#5;
|PINTA #1#6;
|FPRC;

|PROCESO Totales; |TIPO 0;
#1#6 = #1#4 - #1#5;
|PINTA #1#6;
|FPRC;

|PROCESO Tipo2; |TIPO 2;
#0#4 = #0#4 +. #1#6;
|PINTA #0#4;
|FPRC;
