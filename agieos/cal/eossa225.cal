|FICHEROS;
     eossa225 #0;
     eosirpf2 #1;
     eosclien #2;
     eospanta #3;
     eosirpf1 #4;
|FIN;

|VARIABLES;
  Linea       = 0;
  Sw          = 0;
  CampoFecha  = 0;
  CampoArchiv = 0;
  MiraSiHay   = 0;


  {-1}Menu  = "";
      Menu1 = "2425";
      Menu2 = "1";
      Menu3 = "Opciones : ";
      Menu4 = "PI";
      Menu5 = " Pantalla  ";
      Menu6 = " Impresora ";
|FIN;

|INCLUYE i_consul;

|PROCESO Mayus;
  #0Campo = #0Campo > #0Campo;
  |PINTA #0Campo;
|FPRC;

|PROCESO TipoModelo;
  |SI #0Campo = "0";
      |C_M #0#7, 1, "N";
      #0#7 = "T";
  |SINO;
      |C_M #0#7, 1, "S";
  |FINSI;
|FPRC;

|PROCESO Periodo;
  |SI #0#7 = "T";
      |SI #0#4 > 4;
          |MENAV "           Periodo Trimestral";
          |ERROR;
      |FINSI;
  |FINSI;
|FPRC;

|PROCESO Pantalla;
  Sw = 1;
  #3#0 = #4#0;
  #3#1 = #4#2;
  #3#2 = #0#4;
  #3#3 = #0#2;
  #3#4 = 0;
  Pos  = Linea;
  |PINDA #0#3;
  Pos = -1;
  Linea = Linea + 100;
  |SI Linea > 1300;
      |PAUSA;
      |PINPA #0#3;
       Linea = 100;
  |FINSI;
|FPRC;

|PROCESO Impresora;
  Sw = 1;
  |PRINT;
|FPRC;

|PROCESO MiraSiHay;
  MiraSiHay = 1;
  |ERROR10;
|FPRC;

|DEFBUCLE eosirpf1;
  #4#1;
  135;
  #2#0, 00000, #0#2, #0#6;
  #2#0, 99999, #0#2, #0#6;
  ;
  NULL, MiraSiHay;
|FIN;

|PROCESO Chequeo;
  MiraSiHay = 0;
  |BUCLE eosirpf1;
  |SI MiraSiHay = 0;  |ACABA;  |FINSI;

  #1#0  = #2#0;
  #1#38 = #0#2;
  #1#39 = #0#6;
  |LEE 040#1=;
  |SI FSalida = 0;
      |SI #0#7 = "T";
          |SI #0#4 = 1;   CampoFecha = 26;  CampoArchiv = 40;  |FINSI;
          |SI #0#4 = 2;   CampoFecha = 29;  CampoArchiv = 43;  |FINSI;
          |SI #0#4 = 3;   CampoFecha = 32;  CampoArchiv = 46;  |FINSI;
          |SI #0#4 = 4;   CampoFecha = 35;  CampoArchiv = 49;  |FINSI;
      |SINO;
          CampoFecha  = 25 + #0#4;
          CampoArchiv = 39 + #0#4;
      |FINSI;

      |SI #1CampoFecha ! "          ";  |Y #1CampoArchiv = "N";  |Y Menu2 = 1;
          |HAZ Pantalla;
      |FINSI;

      |SI #1CampoFecha ! "          ";  |Y #1CampoArchiv = "N";  |Y Menu2 = 2;
          |HAZ Impresora;
      |FINSI;
  |FINSI;
|FPRC;

|DEFBUCLE eosclien;
  #2#1;
  ;
  #0#0;
  #0#1;
  ;
  NULL, Chequeo;
|FIN;

|PROCESO impre;|TIPO 3;
  |MENU Menu;
  Menu2 = FSalida;
  |SI Menu2 = 1;
      Linea = 100;
      |PINPA #0#3;
      |ABRE #1;
      |BUCLE eosclien;
      |CIERRA #1;
      |SI Sw = 1;  |PAUSA;  |FINSI;
  |FINSI;

  |SI Menu2 = 2;
      |IMPRE 0;
      |SI FSalida ! 0;  |ACABA;  |FINSI;

      |INFOR "eossa225";
      |SI FSalida ! 0;  |FINIMP;  |ACABA;  |FINSI;

      |ABRE #1;
      |BUCLE eosclien;
      |CIERRA #1;

      |SI Sw = 1;  |PIEINF;  |FINSI;
      |FININF;
      |FINIMP;
  |FINSI;
|FPRC;
