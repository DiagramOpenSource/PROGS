|FICHEROS;
    eosacti1 #0;
    eosprovi #1;
    eospobla #2;
    iaepigra #4;
|FIN;

|VARIABLES;
    cont     = 0;
    swcomu   = 0;
    xxxxfiac = "  ";
    xxaponer = "  ";
    xrelleno = "                              ";
    trabacod1 = "";
    trabacod2 = "";

    &emp_acti = 0;
    &act_acti = 0;
    &any_acti = 0;
    &nom_acti = "";
    &ep1_acti = "";
    &ep2_acti = "";
    &nep_acti = "";
    &com_acti = "";
    &mod_acti = 0;
|FIN;

|PROGRAMA;

    |ABRE #0;
    #0#0 = emp_acti;
    #0#1 = act_acti;
    #0#2 = any_acti;
    |LIBERA #0;
    |LEE 140#0=;
    |SI FSalida = 0;
        |SI mod_acti = 1;
            |MENAV "     La actividad ya existe.";
            |CIERRA #0;
            mod_acti = 99;
            |ACABA;
        |FINSI;

        |SI mod_acti = 3;
            |BORRA 020#0a;
            |CIERRA #0;
            mod_acti = 0;
            |ACABA;
        |FINSI;
        |CLS;
        |CABEZA "Actividades";

        |PINPA #0#0;
        #0#3 = nom_acti;
        |PINDA #0#0;
        |ENDATOS #2#0;
        |SI FSalida = 0;
            |GRABA 040#0a;
        |FINSI;
    |SINO;
        mod_acti = 99;
        |CLS;
        |CABEZA "Actividades";

        |DDEFECTO #0;
        #0#0 = emp_acti;
        #0#1 = act_acti;
        #0#2 = any_acti;
        #0#3 = nom_acti;
        |PINPA #0#0;
        |PINDA #0#0;
        |ENDATOS #1#0;
        |SI FSalida = 0;
            |GRABA 040#0n;
            mod_acti = 0;
        |FINSI;
    |FINSI;
    |CIERRA #0;

    ep1_acti = #0#4;
    ep2_acti = #0#5;
    nep_acti = #0#6;
|FPRO;

|PROCESO comunida; |TIPO 7;
    |CAMPO_MODIFICA #0#46, 1, "S";
    |CAMPO_MODIFICA #0#14, 1, "S";
    |SI com_acti = "N";
        |CAMPO_MODIFICA #0#46, 1, "N";
        #0#46 = "N";
        |PINTA #0#46;
    |FINSI;
|FPRC;

|PROCESO sientra; |TIPO 0;
   |CAMPO_MODIFICA #0#14, 1, "S";
   |SI #0#46 = "S";
       |CAMPO_MODIFICA #0#14, 1, "N";
       #0#14 = "N";
       |PINTA #0#14;
   |FINSI;
|FPRC;

|PROCESO provinci; |TIPO 0;
   |ABRE #1;
   #1#0 = #0#11;
   |LEE 040#1=;
   |SI FSalida = 0;
       #0#13 = #1#1;
       |PINTA #0#13;
   |SINO;
       |MENAV "     No existe Provincia.";
       |ERROR;
   |FINSI;
   |CIERRA #1;
|FPRC;

|PROCESO poblacio; |TIPO 0;
   cont = (FEntrada / 100) ! 0;
   |SI cont = 1;
      |ABRE #2;
      #2#0 = #0#11;
      #2#1 = #0#12;
      |LEE 040#2=;
      |SI FSalida = 0;
          #0#10 = #2#2;
          |PINTA #0#10;
      |SINO;
          |MENAV "     No existe Poblacion.";
          |ERROR;
      |FINSI;
      |CIERRA #2;
   |FINSI;
|FPRC;

|PROCESO epigraf; |TIPO 0;
   |ABRE #4;
   |SELECT #1#4;
   #4#0 = #0#4;
   #4#1 = #0#5;
   |LEE 040#4=;
   |SI FSalida = 0;
      #0#6 = #4#2;
      |PINTA #0#6;
   |FINSI;
   |CIERRA #4;
|FPRC;

|PROCESO nomodi; |TIPO 7;
   |CAMPO_MODIFICA #0#15, 1, "S";
   |SI #0#14 = "S";
       |CAMPO_MODIFICA #0#15, 1, "N";
       #0#15 = "N";
       |PINTA #0#15;
   |FINSI;
|FPRC;

|PROCESO nomodi1; |TIPO 0;
   |CAMPO_MODIFICA #0#16, 1, "S";
   |CAMPO_MODIFICA #0#17, 1, "S";
   |CAMPO_MODIFICA #0#50, 1, "S";
   |SI #0#15 = "N";
       |CAMPO_MODIFICA #0#16, 1, "N";
       |CAMPO_MODIFICA #0#17, 1, "N";
       |CAMPO_MODIFICA #0#50, 1, "N";
   |FINSI;
|FPRC;

|PROCESO nomodi2; |TIPO 0;
   |CAMPO_MODIFICA #0#29, 1, "S";
   |SI Campo = 22;
       |SI #0Campo = "A";
           #0#29 = 6;  |PINTA #0#29;
           ||CAMPO_MODIFICA #0#29, 1, "N";
       |FINSI;
   |FINSI;

   |CAMPO_MODIFICA #0#23, 1, "S";
   |CAMPO_MODIFICA #0#24, 1, "S";
   |CAMPO_MODIFICA #0#25, 1, "S";
   |CAMPO_MODIFICA #0#41, 1, "S";
   |CAMPO_MODIFICA #0#42, 1, "S";

   |SI #0#22 = "N";
       |CAMPO_MODIFICA #0#23, 1, "N";
       |CAMPO_MODIFICA #0#24, 1, "N";
       |CAMPO_MODIFICA #0#25, 1, "N";
       |CAMPO_MODIFICA #0#41, 1, "N";
       |CAMPO_MODIFICA #0#42, 1, "N";
   |FINSI;
|FPRC;

|PROCESO nomodi3; |TIPO 0;
   |CAMPO_MODIFICA #0#27, 1, "S";
   |SI #0#26 = "N";
       |CAMPO_MODIFICA #0#27, 1, "N";
   |FINSI;
|FPRC;

|PROCESO postal; |TIPO 3;
    #0#40 = "";
    trabacod1 = #0#11;
    trabacod1 = ("00" + trabacod1) % -102;
    trabacod2 = #0#12;
    trabacod2 = ("000" + trabacod2) % -103;
    #0#40 = trabacod1 + trabacod2;
|FPRC;

|PROCESO cuadro1; |TIPO 7;
    |PUSHV 0501 2380;
    |CUADRO 0937 2279;
    |ATRI R;
    |PINTA 1038, " 1 = Regimen Ordinario                   ";
    |PINTA 1138, " 2 = Regimen especial de bienes usados   ";
    |PINTA 1238, " 3 = Regimen especial de objetos de arte ";
    |PINTA 1338, "     antiguedades y objetos de coleccion ";
    |PINTA 1438, " 4 = Regimen especial Agencias de Viaje  ";
    |PINTA 1538, " 5 = Regimen especial determinacion pro- ";
    |PINTA 1638, "     porcional.                          ";
    |PINTA 1738, " 6 = Regimen por Modulos IVA             ";
    |PINTA 1838, " 7 = Regimen Simplificado                ";
    |PINTA 1938, " 8 = Recargo de Equivalencia             ";
    |PINTA 2038, " 9 = Recargo Equivalencia Agricultura    ";
    |PINTA 2138, " 0 = Exentas                             ";
    |ATRI 0;
|FPRC;

|PROCESO cuadro2; |TIPO 7;
    |PUSHV 0501 2380;
    |CUADRO 1337 1979;
    |ATRI R;
    |PINTA 1438, " 1 = Sujetas al I.A.E. (Empresariales)   ";
    |PINTA 1538, " 2 = Sujetas al I.A.E. (Profesionales)   ";
    |PINTA 1638, " 3 = Arrendadoras de Locales Negocios    ";
    |PINTA 1738, " 4 = Agricolas, Ganaderas o Pesqueras.   ";
    |PINTA 1838, "     No sujetas al I.A.E.                ";
    |ATRI 0;
|FPRC;

|PROCESO recupera; |TIPO 0;
   |POPV;
   |PINTA #0Campo;
|FPRC;
