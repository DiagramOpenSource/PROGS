|FICHEROS;
     defborr@;
|FIN;

|VARIABLES;
     aBaseDef       = "";
     aNomDef        = "";
     aMas           = "";

     nDAnyo         = 0;
     nHAnyo         = 9999;
     nCampoEmp      = 0;
     nCampoAnyo     = 0;

     &empresa = 0;
     &d_anyo  = 0;
     &h_anyo  = 0;
     &sw_anyo = 0;
|FIN;

|PROCESO Borrado;
     aMas = aBaseDef + aNomDef;
     |CARGA_DEF aMas, defborr@;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |ABRE #defborr@;
     #defborr@#nCampoEmp#  = empresa;
     #defborr@#nCampoAnyo# = nDAnyo;
     |LEE 101#defborr@.];
     |PARA;  |SI FSalida = 0;  |HACIENDO;
          |SI #defborr@#nCampoEmp#  = empresa;
           |Y #defborr@#nCampoAnyo# ] nDAnyo;
           |Y #defborr@#nCampoAnyo# [ nHAnyo;
              |BORRA 020#defborr@.a;
          |FINSI;
          |LIBERA #defborr@;

          |SI #defborr@#nCampoEmp# > empresa;
              |SAL;
          |FINSI;

          |SI #defborr@#nCampoAnyo# > nHAnyo;
              |SAL;
          |FINSI;

          |LEE 101#defborr@.s;
     |SIGUE;

     |CIERRA #defborr@;
     |DESCARGA_DEF #defborr@;
|FPRC;

|PROGRAMA;
     |SI d_anyo  = 0;  |Y h_anyo = 99;
         nDAnyo = 0000;
         nHAnyo = 9999;
     |SINO;
         nDAnyo = 2000 + d_anyo;
         nHAnyo = 2000 + h_anyo;
         |SI d_anyo ] 80;  nDAnyo = 1900 + d_anyo;  |FINSI;
         |SI h_anyo ] 80;  nHAnyo = 1900 + h_anyo;  |FINSI;
     |FINSI;

     |DDEF aBaseDef;  |QBF aBaseDef;

     aNomDef = "dsmom004";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsmom008";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsmociva";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsmoc310";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsmoc311";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm30301";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm30302";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm30303";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsmo3401";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsmo3402";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsmo3403";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsmo3404";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsmo3405";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18401";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18402";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18403";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18404";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18405";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18406";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18407";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18408";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18409";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18410";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18411";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18412";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18413";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18414";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18415";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18420";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18430";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
     aNomDef = "dsm18431";  nCampoEmp = 0;  nCampoAnyo = 1;  |HAZ Borrado;
|FPRO;
