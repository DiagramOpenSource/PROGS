|FICHEROS;
     eosco347 #0;
     eosm0009 #1;
     eosm0010 #2;
     eosm0016 #44;
|FIN;

|VARIABLES;
  SwImpre     = 0;
  nEjercicio  = 0;
  &enSwLinea  = 0;
  &enCobro    = 0;
  &nEjerCobro = 0;
  fLaFecha    = @;
  aAlfa1      = "";
  nNume1      = 0;
|FIN;

|INCLUYE i_consul;

|CALCULO Eano; |TIPO 7;
 fLaFecha = ~;
 aAlfa1   = fLaFecha;
 aAlfa1 = aAlfa1 % -102;
 nNume1 = aAlfa1;
 nNume1 = nNume1 - 1;
 #0#2 = nNume1; |PINTA #0#2;
|FCAL;

|PROCESO Registro2_2010R;
    |PRINT; SwImpre = 1;
    enSwLinea = 1;
|FPRC;

|PROCESO Registro4_2010;
     enCobro = #44#7;
     |SI #44#7 ! 0;
         nEjerCobro = #44#6;  || ejercicio del cobro
         |SI enSwLinea ! 0;
             #2#19 = 0;
             #2#23 = 0;
         |FINSI;
         |HAZ Registro2_2010R;
     |FINSI;
|FPRC;

|DEFBUCLE Registro4_2010;
    #44#1;
    ;
    #2#0, #2#1, #2#2, #2#3, #2#35, #2#36, #2#4, #2#5, #2#37, 2999;
    #2#0, #2#1, #2#2, #2#3, #2#35, #2#36, #2#4, #2#5, #2#37, 1990;
    e;
    NULL, Registro4_2010;
|FIN;

|PROCESO Imprime;
     nEjerCobro = 0;
     enCobro    = #2#22;
     |SI #2#22 ! 0;  nEjerCobro = nEjercicio;  |FINSI;

     enSwLinea = 0;
     |SI #2#2 = "A"; |O #2#2 = "B";

         |SI nEjercicio ] 2010;
             |SI #2#22 ! 0;  |HAZ Registro2_2010R; |FINSI;
             |BUCLE Registro4_2010;
         |FINSI;
         |SI enSwLinea = 0;  |HAZ Registro2_2010R; |FINSI;  || no habia cobro alguno
     |SINO;
         |HAZ Registro2_2010R;
     |FINSI;
|FPRC;

|DEFBUCLE eosm0010;
  #2#1;
  ;
  #1#0, #1#1, " ", "            ", " ", " ", "  ", " ", " ";
  #1#0, #1#1, "z", "zzzzzzzzzzzz", "z", "z", "zz", "z", "z";
  ;
  NULL, Imprime;
|FIN;

|PROCESO Cabecera;
  |SI #1#1 < 80;
      nEjercicio = 2000 + #1#1;
  |SINO;
      nEjercicio = 1900 + #1#1;
  |FINSI;

  SwImpre = 0;
  |BUCLE eosm0010;
  |SI SwImpre = 1;  |PIEINF;  |FINSI;
|FPRC;

|DEFBUCLE eosm0009;
  #1#1;
  ;
  #0#0, #0#2;
  #0#1, #0#2;
  ;
  NULL, Cabecera;
|FIN;

|PROCESO Tipo3; |TIPO 3;

  |IMPRE 0;
  |SI FSalida ! 0;  |ACABA;  |FINSI;

  |SI #0#2 > 10;
      |SI #0#2 ] 14;
          |INFOR "eosco346";
      |SINO;
          |INFOR "eosco348";
      |FINSI;
  |SINO;
      |INFOR "eosco347";
  |FINSI;
  |SI FSalida ! 0;  |FINIMP; |ACABA; |FINSI;

  |BUCLE eosm0009;
  |FININF;
  |FINIMP;
|FPRC;
