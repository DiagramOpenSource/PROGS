|FICHEROS;
     eospe131 #0;                  || Este Def
     eosclien #2;                  || Clientes
     eospanta #3;                  || Fantasma
     eosm0020 #4;                  || Mantenimiento 1998
|FIN;

|VARIABLES;
     lin       = 0;
     sw        = 0;
     igual     = "=";
     iguales   = "";
     opcion    = 0;

     Campo1    = 0;
     Campo2    = 0;
     Campo7    = 0;
     Cantidad  = 0;
     SeImprime = 0;

     {-1}menu  = "";
         menu1 = "2425";
         menu2 = "1";
         menu3 = "Opciones : ";
         menu4 = "PI";
         menu5 = " Pantalla  ";
         menu6 = " Impresora ";
|FIN;

|INCLUYE i_consul;

|PROCESO SeImprime;
  SeImprime = 0;
  |PARA Campo2 = 6; |SI Campo2 [ 34; |HACIENDO Campo2 = Campo2 + 7;
        Campo7 = Campo2 + 5;
        |SI #4Campo2 = "C";  SeImprime = 1;  |FINSI;
        |SI #4Campo2 = "N";
            |SI #4Campo7 ! 0; SeImprime = 1; |FINSI;
        |FINSI;
  |SIGUE;

  |SI #4#43 ! 0; |O #4#44 ! 0; |O #4#45 ! 0; |O #4#46 ! 0;
      SeImprime = 1;
  |FINSI;

  |SI #4#11 = 0; |Y #4#18 = 0; |Y #4#25 = 0; |Y #4#32 = 0; |Y #4#39 = 0;
   |Y #4#40 = 0; |Y #4#41 = 0; |Y #4#43 = 0; |Y #4#45 = 0; |Y #4#47 = 0;
       SeImprime = 1;
  |FINSI;
|FPRC;

|PROCESO Panta98;
  |HAZ SeImprime;
  |SI SeImprime = 0;  |ACABA;  |FINSI;

  #2#0 = #4#0;
  |LEE 040#2=;
  |SI FSalida ! 0; |DDEFECTO #2; |FINSI;

  #3#0 = #4#0;
  #3#1 = #2#3;
  #3#2 = #4#2;
  #3#3 = #4#1;
  Pos = lin;
  |PINDA #0#3;
  Pos = -1;
  lin = lin + 100;
  |SI lin > 1300;
      |PAUSA;
      |PINPA #0#3;
      lin = 100;
  |FINSI;
|FPRC;

|DEFBUCLE eosm00201;
  #4#1;
  3, 4;
  #0#0, #0#2, #0#4, "01.01.0000", "N";
  #0#1, #0#2, #0#5, "01.01.0000", "N";
  ;
  NULL, Panta98;
|FIN;

|PROCESO Impre98;
  |HAZ SeImprime;
  |SI SeImprime = 0;  |ACABA;  |FINSI;

  #2#0 = #4#0;
  |LEE 040#2=;

  #3#0 = #4#0;
  #3#1 = #2#3;
  #3#2 = #4#2;
  #3#3 = #4#1;

  |PRINT;
|FPRC;

|DEFBUCLE eosm00200;
  #4#1;
  3, 4;
  #0#0, #0#2, #0#4, "01.01.0000", "N";
  #0#1, #0#2, #0#5, "01.01.0000", "N";
  ;
  NULL, Impre98;
|FIN;

|PROCESO impre;|TIPO 3;
  sw = 0;
  |MENU menu;
  opcion = FSalida;

  |SI opcion = 1;
      |ABRE #2;
      lin = 100;
      |PINPA #0#3;
      |SI #0#2 ] 0;  |Y #0#2 [ 80;
          |BUCLE eosm00201;
      |SINO;
          |SI #0#2 ] 98;  |BUCLE eosm00201;  |FINSI;
      |FINSI;
      |PAUSA;
      |CIERRA #2;
  |FINSI;

  |SI opcion = 2;
      |IMPRE 0;
      |SI FSalida ! 0;  |ACABA;  |FINSI;

      |INFOR "eospe131";
      |SI FSalida ! 0;  |FINIMP;  |ACABA;  |FINSI;

      |ABRE #2;
      |SI #0#2 ] 0;  |Y #0#2 [ 80;
          |BUCLE eosm00200;
      |SINO;
          |SI #0#2 ] 98;  |BUCLE eosm00200;  |FINSI;
      |FINSI;
      |CIERRA #2;
      |PIEINF;
      |FININF;
      |FINIMP;
  |FINSI;
  |CIERRA #2;
|FPRC;
