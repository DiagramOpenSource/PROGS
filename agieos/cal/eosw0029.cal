|FICHEROS;
    eosw0029 #0;
|FIN;

|VARIABLES;
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    para1 = 0;
    para2 = 0;
    para3 = 0;
    para4 = 0;
    fech1 = @;
    fech2 = @;
    fech3 = @;
    fech4 = @;
    elsw1 = 0;
    elsw2 = 0;
    elsw3 = 0;
    elsw4 = 0;
    FEstado = 0;
    seleccio = 0;
    modo = 0;
    sw_rup = 0;

    dbase = "";
    nomfi = "reoimp01.dat";
    fabre = "";
    field = "";
    fcanl = "";
|FIN;
____________________________________/
|PROCESO grabando;
|DDEFECTO #0;
    alfa1 = field % 108; |QBT alfa1;
    alfa1 = ("00000000" + alfa1) % -108;
    #0#0 = alfa1;             || clave
    #0#1 = field % 905;       || empresa
    #0#2 = field % 1401;      || tipo
    #0#3 = field % 1512;      || cif
    #0#4 = field % 2740;      || nombre
    #0#5 = field % 6702;      || sg
    #0#6 = field % 6925;      || direccion
    #0#7 = field % 9404;      || numero
    #0#8 = field % 9802;      || cp. 1
    #0#9 = field % 10003;     || cp. 2
    #0#10 = field % 10320;    || poblacion
    #0#11 = field % 12315;    || provincia
    #0#12 = field % 13810;    || importe
|GRABA 020#0n;
|SI FSalida = 0;
    |PINTA #0#0;
|FINSI;
|FPRC;

|PROCESO tipo4; |TIPO 4;
    dbase = "";
|DIRECTORIO dbase;
    alfa1 = "    NImportar Fichero [" + dbase + "reoimp01.dat] (S/N): ";
|CONFI alfa1;
|SI FSalida = 0;
    |CIERRAT #0;
    |DELINDEX #0;
    |ABRET #0;
        fabre = "r   " + dbase + "reoimp01.dat";
    |FABRE fabre;
    |SI FSalida ] 0;
            fcanl = FSalida;
        |PARA; |SI; |HACIENDO;
                field = fcanl + " 254";
            |FLEE field;
            |SI FSalida > 0;
                |HAZ grabando;
            |SINO;
                |SAL;
            |FINSI;
        |SIGUE;
        |FCIERRA fcanl;
            Pos = -1;
        |LEE 000#0p;
        |PINDA #0#0;
    |FINSI;
|FINSI;
|FPRC;
