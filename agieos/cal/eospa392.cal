|FICHEROS;
   eospa392 #0;
   eosm3392 #2;
   eosma332 #3;
   eosma320 #4;
   eosclien #5;
   eosopes1 #6;
   eosactiv #7;
|FIN;

|VARIABLES;
   Cont = 0; Calc = 0; Calc1 = 0; nCalc = 0;
   nComp     = 0; nCompTC   = 0;
   nTotalIng = 0; nTotalDev = 0;
   nExis = 0;
   fec   = @;
   alfa1 = "";
   nSwC   = 0;
   &sw_sit     = 0;
   &d_empre    = 0;
   &h_empre    = 0;
   &el_anyo    = 0;
   &SwViene    = 0;
   &VEmpresa   = 0;
   &VPeriodo   = 0;
   &VAnyo      = 0;
   &VActiv     = 0;
|FIN;

|PROCESO defany; |TIPO 7;
 fec = ~;
 alfa1 = fec; alfa1 = alfa1 % -104;
 #0#2  = alfa1;
 #0#2  = #0#2 - 1;
 |PINTA #0#2;
|FPRC;

|PROCESO Borra392;
   |BORRA 020#eosm3392.a;
   |LIBERA #eosm3392;
|FPRC;

|DEFBUCLE Borra392;
#eosm3392#1;
;
#eospa392#0,Calc;
#eospa392#1,Calc;
be;
NULL,Borra392;
|FIN;

|PROCESO Recoge332;
   |SI nExis = 0; |Y #eosma332#2 = 1;
       nComp   = nComp   + #eosma332#44;
       nCompTC = nCompTC + #eosma332#44;
   |FINSI;

   |SI #eosma332#51 = 0; |Y #eosma332#52 = 0; |Y #eosma332#53 = 0;
      |SI #eosma332#3 = "M";
         |SI #eosma332#2 = 12;
            |SI #eosma332#50 < 0;
               |SI #eosactiv#27 = "D";
                  #eosma332#51 = #eosma332#50;
               |SINO;
                  #eosma332#52 = #eosma332#50;
               |FINSI;
            |SINO;
               #eosma332#53 = #eosma332#50;
            |FINSI;
         |SINO;
            |SI #eosma332#50 < 0;
               #eosma332#52 = #eosma332#50;
            |SINO;
               #eosma332#53 = #eosma332#50;
            |FINSI;
         |FINSI;
      |SINO;
         |SI #eosma332#2 = 4;
            |SI #eosma332#50 < 0;
               |SI #eosactiv#27 = "D";
                  #eosma332#51 = #eosma332#50;
               |SINO;
                  #eosma332#52 = #eosma332#50;
               |FINSI;
            |SINO;
               #eosma332#53 = #eosma332#50;
            |FINSI;
         |SINO;
            |SI #eosma332#50 < 0;
               #eosma332#52 = #eosma332#50;
            |SINO;
               #eosma332#53 = #eosma332#50;
            |FINSI;
         |FINSI;
      |FINSI;
      |GRABA 020#eosma332.a;
   |FINSI;

   ||      R E P E R C U T I D O

   || Regimen Ordinario
   |PARA Cont = 8; |SI Cont [ 14; |HACIENDO Cont = Cont + 3;
      Calc = Cont + 1; Calc1 = Cont - 1;
      |SI #eosma332#Cont# = 4;
         #eosm3392#29 = #eosm3392#29 + #eosma332#Calc1#;
         #eosm3392#30 = #eosm3392#30 + #eosma332#Calc#;
      |FINSI;
      |SI #eosma332#Cont# = 7;
         #eosm3392#31 = #eosm3392#31 + #eosma332#Calc1#;
         #eosm3392#32 = #eosm3392#32 + #eosma332#Calc#;
      |FINSI;
      |SI #eosma332#Cont# = 16;
         #eosm3392#33 = #eosm3392#33 + #eosma332#Calc1#;
         #eosm3392#34 = #eosm3392#34 + #eosma332#Calc#;
      |FINSI;
   |SIGUE;

   || Recargo equivalencia
   |PARA Cont = 17; |SI Cont [ 23; |HACIENDO Cont = Cont + 3;
      Calc = Cont - 1; Calc1 = Cont + 1;
      |SI #eosma332#Cont# = 0.5;
         #eosm3392#63 = #eosm3392#63 + #eosma332#Calc#;
         #eosm3392#64 = #eosm3392#64 + #eosma332#Calc1#;
      |FINSI;
      |SI #eosma332#Cont# = 1;
         #eosm3392#65 = #eosm3392#65 + #eosma332#Calc#;
         #eosm3392#66 = #eosm3392#66 + #eosma332#Calc1#;
      |FINSI;
      |SI #eosma332#Cont# = 4;
         #eosm3392#67 = #eosm3392#67 + #eosma332#Calc#;
         #eosm3392#68 = #eosm3392#68 + #eosma332#Calc1#;
      |FINSI;
      |SI #eosma332#Cont# = 1.75;
         #eosm3392#69 = #eosm3392#69 + #eosma332#Calc#;
         #eosm3392#70 = #eosm3392#70 + #eosma332#Calc1#;
      |FINSI;
   |SIGUE;

   || Adquisiciones intracomunitarias
   |PARA Cont = 70; |SI Cont [ 79; |HACIENDO Cont = Cont + 3;
      Calc = Cont - 1; Calc1 = Cont + 1;
      |SI #eosma332#Cont# = 4;
         #eosm3392#49 = #eosm3392#49 + #eosma332#Calc#;
         #eosm3392#50 = #eosm3392#50 + #eosma332#Calc1#;
      |FINSI;
      |SI #eosma332#Cont# = 7;
         #eosm3392#51 = #eosm3392#51 + #eosma332#Calc#;
         #eosm3392#52 = #eosm3392#52 + #eosma332#Calc1#;
      |FINSI;
      |SI #eosma332#Cont# = 16;
         #eosm3392#53 = #eosm3392#53 + #eosma332#Calc#;
         #eosm3392#54 = #eosm3392#54 + #eosma332#Calc1#;
      |FINSI;
   |SIGUE;

   #eosm3392#61 = #eosm3392#29 + #eosm3392#31 + #eosm3392#33 + #eosm3392#35;
   #eosm3392#61 = #eosm3392#61 + #eosm3392#37 + #eosm3392#39 + #eosm3392#41;
   #eosm3392#61 = #eosm3392#61 + #eosm3392#43 + #eosm3392#45 + #eosm3392#47;
   #eosm3392#61 = #eosm3392#61 + #eosm3392#49 + #eosm3392#51 + #eosm3392#53;
   #eosm3392#61 = #eosm3392#61 + #eosm3392#55 + #eosm3392#57 + #eosm3392#59;

   #eosm3392#62 = #eosm3392#30 + #eosm3392#32 + #eosm3392#34 + #eosm3392#36;
   #eosm3392#62 = #eosm3392#62 + #eosm3392#38 + #eosm3392#40 + #eosm3392#42;
   #eosm3392#62 = #eosm3392#62 + #eosm3392#44 + #eosm3392#46 + #eosm3392#48;
   #eosm3392#62 = #eosm3392#62 + #eosm3392#50 + #eosm3392#52 + #eosm3392#54;
   #eosm3392#62 = #eosm3392#62 + #eosm3392#56 + #eosm3392#58 + #eosm3392#60;

   #eosm3392#75 = #eosm3392#62 + #eosm3392#64 + #eosm3392#66 + #eosm3392#68;
   #eosm3392#75 = #eosm3392#75 + #eosm3392#70 + #eosm3392#72 + #eosm3392#74;


   ||      S O P O R T A D O

   || Operaciones interiores corrientes
   #eosm3392#76 = #eosm3392#76 + #eosma332#28;
   #eosm3392#77 = #eosm3392#77 + #eosma332#29;
   #eosm3392#82 = #eosm3392#82 + #eosma332#28;
   #eosm3392#83 = #eosm3392#83 + #eosma332#29;

   || Importaciones corrientes
   #eosm3392#92 = #eosm3392#92 + #eosma332#30;
   #eosm3392#93 = #eosm3392#93 + #eosma332#31;
   #eosm3392#98 = #eosm3392#98 + #eosma332#30;
   #eosm3392#99 = #eosm3392#99 + #eosma332#31;

   || Adquisiciones intracomunitarias
   #eosm3392#108 = #eosm3392#108 + #eosma332#32;
   #eosm3392#109 = #eosm3392#109 + #eosma332#33;
   #eosm3392#114 = #eosm3392#114 + #eosma332#32;
   #eosm3392#115 = #eosm3392#115 + #eosma332#33;

   || Regimen A,G y P
   #eosm3392#124 = #eosm3392#124 + #eosma332#81;
   #eosm3392#125 = #eosm3392#125 + #eosma332#34;

   || Regularizacion inversiones
   #eosm3392#127 = #eosm3392#127 + #eosma332#35;

   || Operaciones interiores inversiones
   #eosm3392#84 = #eosm3392#84 + #eosma332#36;
   #eosm3392#85 = #eosm3392#85 + #eosma332#37;
   #eosm3392#90 = #eosm3392#90 + #eosma332#36;
   #eosm3392#91 = #eosm3392#91 + #eosma332#37;

   || Importaciones inversiones
   #eosm3392#100 = #eosm3392#100 + #eosma332#38;
   #eosm3392#101 = #eosm3392#101 + #eosma332#39;
   #eosm3392#106 = #eosm3392#106 + #eosma332#38;
   #eosm3392#107 = #eosm3392#107 + #eosma332#39;

   #eosm3392#128 = #eosm3392#83 + #eosm3392#91 + #eosm3392#99 + #eosm3392#107;
   #eosm3392#128 = #eosm3392#128 + #eosm3392#115 + #eosm3392#123 + #eosm3392#125;
   #eosm3392#128 = #eosm3392#128 + #eosm3392#126 + #eosm3392#127;

   #eosm3392#129 = #eosm3392#75 - #eosm3392#128;
   #eosm3392#130 = #eosm3392#129; #eosm3392#132 = #eosm3392#129;
   #eosm3392#138 = #eosm3392#130 % #eosm3392#137;
   #eosm3392#140 = #eosm3392#138;

   || Operaciones especificas y volumen de operaciones
   #eosopes1#0 = #eosma332#0;
   #eosopes1#1 = #eosma332#1;
   #eosopes1#2 = #eosma332#2;
   #eosopes1#3 = #eosma332#4;
   |LEE 101#eosopes1.=;
   |SI FSalida = 0;
      |SI #eosopes1#4 ! 0;
         nCalc = #eosopes1#4;
      |SINO;
         nCalc = #eosma332#7 + #eosma332#10 + #eosma332#13;
      |FINSI;

      |SI #6#7 = #6#9;  #6#7 = 0;  |FINSI;

      #eosm3392#145 = #eosm3392#145 + nCalc;
      #eosm3392#146 = #eosm3392#146 + #eosopes1#5;
      #eosm3392#147 = #eosm3392#147 + #eosopes1#6;
      #eosm3392#148 = #eosm3392#148 + #eosopes1#7;
      #eosm3392#149 = #eosm3392#149 + #eosopes1#8;
      #eosm3392#150 = #eosm3392#150 + #eosopes1#9;
      #eosm3392#151 = #eosm3392#151 + #eosopes1#10;
      #eosm3392#152 = #eosm3392#152 + #eosopes1#11;
      #eosm3392#153 = #eosm3392#153 + #eosopes1#12;
      #eosm3392#154 = #eosm3392#154 + #eosopes1#13;
      #eosm3392#155 = #eosm3392#155 + #eosopes1#14;

      #eosm3392#156 = #eosm3392#156 + #eosopes1#15;
      #eosm3392#157 = #eosm3392#157 + #eosopes1#16;
      #eosm3392#158 = #eosm3392#158 + #eosopes1#17;
      #eosm3392#159 = #eosm3392#159 + #eosopes1#18;
      #eosm3392#160 = #eosm3392#160 + #eosopes1#19;
      #eosm3392#161 = #eosm3392#161 + #eosopes1#20;
      #eosm3392#162 = #eosm3392#162 + #eosopes1#21;
      #eosm3392#163 = #eosm3392#163 + #eosopes1#22;
   |FINSI;

   |LIBERA #eosopes1;

   nTotalIng = nTotalIng + #eosma332#53;
   |SI #eosclien#62 ! "    ";
      nTotalDev = nTotalDev + #eosma332#51;
   |FINSI;

   |GRABA 020#eosm3392.a;
|FPRC;

|DEFBUCLE Recoge332;
#eosma332#1;
;
#eosm3392#0,1,01,"M",#eosm3392#1;
#eosm3392#0,6,12,"T",#eosm3392#1;
be;
NULL,Recoge332;
|FIN;

|PROCESO Recoge320;
   |SI nExis = 0; |Y #eosma320#2 = 1;
       nComp  =  nComp  + #eosma320#44;
       nCompTC = nCompTC + #eosma320#44;
   |FINSI;

   |SI #eosma320#51 = 0; |Y #eosma320#52 = 0; |Y #eosma320#53 = 0;
      |SI #eosma320#3 = "M";
         |SI #eosma320#2 = 12;
            |SI #eosma320#50 < 0;
               |SI #eosactiv#27 = "D";
                  #eosma320#51 = #eosma320#50;
               |SINO;
                  #eosma320#52 = #eosma320#50;
               |FINSI;
            |SINO;
               #eosma320#53 = #eosma320#50;
            |FINSI;
         |SINO;
            |SI #eosma320#50 < 0;
               #eosma320#52 = #eosma320#50;
            |SINO;
               #eosma320#53 = #eosma320#50;
            |FINSI;
         |FINSI;
      |SINO;
         |SI #eosma320#2 = 4;
            |SI #eosma320#50 < 0;
               |SI #eosactiv#27 = "D";
                  #eosma320#51 = #eosma320#50;
               |SINO;
                  #eosma320#52 = #eosma320#50;
               |FINSI;
            |SINO;
               #eosma320#53 = #eosma320#50;
            |FINSI;
         |SINO;
            |SI #eosma320#50 < 0;
               #eosma320#52 = #eosma320#50;
            |SINO;
               #eosma320#53 = #eosma320#50;
            |FINSI;
         |FINSI;
      |FINSI;
      |GRABA 020#eosma320.a;
   |FINSI;

   ||      R E P E R C U T I D O

   || Regimen Ordinario
   |PARA Cont = 8; |SI Cont [ 14; |HACIENDO Cont = Cont + 3;
      Calc = Cont + 1; Calc1 = Cont - 1;
      |SI #eosma320#Cont# = 4;
         #eosm3392#29 = #eosm3392#29 + #eosma320#Calc1#;
         #eosm3392#30 = #eosm3392#30 + #eosma320#Calc#;
      |FINSI;
      |SI #eosma320#Cont# = 7;
         #eosm3392#31 = #eosm3392#31 + #eosma320#Calc1#;
         #eosm3392#32 = #eosm3392#32 + #eosma320#Calc#;
      |FINSI;
      |SI #eosma320#Cont# = 16;
         #eosm3392#33 = #eosm3392#33 + #eosma320#Calc1#;
         #eosm3392#34 = #eosm3392#34 + #eosma320#Calc#;
      |FINSI;
   |SIGUE;

   || Recargo equivalencia
   |PARA Cont = 17; |SI Cont [ 23; |HACIENDO Cont = Cont + 3;
      Calc = Cont - 1; Calc1 = Cont + 1;
      |SI #eosma320#Cont# = 0.5;
         #eosm3392#63 = #eosm3392#63 + #eosma320#Calc#;
         #eosm3392#64 = #eosm3392#64 + #eosma320#Calc1#;
      |FINSI;
      |SI #eosma320#Cont# = 1;
         #eosm3392#65 = #eosm3392#65 + #eosma320#Calc#;
         #eosm3392#66 = #eosm3392#66 + #eosma320#Calc1#;
      |FINSI;
      |SI #eosma320#Cont# = 4;
         #eosm3392#67 = #eosm3392#67 + #eosma320#Calc#;
         #eosm3392#68 = #eosm3392#68 + #eosma320#Calc1#;
      |FINSI;
      |SI #eosma320#Cont# = 1.75;
         #eosm3392#69 = #eosm3392#69 + #eosma320#Calc#;
         #eosm3392#70 = #eosm3392#70 + #eosma320#Calc1#;
      |FINSI;
   |SIGUE;

   || Adquisiciones intracomuntarias
   |PARA Cont = 70; |SI Cont [ 79; |HACIENDO Cont = Cont + 3;
      Calc = Cont - 1; Calc1 = Cont + 1;
      |SI #eosma320#Cont# = 4;
         #eosm3392#49 = #eosm3392#49 + #eosma320#Calc#;
         #eosm3392#50 = #eosm3392#50 + #eosma320#Calc1#;
      |FINSI;
      |SI #eosma320#Cont# = 7;
         #eosm3392#51 = #eosm3392#51 + #eosma320#Calc#;
         #eosm3392#52 = #eosm3392#52 + #eosma320#Calc1#;
      |FINSI;
      |SI #eosma320#Cont# = 16;
         #eosm3392#53 = #eosm3392#53 + #eosma320#Calc#;
         #eosm3392#54 = #eosm3392#54 + #eosma320#Calc1#;
      |FINSI;
   |SIGUE;

   #eosm3392#61 = #eosm3392#29 + #eosm3392#31 + #eosm3392#33 + #eosm3392#35;
   #eosm3392#61 = #eosm3392#61 + #eosm3392#37 + #eosm3392#39 + #eosm3392#41;
   #eosm3392#61 = #eosm3392#61 + #eosm3392#43 + #eosm3392#45 + #eosm3392#47;
   #eosm3392#61 = #eosm3392#61 + #eosm3392#49 + #eosm3392#51 + #eosm3392#53;
   #eosm3392#61 = #eosm3392#61 + #eosm3392#55 + #eosm3392#57 + #eosm3392#59;

   #eosm3392#62 = #eosm3392#30 + #eosm3392#32 + #eosm3392#34 + #eosm3392#36;
   #eosm3392#62 = #eosm3392#62 + #eosm3392#38 + #eosm3392#40 + #eosm3392#42;
   #eosm3392#62 = #eosm3392#62 + #eosm3392#44 + #eosm3392#46 + #eosm3392#48;
   #eosm3392#62 = #eosm3392#62 + #eosm3392#50 + #eosm3392#52 + #eosm3392#54;
   #eosm3392#62 = #eosm3392#62 + #eosm3392#56 + #eosm3392#58 + #eosm3392#60;

   #eosm3392#75 = #eosm3392#62 + #eosm3392#64 + #eosm3392#66 + #eosm3392#68;
   #eosm3392#75 = #eosm3392#75 + #eosm3392#70 + #eosm3392#72 + #eosm3392#74;


   ||      S O P O R T A D O

   || Operaciones interiores corrientes
   #eosm3392#76 = #eosm3392#76 + #eosma320#28;
   #eosm3392#77 = #eosm3392#77 + #eosma320#29;
   #eosm3392#82 = #eosm3392#82 + #eosma320#28;
   #eosm3392#83 = #eosm3392#83 + #eosma320#29;

   || Importaciones corrientes
   #eosm3392#92 = #eosm3392#92 + #eosma320#30;
   #eosm3392#93 = #eosm3392#93 + #eosma320#31;
   #eosm3392#98 = #eosm3392#98 + #eosma320#30;
   #eosm3392#99 = #eosm3392#99 + #eosma320#31;

   || Adquisiciones intracomunitarias
   #eosm3392#108 = #eosm3392#108 + #eosma320#32;
   #eosm3392#109 = #eosm3392#109 + #eosma320#33;
   #eosm3392#114 = #eosm3392#114 + #eosma320#32;
   #eosm3392#115 = #eosm3392#115 + #eosma320#33;

   || Regimen A,G y P
   #eosm3392#124 = #eosm3392#124 + #eosma320#81;
   #eosm3392#125 = #eosm3392#125 + #eosma320#34;

   || Regularizacion inversiones
   #eosm3392#127 = #eosm3392#127 + #eosma320#35;

   || Operaciones interiores inversiones
   #eosm3392#84 = #eosm3392#84 + #eosma320#36;
   #eosm3392#85 = #eosm3392#85 + #eosma320#37;
   #eosm3392#90 = #eosm3392#90 + #eosma320#36;
   #eosm3392#91 = #eosm3392#91 + #eosma320#37;

   || Importaciones inversiones
   #eosm3392#100 = #eosm3392#100 + #eosma320#38;
   #eosm3392#101 = #eosm3392#101 + #eosma320#39;
   #eosm3392#106 = #eosm3392#106 + #eosma320#38;
   #eosm3392#107 = #eosm3392#107 + #eosma320#39;

   #eosm3392#128 = #eosm3392#83 + #eosm3392#91 + #eosm3392#99 + #eosm3392#107;
   #eosm3392#128 = #eosm3392#128 + #eosm3392#115 + #eosm3392#123 + #eosm3392#125;
   #eosm3392#128 = #eosm3392#128 + #eosm3392#126 + #eosm3392#127;

   #eosm3392#129 = #eosm3392#75 - #eosm3392#128;
   #eosm3392#130 = #eosm3392#129; #eosm3392#132 = #eosm3392#129;
   #eosm3392#138 = #eosm3392#130 % #eosm3392#137;
   #eosm3392#140 = #eosm3392#138;

   || Operaciones especificas y volumen de operaciones
   #eosopes1#0 = #eosma320#0;
   #eosopes1#1 = #eosma320#1;
   #eosopes1#2 = #eosma320#2;
   #eosopes1#3 = #eosma320#4;
   |LEE 101#eosopes1.=;
   |SI FSalida = 0;
      |SI #6#7 = #6#9;  #6#7 = 0;  |FINSI;

      #eosm3392#145 = #eosm3392#145 + #eosopes1#4;
      #eosm3392#146 = #eosm3392#146 + #eosopes1#5;
      #eosm3392#147 = #eosm3392#147 + #eosopes1#6;
      #eosm3392#148 = #eosm3392#148 + #eosopes1#7;
      #eosm3392#149 = #eosm3392#149 + #eosopes1#8;
      #eosm3392#150 = #eosm3392#150 + #eosopes1#9;
      #eosm3392#151 = #eosm3392#151 + #eosopes1#10;
      #eosm3392#152 = #eosm3392#152 + #eosopes1#11;
      #eosm3392#153 = #eosm3392#153 + #eosopes1#12;
      #eosm3392#154 = #eosm3392#154 + #eosopes1#13;
      #eosm3392#155 = #eosm3392#155 + #eosopes1#14;

      #eosm3392#156 = #eosm3392#156 + #eosopes1#15;
      #eosm3392#157 = #eosm3392#157 + #eosopes1#16;
      #eosm3392#158 = #eosm3392#158 + #eosopes1#17;
      #eosm3392#159 = #eosm3392#159 + #eosopes1#18;
      #eosm3392#160 = #eosm3392#160 + #eosopes1#19;
      #eosm3392#161 = #eosm3392#161 + #eosopes1#20;
      #eosm3392#162 = #eosm3392#162 + #eosopes1#21;
      #eosm3392#163 = #eosm3392#163 + #eosopes1#22;
   |FINSI;

   |LIBERA #eosopes1;

   nTotalIng = nTotalIng + #eosma320#53;
   |SI #eosclien#62 ! "    ";
      nTotalDev = nTotalDev + #eosma320#51;
   |FINSI;

   |GRABA 020#eosm3392.a;
|FPRC;

|DEFBUCLE Recoge320;
#eosma320#1;
;
#eosm3392#0,1,01,"M",#eosm3392#1;
#eosm3392#0,6,12,"T",#eosm3392#1;
be;
NULL,Recoge320;
|FIN;

|PROCESO Importacion;
   nExis   = 0;

   Calc = #eospa392#2; Calc = Calc - 1900;
   |SI Calc ] 100; Calc = Calc - 100; |FINSI;
   #eosm3392#1 = Calc - 1;
   |LEE 000#eosm3392.=;
   |SI FSalida = 0;
      nComp   = #eosm3392#143;
      nCompTC = #eosm3392#143;
      nExis   = 1;
   |FINSI;

   #eosm3392#0 = #eosclien#0;
   Calc = #eospa392#2; Calc = Calc - 1900;
   |SI Calc ] 100; Calc = Calc - 100; |FINSI;
   #eosm3392#1 = Calc;
   |LEE 101#eosm3392.=;
   |SI FSalida ! 0;
      |DDEFECTO #eosm3392;
      #eosm3392#0 = #eosclien#0;
      #eosm3392#1 = Calc;
      #eosm3392#2 = #eosclien#2;
      |GRABA 020#eosm3392.b;
   |FINSI;
nSwC = 0;
   |ABRE #eosactiv;
   |PARA Cont = 1; |SI Cont [ 6; |HACIENDO Cont = Cont + 1;
      #eosactiv#0 = #eosm3392#0;
      #eosactiv#1 = Cont;
      #eosactiv#2 = #eosm3392#1;
      |LEE 001#eosactiv.=;
      |SI FSalida = 0;
||         |SI nComp = 0; nComp = #eosactiv#34; nCompTC = #eosactiv#34; |FINSI;
         |SI #eosactiv#34 ! 0; nSwC = 1; |FINSI;
         Calc = Cont + 16; #eosm3392#Calc# = #eosactiv#4;
         Calc = Calc + 6;  #eosm3392#Calc# = #eosactiv#5;
         Calc = Calc - 12; #eosm3392#Calc# = #eosactiv#43;
         Calc = Calc - 6;  #eosm3392#Calc# = #eosactiv#6;
      |FINSI;
   |SIGUE;

   nTotalIng = 0;   nTotalDev = 0;
   |BUCLE Recoge320; |BUCLE Recoge332;

   #eosm3392#131 = nComp;
   #eosm3392#139 = nCompTC;
   #eosm3392#132 = #eosm3392#130 - #eosm3392#131;
   #eosm3392#138 = #eosm3392#130 % #eosm3392#133;
   #eosm3392#140 = #eosm3392#138 - #eosm3392#139;
   #eosm3392#141 = nTotalIng;
   #eosm3392#142 = nTotalDev;
   |SI #eosm3392#140 < 0;
||      #eosm3392#144 = - (#eosm3392#138 - #eosm3392#139);
      |SI #eosm3392#132 ! 0;
         #eosm3392#144 = #eosm3392#141 - #eosm3392#142 - #eosm3392#143 - #eosm3392#132;
      |SINO;
         #eosm3392#144 = #eosm3392#141 - #eosm3392#142 - #eosm3392#143 - #eosm3392#140;
      |FINSI;
      |SI nSwC = 1; #eosm3392#143 = #eosm3392#144; #eosm3392#144 = 0; |FINSI;
   |FINSI;
   |GRABA 020#eosm3392.a;

   |LIBERA #eosm3392;
|FPRC;

|DEFBUCLE Importacion;
   #eosclien#1;
   ;
   #eospa392#0;
   #eospa392#1;
   be;
   NULL,Importacion;
|FIN;

|PROCESO Pasa; |TIPO 3;
   |ABRE #eosm3392;
   |ABRE #eosactiv; |ABRE #eosma320; |ABRE #eosma332; |ABRE #eosopes1;

   Calc = #eospa392#2; Calc = Calc - 1900;
   |SI Calc ] 100; Calc = Calc - 100; |FINSI;
   |BUCLE Borra392;

   |BUCLE Importacion;

   |CIERRA #eosopes1; |CIERRA #eosma332; |CIERRA #eosma320; |CIERRA #eosactiv;
   |CIERRA #eosm3392;
|FPRC;


|PROGRAMA;
     |SI sw_sit = 0;
         |MANTE #0;
     |SINO;
         #0#0 = d_empre;
         #0#1 = h_empre;
         #0#2 = el_anyo;
         |CLS;
         |PINPA #0#0;
         |PINDA #0#0;
         |HAZ Pasa;
     |FINSI;
|FPRO;
