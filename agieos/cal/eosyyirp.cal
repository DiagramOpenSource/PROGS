|FICHEROS;
   eosyyirp #0;
   eosirpf1 #1;
|FIN;

|VARIABLES;
     seleccio = 0;
     sw = 0;
     empresa = 0;
     y = 0;
     b1 = 0;
     b2 = 0;
     b3 = 0;
     b4 = 0;
     mes = 0;
     borra = 0;
     vari_i = 0;
     vari_i1 = 0;
     vari_i2 = 0;
     vari_r = 0;
     vari_r1 = 0;
     vari_r2 = 0;
     vari_d = 0;
     vari_b = 0;
     informe      = "";
     error0       = "     Proceso ABORTADO !!! ";
     &lin_0 = 0;
     &lin_01 = 0;
     &lin_02 = 0;
     &lin_1 = 0;
     &lin_11 = 0;
     &lin_12 = 0;
     &lin_2 = 0;
     &lin_3 = 0;
     &lintc1 = 0;
     para1 = 0;
     nume1 = 0;
     nume2 = 0;

     {-1}&total = 0;
         &total1 = 0;
         &total2 = 0;
         &total3 = 0;
         &total4 = 0;
         &total5 = 0;
         &total6 = 0;
         &total7 = 0;
         &total8 = 0;
         &total9 = 0;
         &total10 = 0;
         &total11 = 0;
         &total12 = 0;
         &total13 = 0;
     {-1}&td = 0;
         &td1 = 0;
         &td2 = 0;
         &td3 = 0;
         &td4 = 0;
         &td5 = 0;
         &td6 = 0;
         &td7 = 0;
         &td8 = 0;
         &td9 = 0;
         &td10 = 0;
         &td11 = 0;
         &td12 = 0;
         &td13 = 0;
     {-1}&tt = 0;
         &tt1 = 0;
         &tt2 = 0;
         &tt3 = 0;
         &tt4 = 0;
         &tt5 = 0;
         &tt6 = 0;
         &tt7 = 0;
         &tt8 = 0;
         &tt9 = 0;
         &tt10 = 0;
         &tt11 = 0;
         &tt12 = 0;
         &tt13 = 0;
     {-1}&tc = 0;
         &tc1 = 0;
         &tc2 = 0;
         &tc3 = 0;
         &tc4 = 0;
         &tc5 = 0;
         &tc6 = 0;
         &tc7 = 0;
         &tc8 = 0;
         &tc9 = 0;
         &tc10 = 0;
         &tc11 = 0;
         &tc12 = 0;
         &tc13 = 0;
|FIN;

|PROCESO seleccion;
     b1 = 22;
     b2 = 35;
     b3 = 113;
     b4 = 100;
     |PARA mes = 1; |SI mes [ 12; |HACIENDO mes = mes + 1;
          |SI mes < #0#8; |O mes > #0#9;
              borra   = b1 + mes;  #1borra = 0;
              borra   = b2 + mes;  #1borra = 0;
              borra   = b3 + mes;  #1borra = 0;
              borra   = b4 + mes;  #1borra = 0;
          |FINSI;
     |SIGUE;
|FPRC;

|PROCESO acumula;
     vari_i  = 23;
     vari_r  = 36;
     vari_d  = 114;
     vari_b  = 101;
     vari_i1 = 49;
     vari_i2 = 75;
     vari_r1 = 62;
     vari_r2 = 88;

     |PARA y = 1;|SI y [ 12; |HACIENDO y = y + 1;
           lin_0  = lin_0  + #1vari_i;
           lin_01 = lin_01 + #1vari_i1;
           lin_02 = lin_02 + #1vari_i2;

           |SI #0#4 = "S";
               lin_1  = lin_1  + #1vari_r;
               lin_11 = lin_11 + #1vari_r1;
               lin_12 = lin_12 + #1vari_r2;
           |FINSI;

           |SI #0#5 = "S"; lin_2 = lin_2 + #1vari_d; |FINSI;
           |SI #0#6 = "S"; lin_3 = lin_3 + #1vari_b; |FINSI;

           vari_i  = vari_i  + 1;
           vari_i1 = vari_i1 + 1;
           vari_i2 = vari_i2 + 1;
           vari_r  = vari_r  + 1;
           vari_r1 = vari_r1 + 1;
           vari_r2 = vari_r2 + 1;
           vari_d  = vari_d  + 1;
           vari_b  = vari_b  + 1;
     |SIGUE;
|FPRC;

|PROCESO totempre;
     Itotal = total1 <-;
     Itd    = td1    <-;
     Itt    = tt1    <-;
     Itc    = tc1    <-;

     vari_i  = 23;
     vari_r  = 36;
     vari_d  = 114;
     vari_b  = 101;
     vari_i1 = 49;
     vari_i2 = 75;
     vari_r1 = 62;
     vari_r2 = 88;

     |PARA y = 1;|SI y [ 12; |HACIENDO y = y + 1;
           total = total + #1vari_i + #1vari_i1 + #1vari_i2;
           |SI #0#4 = "S";
               td = td + #1vari_r + #1vari_r1 + #1vari_r2;
           |FINSI;
           |SI #0#5 = "S";
               tt = tt + #1vari_d;
           |FINSI;
           |SI #0#6 = "S";
               tc = tc + #1vari_b;
           |FINSI;

           vari_i  = vari_i  + 1;
           vari_i1 = vari_i1 + 1;
           vari_i2 = vari_i2 + 1;
           vari_r  = vari_r  + 1;
           vari_r1 = vari_r1 + 1;
           vari_r2 = vari_r2 + 1;
           vari_d  = vari_d  + 1;
           vari_b  = vari_b  + 1;

           Itotal  = Itotal  + 1;
           Itd     = Itd     + 1;
           Itt     = Itt     + 1;
           Itc     = Itc     + 1;
     |SIGUE;
|FPRC;

|PROCESO tottotal;
     total  = total + lin_0 + lin_01 + lin_02;
     lin_0  = 0;
     lin_01 = 0;
     lin_02 = 0;

     td     = td + lin_1 + lin_11 + lin_12;
     lin_1  = 0;
     lin_11 = 0;
     lin_12 = 0;

     tt     = tt + lin_2;
     lin_2  = 0;

     tc     = tc + lin_3;
     lin_3  = 0;
|FPRC;

|PROCESO limptotal;
     Itotal = total1<-;
     Itd = td1<-;
     Itt = tt1<-;
     Itc = tc1<-;
     |PARA y = 1;|SI y [ 13; |HACIENDO y = y + 1;
           total = 0;     Itotal = Itotal + 1;
           td    = 0;     Itd    = Itd + 1;
           tt    = 0;     Itt    = Itt + 1;
           tc    = 0;     Itc    = Itc + 1;
     |SIGUE;
|FPRC;

|PROCESO imprimir;
     |SI sw = 0;
         empresa  = #1#0;
         sw       = 1;
         seleccio = 1;
     |FINSI;

     |HAZ seleccion;
     |HAZ acumula;

     |SI lin_0!0; |O lin_1!0; |O lin_2!0; |O lin_3!0;  || no imprime si es cero
      |O lin_01 ! 0;|O lin_02 ! 0;
      |O lin_11 ! 0;|O lin_12 ! 0;
         |SI empresa ! #1#0;
             FSalida = "PAGINA";      || Salta de pagina imprime los totales
             lintc1 = 1;
             |PRINT;
             |HAZ limptotal;
             empresa = #1#0;
         |SINO;
             lintc1 = 0;
             |PRINT;
         |FINSI;
     |FINSI;

     |HAZ totempre;
     |HAZ tottotal;
|FPRC;

|DEFBUCLE eosirpf1;
 #1#1;
 135;
 #0#0, #0#2, #0#11, #0#10;
 #0#1, #0#3, #0#11, #0#10;
 ;
 NULL, imprimir;
|FIN;

|PROCESO Tipo3;|TIPO 3;
     |IMPRE 0;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |INFOR "eosyyirp";
     |SI FSalida ! 0;  |FINIMP;  |ACABA;  |FINSI;

     seleccio = 0;
     |BUCLE eosirpf1;
     |SI seleccio = 1;
         |PIEINF;
     |FINSI;
     |FININF;
     |FINIMP;
|FPRC;
