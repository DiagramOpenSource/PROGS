|FICHEROS;
  clapz004 #0;
  clapm003 #3,MANTE;

  &canempr@ #330;
  &cacuent@ #310;
  &caclipr@ #311;
  &camanba@ #312;
|FIN;

|VARIABLES;
 aAlfa1     = "";
 aAlfa2     = "";
 nNume1     = 0;
 nNume2     = 0;
 nInkey     = 0;
 aCif       = "";
 aCaja      = "";
 aContra    = "";
 nModo      = 0;
|FIN;

|INCLUYE dsclap_i;

|| ////////////////////////////////////////////////////////////////
|| ////////////////////////////////////////////////////////////////
|PROCESO LeeCliPro;
 aCif    = "";
 aContra = "";
 enBanco = 0;
 |ABRE #311;
 |DDEFECTO #311;
 #311#23 = "C";
 #311#10 = #310#0;
 #311#11 = #310#1;
 |LEE 040#311=;
 |SI FSalida = 0;
     aCif    = #311#9;
     aContra = #311#21;
     enBanco = #311#28;
 |SINO;
     #311#23 = "P";
     |LEE 040#311=;
     |SI FSalida = 0;
         aCif    = #311#9;
         aContra = #311#21;
         enBanco = #311#28;
     |FINSI;
 |FINSI;
 |CIERRA #311;
 #3#4 = aCif;    |PINTA #3#4;
 #3#5 = aContra; |PINTA #3#5; |QBF aContra;
 |SI aContra ! "";
     eaCuenta = #3#5; |HAZ SacaNivel; #3#13 = enNivel;
     |ABRE #310;
     #310#0 = #3#5;
     #310#1 = #3#13;
     |LEE 041#310=;
     |SI FSalida = 0; #3#6 = #310#2; |PINTA #3#6; |FINSI;
     |CIERRA #310;
 |FINSI;

 |SI enBanco ! 999;
     |HAZ eQueBanco;
     #3#7 = eaCtaBanco; |PINTA #3#7;
     #3#8 = eaNomBanco; |PINTA #3#8;
     eaCuenta = #3#7; |HAZ SacaNivel; #3#14 = enNivel;
 |FINSI;
|FPRC;

|CALCULO PrLeeCuenta; |TIPO 6;
     nInkey = FSalida;

     eaCuenta = #3Campo;
     salidas  = FSalida;
     |HAZ FiltraPuntos;
     #3Campo = eaCuenta;
     |PINTA #3Campo;
|FCAL;

|RUTINA inf2;
   #310#0 = "            ";
   #310#1 = 0;
   #310#3 = "S";
|FRUT;

|RUTINA sup2;
   #310#0 = "zzzzzzzzzzzz";
   #310#1 = 9;
   #310#3 = "S";
|FRUT;

|CALCULO LeeCuenta; |TIPO 0;
   |SI Campo = 2; nNume1 = 3; nNume2 = 12; |FINSI;
   |SI Campo = 5; nNume1 = 6; nNume2 = 13; |FINSI;
   |SI Campo = 7; nNume1 = 8; nNume2 = 14; |FINSI;

   |SI nInkey = 10;
      |ABRE #310;
      |CONSULTA_F_CLAVE #1#310,inf2,sup2;
      #3Campo  = #310#0; |PINTA #3Campo;
      #3nNume1 = #310#2; |PINTA #3nNume1;
      |ERROR;
      |CIERRA #310;
   |FINSI;

   eaCuenta = #3Campo; |HAZ SacaNivel; #3nNume2 = enNivel;

   |ABRE #310;
   #310#0 = eaCuenta;
   #310#1 = enNivel;
   |LEE 040#310=;
   |SI FSalida ! 0;
       |MENAV "    Error. No existe Cuenta Contable";
       |ERROR;
   |SINO;
       #3nNume1 = #310#2; |PINTA #3nNume1;
   |FINSI;
   |CIERRA #310;

   nModo = (FEntrada / 100) ! 0;
   |SI Campo = 2; |Y nModo = 1;
       |HAZ LeeCliPro;
   |FINSI;
|FCAL;

|CALCULO Tipo11m003; |TIPO 11;
   nInkey = FSalida;

   |SI nInkey = 20;
      eaCuenta = #3Campo;
      salidas  = FSalida;
      |HAZ FiltraPuntos;
   |FINSI;
   |SI nInkey = 10;
       |HAZ LeeCuenta;

   |FINSI;
|FCAL;

|CALCULO Tipo3m003; |TIPO 3;
  #3#0  = enEmpresa;
  #3#1  = enPeriodo;
  #3#10 = eaNombreEmp;
  #3#11 = enEjer;
|FCAL;
