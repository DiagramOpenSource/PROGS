|FICHEROS
    eosclipr #0;
    agim0016 #1;         ||Paises
|FIN;

|VARIABLES;
     aNifQbf1   = "";
     aNifQbf2   = "";

     &eaVarDni  = "";
     &enCalcCif = 0;
|FIN;

|PROCESO LetrasDni;
     |SI FSalida = 9;
         eaVarDni   = #0Campo;
         enCalcCif  = 1;
         |HAZ CalculoDNI;
         #0Campo = eaVarDni;
         |PINTA #0Campo;
         |ERROR;
         |ACABA;
     |FINSI;

     eaVarDni  = #0Campo;
     enCalcCif = 0;
     |HAZ CalculoDNI;

     aNifQbf1 = #0Campo;   |QBF aNifQbf1;
     aNifQbf2 = eaVarDni;  |QBF aNifQbf2;

     |SI aNifQbf1 ! aNifQbf2; |Y aNifQbf1 ! "";
         |CONFI "0000SEl Nif puede ser Erroneo. Desea Calcularlo.";
         |SI FSalida = 0;
             #0Campo = eaVarDni;  |PINTA #0Campo;
             |ERROR;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO Filtra;
  |ABRE #1;
  #1#0 = #0#14;
  |LEE 040#1=;
  |SI FSalida ! 0;  |DDEFECTO #1;  |FINSI;
  |CIERRA #1;

  |C_M #0#7,  1, "S";
  |C_M #0#9,  1, "N";
  |C_M #0#10, 1, "N";
  |SI #1#5 = "S";
      #0#7 = 99;    |PINTA #0#7;
      #0#8 = #1#4;  |PINTA #0#8;
      |C_M #0#7,  1, "N";
      |C_M #0#9,  1, "S";
      |C_M #0#10, 1, "S";
  |FINSI;
|FPRC;
