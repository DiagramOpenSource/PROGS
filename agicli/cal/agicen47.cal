|FICHEROS;
     agicen47 #47;
     agicen48 #480,MANTE;
     agiw0056 #956,MANTE;
|FIN;

|VARIABLES;
     nCampoD     = 0;
     nCampoH     = 0;
     nForma      = 0;
     nModo       = 0;

     &enEmpresa  = 0;
     &enRegistro = 0;
     &eaTipo     = "";
     &enOpcion   = 0;
|FIN;

|RUTINA ClaveBaja47;
     #47#0 = enEmpresa;
     #47#1 = enRegistro;
     #47#2 = 1;
|FRUT;

|RUTINA ClaveAlta47;
     #47#0 = enEmpresa;
     #47#1 = enRegistro;
     #47#2 = 99;
|FRUT;

|RUTINA ClaveBaja480;
     #480#0 = #47#0;
     #480#1 = #47#1;
     #480#2 = #47#2;
     #480#3 = 1;
|FRUT;

|RUTINA ClaveAlta480;
     #480#0 = #47#0;
     #480#1 = #47#1;
     #480#2 = #47#2;
     #480#3 = 99;
|FRUT;

|PROCESO CargaPantalla;
     |PUSHV 0501 2380;
     |DDEFECTO #956;

     |PARA nCampoD = 0;  |SI nCampoD [ 14;  |HACIENDO nCampoD = nCampoD + 1;
           nCampoH = nCampoD + 3;
           #956nCampoD = #47nCampoH;
           #956#12 = #47#15;
           #956#14 = #47#17;
           #956#15 = #47#19;
           #956#16 = #47#20;
     |SIGUE;

     |PINPA #0#956;
     |PINDA #0#956;
     |ENDATOS #1#956;
     |SI FSalida = 0;
          |PARA nCampoD = 0;  |SI nCampoD [ 14;  |HACIENDO nCampoD = nCampoD + 1;
               nCampoH = nCampoD + 3;
               #47nCampoH = #956nCampoD;
          |SIGUE;
          #47#18 = #956#0 + #956#2;
          #47#15 = #956#12;
          #47#17 = #956#14;
          #47#19 = #956#15;
          #47#20 = #956#16;
     |FINSI;

     |ENTLINEAL #1#480, -4, 2, 22, 1, ClaveBaja480, ClaveAlta480;

     |POPV;
|FPRC;

|PROCESO agicen480B;
     |BORRA 020#480a;
     |LIBERA #480;
|FPRC;

|DEFBUCLE agicen480B;
     #480#1;
     ;
     #47#0, #47#1, #47#2, 01;
     #47#0, #47#1, #47#2, 99;
     be;
     NULL, agicen480B;
|FIN;

|PROCESO Tipo2Cen47;  |TIPO 2;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3;
         |BUCLE agicen480B;
         |ACABA;
     |FINSI;

     nForma = 0 +. 1;
     |SI nForma ! 1;  |ACABA;  |FINSI;

     |HAZ CargaPantalla;
|FPRC;

|PROGRAMA;
     |ENTLINEAL #1#47, -3, 2, 22, 1, ClaveBaja47, ClaveAlta47;
|FPRO;
