|FICHEROS;
     agiy0023 #0;   || Este
     agifigen #1;   || Clientes
     agim0002 #2;   || Rendimientos
     agim0015 #95;  || Salario Minimo
     agiw0021 #96;
|FIN;

|VARIABLES;
     i    = 0;
     SwPrint = 0;
|FIN;

|INCLUYE i_consul;

|PROCESO selec; |TIPO 0;
     #0Campo = #0Campo > #0Campo;
     |PINTA #0Campo;
     |SI #0Campo = "S";
          |PARA i = 3; |SI i [ 22; |HACIENDO i = i + 1;
               |CAMPO_MODIFICA #0i,1,"N";
          |SIGUE;
          |PARA i = 1; |SI i [ 2; |HACIENDO i = i + 1;
               |CAMPO_MODIFICA #0i,1,"S";
          |SIGUE;
     |SINO;
          |PARA i = 1; |SI i [ 2; |HACIENDO i = i + 1;
               |CAMPO_MODIFICA #0i,1,"N";
          |SIGUE;
          |PARA i = 3; |SI i [ 22; |HACIENDO i = i + 1;
               |CAMPO_MODIFICA #0i,1,"S";
          |SIGUE;
     |FINSI;
|FPRC;
-----------------------------------------------------------
|PROCESO Rendimiento;
     |ABRE #95;
     #95#0 = #2#2;
     |LEE 040#95=;
     |SI FSalida ! 0; |DDEFECTO #95; |FINSI;
     |CIERRA #95;

     #96#8  = #2#14;
     #96#9  = #2#12;
     |SI #96#9 = 0; #96#9 = 1; |FINSI;
     #96#10 = #96#8 / #96#9;
     #96#11 = #2#25;
     #96#12 = #96#10 / #96#11;
     #96#13 = #95#1;
     #96#14 = #96#12 - #96#13;

     SwPrint = 1;
     |PRINT;
|FPRC;

|DEFBUCLE BRendimiento;
     #2#1;
     ;
     #1#0, 01, 1900;
     #1#0, 99, 2999;
     ;
     NULL, Rendimiento;
|FIN;

|PROCESO Cliente;
     SwPrint = 0;
     |BUCLE  BRendimiento;
     |SI SwPrint = 1; |PIEINF; |FINSI;
|FPRC;

|DEFBUCLE BCliente;
     #1#1;
     ;
     #0#1;
     #0#2;
     ;
     NULL, Cliente;
|FIN;

|PROCESO imprime; |TIPO 3;
     |ABRE #95;
     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "agiy0023";
          |SI FSalida = 0;
               |SI #0#0 = "S";
                    |BUCLE BCliente;
               |SINO;
                    |PARA i = 3; |SI i [ 22; |HACIENDO i = i + 1;
                         |SI #0i > 0;
                              #0#1 = #0i;
                              #0#2 =  #0i;
                              |BUCLE BCliente;
                         |FINSI;
                    |SIGUE;
               |FINSI;
               |FININF;
           |FINSI;
           |FINIMP;
     |FINSI;
     |CIERRA #95;
|FPRC;
