|FICHEROS;
    agipaeos #0;
    agifigen #1;
    eosclien #2;
    agicontr #99;
|FIN;


|VARIABLES;
 contador = 0;
 sw = 0;
  informe = "paserror"
  aviso1 = "     NO EXISTE INFORME";
  aviso2 = "     NO EXISTE IMPRESORA";
  ficha = "";
  nada = "";
  nada1 = "";
  &aplica = "";
  &codigo = 0;
  &nombre1 = "";
  &nombre2 = "";
  &cif1 = "";
  &cif2 = "";
|FIN;

|CALCULO pasafich;
|DDEFECTO #1;
#1#0 = #2#0;
|LEE 101#1=;
|SI FSalida = 0;
    |SI #0#2 = "S";
         |BORRA 020#1a;
         |HAZ noexiste;
    |SINO;
         |HAZ existe;
    |FINSI;
|SINO;
    |HAZ noexiste;
|FINSI;
|LIBERA #1;
|FCAL;


|DEFBUCLE agipaeos0;
#2#1;
;
#0#0;
#0#1;
be;
NULL,pasafich;
|FIN;

|CALCULO pase;|TIPO 3;
contador = 0;
sw = 0;
|ABRE #1;
|IMPRE 0;
|SI FSalida = 0;
    |INFOR informe;
    |SI FSalida = 0;
       |BUCLE agipaeos0;
       |SI sw = 1; |PIEINF; |FINSI;
       |FININF;
    |SINO;
       |MENAV aviso2;
    |FINSI;
    |FINIMP;
|SINO;
  |MENAV aviso1;
|FINSI;
|CIERRA #1;
|FCAL;

|CALCULO noexiste;
contador = contador + 1;
#1#0  = #2#0;
#1#1  = #2#3;
#1#2  = #2#2;
#1#3  = #2#4;
#1#4  = #2#5;
#1#5  = #2#6;
#1#6  = #2#7;
#1#7  = #2#8;
#1#8  = #2#9;
#1#9  = #2#10;
#1#10 = #2#11;
#1#11 = #2#13;
#1#12 = #2#12;
#1#13 = #2#1;
#1#14 = #2#14;
#1#15 = #2#15;
#1#16 = #2#21;
#1#19 = "S";
|HAZ pon_demas;
|GRABA 121#1n;
|SI FSalida = 0; |PINTA 1344,contador; |FINSI;
|FCAL;

|CALCULO existe;
cif1 = #1#13; |QBF cif1;
cif2 = #2#1;  |QBF cif2;
|SI cif1 ! cif2;
    sw = 1;
    nombre1 = #1#1;
    nombre2 = #2#3;
    codigo = #1#0;
    aplica = "agieos";
    |PRINT;
|SINO;
    #1#19 = "S";
    |GRABA 121#1a;
|FINSI;
|FCAL;

|PROCESO pon_demas;
#1#41 = #1#3;
#1#42 = #1#4;
#1#43 = #1#5;
#1#44 = #1#6;
#1#45 = #1#7;
#1#46 = #1#8;
#1#47 = #1#9;
#1#48 = #1#10;
#1#49 = #1#11;
#1#50 = #1#12;

#1#51 = #1#3;
#1#52 = #1#4;
#1#53 = #1#5;
#1#54 = #1#6;
#1#55 = #1#7;
#1#56 = #1#8;
#1#57 = #1#9;
#1#58 = #1#10;
#1#59 = #1#11;
#1#60 = #1#12;
|FPRC;

|PROCESO tipo_8; |TIPO 8;
|DBASS ficha;
|PATH_DAT #99 ficha;
|ABRE #99;
|LEE 140#99p;
|SI FSalida ! 0; |DDEFECTO #99; |FINSI;
|CIERRA #99;

ficha = #99#3; |QBF ficha;
|PATH_DAT #2 ficha;
|FPRC;
