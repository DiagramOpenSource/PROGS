|FICHEROS;
     siim0001;
     siim0050;

     siiw0009,MANTE;
|FIN;

|VARIABLES;
     aEMail  = "";

     &enModo = 0;
|FIN;

|PROCESO Tipo12Fw5;  |TIPO 12;
|FPRC;

|PROCESO Tipo0C0Fw5;  |TIPO 0;
     aEMail = #siiw0009#0;  |QBF aEMail;
     |SI aEMail = "";
         |MENAV "0000Email incorrecto.";
         |ERROR;
         |ACABA;
     |FINSI;

     aEMail = #siiw0009#0 - "@";
     |SI FSalida = 0;
         |MENAV "0000Email incorrecto.";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI enModo ! 1;  |ACABA;  |FINSI;


     |SELECT #2#siim0050;
     |LEE 000#siim0050.=;
     #siim0050#0 = #siim0001#0;
     #siim0050#2 = #siiw0009#0;
     |LEE 000#siim0050.=;
     |SI FSalida = 0;
         |MENAV "0000El acceso ya existe.";
         |ERROR;
     |FINSI;

     |SELECT #1#siim0050;
|FPRC;
