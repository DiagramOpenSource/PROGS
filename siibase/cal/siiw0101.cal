|FICHEROS;
     siiw0101,MANTE;
|FIN;

|VARIABLES;
     nOk                 = 0;
     nID                 = 0;
     nCmp1               = 0;
     nCmp2               = 0;

     aAlfa               = "";
     aID                 = "";

 {40}aPopup              = "";
|FIN;

|PROCESO T12w101;   |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     |SI FSalida ! 1;
         |POSICIONATE #siiw0101#0;
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO T0Referw101;   |TIPO 0;
     aAlfa = #siiw0101#Campo#;  |QBF aAlfa;
     |SI aAlfa = "";  |ACABA;  |FINSI;

     aAlfa = aAlfa % 0;
     |SI aAlfa ! "20";
         |MENAV "0000 La longitud de la Referencia Catastral deber¡a ser de 20 Caracteres.";
     |FINSI;
|FPRC;

|PROCESO T0Clavew101;   |TIPO 0;
     nCmp1 = Campo;
     nCmp2 = Campo + 1;

     nOk = 0;
     |SI #siiw0101#nCmp1# = " ";  nOk = 1;  |FINSI;
     |SI #siiw0101#nCmp1# = "1";  nOk = 1;  |FINSI;
     |SI #siiw0101#nCmp1# = "2";  nOk = 1;  |FINSI;
     |SI #siiw0101#nCmp1# = "3";  nOk = 1;  |FINSI;
     |SI #siiw0101#nCmp1# = "4";  nOk = 1;  |FINSI;

     |SI nOk = 0;
         |MENAV "0000Contenido incorrecto. Pulse F11 para ver tabla de contenido";
         |ERROR;
         |ACABA;
     |FINSI;

     |C_M #siiw0101#nCmp2#, 1, "S";
     |SI #siiw0101#nCmp1# = " ";  |O #siiw0101#nCmp1# = "3";
         |C_M #siiw0101#nCmp2#, 1, "N";  #siiw0101#nCmp2# = "";
     |FINSI;

     |PINTA  #siiw0101#nCmp2#;
|FPRC;

|PROCESO T66Clavew101;   |TIPO 66;
     aAlfa = "|C" + (("000" + Campo) % -103) + "WID";
     aID   = #siiw0101#aAlfa#;
     nID   = aID;

     aPopup1  = nID;
     aPopup2  = 5;
     aPopup3  = "   No procede clave";
     aPopup4  = "1. Territorio espa¤ol";
     aPopup5  = "2. Pais Vasco";
     aPopup6  = "3. Sin referencia catastral";
     aPopup7  = "4. Extranjero";

     IaPopup  = aPopup1  <-;
     |ESPECIFICA "TRACKPOPUP", aPopup;
     |SI FSalida ! 0;
         IaPopup  = aPopup3  <-;
         IaPopup  = IaPopup + (FSalida - 1);

         aAlfa = aPopup % 101;  #siiw0101#Campo# = aAlfa;
     |FINSI;

     |PINTA #siiw0101#Campo#;
|FPRC;
