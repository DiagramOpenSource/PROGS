|FICHEROS;
     siiw0105,MANTE;

     siiw0106;
     siiw0107;
|FIN;

|VARIABLES;
     n2Vent              = 0;
     nGrid106            = 0;
     nGrid107            = 0;
     nRango              = 0;

     aAlfa               = "";
     aAlfa1              = "";
     aEsc1               = "";
     aEsc2               = "";
     aRetu               = "";
     aTecla              = "";

     {-1}aVent           = "";
         aVent1          = 0;
         aVent2          = 0;
         aVent3          = 0;
         aVent4          = 0;
         aVent5          = "";
|FIN;

|PROCESO T12w105;   |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     |SI FSalida ! 1;
         |POSICIONATE #siiw0105#0;
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO T0C3w105;  |TIPO 0;
     aAlfa = #siiw0105#3;  |QBF aAlfa;
     |SI aAlfa = "";
         #siiw0105#4 = "";
         |PINTA #siiw0105#4;

         |ACABA;
     |FINSI;


     #siiw0107#0 = #siiw0105#3 % 208;
     #siiw0107#1 = #siiw0105#3 % 1103;
     |LEE 000#siiw0107.=;
     |SI FSalida ! 0;
         |MENAV "0000No existe el campo introducido";
         |ERROR;
     |FINSI;

     #siiw0105#4 = #siiw0107#2;

     |PINTA #siiw0105#4;
|FPRC;

|PROCESO Baja107;
     #siiw0107#0 = #siiw0106#0;
     #siiw0107#1 = "";
|FPRC;

|PROCESO Alta107;
     #siiw0107#0 = #siiw0106#0;
     #siiw0107#1 = "zzz";
|FPRC;

|PROCESO Evnt107;
     |SI FSalida = 1;  |O FSalida = 2;
         |LEE 000#siiw0107.=;
     |FINSI;

     |SI FSalida = 4;
         #siiw0105#3 = "#" + #siiw0107#0 + "#" + #siiw0107#1 + "#";
         #siiw0105#4 = #siiw0107#2;

         |PINTA #siiw0105#3;
         |PINTA #siiw0105#4;

         |PTEC 806;
     |FINSI;
|FPRC;

|PROCESO Evnt106;
     |SI FSalida = 1;  |O FSalida = 2;
         |LEE 000#siiw0106.=;

         #siiw0107#0 = #siiw0106#0;
         #siiw0107#1 = "000";
         |LEE 000#siiw0107.=;

         |REFRESCACONTROL nGrid107;
     |FINSI;
|FPRC;

|PROCESO T66C3w105;  |TIPO 66;
     |VENTANA 0501, 3578, -1, 16, "Selecci¢n de campos";
     n2Vent = FSalida;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = n2Vent;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     nRango = 4 + 8 + 16 + 32 + 128 + 256;

     |LEE 000#siiw0106.p;

     |LINEAL_SIMPLE #1#siiw0106, nRango, 0602, 2035, NULL, NULL, Evnt106;
     nGrid106 = FSalida;

     nRango = 4 + 8 + 16 + 32 + 128;
     |LINEAL_SIMPLE #1#siiw0107, nRango, 0640, 3275, Baja107, Alta107, Evnt107;
     nGrid107 = FSalida;

     aEsc1  = &255 + "806";
     aEsc2  = &255 + "807";
     aRetu  = &255 + "802";
     |PARA; |SI;  |HACIENDO;
         FSalida = "::{{001}}Salir," + nGrid106;
         |LEETECLA aTecla;
         |SI aTecla = aEsc1; |SAL;  |FINSI;
         |SI aTecla = aEsc2; |SAL;  |FINSI;
         |SI aTecla = aRetu; |SAL;  |FINSI;
     |SIGUE;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = n2Vent;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |FINVENTANA n2Vent;
|FPRC;

|PROCESO T0C1w105;  |TIPO 0;
     aAlfa = #siiw0105#1;   |QBF aAlfa;
     |SI aAlfa = "";
         |MENAV "0000Debes introducir el nombre de la etiqueta";
         |ERROR;
         |ACABA;
     |FINSI;

     aAlfa1 = aAlfa % 101;
     |SI aAlfa1 ! "<";
         |MENAV "0000Formato etiqueta err¢neo";
         |ERROR;
         |ACABA;
     |FINSI;

     aAlfa1 = aAlfa % -101;
     |SI aAlfa1 ! ">";
         |MENAV "0000Formato etiqueta err¢neo";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #siiw0105#0 = "1";  |ACABA;  |FINSI;

     #siiw0105#2 = "</" + (aAlfa % 299);

     |PINTA #siiw0105#2;
|FPRC;

|PROCESO T0C0w105;  |TIPO 0;
     |C_M #siiw0105#3, 1, "S";

     |SI #siiw0105#0 = "1";
         |C_M #siiw0105#3, 1, "N";

         #siiw0105#2 = "";
         #siiw0105#3 = "";
         #siiw0105#4 = "";
     |FINSI;

     |PINTA #siiw0105#2;
     |PINTA #siiw0105#3;
     |PINTA #siiw0105#4;
|FPRC;
