|FICHEROS;
    asempcon #0;
    asnompat #1;
    canempre #2;
    asw00001 #99;
|FIN;

|VARIABLES;
    cab = "Empresa Contable";
    path = "";
    emp_ant = 0;
    eje_ant = 0;
    sw_enlace = 0;
    alfa1 = "";
|FIN;

|PROCESO lee_conta1;
    sw_enlace = 1;
|ERROR10;
|FPRC;

|DEFBUCLE lee_conta;
 #99#1;
 3, 4, 14;
 0,      0,   0, emp_ant, eje_ant, " ";
 9, 999999, 999, emp_ant, eje_ant, " ";
 e;
 NULL, lee_conta1;
|FIN;

|PROGRAMA;
|ABRE #1;
|LEE 040#1p;
|SI FSalida ! 0; |DDEFECTO #1; |FINSI;
|CIERRA #1;

path = #1#2; |QBF path;
|PATH_DAT #2 path;
alfa1 = path - "fich/";
alfa1 = alfa1 + "pan/";
|PATH_PAN #2 alfa1;

|CLS;
|PINPA #0#0;
|CABEZA cab;

|ABRE #0;
|DDEFECTO #0;
|LEE 101#0p;
|SI FSalida ! 0;
    |GRABA 020#0b;
        emp_ant = -1;
        eje_ant = -1;
|SINO;
        emp_ant = #0#1;
        eje_ant = #0#2;
|FINSI;
|PINDA #0#0;
|ENDATOS #1#0;
|SI FSalida = 0;
            sw_enlace = 0;
    |SI emp_ant ! #0#1;|O eje_ant ! #0#2;
        |SI emp_ant ! -1;|Y eje_ant ! -1;
                |BUCLE lee_conta;
                |SI sw_enlace = 1;
                    |MENAV "    Existen Asientos Pendientes de Actualizar; MODIFICACION NO VALIDA ...";
                |FINSI;
        |FINSI;
    |FINSI;
    |SI sw_enlace = 0;
        |GRABA 020#0a;
    |FINSI;
|FINSI;
|LIBERA #0;
|CIERRA #0;
|FPRO;

|PROCESO existes; |TIPO 0;
|DDEFECTO #2;
|ABRE #2;
|SELECT #1#2;
#2#2 = #0#1;
#2#3 = #0#2;
|LEE 040#2=;
|SI FSalida ! 0;
    |MENAV "       No existe empresa contable.";
    |ERROR;
|FINSI;
|ATRI I;
|PINTA 1416, #2#1;
|ATRI 0;
|CIERRA #2;
|FPRC;
