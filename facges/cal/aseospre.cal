|FICHEROS;
   aseospre #0;
   eossegui #1;
   asconcep #2;
   asclient #3;
   aseosenl #4;
   asnompat #5;
|FIN;

|VARIABLES;
  sw      = 0;
  empresa = 0;
  path    = "";
  fecha   = @;
  varalf  = "";

  &honorario = 0;
  &suplido   = 0;
  &acuenta   = 0;
  &seccion   = "";
  &concepto  = "";
  &nombre    = "";
  &canti     = 0;
  &import    = 0;
  &tlinea    = 0;
|FIN;

|PROCESO pinta; |TIPO 7;
fecha = ~;
varalf = fecha % 402;
|SI varalf = "01"; |O varalf = "02"; |O varalf = "03"; varalf = "01"; |FINSI;
|SI varalf = "04"; |O varalf = "05"; |O varalf = "06"; varalf = "02"; |FINSI;
|SI varalf = "07"; |O varalf = "08"; |O varalf = "09"; varalf = "03"; |FINSI;
|SI varalf = "10"; |O varalf = "11"; |O varalf = "12"; varalf = "04"; |FINSI;
#0#2 = varalf;

varalf = fecha % 902;
#0#3 = varalf;
|PINTA #0#2;
|PINTA #0#3;
|FPRC;

|PROCESO impresio;
#4#0 = #1#0;
|LEE 040#4=;
|SI FSalida ! 0; |ACABA; |FINSI;

|SI #1#5 [ 0; |ACABA; |FINSI;

#3#0 = #1#0;
|LEE 040#3=;
|SI FSalida ! 0; |DDEFECTO #3; |FINSI;

|SI #1#3 = 300; |O #1#3 = 310; |O #1#3 = 370;
    |SI #4#5 = "N"; |ACABA; |FINSI;
    seccion = #4#6; concepto = #4#7;
|FINSI;

|SI #1#3 = 130; |O #1#3 = 131; |O #1#3 = 132;
    |SI #4#2 = "N"; |ACABA; |FINSI;
    seccion = #4#3; concepto = #4#4;
|FINSI;

|SI sw = 0; empresa = #1#0; sw = 1; |FINSI;
|SI empresa ! #1#0; |PIEINF; empresa = #1#0; |FINSI;

|HAZ leeconc;

canti     = 1;
import    = #1#5;
tlinea    = #1#5;

|SI #2#3  = "H"; honorario = honorario + tlinea; |FINSI;
|SI #2#3  = "S"; suplido   = suplido   + tlinea; |FINSI;
|SI #2#3  = "A"; acuenta   = acuenta   + tlinea; |FINSI;

|PRINT;
|FPRC;

|PROCESO leeconc;
    #2#0 = seccion; #2#1 = concepto;
    |LEE 040#2=;
    |SI FSalida ! 0; |DDEFECTO #2; |FINSI;
    nombre = #2#2;
|FPRC;

|DEFBUCLE eossegui;
#1#1;
7;
#0#0, #0#3, #0#2, 000, 10, " ";
#0#1, #0#3, #0#2, 999, 99, "N";
e;
NULL, impresio;
|FIN;

|PROCESO impre; |TIPO 3;
|ABRE #5;
|LEE 040#5p;
|SI FSalida ! 0;
    |MENAV "    No existe directorio de R.E.O.";
    |ACABA;
|FINSI;
|CIERRA #5;

path = #5#3; |QBF path;
path = path + "fich/";

|PATH_DAT #1 path;

|IMPRE 0;
|SI FSalida ! 0; |ACABA; |FINSI;

|INFOR "asnompre";
|SI FSalida ! 0; |FINIMP; |ACABA; |FINSI;

|ABRE #2;
|ABRE #3;
|ABRE #4;

|BUCLE eossegui;
|SI sw = 1; |PIEINF; |FINSI;

|CIERRA #2;
|CIERRA #3;
|CIERRA #4;

|FININF;
|FINIMP;
|FPRC;
