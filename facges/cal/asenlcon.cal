|FICHEROS;
   asenlcon #0;
   asnompat #4;
   asempcon #2;
   caconcep #3;
   canempre #5;
   asconcep #1;
|FIN;

|VARIABLES;
    path  = "";
    empre = "";
    pant  = "";
    empresa = "";
    anyo = "";
    long = "  ";
    coge = 0;
    modo = 0;

    &eaCta = "";
|FIN;

|PROCESO existes; |TIPO 8;
|ABRE #4;
|LEE 040#4p;
|SI FSalida ! 0; |DDEFECTO #4; |FINSI;
|CIERRA #4;

path = #4#2; |QBF path;
pant = path;
long = pant % 0;
coge = 100 + (long - 6);
pant = pant % coge;
pant = pant + "/pan/";

|ABRE #2;
|LEE 040#2p;
|SI FSalida ! 0; |DDEFECTO #2; |FINSI;
|CIERRA #2;

empresa = #2#1;
empresa = ("00000" + empresa) % -105;

anyo = #2#2;
anyo = "0" + anyo;
anyo = anyo % -101;
empresa = empresa + anyo;

|PATH_DAT #5 path;

|ABRE #5;
#5#2 = #2#1;
#5#3 = #2#2;
|LEE 040#5=;
|SI FSalida ! 0;
   |MENAV "      No existe Empresa Contable";
   |ERROR;
|SINO;
   path = path + empresa +  "/";

   |PATH_DAT #3path;
   |PATH_PAN #3pant;
|FINSI;
|CIERRA #5;
|FPRC;

|PROCESO es_acuenta; |TIPO 0;
    modo = (FEntrada / 100) ! 0;
|SI #1#3 ! "A";|Y modo ! 4;
    |MENAV "      Debe ser A Cuenta.";
    |ERROR;
|FINSI;
|FPRC;
|FPRC;


|PROCESO MCtaCon;
     eaCta = #0Campo;
     |HAZ MFiltraPtos;
     #0Campo = eaCta; |PINTA #0Campo;
|FPRC;
