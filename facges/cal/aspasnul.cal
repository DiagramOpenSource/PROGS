|FICHEROS;
  aspasnul #0;
  ashisrec #1;
  ashismic #90;
  asparcia #100;
|FIN;

|VARIABLES;
    parrilla = "";
    xxx      = 0;
    yyy      = 0;
     fFech = @;
     qFech = "";
     dFech = "";
     hFech = "";
|FIN;

|PROCESO sacaano; |TIPO 7;
     fFech = ~;
     qFech = fFech % -104;
     dFech = "01.01." + qFech;
     hFech = "31.12." + qFech;
     #0#4  = dFech;  |PINTA #0#4;
     #0#5  = hFech;  |PINTA #0#5;
|FPRC;

|PROCESO parrilla; |TIPO 0;
     parrilla = #0Campo;
     |DDEFECTO #0;
     |HAZ sacaano;
     #0Campo = parrilla;

     |SI #0Campo = "S";
         |PARA xxx = 8; |SI xxx [ 37; |HACIENDO xxx = xxx + 1;
               |CAMPO_MODIFICA #0xxx, 1, "S";
         |SIGUE;
         |PARA xxx = 0; |SI xxx [ 7; |HACIENDO xxx = xxx + 1;
               |CAMPO_MODIFICA #0xxx, 1, "N";
         |SIGUE;
     |SINO;
         |PARA xxx = 8; |SI xxx [ 37; |HACIENDO xxx = xxx + 1;
               |CAMPO_MODIFICA #0xxx, 1, "N";
         |SIGUE;
         |PARA xxx = 0; |SI xxx [ 7; |HACIENDO xxx = xxx + 1;
               |CAMPO_MODIFICA #0xxx, 1, "S";
         |SIGUE;
     |FINSI;
     |PINDA #0#0;
|FPRC;

|PROCESO secuencial;
     #100#0 = #1#0;
     #100#1 = #1#1;
     #100#2 = 1;
     |LEE 101#100=;
     |SI FSalida = 0;
         |BORRA 020#100a;
     |FINSI;
     |LIBERA #100;

     #1#10 = "N";
     #1#12 = "N";
     #1#8  = "01.01.1900";
     #1#9  = 0;
     |GRABA 021#1a;
     |LIBERA #1;

     #90#0 = #1#0;
     #90#1 = #1#1;
     |LIBERA #90;
     |LEE 140#90=;
     |SI FSalida = 0;
         #90#32 = #1#10;
         #90#33 = #1#12;
         |GRABA 140#90a;
     |FINSI;
|FPRC;

|DEFBUCLE capasban0;
    #1#1;
    2,7;
    #0#0, #0#2, #0#4, #0#6;
    #0#1, #0#3, #0#5, #0#7;
    be;
    NULL,secuencial;
|FIN;

|PROCESO pase; |TIPO 3;
     |ABRE #100;
     |ABRE #90;
     |SI #0#38 = "N";
         |BUCLE capasban0;
     |SINO;
         |ABRET #1;
         |PARA xxx = 8; |SI xxx [ 22; |HACIENDO xxx = xxx + 1;
               yyy = xxx + 15;
               |SI #0yyy ! 0;
                   #1#0 = #0xxx;
                   #1#1 = #0yyy;
                   |LIBERA #1;
                   |LEE 140#1=;
                   |SI FSalida = 0; |HAZ secuencial; |FINSI;
               |FINSI;
         |SIGUE;
         |CIERRAT #1;
     |FINSI;
     |CIERRA #90;
     |CIERRA #100;
|FPRC;
