|FICHEROS;
     rem00007 #0;
     rem00008 #1;
|FIN;

|VARIABLES;
     nModo   = 0;
     aAlfa   = "";
     aAlfa1  = "";
     aAlfa2  = "";
     aAlfa3  = "";
     nHandle = 0;
|FIN;

|PROCESO NoModi;  | TIPO 7;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 4;
         ||MENAV "       Fichero de CONSULTA no se puede modificar.";
         ||PTEC 807;
     |FINSI;
|FPRC;


|PROCESO Recoge;
     |DBASE aAlfa;   |QBF aAlfa;
     aAlfa = aAlfa + "CogeTxt/";
     aAlfa = aAlfa + "zautonom.txt";
     |XABRE "U", aAlfa, nHandle;
     |DDEFECTO #1;
     |PARA;  |SI  FSalida ] 0;  |HACIENDO;
             |XLEE nHandle, 212, aAlfa1;
             |SI FSalida < 0;  |SAL;  |FINSI;

             |XLEE nHandle, 241, aAlfa2;
             |XLEE nHandle, 205, aAlfa3;

             aAlfa = aAlfa1 % 102;    #1#0  = aAlfa;
             aAlfa = aAlfa1 % 403;    #1#1  = aAlfa;
             aAlfa = aAlfa1 % 860;    #1#2  = aAlfa;
             aAlfa = aAlfa1 % 6960;   #1#3  = aAlfa;
             aAlfa = aAlfa1 % 13060;  #1#4  = aAlfa;
             aAlfa = aAlfa1 % 19101;  #1#5  = aAlfa;
             aAlfa = aAlfa1 % 19306;  #1#6  = aAlfa;
             aAlfa = aAlfa1 % 20011;  #1#7  = aAlfa;
             aAlfa = aAlfa2 % 150;    #1#8  = aAlfa;
             aAlfa = aAlfa2 % 5211;   #1#9  = aAlfa;
             aAlfa = aAlfa2 % 6450;   #1#10 = aAlfa;
             aAlfa = aAlfa2 % 11511;  #1#11 = aAlfa;
             aAlfa = aAlfa2 % 12750;  #1#12 = aAlfa;
             aAlfa = aAlfa2 % 17811;  #1#13 = aAlfa;
             aAlfa = aAlfa2 % 19050;  #1#14 = aAlfa;
             aAlfa = aAlfa3 % 111;    #1#15 = aAlfa;
             aAlfa = aAlfa3 % 1350;   #1#16 = aAlfa;
             aAlfa = aAlfa3 % 6411;   #1#17 = aAlfa;
             aAlfa = aAlfa3 % 7650;   #1#18 = aAlfa;
             aAlfa = aAlfa3 % 12711;  #1#19 = aAlfa;
             aAlfa = aAlfa3 % 13950;  #1#20 = aAlfa;
             aAlfa = aAlfa3 % 19011;  #1#21 = aAlfa;
             aAlfa = aAlfa3 % 20201;  #1#22 = aAlfa;

             |GRABA 020#1n;
             |LIBERA #1;
     |SIGUE;
     |XCIERRA nHandle;
|FPRC;


|PROCESO Tipo8;  |TIPO 8;
     |ABRE #1;
     |LEE 040#1p;
     |SI FSalida ! 0;
         |HAZ Recoge;
     |FINSI;
     |CIERRA #1;
|FPRC;
