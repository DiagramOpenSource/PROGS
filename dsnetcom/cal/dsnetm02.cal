|FICHEROS;
     dsnetm00 #0;
     dsnetm02 #2;
     dsnetm03 #3;
     dsnetm04 #4;
     dsnetm06 #6;
     dsnetm07 #7;

     refer01@ #900;
|FIN;

|VARIABLES;
     nOpcion     = 0;
     nBoton1     = 0;
     nBoton2     = 0;
     nModo       = 0;

     aAlfa       = "";
     aBase       = "";
     aFich       = "";
     aMas        = "";

     &enModo     = 0;
|FIN;

|PROCESO Opcion1;
     |ESTADO_CONTROL nBoton1, "HIDE";
     |ESTADO_CONTROL nBoton2, "HIDE";
     |HAZ Accesos;
     |ESTADO_CONTROL nBoton1, "SHOW";
     |ESTADO_CONTROL nBoton2, "SHOW";
|FPRC;

|PROCESO Opcion2;
     |ESTADO_CONTROL nBoton1, "HIDE";
     |ESTADO_CONTROL nBoton2, "HIDE";
     |HAZ Empresas;
     |ESTADO_CONTROL nBoton1, "SHOW";
     |ESTADO_CONTROL nBoton2, "SHOW";
|FPRC;

|PROCESO PulsoBoton1;
     |PTEC 824;
|FPRC;

|PROCESO PulsoBoton2;
     |PTEC 825;
|FPRC;

|PROCESO Tipo7_0;  |TIPO 7;
     aAlfa = #2#1;  |QBF aAlfa;
     |SI aAlfa = "";
         |ESTADO_CONTROL nBoton1, "DISABLE";
         |ESTADO_CONTROL nBoton2, "DISABLE";
     |SINO;
         |ESTADO_CONTROL nBoton1, "ENABLE";
         |ESTADO_CONTROL nBoton2, "ENABLE";
     |FINSI;
|FPRC;

|PROCESO Tipo7_1;  |TIPO 7;
     |ESTADO_CONTROL nBoton1, "DISABLE";
     |ESTADO_CONTROL nBoton2, "DISABLE";

     |SI #2#5 = 0;
         |ABRE #0;
         |LEE 040#0p;
         |SI FSalida ! 0;  |DDEFECTO #0;  |FINSI;
         |CIERRA #0;

         |DBASS aBase;  |QBF aBase;
         |SI #0#1 = "S";
             aMas = aBase + "basica/def/agifigen.mas";
         |SINO;
             aMas = aBase + "agicli/def/agifigen.mas";
         |FINSI;

         |CARGA_DEF aMas, refer01@;
         |SI FSalida ! 0;
             |MENAV "     No puedo Cargar los Clientes.";
             |PTEC 807;
             |ACABA;
         |FINSI;

         |ABRE #900;
         |LEE 040#900p;
         |SI FSalida ! 0;  |DDEFECTO #900;  |FINSI;

         |CONSULTA_CLAVE #1#900;
         |SI FSalida = 0;
             #2#5 = #900#0;
             aAlfa = #900#1;  |QBF aAlfa;
             |SI aAlfa = "";
                 aAlfa = #900#2;  |QBF aAlfa;
             |FINSI;
                                    |PINTA #2#5;
             #2#1  = aAlfa;         |PINTA #2#1;
             #2#6  = #900#23;       |PINTA #2#6;
             #2#7  = #900#19;       |PINTA #2#7;
             #2#8  = #900#20;       |PINTA #2#8;
             #2#9  = #900#22;       |PINTA #2#9;
             #2#10 = #900#18;       |PINTA #2#10;

             |SI #0#1 = "S";
                 #2#2 = #900#93;    |PINTA #2#2;
                 #2#3 = #900#94;    |PINTA #2#3;
             |FINSI;
          |FINSI;

          |DESCARGA_DEF #refer01@;
     |FINSI;
|FPRC;

|PROCESO Tipo11;  |TIPO 11;
     |SI FSalida < 10;  |O FSalida > 11;
         |ACABA;
     |FINSI;

     |SI FSalida = 10;  |HAZ Opcion1;  |FINSI;
     |SI FSalida = 11;  |HAZ Opcion2;  |FINSI;
|FPRC;

|PROCESO Borra03_m2;
     |BORRA 020#3a;
     |LIBERA #3;
|FPRC;

|DEFBUCLE dsnetm03B_m2;
     #3#1;
     ;
     #2#0, "          ";
     #2#0, "zzzzzzzzzz";
     be;
     NULL, Borra03_m2;
|FIN;

|PROCESO Borra04_m2;
     |BORRA 020#4a;
     |LIBERA #4;
|FPRC;

|DEFBUCLE dsnetm04B_m2;
     #4#1;
     ;
     #2#0, "          ", 000, 000, 000;
     #2#0, "zzzzzzzzzz", 999, 999, 999;
     be;
     NULL, Borra04_m2;
|FIN;

|PROCESO Borra06_m2;
     |BORRA 020#6a;
     |LIBERA #6;
|FPRC;

|DEFBUCLE dsnetm06B_m2;
     #6#1;
     ;
     #2#0, "        ";
     #2#0, "zzzzzzzz";
     be;
     NULL, Borra06_m2;
|FIN;

|PROCESO Borra07_m2;
     |BORRA 020#7a;
     |LIBERA #7;
|FPRC;

|DEFBUCLE dsnetm07B_m2;
     #7#1;
     ;
     #2#0, "        ", 00000;
     #2#0, "zzzzzzzz", 99999;
     be;
     NULL, Borra07_m2;
|FIN;

|PROCESO Tipo2m2;  |TIPO 2;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 3;
         |BUCLE dsnetm03B_m2;
         |BUCLE dsnetm04B_m2;
         |BUCLE dsnetm06B_m2;
         |BUCLE dsnetm07B_m2;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO ClaveBaja2;
     #2#0 = "          ";
|FPRC;

|PROCESO ClaveAlta2;
     #2#0 = "zzzzzzzzzz";
|FPRC;

|PROGRAMA;
     |CLS;
     |CABEZA "Usuarios";

     |CONTROL_SIMPLE 0, "BOTON,F2 Accesos", 1954, 2079, PulsoBoton1;
     nBoton1 = FSalida;

     |CONTROL_SIMPLE 0, "BOTON,F3 Empresas", 2154, 2279, PulsoBoton2;
     nBoton2 = FSalida;

     |ENTLINEAL #1#2, -1, 2, 22, 1, ClaveBaja2, ClaveAlta2;

     |FIN_CONTROL_WINDOWS nBoton1;
     |FIN_CONTROL_WINDOWS nBoton2;

     |PULSATECLA;
|FPRO;
