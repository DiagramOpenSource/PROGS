||---------------------------------------------------------------------------
|| Realizado por : Rafael AgÅera Gonzalez                   11-11-95
|| Funcion : Lee el fichero de control de dibujos y los pinta.
||---------------------------------------------------------------------------

|FICHEROS;
     agide002 #0;        || Este Def.
     agide001 #1;        || Control de Dibujos.
     agide003 #2;        || Camino Imagenes.
|FIN;

|VARIABLES
     posi1   = 0;
     posi2   = 0;
     espera  = 0;
     fichero = "";
     base    = "";
     tecla   = "";
     camino  = "";
     sw      = 0;
|FIN;

||---------------------------------------------------------------------------
|| LEE EL FICHERO DE CONTROL DE DIBUJOS, PINTA EL DIBUJO Y ESPERA.
||---------------------------------------------------------------------------
|PROCESO pinta;
     sw = 1;
     |PULSATECLA;
     tecla = FSalida;
     |SI tecla ! "115"; |Y tecla ! "83";     || Cuando es ! de "S","s";
          posi1 = #1#2;                      || Esq. Sup. Izq.
          posi2 = #1#3;                      || Esq. Inf. Der.
          fichero = camino + #1#1 + ".BMP";  || Monta el nombre.
          |PUSHV 0101 2380;
          |PINVE posi1,posi2,fichero;        || Pinta la ventana.
          espera = #1#4;
          |SI espera ! 0;
               |SLEEP espera;                || Espera un tiempo.
          |FINSI;
          |POPV;
     |FINSI;
|FPRC;

|DEFBUCLE lee_control;
     #1#1;
     ;
     001;
     999;
     ;
     NULL,pinta;
|FIN;

||---------------------------------------------------------------------------
|| RUTINA PRINCIPAL
||---------------------------------------------------------------------------
|PROGRAMA;
     |CLS;
     |CABEZA "AgiDemo";
     |PINPA #0#0;
     |ABRE #2;
     |LEE 000#2p;
     camino = #2#1;
     |QBF camino;
     |CIERRA #2;
     sw = 0;
     |ET bueltas;
          |BUCLE lee_control;
          |SI tecla ! "115"; |Y tecla ! "83";
               |SI sw = 1;
                    |VETE bueltas;
               |FINSI;
          |FINSI;
|FPRO;
