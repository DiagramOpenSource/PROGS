|FICHEROS;
     presu004 #0;
     origen@;
     destin@;
|FIN;

|VARIABLES;
     i = 0;
     aAlfa = "";
     aPathDef = "";
     aPathOrg = "";
     aPathDes = "";
     aPath = "";
     nCampo = 0;
     aFic = "";
|FIN;

|PROCESO Copia;
     aAlfa = aPathDef + aFic; |CARGA_DEF aAlfa, origen@;
     aAlfa = aPathDef + aFic; |CARGA_DEF aAlfa, destin@;
     |PATH_DAT #origen@#aPathOrg#;
     |PATH_DAT #destin@#aPathDes#;
     |ABRE #origen@;
     |ABRE #destin@;

     |LEE 000#origen@.p;
     |PARA; |SI FSalida = 0; |HACIENDO;
          |SALVA_DATOS #origen@;
          |REPON_DATOS #destin@;
          |LEE 000#destin@.=;
          |SI FSalida ! 0;
               |GRABA 020#destin@.n;
          |FINSI;
          |LEE 000#origen@.s;
     |SIGUE;

     |CIERRA #destin@;
     |CIERRA #origen@;

     |DESCARGA_DEF #destin@;
     |DESCARGA_DEF #origen@;
|FPRC;

|PROCESO Tipo3; |TIPO 3;
     aPath = #0#1; |QBF aPath;
     aPathDef = aPath + "def/";
     aPathOrg = aPath + "fich/" + (("00000" + #0#2) % -105) + "/";
     aPathDes = aPath + "fich/" + (("00000" + #0#3) % -105) + "/";

     aAlfa = aPathDef + "gopre001"; |CARGA_DEF aAlfa, origen@;
     |SI FSalida ! 0;
          |MENAV "0000No existe gestion en el directorio indicado";
          |ACABA;
     |FINSI;
     |DESCARGA_DEF #origen@;

     aFic = "gopre001"; |HAZ Copia;
     aFic = "gopre002"; |HAZ Copia;
     aFic = "gopre003"; |HAZ Copia;
     aFic = "gopre004"; |HAZ Copia;
     aFic = "gomedici"; |HAZ Copia;
     aFic = "gopre021"; |HAZ Copia;
     aFic = "gopre022"; |HAZ Copia;
     aFic = "godeprec"; |HAZ Copia;
     aFic = "godeprel"; |HAZ Copia;
|FPRC;

|PROGRAMA;
     |CLS;
     |ABRE #0;
     |LEE 101#0p;
     |SI FSalida ! 0;
          |DBASE aAlfa;
          #0#1 = aAlfa;
          |GRABA 020#0b;
     |FINSI;
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |SI FSalida = 0;
          |GRABA 020#0a;
     |FINSI;
     |CIERRA #0;
|FPRO;
