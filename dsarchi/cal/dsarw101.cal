|FICHEROS;
     dsarm059;
     dsarw101;
     dsarw016;
|FIN;

|VARIABLES;
     nCampo       = 0;
     aAlfa        = "";

     &eaCodVisDef = "";
|FIN;

|PROCESO Tipo12Fw101;  |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     |PARA nCampo = 0;  |SI nCampo [ 11;  |HACIENDO nCampo = nCampo + 1;
           |SI #dsarw101#nCampo# ! #dsarm059#nCampo#;
               eaCodVisDef = #dsarm059#0;
               |SAL;
           |FINSI;
     |SIGUE;
|FPRC;

|PROCESO Tipo66Campos;  |TIPO 66;
     |ABRE #dsarw016;
     |LEE 000#dsarw016.p;
     |CONSULTA_CLAVE #1#dsarw016;
     |SI FSalida = 0;
         nCampo    = Campo + 1;
         #dsarw101#Campo#  = #dsarw016#0;    |PINTA #dsarw101#Campo#;
         #dsarw101#nCampo# = #dsarw016#1;    |PINTA #dsarw101#nCampo#;
     |FINSI;
     |CIERRA #dsarw016;
|FPRC;

|PROCESO Tipo0Campos;  |TIPO 0;
     |C_M #dsarw101#Campo#, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     |ABRE #dsarw016;
     #dsarw016#0 = #dsarw101#Campo#;
     |LEE 000#dsarw016.=;
     |SI FSalida ! 0;
         |MENAV "0000No existe el campo";
         |ERROR;
         |CIERRA #dsarw016;
         |ACABA;
     |FINSI;
     |CIERRA #dsarw016;

     nCampo     = Campo + 1;
     #dsarw101#Campo#  = #dsarw016#0;    |PINTA #dsarw101#Campo#;
     #dsarw101#nCampo# = #dsarw016#1;    |PINTA #dsarw101#nCampo#;
|FPRC;

|PROCESO Tipo0C1Fw101;  |TIPO 0;
     |C_M #dsarw101#2,  1, "S";
     |C_M #dsarw101#4,  1, "S";
     |C_M #dsarw101#6,  1, "S";
     |C_M #dsarw101#8,  1, "S";
     |C_M #dsarw101#10, 1, "S";

     |SI #dsarw101#1 = "1";
         |C_M #dsarw101#4,  1, "N";  #dsarw101#4  = 0;  #dsarw101#5  = "";
         |C_M #dsarw101#6,  1, "N";  #dsarw101#6  = 0;  #dsarw101#7  = "";
         |C_M #dsarw101#8,  1, "N";  #dsarw101#8  = 0;  #dsarw101#9  = "";
         |C_M #dsarw101#10, 1, "N";  #dsarw101#10 = 0;  #dsarw101#11 = "";
     |FINSI;

     |SI #dsarw101#1 = "2";
         |C_M #dsarw101#6,  1, "N";  #dsarw101#6  = 0;  #dsarw101#7  = "";
         |C_M #dsarw101#8,  1, "N";  #dsarw101#8  = 0;  #dsarw101#9  = "";
         |C_M #dsarw101#10, 1, "N";  #dsarw101#10 = 0;  #dsarw101#11 = "";
     |FINSI;

     |SI #dsarw101#1 = "3";
         |C_M #dsarw101#8,  1, "N";  #dsarw101#8  = 0;  #dsarw101#9  = "";
         |C_M #dsarw101#10, 1, "N";  #dsarw101#10 = 0;  #dsarw101#11 = "";
     |FINSI;

     |SI #dsarw101#1 = "4"
         |C_M #dsarw101#10, 1, "N";  #dsarw101#10 = 0;  #dsarw101#11 = "";
     |FINSI;

     |PINTA #dsarw101#2;
     |PINTA #dsarw101#3;
     |PINTA #dsarw101#4;
     |PINTA #dsarw101#5;
     |PINTA #dsarw101#6;
     |PINTA #dsarw101#7;
     |PINTA #dsarw101#8;
     |PINTA #dsarw101#9;
     |PINTA #dsarw101#10;
     |PINTA #dsarw101#11;
|FPRC;

|PROCESO Tipo0C0Fw101;  |TIPO 0;
     |C_M #dsarw101#Campo#, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     aAlfa = #dsarw101#0;  |QBF aAlfa;
     |SI aAlfa = "";  |ERROR;  |ACABA;  |FINSI;

     #dsarm059#0 = #dsarw101#0;
     |LEE 000#dsarm059.=;
     |SI FSalida = 0;
         |MENAV "0000 La vista ya existe.";
         |ERROR;
     |FINSI;
|FPRC;
