|FICHEROS;
     dsarm008 #8;
     dsarw015 #915;
     dsarw016 #916;
|FIN;

|VARIABLES;
     nCampo      = 0;
     aAlfa       = "";

     &eaCodVista = "";
|FIN;

|PROCESO Tipo12Fw15;  |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     |PARA nCampo = 0;  |SI nCampo [ 33;  |HACIENDO nCampo = nCampo + 1;
           |SI #915nCampo ! #8nCampo;
               eaCodVista = #8#0;
               |SAL;
           |FINSI;
     |SIGUE;
|FPRC;

|PROCESO Tipo66Campos;  |TIPO 66;
     |ABRE #916;
     |LEE 000#916p;
     |CONSULTA_CLAVE #1#916;
     |SI FSalida = 0;
         nCampo    = Campo + 1;
         #915Campo  = #916#0;    |PINTA #915Campo;
         #915nCampo = #916#1;    |PINTA #915nCampo;
     |FINSI;
     |CIERRA #916;
|FPRC;

|PROCESO Tipo0Campos;  |TIPO 0;
     |C_M #915Campo, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     |ABRE #916;
     #916#0 = #915Campo;
     |LEE 000#916=;
     |SI FSalida ! 0;
         |MENAV "0000No existe el campo";
         |ERROR;
         |CIERRA #916;
         |ACABA;
     |FINSI;
     |CIERRA #916;

     nCampo     = Campo + 1;
     #915Campo  = #916#0;    |PINTA #915Campo;
     #915nCampo = #916#1;    |PINTA #915nCampo;
|FPRC;

|PROCESO Tipo0C1Fw15;  |TIPO 0;
     |C_M #915#2,  1, "S";  |PINTA #915#2;
     |C_M #915#4,  1, "S";  |PINTA #915#4;
     |C_M #915#6,  1, "S";  |PINTA #915#6;
     |C_M #915#8,  1, "S";  |PINTA #915#8;
     |C_M #915#10, 1, "S";  |PINTA #915#10;

     |SI #915#1 = "1";
         |C_M #915#4,  1, "N";  #915#4  = 0;  #915#5  = "";  |PINTA #915#4;  |PINTA #915#5;
         |C_M #915#6,  1, "N";  #915#6  = 0;  #915#7  = "";  |PINTA #915#6;  |PINTA #915#7;
         |C_M #915#8,  1, "N";  #915#8  = 0;  #915#9  = "";  |PINTA #915#8;  |PINTA #915#9;
         |C_M #915#10, 1, "N";  #915#10 = 0;  #915#11 = "";  |PINTA #915#10; |PINTA #915#11;
     |FINSI;

     |SI #915#1 = "2";
         |C_M #915#6,  1, "N";  #915#6  = 0;  #915#7  = "";  |PINTA #915#6;  |PINTA #915#7;
         |C_M #915#8,  1, "N";  #915#8  = 0;  #915#9  = "";  |PINTA #915#8;  |PINTA #915#9;
         |C_M #915#10, 1, "N";  #915#10 = 0;  #915#11 = "";  |PINTA #915#10; |PINTA #915#11;
     |FINSI;

     |SI #915#1 = "3";
         |C_M #915#8,  1, "N";  #915#8  = 0;  #915#9  = "";  |PINTA #915#8;  |PINTA #915#9;
         |C_M #915#10, 1, "N";  #915#10 = 0;  #915#11 = "";  |PINTA #915#10; |PINTA #915#11;
     |FINSI;

     |SI #915#1 = "4"
         |C_M #915#10, 1, "N";  #915#10 = 0;  #915#11 = "";  |PINTA #915#10; |PINTA #915#11;
     |FINSI;
|FPRC;

|PROCESO Tipo0C12Fw15;  |TIPO 0;
     |C_M #915#13, 1, "S";  |PINTA #915#13;
     |C_M #915#15, 1, "S";  |PINTA #915#15;
     |C_M #915#17, 1, "S";  |PINTA #915#17;
     |C_M #915#19, 1, "S";  |PINTA #915#19;
     |C_M #915#21, 1, "S";  |PINTA #915#21;

     |SI #915#12 = "1";
         |C_M #915#15,  1, "N";  #915#15  = 0;  #915#16  = "";  |PINTA #915#15;  |PINTA #915#16;
         |C_M #915#17,  1, "N";  #915#17  = 0;  #915#18  = "";  |PINTA #915#17;  |PINTA #915#18;
         |C_M #915#19,  1, "N";  #915#19  = 0;  #915#20  = "";  |PINTA #915#19;  |PINTA #915#20;
         |C_M #915#21,  1, "N";  #915#21  = 0;  #915#22  = "";  |PINTA #915#21;  |PINTA #915#22;
     |FINSI;

     |SI #915#12 = "2";
         |C_M #915#17,  1, "N";  #915#17  = 0;  #915#18  = "";  |PINTA #915#17;  |PINTA #915#18;
         |C_M #915#19,  1, "N";  #915#19  = 0;  #915#20  = "";  |PINTA #915#19;  |PINTA #915#20;
         |C_M #915#21,  1, "N";  #915#21  = 0;  #915#22  = "";  |PINTA #915#21;  |PINTA #915#22;
     |FINSI;

     |SI #915#12 = "3";
         |C_M #915#19,  1, "N";  #915#19  = 0;  #915#20  = "";  |PINTA #915#19;  |PINTA #915#20;
         |C_M #915#21,  1, "N";  #915#21  = 0;  #915#22  = "";  |PINTA #915#21;  |PINTA #915#22;
     |FINSI;

     |SI #915#12 = "4"
         |C_M #915#21,  1, "N";  #915#21  = 0;  #915#22  = "";  |PINTA #915#21;  |PINTA #915#22;
     |FINSI;
|FPRC;

|PROCESO Tipo0C0Fw15;  |TIPO 0;
     |C_M #915Campo, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     aAlfa = #915#0;  |QBF aAlfa;
     |SI aAlfa = "";  |ERROR;  |ACABA;  |FINSI;

     #8#0 = #915#0;
     |LEE 000#8=;
     |SI FSalida = 0;
         |MENAV "0000 La vista ya existe.";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo7C0Fw15;  |TIPO 7;
     |HAZ Tipo0C1Fw15;
|FPRC;
