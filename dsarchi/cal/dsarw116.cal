|FICHEROS;
     dsarw116;
     dsarm001;
     dsarm002;
     dsarm003;
     dsarm004;
|FIN;

|VARIABLES;
     nPaso = 0;
|FIN;

|PROCESO Tipo12Fw116;  |TIPO 12;
     nPaso = 0;
|FPRC;

|PROCESO Tipo0C3Fw116;
     |SI #dsarw116#0 = "N";  |ACABA;  |FINSI;
     |SI #dsarm001#8 = "N";  |ACABA;  |FINSI;
     |SI FSalida  = 2;  |ACABA;  |FINSI;

     |ABRE #dsarm004;
     #dsarm004#0 = #dsarw116#1;
     #dsarm004#1 = #dsarw116#2;
     #dsarm004#2 = #dsarw116#3;
     |LEE 000#dsarm004.=;
     |SI FSalida ! 0;
          |MENAV "    Tipo inexistente"; |ERROR;
          #dsarw116#6 = "";
     |SINO;
          #dsarw116#6 = #dsarm004#3;
     |FINSI;
     |CIERRA #dsarm004;

     |PINTA #dsarw116#6;
|FPRC;

|PROCESO Tipo0C2Fw116;
     |SI #dsarw116#0 = "N";  |ACABA;  |FINSI;
     |SI #dsarm001#8   = "N";  |ACABA;  |FINSI;
     |SI FSalida  = 2;  |ACABA;  |FINSI;

     |ABRE #dsarm003;
     #dsarm003#0 = #dsarw116#1;
     #dsarm003#1 = #dsarw116#2;
     |LEE 000#dsarm003.=;
     |SI FSalida ! 0;
          |MENAV "    Subgrupo inexistente"; |ERROR;
          #dsarw116#5 = "";
     |SINO;
          #dsarw116#5 = #dsarm003#2;
     |FINSI;
     |CIERRA #dsarm003;

     |PINTA #dsarw116#5;
|FPRC;

|PROCESO Tipo0C1Fw116;
     |SI #dsarw116#0 = "N";  |ACABA;  |FINSI;
     |SI FSalida  = 2;  |ACABA;  |FINSI;

     |ABRE #dsarm002;
     #dsarm002#0 = #dsarw116#1;
     |LEE 000#dsarm002.=;
     |SI FSalida ! 0;
          |MENAV "    Grupo inexistente"; |ERROR;
          #dsarw116#4 = "";
     |SINO;
          #dsarw116#4 = #dsarm002#1;
     |FINSI;
     |CIERRA #dsarm002;

     |PINTA #dsarw116#4;
|FPRC;

|PROCESO Tipo0C0Fw116;  |TIPO 0;
     |ABRE #dsarm001;
     |LEE 000#dsarm001.p;
     |CIERRA #dsarm001;

     |SI #dsarw116#0 = "S";
         |C_M #dsarw116#1, 1, "S";
         |C_M #dsarw116#2, 1, "S";
         |C_M #dsarw116#3, 1, "S";
         |C_M #dsarw116#7, 1, "S";

         |SI #dsarm001#8 = "N";
             |C_M #dsarw116#2, 1, "N";  #dsarw116#2 = 1;
             |C_M #dsarw116#3, 1, "N";  #dsarw116#3 = 1;
         |FINSI;
     |SINO;
        |C_M #dsarw116#1, 1, "N";  #dsarw116#1 = 0;
        |C_M #dsarw116#2, 1, "N";  #dsarw116#2 = 0;
        |C_M #dsarw116#3, 1, "N";  #dsarw116#3 = 0;
        |C_M #dsarw116#7, 1, "N";  #dsarw116#7 = "N";
     |FINSI;

     |PINTA #dsarw116#1;
     |PINTA #dsarw116#2;
     |PINTA #dsarw116#3;
     |PINTA #dsarw116#7;
|FPRC;

|PROCESO Tipo7C0w116; |TIPO 7;
     |SI nPaso = 1;  |ACABA;  |FINSI;

     |HAZ Tipo0C0Fw116;
     |HAZ Tipo0C1Fw116;
     |HAZ Tipo0C2Fw116;
     |HAZ Tipo0C3Fw116;

     nPaso = 1;
|FPRC;
