        Trunca3, SacaIvaSin

|FICHEROS;
     &masdef@ #1002;
|FIN;

|VARIABLES;
     &enImpo = 0;
     nNume = 0;
     nAbo = 0;

     &enTipoIva = 0; &enIva = 0; enRec = 0;
|FIN;

|PROCESO Trunca3;
     |SI enImpo < 0; nAbo = -1; |SINO nAbo = 1; |FINSI;
     enImpo = enImpo * 1000 * nAbo;
     nNume = enImpo ! 0;
     |SI nNume > enImpo;
          nNume = nNume - 1;
     |FINSI;
     enImpo = (nNume / 1000) ! 3;
     enImpo = enImpo * nAbo;
|FPRC;

|PROCESO SacaIvaSin;
     |ABRE #1002;
     #1002#0 = enTipoIva;
     |LEE 000#1002=;
     |SI FSalida ! 0; |DDEFECTO #1002; |FINSI;
     |CIERRA #1002;

     enIva = #1002#2;
     enRec = #1002#3;
|FPRC;
