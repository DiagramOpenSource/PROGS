|FICHEROS;
     dsarm012 #0;
     dsarm013 #13;

     dsarw027 #527,MANTE;      ||Aux.Varios Esquemas

     referen@ #1000;
|FIN;

|VARIABLES;
     nCampo = 0;
     aMensaje = "";
     nModo = 0;
     aBase = "";
     aAplica = "";
     aNomDef = "";
     aPathApli = "";
     nHandle = 0;
     aDef = "";

     aQueQuiero = "";
     nTotal = 0;
     Cont = 0;
     Comodin = "";
     Comodin1 = "";
     &eaLinea = "";
     &enCampos = 0;
     aBeta = "";
     i = 0;
     aAlfa = "";

     &enSoyDESPANET   = 0;
|FIN;

|PROCESO Tipo0C4; |TIPO 0;
     |HAZ ControlFs;
|FPRC;

|PROCESO Tipo0C5; |TIPO 0;
     |HAZ ControlFs;
|FPRC;

|PROCESO ControlFs;
     |SI FSalida = 13;
          nModo = (FEntrada / 100) ! 0;

          |HAZ ModiConsulta;
     |FINSI;
|FPRC;


|PROCESO ModiConsulta;
     |ABRE #dsarw027;

     |PUSHV 0501 2380;
     |BLANCO 1003 2380;
     |CUADRO 1003 2380;

     |DDEFECTO #dsarw027;
     |PARA nCampo = 0; |SI nCampo [ 27; |HACIENDO nCampo = nCampo + 1;
          #dsarw027#nCampo# = #dsarm013#nCampo#;
     |SIGUE;

     |PINPA #0#dsarw027;

     |PINDA #0#dsarw027;

     |SI nModo = 4;      ||CONSULTA;
          |PAUSA;
     |SINO;              ||MODIFICACION
          |ENDATOS #2#dsarw027;
          |SI FSalida = 0;
               |PARA nCampo = 4; |SI nCampo [ 27; |HACIENDO nCampo = nCampo + 1;
                    #dsarm013#nCampo# = #dsarw027#nCampo#;
                    |GRABA 020#dsarm013.a;
               |SIGUE;
          |FINSI;
     |FINSI;

     |POPV;
     |CIERRA #dsarw027;

     |PINTA #dsarm013#4;
     |PINTA #dsarm013#5;
     |PINTA #dsarm013#6;
|FPRC;


|PROCESO Tipo0C0; |TIPO 0;
     |SI FSalida ! 7;
          nModo = (FEntrada / 100) ! 0;
          |SI nModo = 1; |O nModo = 2;
               |DBASS aBase;
               |QBF aBase;

               aAplica = #dsarm012#0;
               |QBF aAplica;
               aPathApli = aBase + aAplica + "/";
               |XABRE "E", aPathApli, nHandle;
               |SI FSalida ! 0;
                    aMensaje = "0000No existe la Aplicacion: " + aAplica;
                    |MENAV aMensaje;
                    |ERROR;
               |FINSI;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO Tipo0C1; |TIPO 0;
     |SI FSalida ! 7;
          nModo = (FEntrada / 100) ! 0;
          |SI nModo = 1; |O nModo = 2;
               |HAZ MeteLineas;
          |FINSI;
     |FINSI;
|FPRC;


|PROCESO MeteLineas;
     |DBASS aBase;
     |QBF aBase;

     aAplica = #dsarm012#0;
     |QBF aAplica;
     aNomDef = #dsarm012#1;
     |QBF aNomDef;

     aDef = aBase + aAplica + "/def/" + aNomDef;
     |CARGA_DEF aDef, referen@;
     |SI FSalida ! 0;
          aMensaje = "0000No existe el Def " + aNomDef;
          |MENAV aMensaje;
          |ERROR;
          |ACABA;
     |SINO;
          Comodin ="|TITULO";
          aBeta = #referen@#Comodin#;
          |QBF aBeta;
          #dsarm012#3 = aBeta;
          |PINTA #dsarm012#3;

          |ABRE #dsarm013
          aQueQuiero = "|NC";
          enCampos = #referen@#aQueQuiero#;

          nTotal = enCampos - 1;
          |PARA Cont = 0; |SI Cont [ nTotal; |HACIENDO Cont = Cont + 1;
               Comodin = ("000" + Cont) % -103;
               eaLinea = Comodin;
               Comodin = "|C" + Comodin;
               Comodin1 = Comodin + "NOMBRE";
               aBeta = #referen@#Comodin1#;
               |QBF aBeta;

               |DDEFECTO #dsarm013;
               #dsarm013#0 = #dsarm012#0;
               #dsarm013#1 = #dsarm012#1;
               #dsarm013#2 = Cont;
               |LEE 101#dsarm013.=;
               |SI FSalida ! 0;
                    #dsarm013#3 = aBeta;
                    |GRABA 020#dsarm013.n;
               |FINSI;
               |LIBERA #dsarm013;
          |SIGUE;

          |DESCARGA_DEF #referen@;
          |CIERRA #dsarm013
     |FINSI;
|FPRC;

|PROCESO ConsultaClave; |TIPO 0;
     |SI FSalida = 18;             ||F10
          |CONSULTA_CLAVE #1#dsarm013;
     |FINSI;
|FPRC;

|PROCESO T2; |TIPO 2;
     aBeta = "";
     |PARA i = 8; |SI i [ 26; |HACIENDO i = i + 3;
          aAlfa = #13i; |QBF aAlfa;
          |SI aAlfa ! "";
               aBeta = "*";
               |SAL;
          |FINSI;
     |SIGUE;
     #13#28 = aBeta;
|FPRC;

/*

|PROCESO dsarm013;
     aBeta = "";
     |PARA i = 8; |SI i [ 26; |HACIENDO i = i + 3;
          aAlfa = #13i; |QBF aAlfa;
          |SI aAlfa ! "";
               aBeta = "*";
               |SAL;
          |FINSI;
     |SIGUE;
     #13#28 = aBeta;
     |GRABA 020#13a;
|FPRC;

|DEFBUCLE dsarm013;
     #13#1;
     ;
     INICIO;
     FINAL;
     be;
     NULL, dsarm013;
|FIN;

|PROGRAMA;
     |BUCLE dsarm013;
|FPRO;
*/
