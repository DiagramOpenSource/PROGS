|FICHEROS;
     :/integral/def/dsaw0027 #939,MANTE;
     :/integral/def/dsam0116 #116;
|FIN;

|VARIABLES;
     aAlfa       = "";

     &eaEntidad  = "";
     &eaSucursal = "";
     &eaCuenta   = "";
     &eaDC       = "";
|FIN;

|PROCESO ConsultaEntidad;  |TIPO 66;
     |PUSHV 0501 2380;
     |ABRE #116;
     |SELECT #2#116;
     #116#1 = "";
     #116#2 = #939#0;
     |LEE 040#116];
     |SI FSalida ! 0;
         |LEE 040#116p;
     |FINSI;
     |CONSULTA_CLAVE #2#116;
     |CIERRA #116;
     |POPV;

     #939#0 = #116#2;   |PINTA #939#0;
     #939#1 = #116#3;   |PINTA #939#1;
     #939#2 = #116#4;   |PINTA #939#2;
|FPRC;

|PROCESO ConsultaOficina;  |TIPO 66;
     |PUSHV 0501 2380;
     |ABRE #116;
     |SELECT #3#116;
     #116#2 = #939#0;
     #116#3 = #939#1;
     #116#4 = #939#2;
     |LEE 040#116];
     |SI FSalida ! 0;
         |LEE 040#116p;
     |FINSI;
     |CONSULTA_CLAVE #3#116;
     |CIERRA #116;
     |POPV;

     #939#0 = #116#2;   |PINTA #939#0;
     #939#1 = #116#3;   |PINTA #939#1;
     #939#2 = #116#4;   |PINTA #939#2;
|FPRC;

|PROCESO DC;
     eaEntidad  = #939#0; |QBF eaEntidad;
     eaSucursal = #939#1; |QBF eaSucursal;
     eaCuenta   = #939#3; |QBF eaCuenta;
     eaDC       = "";

     |SI eaEntidad = "";  |Y eaSucursal = "";  |Y eaCuenta = "";
         |ACABA;
     |FINSI;

     |HAZ CalculoDC;

     |SI FSalida ! 10;
         |SI #939#2 ! eaDC;
             aAlfa = "     El Digito de Control deberia ser " + eaDC;
             |MENAV aAlfa;
         |FINSI;
         |ACABA;
     |FINSI;

     #939#2 = eaDC;
     |PINTA #939#2;
|FPRC;

|PROCESO Tipo12w0027;  |TIPO 12;
     || Este proceso sirve para que el endatos que se hace en el
     || calculo dsam0000 no pregunte Correcto S/N
     || POR LO TANTO NO LO QUITEIS !!!!!!
|FPRC;
