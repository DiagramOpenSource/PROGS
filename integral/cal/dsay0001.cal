|FICHEROS;
     dsay0001 #100;
     dsam0000 #0;
     dsaw0010 #99;
|FIN;

|VARIABLES;
     enPestanya = 0;
     nBoton     = 0;

     aBarraMenu = "";
     aFichero   =  "";
     aAlfa      = "";
     aOpcion    = "";
|FIN;

|PROCESO HazEstadistica;
     |SI #0#50 = 0;  #100#2 = #100#2 + 1;  |FINSI;
     |SI #0#50 = 1;  #100#1 = #100#1 + 1;  |FINSI;
     |SI #0#50 = 2;  #100#0 = #100#0 + 1;  |FINSI;

     #99#0 = #0#9;
     |LEE 101#99=;
     |SI FSalida ! 0;
         #99#0 = #0#9;
         #99#1 = #0#10;
         #99#2 = 0;
         |GRABA 020#99b;
     |FINSI;
     #99#2 = #99#2 + 1;
     |GRABA 020#99a;
     |LIBERA #99;
|FPRC;

|DEFBUCLE dsam0000;
     #0#1;
     ;
     00000;
     99999;
     ;
     NULL, HazEstadistica;
|FIN;

|RUTINA ClaveBaja99;
     #99#0 = 0;
|FRUT;

|RUTINA ClaveAlta99;
     #99#0 = 99;
|FRUT;

|PROCESO Imprime;
     |PRINT;
|FPRC;

|PROCESO Pieinf;
     |PIEINF;
|FPRC;

|DEFBUCLE abow0010;
     #99#1;
     ;
     00;
     99;
     ;
     NULL, Imprime, NULL, NULL, Pieinf;
|FIN;

|PROCESO Impresion;
     |IMPRE 0;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |INFOR "dsay0001";
     |SI FSalida ! 0;  |FINIMP;  |ACABA;  |FINSI;

     |BUCLE abow0010;

     |FININF;
     |FINIMP;

     |PONCONTROL 23, "SI";
|FPRC;

|PROCESO Tipo12;  |TIPO 12;
     |DDEFECTO #100;

     aFichero = ("10" + Usuario + "zzzzzzzz") % 108;
     |NOME_DAT #99 aFichero;
     |ABRE #99;  |CIERRA #99;  |DELINDEX #99;

     |ABRE #99;
     |BUCLE dsam0000;
     |CIERRA #99;

     #100#3 = #100#0 + #100#1 + #100#2;
     |PINPA #0#100;
     |PINDA #0#100;

     |CONTROL_SIMPLE 0, "BOTON, Impresion ", 2240, 2355, Impresion;
     nBoton = FSalida;

     |ENTLINEAL #1#99, -1, 4, 20, 0, ClaveBaja99, ClaveAlta99;

     |FIN_CONTROL_WINDOWS nBoton;
     |PULSATECLA;

     |DELINDEX #99;
|FPRC;
