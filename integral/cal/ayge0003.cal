|FICHEROS;
     ayge0003 #0;   || Limites del informe.
     ayge0002 #1;   || Partes de trabajo.
     ayge0000 #2;   || Contador, contiene los datos fijos de cabecera.
|FIN;

||---------------------------------------------------------------------------
|| Lee el fichero de control ayge0000, para coger los datos de cabecera.
|| Lee los partes de trabajo y los imprime.
|| Cambia el campo imprimido del fichero de partes a "S".
||---------------------------------------------------------------------------

|PROCESO ayge0002;
     #1#32="S";
     |GRABA 121#1a;
     |LIBERA #1;

     |INFOR "ayge0003";
     |PRINT;
     |PIEINF;
     |FININF;
|FPRC;

|DEFBUCLE ayge0002;
     #1#1;
     1, 32;
     #0#0, #0#2, #0#4;
     #0#1, #0#3, #0#4;
     be;
     NULL, ayge0002;
|FIN;

||---------------------------------------------------------------------------
|| Rutina Principal.
||---------------------------------------------------------------------------

|PROCESO Tipo3;  |TIPO 3;
     |IMPRE 0;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |ABRE #2;
     |LEE 000#2p;
     |SI FSalida ! 0;  |DDEFECTO #2;  |FINSI;
     |CIERRA #2;

     |BUCLE ayge0002;
     |FINIMP;
|FPRC;
