|FICHEROS;
     dsay0018 #0;
     dsam0000 #1;
     dsam0123 #123;
     dsam0124 #124;
|FIN;

|VARIABLES;
     nSwHay        = 0;
     aElDesde      = "";
     aElHasta      = "";
     PrimeraLetra  = "";
     &ComparaLetra = "";
     &nSwMas       = 0;
     &nComparaSN   = 0;
     &eaTit        = "";
     aAlfa         = "";
|FIN;

|| ************************************************************************
|CALCULO Tipo0; |TIPO 0;
   aAlfa = "S";
   |SI #0#0 = 0;
       aAlfa = "N";
       #0#1 = 0;   |PINTA #0#1;
       #0#4 = 2;   |PINTA #0#4;
       #0#5 = "S"; |PINTA #0#5;
   |FINSI;
   |C_M #0#1, 1, aAlfa;
   |C_M #0#4, 1, aAlfa;
   |C_M #0#5, 1, aAlfa;
|FCAL;

|PROCESO LeeTelefonos;
   aAlfa = #124#3; |QBF aAlfa;
   |SI aAlfa ! ""; |O #0#6 = "S";
      |PRINT;
      nSwHay = 1;
      nSwMas = 1;
   |FINSI;
|FPRC;

|DEFBUCLE LeeTelefonos;
   #124#1;
   ;
   #123#0, 01;
   #123#0, 99;
   ;
   NULL, LeeTelefonos;
|FIN;


|PROCESO LeeCorreos;

  PrimeraLetra = #123#0 % 101;
  |SI ComparaLetra ! PrimeraLetra; |Y nSwHay = 1;
      |SI #0#4 = 2;
          |PIEINF;
          nSwHay = 0;
      |FINSI;
  |FINSI;
  ComparaLetra = PrimeraLetra;
  #1#0 = 0;
  #1#1 = #123#0;

  nSwMas = 0;
  |BUCLE LeeTelefonos;
|FPRC;

|DEFBUCLE LeeCorreos;
   #123#1;
   ;
   aElDesde;
   aElHasta;
   ;
   NULL, LeeCorreos;
|FIN;

|PROCESO Imprimelos;

  PrimeraLetra = #1#1 % 101;
  |SI ComparaLetra ! PrimeraLetra; |Y nSwHay = 1;
      |SI #0#4 = 2;
          |PIEINF;
          nSwHay = 0;
      |FINSI;
  |FINSI;
  ComparaLetra = PrimeraLetra;

  nSwMas = 0;
  |SI #0#5 = "S";
      |ABRE #123;
      #123#0 = #1#1;
      |LEE 001#123=;
      |SI FSalida = 0;
          |BUCLE LeeTelefonos;
      |FINSI;
      |CIERRA #123;
  |FINSI;

  |SI nSwMas = 0;
      aAlfa = #1#71; |QBF aAlfa;
      |SI aAlfa ! ""; |O #0#6 = "S";
          nSwMas = 2;
          |PRINT;
          nSwHay = 1;
      |FINSI;
  |FINSI;
|FPRC;

|DEFBUCLE porNombre;
     #1#2;
     0;
     aElDesde, #0#0;
     aElHasta, #0#1;
     ;
     NULL, Imprimelos;
|FIN;

|DEFBUCLE porCodigo;
     #1#1;
     1;
     #0#0, aElDesde;
     #0#1, aElHasta;
     ;
     NULL, Imprimelos;
|FIN;


|PROCESO Tipo3;  |TIPO 3;

     |IMPRE 0;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |SI #0#5 = "S";
         |INFOR "dsay0018";
     |SINO;
         |INFOR "dsay1018";
     |FINSI;
     |SI FSalida ! 0;  |FINIMP;  |ACABA;  |FINSI;

      aElDesde = #0#2 + "                                       ";
      aElHasta = #0#3 + "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz";
      nSwHay = 0;

      |SI #0#0 = 0;
          eaTit = "      ";
          nComparaSN = 1;
          |BUCLE LeeCorreos;
      |SINO;
          eaTit = "CODIGO";
          |SI #0#4 = 1;
              |BUCLE porCodigo;
          |SINO;
              nComparaSN = 1;
             |BUCLE porNombre;
          |FINSI;
      |FINSI;

      |SI  nSwHay = 1;
           |PIEINF;
      |FINSI;

      |FININF;
      |FINIMP;
|FPRC;
