|FICHEROS;
     dsam0000;
|FIN;

|VARIABLES;
     &enDesdeFuera       = 1;
     &enAbogados         = 0;
     &enCodCli           = 0;
|FINSI;

|PROCESO dsam0000;
     |HAZ GrabaOtrasApli;

     |SI enAbogados = 1;
         |GRABA 020#dsam0000.a;
     |FINSI;
     |LIBERA #dsam0000;
|FPRC;

|DEFBUCLE dsam0000;
     #dsam0000#1;
     ;
     00000;
     99999;
     be;
     NULL, dsam0000;
|FIN;

|PROGRAMA;
     |SI PARAMETRO = "SOLOUNCLIENTE";
         |ABRE #dsam0000;
         #dsam0000#0 = enCodCli;
         |LEE 101#dsam0000.=;
         |SI FSalida = 0;
             |HAZ dsam0000;
             |LIBERA #dsam0000;
         |FINSI;
         |CIERRA #dsam0000;
         |ACABA;
     |FINSI;

     enDesdeFuera  = 1;
     enAbogados    = 0;

     |SI PARAMETRO = "ABOGADOS";
         enAbogados = 1;  |BUCLE dsam0000;
         enAbogados = 0;  |BUCLE dsam0000;
         |ACABA;
     |FINSI;

     |BUCLE dsam0000;

     |SI PARAMETRO = "";
         |SUB_EJECUTA_NP "dsaz0007;AUTO";
     |FINSI;
|FPRO;
