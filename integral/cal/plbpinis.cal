|VARIABLES;
     nHandle             = 0;

     aBase               = "";
     aFichero            = "";
     aCR                 = "";
     aLF                 = "";
     aCadena             = "";
     aAlfa               = "";

     &enAprobacion       = 0;
     &eaPrograma         = "";
|FIN;

|PROCESO INTEGRAL_INI;
     enAprobacion = 0;

     |DBASE aBase;  |QBF aBase;
     aFichero = aBase + "/integral.ini";
     |XABRE "AB", aFichero, nHandle;
     |SI FSalida < 0;  |ACABA;  |FINSI;

     aCR        = &10;
     aLF        = &13;
     aCadena    = "";

     |XLEE nHandle, 1, aAlfa;
     |PARA; |SI FSalida > 0; |HACIENDO;
            |SI aAlfa = aCR;
                |SI aCadena = eaPrograma;
                    enAprobacion = 1;
                    |SAL;
                |FINSI;

                aCadena = "";
            |SINO;
                |SI aAlfa ! aLF;
                    aCadena = aCadena + aAlfa;
                |FINSI;
            |FINSI;
            |XLEE nHandle, 1, aAlfa;
     |SIGUE;

     |SI aCadena = eaPrograma;
          enAprobacion = 1;
     |FINSI;

     |XCIERRA nHandle;
|FPRC;
