|FICHEROS;
 vadepinf #0;
 vadeparc #5;
 vadeparl #6;
|FIN;

|VARIABLES;
  informe  = "vadepinf";
  alfa1    = "";
  alfa2    = "";
  alfa3    = "";
  alfa4    = "";
  alfa5    = "";
  nume1    = 0;
  nume2    = 0;
  nume3    = 0;
  nume4    = 0;
  para1    = 0;
  para2    = 0;
  para3    = 0;
  para4    = 0;
  fech1    = @;

  d_dep  = 0;
  h_dep  = 0;
  d_des  = "";
  h_des  = "";

  d_digi = 0;
  h_digi = 0;
  d_cuen = "";
  h_cuen = "";

  sw        = 0;
  &swalgun  = 0;
  &fecha    = "";
  &titulo   = "";
  &swinf    = 0;
  &lt1      = "";
  &lt2      = "";
|FIN;

|| *************************************************************************
||                         CALCULOS DE PANTALLA
|| *************************************************************************
|CALCULO mayor; |TIPO 0;
 alfa1 = #0Campo > " ";
 #0Campo = alfa1;
 |PINTA #0Campo;
|FCAL;

|CALCULO hasdep; |TIPO 0;
 |SI #0#1 < #0#0;
     |MENAV "    Error de Entrada ...";
     |ERROR;
 |FINSI;
|FCAL;

|| **************************************************************************
|| ********* CALCULOS PARA LANZAR LISTADO ***********************************
|PROCESO impr_lin;
 |SI #6#4 = "G"; lt1 = "GASTO  "; |FINSI;
 |SI #6#4 = "I"; lt1 = "INGRESO"; |FINSI;
 |SI #6#5 = "D"; lt2 = "DEBE ";   |FINSI;
 |SI #6#5 = "H"; lt2 = "HABER";   |FINSI;
 swinf = 1;
 |PRINT;
|FPRC;

|DEFBUCLE lineas;
 #6#2;
 ;
 #5#0, " ", d_cuen;
 #5#0, "z", h_cuen;
 e;
 NULL, impr_lin;
|FIN;

|PROCESO imprime;
 sw = 1;
 swinf = 0;
 |PRINT;
 |SI #0#5 = "S"; |BUCLE lineas; |FINSI;
 |SI #0#5 = "N"; |BUCLELIN 2impr_lin#5; |FINSI;
 swinf = 2;
 |PRINT;
|FPRC;

|DEFBUCLE lregistro2;
 #5#2;
 0;
 d_des, d_dep;
 h_des, h_dep;
 e;
 NULL, imprime;
|FIN;

|DEFBUCLE lregistro1;
 #5#1;
 1;
 d_dep, d_des;
 h_dep, h_des;
 e;
 NULL, imprime;
|FIN;

|| **************************************************************************
|| ********* PROCESO PARA CREAR INFORME *************************************
|| **************************************************************************
|PROCESO elproceso; |TIPO 3

  |IMPRE 0;
  |SI FSalida ! 0; |ACABA; |FINSI;

  |INFOR informe;
  |SI FSalida ! 0;
      |FINIMP;
      |ACABA;
  |FINSI;

  titulo = #0#2;
  fecha  = #0#3;
  d_dep  = #0#0;
  h_dep  = #0#1;
  d_des  = #0#6;
  h_des  = #0#7;
  d_cuen = "            ";
  h_cuen = "zzzzzzzzzzzz";

  sw = 0;
  |SI #0#4 = "C"; |BUCLE lregistro1; |FINSI;
  |SI #0#4 = "D"; |BUCLE lregistro2; |FINSI;
  |SI sw = 1;
      |PIEINF;
  |FINSI;

  |FININF;
  |FINIMP;
|FPRC;
