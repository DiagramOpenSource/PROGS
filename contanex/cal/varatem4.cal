|FICHEROS;
   varatem4 #0;
   varatemp #1;
|FIN;

|VARIABLES;
   sw       = 0;
   &empresa = 0;
   &anyo    = 0;
   &codrati = 0;
   &codform = 0;
   &nombre  = "";
   &descrip = "";
   &fec_con = @;
   &fec_pre = @;
   &fec_ant = @;
   &periodo = 0;

   &opcion  = 0;
   &modo    = 0;
   &sw_act  = 0;

   alfa1    = "";
   nume1    = 0;
   para1    = 0;
   para2    = 0;
   {13}mes  = "";

   informe = "";
   inform1 = "varatec4"; || Informe Con Anterior
   inform2 = "varates4"; || Informe SIN Anterior
|FIN;

|| ************************************************************************

|PROCESO mayor;
  alfa1 = #0Campo > " ";
  #0Campo = alfa1;
  |PINTA #0Campo;
|FPRC;

|| ***********************************************************************
|PROGRAMA;
 |ABRE #1;
 #1#0 = empresa;
 #1#1 = anyo;
 #1#2 = codrati;
 |LEE 040#1=;
 |SI FSalida ! 0; |DDEFECTO #1; |FINSI;

 |DDEFECTO #0;
 |HAZ meses;

 |PINPA #0#0;
 |PINDA #0#0;
 |ENDATOS #1#0;
 |SI FSalida ! 0; |ACABA; |FINSI;

 |IMPRE 0;
 |SI FSalida ! 0;
     |MENAV "      Proceso Interrumpido";
     |CIERRA #1;
     |ACABA;
 |FINSI;

 |SI #0#0 = "S"; informe = inform1; |FINSI;
 |SI #0#0 = "N"; informe = inform2; |FINSI;

 |INFOR informe;
 |SI FSalida = 0;
     |PRINT;
     |PIEINF;
     |FININF;
 |SINO;
     |MENAV "      No existe Informe ";
 |FINSI;

 |FINIMP;
 |CIERRA #1;
|FPRO;

|| ***********************************************************************
|PROCESO meses;
 |DDEFECTO #0;
 |SI #1#57 = 1; |ACABA; |FINSI;

 Imes = mes1 <-;
 |PARA para1 = 1; |SI para1 [ 12; |HACIENDO para1 = para1 + 1;
       mes = #0para1;
       Imes = Imes + 1;
 |SIGUE;

 Imes = mes1 <-;
 para2 = 1 + (13 - #1#57);
 |PARA para1 = 1; |SI para1 [ 12; |HACIENDO para1 = para1 + 1;
       |SI para2 = 12; para2 = 1; |FINSI;
       #0para2 = mes;
       Imes = Imes + 1;
       para2 = para2 + 1;
 |SIGUE;
|FPRC;
