|FICHEROS;
     rem00008;
|FIN;

|VARIABLES;
|FIN;

|VARIABLES;
     aCodigo1   = "";
     aCodigo2   = "";
     aCodigo3   = "";
     aCodigo4   = "";
     aContenido = "";
     aCaracter  = "";
     aLineaMenu = "";
     aAlfa      = "";
     aAlfa1     = "";
     aAlfa2     = "";
     aAlfa3     = "";
     aAlfa4     = "";
     aAbre      = "";
     aPrograma  = "";
     aRetu      = "";
     aEsc1      = "";
     aEsc2      = "";
     aTecla     = "";
     aQueQuiero = "";
     aCampoA    = "";
     aCampoB    = "";
     aCampoC    = "";
     aCampoD    = "";
     aCampoE    = "";
     aCampoF    = "";
     aCampoG    = "";
     aCampoH    = "";
     aCampoI    = "";
     aCampoJ    = "";
     aCampoK    = "";
     aCampoL    = "";
     aCampoM    = "";
     aCampoN    = "";
     aCampoO    = "";
     aCampoP    = "";
     aCampoQ    = "";
     aCampoR    = "";
     aCampoS    = "";
     aCampoU    = "";
     aCampoT    = "";
     aCampoV    = "";
     aCampoW    = "";
     aCampoX    = "";
     aCampoY    = "";
     aCampoZ    = "";
     aLong      = "";
     aCadena    = "";
     aTab       = "";
     aCarac1    = "";

     nCampo     = 0;
     nNumCampos = 0;
     nCodigos   = 0;
     nCodigo1   = 0;
     nCodigo2   = 0;
     nCodigo3   = 0;
     nPos       = 0;
     nPosi      = 0;
     nRango     = 0;
     nBoton1    = 0;
     nHandle    = 0;
     nLong      = 0;
     nCaracter  = 0;
     nLLaves    = 0;
     nGrid      = 0;
     nVent      = 0;
     &eaAlfa    = "";
|FIN;

|PROGRAMA;
     |LEE 000#rem00008.p;
     |CONSULTA_CLAVE #1#rem00008;
|FPRO;

|PROCESO GrabaReg;
     |QBF aCampoA;
     |SI aCampoA = "";  |ACABA;  |FINSI;

     eaAlfa = aCampoC;  |HAZ QuitaRarosCSV;  aCampoC  = eaAlfa;
     eaAlfa = aCampoD;  |HAZ QuitaRarosCSV;  aCampoD  = eaAlfa;
     eaAlfa = aCampoE;  |HAZ QuitaRarosCSV;  aCampoE  = eaAlfa;
     eaAlfa = aCampoF;  |HAZ QuitaRarosCSV;  aCampoF  = eaAlfa;
     eaAlfa = aCampoG;  |HAZ QuitaRarosCSV;  aCampoG  = eaAlfa;
     eaAlfa = aCampoH;  |HAZ QuitaRarosCSV;  aCampoH  = eaAlfa;
     eaAlfa = aCampoL;  |HAZ QuitaRarosCSV;  aCampoL  = eaAlfa;
     eaAlfa = aCampoN;  |HAZ QuitaRarosCSV;  aCampoN  = eaAlfa;
     eaAlfa = aCampoP;  |HAZ QuitaRarosCSV;  aCampoP  = eaAlfa;
     eaAlfa = aCampoR;  |HAZ QuitaRarosCSV;  aCampoR  = eaAlfa;
     eaAlfa = aCampoT;  |HAZ QuitaRarosCSV;  aCampoT  = eaAlfa;
     eaAlfa = aCampoV;  |HAZ QuitaRarosCSV;  aCampoV  = eaAlfa;
     eaAlfa = aCampoX;  |HAZ QuitaRarosCSV;  aCampoX  = eaAlfa;

     |DDEFECTO #rem00008;
     #rem00008#0 =  aCampoA;
     #rem00008#1  = aCampoB;
     #rem00008#2  = aCampoC;
     #rem00008#3  = aCampoD;
     #rem00008#4  = aCampoE;
     #rem00008#5  = aCampoF;
     #rem00008#6  = aCampoG;
     #rem00008#7  = aCampoH;
     #rem00008#8  = aCampoI;
     #rem00008#9  = aCampoJ;
     #rem00008#10 = aCampoK;

     #rem00008#11 = aCampoL;
     #rem00008#12 = aCampoM;
     #rem00008#13 = aCampoN;
     #rem00008#14 = aCampoO;
     #rem00008#15 = aCampoP;
     #rem00008#16 = aCampoQ;
     #rem00008#17 = aCampoR;
     #rem00008#18 = aCampoS;
     #rem00008#19 = aCampoT;
     #rem00008#20 = aCampoU;
     #rem00008#21 = aCampoV;
     #rem00008#22 = aCampoW;
     #rem00008#23 = aCampoX;
     #rem00008#24 = aCampoY;
     #rem00008#25 = aCampoZ;

     |GRABA 020#rem00008.n;
     |SI FSalida ! 0;
         |DEBUG;
     |FINSI;
     |LIBERA #rem00008;
|FPRC;

|PROCESO RecogeDatos;
     aAlfa = "/u/dsprofes/ren2019/cogetxt/rem00008.csv";
     |XABRE "", aAlfa, nHandle;
     |PARA;  |SI FSalida ] 0;  |HACIENDO;
          |XLEE nHandle, 250, aAlfa1;  |SI FSalida < 0;  |SAL;  |FINSI;
          |XLEE nHandle, 250, aAlfa2;  |SI FSalida < 0;  |SAL;  |FINSI;
          |XLEE nHandle, 250, aAlfa3;  |SI FSalida < 0;  |SAL;  |FINSI;
          |XLEE nHandle, 250, aAlfa4;  |SI FSalida < 0;  |SAL;  |FINSI;

          aCampoA  = "";
          aCampoB  = "";
          aCampoC  = "";
          aCampoD  = "";
          aCampoE  = "";
          aCampoF  = "";
          aCampoG  = "";
          aCampoH  = "";
          aCampoI  = "";
          aCampoJ  = "";
          aCampoK  = "";
          aCampoL  = "";
          aCampoM  = "";
          aCampoN  = "";
          aCampoO  = "";
          aCampoP  = "";
          aCampoQ  = "";
          aCampoR  = "";
          aCampoS  = "";
          aCampoT  = "";
          aCampoU  = "";
          aCampoV  = "";
          aCampoW  = "";
          aCampoX  = "";
          aCampoY  = "";
          aCampoZ  = "";

          aCadena = aAlfa1;  |QBF aCadena;
          aLong   = aCadena % 0;
          nLong   = aLong;
          nCampo  = 1;
          aTab    = ";";

          |PARA nCaracter = 1;  |SI nCaracter [ nLong;  |HACIENDO nCaracter = nCaracter + 1;
                nPos    = (100 * nCaracter) + 1;
                aCarac1 = aCadena % nPos;
                |SI aCarac1 = aTab;
                    nCampo = nCampo + 1;
                |SINO;
                    |SI nCampo = 1;  aCampoA  = aCampoA  + aCarac1;  |FINSI;
                    |SI nCampo = 2;  aCampoB  = aCampoB  + aCarac1;  |FINSI;
                    |SI nCampo = 3;  aCampoC  = aCampoC  + aCarac1;  |FINSI;
                    |SI nCampo = 4;  aCampoD  = aCampoD  + aCarac1;  |FINSI;
                    |SI nCampo = 5;  aCampoE  = aCampoE  + aCarac1;  |FINSI;
                    |SI nCampo = 6;  aCampoF  = aCampoF  + aCarac1;  |FINSI;
                    |SI nCampo = 7;  aCampoG  = aCampoG  + aCarac1;  |FINSI;
                    |SI nCampo = 8;  aCampoH  = aCampoH  + aCarac1;  |FINSI;
                    |SI nCampo = 9;  aCampoI  = aCampoI  + aCarac1;  |FINSI;
                    |SI nCampo = 10; aCampoJ  = aCampoJ  + aCarac1;  |FINSI;
                    |SI nCampo = 11; aCampoK  = aCampoK  + aCarac1;  |FINSI;
                    |SI nCampo = 12; aCampoL  = aCampoL  + aCarac1;  |FINSI;
                    |SI nCampo = 13; aCampoM  = aCampoM  + aCarac1;  |FINSI;
                    |SI nCampo = 14; aCampoN  = aCampoN  + aCarac1;  |FINSI;
                    |SI nCampo = 15; aCampoO  = aCampoO  + aCarac1;  |FINSI;
                    |SI nCampo = 16; aCampoP  = aCampoP  + aCarac1;  |FINSI;
                    |SI nCampo = 17; aCampoQ  = aCampoQ  + aCarac1;  |FINSI;
                    |SI nCampo = 18; aCampoR  = aCampoR  + aCarac1;  |FINSI;
                    |SI nCampo = 19; aCampoS  = aCampoS  + aCarac1;  |FINSI;
                    |SI nCampo = 20; aCampoT  = aCampoT  + aCarac1;  |FINSI;
                    |SI nCampo = 21; aCampoU  = aCampoU  + aCarac1;  |FINSI;
                    |SI nCampo = 22; aCampoV  = aCampoV  + aCarac1;  |FINSI;
                    |SI nCampo = 23; aCampoW  = aCampoW  + aCarac1;  |FINSI;
                    |SI nCampo = 24; aCampoX  = aCampoX  + aCarac1;  |FINSI;
                    |SI nCampo = 25; aCampoY  = aCampoY  + aCarac1;  |FINSI;
                    |SI nCampo = 26; aCampoZ  = aCampoZ  + aCarac1;  |FINSI;

                    |SI nCampo > 26;  |SAL;  |FINSI;
                |FINSI;
          |SIGUE;

          aCadena = aAlfa2;  |QBF aCadena;
          aLong   = aCadena % 0;
          nLong   = aLong;
          aTab    = ";";

          |PARA nCaracter = 1;  |SI nCaracter [ nLong;  |HACIENDO nCaracter = nCaracter + 1;
                nPos    = (100 * nCaracter) + 1;
                aCarac1 = aCadena % nPos;
                |SI aCarac1 = aTab;
                    nCampo = nCampo + 1;
                |SINO;
                    |SI nCampo = 1;  aCampoA  = aCampoA  + aCarac1;  |FINSI;
                    |SI nCampo = 2;  aCampoB  = aCampoB  + aCarac1;  |FINSI;
                    |SI nCampo = 3;  aCampoC  = aCampoC  + aCarac1;  |FINSI;
                    |SI nCampo = 4;  aCampoD  = aCampoD  + aCarac1;  |FINSI;
                    |SI nCampo = 5;  aCampoE  = aCampoE  + aCarac1;  |FINSI;
                    |SI nCampo = 6;  aCampoF  = aCampoF  + aCarac1;  |FINSI;
                    |SI nCampo = 7;  aCampoG  = aCampoG  + aCarac1;  |FINSI;
                    |SI nCampo = 8;  aCampoH  = aCampoH  + aCarac1;  |FINSI;
                    |SI nCampo = 9;  aCampoI  = aCampoI  + aCarac1;  |FINSI;
                    |SI nCampo = 10; aCampoJ  = aCampoJ  + aCarac1;  |FINSI;
                    |SI nCampo = 11; aCampoK  = aCampoK  + aCarac1;  |FINSI;
                    |SI nCampo = 12; aCampoL  = aCampoL  + aCarac1;  |FINSI;
                    |SI nCampo = 13; aCampoM  = aCampoM  + aCarac1;  |FINSI;
                    |SI nCampo = 14; aCampoN  = aCampoN  + aCarac1;  |FINSI;
                    |SI nCampo = 15; aCampoO  = aCampoO  + aCarac1;  |FINSI;
                    |SI nCampo = 16; aCampoP  = aCampoP  + aCarac1;  |FINSI;
                    |SI nCampo = 17; aCampoQ  = aCampoQ  + aCarac1;  |FINSI;
                    |SI nCampo = 18; aCampoR  = aCampoR  + aCarac1;  |FINSI;
                    |SI nCampo = 19; aCampoS  = aCampoS  + aCarac1;  |FINSI;
                    |SI nCampo = 20; aCampoT  = aCampoT  + aCarac1;  |FINSI;
                    |SI nCampo = 21; aCampoU  = aCampoU  + aCarac1;  |FINSI;
                    |SI nCampo = 22; aCampoV  = aCampoV  + aCarac1;  |FINSI;
                    |SI nCampo = 23; aCampoW  = aCampoW  + aCarac1;  |FINSI;
                    |SI nCampo = 24; aCampoX  = aCampoX  + aCarac1;  |FINSI;
                    |SI nCampo = 25; aCampoY  = aCampoY  + aCarac1;  |FINSI;
                    |SI nCampo = 26; aCampoZ  = aCampoZ  + aCarac1;  |FINSI;

                    |SI nCampo > 26;  |SAL;  |FINSI;
                |FINSI;
          |SIGUE;

          aCadena = aAlfa3;  |QBF aCadena;
          aLong   = aCadena % 0;
          nLong   = aLong;
          aTab    = ";";

          |PARA nCaracter = 1;  |SI nCaracter [ nLong;  |HACIENDO nCaracter = nCaracter + 1;
                nPos    = (100 * nCaracter) + 1;
                aCarac1 = aCadena % nPos;
                |SI aCarac1 = aTab;
                    nCampo = nCampo + 1;
                |SINO;
                    |SI nCampo = 1;  aCampoA  = aCampoA  + aCarac1;  |FINSI;
                    |SI nCampo = 2;  aCampoB  = aCampoB  + aCarac1;  |FINSI;
                    |SI nCampo = 3;  aCampoC  = aCampoC  + aCarac1;  |FINSI;
                    |SI nCampo = 4;  aCampoD  = aCampoD  + aCarac1;  |FINSI;
                    |SI nCampo = 5;  aCampoE  = aCampoE  + aCarac1;  |FINSI;
                    |SI nCampo = 6;  aCampoF  = aCampoF  + aCarac1;  |FINSI;
                    |SI nCampo = 7;  aCampoG  = aCampoG  + aCarac1;  |FINSI;
                    |SI nCampo = 8;  aCampoH  = aCampoH  + aCarac1;  |FINSI;
                    |SI nCampo = 9;  aCampoI  = aCampoI  + aCarac1;  |FINSI;
                    |SI nCampo = 10; aCampoJ  = aCampoJ  + aCarac1;  |FINSI;
                    |SI nCampo = 11; aCampoK  = aCampoK  + aCarac1;  |FINSI;
                    |SI nCampo = 12; aCampoL  = aCampoL  + aCarac1;  |FINSI;
                    |SI nCampo = 13; aCampoM  = aCampoM  + aCarac1;  |FINSI;
                    |SI nCampo = 14; aCampoN  = aCampoN  + aCarac1;  |FINSI;
                    |SI nCampo = 15; aCampoO  = aCampoO  + aCarac1;  |FINSI;
                    |SI nCampo = 16; aCampoP  = aCampoP  + aCarac1;  |FINSI;
                    |SI nCampo = 17; aCampoQ  = aCampoQ  + aCarac1;  |FINSI;
                    |SI nCampo = 18; aCampoR  = aCampoR  + aCarac1;  |FINSI;
                    |SI nCampo = 19; aCampoS  = aCampoS  + aCarac1;  |FINSI;
                    |SI nCampo = 20; aCampoT  = aCampoT  + aCarac1;  |FINSI;
                    |SI nCampo = 21; aCampoU  = aCampoU  + aCarac1;  |FINSI;
                    |SI nCampo = 22; aCampoV  = aCampoV  + aCarac1;  |FINSI;
                    |SI nCampo = 23; aCampoW  = aCampoW  + aCarac1;  |FINSI;
                    |SI nCampo = 24; aCampoX  = aCampoX  + aCarac1;  |FINSI;
                    |SI nCampo = 25; aCampoY  = aCampoY  + aCarac1;  |FINSI;
                    |SI nCampo = 26; aCampoZ  = aCampoZ  + aCarac1;  |FINSI;

                    |SI nCampo > 26;  |SAL;  |FINSI;
                |FINSI;
          |SIGUE;

          aCadena = aAlfa4;  |QBF aCadena;
          aLong   = aCadena % 0;
          nLong   = aLong;
          aTab    = ";";

          |PARA nCaracter = 1;  |SI nCaracter [ nLong;  |HACIENDO nCaracter = nCaracter + 1;
                nPos    = (100 * nCaracter) + 1;
                aCarac1 = aCadena % nPos;
                |SI aCarac1 = aTab;
                    nCampo = nCampo + 1;
                |SINO;
                    |SI nCampo = 1;  aCampoA  = aCampoA  + aCarac1;  |FINSI;
                    |SI nCampo = 2;  aCampoB  = aCampoB  + aCarac1;  |FINSI;
                    |SI nCampo = 3;  aCampoC  = aCampoC  + aCarac1;  |FINSI;
                    |SI nCampo = 4;  aCampoD  = aCampoD  + aCarac1;  |FINSI;
                    |SI nCampo = 5;  aCampoE  = aCampoE  + aCarac1;  |FINSI;
                    |SI nCampo = 6;  aCampoF  = aCampoF  + aCarac1;  |FINSI;
                    |SI nCampo = 7;  aCampoG  = aCampoG  + aCarac1;  |FINSI;
                    |SI nCampo = 8;  aCampoH  = aCampoH  + aCarac1;  |FINSI;
                    |SI nCampo = 9;  aCampoI  = aCampoI  + aCarac1;  |FINSI;
                    |SI nCampo = 10; aCampoJ  = aCampoJ  + aCarac1;  |FINSI;
                    |SI nCampo = 11; aCampoK  = aCampoK  + aCarac1;  |FINSI;
                    |SI nCampo = 12; aCampoL  = aCampoL  + aCarac1;  |FINSI;
                    |SI nCampo = 13; aCampoM  = aCampoM  + aCarac1;  |FINSI;
                    |SI nCampo = 14; aCampoN  = aCampoN  + aCarac1;  |FINSI;
                    |SI nCampo = 15; aCampoO  = aCampoO  + aCarac1;  |FINSI;
                    |SI nCampo = 16; aCampoP  = aCampoP  + aCarac1;  |FINSI;
                    |SI nCampo = 17; aCampoQ  = aCampoQ  + aCarac1;  |FINSI;
                    |SI nCampo = 18; aCampoR  = aCampoR  + aCarac1;  |FINSI;
                    |SI nCampo = 19; aCampoS  = aCampoS  + aCarac1;  |FINSI;
                    |SI nCampo = 20; aCampoT  = aCampoT  + aCarac1;  |FINSI;
                    |SI nCampo = 21; aCampoU  = aCampoU  + aCarac1;  |FINSI;
                    |SI nCampo = 22; aCampoV  = aCampoV  + aCarac1;  |FINSI;
                    |SI nCampo = 23; aCampoW  = aCampoW  + aCarac1;  |FINSI;
                    |SI nCampo = 24; aCampoX  = aCampoX  + aCarac1;  |FINSI;
                    |SI nCampo = 25; aCampoY  = aCampoY  + aCarac1;  |FINSI;
                    |SI nCampo = 26; aCampoZ  = aCampoZ  + aCarac1;  |FINSI;

                    |SI nCampo > 26;  |SAL;  |FINSI;
                |FINSI;
          |SIGUE;

          |HAZ GrabaReg;
     |SIGUE;
     |XCIERRA nHandle;
|FPRC;

|PROCESO Tipo80;  |TIPO 80;
     |ABRET #rem00008;
     |LEE 000#rem00008.p;
     |SI FSalida ! 0;
         |HAZ RecogeDatos;
     |FINSI;
|FPRC;

|PROCESO Tipo90;  |TIPO 90;
     |CIERRAT #rem00008;
|FPRC;
