|FICHEROS;
     rem00065;
     rem00100;
     rem00101;

     rew00665,MANTE;
     rew00666,MANTE;
     rew00667,MANTE;
     rew00668,MANTE;
     rew00669,MANTE;
     rew00670,MANTE;

     rew00003;
|FIN;

|VARIABLES;
     aAlfa         = "";
     aAlfa1        = "";
     aAlfa2        = "";
     aAlfa3        = "";
     aLong         = "";
     aQueQuiero    = "";
     aNumCampos    = "";
     aNumPanta     = "";
     aPathRenta    = "";
     aDef          = "";
     aDescri       = "";
     aTipo         = "";

     aEsc1         = "";
     aEsc2         = "";
     aRetu         = "";
     aTecla        = "";
     aID           = "";

     nVentana       = -1;
     nCampo         = 0;
     nRango         = 0;
     nGrid          = -1;
     nBotonAlta     = 0;
     nBotonModi     = 0;
     nBotonBaja     = 0;
     nBotonCntr     = 0;
     nPanta         = 0;
     nID            = 0;
     nEntrar        = 0;
     nPasoReten     = 0;

     nLong         = 0;
     nCaracter     = 0;
     nPosi         = 0;
     nNumCampos    = 0;
     nNumPanta     = 0;
     nModo         = 0;
     nEntrada      = 0;
     nPtas         = 0;
     nRetencion    = 0;
     nCampo15      = 0;
     nCampo16      = 0;
     nCampo17      = 0;
     nCampo20      = 0;
     nCampo27      = 0;
     nValor        = 0;
     nValor1       = 0;
     nValorPat     = 0;
     nDias         = 0;
     nAnyoVenta    = 0;
     nAnyoCompra   = 0;
     nDiferencia   = 0;
     nCoefi        = 0;
     nLinea        = 0;
     nContenido    = 0;
     nSwHay        = 0;
     nCampo1       = 0;
     nCampo2       = 0;
     nCampo3       = 0;
     nCampo4       = 0;
     nCampo5       = 0;
     nFallecido    = 0;

     nTodosDias    = 0;
     nParciDias    = 0;
     nOk           = 0;

     fFechaLim     = @;

     fFechaAdq     = @;
     fFechaTra     = @;
     fFecha1       = @;
     fFecha2       = @;

     &enEmpresa    = 0;
     &enModo       = 0;
     &enModoReg    = 0;
     &eaDeclarante = "";
     &enComunes    = 0;
     &enChequeo    = 0;
     &enMinusvalia = 0;
     &eaMinuAyuda  = "";
     &eaFallece    = "";
     &eaSwVarios   = "";
     &eaVarDni     = "";
     &enSwLiquida  = 0;
     &enSwRetorno  = 0;
     &enCalcCif    = 0;
     &eaPrograma   = "";
     &eaPunto      = "";

     &eaLetra      = "";
     &eaDeDonde    = "";
     &eaLinDonde   = "";
     &eaAnyoUsu    = "";
     &eaEdadDec    = "";
     &eaPatr06     = "";
     &eaPatr07     = "";
     &eaPatr08     = "";
     &eaPatr09     = "";
     &eaPatr10     = "";
     &eaPatr11     = "";
     &eaPatr12     = "";
     &eaPatr13     = "";
     &eaPatr14     = "";
     &eaPatr15     = "";
     &eaPatr16     = "";
     &eaPatr16_1   = "";
     &eaPatr17     = "";
     &eaPatr18     = "";
     &eaPatr19     = "";
     &eaPatr20     = "";
     &eaPatr21     = "";

     &eaAzul       = "";
     &eaVerde      = "";
     &eaRojo       = "";
     &eaRosa       = "";
     &enBtnSalir   = 0;
     &enError      = 0;
     &enImporte    = 0;
|FIN;

|INCLUYE i_sepnom;

|PROCESO BotonCntr;
     enChequeo   = 0;

     |SI eaLetra = "1";  |O eaLetra = "6";
         enComunes   = 1;
         #rew00003#0 = #rew00665#2;
         #rew00003#1 = #rew00665#3;
         #rew00003#2 = #rew00665#4;
         #rew00003#3 = #rew00665#5;
         #rew00003#4 = #rew00665#6;
         #rew00003#5 = #rew00665#7;
         #rew00003#6 = #rew00665#8;
         #rew00003#7 = #rew00665#9;
         #rew00003#8 = #rew00665#10;

         |HAZ PantaREW00003;

         #rew00665#2  = #rew00003#0;    |PINTA #rew00665#2;
         #rew00665#3  = #rew00003#1;
         #rew00665#4  = #rew00003#2;
         #rew00665#5  = #rew00003#3;
         #rew00665#6  = #rew00003#4;
         #rew00665#7  = #rew00003#5;
         #rew00665#8  = #rew00003#6;
         #rew00665#9  = #rew00003#7;
         #rew00665#10 = #rew00003#8;

         aAlfa = "|C013WID";
         aID   = #rew00665#aAlfa#;
         nID   = aID;
         |FOCOTECLADO nID;

         |SI #rew00665#3 = "X";  |Y enModoReg ! 4;
             |PTEC 806;
         |FINSI;
     |FINSI;

     |SI eaLetra = "2";
         enComunes   = 1;
         #rew00003#0 = #rew00666#2;
         #rew00003#1 = #rew00666#3;
         #rew00003#2 = #rew00666#4;
         #rew00003#3 = #rew00666#5;
         #rew00003#4 = #rew00666#6;
         #rew00003#5 = #rew00666#7;
         #rew00003#6 = #rew00666#8;
         #rew00003#7 = #rew00666#9;
         #rew00003#8 = #rew00666#10;

         |HAZ PantaREW00003;

         #rew00666#2  = #rew00003#0;    |PINTA #rew00666#2;
         #rew00666#3  = #rew00003#1;
         #rew00666#4  = #rew00003#2;
         #rew00666#5  = #rew00003#3;
         #rew00666#6  = #rew00003#4;
         #rew00666#7  = #rew00003#5;
         #rew00666#8  = #rew00003#6;
         #rew00666#9  = #rew00003#7;
         #rew00666#10 = #rew00003#8;

         aAlfa = "|C012WID";
         aID   = #rew00666#aAlfa#;
         nID   = aID;
         |FOCOTECLADO nID;

         |SI #rew00666#3 = "X";  |Y enModoReg ! 4;
             |PTEC 806;
         |FINSI;
     |FINSI;

     |SI eaLetra = "3";
         enComunes   = 1;
         #rew00003#0 = #rew00667#2;
         #rew00003#1 = #rew00667#3;
         #rew00003#2 = #rew00667#4;
         #rew00003#3 = #rew00667#5;
         #rew00003#4 = #rew00667#6;
         #rew00003#5 = #rew00667#7;
         #rew00003#6 = #rew00667#8;
         #rew00003#7 = #rew00667#9;
         #rew00003#8 = #rew00667#10;

         |HAZ PantaREW00003;

         #rew00667#2  = #rew00003#0;    |PINTA #rew00667#2;
         #rew00667#3  = #rew00003#1;
         #rew00667#4  = #rew00003#2;
         #rew00667#5  = #rew00003#3;
         #rew00667#6  = #rew00003#4;
         #rew00667#7  = #rew00003#5;
         #rew00667#8  = #rew00003#6;
         #rew00667#9  = #rew00003#7;
         #rew00667#10 = #rew00003#8;

         aAlfa = "|C012WID";
         aID   = #rew00667#aAlfa#;
         nID   = aID;
         |FOCOTECLADO nID;

         |SI #rew00667#3 = "X";  |Y enModoReg ! 4;
             |PTEC 806;
         |FINSI;
     |FINSI;

     |SI eaLetra = "4";
         enComunes   = 0;
         #rew00003#0 = #rew00670#2;
         #rew00003#1 = #rew00670#3;
         #rew00003#2 = #rew00670#4;
         #rew00003#3 = #rew00670#5;
         #rew00003#4 = #rew00670#6;
         #rew00003#5 = #rew00670#7;
         #rew00003#6 = #rew00670#8;
         #rew00003#7 = #rew00670#9;
         #rew00003#8 = #rew00670#10;

         |PARA;  |SI;  |HACIENDO;
              |HAZ PantaREW00003;

              nOk = 0;

              |SI #rew00003#0 = "TITULAR   ";
                  nOk = 2;

                  |SI #rem00100#41 < 33;
                      nOk = 1;
                  |FINSI;
              |FINSI;

              |SI #rew00003#0 = "CONYUGE   ";
                  nOk = 2;

                  |SI #rem00100#8 < 33;
                      nOk = 1;
                  |FINSI;
              |FINSI;

              |SI nOk = 2;
                  |SAL;
              |FINSI;

              |SI nOk = 0;
                  |MENAV "0000No procede el contribuyente seleccionado";
              |FINSI;

              |SI nOk = 1;
                  |MENAV "0000Conyuge sin discapacidad";
              |FINSI;
         |SIGUE;

         #rew00670#2  = #rew00003#0;    |PINTA #rew00670#2;
         #rew00670#3  = #rew00003#1;
         #rew00670#4  = #rew00003#2;
         #rew00670#5  = #rew00003#3;
         #rew00670#6  = #rew00003#4;
         #rew00670#7  = #rew00003#5;
         #rew00670#8  = #rew00003#6;
         #rew00670#9  = #rew00003#7;
         #rew00670#10 = #rew00003#8;

         |SI #rew00670#2 = "TITULAR   ";
             #rew00670#13 = #rem00100#35;
             #rew00670#14 = #rem00100#38;
         |FINSI;

         |SI #rew00670#2 = "CONYUGE   ";
             #rew00670#13 = #rem00100#1;
             #rew00670#14 = #rem00100#4;
         |FINSI;

         |PINTA #rew00670#13;
         |PINTA #rew00670#14;

         aAlfa = "|C015WID";
         aID   = #rew00670#aAlfa#;
         nID   = aID;
         |FOCOTECLADO nID;

         |SI #rew00670#3 = "X";  |Y enModoReg ! 4;
             |PTEC 806;
         |FINSI;
     |FINSI;

     |SI eaLetra = "5";
         enComunes   = 1;
         #rew00003#0 = #rew00668#2;
         #rew00003#1 = #rew00668#3;
         #rew00003#2 = #rew00668#4;
         #rew00003#3 = #rew00668#5;
         #rew00003#4 = #rew00668#6;
         #rew00003#5 = #rew00668#7;
         #rew00003#6 = #rew00668#8;
         #rew00003#7 = #rew00668#9;
         #rew00003#8 = #rew00668#10;

         |HAZ PantaREW00003;

         #rew00668#2  = #rew00003#0;    |PINTA #rew00668#2;
         #rew00668#3  = #rew00003#1;
         #rew00668#4  = #rew00003#2;
         #rew00668#5  = #rew00003#3;
         #rew00668#6  = #rew00003#4;
         #rew00668#7  = #rew00003#5;
         #rew00668#8  = #rew00003#6;
         #rew00668#9  = #rew00003#7;
         #rew00668#10 = #rew00003#8;

         aAlfa = "|C013WID";
         aID   = #rew00668#aAlfa#;
         nID   = aID;
         |FOCOTECLADO nID;

         |SI #rew00668#3 = "X";  |Y enModoReg ! 4;
             |PTEC 806;
         |FINSI;
     |FINSI;

     |SI eaLetra = "7";
         enComunes   = 1;
         #rew00003#0 = #rew00669#2;
         #rew00003#1 = #rew00669#3;
         #rew00003#2 = #rew00669#4;
         #rew00003#3 = #rew00669#5;
         #rew00003#4 = #rew00669#6;
         #rew00003#5 = #rew00669#7;
         #rew00003#6 = #rew00669#8;
         #rew00003#7 = #rew00669#9;
         #rew00003#8 = #rew00669#10;

         |HAZ PantaREW00003;

         #rew00669#2  = #rew00003#0;    |PINTA #rew00669#2;
         #rew00669#3  = #rew00003#1;
         #rew00669#4  = #rew00003#2;
         #rew00669#5  = #rew00003#3;
         #rew00669#6  = #rew00003#4;
         #rew00669#7  = #rew00003#5;
         #rew00669#8  = #rew00003#6;
         #rew00669#9  = #rew00003#7;
         #rew00669#10 = #rew00003#8;

         aAlfa = "|C013WID";
         aID   = #rew00669#aAlfa#;
         nID   = aID;
         |FOCOTECLADO nID;

         |SI #rew00669#3 = "X";  |Y enModoReg ! 4;
             |PTEC 806;
         |FINSI;
     |FINSI;
|FPRC;

|| ---- PROCESOS COMUNES

|PROCESO Baja101;
     #rem00101#0 = enEmpresa;
     #rem00101#4 = aTipo;
     #rem00101#1 = 1;
|FPRC;

|PROCESO Alta101;
     #rem00101#0 = enEmpresa;
     #rem00101#4 = aTipo;
     #rem00101#1 = 99;
|FPRC;

|| ---- PROCESOS DEL rew00669

|PROCESO Tipo12Fw669;  |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     aAlfa = #rew00669#2;  |QBF aAlfa;
     |SI aAlfa = "";
         |MENAV "0000No se puede validar la ficha, no hay contribuyente introducido";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO LetraNifFw669;  |TIPO 6;
     |SI FSalida = 10;
         eaVarDni  = #rew00669#Campo#;
         enCalcCif = 1;
         |HAZ CalculoDNI;
         #rew00669#Campo# = eaVarDni;
         |PINTA #rew00669#Campo#;
         |ERROR;
         |ACABA;
     |FINSI;

     eaVarDni     = #rew00669#Campo#;
     enCalcCif    = 0;
     |HAZ CalculoDNI;
     eaVarDni = (eaVarDni + "                    ") % 109;
     |SI #rew00669#Campo# ! eaVarDni;
         |CONFI "0000SEl Nif puede ser Erroneo. Desea Calcularlo.";
         |SI FSalida = 0;
             #rew00669#Campo# = eaVarDni;  |PINTA #rew00669#Campo#;
             |ERROR;
             |ACABA;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO CampoNifFw669;  |TIPO 0;
     |SI #rew00669#3 = "X";  |ACABA;  |FINSI;

     aLong = #rew00669#Campo#;  |QBF aLong;
     |SI aLong = "";  |ACABA;  |FINSI;

     aLong = aLong % 0;
     nLong = aLong;
     |SI nLong ! 9;
         |MENAV "     Longitud Erronea.";
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo0C1Fw669;  |TIPO 0;
     |C_M #rew00669#1, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     #rem00065#0 = #rew00669#0;
     #rem00065#1 = #rew00669#1;
     |LEE 000#rem00065.=;
     |SI FSalida = 0;
         |MENAV "0000El registro ya existe.";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo7C2Fw669;  |TIPO 7;
     aAlfa = #rew00669#2;  |QBF aAlfa;
     |SI aAlfa ! "";  |Y #rew00669#3 ! "X";
         |ACABA;
     |FINSI;

     |HAZ BotonCntr;
|FPRC;

|| ---- PROCESOS DEL REW00668

|PROCESO Tipo12Fw668;  |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     aAlfa = #rew00668#2;  |QBF aAlfa;
     |SI aAlfa = "";
         |MENAV "0000No se puede validar la ficha, no hay contribuyente introducido";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO T0C15Fw668;  |TIPO 0;
     |SI #rew00668#15 > "31.12.2019";
         |MENAV "0000Fecha tope 31.12.2019";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO T0C16Fw668;  |TIPO 0;
     |SI #rew00668#16 = "01.01.0000";
         |ACABA;
     |FINSI;

     |SI #rew00668#16 > "31.12.2019";
         |MENAV "0000Fecha tope 31.12.2019";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rew00668#16 <  #rew00668#15;  |Y #rew00668#16 > "01.01.0000";
         |MENAV "0000Fecha baja menor fecha inicio";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rew00668#16 <  "01.01.2019";
         |MENAV "0000Fecha baja menor al a¤o en curso";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO LetraNifFw668;  |TIPO 6;
     |SI FSalida = 10;
         eaVarDni  = #rew00668#Campo#;
         enCalcCif = 1;
         |HAZ CalculoDNI;
         #rew00668#Campo# = eaVarDni;
         |PINTA #rew00668#Campo#;
         |ERROR;
         |ACABA;
     |FINSI;

     eaVarDni     = #rew00668#Campo#;
     enCalcCif    = 0;
     |HAZ CalculoDNI;
     eaVarDni = (eaVarDni + "                    ") % 109;
     |SI #rew00668#Campo# ! eaVarDni;
         |CONFI "0000SEl Nif puede ser Erroneo. Desea Calcularlo.";
         |SI FSalida = 0;
             #rew00668#Campo# = eaVarDni;  |PINTA #rew00668#Campo#;
             |ERROR;
             |ACABA;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO CampoNifFw668;  |TIPO 0;
     |SI #rew00668#3 = "X";  |ACABA;  |FINSI;

     aLong = #rew00668#Campo#;  |QBF aLong;
     |SI aLong = "";  |ACABA;  |FINSI;

     aLong = aLong % 0;
     nLong = aLong;
     |SI nLong ! 9;
         |MENAV "     Longitud Erronea.";
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo0C1Fw668;  |TIPO 0;
     |C_M #rew00668#1, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     #rem00065#0 = #rew00668#0;
     #rem00065#1 = #rew00668#1;
     |LEE 000#rem00065.=;
     |SI FSalida = 0;
         |MENAV "0000El registro ya existe.";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo7C2Fw668;  |TIPO 7;
     aAlfa = #rew00668#2;  |QBF aAlfa;
     |SI aAlfa ! "";  |Y #rew00668#3 ! "X";
         |ACABA;
     |FINSI;

     |HAZ BotonCntr;
|FPRC;

|| ---- PROCESOS DEL REW00667

|PROCESO Tipo12Fw667;  |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     aAlfa = #rew00667#2;  |QBF aAlfa;
     |SI aAlfa = "";
         |MENAV "0000No se puede validar la ficha, no hay contribuyente introducido";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO LetraNifFw667;  |TIPO 6;
     |SI FSalida = 10;
         eaVarDni  = #rew00667#Campo#;
         enCalcCif = 1;
         |HAZ CalculoDNI;
         #rew00667#Campo# = eaVarDni;
         |PINTA #rew00667#Campo#;
         |ERROR;
         |ACABA;
     |FINSI;

     eaVarDni     = #rew00667#Campo#;
     enCalcCif    = 0;
     |HAZ CalculoDNI;
     eaVarDni = (eaVarDni + "                    ") % 109;
     |SI #rew00667#Campo# ! eaVarDni;
         |CONFI "0000SEl Nif puede ser Erroneo. Desea Calcularlo.";
         |SI FSalida = 0;
             #rew00667#Campo# = eaVarDni;  |PINTA #rew00667#Campo#;
             |ERROR;
             |ACABA;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO CampoNifFw667;  |TIPO 0;
     |SI #rew00667#3 = "X";  |ACABA;  |FINSI;

     aLong = #rew00667#Campo#;  |QBF aLong;
     |SI aLong = "";  |ACABA;  |FINSI;

     aLong = aLong % 0;
     nLong = aLong;
     |SI nLong ! 9;
         |MENAV "     Longitud Erronea.";
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO T0C15Fw667;  |TIPO 0;
     |SI #rew00667#15 > "31.12.2019";
         |MENAV "0000Fecha tope 31.12.2019";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo0C12Fw667;  |TIPO 0;
     |ABRE #rem00101;
     |SELECT #1#rem00101;
     #rem00101#0 = enEmpresa;
     #rem00101#1 = #rew00667#12;
     |LEE 000#rem00101.=;
     |SI FSalida ! 0;
         |MENAV "0000No existe el ascendiente en datos familiares";
         |ERROR;
         |CIERRA #rem00101;
         |ACABA;
     |FINSI;
     |CIERRA #rem00101;

     |SI #rem00101#4 ! "ASCENDIENTE ";
         |MENAV "0000El familiar no es ascendiente";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rem00101#6 < 33;
         |MENAV "0000Ascendiente sin minusval¡a";
         |ERROR;
         |ACABA;
     |FINSI;

     aAlfa = #rem00101#2;  |QBF aAlfa;
     |SI aAlfa ! "";
         #rew00667#13 = #rem00101#2;
     |FINSI;

     Cadena = #rem00101#3;
     |HAZ SeparaNombre;
     #rew00667#14 = Cadena1 + " " + Cadena2 + " " + Cadena3;

     |PINTA #rew00667#13;
     |PINTA #rew00667#14;
|FPRC;

|PROCESO Tipo66C12Fw667;  |TIPO 66;
     aTipo = "ASCENDIENTE ";
     |ABRE #rem00101;
     |CONSULTA_F_CLAVE #5#rem00101, Baja101, Alta101;
     |SI FSalida = 0;
         #rew00667#12 = #rem00101#1;  |PINTA #rew00667#12;
     |FINSI;
     |CIERRA #rem00101;
|FPRC;

|PROCESO Tipo0C1Fw667;  |TIPO 0;
     |C_M #rew00667#1, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     #rem00065#0 = #rew00667#0;
     #rem00065#1 = #rew00667#1;
     |LEE 000#rem00065.=;
     |SI FSalida = 0;
         |MENAV "0000El registro ya existe.";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo7C2Fw667;  |TIPO 7;
     aAlfa = #rew00667#2;  |QBF aAlfa;
     |SI aAlfa ! "";  |Y #rew00667#3 ! "X";
         |ACABA;
     |FINSI;

     |HAZ BotonCntr;
|FPRC;

|| ---- PROCESOS DEL REW00666

|PROCESO Tipo12Fw666;  |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     aAlfa = #rew00666#2;  |QBF aAlfa;
     |SI aAlfa = "";
         |MENAV "0000No se puede validar la ficha, no hay contribuyente introducido";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO LetraNifFw666;  |TIPO 6;
     |SI FSalida = 10;
         eaVarDni  = #rew00666#Campo#;
         enCalcCif = 1;
         |HAZ CalculoDNI;
         #rew00666#Campo# = eaVarDni;
         |PINTA #rew00666#Campo#;
         |ERROR;
         |ACABA;
     |FINSI;

     eaVarDni     = #rew00666#Campo#;
     enCalcCif    = 0;
     |HAZ CalculoDNI;
     eaVarDni = (eaVarDni + "                    ") % 109;
     |SI #rew00666#Campo# ! eaVarDni;
         |CONFI "0000SEl Nif puede ser Erroneo. Desea Calcularlo.";
         |SI FSalida = 0;
             #rew00666#Campo# = eaVarDni;  |PINTA #rew00666#Campo#;
             |ERROR;
             |ACABA;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO CampoNifFw666;  |TIPO 0;
     |SI #rew00666#3 = "X";  |ACABA;  |FINSI;

     aLong = #rew00666#Campo#;  |QBF aLong;
     |SI aLong = "";  |ACABA;  |FINSI;

     aLong = aLong % 0;
     nLong = aLong;
     |SI nLong ! 9;
         |MENAV "     Longitud Erronea.";
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO T0C15Fw666;  |TIPO 0;
     |SI #rew00666#15 > "31.12.2019";
         |MENAV "0000Fecha tope 31.12.2019";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo0C12Fw666;  |TIPO 0;
     |ABRE #rem00101;
     |SELECT #1#rem00101;
     #rem00101#0 = enEmpresa;
     #rem00101#1 = #rew00666#12;
     |LEE 000#rem00101.=;
     |SI FSalida ! 0;
         |MENAV "0000No existe el descendiente en datos familiares";
         |ERROR;
         |CIERRA #rem00101;
         |ACABA;
     |FINSI;
     |CIERRA #rem00101;

     |SI #rem00101#4 ! "DESCENDIENTE";
         |MENAV "0000El familiar no es descendiente";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rem00101#6 < 33;
         |MENAV "0000Descendiente sin minusval¡a";
         |ERROR;
         |ACABA;
     |FINSI;

     aAlfa = #rem00101#2;  |QBF aAlfa;
     |SI aAlfa ! "";
         #rew00666#13 = #rem00101#2;
     |FINSI;

     Cadena = #rem00101#3;
     |HAZ SeparaNombre;
     #rew00666#14 = Cadena1 + " " + Cadena2 + " " + Cadena3;

     |PINTA #rew00666#13;
     |PINTA #rew00666#14;
|FPRC;

|PROCESO Tipo66C12Fw666;  |TIPO 66;
     aTipo = "DESCENDIENTE";
     |ABRE #rem00101;
     |CONSULTA_F_CLAVE #5#rem00101, Baja101, Alta101;
     |SI FSalida = 0;
         #rew00666#12 = #rem00101#1;  |PINTA #rew00666#12;
     |FINSI;
     |CIERRA #rem00101;
|FPRC;

|PROCESO Tipo0C1Fw666;  |TIPO 0;
     |C_M #rew00666#1, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     #rem00065#0 = #rew00666#0;
     #rem00065#1 = #rew00666#1;
     |LEE 000#rem00065.=;
     |SI FSalida = 0;
         |MENAV "0000El registro ya existe.";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo7C2Fw666;  |TIPO 7;
     aAlfa = #rew00666#2;  |QBF aAlfa;
     |SI aAlfa ! "";  |Y #rew00666#3 ! "X";
         |ACABA;
     |FINSI;

     |HAZ BotonCntr;
|FPRC;

|| ---- PROCESOS DEL rew00665

|PROCESO Tipo12Fw665;  |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     aAlfa = #rew00665#2;  |QBF aAlfa;
     |SI aAlfa = "";
         |MENAV "0000No se puede validar la ficha, no hay contribuyente introducido";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO T0C15Fw665;  |TIPO 0;
     |SI #rew00665#15 > 1000;
         |MENAV "0000El importe de la deducci¢n es de 1000 euros por hijo";
     |FINSI;
|FPRC;

|PROCESO Tipo0C1Fw665;  |TIPO 0;
     |C_M #rew00665#1, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     #rem00065#0 = #rew00665#0;
     #rem00065#1 = #rew00665#1;
     |LEE 000#rem00065.=;
     |SI FSalida = 0;
         |MENAV "0000El registro ya existe.";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo7C2Fw665;  |TIPO 7;
     aAlfa = #rew00665#2;  |QBF aAlfa;
     |SI aAlfa ! "";  |Y #rew00665#3 ! "X";
         |ACABA;
     |FINSI;

     |HAZ BotonCntr;
|FPRC;

|| ---- PROCESOS DEL REW00670

|PROCESO Tipo12Fw670;  |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     aAlfa = #rew00670#2;  |QBF aAlfa;
     |SI aAlfa = "";
         |MENAV "0000No se puede validar la ficha, no hay contribuyente introducido";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO T0C20Fw670;  |TIPO 0;
     |SI #rew00670#20 > 1200;
         |MENAV "0000El importe de la deducci¢n es de 1200 euros";

         #rew00670#20 = 1200;
         |PINTA #rew00670#20;
     |FINSI;
|FPRC;

|PROCESO T0C17Fw670;  |TIPO 0;
     |C_M #rew00670#18, 1, "S";
     |C_M #rew00670#19, 1, "S";

     |SI #rew00670#17 = "S";
         |C_M #rew00670#18, 1, "N"; #rew00670#18 = 0;
         |C_M #rew00670#19, 1, "N"; #rew00670#19 = 0;
     |FINSI;

     |PINTA #rew00670#18;
     |PINTA #rew00670#19;
|FPRC;

|PROCESO T0C16Fw670;  |TIPO 0;
     |SI #rew00670#16 < "01.01.1900";
         #rew00670#16 = "01.01.0000";

         |PINTA #rew00670#16;
     |FINSI;

     |SI #rew00670#16 = "01.01.0000";
         |ACABA;
     |FINSI;

     |SI #rew00670#16 > "31.12.2019";
         |MENAV "0000Fecha incorrecta. Debe ser superior a la fecha inicio e inferior a 01.01.2020";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI #rew00670#16 < #rew00670#15;
         |MENAV "0000Fecha incorrecta. Debe ser superior a la fecha inicio e inferior a 01.01.2020";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO T0C15Fw670;  |TIPO 0;
     |SI #rew00670#15 < "01.01.1900";
         #rew00670#15 = "01.01.0000";

         |PINTA #rew00670#15;
     |FINSI;

     |SI #rew00670#15 > "31.12.2019";
         |MENAV "0000Fecha tope 31.12.2019";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo0C1Fw670;  |TIPO 0;
     |C_M #rew00670#1, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     #rem00065#0 = #rew00670#0;
     #rem00065#1 = #rew00670#1;
     |LEE 000#rem00065.=;
     |SI FSalida = 0;
         |MENAV "0000El registro ya existe.";
         |ERROR;
         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo7C2Fw670;  |TIPO 7;
     aAlfa = #rew00670#2;  |QBF aAlfa;
     |SI aAlfa ! "";  |Y #rew00670#3 ! "X";
         |ACABA;
     |FINSI;

     |HAZ BotonCntr;
|FPRC;

|| -------------------------------------------------------------------------

|PROCESO CargaFantasma;
     |SI eaLetra = "1";
         |C_M #rew00665#13, 1, "S";
         |C_M #rew00665#14, 1, "S";

         |DDEFECTO #rew00665;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00665#nCampo# = #rem00065#nCampo#;

               |C_V #rew00665#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00665#nCampo#;  |FINSI;
         |SIGUE;

         #rew00665#13 = #rem00065#13;   |PINTA #rew00665#13;
         #rew00665#14 = #rem00065#14;   |PINTA #rew00665#14;
         #rew00665#15 = #rem00065#58;   |PINTA #rew00665#15;
     |FINSI;

     |SI eaLetra = "2";
         |C_M #rew00666#12, 1, "S";
         |C_M #rew00666#13, 1, "S";
         |C_M #rew00666#14, 1, "S";
         |C_M #rew00666#15, 1, "S";
         |C_M #rew00666#16, 1, "S";
         |C_M #rew00666#17, 1, "S";
         |C_M #rew00666#18, 1, "S";
         |C_M #rew00666#19, 1, "S";
         |C_M #rew00666#20, 1, "S";
         |C_M #rew00666#21, 1, "S";
         |C_M #rew00666#22, 1, "S";
         |C_M #rew00666#23, 1, "S";

         |DDEFECTO #rew00666;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00666#nCampo# = #rem00065#nCampo#;

               |C_V #rew00666#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00666#nCampo#;  |FINSI;
         |SIGUE;

         #rew00666#13 = #rem00065#15;   |PINTA #rew00666#13;
         #rew00666#14 = #rem00065#16;   |PINTA #rew00666#14;
         #rew00666#15 = #rem00065#17;   |PINTA #rew00666#15;
         #rew00666#16 = #rem00065#18;   |PINTA #rew00666#16;
         #rew00666#17 = #rem00065#19;   |PINTA #rew00666#17;
         #rew00666#18 = #rem00065#20;   |PINTA #rew00666#18;
         #rew00666#19 = #rem00065#21;   |PINTA #rew00666#19;
         #rew00666#20 = #rem00065#22;   |PINTA #rew00666#20;
         #rew00666#21 = #rem00065#23;   |PINTA #rew00666#21;
         #rew00666#22 = #rem00065#24;   |PINTA #rew00666#22;
         #rew00666#23 = #rem00065#25;   |PINTA #rew00666#23;
     |FINSI;

     |SI eaLetra = "3";
         |C_M #rew00667#12, 1, "S";
         |C_M #rew00667#13, 1, "S";
         |C_M #rew00667#14, 1, "S";
         |C_M #rew00667#15, 1, "S";
         |C_M #rew00667#16, 1, "S";
         |C_M #rew00667#17, 1, "S";
         |C_M #rew00667#18, 1, "S";
         |C_M #rew00667#19, 1, "S";
         |C_M #rew00667#20, 1, "S";
         |C_M #rew00667#21, 1, "S";
         |C_M #rew00667#22, 1, "S";
         |C_M #rew00667#23, 1, "S";
         |C_M #rew00667#24, 1, "S";
         |C_M #rew00667#25, 1, "S";

         |DDEFECTO #rew00667;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00667#nCampo# = #rem00065#nCampo#;

               |C_V #rew00667#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00667#nCampo#;  |FINSI;
         |SIGUE;

         #rew00667#13 = #rem00065#26;   |PINTA #rew00667#13;
         #rew00667#14 = #rem00065#27;   |PINTA #rew00667#14;
         #rew00667#15 = #rem00065#28;   |PINTA #rew00667#15;
         #rew00667#16 = #rem00065#29;   |PINTA #rew00667#16;
         #rew00667#17 = #rem00065#30;   |PINTA #rew00667#17;
         #rew00667#18 = #rem00065#31;   |PINTA #rew00667#18;
         #rew00667#19 = #rem00065#32;   |PINTA #rew00667#19;
         #rew00667#20 = #rem00065#33;   |PINTA #rew00667#20;
         #rew00667#21 = #rem00065#34;   |PINTA #rew00667#21;
         #rew00667#22 = #rem00065#35;   |PINTA #rew00667#22;
         #rew00667#23 = #rem00065#36;   |PINTA #rew00667#23;
         #rew00667#24 = #rem00065#37;   |PINTA #rew00667#24;
         #rew00667#25 = #rem00065#38;   |PINTA #rew00667#25;
     |FINSI;

     |SI eaLetra = "4";
         |C_M #rew00670#15, 1, "S";
         |C_M #rew00670#16, 1, "S";
         |C_M #rew00670#17, 1, "S";
         |C_M #rew00670#18, 1, "S";
         |C_M #rew00670#19, 1, "S";
         |C_M #rew00670#20, 1, "S";
         |C_M #rew00670#21, 1, "S";
         |C_M #rew00670#22, 1, "S";

         |DDEFECTO #rew00670;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00670#nCampo# = #rem00065#nCampo#;

               |C_V #rew00670#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00670#nCampo#;  |FINSI;
         |SIGUE;

         #rew00670#13 = #rem00065#59;   |PINTA #rew00670#13;
         #rew00670#14 = #rem00065#60;   |PINTA #rew00670#14;
         #rew00670#15 = #rem00065#61;   |PINTA #rew00670#15;
         #rew00670#16 = #rem00065#62;   |PINTA #rew00670#16;
         #rew00670#17 = #rem00065#63;   |PINTA #rew00670#17;
         #rew00670#18 = #rem00065#64;   |PINTA #rew00670#18;
         #rew00670#19 = #rem00065#65;   |PINTA #rew00670#19;
         #rew00670#20 = #rem00065#66;   |PINTA #rew00670#20;
         #rew00670#21 = #rem00065#67;   |PINTA #rew00670#21;
         #rew00670#22 = #rem00065#69;   |PINTA #rew00670#22;
     |FINSI;

     |SI eaLetra = "5";
         |C_M #rew00668#13, 1, "S";
         |C_M #rew00668#14, 1, "S";
         |C_M #rew00668#15, 1, "S";
         |C_M #rew00668#16, 1, "S";
         |C_M #rew00668#17, 1, "S";
         |C_M #rew00668#18, 1, "S";
         |C_M #rew00668#19, 1, "S";
         |C_M #rew00668#20, 1, "S";
         |C_M #rew00668#21, 1, "S";
         |C_M #rew00668#22, 1, "S";
         |C_M #rew00668#23, 1, "S";
         |C_M #rew00668#24, 1, "S";
         |C_M #rew00668#25, 1, "S";
         |C_M #rew00668#26, 1, "S";

         |DDEFECTO #rew00668;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00668#nCampo# = #rem00065#nCampo#;

               |C_V #rew00668#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00668#nCampo#;  |FINSI;
         |SIGUE;

         #rew00668#13 = #rem00065#39;   |PINTA #rew00668#13;
         #rew00668#14 = #rem00065#40;   |PINTA #rew00668#14;
         #rew00668#15 = #rem00065#41;   |PINTA #rew00668#15;
         #rew00668#16 = #rem00065#42;   |PINTA #rew00668#16;
         #rew00668#17 = #rem00065#43;   |PINTA #rew00668#17;
         #rew00668#18 = #rem00065#44;   |PINTA #rew00668#18;
         #rew00668#19 = #rem00065#45;   |PINTA #rew00668#19;
         #rew00668#20 = #rem00065#46;   |PINTA #rew00668#20;
         #rew00668#21 = #rem00065#47;   |PINTA #rew00668#21;
         #rew00668#22 = #rem00065#48;   |PINTA #rew00668#22;
         #rew00668#23 = #rem00065#49;   |PINTA #rew00668#23;
         #rew00668#24 = #rem00065#50;   |PINTA #rew00668#24;
         #rew00668#25 = #rem00065#51;   |PINTA #rew00668#25;
         #rew00668#26 = #rem00065#68;   |PINTA #rew00668#26;
     |FINSI;

     |SI eaLetra = "6";
         |C_M #rew00665#13, 1, "S";
         |C_M #rew00665#14, 1, "S";

         |DDEFECTO #rew00665;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00665#nCampo# = #rem00065#nCampo#;

               |C_V #rew00665#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00665#nCampo#;  |FINSI;
         |SIGUE;

         #rew00665#13 = #rem00065#52;   |PINTA #rew00665#13;
         #rew00665#14 = #rem00065#53;   |PINTA #rew00665#14;
     |FINSI;

     |SI eaLetra = "7";
         |C_M #rew00669#13, 1, "S";
         |C_M #rew00669#14, 1, "S";
         |C_M #rew00669#15, 1, "S";
         |C_M #rew00669#16, 1, "S";

         |DDEFECTO #rew00669;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00669#nCampo# = #rem00065#nCampo#;

               |C_V #rew00669#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00669#nCampo#;  |FINSI;
         |SIGUE;

         #rew00669#13 = #rem00065#54;   |PINTA #rew00669#13;
         #rew00669#14 = #rem00065#55;   |PINTA #rew00669#14;
         #rew00669#15 = #rem00065#56;   |PINTA #rew00669#15;
         #rew00669#16 = #rem00065#57;   |PINTA #rew00669#16;
     |FINSI;
|FPRC;

|PROCESO PintaDatosPantalla;
     |SI eaLetra = "1";
         |DDEFECTO #rew00665;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00665#nCampo# = #rem00065#nCampo#;
               |C_V #rew00665#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00665#nCampo#;  |FINSI;

               |C_M #rew00665#nCampo#, 1, "N";
         |SIGUE;

         #rew00665#13 = #rem00065#13;   |PINTA #rew00665#13;
         #rew00665#14 = #rem00065#14;   |PINTA #rew00665#14;
         #rew00665#15 = #rem00065#58;   |PINTA #rew00665#15;
     |FINSI;

     |SI eaLetra = "2";
         |DDEFECTO #rew00666;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00666#nCampo# = #rem00065#nCampo#;
               |C_V #rew00666#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00666#nCampo#;  |FINSI;

               |C_M #rew00666#nCampo#, 1, "N";
         |SIGUE;

         #rew00666#13 = #rem00065#15;   |PINTA #rew00666#13;
         #rew00666#14 = #rem00065#16;   |PINTA #rew00666#14;
         #rew00666#15 = #rem00065#17;   |PINTA #rew00666#15;
         #rew00666#16 = #rem00065#18;   |PINTA #rew00666#16;
         #rew00666#17 = #rem00065#19;   |PINTA #rew00666#17;
         #rew00666#18 = #rem00065#20;   |PINTA #rew00666#18;
         #rew00666#19 = #rem00065#21;   |PINTA #rew00666#19;
         #rew00666#20 = #rem00065#22;   |PINTA #rew00666#20;
         #rew00666#21 = #rem00065#23;   |PINTA #rew00666#21;
         #rew00666#22 = #rem00065#24;   |PINTA #rew00666#22;
         #rew00666#23 = #rem00065#25;   |PINTA #rew00666#23;
     |FINSI;

     |SI eaLetra = "3";
         |DDEFECTO #rew00667;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00667#nCampo# = #rem00065#nCampo#;
               |C_V #rew00667#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00667#nCampo#;  |FINSI;

               |C_M #rew00667#nCampo#, 1, "N";
         |SIGUE;

         #rew00667#13 = #rem00065#26;   |PINTA #rew00667#13;
         #rew00667#14 = #rem00065#27;   |PINTA #rew00667#14;
         #rew00667#15 = #rem00065#28;   |PINTA #rew00667#15;
         #rew00667#16 = #rem00065#29;   |PINTA #rew00667#16;
         #rew00667#17 = #rem00065#30;   |PINTA #rew00667#17;
         #rew00667#18 = #rem00065#31;   |PINTA #rew00667#18;
         #rew00667#19 = #rem00065#32;   |PINTA #rew00667#19;
         #rew00667#20 = #rem00065#33;   |PINTA #rew00667#20;
         #rew00667#21 = #rem00065#34;   |PINTA #rew00667#21;
         #rew00667#22 = #rem00065#35;   |PINTA #rew00667#22;
         #rew00667#23 = #rem00065#36;   |PINTA #rew00667#23;
         #rew00667#24 = #rem00065#37;   |PINTA #rew00667#24;
         #rew00667#25 = #rem00065#38;   |PINTA #rew00667#25;
     |FINSI;

     |SI eaLetra = "4";
         |DDEFECTO #rew00670;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00670#nCampo# = #rem00065#nCampo#;
               |C_V #rew00670#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00670#nCampo#;  |FINSI;

               |C_M #rew00670#nCampo#, 1, "N";
         |SIGUE;

         #rew00670#13 = #rem00065#59;   |PINTA #rew00670#13;
         #rew00670#14 = #rem00065#60;   |PINTA #rew00670#14;
         #rew00670#15 = #rem00065#61;   |PINTA #rew00670#15;
         #rew00670#16 = #rem00065#62;   |PINTA #rew00670#16;
         #rew00670#17 = #rem00065#63;   |PINTA #rew00670#17;
         #rew00670#18 = #rem00065#64;   |PINTA #rew00670#18;
         #rew00670#19 = #rem00065#65;   |PINTA #rew00670#19;
         #rew00670#20 = #rem00065#66;   |PINTA #rew00670#20;
         #rew00670#21 = #rem00065#67;   |PINTA #rew00670#21;
         #rew00670#22 = #rem00065#69;   |PINTA #rew00670#22;
     |FINSI;

     |SI eaLetra = "5";
         |DDEFECTO #rew00668;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00668#nCampo# = #rem00065#nCampo#;
               |C_V #rew00668#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00668#nCampo#;  |FINSI;

               |C_M #rew00668#nCampo#, 1, "N";
         |SIGUE;

         #rew00668#13 = #rem00065#39;   |PINTA #rew00668#13;
         #rew00668#14 = #rem00065#40;   |PINTA #rew00668#14;
         #rew00668#15 = #rem00065#41;   |PINTA #rew00668#15;
         #rew00668#16 = #rem00065#42;   |PINTA #rew00668#16;
         #rew00668#17 = #rem00065#43;   |PINTA #rew00668#17;
         #rew00668#18 = #rem00065#44;   |PINTA #rew00668#18;
         #rew00668#19 = #rem00065#45;   |PINTA #rew00668#19;
         #rew00668#20 = #rem00065#46;   |PINTA #rew00668#20;
         #rew00668#21 = #rem00065#47;   |PINTA #rew00668#21;
         #rew00668#22 = #rem00065#48;   |PINTA #rew00668#22;
         #rew00668#23 = #rem00065#49;   |PINTA #rew00668#23;
         #rew00668#24 = #rem00065#50;   |PINTA #rew00668#24;
         #rew00668#25 = #rem00065#51;   |PINTA #rew00668#25;
         #rew00668#26 = #rem00065#68;   |PINTA #rew00668#26;
     |FINSI;

     |SI eaLetra = "6";
         |DDEFECTO #rew00665;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00665#nCampo# = #rem00065#nCampo#;
               |C_V #rew00665#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00665#nCampo#;  |FINSI;

               |C_M #rew00665#nCampo#, 1, "N";
         |SIGUE;

         |C_V #rew00665#15, 1, "N";

         #rew00665#13 = #rem00065#52;   |PINTA #rew00665#13;
         #rew00665#14 = #rem00065#53;   |PINTA #rew00665#14;
     |FINSI;

     |SI eaLetra = "7";
         |DDEFECTO #rew00669;
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               #rew00669#nCampo# = #rem00065#nCampo#;
               |C_V #rew00669#nCampo#, 0, aAlfa;
               |SI aAlfa = "S";  |PINTA #rew00669#nCampo#;  |FINSI;

               |C_M #rew00669#nCampo#, 1, "N";
         |SIGUE;

         #rew00669#13 = #rem00065#54;   |PINTA #rew00669#13;
         #rew00669#14 = #rem00065#55;   |PINTA #rew00669#14;
         #rew00669#15 = #rem00065#56;   |PINTA #rew00669#15;
         #rew00669#16 = #rem00065#57;   |PINTA #rew00669#16;
     |FINSI;
|FPRC;

|PROCESO DescargaFantasma;
     |SI eaLetra = "1";
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               |SI enSwLiquida = 1;
                   |SI #rem00065#nCampo# = #rew00665#Campo#;
                       enSwRetorno = 1;
                   |FINSI;
               |FINSI;

               #rem00065#nCampo# = #rew00665#nCampo#;
          |SIGUE;

          |SI enSwLiquida = 1;
              |SI #rem00065#13 = #rew00665#13;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#14 = #rew00665#14;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#58 = #rew00665#15;  enSwRetorno = 1;  |FINSI;
          |FINSI;

          #rem00065#13 = #rew00665#13;
          #rem00065#14 = #rew00665#14;
          #rem00065#58 = #rew00665#15;
     |FINSI;

     |SI eaLetra = "2";
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               |SI enSwLiquida = 1;
                   |SI #rem00065#nCampo# = #rew00666#Campo#;
                       enSwRetorno = 1;
                   |FINSI;
               |FINSI;

               #rem00065#nCampo# = #rew00666#nCampo#;
          |SIGUE;

          |SI enSwLiquida = 1;
              |SI #rem00065#15 = #rew00666#13;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#16 = #rew00666#14;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#17 = #rew00666#15;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#18 = #rew00666#16;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#19 = #rew00666#17;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#20 = #rew00666#18;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#21 = #rew00666#19;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#22 = #rew00666#20;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#23 = #rew00666#21;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#24 = #rew00666#22;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#25 = #rew00666#23;  enSwRetorno = 1;  |FINSI;
          |FINSI;

          #rem00065#15 = #rew00666#13;
          #rem00065#16 = #rew00666#14;
          #rem00065#17 = #rew00666#15;
          #rem00065#18 = #rew00666#16;
          #rem00065#19 = #rew00666#17;
          #rem00065#20 = #rew00666#18;
          #rem00065#21 = #rew00666#19;
          #rem00065#22 = #rew00666#20;
          #rem00065#23 = #rew00666#21;
          #rem00065#24 = #rew00666#22;
          #rem00065#25 = #rew00666#23;
     |FINSI;

     |SI eaLetra = "3";
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               |SI enSwLiquida = 1;
                   |SI #rem00065#nCampo# = #rew00667#Campo#;
                       enSwRetorno = 1;
                   |FINSI;
               |FINSI;

               #rem00065#nCampo# = #rew00667#nCampo#;
          |SIGUE;

          |SI enSwLiquida = 1;
              |SI #rem00065#26 = #rew00667#13;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#27 = #rew00667#14;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#28 = #rew00667#15;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#29 = #rew00667#16;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#30 = #rew00667#17;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#31 = #rew00667#18;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#32 = #rew00667#19;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#33 = #rew00667#20;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#34 = #rew00667#21;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#35 = #rew00667#22;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#36 = #rew00667#23;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#37 = #rew00667#24;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#38 = #rew00667#25;  enSwRetorno = 1;  |FINSI;
          |FINSI;

          #rem00065#26 = #rew00667#13;
          #rem00065#27 = #rew00667#14;
          #rem00065#28 = #rew00667#15;
          #rem00065#29 = #rew00667#16;
          #rem00065#30 = #rew00667#17;
          #rem00065#31 = #rew00667#18;
          #rem00065#32 = #rew00667#19;
          #rem00065#33 = #rew00667#20;
          #rem00065#34 = #rew00667#21;
          #rem00065#35 = #rew00667#22;
          #rem00065#36 = #rew00667#23;
          #rem00065#37 = #rew00667#24;
          #rem00065#38 = #rew00667#25;
     |FINSI;

     |SI eaLetra = "4";
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               |SI enSwLiquida = 1;
                   |SI #rem00065#nCampo# = #rew00670#Campo#;
                       enSwRetorno = 1;
                   |FINSI;
               |FINSI;

               #rem00065#nCampo# = #rew00670#nCampo#;
          |SIGUE;

          |SI enSwLiquida = 1;
              |SI #rem00065#59 = #rew00670#13;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#60 = #rew00670#14;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#61 = #rew00670#15;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#62 = #rew00670#16;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#63 = #rew00670#17;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#64 = #rew00670#18;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#65 = #rew00670#19;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#66 = #rew00670#20;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#67 = #rew00670#21;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#69 = #rew00670#22;  enSwRetorno = 1;  |FINSI;
          |FINSI;

          #rem00065#59 = #rew00670#13;
          #rem00065#60 = #rew00670#14;
          #rem00065#61 = #rew00670#15;
          #rem00065#62 = #rew00670#16;
          #rem00065#63 = #rew00670#17;
          #rem00065#64 = #rew00670#18;
          #rem00065#65 = #rew00670#19;
          #rem00065#66 = #rew00670#20;
          #rem00065#67 = #rew00670#21;
          #rem00065#69 = #rew00670#22;
     |FINSI;

     |SI eaLetra = "5";
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               |SI enSwLiquida = 1;
                   |SI #rem00065#nCampo# = #rew00668#Campo#;
                       enSwRetorno = 1;
                   |FINSI;
               |FINSI;

               #rem00065#nCampo# = #rew00668#nCampo#;
          |SIGUE;

          |SI enSwLiquida = 1;
              |SI #rem00065#39 = #rew00668#13;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#40 = #rew00668#14;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#41 = #rew00668#15;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#42 = #rew00668#16;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#43 = #rew00668#17;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#44 = #rew00668#18;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#45 = #rew00668#19;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#46 = #rew00668#20;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#47 = #rew00668#21;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#48 = #rew00668#22;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#49 = #rew00668#23;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#50 = #rew00668#24;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#51 = #rew00668#25;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#68 = #rew00668#26;  enSwRetorno = 1;  |FINSI;
          |FINSI;

          #rem00065#39 = #rew00668#13;
          #rem00065#40 = #rew00668#14;
          #rem00065#41 = #rew00668#15;
          #rem00065#42 = #rew00668#16;
          #rem00065#43 = #rew00668#17;
          #rem00065#44 = #rew00668#18;
          #rem00065#45 = #rew00668#19;
          #rem00065#46 = #rew00668#20;
          #rem00065#47 = #rew00668#21;
          #rem00065#48 = #rew00668#22;
          #rem00065#49 = #rew00668#23;
          #rem00065#50 = #rew00668#24;
          #rem00065#51 = #rew00668#25;
          #rem00065#68 = #rew00668#26;
     |FINSI;

     |SI eaLetra = "6";
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               |SI enSwLiquida = 1;
                   |SI #rem00065#nCampo# = #rew00665#Campo#;
                       enSwRetorno = 1;
                   |FINSI;
               |FINSI;

               #rem00065#nCampo# = #rew00665#nCampo#;
          |SIGUE;

          |SI enSwLiquida = 1;
              |SI #rem00065#52 = #rew00665#13;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#53 = #rew00665#14;  enSwRetorno = 1;  |FINSI;
          |FINSI;

          #rem00065#52 = #rew00665#13;
          #rem00065#53 = #rew00665#14;
     |FINSI;

     |SI eaLetra = "7";
         |PARA nCampo = 0;  |SI nCampo [ 12;  |HACIENDO nCampo = nCampo + 1;
               |SI enSwLiquida = 1;
                   |SI #rem00065#nCampo# = #rew00669#Campo#;
                       enSwRetorno = 1;
                   |FINSI;
               |FINSI;

               #rem00065#nCampo# = #rew00669#nCampo#;
          |SIGUE;

          |SI enSwLiquida = 1;
              |SI #rem00065#54 = #rew00669#13;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#55 = #rew00669#14;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#56 = #rew00669#15;  enSwRetorno = 1;  |FINSI;
              |SI #rem00065#57 = #rew00669#16;  enSwRetorno = 1;  |FINSI;
          |FINSI;

          #rem00065#54 = #rew00669#13;
          #rem00065#55 = #rew00669#14;
          #rem00065#56 = #rew00669#15;
          #rem00065#57 = #rew00669#16;
     |FINSI;

                              #rem00065#70 = "";
     |SI #rem00065#3  = "X";  #rem00065#70 = eaRojo;  |FINSI;

     |HAZ PintaDatosPantalla;
|FPRC;

|PROCESO Alta;
     |ESTADO_CONTROL nBotonAlta,   "DISABLE";
     |ESTADO_CONTROL nBotonModi,   "DISABLE";
     |ESTADO_CONTROL nBotonBaja,   "DISABLE";

     |HAZ QuitaBtnSalir;

     |ESTADO_CONTROL nGrid, "DISABLE";

     |PULSATECLA;

     |SELECT #1#rem00065;
     #rem00065#0 = enEmpresa;
     #rem00065#1 = 99;
     |LEE 000#rem00065.];
     |SI FSalida = 0;
         |LEE 000#rem00065.a;
     |SINO;
         |LEE 000#rem00065.u;
     |FINSI;

     |SI eaLetra = "1";  |O eaLetra = "6";
         |DDEFECTO #rew00665;
         #rew00665#0 = enEmpresa;
         #rew00665#1 = 1;
         |SI FSalida = 0;  |Y  #rem00065#0 = enEmpresa;
             #rew00665#1 = #rem00065#1 + 1;
         |FINSI;

         |DDEFECTO #rem00065;

         #rem00065#0  = #rew00665#0;
         #rem00065#1  = #rew00665#1;
         #rem00065#11 = eaLetra;

         |C_M #rew00665#1, 1, "S";

         enModoReg = 1;
         |HAZ CargaFantasma;

         |ENDATOS #1#rew00665;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00065.n;
             |LIBERA #rem00065;
         |FINSI;
     |FINSI;

     |SI eaLetra = "2";
         |DDEFECTO #rew00666;
         #rew00666#0 = enEmpresa;
         #rew00666#1 = 1;
         |SI FSalida = 0;  |Y  #rem00065#0 = enEmpresa;
             #rew00666#1 = #rem00065#1 + 1;
         |FINSI;

         |DDEFECTO #rem00065;

         #rem00065#0  = #rew00666#0;
         #rem00065#1  = #rew00666#1;
         #rem00065#11 = eaLetra;

         |C_M #rew00666#1, 1, "S";

         enModoReg = 1;
         |HAZ CargaFantasma;

         |ENDATOS #1#rew00666;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00065.n;
             |LIBERA #rem00065;
         |FINSI;
     |FINSI;

     |SI eaLetra = "3";
         |DDEFECTO #rew00667;
         #rew00667#0 = enEmpresa;
         #rew00667#1 = 1;
         |SI FSalida = 0;  |Y  #rem00065#0 = enEmpresa;
             #rew00667#1 = #rem00065#1 + 1;
         |FINSI;

         |DDEFECTO #rem00065;

         #rem00065#0  = #rew00667#0;
         #rem00065#1  = #rew00667#1;
         #rem00065#11 = eaLetra;

         |C_M #rew00667#1, 1, "S";

         enModoReg = 1;
         |HAZ CargaFantasma;

         |ENDATOS #1#rew00667;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00065.n;
             |LIBERA #rem00065;
         |FINSI;
     |FINSI;

     |SI eaLetra = "4";
         |DDEFECTO #rew00670;
         #rew00670#0 = enEmpresa;
         #rew00670#1 = 1;
         |SI FSalida = 0;  |Y  #rem00065#0 = enEmpresa;
             #rew00670#1 = #rem00065#1 + 1;
         |FINSI;

         |DDEFECTO #rem00065;

         #rem00065#0  = #rew00670#0;
         #rem00065#1  = #rew00670#1;
         #rem00065#11 = eaLetra;
         #rem00065#63 = "S";

         |C_M #rew00670#1, 1, "S";

         enModoReg = 1;
         |HAZ CargaFantasma;

         |ENDATOS #1#rew00670;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00065.n;
             |LIBERA #rem00065;
         |FINSI;
     |FINSI;

     |SI eaLetra = "5";
         |DDEFECTO #rew00668;
         #rew00668#0 = enEmpresa;
         #rew00668#1 = 1;
         |SI FSalida = 0;  |Y  #rem00065#0 = enEmpresa;
             #rew00668#1 = #rem00065#1 + 1;
         |FINSI;

         |DDEFECTO #rem00065;

         #rem00065#0  = #rew00668#0;
         #rem00065#1  = #rew00668#1;
         #rem00065#11 = eaLetra;

         |C_M #rew00668#1, 1, "S";

         enModoReg = 1;
         |HAZ CargaFantasma;

         |ENDATOS #1#rew00668;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00065.n;
             |LIBERA #rem00065;
         |FINSI;
     |FINSI;

     |SI eaLetra = "7";
         |DDEFECTO #rew00669;
         #rew00669#0 = enEmpresa;
         #rew00669#1 = 1;
         |SI FSalida = 0;  |Y  #rem00065#0 = enEmpresa;
             #rew00669#1 = #rem00065#1 + 1;
         |FINSI;

         |DDEFECTO #rem00065;

         #rem00065#0  = #rew00669#0;
         #rem00065#1  = #rew00669#1;
         #rem00065#11 = eaLetra;

         |C_M #rew00669#1, 1, "S";

         enModoReg = 1;
         |HAZ CargaFantasma;

         |ENDATOS #1#rew00669;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00065.n;
             |LIBERA #rem00065;
         |FINSI;
     |FINSI;

     |SELECT #2#rem00065;
     |LEE 000#rem00065.=;

     |SI enModo ! 4;
         |ESTADO_CONTROL nBotonAlta, "ENABLE";
     |FINSI;

     |HAZ PonBtnSalir;

     enModoReg = 4;
     |ESTADO_CONTROL nGrid, "ENABLE";
     |REFRESCACONTROL nGrid;

     |FOCOTECLADO nGrid;
|FPRC;


|PROCESO Modificar;
     |SI nEntrar = 0;  |ACABA;  |FINSI;

     |SELECT #1#rem00065;
     |LEE 101#rem00065.=;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |ESTADO_CONTROL nBotonAlta,  "DISABLE";
     |ESTADO_CONTROL nBotonModi,  "DISABLE";
     |ESTADO_CONTROL nBotonBaja,  "DISABLE";

     |HAZ QuitaBtnSalir;

     |ESTADO_CONTROL nGrid, "DISABLE";

     |SI eaLetra = "1";  |O eaLetra = "6";
         enModoReg = 2;
         |C_M #rew00665#1, 1, "N";

         |HAZ CargaFantasma;
         |ENDATOS #2#rew00665;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00065.a;
         |FINSI;
         |LIBERA #rem00065;
     |FINSI;

     |SI eaLetra = "2";
         enModoReg = 2;
         |C_M #rew00666#1, 1, "N";

         |HAZ CargaFantasma;
         |ENDATOS #2#rew00666;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00065.a;
         |FINSI;
         |LIBERA #rem00065;
     |FINSI;

     |SI eaLetra = "3";
         enModoReg = 2;
         |C_M #rew00667#1, 1, "N";

         |HAZ CargaFantasma;
         |ENDATOS #2#rew00667;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00065.a;
         |FINSI;
         |LIBERA #rem00065;
     |FINSI;

     |SI eaLetra = "4";
         enModoReg = 2;
         |C_M #rew00670#1, 1, "N";

         |HAZ CargaFantasma;
         |ENDATOS #2#rew00670;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00065.a;
         |FINSI;
         |LIBERA #rem00065;
     |FINSI;

     |SI eaLetra = "5";
         enModoReg = 2;
         |C_M #rew00668#1, 1, "N";

         |HAZ CargaFantasma;
         |ENDATOS #2#rew00668;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00065.a;
         |FINSI;
         |LIBERA #rem00065;
     |FINSI;

     |SI eaLetra = "7";
         enModoReg = 2;
         |C_M #rew00669#1, 1, "N";

         |HAZ CargaFantasma;
         |ENDATOS #2#rew00669;
         |SI FSalida = 0;
             |HAZ DescargaFantasma;

             |GRABA 020#rem00065.a;
         |FINSI;
         |LIBERA #rem00065;
     |FINSI;

     |SELECT #2#rem00065;
     |LEE 000#rem00065.=;

     |ESTADO_CONTROL nBotonAlta, "ENABLE";
     |ESTADO_CONTROL nBotonModi, "ENABLE";
     |ESTADO_CONTROL nBotonBaja, "ENABLE";

     |HAZ PonBtnSalir;

     enModoReg = 4;
     |ESTADO_CONTROL nGrid, "ENABLE";
     |REFRESCACONTROL nGrid;
     |FOCOTECLADO nGrid;
|FPRC;

|PROCESO Baja;
     |SI nEntrar = 0;  |ACABA;  |FINSI;

     |CONFI "0000 Confirma la baja del registro seleccionado";
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |SELECT #1#rem00065;
     |LEE 101#rem00065.=;
     |SI FSalida ! 0;  |ACABA;  |FINSI;

     |BORRA 020#rem00065.a;
     |LIBERA #rem00065;

     nEntrar     = 0;
     enSwRetorno = 1;

     |ESTADO_CONTROL nBotonModi,  "DISABLE";
     |ESTADO_CONTROL nBotonBaja,  "DISABLE";

     |SELECT #2#rem00065;
     |LEE 000#rem00065.];

     |REFRESCACONTROL nGrid;
     |FOCOTECLADO nGrid;
|FPRC;

|PROCESO Evento20;
     |SI enModoReg ! 4;  |ACABA;  |FINSI;

     |SI FSalida = 1;  |O FSalida = 2;
         |LEE 000#rem00065.=;

         |SI enModo = 4;
             |ESTADO_CONTROL nBotonAlta, "DISABLE";
             |ESTADO_CONTROL nBotonModi, "DISABLE";
             |ESTADO_CONTROL nBotonBaja, "DISABLE";
         |SINO;
             |ESTADO_CONTROL nBotonModi, "ENABLE";
             |ESTADO_CONTROL nBotonBaja, "ENABLE";
         |FINSI;

         |PULSATECLA;

         nEntrar   = 1;
         enModoReg = 4;
         |HAZ PintaDatosPantalla;
     |FINSI;

     |SI FSalida = 4;
         |SI enModo = 4;  |ACABA;  |FINSI;

         |HAZ Modificar;
     |FINSI;
|FPRC;

|PROCESO BotonesPanta;
     |SI eaLetra = "1";
         |CONTROL_SIMPLE nPanta, "LABEL,{{15}}DEDUCCION POR MATERNIDAD", 0502, 0599, NULL;
         |CONTROL_SIMPLE nPanta, "LABEL,{{11}}Incremento por gasto de guarder¡a o cetro de educaci¢n infantil autorizado", 2203, 2265, NULL;
     |FINSI;

     |SI eaLetra = "6";
         |CONTROL_SIMPLE nPanta, "LABEL,{{15}}POR ASCENDIENTE, SEPARADO, O SIN VINCULO MATRIMONIAL, CON DOS HIJOS", 0502, 0599, NULL;
     |FINSI;

     |CONTROL_SIMPLE nPanta, "BOTON,{{193}}&Alta ", 1664, 1674, Alta;
     nBotonAlta = FSalida;

     |CONTROL_SIMPLE nPanta, "BOTON,{{197}}&Modificar ", 1676, 1686, Modificar;
     nBotonModi = FSalida;

     |CONTROL_SIMPLE nPanta, "BOTON,{{199}}&Borrar", 1688, 1698, Baja;
     nBotonBaja = FSalida;

     |CONTROL_SIMPLE nPanta, "BOTON,{{197}} &Y", 1738, 1742, BotonCntr;
     nBotonCntr = FSalida;

     nEntrar = 0;

     |ESTADO_CONTROL nBotonModi,   "DISABLE";
     |ESTADO_CONTROL nBotonBaja,   "DISABLE";

     |SI enModo = 4;
         |ESTADO_CONTROL nBotonAlta, "DISABLE";
     |FINSI;
|FPRC;

|PROCESO Baja20;
     #rem00065#0  = enEmpresa;
     #rem00065#11 = eaLetra;
     #rem00065#1  = 1;
|FPRC;

|PROCESO Alta20;
     #rem00065#0  = enEmpresa;
     #rem00065#11 = eaLetra;
     #rem00065#1  = 99;
|FPRC;

|PROGRAMA;
     |HAZ CargaColores;

     |ABRE #rem00100;
     #rem00100#0 = enEmpresa;
     |LEE 000#rem00100.=;
     |SI FSalida ! 0;  |DDEFECTO #rem00100;  |FINSI;
     |CIERRA #rem00100;

     |SI eaLetra = "4";
         |SI #rem00100#6 ! "C";
             |MENAV "0000No procede la deducci¢n, el contribuyente no est  casado.";
             |ACABA;
         |FINSI;

         |SI #rem00100#8 < 33;  |Y #rem00100#41 < 33;
             |MENAV "0000No procede la deducci¢n, los c¢nyuges no tienen minusval¡a.";
             |ACABA;
         |FINSI;
     |FINSI;

     enSwRetorno = 0;
     aQueQuiero  = "|NC";
     aNumCampos  = #rem00065#aQueQuiero#;
     nNumCampos  = aNumCampos;
     nNumCampos  = nNumCampos - 1;
     nRango      = 4 + 8 + 16 + 32 + 128;
     enModoReg   = 4;

     |SI eaLetra = "1";  |PINPA #0#rew00665;  |FINSI;
     |SI eaLetra = "2";  |PINPA #0#rew00666;  |FINSI;
     |SI eaLetra = "3";  |PINPA #0#rew00667;  |FINSI;
     |SI eaLetra = "4";  |PINPA #0#rew00670;  |FINSI;
     |SI eaLetra = "5";  |PINPA #0#rew00668;  |FINSI;
     |SI eaLetra = "6";  |PINPA #0#rew00665;  |FINSI;
     |SI eaLetra = "7";  |PINPA #0#rew00669;  |FINSI;

     nPanta = FSalida;

     |HAZ BotonesPanta;

     |DDEFECTO #rem00065;
     |HAZ PintaDatosPantalla;

     |ABRET #rem00065;

     |LINEAL_SIMPLE #2#rem00065, nRango, 0602, 1598, Baja20, Alta20, Evento20;
     nGrid = FSalida;

     |CONTROL_SIMPLE 0, "BOTON,{{001}}sa&Lir", 3488, 3498, Ptec806;
     enBtnSalir = FSalida;

     aEsc1  = &255 + "806";
     aEsc2  = &255 + "807";
     aRetu  = &255 + "802";
     |PARA; |SI;  |HACIENDO;
          FSalida = "::," + nGrid;
          |LEETECLA aTecla;
          |SI aTecla = aEsc1; |SAL;  |FINSI;
          |SI aTecla = aEsc2; |SAL;  |FINSI;

          |SI aTecla = aRetu;
              |HAZ Modificar;
          |FINSI;
     |SIGUE;

     |CIERRAT #rem00065;

     eaPrograma   = "rem00065";
     eaPunto      = eaLetra;
     |HAZ ProgramaActivo;
|FPRO;
