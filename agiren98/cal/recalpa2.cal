|FICHEROS;
    retransp #0;
    rem00010 #1;
    rem00011 #2;
    rem00012 #3;
    rem00013 #4;
    reincide #5;
    retotren #6;
    redatcon #7;
    repagret #55;
    retotrea #11;
|FIN;

|INCLUYE i_varcal;

|| **************************************************************************
||                   PROCESO DE LECTURA DE LOS DISTINTOS FICHEROS
|| **************************************************************************

|PROCESO fich_02_0;           || Trata Transparencia Fiscal
alfa1     = "TRANSPARENCIA FISCAL --------------------------------------------";
tipod     = #0#2;
tipore    = #0#4;
descri    = #0#13;
linea     = #0#1;
rendi     = #0#22;
perceptor = #0#3;
numero1   = #0#7;
numero2   = #0#8;
numero3   = #0#9;
numero4   = #0#10;
numero5   = #0#11;
numero6   = #0#12;
sw_fich   = 0;
empreac   = #0#0;
periodo   = #0#23;

|SI #0#4 = "X"; |O #0#4 = "P"; |O #0#4 = "R";
    |HAZ incide_02;
|FINSI;

|SI #0#4 = "A"; |O #0#4 = "R";
    |SI #0#5 ! "N"; |HAZ tipode_02; |FINSI;
|FINSI;
|FPRC;

|PROCESO fich_02_1;            || Trata Profesional Directa
alfa1     = "ACTIVIDADES PROFESIONALES MODALIDAD NORMAL ----------------------";
tipod     = #1#2;
tipore    = #1#4;
descri    = #1#14;
linea     = #1#1;
rendi     = #1#34;
perceptor = #1#3;
numero1   = #1#5;
numero2   = #1#6;
numero3   = #1#7;
numero4   = #1#8;
numero5   = #1#9;
numero6   = #1#10;
sw_fich   = 1;
empreac   = #1#0;
tipoprop  = "P";
cantidad1 = 0;
periodo   = #1#11;

|SI #1#4 = "X"; |O #1#4 = "P"; |O #1#4 = "R";
    |HAZ incide_02;
|FINSI;

|SI #1#4 = "A"; |O #1#4 = "R";
    |HAZ tipode_02;
|FINSI;
|FPRC;

|PROCESO fich_02_2;       || Trata  Profesional Coeficientes
alfa1     = "ACTIVIDADES PROFESIONALES MODALIDAD SIMPLIFICADA ----------------";
tipod     = #2#2;
tipore    = #2#4;
descri    = #2#14;
linea     = #2#1;
rendi     = #2#37;
perceptor = #2#3;
numero1   = #2#5;
numero2   = #2#6;
numero3   = #2#7;
numero4   = #2#8;
numero5   = #2#9;
numero6   = #2#10;
sw_fich   = 2;
empreac   = #2#0;
tipoprop  = "P";
cantidad1 = 0;
periodo   = #2#11;

|SI #2#4 = "X"; |O #2#4 = "P"; |O #2#4 = "R";
    |HAZ incide_02;
|FINSI;

|SI #2#4 = "A"; |O #2#4 = "R";
    |HAZ tipode_02;
|FINSI;
|FPRC;

|PROCESO fich_02_3;            || Trata Empresarial Directa
alfa1     = "ACTIVIDADES EMPRESARIALES MODALIDAD NORMAL ----------------------";
tipod     = #3#2;
tipore    = #3#4;
descri    = #3#14;
linea     = #3#1;
rendi     = #3#45;
perceptor = #3#3;
numero1   = #3#5;
numero2   = #3#6;
numero3   = #3#7;
numero4   = #3#8;
numero5   = #3#9;
numero6   = #3#10;
sw_fich   = 3;
empreac   = #3#0;
tipoprop  = "P";
cantidad1 = 0;
periodo   = #3#11;

|SI #3#4 = "X"; |O #3#4 = "P"; |O #3#4 = "R";
    |HAZ incide_02;
|FINSI;

|SI #3#4 = "A"; |O #3#4 = "R";
    |HAZ tipode_02;
|FINSI;
|FPRC;

|PROCESO fich_02_4;         || Trata Empresarial Coeficientes
alfa1     = "ACTIVIDADES EMPRESARIALES MODALIDAD SIMPLIFICADA ----------------";
tipod     = #4#2;
tipore    = #4#4;
descri    = #4#14;
linea     = #4#1;
rendi     = #4#46;
perceptor = #4#3;
numero1   = #4#5;
numero2   = #4#6;
numero3   = #4#7;
numero4   = #4#8;
numero5   = #4#9;
numero6   = #4#10;
sw_fich   = 4;
empreac   = #4#0;
tipoprop  = "P";
cantidad1 = 0;
periodo   = #4#11;

|SI #4#4 = "X"; |O #4#4 = "P"; |O #4#4 = "R";
    |HAZ incide_02;
|FINSI;

|SI #4#4 = "A"; |O #4#4 = "R";
    |HAZ tipode_02;
|FINSI;
|FPRC;

|PROCESO fich_02_55;            || Trata Pagos a Cuentas y Retenciones
alfa1     = "PAGOS FRACCIONADOS Y RETENCIONES --------------------------------";
tipod     = #55#2;
linea     = #55#1;
perceptor = #55#3;
sw_fich   = 55;
empreac   = #55#0;
periodo   = #55#4;
|HAZ tipode_02;
|FPRC;

|| **************************************************************************
                        TRATAMIENTO DE LA LIQUIDACION
|| **************************************************************************

|PROCESO tipode_02;
  coefi11 = 1;
  funeral = 0;
  |SI tipod = "G";  |Y tippar = 1;   || Si es Ganancial  Y MATRIMONIO;
      |SI periodo = 0;
          coefi1= 50*parte1; coefi11 = .5; zz = 25; tipod="T"; |HAZ leeliq_02;
          coefi1= 50*parte1; coefi11 = .5; zz = 25; tipod="C"; |HAZ leeliq_02;
          coefi1=100*parte2; coefi11 =  1; zz=  50;  tipod="A"; |HAZ leeliq_02;
      |SINO;
          |SI periodo = 1;
              coefi1 = 50; coefi11 = .5; zz = 50; tipod  = "T"; |HAZ leeliq_02;
              coefi1 = 50; coefi11 = .5; zz = 50; tipod  = "C"; |HAZ leeliq_02;
          |SINO;
              coefi1 = 100; coefi11 = 1; zz =100; tipod  = "A"; |HAZ leeliq_02;
          |FINSI;
      |FINSI;
      |ACABA;
  |FINSI;

  |SI tipod = "G";  |Y tippar = 3;   || Si es Ganancial  Y SEPARACION;
      |SI periodo = 0;
          coefi1= 50*parte2; coefi11 = .5; zz = 25; tipod="T"; |HAZ leeliq_02;
          coefi1= 50*parte2; coefi11 = .5; zz = 25; tipod="C"; |HAZ leeliq_02;
          coefi1=100*parte1; coefi11 =  1; zz = 50; tipod="A"; |HAZ leeliq_02;
      |SINO;
          |SI periodo = 1;
              zz = 100;
              coefi1 = 100; coefi11 = 1; tipod  = "A"; |HAZ leeliq_02;
          |SINO;
              zz = 50;
              coefi1 =  50; coefi11 = .5;  tipod  = "T"; |HAZ leeliq_02;
              coefi1 =  50; coefi11 = .5;  tipod  = "C"; |HAZ leeliq_02;
          |FINSI;
      |FINSI;
      |ACABA;
  |FINSI;


  || Si es Ganancial, conjunta y SE MUERE EL;

  |SI tipod = "G";  |Y tippar = 2; |Y muerto = "T";  |Y obitus = 1;
      |SI periodo = 0;
          coefi1= 100*parte2; coefi11 = 1; zz = 50; tipod="C"; |HAZ leeliq_02;
          coefi1= 100*parte1; coefi11 = 1; zz = 50; tipod="A"; |HAZ leeliq_02;
      |SINO;
          |SI periodo = 1;
              zz = 100;
              coefi1 = 100; coefi11 = 1; tipod  = "A"; |HAZ leeliq_02;
          |SINO;
              zz = 100;
              coefi1 = 100; coefi11 = 1; tipod  = "C"; |HAZ leeliq_02;
          |FINSI;
      |FINSI;
      |ACABA;
  |FINSI;


  || Si es Ganancial, conjunta y SE MUERE ELLA;

  |SI tipod = "G";  |Y tippar = 2; |Y muerto = "C";  |Y obitus = 1;
      |SI periodo = 0;
          coefi1= 100*parte2; coefi11 = 1; zz = 50; tipod="T"; |HAZ leeliq_02;
          coefi1= 100*parte1; coefi11 = 1; zz = 50; tipod="A"; |HAZ leeliq_02;
      |SINO;
          |SI periodo = 1;
              zz = 100;
              coefi1 = 100; coefi11 = 1; tipod  = "A"; |HAZ leeliq_02;
          |SINO;
              zz = 100;
              coefi1 = 100; coefi11 = 1; tipod  = "T"; |HAZ leeliq_02;
          |FINSI;
      |FINSI;
      |ACABA;
  |FINSI;


  ||Si es Ganancial, individual Y SE MUERE EL;

  |SI tipod = "G";  |Y tippar = 2; |Y muerto = "T"; |Y obitus = 2;
      |SI periodo = 0;
          funeral = 1;
          coefi1=  50 * parte1; coefi11=.5; zz=  50; tipod = "T"; |HAZ leeliq_02;
          coefi1= 100 - coefi1; coefi11= 1; zz=  50; tipod = "C"; |HAZ leeliq_02;
      |SINO;
          |SI periodo = 1;
              coefi1  = 50;
              coefi11 = .5;
              zz = 50;
              tipod  = "T"; |HAZ leeliq_02;
              tipod  = "C"; |HAZ leeliq_02;
          |SINO;
              zz = 100; coefi11 = 1; coefi1 = 100; tipod  = "C"; |HAZ leeliq_02;
          |FINSI;
      |FINSI;
      |ACABA;
  |FINSI;

  ||Si es Ganancial, individual Y SE MUERE ELLA;

 |SI tipod = "G"; |Y tippar = 2; |Y muerto = "C"; |Y obitus = 2;
      |SI periodo = 0;
          funeral = 1;
          coefi1=  50 * parte1;  coefi11=.5; zz= 50; tipod = "C"; |HAZ leeliq_02;
          coefi1 = 100 - coefi1; coefi11= 1; zz= 50; tipod = "T"; |HAZ leeliq_02;
      |SINO;
          |SI periodo = 1;
              coefi11 = .5;
              coefi1 = 50;
              zz = 50;
              tipod  = "T"; |HAZ leeliq_02;
              tipod  = "C"; |HAZ leeliq_02;
          |SINO;
              zz = 100; coefi11 = 1; coefi1 = 100;  tipod  = "T"; |HAZ leeliq_02;
          |FINSI;
      |FINSI;
      |ACABA;
  |FINSI;

  |SI tipod ! "V";  |Y tippar = 1;      ||SI ES TITULAR O CONYUGE Y SE CASAN;
      |SI periodo = 0;
          coefi11 = 1;
          zz = 100;
          coefi1 =  100 * parte1;                |HAZ leeliq_02;
          coefi1 =  100 * parte2;  tipod = "A";  |HAZ leeliq_02;
      |SINO;
          |SI periodo = 1;
              coefi11 = 1;
              zz = 100;
              coefi1 = 100; |HAZ leeliq_02;
          |SINO;
              coefi11 = 1;
              zz = 100;
              coefi1 = 100;  tipod = "A";  |HAZ leeliq_02;
          |FINSI;
      |FINSI;
      |ACABA;
  |FINSI;

  |SI tipod ! "V";  |Y tippar = 3;      ||SI TITULAR O CONYUGE Y SE SEPARAN;
      |SI periodo = 0;
          coefi11 = 1;
          zz = 100;
          coefi1 =  100 * parte2;                |HAZ leeliq_02;
          coefi1 =  100 * parte1;  tipod = "A";  |HAZ leeliq_02;
      |SINO;
          |SI periodo = 1;
              coefi11 = 1;
              zz = 100;
              coefi1 = 100;  tipod = "A";  |HAZ leeliq_02;
          |SINO;
              coefi11 = 1;
              zz = 100;
              coefi1 = 100;                |HAZ leeliq_02;
          |FINSI;
      |FINSI;
      |ACABA;
  |FINSI;


  ||SI TITULAR O CONYUGE, conjunta Y SE MUERE UNO;
  |SI tipod ! "V";  |Y tippar = 2; |Y obitus = 1;
      |SI periodo = 0;
          coefi11 = 1;
          zz = 100;
          |SI muerto = "T"; |Y tipod = "T";
              coefi1 = 100;  tipod = "A";  |HAZ leeliq_02;
          |SINO;
              |SI muerto = "C";  |Y tipod = "C";
                  coefi1 = 100;  tipod = "A";  |HAZ leeliq_02;
              |SINO;
                  coefi1 =  100 * parte2;                |HAZ leeliq_02;
                  coefi1 =  100 * parte1;  tipod = "A";  |HAZ leeliq_02;
              |FINSI;
          |FINSI;
      |SINO;
          |SI periodo = 1;
              coefi11 = 1;
              zz = 100;
              coefi1 = 100;  tipod = "A";  |HAZ leeliq_02;
          |SINO;
              coefi11 = 1;
              zz = 100;
              coefi1 = 100;                |HAZ leeliq_02;
          |FINSI;
      |FINSI;
      |ACABA;
  |FINSI;

||SI TITULAR O CONYUGE, individual  Y SE MUERE UNO;

  |SI tipod ! "V"; |Y tippar = 2; |Y obitus = 2;
       coefi11 = 1;
       zz = 100;
       coefi1 = 100; |HAZ leeliq_02;
      |ACABA;
  |FINSI;

  |SI tippar = 1;          ||VARIOS Y SE CASAN;
      |SI periodo = 0;
          |SI numero1 ! 0;
              zz = numero1;
              coefi11 = numero1 / 100;
              coefi1 =  numero1 * parte1;
              tipod = "T";
              |HAZ leeliq_02;
          |FINSI;
          |SI numero2 ! 0;
              zz = numero2;
              coefi11 = numero2 / 100;
              coefi1 =  numero2 * parte1;
              tipod = "C";
              |HAZ leeliq_02;
          |FINSI;
          zz = numero1 + numero2;
          coefi1 = ( numero1 + numero2 ) * parte2;
          coefi11 = ( numero1 + numero2 ) / 100;
          tipod = "A"; |HAZ leeliq_02;
      |SINO;
          |SI periodo = 1;
             |SI numero1 ! 0;
                 zz = numero1;
                 coefi11 = numero1 / 100;
                 coefi1 = numero1;
                 tipod = "T";
                 |HAZ leeliq_02;
             |FINSI;
             |SI numero2 ! 0;
                 zz = numero2;
                 coefi11 = numero2 / 100;
                 coefi1 = numero2;
                 tipod = "C";
                 |HAZ leeliq_02;
             |FINSI;
          |SINO;
             zz = numero1 + numero2;
             coefi1 = numero1 + numero2;
             coefi11 = (numero1 + numero2) / 100;
             tipod = "A"; |HAZ leeliq_02;
          |FINSI;
      |FINSI;
      |ACABA;
  |FINSI;

  |SI tippar = 3;          ||VARIOS Y SE SEPARAN;
      |SI periodo = 0;
          |SI numero1 ! 0;
              zz = numero1;
              coefi11 = numero1 / 100;
              coefi1 =  numero1 * parte2;
              tipod = "T";
              |HAZ leeliq_02;
          |FINSI;
          |SI numero2 ! 0;
              zz = numero2;
              coefi11 = numero2 / 100;
              coefi1 =  numero2 * parte2;
              tipod = "C";
              |HAZ leeliq_02;
          |FINSI;
          zz = numero1 + numero2;
          coefi1 = ( numero1 + numero2 ) * parte1;
          coefi11 = ( numero1 + numero2 ) / 100;
          tipod = "A"; |HAZ leeliq_02;
      |SINO;
          |SI periodo = 1;
              zz = numero1 + numero2;
              coefi1 = numero1 + numero2;
              coefi11 = (numero1 + numero2) / 100;
              tipod = "A"; |HAZ leeliq_02;
          |SINO;
              |SI numero1 ! 0;
                  zz = numero1;
                  coefi1 = numero1;
                  coefi11 = numero1 / 100;
                  tipod = "T";
                  |HAZ leeliq_02;
              |FINSI;
              |SI numero2 ! 0;
                  zz = numero2;
                  coefi1 = numero2;
                  coefi11 = numero2 / 100;
                  tipod = "C";
                  |HAZ leeliq_02;
              |FINSI;
          |FINSI;
      |FINSI;
      |ACABA;
  |FINSI;


  |SI tippar = 2;  |Y obitus = 1;     ||VARIOS, conjunta Y SE MUERE;
      |SI periodo = 0;
          |SI numero1 ! 0;
              zz = numero1;
              coefi11 = numero1 / 100;
              coefi1 =  numero1 * parte2;
              tipod = "T";
              |HAZ leeliq_02;
          |FINSI;
          |SI numero2 ! 0;
              zz = numero2;
              coefi11 = numero2 / 100;
              coefi1 =  numero2 * parte2;
              tipod = "C";
              |HAZ leeliq_02;
          |FINSI;
          zz = numero1 + numero2;
          coefi1 = ( numero1 + numero2 ) * parte1;
          coefi11 = ( numero1 + numero2 ) / 100;
          tipod = "A"; |HAZ leeliq_02;
      |SINO;
          |SI periodo = 1;
              zz = numero1 + numero2;
              coefi1 = numero1 + numero2;
              coefi11 = (numero1 + numero2) / 100;
              tipod = "A"; |HAZ leeliq_02;
          |SINO;
              |SI numero1 ! 0;
                  zz = numero1;
                  coefi1 = numero1;
                  coefi11 = numero1 / 100;
                  tipod = "T";
                  |HAZ leeliq_02;
              |FINSI;
              |SI numero2 ! 0;
                  zz = numero2;
                  coefi1 = numero2;
                  coefi11 = numero2 / 100;
                  tipod = "C";
                  |HAZ leeliq_02;
              |FINSI;
          |FINSI;
      |FINSI;
      |ACABA;
  |FINSI;

  |SI tippar = 2;  |Y obitus = 2;     ||VARIOS, individual Y SE MUERE ALGUIEN;
      |SI numero1 ! 0;
          zz = numero1;
          coefi1 =  numero1;
          coefi11 =  numero1 / 100;
          tipod = "T";
          |HAZ leeliq_02;
      |FINSI;
      |SI numero2 ! 0;
          zz = numero2;
          coefi1 =  numero2;
          coefi11 =  numero2 / 100;
          tipod = "C";
          |HAZ leeliq_02;
      |FINSI;
  |FINSI;
|FPRC;

|PROCESO leeliq_02;                 || Lee la Liquidacion
#6#0 = empreac;
#6#141 = tipod;
|LIBERA #6; |LEE 110#6=;
FEstado = FSalida;
|SI FSalida ! 0;
   |DDEFECTO #6;
   #6#000 = empreac;
   #6#141 = tipod;
|FINSI;

|SI tipod = "V"; coefi2 = 100; |SINO; coefi2 = coefi1; |FINSI;

|SI sw_fich = 0;  |HAZ grabafi_02_0; |FINSI;
|SI sw_fich = 1;  |HAZ grabafi_02_1; |FINSI;
|SI sw_fich = 2;  |HAZ grabafi_02_2; |FINSI;
|SI sw_fich = 3;  |HAZ grabafi_02_3; |FINSI;
|SI sw_fich = 4;  |HAZ grabafi_02_4; |FINSI;
|SI sw_fich = 55; |HAZ grabafi_02_55; |FINSI;

#6#213 = obitus;
|SI FEstado = 0; |GRABA 021#6a; |SINO; |GRABA 021#6n; |FINSI;

|SI agricola = 1; |Y sw_fich = 4;
    |ABRE #11;
    #11#0 = empreac;
    #11#1 = tipod;
    |LIBERA #11; |LEE 110#11=;
    FEstado = FSalida;
    |SI FSalida ! 0;
        |DDEFECTO #11;
        #11#000 = empreac;
        #11#001 = tipod;
    |FINSI;
    #11#201 = 1;
    |SI FEstado = 0; |GRABA 021#11a; |SINO; |GRABA 021#11n; |FINSI;
    |CIERRA #11;
|FINSI;
|FPRC;

|PROCESO grabafi_02_0;
  |SI #0#14 = "***         ";
      #6#70 = #6#70 + (#0#18 % coefi1);
      |ACABA;
  |FINSI;

  pepe   = #0#16 % coefi1;  || Cambiado por Manolo
  #6#23 = #6#23 + pepe;
  #6#134 = #6#134 +  (#0#21 % coefi1);

  |SI #0#24 ! "N";  #6#161 = #6#161 + (#0#17 % coefi1);        |FINSI;
  |SI #0#24  = "1"; #6#105 = #6#105 + ((#0#17 % coefi1) % 40); |FINSI;
  |SI #0#24  = "2"; #6#105 = #6#105 + ((#0#17 % coefi1) % 25); |FINSI;
  |SI #0#24  = "3"; #6#105 = #6#105 + ((#0#17 % coefi1) % 25); |FINSI;
  |SI #0#24  = "A"; #6#105 = #6#105 + ((#0#17 % coefi1) % 5);  |FINSI;
  |SI #0#24  = "C"; #6#105 = #6#105 + ((#0#17 % coefi1) % 10); |FINSI;
  |SI #0#24  = "4"; #6#105 = #6#105 + ((#0#17 % coefi1) % 40); |FINSI;
  |SI #0#24  = "5"; #6#105 = #6#105 + ((#0#17 % coefi1) % 25); |FINSI;
  |SI #0#24  = "6"; #6#105 = #6#105 + ((#0#17 % coefi1) % 25); |FINSI;
  |SI #0#24  = "B"; #6#105 = #6#105 + ((#0#17 % coefi1) % 5);  |FINSI;
  |SI #0#24  = "D"; #6#105 = #6#105 + ((#0#17 % coefi1) % 10); |FINSI;

  |SI #0#24 ! "N";  #6#161 = #6#161 + (#0#18 % coefi1);        |FINSI;
  |SI #0#25  = "1"; #6#105 = #6#105 + ((#0#18 % coefi1) % 40); |FINSI;
  |SI #0#25  = "2"; #6#105 = #6#105 + ((#0#18 % coefi1) % 25); |FINSI;
  |SI #0#25  = "3"; #6#105 = #6#105 + ((#0#18 % coefi1) % 25); |FINSI;
  |SI #0#25  = "A"; #6#105 = #6#105 + ((#0#18 % coefi1) % 5);  |FINSI;
  |SI #0#25  = "C"; #6#105 = #6#105 + ((#0#18 % coefi1) % 10); |FINSI;
  |SI #0#25  = "4"; #6#105 = #6#105 + ((#0#18 % coefi1) % 40); |FINSI;
  |SI #0#25  = "5"; #6#105 = #6#105 + ((#0#18 % coefi1) % 25); |FINSI;
  |SI #0#25  = "6"; #6#105 = #6#105 + ((#0#18 % coefi1) % 25); |FINSI;
  |SI #0#25  = "B"; #6#105 = #6#105 + ((#0#18 % coefi1) % 5);  |FINSI;
  |SI #0#25  = "D"; #6#105 = #6#105 + ((#0#18 % coefi1) % 10); |FINSI;

  |SI #6#141 = "T";
      #6#204 = #6#204 + (#0#16 % coefi1);
  |FINSI;

  |SI #6#141 = "C";
      #6#210 = #6#210 + (#0#16 % coefi1);
  |FINSI;

  |SI #6#141 = "A"; |Y #0#2 = "G";
      #6#204 = #6#204 + ((#0#16 % coefi1) / 2);
      #6#210 = #6#210 + ((#0#16 % coefi1) / 2);
  |FINSI;

  |SI #6#141 = "A"; |Y #0#2 = "T";
      #6#204 = #6#204 + (#0#16 % coefi1);
  |FINSI;

  |SI #6#141 = "A"; |Y #0#2 = "C";
      #6#210 = #6#210 + (#0#16 % coefi1);
  |FINSI;

  |SI #6#141 = "A"; |Y #0#2 = "V";
      #6#204 = #6#204 + (#0#16 % numero1);
      #6#210 = #6#210 + (#0#16 % numero2);
  |FINSI;
|FPRC;

|PROCESO grabafi_02_1;
  #6#14 = #6#14 + (#1#19 % coefi1);
  #6#15 = #6#15 + (#1#34 % coefi1);
  |SI #6#141 = "T";
      #6#204 = #6#204 + (#1#34 % coefi1);
  |FINSI;
  |SI #6#141 = "C";
      #6#210 = #6#210 + (#1#34 % coefi1);
  |FINSI;
  |SI #6#141 = "A"; |Y #1#2 = "G";
      #6#204 = #6#204 + ((#1#34 % coefi1) / 2);
      #6#210 = #6#210 + ((#1#34 % coefi1) / 2);
  |FINSI;
  |SI #6#141 = "A"; |Y #1#2 = "T";
      #6#204 = #6#204 + (#1#34 % coefi1);
  |FINSI;
  |SI #6#141 = "A"; |Y #1#2 = "C";
      #6#210 = #6#210 + (#1#34 % coefi1);
  |FINSI;
  |SI #6#141 = "A"; |Y #1#2 = "V";
      #6#204 = #6#204 + (#1#34 % numero1);
      #6#210 = #6#210 + (#1#34 % numero2);
  |FINSI;
  #6#64 = #6#64 + ( #1#33 % coefi1);
|FPRC;

|PROCESO grabafi_02_2;
  #6#16 = #6#16 + (#2#19 % coefi1);
  #6#17 = #6#17 + (#2#37 % coefi1);
  |SI #6#141 = "T";
      #6#204 = #6#204 + (#2#37 % coefi1);
  |FINSI;
  |SI #6#141 = "C";
      #6#210 = #6#210 + (#2#37 % coefi1);
  |FINSI;
  |SI #6#141 = "A"; |Y #2#2 = "G";
      #6#204 = #6#204 + ((#2#37 % coefi1) / 2);
      #6#210 = #6#210 + ((#2#37 % coefi1) / 2);
  |FINSI;
  |SI #6#141 = "A"; |Y #2#2 = "T";
      #6#204 = #6#204 + (#2#37 % coefi1);
  |FINSI;
  |SI #6#141 = "A"; |Y #2#2 = "C";
      #6#210 = #6#210 + (#2#37 % coefi1);
  |FINSI;
  |SI #6#141 = "A"; |Y #2#2 = "V";
      #6#204 = #6#204 + (#2#37 % numero1);
      #6#210 = #6#210 + (#2#37 % numero2);
  |FINSI;
  #6#64 = #6#64 + (#2#36 % coefi1);
|FPRC;

|PROCESO grabafi_02_3;
  #6#18 = #6#18 + (#3#23 % coefi1);
  #6#19 = #6#19 + (#3#45 % coefi1);
  |SI #6#141 = "T";
      #6#203 = #6#203 + (#3#45 % coefi1);
  |FINSI;
  |SI #6#141 = "C";
      #6#209 = #6#209 + (#3#45 % coefi1);
  |FINSI;
  |SI #6#141 = "A"; |Y #3#2 = "G";
      #6#203 = #6#203 + ((#3#45 % coefi1) / 2);
      #6#209 = #6#209 + ((#3#45 % coefi1) / 2);
  |FINSI;
  |SI #6#141 = "A"; |Y #3#2 = "T";
      #6#203 = #6#203 + (#3#45 % coefi1);
  |FINSI;
  |SI #6#141 = "A"; |Y #3#2 = "C";
      #6#209 = #6#209 + (#3#45 % coefi1);
  |FINSI;
  |SI #6#141 = "A"; |Y #3#2 = "V";
      #6#203 = #6#203 + (#3#45 % numero1);
      #6#209 = #6#209 + (#3#45 % numero2);
  |FINSI;
  #6#64 = #6#64 + (#3#44 % coefi1);
|FPRC;

|PROCESO grabafi_02_4;
  #6#20 = #6#20 + (#4#23 % coefi1);
  #6#21 = #6#21 + (#4#46 % coefi1);
  |SI #6#141 = "T";
      #6#203 = #6#203 + (#4#46 % coefi1);
  |FINSI;
  |SI #6#141 = "C";
      #6#209 = #6#209 + (#4#46 % coefi1);
  |FINSI;
  |SI #6#141 = "A"; |Y #4#2 = "G";
      #6#203 = #6#203 + ((#4#46 % coefi1) / 2);
      #6#209 = #6#209 + ((#4#46 % coefi1) / 2);
  |FINSI;
  |SI #6#141 = "A"; |Y #4#2 = "T";
      #6#203 = #6#203 + (#4#46 % coefi1);
  |FINSI;
  |SI #6#141 = "A"; |Y #4#2 = "C";
      #6#209 = #6#209 + (#4#46 % coefi1);
  |FINSI;
  |SI #6#141 = "A"; |Y #4#2 = "V";
      #6#203 = #6#203 + (#4#46 % numero1);
      #6#209 = #6#209 + (#4#46 % numero2);
  |FINSI;
  #6#64 = #6#64 + (#4#45 % coefi1);
|FPRC;

|PROCESO grabafi_02_55;
  #6#133 = #6#133 + (#55#9  % coefi2);
  #6#71  = #6#71  + (#55#10 % coefi2);
  #6#137 = #6#137 + ((#55#5 + #55#6 + #55#7 + #55#8) % coefi2);
|FPRC;

|| **************************************************************************
                           PROCESO DE INCIDENCIAS
|| **************************************************************************

|PROCESO incide_02;
|SI incisino = "S";
   |SI sw = 0; |HAZ grabaci_02; sw = 1; |FINSI;

   linea = "00" + linea;
   linea = linea % -102;

   rendi = "          " + rendi;
   rendi = rendi % -110;

   |QBF descri;
   descri = descri + blanco;
   descri = descri % 130;

   alfa1 = "NO CALCULO ->  " + linea + " " + descri + "    " + rendi;

   |SI tipore = "R";
       alfa1 = "RENTA ------>  " + linea + " " + descri + "    " + rendi;
   |FINSI;
   |SI tipore = "P";
       alfa1 = "PATRIMONIO ->  " + linea + " " + descri + "    " + rendi;
   |FINSI;
   |HAZ grabaci_02;
|FINSI;
|FPRC;

|PROCESO grabaci_02;
swcalcu = 1;
lininci = lininci + 5;
#5#0 = empreac;
#5#1 = lininci;
#5#2 = alfa1;
#5#3 = "S";
|GRABA 020#5n;
|LIBERA #5;
|FPRC;

|| **************************************************************************
||                             PROCESO BUCLES
|| **************************************************************************

|DEFBUCLE leefic0;   || Bucle Transparencias Fiscal
#0#1;
;
empresa, 01;
emprefi, 99;
e;
NULL, fich_02_0;
|FIN;

|DEFBUCLE leefic1;   || Bucle Profesional Directa
#1#1;
;
empresa, 01;
emprefi, 99;
e;
NULL, fich_02_1;
|FIN;

|DEFBUCLE leefic2;    || Bucle Profesional Coeficiente
#2#1;
;
empresa, 01;
emprefi, 99;
e;
NULL, fich_02_2;
|FIN;

|DEFBUCLE leefic3;    || Bucle Empresarial Directa
#3#1;
;
empresa, 01;
emprefi, 99;
e;
NULL, fich_02_3;
|FIN;

|DEFBUCLE leefic4;    || Bucle Empresarial Coeficiente
#4#1;
;
empresa, 01;
emprefi, 99;
e;
NULL, fich_02_4;
|FIN;

|DEFBUCLE leefic55;   || Bucle Pagos Fraccionados y Retenciones
#55#1;
;
empresa, 01;
emprefi, 99;
e;
NULL, fich_02_55;
|FIN;

|| **************************************************************************
                              INICIO
|| *************************************************************************

|PROCESO recalpa2;
agricola = 0;

|ABRE #5;
|ABRE #6;
|SI progra_6  = 1; sw = 0; lininci = 1500; |BUCLE leefic0;  |FINSI;
|SI progra_7  = 1; sw = 0; lininci = 1800; |BUCLE leefic1;  |FINSI;
|SI progra_8  = 1; sw = 0; lininci = 2100; |BUCLE leefic2;  |FINSI;
|SI progra_9  = 1; sw = 0; lininci = 2400; |BUCLE leefic3;  |FINSI;
|SI progra_10 = 1; sw = 0; lininci = 2700; |BUCLE leefic4;  |FINSI;
|SI progra_51 = 1; sw = 0; lininci = 8600; |BUCLE leefic55; |FINSI;
|CIERRA #5;
|CIERRA #6;
|FPRC;
