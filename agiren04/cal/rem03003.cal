|FICHEROS;
   rem03003 #0;
   rem03000 #1;
   rem03001 #2;
   rem03002 #3;
   rem00100 #4;
|FIN;

|VARIABLES;
   &enSwBlanco = 0; &MesPresent = ""; MesAlfa = ""; Tipo = ""; Comodin = "";
   nCont = 0; nCont1 = 0; DEmpre = 0; HEmpre = 0; Mes = 0; Lineas = 0;
|FIN;

|PROCESO EmiteAnexo;
   |PRINT;  nCont1 = nCont1 + 1;
|FPRC;

|DEFBUCLE EmiteAnexo;
#rem03001#1;
;
#rem03000#0,"            ",Tipo;
#rem03000#0,"zzzzzzzzzzzz",Tipo;
;
NULL,EmiteAnexo;
|FIN;

|PROCESO Emision;
   #rem00100#0 = #rem03000#0;
   |LEE 000#rem00100.=;

   Comodin = #rem03003#33; |QBF Comodin;
   Comodin = Comodin % 0402; Mes = Comodin; |HAZ MesAlfa;
   MesPresent = MesAlfa;

   |INFOR "rem03000";
   |SI FSalida < 0; |ERROR10; |FINSI;
   |PRINT;
   |PIEINF; |FININF;
   |INFOR "rem03001";
   |SI FSalida < 0; |ERROR10; |FINSI;

   nCont1 = 0;
   Tipo = "S"; |BUCLE EmiteAnexo;
   || Lineas = 4 + (20 - (nCont1 * 2));
   Lineas = 9 + (20 - (nCont1 * 2));
   enSwBlanco = 1;
   |PARA; |SI Lineas > 0; |HACIENDO Lineas = Lineas - 1;
      |PRINT;
   |SIGUE;
   enSwBlanco = 0;
   Tipo = "T"; |BUCLE EmiteAnexo;
   |PIEINF; |FININF;
|FPRC;

|PROCESO Selec;
   |SI #rem03003#0 = "S";
      #rem03003#1 = 00001; |PINTA #rem03003#1;
      #rem03003#2 = 99999; |PINTA #rem03003#2;
      |C_M #rem03003#1,1,"S";
      |C_M #rem03003#2,1,"S";
      |PARA nCont = 3; |SI nCont [ 32; |HACIENDO nCont = nCont + 1;
         #rem03003#nCont# = 0; |PINTA #rem03003#nCont#;
         |C_M #rem03003#nCont#,1,"N";
      |SIGUE;
   |SINO;
      #rem03003#1 = 0; |PINTA #rem03003#1;
      #rem03003#2 = 0; |PINTA #rem03003#2;
      |C_M #rem03003#1,1,"N";
      |C_M #rem03003#2,1,"N";
      |PARA nCont = 3; |SI nCont [ 32; |HACIENDO nCont = nCont + 1;
         |C_M #rem03003#nCont#,1,"S";
      |SIGUE;
   |FINSI;
|FPRC;

|PROCESO MesAlfa;
   |SI Mes = 1;  MesAlfa = "Enero     "; |FINSI;
   |SI Mes = 2;  MesAlfa = "Febrero   "; |FINSI;
   |SI Mes = 3;  MesAlfa = "Marzo     "; |FINSI;
   |SI Mes = 4;  MesAlfa = "Abril     "; |FINSI;
   |SI Mes = 5;  MesAlfa = "Mayo      "; |FINSI;
   |SI Mes = 6;  MesAlfa = "Junio     "; |FINSI;
   |SI Mes = 7;  MesAlfa = "Julio     "; |FINSI;
   |SI Mes = 8;  MesAlfa = "Agosto    "; |FINSI;
   |SI Mes = 9;  MesAlfa = "Septiembre"; |FINSI;
   |SI Mes = 10; MesAlfa = "Octubre   "; |FINSI;
   |SI Mes = 11; MesAlfa = "Noviembre "; |FINSI;
   |SI Mes = 12; MesAlfa = "Diciembre "; |FINSI;
|FPRC;

|DEFBUCLE Emision;
#rem03000#1;
;
DEmpre;
HEmpre;
be;
NULL,Emision;
|FIN;

|PROGRAMA;
   |CLS;
   |CABEZA "Emision modelo 600";
   |PINPA #0#0; |PINDA #0#0; |HAZ PintaMoneda;
   |ENDATOS #1#0;
   |SI FSalida = 0;
      |ABRE #rem00100;
      |IMPRE 0;
      |SI FSalida < 0; |ACABA; |FINSI;
      |SI #rem03003#0 = "S";
         DEmpre = #rem03003#1; HEmpre = #rem03003#2;
         |BUCLE Emision;
      |SINO;
         |PARA nCont = 3; |SI nCont [ 32; |HACIENDO nCont = nCont + 1;
            DEmpre = #rem03003#nCont#; HEmpre = #rem03003#nCont#;
            |BUCLE Emision;
         |SIGUE;
      |FINSI;
      |FINIMP;
      |CIERRA #rem00100;
   |FINSI;
|FPRO;

|PROCESO PintaMoneda;
|VARIABLES;
  {-1}aMoneda   = "";
      aMoneda1  = "LEER";
      aMoneda2  = "";
      aAlfa = "";
|FIN;

     aAlfa = " Moneda de emision : ";
     IaMoneda = aMoneda1<-;
     |ESPECIFICA "MODO_VER_EURO", aMoneda;
     |SI aMoneda2 = "0";
         aAlfa = aAlfa + "EUROS  ";
     |SINO;
         aAlfa = aAlfa + "PESETAS";
     |FINSI;
     |ATRI I; |PINTA 1822, aAlfa; |ATRI N;
|FPRC;
