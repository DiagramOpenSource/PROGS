|FICHEROS;
     dslpm100 #100;
     dslpm506 #506;
|FIN;

|VARIABLES;
     nBoton1    = -1;
     nRango     = 0;
     nPos1      = 0;
     nPos2      = 0;

     &eaVarDni  = "";
     &enCalcCif = 0;
|FIN;

|PROCESO LetraDnim100;  |TIPO 6;
     |SI FSalida = 10;
         eaVarDni   = #100#0;
         enCalcCif  = 1;
         |HAZ CalculoDNI;
         #100#0 = eaVarDni;
         |PINTA #100#0;
         |ERROR;
         |ACABA;
     |FINSI;

     eaVarDni  = #100#0;
     enCalcCif = 0;
     |HAZ CalculoDNI;
     eaVarDni = (eaVarDni + "            ") % 112;
     |SI #100#0 ! eaVarDni;
         |CONFI "0000SEl Nif puede ser Erroneo. Desea Calcularlo.";
         |SI FSalida = 0;
             #100#0 = eaVarDni;  |PINTA #100#0;
             |ERROR;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO Enablam100;  |TIPO 7;
     |ESTADO_CONTROL nBoton1, "ENABLE";
|FPRC;

|PROCESO Evento506m100;
     |SI FSalida = 1;
         |LEE 000#506c;
     |FINSI;

     |SI FSalida = 4;
         |PTEC 806;
     |FINSI;
|FPRC;

|PROCESO Boton1;
     |ESTADO_CONTROL nBoton1, "DISABLE";

     nRango = 4 + 8 + 16;
     nPos1  = 0630;
     nPos2  = 2050;

     |ABRE #506;
     #506#0 = #100#15;
     |LEE 000#506=;

     |LINEAL_SIMPLE #1#506, nRango, nPos1, nPos2, NULL, NULL, Evento506m100;

     #100#15 = #506#0;
     |PINTA #100#15;
     |CIERRA #506;

     |ESTADO_CONTROL nBoton1, "ENABLE";
|FPRC;

|PROCESO Tipo13m100;  |TIPO 13;
     |SI nBoton1 ! -1;
         |ESTADO_CONTROL nBoton1, "DISABLE";
         |ACABA;
     |FINSI;

     |CONTROL_SIMPLE 1, "BOTON,{{155}}", 1628, 1630, Boton1;
     nBoton1 = FSalida;

     |ESTADO_CONTROL nBoton1, "DISABLE";
|FPRC;

|PROCESO Tipo9m100;  |TIPO 90;
     |SI nBoton1 = -1;  |ACABA;  |FINSI;

     |FIN_CONTROL_WINDOWS nBoton1;
|FPRC;
