|FICHEROS;
     trasz002 #0;
     trasm001 #1;
     trasm002 #2;
     trasm003 #3;

     :/basica/def/agim0003 #100;
     :/basica/def/agipobla #101;
     :/basica/def/agiprovi #102;
     :/basica/def/agifigen #103;

     :/laboral/def/labempre #200;
     :/laboral/def/nomconca #201;
     :/laboral/def/labcentr #202;
     :/laboral/def/labtraba #203;
     :/laboral/def/nomcateg #204;
     :/laboral/def/nombonif #205;
     :/laboral/def/labpadre #206;
|FIN;

|VARIABLES;
     aTabla         = "";
     aFichero       = "";
     aAlfa          = "";
     aAlfa1         = "";
     aAlfa2         = "";
     aDef           = "";
     aIdenti        = "";
     aIdentiT       = "";
     aBase          = "";
     aPathLaboral   = "";

     nCasilla       = 0;
     nSwPaso        = 0;
     nRegistro      = 0;
     nCodCli        = 0;
     nTrabajador    = 0;

     &eaVarDni      = "";
|FIN;

|PROCESO LeeCasilla;
     aFichero = (aDef % 108) < "";  |QBF aFichero;
     |NOME_DAT #2 aFichero;

     |ABRE #2;
     #2#0 = aDef;
     #2#1 = nRegistro;
     #2#2 = nCasilla;
     |LEE 040#2=;
     |SI FSalida ! 0;  |DDEFECTO #2;  |FINSI;
     |CIERRA #2;
|FPRC;

|PROCESO agim0003;
     aDef      = #1#0;
     nRegistro = #1#1;

     nCasilla = 11;  |HAZ LeeCasilla;

     #100#0 = #2#3;
     |LEE 040#100=;
     |SI FSalida = 0;  |ACABA;  |FINSI;

     |DDEFECTO #100;
                                       #100#0  = #2#3;
     nCasilla =   2; |HAZ LeeCasilla;  #100#1  = #2#3;
     nCasilla =   3; |HAZ LeeCasilla;  #100#2  = #2#3 % 440;
                                       #100#9  = #2#3 % 102;
     nCasilla =  13; |HAZ LeeCasilla;  #100#3  = #2#3;
     nCasilla =   6; |HAZ LeeCasilla;  aAlfa   = #2#3 % 102;  #100#4 = aAlfa;
                                       aAlfa   = #2#3 % 303;  #100#5 = aAlfa;
     nCasilla =   8; |HAZ LeeCasilla;  #100#8  = #2#3;
     nCasilla =  15; |HAZ LeeCasilla;  #100#10 = #2#3;
     nCasilla =  16; |HAZ LeeCasilla;  #100#11 = #2#3;

     #3#0 = #100#4;
     #3#1 = #100#5;
     |LEE 101#3=;
     |SI FSalida ! 0;
         |DDEFECTO #3;
         #3#0 = #100#4;
         #3#1 = #100#5;
         nCasilla = 701; |HAZ LeeCasilla;  #3#2  = #2#3;
         nCasilla = 702; |HAZ LeeCasilla;  #3#3  = #2#3;
         nCasilla =   7; |HAZ LeeCasilla;  #3#6  = #2#3;
         nCasilla = 703; |HAZ LeeCasilla;  #3#7  = #2#3;
         |GRABA 020#3n;
     |FINSI;
     |LIBERA #3;

     #101#0 = #100#4;
     #101#1 = #100#5;
     |LEE 101#101=;
     |SI FSalida ! 0;
         |DDEFECTO #101;
         #101#0 = #100#4;
         #101#1 = #100#5;
         #101#2 = #3#3;

         |GRABA 020#101n;
     |FINSI;
     |LIBERA #101;

     #102#0 = #100#4;
     |LEE 101#102=;
     |SI FSalida ! 0;
         |DDEFECTO #102;
         #102#0 = #100#4;
         #102#1 = #3#2;

         |GRABA 020#102n;
     |FINSI;
     |LIBERA #102;

                                       #100#6  = #3#3;
                                       #100#7  = #3#2;
                                       #100#14 = #3#4;
                                       #100#15 = #3#5;

     nCasilla =   7; |HAZ LeeCasilla;
     aAlfa = #2#3;  |QBF aAlfa;
     |SI aAlfa = "011";
         #100#12 = "ES";
         #100#13 = "ESPA¥A";
     |SINO;
         nCasilla =   7; |HAZ LeeCasilla;
         #100#12  = #2#3;
         nCasilla = 703; |HAZ LeeCasilla;
         #100#13  = #2#3;
     |FINSI;


     |GRABA 020#100n;
     |LIBERA #100;
|FPRC;

|PROCESO labempre;
     aDef      = #1#0;
     nRegistro = #1#1;

     |DDEFECTO #103;
                                        #103#0  = #1#1;
     nCasilla = 701;  |HAZ LeeCasilla;  #103#1  = #2#3;
                                        #103#2  = #2#3;

     nCasilla =  32;  |HAZ LeeCasilla;  #103#3  = #2#3;
     nCasilla =  32;  |HAZ LeeCasilla;  #103#3  = #2#3;
     nCasilla =   4;  |HAZ LeeCasilla;  #103#4  = #2#3;
     nCasilla =  33;  |HAZ LeeCasilla;  #103#5  = #2#3;
     nCasilla =  34;  |HAZ LeeCasilla;  #103#6  = #2#3;
     nCasilla =  35;  |HAZ LeeCasilla;  #103#7  = #2#3;
     nCasilla =  36;  |HAZ LeeCasilla;  #103#8  = #2#3;
     nCasilla =   7;  |HAZ LeeCasilla;  aAlfa   = #2#3 % 102; #103#9  = aAlfa;
                                        aAlfa   = #2#3 % 303; #103#10 = aAlfa;
     nCasilla = 703;  |HAZ LeeCasilla;  #103#11 = #2#3;
     nCasilla = 702;  |HAZ LeeCasilla;  #103#12 = #2#3;
     nCasilla = 809;  |HAZ LeeCasilla;  #103#14 = #2#3;
     nCasilla = 810;  |HAZ LeeCasilla;  #103#15 = #2#3;
     nCasilla =   7;  |HAZ LeeCasilla;  #103#16 = #2#3;

                                        #103#41 = #103#3;
                                        #103#42 = #103#4;
                                        #103#43 = #103#5;
                                        #103#44 = #103#6;
                                        #103#45 = #103#7;
                                        #103#46 = #103#8;
                                        #103#47 = #103#9;
                                        #103#48 = #103#10;
                                        #103#49 = #103#11;
                                        #103#50 = #103#12;

                                        #103#51 = #103#3;
                                        #103#52 = #103#4;
                                        #103#53 = #103#5;
                                        #103#54 = #103#6;
                                        #103#55 = #103#7;
                                        #103#56 = #103#8;
                                        #103#57 = #103#9;
                                        #103#58 = #103#10;
                                        #103#59 = #103#11;
                                        #103#60 = #103#12;

     nCasilla = 12;  |HAZ LeeCasilla;   aAlfa   = #2#3;  |QBF aAlfa;
     |SI aAlfa ! "00000000";
         aAlfa1 = aAlfa % 502;
         |SI aAlfa1 = "00";  aAlfa1 = "01";  |FINSI;
         aAlfa = aAlfa1 + "." + (aAlfa % 102) + "." + (aAlfa % 702) + (aAlfa % 302);
         #103#93 = aAlfa;
     |FINSI;

     nCasilla = 801;  |HAZ LeeCasilla;   aAlfa   = #2#3;  |QBF aAlfa;
     |SI aAlfa ! "00000000";
         aAlfa1 = aAlfa % 502;
         |SI aAlfa1 = "00";  aAlfa1 = "01";  |FINSI;
         aAlfa = aAlfa1 + "." + (aAlfa % 102) + "." + (aAlfa % 702) + (aAlfa % 302);
         #103#94 = aAlfa;
     |FINSI;

     nCasilla = 1;  |HAZ LeeCasilla;    aIdenti = #2#3;

     |LIBERA #1;
     |SALVA_DATOS #1;
     |SELECT #2#1;
     #1#0 = "CLINOM";
     #1#3 = aIdenti;
     |LEE 040#1=;
     |SI FSalida = 0;
         aDef      = #1#0;
         nRegistro = #1#1;
         nCasilla =  11;  |HAZ LeeCasilla; #103#13 = #2#3;
     |FINSI;

     |GRABA 020#103n;
     |LIBERA #103;

     |REPON_DATOS #1;
     |SELECT #1#1;
     |LEE 101#1=;

     #1#2 = #103#0;
     |GRABA 020#1a;
     |LIBERA #1;

     aDef      = #1#0;
     nRegistro = #1#1;

     #200#0   = #103#0;
     #200#2   = #103#1;
     aAlfa1   = #103#3;  |QBF aAlfa1;
     aAlfa2   = #103#4;  |QBF aAlfa2;
     #200#3   = aAlfa1 + " " + aAlfa2;
     #200#4   = #103#5;
     #200#5   = #103#7;
     #200#6   = #103#11;
     #200#7   = #103#9;
     #200#8   = #103#10;
     #200#9   = #103#12;
     #200#10  = #103#13;
     #200#21  = (#103#21 * 1000) + #103#22;
     #200#22  = #103#92;
     #200#24  = #103#91;
     #200#111 = #103#14;
     #200#112 = #103#15;

     nCasilla =  10;  |HAZ LeeCasilla; #200#1  = #2#3;
     nCasilla = 707;  |HAZ LeeCasilla; #200#12 = #2#3;
     nCasilla =   3;  |HAZ LeeCasilla; #200#13 = #2#3;
     nCasilla =  14;  |HAZ LeeCasilla; #200#14 = #2#3;
     nCasilla =  17;  |HAZ LeeCasilla; #200#18 = #2#3;
     nCasilla =  11;  |HAZ LeeCasilla; #200#19 = #2#3;
     nCasilla = 706;  |HAZ LeeCasilla; #200#20 = #2#3;

     #201#0 = #200#1;
     |LEE 101#201=;
     |SI FSalida ! 0;
         |DDEFECTO #201;
         #201#0 = #200#1;
         nCasilla = 708;  |HAZ LeeCasilla; #201#1 = #2#3;
         |GRABA 020#201n;
     |FINSI;
     |LIBERA #201;

     nCasilla =  16;  |HAZ LeeCasilla; aIdenti = #2#3;

     |LIBERA #1;
     |SALVA_DATOS #1;
     |SELECT #2#1;
     #1#0 = "CLINOM";
     #1#3 = aIdenti;
     |LEE 040#1=;
     |SI FSalida = 0;
         aDef      = #1#0;
         nRegistro = #1#1;
         nCasilla =   2;  |HAZ LeeCasilla; #200#15 = #2#3;
         nCasilla =  11;  |HAZ LeeCasilla; #200#17 = #2#3;
     |FINSI;

     |REPON_DATOS #1;
     |SELECT #1#1;
     |LEE 101#1=;

     aDef      = #1#0;
     nRegistro = #1#1;

     |GRABA 020#200n;
     |LIBERA #200;
|FPRC;

|PROCESO labcentr;
     aDef      = #1#0;
     nRegistro = #1#1;

     |LIBERA #1;
     |SALVA_DATOS #1;
     |SELECT #2#1;
     #1#0 = "DATLABEM";
     |LEE 040#1=;
     |SI FSalida ! 0;  |DDEFECTO #1;  |FINSI;

     nCodCli = #1#2;

     |REPON_DATOS #1;
     |SELECT #1#1;
     |LEE 101#1=;

     #1#2 = nCodCli;
     |GRABA 020#1a;
     |LIBERA #1;

                                       #202#0  = #1#2;
     nCasilla =   4;  |HAZ LeeCasilla; #202#1  = #2#3;
     nCasilla =   9;  |HAZ LeeCasilla; #202#2  = #2#3;
     nCasilla =   5;  |HAZ LeeCasilla; #202#3  = #2#3;
     nCasilla =  16;  |HAZ LeeCasilla; #202#4  = #2#3;
     nCasilla =  18;  |HAZ LeeCasilla; #202#5  = #2#3;
     nCasilla = 703;  |HAZ LeeCasilla; #202#6  = #2#3;
     nCasilla =   8;  |HAZ LeeCasilla;  aAlfa  = #2#3 % 102; #202#7  = aAlfa;
                                        aAlfa  = #2#3 % 303; #202#8  = aAlfa;
     nCasilla = 702;  |HAZ LeeCasilla; #202#9  = #2#3;
     nCasilla =   3;  |HAZ LeeCasilla; #202#10 = #2#3;

     nCasilla =  23;  |HAZ LeeCasilla; aIdenti = #2#3;

     |LIBERA #1;
     |SALVA_DATOS #1;
     |SELECT #2#1;
     #1#0 = "CLINOM";
     #1#3 = aIdenti;
     |LEE 040#1=;
     |SI FSalida = 0;
         aDef      = #1#0;
         nRegistro = #1#1;
         nCasilla =   2;  |HAZ LeeCasilla; #202#12 = #2#3;
     |FINSI;

     |REPON_DATOS #1;
     |SELECT #1#1;
     |LEE 101#1=;

     aDef      = #1#0;
     nRegistro = #1#1;

     |GRABA 020#202n;
     |LIBERA #202;
|FPRC;

|PROCESO labtraba;
     aDef      = #1#0;
     nRegistro = #1#1;

     |LIBERA #1;
     |SALVA_DATOS #1;
     |SELECT #2#1;
     #1#0 = "DATLABEM";
     |LEE 040#1=;
     |SI FSalida ! 0;  |DDEFECTO #1;  |FINSI;

     nCodCli = #1#2;

     |REPON_DATOS #1;
     |SELECT #1#1;
     |LEE 101#1=;

     #1#2 = nCodCli;

     |GRABA 020#1a;
     |LIBERA #1;

     nTrabajador = 1;
     #203#0      = #1#2;
     #203#1      = 99999;
     |LEE 040#203];
     |SI FSalida = 0;
         |LEE 040#203a;
     |SINO;
         |LEE 040#203u;
     |FINSI;
     |SI FSalida = 0;  |Y #203#0 = #1#2;
         nTrabajador = #203#1 + 1;
     |FINSI;

     |DDEFECTO #203;
                                       #203#0   = #1#2;
                                       #203#1   = nTrabajador;
     nCasilla = 843;  |HAZ LeeCasilla; #203#2   = #2#3;
     nCasilla =   7;  |HAZ LeeCasilla;
     eaVarDni = #2#3; |HAZ CalculoDNI; #203#7   = eaVarDni;
                                       #203#26  = eaVarDni;
     nCasilla =  18;  |HAZ LeeCasilla; #203#17  = #2#3;
     nCasilla = 823;  |HAZ LeeCasilla; #203#18  = #2#3;
     nCasilla =  23;  |HAZ LeeCasilla; #203#19  = #2#3;
     nCasilla =  10;  |HAZ LeeCasilla; #203#23  = #2#3;
     nCasilla = 802;  |HAZ LeeCasilla; #203#25  = #2#3;
     nCasilla =  22;  |HAZ LeeCasilla; #203#27  = #2#3;
     nCasilla =  16;  |HAZ LeeCasilla; #203#30  = #2#3;
     nCasilla =   5;  |HAZ LeeCasilla; #203#31  = #2#3;
     nCasilla =  20;  |HAZ LeeCasilla; #203#33  = #2#3;
     nCasilla =  30;  |HAZ LeeCasilla; #203#39  = #2#3;
     nCasilla = 824;  |HAZ LeeCasilla; #203#45  = #2#3;
     nCasilla =  12;  |HAZ LeeCasilla; #203#75  = #2#3;
     nCasilla =   4;  |HAZ LeeCasilla; #203#77  = #2#3;
     nCasilla = 802;  |HAZ LeeCasilla; #203#87  = #2#3;
     nCasilla =  23;  |HAZ LeeCasilla; #203#238 = #2#3;

     nCasilla = 14;   |HAZ LeeCasilla;   aAlfa   = #2#3;  |QBF aAlfa;
     |SI aAlfa ! "00000000";
         aAlfa1 = aAlfa % 502;
         |SI aAlfa1 = "00";  aAlfa1 = "01";  |FINSI;
         aAlfa = aAlfa1 + "." + (aAlfa % 102) + "." + (aAlfa % 702) + (aAlfa % 302);
         #203#34 = aAlfa;
         #203#38 = aAlfa;
     |FINSI;

     nCasilla = 13;   |HAZ LeeCasilla;   aAlfa   = #2#3;  |QBF aAlfa;
     |SI aAlfa ! "00000000";
         aAlfa1 = aAlfa % 502;
         |SI aAlfa1 = "00";  aAlfa1 = "01";  |FINSI;
         aAlfa = aAlfa1 + "." + (aAlfa % 102) + "." + (aAlfa % 702) + (aAlfa % 302);
         #203#36 = aAlfa;
     |FINSI;

     nCasilla = 33;   |HAZ LeeCasilla;   aAlfa   = #2#3;  |QBF aAlfa;
     |SI aAlfa ! "00000000";
         aAlfa1 = aAlfa % 502;
         |SI aAlfa1 = "00";  aAlfa1 = "01";  |FINSI;
         aAlfa = aAlfa1 + "." + (aAlfa % 102) + "." + (aAlfa % 702) + (aAlfa % 302);
         #203#37 = aAlfa;
     |FINSI;

     nCasilla = 29;   |HAZ LeeCasilla;   aAlfa   = #2#3;  |QBF aAlfa;
     |SI aAlfa ! "00000000";
         aAlfa1 = aAlfa % 502;
         |SI aAlfa1 = "00";  aAlfa1 = "01";  |FINSI;
         aAlfa = aAlfa1 + "." + (aAlfa % 102) + "." + (aAlfa % 702) + (aAlfa % 302);
         #203#40 = aAlfa;
     |FINSI;

     nCasilla = 31;   |HAZ LeeCasilla;   aAlfa   = #2#3;  |QBF aAlfa;
     |SI aAlfa ! "00000000";
         aAlfa1 = aAlfa % 502;
         |SI aAlfa1 = "00";  aAlfa1 = "01";  |FINSI;
         aAlfa = aAlfa1 + "." + (aAlfa % 102) + "." + (aAlfa % 702) + (aAlfa % 302);
         #203#41 = aAlfa;
     |FINSI;

     nCasilla = 844;   |HAZ LeeCasilla;   aAlfa   = #2#3;   |QBF aAlfa;
     |SI aAlfa ! "00000000";
         aAlfa1 = aAlfa % 502;
         |SI aAlfa1 = "00";  aAlfa1 = "01";  |FINSI;
         aAlfa = aAlfa1 + "." + (aAlfa % 102) + "." + (aAlfa % 702) + (aAlfa % 302);
         #203#11 = aAlfa;
     |FINSI;

     #204#0 = #203#87;
     #204#1 = #203#17;
     |LEE 101#204=;
     |SI FSalida ! 0;
         |DDEFECTO #204;
         #204#0 = #203#87;
         #204#1 = #203#17;
         #204#2 = #203#18;
         |GRABA 020#204n;
     |FINSI;
     |LIBERA #204;

     #205#0 = #203#39;
     |LEE 101#205=;
     |SI FSalida ! 0;
         |DDEFECTO #205;
         #205#0 = #203#39;
         nCasilla =  705;  |HAZ LeeCasilla; #205#1 = #2#3;
         |GRABA 020#205n;
     |FINSI;
     |LIBERA #205;

     #206#0 = #203#0;
     #206#1 = #203#1;
     |LEE 101#206=;
     |SI FSalida ! 0;
         |DDEFECTO #206;
         #206#0 = #203#0;
         #206#1 = #203#1;
         |GRABA 020#206b;
     |FINSI;

     |LIBERA #1;
     |SALVA_DATOS #1;
     |SELECT #2#1;

     nCasilla =  7;  |HAZ LeeCasilla; aIdentiT = #2#3;
                                      aIdenti  = #2#3;

     #1#0 = "OTROSDLTRA";
     |LEE 040#1=;
     |SI FSalida = 0;
         aDef      = #1#0;
         nRegistro = #1#1;

         nCasilla =  37;  |HAZ LeeCasilla;  #203#24 = #2#3;
         nCasilla =  20;  |HAZ LeeCasilla;  #203#72 = #2#3;
     |FINSI;

     #1#0 = "CLINOM";
     #1#3 = aIdenti;
     |LEE 040#1=;
     |SI FSalida = 0;
         aDef      = #1#0;
         nRegistro = #1#1;

         nCasilla =   3;  |HAZ LeeCasilla; #203#3  = #2#3;
         nCasilla =  13;  |HAZ LeeCasilla; #203#4  = #2#3;
         nCasilla =  15;  |HAZ LeeCasilla; #203#5  = #2#3;
         nCasilla = 702;  |HAZ LeeCasilla; #203#6  = #2#3;
         nCasilla =   6;  |HAZ LeeCasilla;  aAlfa  = #2#3 % 102; #203#8  = aAlfa;
                                            aAlfa  = #2#3 % 303; #203#9  = aAlfa;
         nCasilla = 701;  |HAZ LeeCasilla; #203#10 = #2#3;
     |FINSI;

     nCasilla =  11;  |HAZ LeeCasilla; aIdenti = #2#3;

     #1#0 = "CLINOM";
     #1#3 = aIdenti;
     |LEE 040#1=;
     |SI FSalida = 0;
         aDef      = #1#0;
         nRegistro = #1#1;

         nCasilla =   2;  |HAZ LeeCasilla; #203#20 = #2#3;
         nCasilla =  11;  |HAZ LeeCasilla; #203#22 = #2#3;
     |FINSI;

     #1#0 = "TRABAJ";
     #1#3 = aIdentiT;
     |LEE 040#1=;
     |SI FSalida = 0;
         aDef      = #1#0;
         nRegistro = #1#1;

         nCasilla = 703;  |HAZ LeeCasilla; #203#76  = #2#3;
         nCasilla =   7;  |HAZ LeeCasilla; #206#5   = #2#3;
         nCasilla =   8;  |HAZ LeeCasilla; #206#4   = #2#3;
         nCasilla =  10;  |HAZ LeeCasilla; #206#2   = #2#3;
         nCasilla =  11;  |HAZ LeeCasilla; #206#3   = #2#3;
     |FINSI;

     |GRABA 020#206a;
     |LIBERA #206;

     |REPON_DATOS #1;
     |SELECT #1#1;
     |LEE 101#1=;

     aDef      = #1#0;
     nRegistro = #1#1;

     #3#0 = #203#8;
     #3#1 = #203#9;
     |LEE 040#3=;
     |SI FSalida ! 0;  |DDEFECTO #3;  |FINSI;

     #203#6  = #3#3;
     #203#10 = #3#2;

     #100#0  = #203#7;
     |LEE 101#100=;
     |SI FSalida ! 0;
         |DDEFECTO #100;
         #100#0  = #203#7;
         #100#1  = #203#2;
         #100#2  = #203#3;
         #100#3  = #203#4;
         #100#4  = #203#8;
         #100#5  = #203#9;
         #100#6  = #203#6;
         #100#7  = #203#10;
         #100#10 = #203#5;
         #100#12 = #3#6;
         #100#13 = #3#7;
         #100#14 = #3#4;
         #100#15 = #3#5;
         |GRABA 020#100n
     |SINO;
         #203#2  = #100#1;
         |SI #100#9 ! "  ";
             #203#3  = #100#9 + " " + #100#2;
         |SINO;
             #203#3  = #100#2;
         |FINSI;
         #203#4  = #100#3;
         #203#5  = #100#10;
         #203#8  = #100#4;
         #203#9  = #100#5;
         #203#6  = #100#6;
         #203#10 = #100#7;
     |FINSI;
     |LIBERA #100;

     |GRABA 020#203n;
     |LIBERA #203;
|FPRC;

|PROCESO trasm001;
     |SI nSwPaso = 1;  |HAZ agim0003;  |FINSI;
     |SI nSwPaso = 2;  |HAZ labempre;  |FINSI;
     |SI nSwPaso = 3;  |HAZ labcentr;  |FINSI;
     |SI nSwPaso = 4;  |HAZ labtraba;  |FINSI;
|FPRC;

|DEFBUCLE trasm001;
     #1#1;
     ;
     aTabla, 0000000001;
     aTabla, 9999999999;
     be;
     NULL, trasm001;
|FIN;

|PROCESO PasoNifs;
     #0#0 = "Registros de Nifs.";  |PINTA #0#0;

     nSwPaso = 1;
     aTabla  = "CLINOM";
     |ABRE #100;
     |BUCLE trasm001;
     |CIERRA #100;
|FPRC;

|PROCESO EmpresaLab;
     #0#0 = "Empresas Laborales.";  |PINTA #0#0;

     |PATH_DAT #201 aPathLaboral;

     |ABRE #200;
     |ABRE #201;

     nSwPaso = 2;
     aTabla  = "DATLABEM";
     |BUCLE trasm001;

     |CIERRA #200;
     |CIERRA #201;
|FPRC;

|PROCESO CentrosTra;
     #0#0 = "Centros Trabajo";  |PINTA #0#0;

     |PATH_DAT #202 aPathLaboral;

     |ABRE #202;

     nSwPaso = 3;
     aTabla  = "DATCENTRA";
     |BUCLE trasm001;

     |CIERRA #200;
|FPRC;

|PROCESO Trabajadores;
     #0#0 = "Trabajadores";  |PINTA #0#0;

     |PATH_DAT #203 aPathLaboral;
     |PATH_DAT #204 aPathLaboral;
     |PATH_DAT #205 aPathLaboral;
     |PATH_DAT #206 aPathLaboral;

     |ABRE #203;
     |ABRE #204;
     |ABRE #205;
     |ABRE #206;

     nSwPaso = 4;
     aTabla  = "DATLABTRA";
     |BUCLE trasm001;

     |CIERRA #203;
     |CIERRA #204;
     |CIERRA #205;
     |CIERRA #206;
|FPRC;

|PROCESO PasoLaboral;
     |HAZ EmpresaLab;
     |HAZ CentrosTra;
     |HAZ Trabajadores;
|FPRC;

|PROCESO Tipo3;  |TIPO 3;
     |ABRE #3;
     |ABRE #100;
     |ABRE #101;
     |ABRE #102;
     |ABRE #103;

     |HAZ PasoNifs;
     |HAZ PasoLaboral;

     |CIERRA #3;
     |CIERRA #100;
     |CIERRA #101;
     |CIERRA #102;
     |CIERRA #103;
|FPRC;

|PROGRAMA;
     |DBASS aBase;  |QBF aBase;
     aPathLaboral = aBase + "laboral/fich/";

     |MENAV "      Recuerde antes de ejecutar este programa de vaciar toda la integrada.";
     |MENAV "      Con el proceso Carga inicial de la Gestion Anterior";

     |MANTE #0;
|FPRO;
