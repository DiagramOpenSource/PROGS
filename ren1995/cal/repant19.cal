|FICHEROS;
    repant19 #0;
|FIN;

|VARIABLES;
    &indivi = "";
    Porce   = 0;
    Suma    = 0;
    Dto1    = 0;
    Dto2    = 0;
    Dto3    = 0;
|FIN;

|PROCESO tipo; |TIPO 0;
|SI indivi = "S";
    |SI #0#2 ! "T"; |Y #0#2 ! "V";
        |MENAV "      La renta es individual";
        |ERROR;
        |ACABA;
    |FINSI;
|FINSI;

|C_M #0#7, 1, "N";
|C_M #0#8, 1, "N";
|C_M #0#9, 1, "N";
|C_M #0#10,1, "N";
|C_M #0#11,1, "N";
|C_M #0#12,1, "N";

#0#3 = "";
|SI #0#2 = "T"; #0#3 = "TITULAR   "; |FINSI;
|SI #0#2 = "C"; #0#3 = "CONYUGE   "; |FINSI;
|SI #0#2 = "G"; #0#3 = "GANANCIAL "; |FINSI;
|SI #0#2 = "1"; #0#3 = "FAMILIARES"; |FINSI;
|SI #0#2 = "2"; #0#3 = "FAMILIARES"; |FINSI;
|SI #0#2 = "3"; #0#3 = "FAMILIARES"; |FINSI;
|SI #0#2 = "4"; #0#3 = "FAMILIARES"; |FINSI;
|SI #0#2 = "V";
    #0#3 = "VARIOS   ";
    |SI indivi = "N";
        |C_M #0#7, 1,"S"; |C_M #0#8, 1,"S"; |C_M #0#9, 1,"S";
        |C_M #0#10,1,"S"; |C_M #0#11,1,"S"; |C_M #0#12,1,"S";
    |SINO;
        |C_M #0#7,1,"S";
        #0#8  = 0;  |PINTA #0#8;
        #0#9  = 0;  |PINTA #0#9;
        #0#10 = 0;  |PINTA #0#10;
        #0#11 = 0;  |PINTA #0#11;
        #0#12 = 0;  |PINTA #0#12;
    |FINSI;
|SINO;
    #0#7  = 0;  |PINTA #0#7;
    #0#8  = 0;  |PINTA #0#8;
    #0#9  = 0;  |PINTA #0#9;
    #0#10 = 0;  |PINTA #0#10;
    #0#11 = 0;  |PINTA #0#11;
    #0#12 = 0;  |PINTA #0#12;
|FINSI;
|FPRC;

|PROCESO Coefi; |TIPO 0;
|SI #0#24 = 0; |ACABA; |FINSI;
|SI #0#24 ! 0.12; |Y #0#24 ! 0.24; |Y #0#24 ! 0.30; |Y #0#24 ! 0.35;
 |Y #0#24 ! 0.40; |Y #0#24 ! 0.55;
    |MENAV "     El coeficiente no es correcto.";
    |ERROR;
    |ACABA;
|FINSI;

|SI #0#24 = 0.12; #0#56 = 0.12;  #0#57 = 0;      #0#58 = 0;    |FINSI;
|SI #0#24 = 0.24; #0#56 = 0.24;  #0#57 = 0.216;  #0#58 = 0.24; |FINSI;
|SI #0#24 = 0.30; #0#56 = 0.30;  #0#57 = 0.27;   #0#58 = 0.30; |FINSI;
|SI #0#24 = 0.35; #0#56 = 0.35;  #0#57 = 0.315;  #0#58 = 0.35; |FINSI;
|SI #0#24 = 0.40; #0#56 = 0.40;  #0#57 = 0.36;   #0#58 = 0.40; |FINSI;
|SI #0#24 = 0.55; #0#56 = 0.55;  #0#57 = 0;      #0#58 = 0;    |FINSI;

#0#62 = #0#24;
|SI #0#52 = "S";
    |SI #0#24 = 0.24; #0#62 = 0.153; |FINSI;
    |SI #0#24 = 0.30; #0#62 = 0.24;  |FINSI;
    |SI #0#24 = 0.35; #0#62 = 0.284; |FINSI;
    |SI #0#24 = 0.40; #0#62 = 0.328; |FINSI;

    |SI #0#24 = 0.24; #0#56 = 0.153;  #0#57 = 0.1377;  #0#58 = 0.153; |FINSI;
    |SI #0#24 = 0.30; #0#56 = 0.24;   #0#57 = 0.216;   #0#58 = 0.24;  |FINSI;
    |SI #0#24 = 0.35; #0#56 = 0.284;  #0#57 = 0.2556;  #0#58 = 0.284; |FINSI;
    |SI #0#24 = 0.40; #0#56 = 0.328;  #0#57 = 0.2952;  #0#58 = 0.328; |FINSI;
|FINSI;
|PINTA #0#62;

|C_M #0#18, 1, "S";
|C_M #0#19, 1, "S";
|C_M #0#20, 1, "S";
|C_M #0#21, 1, "S";
|C_M #0#22, 1, "S";
|C_M #0#23, 1, "S";
|C_M #0#25, 1, "S";

|SI #0#24 = 0.12; |O #0#24 = 0.55;
    |C_M #0#18, 1, "N";   #0#18 = 0; |PINTA #0#18;
    |C_M #0#19, 1, "N";   #0#19 = 0; |PINTA #0#19;
    |C_M #0#20, 1, "N";   #0#20 = 0; |PINTA #0#20;
    |C_M #0#21, 1, "N";   #0#21 = 0; |PINTA #0#21;
    |C_M #0#22, 1, "N";   #0#22 = 0; |PINTA #0#22;
    |C_M #0#23, 1, "N";   #0#23 = 0; |PINTA #0#23;
    |C_M #0#25, 1, "N";   #0#25 = 0; |PINTA #0#25;
|FINSI;
|FPRC;

|PROCESO Calcula;
|SI #0#27 = "S"; |Y Campo = 27;
    |SI #0#28 = "S"; |Y #0#29 ! 0;
        |MENAV "     Ya existe deducciones por Medios Ajenos y Asalariados";
        #0#27 = "N"; |PINTA #0#27;
        |ACABA;
    |FINSI;
|FINSI;

|SI #0#28 = "S"; |Y Campo = 28;
    |SI #0#27 = "S"; |Y #0#29 ! 0;
        |MENAV "     Ya existe deducciones por Jovenes y Asalariados";
        #0#28 = "N"; |PINTA #0#28;
        |ACABA;
    |FINSI;
|FINSI;

|SI #0#36 ! 0; |Y Campo = 36;
    |SI #0#27 = "S"; |Y #0#28 = "S";
        |MENAV "     Ya existe deducciones por Jovenes y Medios Ajenos";
        #0#29 = 0;  |PINTA #0#29;
        #0#36 = 0;  |PINTA #0#36;
        |ACABA;
    |FINSI;
|FINSI;

|C_M #0#25, 1, "S";
|C_M #0#26, 1, "S";

|SI #0#24 = 0.12; |O #0#24 = 0.55;
    |C_M #0#25, 1, "N";   #0#25 = 0; |PINTA #0#25;
|FINSI;

|SI #0#18 ! 0;
    |C_M #0#25, 1, "N";
    #0#25 = 0; |PINTA #0#25;
|FINSI;

|SI #0#18 ! 0; |O #0#25 ! 0;
    |C_M #0#26, 1, "N";
    #0#26 = "N";  |PINTA #0#26;
|FINSI;

#0#23 = #0#17 + #0#18 + #0#19 + #0#20 + #0#21 + #0#22;   |PINTA #0#23;

#0#53 = ((#0#19 * #0#17) / (#0#17 + #0#18));
#0#53 = #0#53 + ((#0#17 * (100 - #0#25)) / 100);
#0#54 = #0#18 + ((#0#19 * #0#18) / (#0#17 + #0#18));
#0#54 = #0#54 + ((#0#17 * #0#25) / 100);
#0#55 = #0#20 + #0#21 + #0#22;

#0#59 = #0#53 * #0#56;
#0#60 = #0#54 * #0#57;
#0#61 = #0#55 * #0#58;

#0#51 = #0#59 + #0#60 + #0#61;
#0#37 = #0#51;

|SI #0#28 = "S";
    #0#37 = #0#37 * 0.75;
|SINO;
    #0#29 = (#0#36 / #0#23) * 100;  |PINTA #0#29;
    |SI #0#29 ! 0;
        Porce = 1;
        |SI #0#29 ] 10; Porce = 0.90; |FINSI;
        |SI #0#29 ] 20; Porce = 0.85; |FINSI;
        |SI #0#29 ] 30; Porce = 0.80; |FINSI;
        |SI #0#29 ] 40; Porce = 0.75; |FINSI;

        #0#37 = #0#37 * Porce;
    |FINSI;
|FINSI;

|SI #0#26 = "S"; #0#37 = #0#37 * 0.8; |FINSI;

#0#32 = #0#37 - #0#38 - #0#39;
Dto1  = (#0#32 % #0#31) ! 0;

|SI #0#30 = "S";
    Dto2 = (#0#32 % 20) ! 0;
|SINO;
    Dto2 = 0;
|FINSI;

|SI #0#27 = "S";
    Dto3 = (#0#32 % 25) ! 0;
|SINO;
    Dto3 = 0;
|FINSI;

#0#32 = #0#32 - Dto1 - Dto2 - Dto3;
#0#32 = #0#32 + #0#40 - #0#41 + #0#42;

|PINTA #0#32;
|PINTA #0#37;
|FPRC;
