|FICHEROS;
    reeplan0 #00;
    reeplan1 #01;
    redatcon #15;   || datos contribuyente
    reproedi #19;   || profesionales directa
    reprofco #20;   || profesionales coeficientes
    reempedi #21;   || empresariales directa
    reemprco #22;   || empresariales coeficientes
    reempmod #23;   || empresariales modulos
    reactafe #24;   || afectos a actividad
    rerendir #25;   || rendimientos irregulares
    reconpla #40;   || control de planillas
|FIN;

|VARIABLES;
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    fech1 = @;
    fech2 = @;
    fech3 = @;
    fech4 = @;
    dia = 0;
    mes = 0;
    cuantas = 0;
    prov_fisca = "";
    prov_envio = "";
    total = 0;
    sihaymas = 0;
    &mas1 = 0;
    &mas2 = 0;
    &mas3 = 0;
    &mas4 = 0;
    &mas5 = 0;
    &mas6 = 0;
    &contribu = 0;
    &has_cont = 0;
    FEstado = 0;
    &devuelta = 0;
    &impre = "";
    &inicio = "";
    &fin = "";
    swbarra = 0;
    codigo = "";
|FIN;

****************************************************************************
    CARGA DE ACTIVIDADES EMPRESARIALES Y PROFESIONALES
****************************************************************************

||***************rendimientos irregulares

|PROCESO rendir1;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #1nume1 = #25#2;       || 'cla' ¨...?
        nume1 = cuantas +  2;   #1nume1 = #25#4;       || perceptor
        nume1 = cuantas +  5;   #1nume1 = #25#16;      || declaracion
        nume1 = cuantas +  8;   #1nume1 = " ";         || titularidad
        nume1 = cuantas + 11;   #1nume1 = 0;           || a¤os usuf.
        nume1 = cuantas + 14;   #1nume1 = #25#17;      || <T>
        nume1 = cuantas + 17;   #1nume1 = #25#18;      || <C>
        nume1 = cuantas + 20;   #1nume1 = #25#19;      || <1>
        nume1 = cuantas + 23;   #1nume1 = #25#20;      || <2>
        nume1 = cuantas + 26;   #1nume1 = #25#21;      || <3>
        nume1 = cuantas + 29;   #1nume1 = #25#22;      || <4>
        nume1 = cuantas + 32;   #1nume1 = "";               || epigrafe
        nume1 = cuantas + 35;   #1nume1 = "";          || actividad
        nume1 = cuantas + 38;   #1nume1 = 0;           || valor patrimon.
        nume1 = cuantas + 41;   #1nume1 = #25#9;       || ingr.integ.
        nume1 = cuantas + 44;   #1nume1 = 0;           || ingr.autoconsumo
        nume1 = cuantas + 47;   #1nume1 = 0;           || ingr.sub.
        nume1 = cuantas + 50;   #1nume1 = 0;           || ingr.tra.
        nume1 = cuantas + 53;   #1nume1 = 0;           || ingr.fin.
        nume1 = cuantas + 56;   #1nume1 = 0;           || ingr.varios
        nume1 = cuantas + 59;   #1nume1 = 0;           || co. 1
        nume1 = cuantas + 62;   #1nume1 = 0;           || co. 2
        nume1 = cuantas + 65;   #1nume1 = 0;           || co. 3
        nume1 = cuantas + 68;   #1nume1 = 0;           || fraccion 1
        nume1 = cuantas + 71;   #1nume1 = 0;           || fraccion 2
        nume1 = cuantas + 74;   #1nume1 = 0;           || fraccion 3
        nume1 = cuantas + 77;   #1nume1 = 0;           || fraccion 4
        nume1 = cuantas + 80;   #1nume1 = 0;           || compras
        nume1 = cuantas + 83;   #1nume1 = 0;           || coste personal
        nume1 = cuantas + 86;   #1nume1 = 0;           || gastos finan.
        nume1 = cuantas + 89;   #1nume1 = 0;           || alquiler
        nume1 = cuantas + 92;   #1nume1 = 0;           || tributos
        nume1 = cuantas + 95;   #1nume1 = 0;           || pension
        nume1 = cuantas + 98;   #1nume1 = 0;           || otros gtos.
        nume1 = cuantas + 101;  #1nume1 = 0;           || rep.cons.
        nume1 = cuantas + 104;  #1nume1 = 0;           || s.s.personal
        nume1 = cuantas + 107;  #1nume1 = 0;           || gtos.personal
        nume1 = cuantas + 110;  #1nume1 = 0;           || primas seguros
        nume1 = cuantas + 113;  #1nume1 = 0;           || dudoso cobro
        nume1 = cuantas + 116;  #1nume1 = 0;           || fond.edit.
        nume1 = cuantas + 119;  #1nume1 = 0;           || fond.reinv.
        nume1 = cuantas + 122;  #1nume1 = 0;           || g.adminis.
        nume1 = cuantas + 125;  #1nume1 = 0;           || cuot.asoc.
        nume1 = cuantas + 128;  #1nume1 = 0;           || hono.prof.
        nume1 = cuantas + 131;  #1nume1 = 0;           || amortiz.
        nume1 = cuantas + 134;  #1nume1 = 0;           || incr.patr.
        nume1 = cuantas + 137;  #1nume1 = 0;           || dism.patr.
        nume1 = cuantas + 140;  #1nume1 = #25#8;       || ret.ing.cta.¨..?
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_rendir;
 #25#1;
 ;
 #15#0,  1;
 #15#0, 99;
 e;
 NULL, rendir1;
|FIN;

||***************activos afectos actividad

|PROCESO actafe1;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #1nume1 = #24#2;       || 'cla' ¨...?
        nume1 = cuantas +  2;   #1nume1 = #24#4;       || perceptor
        nume1 = cuantas +  5;   #1nume1 = #24#37;      || declaracion
        nume1 = cuantas +  8;   #1nume1 = " ";         || titularidad
        nume1 = cuantas + 11;   #1nume1 = 0;           || a¤os usuf.
        nume1 = cuantas + 14;   #1nume1 = #24#38;      || <T>
        nume1 = cuantas + 17;   #1nume1 = #24#39;      || <C>
        nume1 = cuantas + 20;   #1nume1 = #24#40;      || <1>
        nume1 = cuantas + 23;   #1nume1 = #24#41;      || <2>
        nume1 = cuantas + 26;   #1nume1 = #24#42;      || <3>
        nume1 = cuantas + 29;   #1nume1 = #24#43;      || <4>
        nume1 = cuantas + 32;   #1nume1 = "";               || epigrafe
        nume1 = cuantas + 35;   #1nume1 = "";          || actividad
        nume1 = cuantas + 38;   #1nume1 = 0;           || valor patrimon.
        nume1 = cuantas + 41;   #1nume1 = 0;           || ingr.integ.
        nume1 = cuantas + 44;   #1nume1 = 0;           || ingr.autoconsumo
        nume1 = cuantas + 47;   #1nume1 = 0;           || ingr.sub.
        nume1 = cuantas + 50;   #1nume1 = 0;           || ingr.tra.
        nume1 = cuantas + 53;   #1nume1 = 0;           || ingr.fin.
        nume1 = cuantas + 56;   #1nume1 = 0;           || ingr.varios
        nume1 = cuantas + 59;   #1nume1 = 0;           || co. 1
        nume1 = cuantas + 62;   #1nume1 = 0;           || co. 2
        nume1 = cuantas + 65;   #1nume1 = 0;           || co. 3
        nume1 = cuantas + 68;   #1nume1 = 0;           || fraccion 1
        nume1 = cuantas + 71;   #1nume1 = 0;           || fraccion 2
        nume1 = cuantas + 74;   #1nume1 = 0;           || fraccion 3
        nume1 = cuantas + 77;   #1nume1 = 0;           || fraccion 4
        nume1 = cuantas + 80;   #1nume1 = 0;           || compras
        nume1 = cuantas + 83;   #1nume1 = 0;           || coste personal
        nume1 = cuantas + 86;   #1nume1 = 0;           || gastos finan.
        nume1 = cuantas + 89;   #1nume1 = 0;           || alquiler
        nume1 = cuantas + 92;   #1nume1 = 0;           || tributos
        nume1 = cuantas + 95;   #1nume1 = 0;           || pension
        nume1 = cuantas + 98;   #1nume1 = 0;           || otros gtos.
        nume1 = cuantas + 101;  #1nume1 = 0;           || rep.cons.
        nume1 = cuantas + 104;  #1nume1 = 0;           || s.s.personal
        nume1 = cuantas + 107;  #1nume1 = 0;           || gtos.personal
        nume1 = cuantas + 110;  #1nume1 = 0;           || primas seguros
        nume1 = cuantas + 113;  #1nume1 = 0;           || dudoso cobro
        nume1 = cuantas + 116;  #1nume1 = 0;           || fond.edit.
        nume1 = cuantas + 119;  #1nume1 = 0;           || fond.reinv.
        nume1 = cuantas + 122;  #1nume1 = 0;           || g.adminis.
        nume1 = cuantas + 125;  #1nume1 = 0;           || cuot.asoc.
        nume1 = cuantas + 128;  #1nume1 = 0;           || hono.prof.
        nume1 = cuantas + 131;  #1nume1 = 0;           || amortiz.
        nume1 = cuantas + 134;  #1nume1 = 0;           || incr.patr.
        nume1 = cuantas + 137;  #1nume1 = 0;           || dism.patr.
        nume1 = cuantas + 140;  #1nume1 = 0;           || ret.ing.cta.¨..?
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_actafe;
 #24#1;
 ;
 #15#0,  1;
 #15#0, 99;
 e;
 NULL, actafe1;
|FIN;

||***************empresariales modulos

|PROCESO empmod1;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #1nume1 = "EA";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #1nume1 = #23#2;       || perceptor
        nume1 = cuantas +  5;   #1nume1 = #23#4;       || declaracion
        nume1 = cuantas +  8;   #1nume1 = #23#5;       || titularidad
        nume1 = cuantas + 11;   #1nume1 = #23#6;       || a¤os usuf.
        nume1 = cuantas + 14;   #1nume1 = #23#7;       || <T>
        nume1 = cuantas + 17;   #1nume1 = #23#8;       || <C>
        nume1 = cuantas + 20;   #1nume1 = #23#9;       || <1>
        nume1 = cuantas + 23;   #1nume1 = #23#10;      || <2>
        nume1 = cuantas + 26;   #1nume1 = #23#11;      || <3>
        nume1 = cuantas + 29;   #1nume1 = #23#12;      || <4>
        nume1 = cuantas + 32;   #1nume1 = #23#13+#23#14;    || epigrafe
        nume1 = cuantas + 35;   #1nume1 = #23#15;      || actividad
        nume1 = cuantas + 38;   #1nume1 = #23#55;      || valor patrimon.
        nume1 = cuantas + 41;   #1nume1 = 0;           || ingr.integ.
        nume1 = cuantas + 44;   #1nume1 = 0;           || ingr.autoconsumo
        nume1 = cuantas + 47;   #1nume1 = 0;           || ingr.sub.
        nume1 = cuantas + 50;   #1nume1 = 0;           || ingr.tra.
        nume1 = cuantas + 53;   #1nume1 = 0;           || ingr.fin.
        nume1 = cuantas + 56;   #1nume1 = 0;           || ingr.varios
        nume1 = cuantas + 59;   #1nume1 = #23#38;      || co. 1
        nume1 = cuantas + 62;   #1nume1 = #23#40;      || co. 2
        nume1 = cuantas + 65;   #1nume1 = #23#42;      || co. 3
        nume1 = cuantas + 68;   #1nume1 = #23#50;      || fraccion 1
        nume1 = cuantas + 71;   #1nume1 = #23#51;      || fraccion 2
        nume1 = cuantas + 74;   #1nume1 = #23#52;      || fraccion 3
        nume1 = cuantas + 77;   #1nume1 = #23#53;      || fraccion 4
        nume1 = cuantas + 80;   #1nume1 = 0;           || compras
        nume1 = cuantas + 83;   #1nume1 = #23#30;      || coste personal
        nume1 = cuantas + 86;   #1nume1 = #23#31;      || gastos finan.
        nume1 = cuantas + 89;   #1nume1 = #23#32;      || alquiler
        nume1 = cuantas + 92;   #1nume1 = #23#33;      || tributos
        nume1 = cuantas + 95;   #1nume1 = #23#34;      || pension
        nume1 = cuantas + 98;   #1nume1 = #23#35;      || otros gtos.
        nume1 = cuantas + 101;  #1nume1 = #23#36;      || rep.cons.
        nume1 = cuantas + 104;  #1nume1 = 0;           || s.s.personal
        nume1 = cuantas + 107;  #1nume1 = #23#23;      || gtos.personal
        nume1 = cuantas + 110;  #1nume1 = #23#24;      || primas seguros
        nume1 = cuantas + 113;  #1nume1 = #23#25;      || dudoso cobro
        nume1 = cuantas + 116;  #1nume1 = #23#26;      || fond.edit.
        nume1 = cuantas + 119;  #1nume1 = #23#27;      || fond.reinv.
        nume1 = cuantas + 122;  #1nume1 = #23#28;      || g.adminis.
        nume1 = cuantas + 125;  #1nume1 = #23#29;      || cuot.asoc.
        nume1 = cuantas + 128;  #1nume1 = #23#45;      || hono.prof.
        nume1 = cuantas + 131;  #1nume1 = #23#46;      || amortiz.
        nume1 = cuantas + 134;  #1nume1 = #23#47;      || incr.patr.
        nume1 = cuantas + 137;  #1nume1 = #23#48;      || dism.patr.
        nume1 = cuantas + 140;  #1nume1 = #23#49;      || ret.ing.cta.¨..?
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_empmod;
 #23#1;
 ;
 #15#0,  1;
 #15#0, 99;
 e;
 NULL, empmod1;
|FIN;

||***************empresariales coeficientes

|PROCESO emprco1;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #1nume1 = "EB";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #1nume1 = #22#2;       || perceptor
        nume1 = cuantas +  5;   #1nume1 = #22#4;       || declaracion
        nume1 = cuantas +  8;   #1nume1 = #22#5;       || titularidad
        nume1 = cuantas + 11;   #1nume1 = #22#6;       || a¤os usuf.
        nume1 = cuantas + 14;   #1nume1 = #22#7;       || <T>
        nume1 = cuantas + 17;   #1nume1 = #22#8;       || <C>
        nume1 = cuantas + 20;   #1nume1 = #22#9;       || <1>
        nume1 = cuantas + 23;   #1nume1 = #22#10;      || <2>
        nume1 = cuantas + 26;   #1nume1 = #22#11;      || <3>
        nume1 = cuantas + 29;   #1nume1 = #22#12;      || <4>
        nume1 = cuantas + 32;   #1nume1 = #22#13+#22#14;    || epigrafe
        nume1 = cuantas + 35;   #1nume1 = #22#15;      || actividad
        nume1 = cuantas + 38;   #1nume1 = #22#16;      || valor patrimon.
        nume1 = cuantas + 41;   #1nume1 = #22#17;      || ingr.integ.
        nume1 = cuantas + 44;   #1nume1 = 0;           || ingr.autoconsumo
        nume1 = cuantas + 47;   #1nume1 = 0;           || ingr.sub.
        nume1 = cuantas + 50;   #1nume1 = 0;           || ingr.tra.
        nume1 = cuantas + 53;   #1nume1 = 0;           || ingr.fin.
        nume1 = cuantas + 56;   #1nume1 = 0;           || ingr.varios
        nume1 = cuantas + 59;   #1nume1 = #22#25;      || co. 1
        nume1 = cuantas + 62;   #1nume1 = #22#33;      || co. 2
        nume1 = cuantas + 65;   #1nume1 = 0;           || co. 3
        nume1 = cuantas + 68;   #1nume1 = #22#34;      || fraccion 1
        nume1 = cuantas + 71;   #1nume1 = #22#35;      || fraccion 2
        nume1 = cuantas + 74;   #1nume1 = #22#36;      || fraccion 3
        nume1 = cuantas + 77;   #1nume1 = #22#37;      || fraccion 4
        nume1 = cuantas + 80;   #1nume1 = #22#40;      || compras
        nume1 = cuantas + 83;   #1nume1 = #22#18;      || coste personal
        nume1 = cuantas + 86;   #1nume1 = #22#21;      || gastos finan.
        nume1 = cuantas + 89;   #1nume1 = #22#20;      || alquiler
        nume1 = cuantas + 92;   #1nume1 = #22#22;      || tributos
        nume1 = cuantas + 95;   #1nume1 = 0;           || pension
        nume1 = cuantas + 98;   #1nume1 = #22#29;      || otros gtos.
        nume1 = cuantas + 101;  #1nume1 = #22#23;      || rep.cons.
        nume1 = cuantas + 104;  #1nume1 = 0;           || s.s.personal
        nume1 = cuantas + 107;  #1nume1 = 0;           || gtos.personal
        nume1 = cuantas + 110;  #1nume1 = 0;           || primas seguros
        nume1 = cuantas + 113;  #1nume1 = 0;           || dudoso cobro
        nume1 = cuantas + 116;  #1nume1 = 0;           || fond.edit.
        nume1 = cuantas + 119;  #1nume1 = 0;           || fond.reinv.
        nume1 = cuantas + 122;  #1nume1 = 0;           || g.adminis.
        nume1 = cuantas + 125;  #1nume1 = 0;           || cuot.asoc.
        nume1 = cuantas + 128;  #1nume1 = 0;           || hono.prof.
        nume1 = cuantas + 131;  #1nume1 = 0;           || amortiz.
        nume1 = cuantas + 134;  #1nume1 = #22#26;      || incr.patr.
        nume1 = cuantas + 137;  #1nume1 = #22#27;      || dism.patr.
        nume1 = cuantas + 140;  #1nume1 = #22#32;      || ret.ing.cta.¨..?
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_emprco;
 #22#1;
 ;
 #15#0,  1;
 #15#0, 99;
 e;
 NULL, emprco1;
|FIN;

||***************empresariales directa

|PROCESO empedi1;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #1nume1 = "EC";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #1nume1 = #21#2;       || perceptor
        nume1 = cuantas +  5;   #1nume1 = #21#4;       || declaracion
        nume1 = cuantas +  8;   #1nume1 = #21#5;       || titularidad
        nume1 = cuantas + 11;   #1nume1 = #21#6;       || a¤os usuf.
        nume1 = cuantas + 14;   #1nume1 = #21#7;       || <T>
        nume1 = cuantas + 17;   #1nume1 = #21#8;       || <C>
        nume1 = cuantas + 20;   #1nume1 = #21#9;       || <1>
        nume1 = cuantas + 23;   #1nume1 = #21#10;      || <2>
        nume1 = cuantas + 26;   #1nume1 = #21#11;      || <3>
        nume1 = cuantas + 29;   #1nume1 = #21#12;      || <4>
        nume1 = cuantas + 32;   #1nume1 = #21#13+#21#14;    || epigrafe
        nume1 = cuantas + 35;   #1nume1 = #21#15;      || actividad
        nume1 = cuantas + 38;   #1nume1 = #21#16;      || valor patrimon.
        nume1 = cuantas + 41;   #1nume1 = #21#17;      || ingr.integ.
        nume1 = cuantas + 44;   #1nume1 = #21#18;      || ingr.autoconsumo
        nume1 = cuantas + 47;   #1nume1 = #21#19;      || ingr.sub.
        nume1 = cuantas + 50;   #1nume1 = #21#20;      || ingr.tra.
        nume1 = cuantas + 53;   #1nume1 = #21#21;      || ingr.fin.
        nume1 = cuantas + 56;   #1nume1 = #21#22;      || ingr.varios
        nume1 = cuantas + 59;   #1nume1 = 0;           || co. 1
        nume1 = cuantas + 62;   #1nume1 = 0;           || co. 2
        nume1 = cuantas + 65;   #1nume1 = 0;           || co. 3
        nume1 = cuantas + 68;   #1nume1 = #21#50;      || fraccion 1
        nume1 = cuantas + 71;   #1nume1 = #21#51;      || fraccion 2
        nume1 = cuantas + 74;   #1nume1 = #21#52;      || fraccion 3
        nume1 = cuantas + 77;   #1nume1 = #21#53;      || fraccion 4
        nume1 = cuantas + 80;   #1nume1 = #21#25;      || compras
        nume1 = cuantas + 83;   #1nume1 = #21#26;      || coste personal
        nume1 = cuantas + 86;   #1nume1 = 0;           || gastos finan.
        nume1 = cuantas + 89;   #1nume1 = #21#30;      || alquiler
        nume1 = cuantas + 92;   #1nume1 = #21#24;      || tributos
        nume1 = cuantas + 95;   #1nume1 = #21#28;      || pension
        nume1 = cuantas + 98;   #1nume1 = #21#41;      || otros gtos.
        nume1 = cuantas + 101;  #1nume1 = #21#33;      || rep.cons.
        nume1 = cuantas + 104;  #1nume1 = #21#27;      || s.s.personal
        nume1 = cuantas + 107;  #1nume1 = 0;           || gtos.personal
        nume1 = cuantas + 110;  #1nume1 = #21#35;      || primas seguros
        nume1 = cuantas + 113;  #1nume1 = #21#36;      || dudoso cobro
        nume1 = cuantas + 116;  #1nume1 = #21#37;      || fond.edit.
        nume1 = cuantas + 119;  #1nume1 = #21#38;      || fond.reinv.
        nume1 = cuantas + 122;  #1nume1 = #21#39;      || g.adminis.
        nume1 = cuantas + 125;  #1nume1 = #21#40;      || cuot.asoc.
        nume1 = cuantas + 128;  #1nume1 = #21#29;      || hono.prof.
        nume1 = cuantas + 131;  #1nume1 = #21#32;      || amortiz.
        nume1 = cuantas + 134;  #1nume1 = #21#46;      || incr.patr.
        nume1 = cuantas + 137;  #1nume1 = #21#47;      || dism.patr.
        nume1 = cuantas + 140;  #1nume1 = #21#49;      || ret.ing.cta.¨..?
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_empedi;
 #21#1;
 ;
 #15#0,  1;
 #15#0, 99;
 e;
 NULL, empedi1;
|FIN;

||***************profesionales coeficientes

|PROCESO profco1;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #1nume1 = "PB";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #1nume1 = #20#2;       || perceptor
        nume1 = cuantas +  5;   #1nume1 = #20#4;       || declaracion
        nume1 = cuantas +  8;   #1nume1 = #20#5;       || titularidad
        nume1 = cuantas + 11;   #1nume1 = #20#6;       || a¤os usuf.
        nume1 = cuantas + 14;   #1nume1 = #20#7;       || <T>
        nume1 = cuantas + 17;   #1nume1 = #20#8;       || <C>
        nume1 = cuantas + 20;   #1nume1 = #20#9;       || <1>
        nume1 = cuantas + 23;   #1nume1 = #20#10;      || <2>
        nume1 = cuantas + 26;   #1nume1 = #20#11;      || <3>
        nume1 = cuantas + 29;   #1nume1 = #20#12;      || <4>
        nume1 = cuantas + 32;   #1nume1 = #20#13+#20#14;    || epigrafe
        nume1 = cuantas + 35;   #1nume1 = #20#15;      || actividad
        nume1 = cuantas + 38;   #1nume1 = #20#16;      || valor patrimon.
        nume1 = cuantas + 41;   #1nume1 = #20#17;      || ingr.integ.
        nume1 = cuantas + 44;   #1nume1 = 0;           || ingr.autoconsumo
        nume1 = cuantas + 47;   #1nume1 = 0;           || ingr.sub.
        nume1 = cuantas + 50;   #1nume1 = 0;           || ingr.tra.
        nume1 = cuantas + 53;   #1nume1 = 0;           || ingr.fin.
        nume1 = cuantas + 56;   #1nume1 = 0;           || ingr.varios
        nume1 = cuantas + 59;   #1nume1 = 10;          || co. 1
        nume1 = cuantas + 62;   #1nume1 = 0;           || co. 2
        nume1 = cuantas + 65;   #1nume1 = 0;           || co. 3
        nume1 = cuantas + 68;   #1nume1 = #20#33;      || fraccion 1
        nume1 = cuantas + 71;   #1nume1 = #20#34;      || fraccion 2
        nume1 = cuantas + 74;   #1nume1 = #20#35;      || fraccion 3
        nume1 = cuantas + 77;   #1nume1 = #20#36;      || fraccion 4
        nume1 = cuantas + 80;   #1nume1 = #20#39;      || compras
        nume1 = cuantas + 83;   #1nume1 = #20#18;      || coste personal
        nume1 = cuantas + 86;   #1nume1 = #20#21;      || gastos finan.
        nume1 = cuantas + 89;   #1nume1 = #20#20;      || alquiler
        nume1 = cuantas + 92;   #1nume1 = #20#22;      || tributos
        nume1 = cuantas + 95;   #1nume1 = 0;           || pension
        nume1 = cuantas + 98;   #1nume1 = #20#29;      || otros gtos.
        nume1 = cuantas + 101;  #1nume1 = #20#23;      || rep.cons.
        nume1 = cuantas + 104;  #1nume1 = 0;           || s.s.personal
        nume1 = cuantas + 107;  #1nume1 = 0;           || gtos.personal
        nume1 = cuantas + 110;  #1nume1 = 0;           || primas seguros
        nume1 = cuantas + 113;  #1nume1 = 0;           || dudoso cobro
        nume1 = cuantas + 116;  #1nume1 = 0;           || fond.edit.
        nume1 = cuantas + 119;  #1nume1 = 0;           || fond.reinv.
        nume1 = cuantas + 122;  #1nume1 = 0;           || g.adminis.
        nume1 = cuantas + 125;  #1nume1 = 0;           || cuot.asoc.
        nume1 = cuantas + 128;  #1nume1 = 0;           || hono.prof.
        nume1 = cuantas + 131;  #1nume1 = 0;           || amortiz.
        nume1 = cuantas + 134;  #1nume1 = #20#26;      || incr.patr.
        nume1 = cuantas + 137;  #1nume1 = #20#27;      || dism.patr.
        nume1 = cuantas + 140;  #1nume1 = #20#43;      || ret.ing.cta.
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_profco;
 #20#1;
 ;
 #15#0,  1;
 #15#0, 99;
 e;
 NULL, profco1;
|FIN;

||***************profesionales directa

|PROCESO proedi0;
    cuantas = 0;
|FPRC;

|PROCESO proedi1;
    sihaymas = 0;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #1nume1 = "PC";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #1nume1 = #19#2;       || perceptor
        nume1 = cuantas +  5;   #1nume1 = #19#4;       || declaracion
        nume1 = cuantas +  8;   #1nume1 = #19#5;       || titularidad
        nume1 = cuantas + 11;   #1nume1 = #19#6;       || a¤os usuf.
        nume1 = cuantas + 14;   #1nume1 = #19#7;       || <T>
        nume1 = cuantas + 17;   #1nume1 = #19#8;       || <C>
        nume1 = cuantas + 20;   #1nume1 = #19#9;       || <1>
        nume1 = cuantas + 23;   #1nume1 = #19#10;      || <2>
        nume1 = cuantas + 26;   #1nume1 = #19#11;      || <3>
        nume1 = cuantas + 29;   #1nume1 = #19#12;      || <4>
        nume1 = cuantas + 32;   #1nume1 = #19#13+#19#14;    || epigrafe
        nume1 = cuantas + 35;   #1nume1 = #19#15;      || actividad
        nume1 = cuantas + 38;   #1nume1 = #19#17;      || valor patrimon.
        nume1 = cuantas + 41;   #1nume1 = #19#16;      || ingr.integ.
        nume1 = cuantas + 44;   #1nume1 = 0;           || ingr.autoconsumo
        nume1 = cuantas + 47;   #1nume1 = 0;           || ingr.sub.
        nume1 = cuantas + 50;   #1nume1 = 0;           || ingr.tra.
        nume1 = cuantas + 53;   #1nume1 = 0;           || ingr.fin.
        nume1 = cuantas + 56;   #1nume1 = 0;           || ingr.varios
        nume1 = cuantas + 59;   #1nume1 = 0;           || co. 1
        nume1 = cuantas + 62;   #1nume1 = 0;           || co. 2
        nume1 = cuantas + 65;   #1nume1 = 0;           || co. 3
        nume1 = cuantas + 68;   #1nume1 = #19#29;      || fraccion 1
        nume1 = cuantas + 71;   #1nume1 = #19#30;      || fraccion 2
        nume1 = cuantas + 74;   #1nume1 = #19#31;      || fraccion 3
        nume1 = cuantas + 77;   #1nume1 = #19#32;      || fraccion 4
        nume1 = cuantas + 80;   #1nume1 = 0;           || compras
        nume1 = cuantas + 83;   #1nume1 = #19#19;      || coste personal
        nume1 = cuantas + 86;   #1nume1 = 0;           || gastos finan.
        nume1 = cuantas + 89;   #1nume1 = #19#21;      || alquiler
        nume1 = cuantas + 92;   #1nume1 = 0;           || tributos
        nume1 = cuantas + 95;   #1nume1 = 0;           || pension
        nume1 = cuantas + 98;   #1nume1 = #19#24;      || otros gtos.
        nume1 = cuantas + 101;  #1nume1 = 0;           || rep.cons.
        nume1 = cuantas + 104;  #1nume1 = 0;           || s.s.personal
        nume1 = cuantas + 107;  #1nume1 = 0;           || gtos.personal
        nume1 = cuantas + 110;  #1nume1 = 0;           || primas seguros
        nume1 = cuantas + 113;  #1nume1 = 0;           || dudoso cobro
        nume1 = cuantas + 116;  #1nume1 = 0;           || fond.edit.
        nume1 = cuantas + 119;  #1nume1 = 0;           || fond.reinv.
        nume1 = cuantas + 122;  #1nume1 = 0;           || g.adminis.
        nume1 = cuantas + 125;  #1nume1 = 0;           || cuot.asoc.
        nume1 = cuantas + 128;  #1nume1 = 0;           || hono.prof.
        nume1 = cuantas + 131;  #1nume1 = #19#22;      || amortiz.
        nume1 = cuantas + 134;  #1nume1 = #19#33;      || incr.patr.
        nume1 = cuantas + 137;  #1nume1 = #19#34;      || dism.patr.
        nume1 = cuantas + 140;  #1nume1 = #19#36;      || ret.ing.cta.
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_proedi;
 #19#1;
 ;
 #15#0,  1;
 #15#0, 99;
 e;
 proedi0, proedi1;
|FIN;

|PROCESO carga_1;        || actividades profesionales y empresariales
|BUCLE lee_proedi;
|SI sihaymas = 0;   |BUCLE lee_profco;  |FINSI;
|SI sihaymas = 0;   |BUCLE lee_empedi;  |FINSI;
|SI sihaymas = 0;   |BUCLE lee_emprco;  |FINSI;
|SI sihaymas = 0;   |BUCLE lee_empmod;  |FINSI;
|SI sihaymas = 0;   |BUCLE lee_actafe;  |FINSI;
|SI sihaymas = 0;   |BUCLE lee_rendir;  |FINSI;
    mas1 = sihaymas;
|FPRC;

|PROCESO graba_1;
|DELINDEX #1;
|ABRE #1;
|GRABA 020#1n;
|CIERRA #1;
|FPRC;

****************************************************************************
    PROCESOS DE LECTURA
****************************************************************************

|PROCESO cargando;
|DDEFECTO #1;
|HAZ carga_1;                 || actividades empresariales y profesionales
|HAZ graba_1;
|CORRE "refplan0.run";
|FPRC;

|PROCESO lee_contri;
|ABRE #15;
    #15#0 = contribu;
|LEE 001#15];
    FEstado = FSalida;
|CIERRA #15;
|SI FEstado = 0;
        contribu = #15#0;
    |SI contribu [ has_cont;
        |HAZ cargando;
    |FINSI;
|FINSI;
|FPRC;

|PROGRAMA;
|SI devuelta = 1;
        contribu = contribu + 1;
    |SI contribu [ has_cont;
        |HAZ lee_contri;
    |FINSI;
|SINO;
        devuelta = 1;
    |CLS;
    |CABEZA "Planillas REVERSO";
    |PINPA #0#0;
    |ABRE #0;
    |LEE 001#0p;
    |SI FSalida ! 0;
        |MENAV "    ATENCION!!! Anverso sin imprimir ...";
    |SINO;
            contribu = #0#0;
            has_cont = #0#1;
        |PINDA #0#0;
        |IMPRE 0;
        |SI FSalida = 0;
                impre = Impresora;
            |FINIMP;
            |HAZ control;
            |HAZ lee_contri;
        |SINO;
            |MENAV "    ATENCION!!! Proceso abortado ...";
        |FINSI;
    |FINSI;
    |CIERRA #0;
|FINSI;
|FPRO;

|PROCESO control;
|ABRE #40;
|LEE 001#40p;
|SI FSalida ! 0;  |DDEFECTO #40;  |FINSI;
|CIERRA #40;

    alfa1 = #40#1;       |QBF alfa1;
    alfa2 = alfa1 % 0;   nume2 = alfa2;
    inicio = "";
    swbarra = 0;
|PARA nume1 = 1; |SI nume1 [ nume2; |HACIENDO nume1 = nume1 + 1;
        nume3 = (nume1 * 100) + 1;
        alfa2 = alfa1 % nume3;
    |SI alfa2 = "\";|Y swbarra = 0;
            swbarra = 1;
    |SINO;
        |SI alfa2 = "\";|Y swbarra = 1;
                swbarra = 0;
                inicio = inicio + &codigo;
                codigo = "";
        |FINSI;
    |FINSI;
    |SI alfa2 ! "\";
        |SI swbarra = 0;  inicio = inicio + alfa2;  |FINSI;
        |SI swbarra = 1;  codigo = codigo + alfa2;  |FINSI;
    |FINSI;
|SIGUE;

    alfa1 = #40#2;       |QBF alfa1;
    alfa2 = alfa1 % 0;   nume2 = alfa2;
    fin = "";
    swbarra = 0;
|PARA nume1 = 1; |SI nume1 [ nume2; |HACIENDO nume1 = nume1 + 1;
        nume3 = (nume1 * 100) + 1;
        alfa2 = alfa1 % nume3;
    |SI alfa2 = "\";|Y swbarra = 0;
            swbarra = 1;
    |SINO;
        |SI alfa2 = "\";|Y swbarra = 1;
                swbarra = 0;
                fin = fin + &codigo;
                codigo = "";
        |FINSI;
    |FINSI;
    |SI alfa2 ! "\";
        |SI swbarra = 0;  fin = fin + alfa2;  |FINSI;
        |SI swbarra = 1;  codigo = codigo + alfa2;  |FINSI;
    |FINSI;
|SIGUE;
|FPRC;
