|PROCESO Ventas;
|ABRE #6;
#6#0 = #1#0;
|LEE 040#6=;
|SI FSalida ! 0; |CIERRA #6; |ACABA; |FINSI;
|CIERRA #6;

SwHacer = 1;
|SI #6#56 = "S";
    |SI #6#54 > 0; #99#2 = #6#54; |FINSI;
|FINSI;
|FPRC;

|PROCESO MiraCab;
#7#0 = #8#0;
|LEE 040#7=;
|SI FSalida ! 0; |DDEFECTO #7; |FINSI;

SwHacer = 1;

|SI #8#20 > 0;
    #99#2 = #99#2 + #8#20;
|FINSI;
|FPRC;

|DEFBUCLE reall210;
#8#1;
2;
000, 000, #1#0;
999, 999, #1#0;
e;
NULL, MiraCab;
|FIN;

|PROCESO Alquiler;
|ABRE #7;
|BUCLE reall210;
|CIERRA #7;
|FPRC;

|PROCESO El210;
|SI #3#2 = "G";
    Conta = Conta + 1;
    |SI Conta > 6; |ACABA; |FINSI;

    #99#2 = #99#2 + ((#3#47 % 50) % 25);

    Conta = Conta + 1;
    |SI Conta > 6; |ACABA; |FINSI;

    #99#3 = #99#3 + ((#3#47 % 50) % 25);
|SINO;
    Conta = Conta + 1;
    |SI Conta > 6; |ACABA; |FINSI;

    #99#2  = #99#2 + (#3#47 % 25);
|FINSI;
|FPRC;

|DEFBUCLE recapinm1;
#3#1;
;
#1#0, 00;
#1#0, 99;
e;
NULL, El210;
|FIN;

|PROCESO Modelo210;
Conta = 0;
|BUCLE recapinm1;
|FPRC;

|PROCESO El214;
Coefi = 100;
|SI #1#36 = "X"; |Y #3#2 = "G";  Coefi = 50;  |FINSI;

#3#8  = #3#8  % Coefi;
#3#9  = #3#9  % Coefi;
#3#10 = #3#10 % Coefi;
#3#14 = #3#14 % Coefi;
#3#17 = #3#17 % Coefi;
#3#18 = #3#18 % Coefi;
#3#19 = #3#19 % Coefi;
#3#20 = #3#20 % Coefi;

Recuadro01 = #3#8;
|SI Recuadro01 < #3#17; Recuadro01 = #3#17; |FINSI;
|SI Recuadro01 < #3#19; Recuadro01 = #3#19; |FINSI;

|SI Recuadro01 = 0; |ACABA; |FINSI;

|ABRE #9;
|LEE 040#9p;
|SI FSalida ! 0; |DDEFECTO #9; |FINSI;
|CIERRA #9;

Recuadro02 = #3#9 + #3#10 + #3#14 + #3#20;     || deudas [02]
Recuadro03 = Recuadro01 - Recuadro02;          || base liquidable

|PARA Casilla1 = 8; |SI Casilla1 ] 1; |HACIENDO Casilla1 = Casilla1 - 1;
      Casilla2 = Casilla1 + 8;
      Casilla3 = Casilla1 + 16;
      |SI Recuadro03 > #9Casilla1;
          Hasta = #9Casilla1;

          Cuota = #9Casilla2;
          Porce = #9Casilla3;
          Resto = Recuadro03 - Hasta;
          Cuot2 = (Resto % Porce) ! 0;
          Recuadro04 = Cuota + Cuot2;       || Cuota integra
          |SAL;
      |FINSI;
|SIGUE;

|SI Inicio < #3#18;
     Nume1 = 365 - (#3#18 - Inicio);
     Base = (Nume1 * #3#8) / 365;
|SINO;
     Base = #3#8;
|FINSI;

Recuadro05 = Base % 2;
Recuadro06 = Recuadro05 % 25;
Recuadro07 = Recuadro04 + Recuadro06;
|SI Coefi = 50;
    #99#2 = imp_2 + Recuadro06;
    #99#3 = imp_3 + Recuadro06;
    #99#7 = imp_4 + Recuadro04;
    #99#8 = imp_5 + Recuadro04;
|SINO;
    #99#2 = #99#2 + Recuadro06;
    #99#7 = #99#7 + Recuadro04;
|FINSI;
|FPRC;

|DEFBUCLE recapinm2;
#3#1;
;
#1#0, 00;
#1#0, 99;
e;
NULL, El214;
|FIN;

|PROCESO Modelo214;
Conta = 0;
|BUCLE recapinm2;
|FPRC;

|PROCESO CargaGuiris;
|SI #1#138 = "S";
    |HAZ Ventas;
    |HAZ Alquiler;
    |SI SwHacer = 0;  |HAZ Modelo210;  |FINSI;
|SINO;
    |HAZ Ventas;
    |HAZ Alquiler;
    |SI SwHacer = 0; |HAZ Modelo214; |FINSI;
|FINSI;
|FPRC;
