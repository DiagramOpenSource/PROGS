|FICHEROS;
   reven210 #0;
   redatcon #1;
   repoblac #2;
|FIN;

|VARIABLES;
   alfa1    = "";
   alfa2    = "";
   porce    = 0;
   fecha    = 0;
   anyo_v_a = "";
   anyo_c_a = "";
   anyo_v_n = 0;
   anyo_c_n = 0;
   mes_v_a  = "";
   mes_c_a  = "";
   dia_v_a  = "";
   dia_c_a  = "";
|FIN;

|INCLUYE i_letran;
|INCLUYE i_pausit;

|PROCESO cliente; |TIPO 0;
|ABRE #1;
#1#0 = #0#0;
|LEE 040#1=;
|SI FSalida ! 0;
    |MENAV "     No existe este Cliente en Datos Contribuyentes";
    |ERROR;
|SINO;
    |SI #1#4 = "S";
        |MENAV "      El Clientes es Residente en Espa¤a";
        |ERROR;
    |SINO;
        #0#1 = #1#1;
        #0#2 = #1#2;
        |PINTA #0#1;
        |PINTA #0#2;
    |FINSI;
|FINSI;
|CIERRA #1;
|FPRC;

|PROCESO pintapob1;
|ABRE #2;
#2#0 = #0#12;
#2#1 = #0#13;
|LEE 040#2=;
|SI FSalida = 0;
    #0#15 = #2#3;
    #0#16 = #2#2;
    |PINTA #0#15;
    |PINTA #0#16;
    alfa1 = #0#12;
    alfa1 = "00" + alfa1;
    alfa1 = alfa1 % -102;
    alfa2 = #0#13;
    alfa2 = "000" + alfa2;
    alfa2 = alfa2 % -103;
    #0#14 = alfa1 + alfa2;
|FINSI;
|CIERRA #2;
|FPRC;

|PROCESO pintapob2;
|ABRE #2;
#2#0 = #0#24;
#2#1 = #0#25;
|LEE 040#2=;
|SI FSalida = 0;
    #0#27 = #2#3;
    #0#28 = #2#2;
    |PINTA #0#27;
    |PINTA #0#28;
    alfa1 = #0#24;
    alfa1 = "00" + alfa1;
    alfa1 = alfa1 % -102;
    alfa2 = #0#25;
    alfa2 = "000" + alfa2;
    alfa2 = alfa2 % -103;
    #0#26 = alfa1 + alfa2;
|FINSI;
|CIERRA #2;
|FPRC;

|PROCESO totpant2; |TIPO 0;
#0#41 = #0#39 * #0#40;
#0#43 = #0#41 - #0#42;
#0#47 = #0#44 + #0#46;
#0#52 = #0#43 % 10;
|PINTA #0#41;
|PINTA #0#43;
|PINTA #0#47;
|FPRC;

|PROCESO totpant3; |TIPO 0;
#0#48    = #0#43 - #0#47;

|HAZ tiempo;
porce    = (fecha - 2) * 5.26;
|SI porce < 0; porce = 0; |FINSI;

#0#49    = #0#48 - ((#0#48 * porce) / 100);
|SI #0#49 < 0; #0#49 = 0; |FINSI;

#0#51    = #0#49 % #0#50;
#0#54    = #0#51 - #0#52 - #0#53;

|PINTA #0#48;
|PINTA #0#49;
|PINTA #0#51;
|PINTA #0#54;
|FPRC;

|PROCESO tiempo;
anyo_v_a = #0#34 % -102;
anyo_c_a = #0#45 % -102;

anyo_v_n  = anyo_v_a;
anyo_c_n  = anyo_c_a;

fecha = anyo_v_n - anyo_c_n;

mes_v_a = #0#34 % 402;
mes_c_a = #0#45 % 402;

|SI mes_v_a > mes_c_a;
    fecha = fecha + 1;
|FINSI;

|SI mes_v_a = mes_c_a;
    dia_v_a = #0#34 % 102;
    dia_c_a = #0#45 % 102;
    |SI dia_v_a ] dia_c_a;
        fecha = fecha + 1;
    |FINSI;
|FINSI;
|FPRC;
