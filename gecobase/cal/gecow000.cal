|FICHEROS;
     gecom001;
     gecom050;

     gecow000,MANTE;
|FIN;

|VARIABLES;
     aEMail  = "";

     &enModo = 0;
|FIN;

|PROCESO Tipo12w000;  |TIPO 12;
|FPRC;

|PROCESO Tipo0C0w000;  |TIPO 0;
     aEMail = #gecow000#0;  |QBF aEMail;
     |SI aEMail = "";
         |MENAV "0000Email incorrecto.";
         |ERROR;
         |ACABA;
     |FINSI;

     aEMail = #gecow000#0 - "@";
     |SI FSalida = 0;
         |MENAV "0000Email incorrecto.";
         |ERROR;
         |ACABA;
     |FINSI;

     |SI enModo ! 1;  |ACABA;  |FINSI;


     |SELECT #2#gecom050;
     |LEE 000#gecom050.=;
     #gecom050#0 = #gecom001#0;
     #gecom050#2 = #gecow000#0;
     |LEE 000#gecom050.=;
     |SI FSalida = 0;
         |MENAV "0000El acceso ya existe.";
         |ERROR;
     |FINSI;

     |SELECT #1#gecom050;
|FPRC;
