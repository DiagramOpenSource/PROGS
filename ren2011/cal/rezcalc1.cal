|FICHEROS;
      rew99999 #999;
      retabla1 #401;

      datfic0@ #0;
      datfic1@ #1;
      datfic2@ #2;
      datfic3@ #3;
      datfic4@ #4;
      datfic5@ #5;
      datfic6@ #6;

     &refere1@ #1001;
     &refere2@ #1002;
     &referr3@ #1003;
|FIN;

|VARIABLES;
      aDef             = "";
      aAlfa            = "";
      aFichero         = "";
      aContri          = "";
      aTipoUso         = "";

      nLinea           = 0;
      nPorce           = 0;
      nCoefi           = 0;
      nSwFich          = 0;
      nFactor          = 0;
      nCampo16         = 0;
      nValor           = 0;
      nValor1          = 0;
      nValor2          = 0;
      nValor3          = 0;
      nCatastral       = 0;
      nCampo3          = 0;
      nCampo4          = 0;
      nCampo5          = 0;
      nCampo7          = 0;
      nCampo9          = 0;
      nCampo10         = 0;
      nCampo11         = 0;
      nCampo12         = 0;
      nCampo13         = 0;
      nCampo23         = 0;
      nDiasAlq         = 0;
      nDiasUso         = 0;
      nTotalDias       = 0;
      nTotal           = 0;
      nCoefiAnt        = 0;
      nSuma            = 0;
      nTotAlq          = 0;
      nIngresos1       = 0;
      nIngresos2       = 0;
      nIrregular       = 0;
      nGastos1         = 0;
      nGastos2         = 0;
      nGastos3         = 0;
      nImputa          = 0;
      nResta           = 0;

     &enEmpresa        = 0;
     &enComplementaria = 0;
     &eaPathDef        = "";
     &eaContri         = "";
     &enMinusvalia     = 0;
     &eaMinuAyuda      = "";
     &enBloque         = 0;
     &eaCasilla        = "";
     &enImporte        = 0;
     &enSwAcum         = 0;
     &enNomeDat        = 0;
     &enNomeAgr        = 0;

     &eaMuerto         = "";
     &efFechaMuerto    = @;
     &enCalcuMuerto    = 0;
     &enParte1         = 0;
     &enParte2         = 0;
     &enTipoLiquida    = 0;
     &eaPaisano        = "";
     &eaReside         = "";

     &eaPrograma       = "";
     &enLinea          = 0;
     &eaObserva        = "";
|FIN;

|PROCESO LiquidaA1;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     #1#3  = (N\ #1#3  + (#0#7  % nCoefi) + (#0#28 % nCoefi));
     #1#4  = (N\ #1#4  + (#0#9  % nCoefi));
     #1#5  = (N\ #1#5  + (#0#10 % nCoefi));
     #1#6  = (N\ #1#6  + (#0#11 % nCoefi));
     #1#7  = (N\ #1#7  + (#0#12 % nCoefi));
     #1#8  = (N\ #1#8  + (#0#16 % nCoefi));
     #1#9  = (N\ #1#9  + (#0#18 % nCoefi));
     #1#16 = (N\ #1#16 + (#0#34 % nCoefi));
     #1#24 = (N\ #1#3  + #1#7 + #1#8 + #1#16 - #1#9);

     #1#10 = (N\ #1#10 + (#0#19 % nCoefi));
     #1#11 = (N\ #1#11 + (#0#20 % nCoefi));
     #1#17 = (N\ #1#17 + (#0#36 % nCoefi));

     #1#12 = (N\ #1#12 + (#0#21 % nCoefi)); |SI #1#12 > #401#2;  #1#12 = #401#2;  |FINSI;
     #1#13 = (N\ #1#13 + (#0#22 % nCoefi)); |SI #1#13 > #401#3;  #1#13 = #401#3;  |FINSI;

     #1#14 = (N\ #1#10 + #1#11 + #1#12 + #1#13);

     |SI #0#29 = "S";
         |ABRE #999;
         |SELECT #2#999;
         #999#1 = #0#2;
         |LEE 040#999=;
         |SI FSalida  ! 0;  |DDEFECTO #999;  |FINSI;
         |CIERRA #999;

         |SI #999#3 ] 33;
             nValor = 1;
             |SI #999#4 = "S";  nValor = 2;  |FINSI;
         |FINSI;

         |SI #999#3 ] 65;  nValor = 3;  |FINSI;

         |SI #1#20 < nValor; #1#20 = nValor;  |FINSI;
         |SI #1#20 = 0;      #1#20 = 1;       |FINSI;
     |FINSI;

     #1#15 = (N\ #1#24 - #1#14);
     #1#23 = (N\ #1#15 -  #1#17);
     #1#19 = (N\ #1#19 + 1);

     |SI #1#19 > 1;
         nValor1 =  (#0#7  % nCoefi) + (#0#28 % nCoefi);
         nValor2 =  #0#12 % nCoefi;
         nValor3 =  #0#16 % nCoefi;
         #1#21 = (N\ #1#21 + (nValor1 + nValor2 + nValor3));
     |FINSI;

     |SI eaPaisano = "N";  |Y eaReside = "N";  |Y #0#30 = "S";
         nValor1 =  (#0#7  % nCoefi) + (#0#28 % nCoefi);
         nValor2 =  #0#12 % nCoefi;
         nValor3 =  #0#16 % nCoefi;
         #1#22   = (N\ #1#22 + (nValor1 + nValor2 + nValor3));
     |FINSI;

     #1#18 = (N\ #1#18 + (#0#6  % nCoefi) + (#0#10 % nCoefi));

     enBloque  = 1;
     enSwAcum  = 0;
     eaCasilla = "001";  enImporte = #1#3;   |HAZ GrabaLineal;
     eaCasilla = "002";  enImporte = #1#4;   |HAZ GrabaLineal;
     eaCasilla = "003";  enImporte = #1#5;   |HAZ GrabaLineal;
     eaCasilla = "004";  enImporte = #1#6;   |HAZ GrabaLineal;
     eaCasilla = "005";  enImporte = #1#7;   |HAZ GrabaLineal;
     eaCasilla = "006";  enImporte = #1#8;   |HAZ GrabaLineal;
     eaCasilla = "007";  enImporte = #1#16;  |HAZ GrabaLineal;
     eaCasilla = "008";  enImporte = #1#9;   |HAZ GrabaLineal;
     eaCasilla = "009";  enImporte = #1#24;  |HAZ GrabaLineal;
     eaCasilla = "010";  enImporte = #1#10;  |HAZ GrabaLineal;
     eaCasilla = "011";  enImporte = #1#11;  |HAZ GrabaLineal;
     eaCasilla = "012";  enImporte = #1#12;  |HAZ GrabaLineal;
     eaCasilla = "013";  enImporte = #1#13;  |HAZ GrabaLineal;
     eaCasilla = "014";  enImporte = #1#14;  |HAZ GrabaLineal;
     eaCasilla = "015";  enImporte = #1#15;  |HAZ GrabaLineal;
     eaCasilla = "016";  enImporte = #1#17;  |HAZ GrabaLineal;
     eaCasilla = "021";  enImporte = #1#23;  |HAZ GrabaLineal;

     enBloque  = 38;
     eaCasilla = "742";  enImporte = #1#18;  |HAZ GrabaLineal;

     |GRABA 020#1a;
     |LIBERA #1;

     #2#0 = #1001#0;
     #2#1 = #1001#1;
     #2#2 = #1001#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1001#0;
         #2#1 = #1001#1;
         #2#2 = #1001#2;
         |GRABA 020#2b;
     |FINSI;

     #2#15 = (N\ #1#15);

     |GRABA 020#2a;
     |LIBERA #2;
|FPRC;

|PROCESO LiquidaB1;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     |SI #0#29 = 1;
         #1#11 = (N\ #1#11 +  (#0#22 % nCoefi));
     |SINO;
         #1#12 = (N\ #1#12 +  (#0#22 % nCoefi));
     |FINSI;

     #1#4  = (N\ (#1#11 - 1500));
     |SI #1#4 < 0;  #1#4 = (N\ 0);  |FINSI;

     #1#4  = (N\ #1#4 + #1#12);
     |SI #1#4 < 0;  #1#4 = (N\ 0);  |FINSI;

     #1#10 = (N\ #1#10 + (#0#27 % nCoefi));

     #1#9  = (N\ #1#3  + #1#19 + #1#4 + #1#5 + #1#6 + #1#7 + #1#20);
     #1#13 = (N\ #1#9  - #1#10);
     #1#16 = (N\ #1#13 - #1#15);
     #1#25 = (N\ #1#21 + #1#22 + #1#23 + #1#24 + #1#8);
     #1#27 = (N\ #1#25 - #1#26);
     #1#28 = (N\ #1#27 - #1#14);

     |GRABA 020#1a;
     |LIBERA #1;

     enSwAcum  = 0;
     enBloque  = 2;  eaCasilla = "022";  enImporte = #1#3;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "023";  enImporte = #1#19;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "024";  enImporte = #1#4;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "025";  enImporte = #1#5;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "026";  enImporte = #1#6;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "027";  enImporte = #1#7;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "028";  enImporte = #1#20;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "029";  enImporte = #1#9;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "030";  enImporte = #1#10;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "031";  enImporte = #1#13;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "032";  enImporte = #1#15;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "035";  enImporte = #1#16;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "040";  enImporte = #1#21;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "041";  enImporte = #1#22;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "042";  enImporte = #1#23;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "043";  enImporte = #1#24;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "044";  enImporte = #1#8;   |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "045";  enImporte = #1#25;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "046";  enImporte = #1#26;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "047";  enImporte = #1#27;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "048";  enImporte = #1#14;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "050";  enImporte = #1#28;  |HAZ GrabaLineal;

     enSwAcum  = 1;
     enBloque  = 38; eaCasilla = "743";  enImporte = #0#24 % nCoefi;  |HAZ GrabaLineal;

     #2#0 = #1001#0;
     #2#1 = #1001#1;
     #2#2 = #1001#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1001#0;
         #2#1 = #1001#1;
         #2#2 = #1001#2;
         |GRABA 020#2b;
     |FINSI;

     #2#16 = (N\ #1#13);

     |GRABA 020#2a;
     |LIBERA #2;
|FPRC;

|PROCESO LiquidaB2;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     |SI #0#19 = "I";
         #1#3  = (N\ #1#3  + (#0#20 % nCoefi));
         #1#10 = (N\ #1#10 + (#0#23 % nCoefi));
     |FINSI;

     |SI #0#19 = "B";
         #1#19 = (N\ #1#19 + (#0#20 % nCoefi));
         #1#10 = (N\ #1#10 + (#0#23 % nCoefi));
     |FINSI;

     |SI #0#19 = "B";  |O #0#19 = "F";
         |SI #0#36 ! 0;
             enSwAcum  = 1;
             enBloque  = 37;
             eaCasilla = "740";
             enImporte = (#0#36 % nCoefi) - (#0#22 % nCoefi);
             |HAZ GrabaLineal;
         |FINSI;
     |FINSI;

     |SI #0#19 = "C";
         #1#6  = (N\ #1#6  + (#0#20 % nCoefi) + (#0#29 % nCoefi));
         #1#10 = (N\ #1#10 + (#0#23 % nCoefi) + (#0#32 % nCoefi));
     |FINSI;

     |SI #0#19 = "5";
         #1#20 = (N\ #1#20 + (#0#20 % nCoefi) + (#0#29 % nCoefi));
         #1#10 = (N\ #1#10 + (#0#23 % nCoefi) + (#0#32 % nCoefi));
     |FINSI;

     |SI #0#19 = "O";  |O #0#19 = "F";
         #1#8  = (N\ #1#8  + (#0#20 % nCoefi) + (#0#29 % nCoefi));
         #1#26 = (N\ #1#26 + (#0#23 % nCoefi));
         #1#14 = (N\ #1#14 + (#0#26 % nCoefi));
     |FINSI;

     |SI #0#19 = "1";
         #1#21 = (N\ #1#21 + (#0#20 % nCoefi));
         #1#26 = (N\ #1#26 + (#0#23 % nCoefi));
         #1#14 = (N\ #1#14 + (#0#26 % nCoefi));
     |FINSI;

     |SI #0#19 = "2";
         #1#22 = (N\ #1#22 + (#0#20 % nCoefi));
         #1#26 = (N\ #1#26 + (#0#23 % nCoefi));
         #1#14 = (N\ #1#14 + (#0#26 % nCoefi));
     |FINSI;

     |SI #0#19 = "3";
         #1#23 = (N\ #1#23 + (#0#20 % nCoefi));
         #1#26 = (N\ #1#26 + (#0#23 % nCoefi));
         #1#14 = (N\ #1#14 + (#0#26 % nCoefi));
     |FINSI;

     |SI #0#19 = "4";
         #1#24 = (N\ #1#24 + (#0#20 % nCoefi));
         #1#26 = (N\ #1#26 + (#0#23 % nCoefi));
         #1#14 = (N\ #1#14 + (#0#26 % nCoefi));
     |FINSI;

     #1#9  = (N\ #1#3  + #1#19 + #1#4 + #1#5 + #1#6 + #1#7 + #1#20);
     #1#13 = (N\ #1#9  - #1#10);
     #1#16 = (N\ #1#13 - #1#15);
     #1#25 = (N\ #1#21 + #1#22 + #1#23 + #1#24 + #1#8);
     #1#27 = (N\ #1#25 - #1#26);
     #1#28 = (N\ #1#27 - #1#14);

     |GRABA 020#1a;
     |LIBERA #1;

     enSwAcum  = 0;
     enBloque  = 2;  eaCasilla = "022";  enImporte = #1#3;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "023";  enImporte = #1#19;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "024";  enImporte = #1#4;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "025";  enImporte = #1#5;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "026";  enImporte = #1#6;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "027";  enImporte = #1#7;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "028";  enImporte = #1#20;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "029";  enImporte = #1#9;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "030";  enImporte = #1#10;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "031";  enImporte = #1#13;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "032";  enImporte = #1#15;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "035";  enImporte = #1#16;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "040";  enImporte = #1#21;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "041";  enImporte = #1#22;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "042";  enImporte = #1#23;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "043";  enImporte = #1#24;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "044";  enImporte = #1#8;   |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "045";  enImporte = #1#25;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "046";  enImporte = #1#26;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "047";  enImporte = #1#27;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "048";  enImporte = #1#14;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "050";  enImporte = #1#28;  |HAZ GrabaLineal;

     enSwAcum  = 1;
     enBloque  = 38;
     eaCasilla = "743";
     enImporte = (#0#22 % nCoefi) + (#0#31 % nCoefi);
     |HAZ GrabaLineal;

     #2#0 = #1001#0;
     #2#1 = #1001#1;
     #2#2 = #1001#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1001#0;
         #2#1 = #1001#1;
         #2#2 = #1001#2;
         |GRABA 020#2b;
     |FINSI;

     #2#16 = (N\ #1#13);

     |GRABA 020#2a;
     |LIBERA #2;
|FPRC;

|PROCESO LiquidaB3;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     #1#7  = (N\ #1#7  + (#0#18 % nCoefi));
     #1#15 = (N\ #1#15 + (#0#24 % nCoefi));

     #1#9  = (N\ #1#3  + #1#19 + #1#4 + #1#5 + #1#6 + #1#7 + #1#20);
     #1#13 = (N\ #1#9  - #1#10);
     #1#16 = (N\ #1#13 - #1#15);
     #1#25 = (N\ #1#21 + #1#22 + #1#23 + #1#24 + #1#8);
     #1#27 = (N\ #1#25 - #1#26);
     #1#28 = (N\ #1#27 - #1#14);

     |GRABA 020#1a;
     |LIBERA #1;

     enSwAcum  = 0;
     enBloque  = 2;  eaCasilla = "022";  enImporte = #1#3;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "023";  enImporte = #1#19;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "024";  enImporte = #1#4;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "025";  enImporte = #1#5;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "026";  enImporte = #1#6;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "027";  enImporte = #1#7;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "028";  enImporte = #1#20;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "029";  enImporte = #1#9;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "030";  enImporte = #1#10;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "031";  enImporte = #1#13;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "032";  enImporte = #1#15;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "035";  enImporte = #1#16;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "040";  enImporte = #1#21;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "041";  enImporte = #1#22;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "042";  enImporte = #1#23;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "043";  enImporte = #1#24;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "044";  enImporte = #1#8;   |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "045";  enImporte = #1#25;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "046";  enImporte = #1#26;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "047";  enImporte = #1#27;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "048";  enImporte = #1#14;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "050";  enImporte = #1#28;  |HAZ GrabaLineal;

     enSwAcum  = 1;
     enBloque  = 38;
     eaCasilla = "743";
     enImporte = #0#20 % nCoefi;
     |HAZ GrabaLineal;

     #2#0 = #1001#0;
     #2#1 = #1001#1;
     #2#2 = #1001#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1001#0;
         #2#1 = #1001#1;
         #2#2 = #1001#2;
         |GRABA 020#2b;
     |FINSI;

     #2#16 = (N\ #1#13);

     |GRABA 020#2a;
     |LIBERA #2;
|FPRC;

|PROCESO LiquidaB4;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     #1#20 = (N\ #1#20  + (#0#26 % nCoefi));

     #1#9  = (N\ #1#3  + #1#19 + #1#4 + #1#5 + #1#6 + #1#7 + #1#20);
     #1#13 = (N\ #1#9  - #1#10);
     #1#16 = (N\ #1#13 - #1#15);
     #1#25 = (N\ #1#21 + #1#22 + #1#23 + #1#24 + #1#8);
     #1#27 = (N\ #1#25 - #1#26);
     #1#28 = (N\ #1#27 - #1#14);

     |GRABA 020#1a;
     |LIBERA #1;

     enSwAcum  = 0;
     enBloque  = 2;  eaCasilla = "022";  enImporte = #1#3;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "023";  enImporte = #1#19;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "024";  enImporte = #1#4;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "025";  enImporte = #1#5;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "026";  enImporte = #1#6;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "027";  enImporte = #1#7;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "028";  enImporte = #1#20;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "029";  enImporte = #1#9;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "030";  enImporte = #1#10;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "031";  enImporte = #1#13;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "032";  enImporte = #1#15;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "035";  enImporte = #1#16;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "040";  enImporte = #1#21;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "041";  enImporte = #1#22;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "042";  enImporte = #1#23;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "043";  enImporte = #1#24;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "044";  enImporte = #1#8;   |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "045";  enImporte = #1#25;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "046";  enImporte = #1#26;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "047";  enImporte = #1#27;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "048";  enImporte = #1#14;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "050";  enImporte = #1#28;  |HAZ GrabaLineal;

     enSwAcum  = 1;
     enBloque  = 38;
     eaCasilla = "743";
     enImporte = #0#29 % nCoefi;
     |HAZ GrabaLineal;

     #2#0 = #1001#0;
     #2#1 = #1001#1;
     #2#2 = #1001#2;
     |LEE 101#2=;
     |SI FSalida ! 0;
         |DDEFECTO #2;
         #2#0 = #1001#0;
         #2#1 = #1001#1;
         #2#2 = #1001#2;
         |GRABA 020#2b;
     |FINSI;

     #2#16 = (N\ #1#13);

     |GRABA 020#2a;
     |LIBERA #2;
|FPRC;

|PROCESO LiquidaB5;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     #1#5  = (N\ #1#5  + (#0#24 % nCoefi));
     #1#5  = (N\ #1#5  - (#0#22 % nCoefi));

     #1#9  = (N\ #1#3  + #1#19 + #1#4 + #1#5 + #1#6 + #1#7 + #1#20);
     #1#13 = (N\ #1#9  - #1#10);
     #1#16 = (N\ #1#13 - #1#15);
     #1#25 = (N\ #1#21 + #1#22 + #1#23 + #1#24 + #1#8);
     #1#27 = (N\ #1#25 - #1#26);
     #1#28 = (N\ #1#27 - #1#14);

     |GRABA 020#1a;
     |LIBERA #1;

     enSwAcum  = 0;
     enBloque  = 2;  eaCasilla = "022";  enImporte = #1#3;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "023";  enImporte = #1#19;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "024";  enImporte = #1#4;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "025";  enImporte = #1#5;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "026";  enImporte = #1#6;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "027";  enImporte = #1#7;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "028";  enImporte = #1#20;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "029";  enImporte = #1#9;   |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "030";  enImporte = #1#10;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "031";  enImporte = #1#13;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "032";  enImporte = #1#15;  |HAZ GrabaLineal;
     enBloque  = 2;  eaCasilla = "035";  enImporte = #1#16;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "040";  enImporte = #1#21;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "041";  enImporte = #1#22;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "042";  enImporte = #1#23;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "043";  enImporte = #1#24;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "044";  enImporte = #1#8;   |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "045";  enImporte = #1#25;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "046";  enImporte = #1#26;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "047";  enImporte = #1#27;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "048";  enImporte = #1#14;  |HAZ GrabaLineal;
     enBloque  = 3;  eaCasilla = "050";  enImporte = #1#28;  |HAZ GrabaLineal;
|FPRC;

|PROCESO LiquidaB6;
     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     |LEE 101#1=;
     |SI FSalida ! 0;
         |DDEFECTO #1;
         #1#0 = #1001#0;
         #1#1 = #1001#1;
         #1#2 = #1001#2;
         |GRABA 020#1b;
     |FINSI;

     #1#29 = (N\ #1#29 + (#0#11 % nCoefi));
     #1#30 = (N\ #1#30 + (#0#12 % nCoefi));

     |GRABA 020#1a;
     |LIBERA #1;
|FPRC;

|PROCESO GrabaC2;
     #6#0 = #1001#0;
     #6#1 = #1001#1;
     #6#2 = #1001#2;
     #6#3 = 99;
     |LEE 040#6];
     |SI FSalida = 0;
         |LEE 040#6a;
     |SINO;
         |LEE 040#6u;
     |FINSI;

     |SI FSalida = 0; |Y #6#0 = #1001#0; |Y #6#1 = #1001#1; |Y #6#2 = #1001#2;
         nLinea = #6#3 + 1;
     |SINO;
         nLinea = 1;
     |FINSI;

     |DDEFECTO #6;
     #6#0  = #1001#0;
     #6#1  = #1001#1;
     #6#2  = #1001#2;
     #6#3  = nLinea;
     #6#4  = aContri;
     #6#5  = #0#138;
     #6#6  = #0#139 % nCoefi;
     #6#8  = #0#125;
     #6#9  = #0#14;

                        #6#7  = "1";
     |SI #0#18 = "R";   #6#7  = "2";  |FINSI;
     |SI #0#18 = "T";   #6#7  = "2";  |FINSI;

     |GRABA 020#6n;
     |LIBERA #6;
|FPRC;

|PROCESO MiraElC2;
     aContri   = eaContri;
     nCoefiAnt = nCoefi;

     |SI #1001#2 = "CONJUNTA  ";
         aContri = #0#2;
         |SI aContri = "GANANCIAL ";  aContri = "COMUNES";  |FINSI;

         |SI #0#2 ! "VARIOS    ";                || SI es TITULAR O CONYUGE;
             |HAZ GrabaC2;
         |SINO;
             |SI #0#5  ! 0; nCoefi = #0#5;   aContri = "TITULAR   ";  |HAZ GrabaC2;  |FINSI;
             |SI #0#6  ! 0; nCoefi = #0#6;   aContri = "CONYUGE   ";  |HAZ GrabaC2;  |FINSI;
             |SI #0#7  ! 0; nCoefi = #0#7;   aContri = "1 FAMILIAR";  |HAZ GrabaC2;  |FINSI;
             |SI #0#8  ! 0; nCoefi = #0#8;   aContri = "2 FAMILIAR";  |HAZ GrabaC2;  |FINSI;
             |SI #0#9  ! 0; nCoefi = #0#9;   aContri = "3 FAMILIAR";  |HAZ GrabaC2;  |FINSI;
             |SI #0#10 ! 0; nCoefi = #0#10;  aContri = "4 FAMILIAR";  |HAZ GrabaC2;  |FINSI;
         |FINSI;
     |SINO;
         |HAZ GrabaC2;
     |FINSI;

     nCoefi = nCoefiAnt;
|FPRC;

|PROCESO GrabaD;
     #2#0 = #1001#0;
     #2#1 = #1001#1;
     #2#2 = #1001#2;
     #2#3 = 99;
     |LEE 040#2];
     |SI FSalida = 0;
         |LEE 040#2a;
     |SINO;
         |LEE 040#2u;
     |FINSI;

     |SI FSalida = 0; |Y #2#0 = #1001#0; |Y #2#1 = #1001#1; |Y #2#2 = #1001#2;
         nLinea = #2#3 + 1;
     |SINO;
         nLinea = 1;
     |FINSI;

     |DDEFECTO #2;
     #2#0  = #1001#0;
     #2#1  = #1001#1;
     #2#2  = #1001#2;
     #2#3  = nLinea;
     #2#4  = aContri;
     #2#5  = nCoefi;
     #2#6  = #0#14;
     #2#9  = #0#125;
                          #2#8 = 1;
     |SI nDiasAlq ! 0;    #2#8 = 2;  |FINSI;
     |SI #0#128   = "a";  #2#8 = 2;  |FINSI;

     |GRABA 020#2n;
     |LIBERA #2;
|FPRC;

|PROCESO MiraElD;
     aContri   = eaContri;
     nCoefiAnt = nCoefi;

     |SI #1001#2 = "CONJUNTA  ";
         aContri = #0#2;
         |SI aContri = "GANANCIAL ";  aContri = "COMUNES";  |FINSI;

         |SI #0#2 ! "VARIOS    ";                || SI es TITULAR O CONYUGE;
             |HAZ GrabaD;
         |SINO;
             |SI #0#5  ! 0; nCoefi = #0#5;   aContri = "TITULAR   ";  |HAZ GrabaD;  |FINSI;
             |SI #0#6  ! 0; nCoefi = #0#6;   aContri = "CONYUGE   ";  |HAZ GrabaD;  |FINSI;
             |SI #0#7  ! 0; nCoefi = #0#7;   aContri = "1 FAMILIAR";  |HAZ GrabaD;  |FINSI;
             |SI #0#8  ! 0; nCoefi = #0#8;   aContri = "2 FAMILIAR";  |HAZ GrabaD;  |FINSI;
             |SI #0#9  ! 0; nCoefi = #0#9;   aContri = "3 FAMILIAR";  |HAZ GrabaD;  |FINSI;
             |SI #0#10 ! 0; nCoefi = #0#10;  aContri = "4 FAMILIAR";  |HAZ GrabaD;  |FINSI;
         |FINSI;
     |SINO;
         |HAZ GrabaD;
     |FINSI;

     nCoefi = nCoefiAnt;
|FPRC;

|PROCESO CargaAnexo1;
     #3#63  = (N\ #3#63 + ((#0#95 % #0#134) % nCoefi));
     #3#64  = (N\ #3#64 + ((#0#96 % #0#134) % nCoefi));
     #3#65  = (N\ #3#65 + (#0#97  % nCoefi));
     #3#66  = (N\ #3#66 + (#0#98  % nCoefi));

     #3#67  = (N\ #3#67  + ((#0#99  % #0#134) % nCoefi));
     #3#68  = (N\ #3#68  + ((#0#100 % #0#134) % nCoefi));
     #3#69  = (N\ #3#69  + (#0#101 % nCoefi));
     #3#164 = (N\ #3#164 + (#0#102 % nCoefi));

     |SI #0#30 ! 0;  |O #0#33 ! 0;
         |SI #0#23 ! 0;  |O #0#126 ! 0;
             #3#70  = (N\ #3#70 + (#0#22 % nCoefi));
             #3#71  = (N\ #3#71 + (#0#23 % nCoefi));

             |SI #3#31 = "01.01.0000";
                 #3#31 = #0#25;

                 aAlfa   = #3#32;  |QBT aAlfa;
                 |SI aAlfa = "";
                     #3#32 = #0#116;
                 |FINSI;
             |SINO;
                 #3#32 = "";
                 #3#33 = 100;
             |FINSI;

             |SI #0#25 < #3#31;  |Y #0#25 ! "01.01.0000";
                 #3#31 = #0#25;
             |FINSI;

             |SI #0#25 < "20.01.2006";  |Y #0#25 ! "01.01.0000";
                 #3#82  = (N\ #3#82 + ((#0#95 % #0#134) % nCoefi));
                 #3#83  = (N\ #3#83 + ((#0#96 % #0#134) % nCoefi));
                 #3#84  = (N\ #3#84 + (#0#97  % nCoefi));
             |FINSI;

             #3#29  = (N\ #3#29 + (#0#126 % nCoefi));

             aAlfa = #3#81;  |QBT aAlfa;
             |SI aAlfa = "";   #3#81  = #0#127;   |FINSI;

             |SI #3#33 = 0;  #3#33 = #0#134;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #0#30 ! 0;  |O #0#33 ! 0;
         |SI #3#75 = "N";  |O #3#75 = " ";
             #3#75 = #0#119;
         |FINSI;

         |SI #0#2 = "GANANCIAL ";
             |SI #3#2 = "TITULAR   ";
                 |SI #3#76 = " ";  #3#76 = #0#120;  |FINSI;
                 |SI #3#76 = "1";  |Y #0#120 = "2";
                     #3#76 = #0#120;
                 |FINSI;
             |FINSI;

             |SI #3#2 = "CONYUGE   ";
                 |SI #3#76 = " ";  #3#76 = #0#121;  |FINSI;
                 |SI #3#76 = "1";  |Y #0#121 = "2";
                     #3#76 = #0#121;
                 |FINSI;
             |FINSI;

             |SI #3#2 = "CONJUNTA  ";  |O #3#2 = "CONJUNTAE ";
                 |SI #3#76 = " ";  #3#76 = #0#120;  |FINSI;
                 |SI #3#76 = "1";  |Y #0#120 = "2";
                     #3#76 = #0#120;
                 |FINSI;

                 |SI #3#76 = " ";  #3#76 = #0#121;  |FINSI;
                 |SI #3#76 = "1";  |Y #0#121 = "2";
                     #3#76 = #0#121;
                 |FINSI;
             |FINSI;
         |SINO;
             |SI #3#76 = " ";  #3#76 = #0#120;  |FINSI;
             |SI #3#76 = "1";  |Y #0#120 = "2";
                 #3#76 = #0#120;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI #999#7 = 9;  |Y #3#76 = " ";
         #3#76 = "1";
     |FINSI;

     |SI #999#7 = 5;
         |SI #3#80 = " ";  #3#80 = "N";  |FINSI;
         |SI #0#97 ! 0;  |O #0#101 ! 0;
             #3#80 = "S";
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO InversionD;
     |ABRE #999;
     |SELECT #2#999;
     #999#1 = #0#2;
     |LEE 040#999=;
     |SI FSalida  ! 0;  |DDEFECTO #999;  |FINSI;
     |CIERRA #999;

     #3#0 = #1001#0;
     #3#1 = #1001#1;
     #3#2 = #1001#2;
     |LEE 101#3=;
     |SI FSalida ! 0;
         |DDEFECTO #3;
         #3#0 = #1001#0;
         #3#1 = #1001#1;
         #3#2 = #1001#2;
         |GRABA 020#3b;
     |FINSI;

     |HAZ CargaAnexo1;

     |GRABA 020#3a;
     |LIBERA #3;
|FPRC;

|PROCESO GrabaElC;
     |SI #0#104 = "N";  |ACABA;  |FINSI;

     |SI #0#18 = "S";  |O #0#18 = "T";
         |ACABA;
     |FINSI;

     aContri   = eaContri;

     |SI #1001#2 = "CONJUNTA  ";
         aContri = #0#2;

         |SI aContri = "GANANCIAL ";
             aContri = "COMUNES";
         |FINSI;

         |SI aContri = "VARIOS    ";
             aContri = "";
             nSuma   = #0#5 + #0#6 + #0#7 + #0#8 + #0#9 + #0#10;

             |SI #0#5  = nSuma;  aContri = "TITULAR";     |FINSI;
             |SI #0#6  = nSuma;  aContri = "CONYUGE";     |FINSI;
             |SI #0#7  = nSuma;  aContri = "1 FAMILIAR";  |FINSI;
             |SI #0#8  = nSuma;  aContri = "2 FAMILIAR";  |FINSI;
             |SI #0#9  = nSuma;  aContri = "3 FAMILIAR";  |FINSI;
             |SI #0#10 = nSuma;  aContri = "4 FAMILIAR";  |FINSI;

             |SI aContri = "";
                 aContri = "COMUNES";
             |FINSI;
         |FINSI;
     |FINSI;

     #1#0 = #1001#0;
     #1#1 = #1001#1;
     #1#2 = #1001#2;
     #1#3 = 999;
     |LEE 040#1];
     |SI FSalida = 0;
         |LEE 040#1a;
     |SINO;
         |LEE 040#1u;
     |FINSI;

     |SI FSalida = 0; |Y #1#0 = #1001#0; |Y #1#1 = #1001#1; |Y #1#2 = #1001#2;
         nLinea = #1#3 + 1;
     |SINO;
         nLinea = 1;
     |FINSI;

     |DDEFECTO #1;
     #1#0  = #1001#0;
     #1#1  = #1001#1;
     #1#2  = #1001#2;
     #1#3  = nLinea;
     #1#4  = aContri;
     #1#5  = nCoefi;

                        #1#6  = "1";
     |SI #0#18 = "R";   #1#6  = "2";  |FINSI;
     |SI #0#18 = "T";   #1#6  = "2";  |FINSI;

     nImputa     = 0;
     nDiasAlq    = #0#31;
     |SI eaMuerto ! "";
         nDiasAlq = #0#31 + #0#34;
     |FINSI;

     nDiasUso = #0#32;
     |SI eaMuerto ! "";
         nDiasUso = #0#32 + #0#35;
     |FINSI;

     nTotalDias =  #0#30 + #0#31 + #0#32 + #0#33 + #0#34 + #0#35;

     |SI #1001#2 = "CONJUNTA  ";  |Y eaMuerto ! "";
         nDiasAlq = #0#31 + #0#34;
         nDiasUso = #0#32 + #0#35;
     |FINSI;

     |SI #1001#2 = "TITULAR   ";  |Y eaMuerto = "T";
         nDiasAlq   = #0#31;
         nDiasUso   = #0#32;
         nTotalDias = #0#30 + #0#31 + #0#32;
     |FINSI;

     |SI #1001#2 = "CONYUGE   ";  |Y eaMuerto = "C";
         nDiasAlq   = #0#31;
         nDiasUso   = #0#32;
         nTotalDias = #0#30 + #0#31 + #0#32;
     |FINSI;

     aTipoUso = #0#141;   |QBF aTipoUso;

     |SI nDiasUso ! 0;  |O nDiasAlq ! 0;
         |SI #0#104 ! "N";
             |SI #0#15 ! 0;
                 |SI #0#17 = "S";
                     nImputa = (((#0#15 % 1.1) * (nDiasUso / 365)) % #0#136) % nCoefi;
                 |SINO;
                     nImputa = (((#0#15 % 2) * (nDiasUso / 365)) % #0#136) % nCoefi;
                 |FINSI;
             |SINO;
                 nValor     = #0#26;
                 |SI nValor < #0#27;  nValor = #0#27;  |FINSI;

                 nImputa = ((((nValor % 50) % 1.1) * (nDiasUso / 365)) % #0#136) % nCoefi;
             |FINSI;

             |SI nDiasAlq = nTotalDias;
                 nImputa   = 0;
             |FINSI;

             |SI #0#128 = "A";  |O #0#128 = "a";
                 |SI nDiasUso = nTotalDias;
                     nImputa   = 0;
                 |FINSI;
             |FINSI;

             |SI nDiasUso ! 0;  |Y nDiasAlq ! 0;
                 |SI #0#128 = "A";  |O #0#128 = "a";
                     nImputa   = 0;
                 |FINSI;
             |FINSI;

             |SI nDiasAlq = nTotalDias;  |Y aTipoUso = "";
                 aTipoUso  = "1";
             |FINSI;

             |SI #0#128 = "A";  |O #0#128 = "a";
                 |SI nDiasAlq ! 0;  |Y nDiasUso ! 0;  |Y aTipoUso = "";
                     aTipoUso  = "1";
                 |FINSI;
             |FINSI;

             |SI nDiasAlq ! 0;  |Y nDiasUso ! 0;  |Y #0#128 = "D";  |Y aTipoUso = "";
                 aTipoUso  = "3";
             |FINSI;

             |SI nDiasAlq ! 0;  |Y nDiasUso ! 0;  |Y #0#128 = "P";  |Y aTipoUso = "";
                 aTipoUso  = "3";
             |FINSI;

             |SI nDiasUso ! 0;  |Y nDiasAlq = 0;  |Y #0#128 = "D";  |Y aTipoUso = "";
                 aTipoUso  = "2";
             |FINSI;

             |SI nDiasUso ! 0;  |Y nDiasAlq = 0;  |Y #0#128 = "P";  |Y aTipoUso = "";
                 aTipoUso  = "2";
             |FINSI;

             |SI aTipoUso = "";  |Y nDiasAlq ! 0;
                 aTipoUso  = "1";
             |FINSI;

             nDiasUso = #0#32;
             |SI eaMuerto ! "";
                 nDiasUso = #0#32 + #0#35;
             |FINSI;

             |SI #1001#2 = "CONJUNTA  ";  |Y eaMuerto ! "";
                 nDiasUso = #0#32 + #0#35;
             |FINSI;

             |SI #1001#2 = "TITULAR   ";  |Y eaMuerto = "T";
                 nDiasUso = #0#32;
             |FINSI;

             |SI #1001#2 = "CONYUGE   ";  |Y eaMuerto = "C";
                 nDiasUso = #0#32;
             |FINSI;

             #1#10 = (N\ #0#136);
             #1#11 = 0;
             |SI nImputa ! 0;
                 #1#11 = (N\ nDiasUso);
             |FINSI;
             #1#12 = (N\ nImputa);
         |FINSI;
     |FINSI;

     nIngresos1  = 0;
     nIngresos2  = 0;
     nIrregular  = 0;
     nGastos1    = 0;
     nGastos2    = 0;
     nGastos3    = 0;
     nCatastral  = 0;

     |SI nDiasAlq ! 0;
         |SI #0#37 = "A";
             nIngresos1 = (nIngresos1  + (#0#38 * (nDiasAlq / 365) % nCoefi));
         |SINO;
             nIngresos1 = (nIngresos1  + (#0#38 % nCoefi));
         |FINSI;

         |SI #0#39 = "A";
             nIngresos2 = (nIngresos2  + (#0#40 * (nDiasAlq / 365) % nCoefi));
         |SINO;
             nIngresos2 = (nIngresos2  + (#0#40 % nCoefi));
         |FINSI;

         |SI #0#41 = "A";
             nIngresos2 = (nIngresos2  + (#0#42 * (nDiasAlq / 365) % nCoefi));
         |SINO;
             nIngresos2 = (nIngresos2  + (#0#42 % nCoefi));
         |FINSI;

         |SI #0#43 = "A";
             nIngresos1 = (nIngresos1 + (#0#44 * (nDiasAlq / 365) % nCoefi));
             nIrregular = ((#0#44 * 0.4) * (nDiasAlq / 365) % nCoefi);
         |SINO;
             nIngresos1 = (nIngresos1 + (#0#44 % nCoefi));
             nIrregular = (#0#44 * 0.4) % nCoefi;
         |FINSI;

         nGastos3  = (#0#140 % nCoefi);

         |SI #0#48 = "A";
             nGastos1  = (nGastos1 + (#0#22 * (nDiasAlq / 365) % nCoefi));
         |SINO;
             nGastos1  = (nGastos1 + (#0#22 % nCoefi));
         |FINSI;

         |SI #0#130 = "A";
             nGastos1  = (nGastos1 + (#0#131 * (nDiasAlq / 365) % nCoefi));
         |SINO;
             nGastos1  = (nGastos1 + (#0#131 % nCoefi));
         |FINSI;

         |SI #0#59 = "A";
             nGastos2 = (nGastos2  + (#0#60 * (nDiasAlq / 365) % nCoefi));
         |SINO;
             nGastos2  = (nGastos2 + (#0#60 % nCoefi));
         |FINSI;

         |SI #0#54 = "A";
             nGastos2  = (nGastos2 + (#0#55 * (nDiasAlq / 365) % nCoefi));
         |SINO;
             nGastos2  = (nGastos2 + (#0#55 % nCoefi));
         |FINSI;

         |SI nDiasAlq ! 0;
             |SI #0#49 = "A";
                 nGastos2  = (nGastos2 + (#0#21 * (nDiasAlq / 365) % nCoefi));
             |SINO;
                 nGastos2  = (nGastos2 + (#0#21 % nCoefi));
             |FINSI;
         |FINSI;

         |SI #0#50 = "A";
             nGastos2  = (nGastos2  + (#0#51 * (nDiasAlq / 365) % nCoefi));
         |SINO;
             nGastos2  = (nGastos2  + (#0#51 % nCoefi));
         |FINSI;

         |SI #0#52 = "A";
             nGastos2  = (nGastos2  + (#0#53 * (nDiasAlq / 365) % nCoefi));
         |SINO;
             nGastos2  = (nGastos2  + (#0#53 % nCoefi));
         |FINSI;

         |SI #0#56 = "A";
             nGastos2  = (nGastos2  + (#0#57 * (nDiasAlq / 365) % nCoefi));
         |SINO;
             nGastos2  = (nGastos2  + (#0#57 % nCoefi));
         |FINSI;

         |SI #0#36 = "S";
             nValor = nIngresos1 - (nGastos1 + nGastos2);

             nPorce = 2;
             |SI #0#17 = "S";  nPorce = 1.1;  |FINSI;

             |SI #0#15 > 0;
                 nCatastral = ((#0#15 % nPorce) * (nDiasAlq / 365)) % nCoefi;
             |SINO;
                 nCatastral = #0#27;
                 |SI nCatastral < #0#26;  nCatastral = #0#26;  |FINSI;
                 nCatastral = (((nCatastral % 50) % 1.1) * (nDiasAlq / 365)) % nCoefi;
             |FINSI;
         |FINSI;

         #1#13 = (N\ nIngresos1 + nIngresos2);

         nValor1 = #1#13;
         nValor2 = nGastos1 + nGastos3;
         |SI nValor2 > nValor1;
             nResta = nValor1;
             |SI nGastos3 > nValor1;
                 nGastos3 = nValor1;
                 nGastos1 = 0;
                 nResta   = 0;
             |SINO;
                 nResta = nResta - nGastos3;
             |FINSI;

             |SI nGastos1 > nResta;
                 nGastos1 = nResta;
             |FINSI;

             #1#15  = (N\ nValor2 - nValor1);
         |FINSI;

         #1#14 = (N\ nGastos1);
         #1#22 = (N\ nGastos3);
         #1#16 = (N\ nGastos2);
         #1#17 = (N\ #1#13 - #1#22 - #1#14 - #1#16);

         |SI #0#132 = "F";
             #1#18 = #0#142 % nCoefi;
         |SINO;
             #1#18 = 0;
             |SI #1#17 > 0;
                 |SI #0#18 = "U";
                     |SI #0#132 = "N";
                         #1#18 = (N\ #1#17 % 60);
                     |SINO;
                         |SI #0#133 = 100;
                             #1#18 = (N\ #1#17 % 100);
                         |SINO;
                             nValor1 = #1#17 % #0#133;
                             nValor2 = #1#17 - nValor1;
                             #1#18   = (N\ nValor1 + (nValor2 % 60));
                         |FINSI;
                     |FINSI;
                 |FINSI;
             |SINO;
                 |SI #0#18 = "U";
                     #1#18 = (N\ #1#17 % 60);
                 |FINSI;
             |FINSI;
         |FINSI;

         #1#19  = (N\ nIrregular);

         |SI #0#36 = "S";
             #1#20  = (N\ nCatastral);
         |FINSI;

         #1#21 = #1#17 - #1#18 - #1#19;
         |SI #1#20 ! 0;
             nValor1 = #1#17 - #1#18 - #1#19;
             nValor2 = #1#20;
             #1#21   = nValor1;
             |SI nValor2 > nValor1;
                 #1#21   = nValor2;
             |FINSI;
         |FINSI;
     |FINSI;

     #1#7  = aTipoUso;
     #1#8  = #0#125;
     #1#9  = #0#14;

     |SI  #1#12 = 0;  |Y  #1#13 = 0;  |Y  #1#22 = 0;  |Y  #1#14 = 0;
      |Y  #1#15 = 0;  |Y  #1#16 = 0;  |Y  #1#17 = 0;  |Y  #1#18 = 0;
      |Y  #1#19 = 0;  |Y  #1#20 = 0;  |Y  #1#21 = 0;
      |Y  #0#141 ! "6";  |Y  #0#141 ! "4";
          |ACABA;
     |FINSI;

     |GRABA 020#1n;
     |LIBERA #1;

     #5#17 = (N\ #5#17 + #1#13);
     #5#19 = (N\ #5#19 + #1#17);
     #5#28 = (N\ #5#28 + #1#20);

     enBloque  = 4;
     enSwAcum  = 1;

     eaCasilla = "080";  enImporte = #1#12;  |HAZ GrabaLineal;
     eaCasilla = "085";  enImporte = #1#21;  |HAZ GrabaLineal;
|FPRC;

|PROCESO LiquidaC1;
     nDiasAlq    = #0#31;
     |SI eaMuerto ! "";
         nDiasAlq = #0#31 + #0#34 + #0#34;
     |FINSI;

     nDiasUso = #0#32;
     |SI eaMuerto ! "";
         nDiasUso = #0#32 + #0#35 + #0#35;
     |FINSI;

     |SI #1001#2 = "CONJUNTA  ";  |Y eaMuerto ! "";
         nDiasAlq = #0#31 + #0#34;
     |FINSI;

     |SI #1001#2 = "TITULAR   ";  |Y eaMuerto = "T";
         nDiasAlq = #0#31;
     |FINSI;

     |SI #1001#2 = "CONYUGE   ";  |Y eaMuerto = "C";
         nDiasAlq = #0#31;
     |FINSI;

     #5#0 = #1001#0;
     #5#1 = #1001#1;
     #5#2 = #1001#2;
     |LEE 101#5=;
     |SI FSalida ! 0;
         |DDEFECTO #5;
         #5#0 = #1001#0;
         #5#1 = #1001#1;
         #5#2 = #1001#2;
         |GRABA 020#5b;
     |FINSI;

     |SI #0#137 = "S";
         |HAZ MiraElC2;
     |FINSI;

     |SI #0#128 = "P";
         |HAZ MiraElD;
     |FINSI;

     |SI #0#128 = "A";  |O #0#128 = "a";
         |HAZ MiraElD;

         |SI nDiasAlq ! 0;  |HAZ GrabaElC;  |FINSI;
     |SINO;
         |SI #0#30 ! 0;  |O #0#33 ! 0;
             |SI #0#25 < "04.05.1998";  |Y #0#25 ! "01.01.0000"; |Y #0#23 ! 0;
                 #5#24 = (N\ #5#24 + (#0#21 % nCoefi));
                 |SI #0#17 = "S";
                     #5#25 = (N\ #5#25 + ((#0#15 % nCoefi) % 1.1));
                 |SINO;
                     #5#25 = (N\ #5#25 + ((#0#15 % nCoefi) % 2));
                 |FINSI;
                 #5#23 = #0#25;
             |FINSI;

             |SI nDiasAlq ! 0; |O nDiasUso ! 0;
                 |HAZ GrabaElC;
             |FINSI;

            |SI #0#141 = "4";  |HAZ GrabaElC;  |FINSI;
            |SI #0#141 = "6";  |HAZ GrabaElC;  |FINSI;
         |SINO;
             |HAZ GrabaElC;
         |FINSI;
     |FINSI;

     |GRABA 020#5a;
     |LIBERA #5;

     |SI nDiasAlq ! 0;
         enSwAcum  = 1;
         enBloque  = 38;
         eaCasilla = "744";

         |SI #0#46 = "A";
             enImporte = (#0#47 * (nDiasAlq / 365)) % nCoefi;
         |SINO;
             enImporte = #0#47 % nCoefi;
         |FINSI;

         |HAZ GrabaLineal;
     |FINSI;

     |HAZ InversionD;

     |SI #0#24 = "S";
         |SI #0#30 ! 0;  |O #0#33 ! 0;
             |ABRE #4;
             #4#0 = #1001#0;
             #4#1 = #1001#1;
             #4#2 = #1001#2;
             |LEE 101#4=;
             |SI FSalida ! 0;
                 |DDEFECTO #4;
                 #4#0 = #1001#0;
                 #4#1 = #1001#1;
                 #4#2 = #1001#2;
                 |GRABA 020#4b;
             |FINSI;

             #4#24 = (N\ #4#24 + (#0#109 % nCoefi));
             #4#25 = (N\ #4#25 + (#0#110 % nCoefi));
             #4#26 = (N\ #4#26 + (#0#74  % nCoefi));
             |SI #0#109 ! 0;  |O #0#110 ! 0;  |O #0#74 ! 0;
                 |SI #0#73 > 0;
                     #4#23 = (N\ #4#23 + (#0#73  % nCoefi));
                 |FINSI;
                 #4#22 = (N\ #4#22 + ((#0#69 - #0#111) % nCoefi));
             |FINSI;
             |GRABA 020#4a;
             |LIBERA #4;
             |CIERRA #4;

             enBloque  = 20;
             enSwAcum  = 0;
             eaCasilla = "420";  enImporte = #4#22;  |HAZ GrabaLineal;
             eaCasilla = "421";  enImporte = #4#23;  |HAZ GrabaLineal;
             eaCasilla = "422";  enImporte = #4#24;  |HAZ GrabaLineal;
             eaCasilla = "423";  enImporte = #4#25;  |HAZ GrabaLineal;
             eaCasilla = "424";  enImporte = #4#26;  |HAZ GrabaLineal;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO Liquida1;
     |HAZ CreaLiquida;               || En el rezcalut

     |SI nSwFich = 1;  |HAZ LiquidaA1;  |FINSI;
     |SI nSwFich = 3;  |HAZ LiquidaB1;  |FINSI;
     |SI nSwFich = 4;  |HAZ LiquidaB2;  |FINSI;
     |SI nSwFich = 5;  |HAZ LiquidaB3;  |FINSI;
     |SI nSwFich = 6;  |HAZ LiquidaB4;  |FINSI;
     |SI nSwFich = 7;  |HAZ LiquidaB5;  |FINSI;
     |SI nSwFich = 8;  |HAZ LiquidaB6;  |FINSI;
     |SI nSwFich = 2;  |HAZ LiquidaC1;  |FINSI;
|FPRC;

|PROCESO Seleccion1;
     |SI #0#2 = "GANANCIAL ";                || Si es Ganancial
         nCoefi = 50;  eaContri = "TITULAR   ";   |HAZ Liquida1;
         nCoefi = 50;  eaContri = "CONYUGE   ";   |HAZ Liquida1;
         nCoefi = 100; eaContri = "CONJUNTA  ";   |HAZ Liquida1;

         |SI eaMuerto ! "";
             nCoefi = 50;  eaContri = "CONJUNTAE ";   |HAZ Liquida1;
         |FINSI;

         |ACABA;
     |FINSI;

     |SI #0#2 ! "VARIOS    ";                || SI es TITULAR O CONYUGE;
         nCoefi = 100;  eaContri = #0#2;          |HAZ Liquida1;
         nCoefi = 100;  eaContri = "CONJUNTA  ";  |HAZ Liquida1;

         |SI eaMuerto = "T";  |Y #0#2 ! "TITULAR   ";
             nCoefi = 100;  eaContri = "CONJUNTAE ";   |HAZ Liquida1;
         |FINSI;

         |SI eaMuerto = "C";  |Y #0#2 ! "CONYUGE   ";
             nCoefi = 100;  eaContri = "CONJUNTAE ";   |HAZ Liquida1;
         |FINSI;
         |ACABA;
     |FINSI;
                                             || SI es Varios

     |SI #0#5  ! 0; nCoefi = #0#5;   eaContri = "TITULAR   ";  |HAZ Liquida1;  |FINSI;
     |SI #0#6  ! 0; nCoefi = #0#6;   eaContri = "CONYUGE   ";  |HAZ Liquida1;  |FINSI;
     |SI #0#7  ! 0; nCoefi = #0#7;   eaContri = "1 FAMILIAR";  |HAZ Liquida1;  |FINSI;
     |SI #0#8  ! 0; nCoefi = #0#8;   eaContri = "2 FAMILIAR";  |HAZ Liquida1;  |FINSI;
     |SI #0#9  ! 0; nCoefi = #0#9;   eaContri = "3 FAMILIAR";  |HAZ Liquida1;  |FINSI;
     |SI #0#10 ! 0; nCoefi = #0#10;  eaContri = "4 FAMILIAR";  |HAZ Liquida1;  |FINSI;

     nCoefi   = #0#5 + #0#6 + #0#7 + #0#8 + #0#9 + #0#10;
     eaContri = "CONJUNTA  "; |HAZ Liquida1;

     |SI eaMuerto = "T";
         nCoefi  = #0#6 + #0#7 + #0#8 + #0#9 + #0#10;
         eaContri = "CONJUNTAE "; |HAZ Liquida1;
     |FINSI;

     |SI eaMuerto = "C";
         nCoefi  = #0#5 + #0#7 + #0#8 + #0#9 + #0#10;
         eaContri = "CONJUNTAE "; |HAZ Liquida1;
     |FINSI;
|FPRC;

|PROCESO PuntoA1;
     nSwFich = 1;
     aDef    = eaPathDef + "rem00020.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01010.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1010"#;  |FINSI;

     aDef    = eaPathDef + "rem01018.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1018"#;  |FINSI;

     nCampo16 = 0;

     |ABRE #2;
     |ABRE #1;
     |ABRE #0;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";  |HAZ Seleccion1;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00020";
                enLinea    = #0#1;
                eaObserva  = "(A) RENDIMIENTOS DEL TRABAJO";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #2;
     |CIERRA #1;
     |CIERRA #0;

     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoC1;
     nSwFich = 2;
     aDef    = eaPathDef + "rem00021.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01011.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1011"#;  |FINSI;

     aDef    = eaPathDef + "rem01013.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1013"#;  |FINSI;

     aDef    = eaPathDef + "rem01041.mas";
     |CARGA_DEF aDef, datfic3@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic3@#"zdat1041"#;  |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, datfic4@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic4@#"zdat1033"#;  |FINSI;

     nCoefiAnt = nCoefi;
     aDef    = eaPathDef + "rem01018.mas";
     |CARGA_DEF aDef, datfic5@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic5@#"zdat1018"#;  |FINSI;

     aDef    = eaPathDef + "rem01015.mas";
     |CARGA_DEF aDef, datfic6@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic6@#"zdat1015"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |ABRE #3;
     |ABRE #5;
     |ABRE #6;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion1;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00021";
                enLinea    = #0#1;
                eaObserva  = "(D) RENDIMIENTOS DEL CAPITAL INMOBILIARIO";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;
     |CIERRA #3;
     |CIERRA #5;
     |CIERRA #6;

     |DESCARGA_DEF #datfic6@;
     |DESCARGA_DEF #datfic5@;
     |DESCARGA_DEF #datfic4@;
     |DESCARGA_DEF #datfic3@;
     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoB1;
     nSwFich = 3;
     aDef    = eaPathDef + "rem00022.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01012.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1012"#;  |FINSI;

     aDef    = eaPathDef + "rem01018.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1018"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion1;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00022";
                enLinea    = #0#1;
                eaObserva  = "(B1) PARTICIPACIONES EN FONDOS PROPIOS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;

     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoB2;
     nSwFich = 4;
     aDef    = eaPathDef + "rem00023.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01012.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1012"#;  |FINSI;

     aDef    = eaPathDef + "rem01018.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1018"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion1;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00023";
                enLinea    = #0#1;
                eaObserva  = "(B2) CESION A TERCEROS Y OTROS RENDIMIENTOS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;

     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoB3;
     nSwFich = 5;
     aDef    = eaPathDef + "rem00024.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01012.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1012"#;  |FINSI;

     aDef    = eaPathDef + "rem01018.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1018"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion1;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00024";
                enLinea    = #0#1;
                eaObserva  = "(B3) CONTRATO DE SEGUROS, CAPITAL DIFERIDO";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;

     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoB4;
     nSwFich = 6;
     aDef    = eaPathDef + "rem00051.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01012.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1012"#;  |FINSI;

     aDef    = eaPathDef + "rem01018.mas";
     |CARGA_DEF aDef, datfic2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic2@#"zdat1018"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |ABRE #2;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion1;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00051";
                enLinea    = #0#1;
                eaObserva  = "(B4) RENTAS TEMPORALES Y VITALICIAS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;
     |CIERRA #2;

     |DESCARGA_DEF #datfic2@;
     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoB5;
     nSwFich = 7;
     aDef    = eaPathDef + "rem00052.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01012.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1012"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion1;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00052";
                enLinea    = #0#1;
                eaObserva  = "(B5) DEUDA PUBLICA";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;

     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoB6;
     nSwFich = 8;
     aDef    = eaPathDef + "rem00062.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01012.mas";
     |CARGA_DEF aDef, datfic1@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #datfic1@#"zdat1012"#;  |FINSI;

     |ABRE #0;
     |ABRE #1;
     |DDEFECTO #0;
     #0#0 = enEmpresa;
     #0#1 = 1;
     |LEE 040#0];
     |PARA; |SI FSalida = 0;  |Y #0#0 = enEmpresa;  |HACIENDO;
            |SI #0#3 = "R";  |O #0#3 = "A";   |HAZ Seleccion1;  |FINSI;
            |SI #0#3 = "X";
                eaPrograma = "rem00052";
                enLinea    = #0#1;
                eaObserva  = "(B6) COMPENSACION FISCAL";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#0s;
     |SIGUE;
     |CIERRA #0;
     |CIERRA #1;

     |DESCARGA_DEF #datfic1@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO Bloque1;
     |HAZ PuntoA1;
     |HAZ PuntoB1;
     |HAZ PuntoB2;
     |HAZ PuntoB3;
     |HAZ PuntoB4;
     |HAZ PuntoB5;
     |HAZ PuntoB6;
     |HAZ PuntoC1;
|FPRC;
