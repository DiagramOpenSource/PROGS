|FICHEROS;
    xxx00013 #0;
    xxx00015 #2;
|FIN;

|VARIABLES;
    &empresa   = 0;
    &anyo      = 0;
    &modo      = 0;

    FEstado = 0;
    varcamp = 0;
    x       = 0;
    tecla_p = "";
    avance  = "815";
    atras   = "814";
|FIN;

|PROGRAMA;
|ABRE #0;
|PINPA #0#0;
|SI modo = 1; |O modo = 2; |HAZ pidedato; |FINSI;
|SI modo = 4; |HAZ consulta; |FINSI;
|CIERRA #0;
|FPRO;

|PROCESO pidedato;
#0#0  = empresa;
#0#1 = anyo;
|LEE 110#0=;
FEstado = FSalida;
|SI FEstado ! 0; |DDEFECTO #0; #0#0 = empresa; #0#1 = anyo; |FINSI;
|PINDA #0#0;
|SI modo = 1; |ENDATOS #1#0;  |FINSI;
|SI modo = 2; |ENDATOS #2#0;  |FINSI;
|SI FSalida = 0;
    #0#0  = empresa;
    #0#1 = anyo;
    |SI FEstado = 0; |GRABA 020#0a; |SINO; |GRABA 020#0n; |FINSI;
    |LIBERA #0;
    |CIERRA #0;

    |HAZ graba_liq;
|FINSI;
|FPRC;

|PROCESO consulta;
  avance = &255 + avance;
  atras = &255 + atras;
  #0#0 = empresa;
  #0#1 = anyo;
  |LEE 040#0=;
  |SI FSalida = 0; |HAZ pantalla1; |FINSI;
|FPRC;

|PROCESO pantalla1;
  |PINPA #0#0;
  |PINDA #0#0;
  |MENSA "0411  Av.Pag.= Siguiente Pantalla  Re.Pag. = Pantalla Anterior";
  |LEETECLA tecla_p;
|FPRC;

|PROCESO graba_liq;
|ABRE #2;
#2#0 = #0#0;
#2#1 = #0#1;

|LIBERA #2;
|LEE 140#2=;
FEstado = FSalida;
|SI FSalida ! 0;
   |DDEFECTO #2;
   #2#0 = #0#0;
   #2#1 = #0#1;
|FINSI;

#2#3 = #0#2 + #0#4 + #0#5 + #0#8 + #0#9 + #0#11
#2#3 = #2#3 + #0#13 + #0#14 + #0#16 + #0#18 + #0#20;
#2#4 = #0#3 + #0#6 + #0#7 + #0#10 + #0#12 + #0#15 + #0#17 + #0#19 + #0#21;

#2#5 = #2#2 + #2#3 - #2#4;          || Punto 729
#2#7 = #2#5 - #2#6;                 || Punto 731
|SI #2#8 ! 0;|O #2#9 ! 0;
    #2#11 = (#2#8 + #2#9) % #2#10;  || Punto 735
    |SI #2#11 < 0; #2#11 = 0; |FINSI;
|SINO;
    #2#11 = #2#7 % #2#10;           || Punto 735
    |SI #2#11 < 0; #2#11 = 0; |FINSI;
|FINSI;

#2#13 = #2#11 - #2#12;              || Punto 737
#2#18 = #2#13 - (#2#14 + #2#15 + #2#16 + #2#17);  || Punto 742
#2#23 = #2#18 - (#2#19 + #2#20 + #2#21 + #2#22);  || Punto 747
#2#32 = #2#23 - (#2#24 + #2#25 + #2#26 + #2#27 + #2#28 + #2#29 + #2#30 + #2#31);
#2#34 = #2#32 - #2#33;
#2#38 = #2#34 - (#2#35 + #2#36 + #2#37);
#2#43 = #2#38 + #2#39 + #2#40 - #2#41 + #2#42;

|SI FEstado = 0; |GRABA 141#2a; |SINO; |GRABA 141#2n; |FINSI;
|CIERRA #2;
|FPRC;
