|FICHEROS;
   isocie30 #0;
   isocie52 #4;
   isocie55 #5;
   isocie66 #6;
   isocie68 #8;
|FIN;

|VARIABLES;
   &empresa   = 0;
   &anyo      = 0;
   &modo      = 0;
   &modelito  = 0;

   anyo_al    = "";
   anyo_nu    = 0;
   anyo_li    = 0;
   FEstado    = 0;
   xxx        = 0;
|FIN;

|RUTINA ClaveBaja;
  #0#0 = empresa;
  #0#1 = anyo;
  #0#2 = 1;
|FRUT;

|RUTINA ClaveAlta;
  #0#0 = empresa;
  #0#1 = anyo;
  #0#2 = 99;
|FRUT;


|PROCESO pintaany; |TIPO 7;
anyo_al = anyo;
anyo_al = anyo_al % -102;
anyo_nu = anyo_al;

|SI #0#3 ! 00; |ACABA; |FINSI;
#0#3 = anyo_nu - 1;
|PINTA #0#3;
|FPRC;

|PROCESO limite; |TIPO 0;
anyo_li = anyo_nu - 5;
|SI #0#3 < anyo_li; |AVISO; |ERROR; |ACABA; |FINSI;

|SI #0#3 ] anyo_nu; |AVISO; |ERROR; |ACABA; |FINSI;

|SI #0#3 = 88; #0#4 = 20; |FINSI;
|SI #0#3 = 89; #0#4 = 20; |FINSI;
|SI #0#3 = 90; #0#4 = 25; |FINSI;
|SI #0#3 = 91; #0#4 = 25; |FINSI;
|SI #0#3 = 92; #0#4 = 25; |FINSI;
|SI #0#3 = 93; #0#4 = 25; |FINSI;
|SI #0#3 = 94; #0#4 = 25; |FINSI;
|SI #0#3 = 96; #0#4 = 15; |FINSI;
|PINTA #0#4;

|C_M #0#9, 1, "S";
|SI #0#3 < 94; |C_M #0#9, 1, "N"; #0#9 = 0; |PINTA #0#9; |FINSI;
|FPRC;

|PROCESO tipo; |TIPO 0;
  |SI #0#3 < 94; |ACABA; |FINSI;
  |SI #0#9 = 0; |AVISO; |ERROR; |ACABA; |FINSI;
  |SI #0#9 = 1; #0#4 = 35; |FINSI;
  |SI #0#9 = 2; #0#4 = 25; |FINSI;
  |SI #0#9 = 3; #0#4 = 25; |FINSI;
  |SI #0#9 = 4; #0#4 = 15; |FINSI;
  |SI #0#3 = 96;
      |SI #0#9 = 2;  |O #0#9 = 3;
          |MENAV "     Tipo de Deduccion erroneo";
          |ERROR;
          |ACABA;
      |FINSI;
  |SINO;
      |SI #0#9 = 4;
          |MENAV "     Tipo de Deduccion erroneo";
          |ERROR;
          |ACABA;
      |FINSI;
  |FINSI;
  |SI #0#3 = 97;
      |SI #0#9 ! 1;
          |MENAV "     Tipo de Deduccion erroneo";
          |ERROR;
          |ACABA;
      |FINSI;
  |FINSI;
  |PINTA #0#4;
|FPRC;

|PROCESO resumen; |TIPO 2;
|SI #0#1 = 1995; |HAZ isocie52; |FINSI;
|SI #0#1 = 1996; |HAZ isocie55; |FINSI;
|SI #0#1 = 1997; |HAZ isocie66; |FINSI;
|SI #0#1 ] 1998; |HAZ isocie68; |FINSI;
|FPRC;

|PROCESO isocie52;
|ABRE #4;
#4#0 = #0#0;
#4#1 = #0#1;
|LIBERA #4;
|LEE 110#4=;
FEstado = FSalida;
|SI FSalida ! 0; |DDEFECTO #4; |FINSI;

#4#0 = #0#0;
#4#1 = #0#1;

|SI #0#3 = 90; #4#2  = #4#2  +. #0#7; #4#4  = #4#4  +. #0#7; |FINSI;
|SI #0#3 = 91; #4#8  = #4#8  +. #0#7; #4#10 = #4#10 +. #0#7; |FINSI;
|SI #0#3 = 92; #4#14 = #4#14 +. #0#7; #4#16 = #4#16 +. #0#7; |FINSI;
|SI #0#3 = 93; #4#20 = #4#20 +. #0#7; #4#22 = #4#22 +. #0#7; |FINSI;
|SI #0#3 = 94;
    |SI #0#9 = 1; #4#26  = #4#26  +. #0#7; #4#28  = #4#28  +. #0#7; |FINSI;
    |SI #0#9 = 2; #4#143 = #4#143 +. #0#7; #4#145 = #4#145 +. #0#7; |FINSI;
    |SI #0#9 = 3; #4#146 = #4#146 +. #0#7; #4#148 = #4#148 +. #0#7; |FINSI;
|FINSI;

#4#32 = 0;
#4#33 = 0;
#4#34 = 0;
|PARA xxx = 2; |SI xxx [ 29; |HACIENDO xxx = xxx + 1;
                     #4#32 = #4#32 + #4xxx;
      xxx = xxx + 1; #4#33 = #4#33 + #4xxx;
      xxx = xxx + 1; #4#34 = #4#34 + #4xxx;
|SIGUE;

#4#32 = #4#32 + #4#143 + #4#146;
#4#33 = #4#33 + #4#144 + #4#147;
#4#34 = #4#34 + #4#145 + #4#148;

#4#56 = 0;
#4#57 = 0;
#4#58 = 0;
|PARA xxx = 35; |SI xxx [ 53; |HACIENDO xxx = xxx + 1;
                     #4#56 = #4#56 + #4xxx;
      xxx = xxx + 1; #4#57 = #4#57 + #4xxx;
      xxx = xxx + 1; #4#58 = #4#58 + #4xxx;
|SIGUE;

#4#89 = 0;
#4#90 = 0;
#4#91 = 0;
|PARA xxx = 59; |SI xxx [ 86; |HACIENDO xxx = xxx + 1;
                     #4#89 = #4#89 + #4xxx;
      xxx = xxx + 1; #4#90 = #4#90 + #4xxx;
      xxx = xxx + 1; #4#91 = #4#91 + #4xxx;
|SIGUE;

#4#110 = 0;
#4#111 = 0;
#4#112 = 0;
|PARA xxx = 92; |SI xxx [ 107; |HACIENDO xxx = xxx + 1;
                     #4#110 = #4#110 + #4xxx;
      xxx = xxx + 1; #4#111 = #4#111 + #4xxx;
      xxx = xxx + 1; #4#112 = #4#112 + #4xxx;
|SIGUE;

#4#125 = 0;
#4#126 = 0;
#4#127 = 0;
|PARA xxx = 113; |SI xxx [ 122; |HACIENDO xxx = xxx + 1;
                     #4#125 = #4#125 + #4xxx;
      xxx = xxx + 1; #4#126 = #4#126 + #4xxx;
      xxx = xxx + 1; #4#127 = #4#127 + #4xxx;
|SIGUE;

#4#140 = 0;
#4#141 = 0;
#4#142 = 0;
|PARA xxx = 128; |SI xxx [ 137; |HACIENDO xxx = xxx + 1;
                     #4#140 = #4#140 + #4xxx;
      xxx = xxx + 1; #4#141 = #4#141 + #4xxx;
      xxx = xxx + 1; #4#142 = #4#142 + #4xxx;
|SIGUE;

|SI FEstado = 0; |GRABA 020#4a; |SINO; |GRABA 020#4n; |FINSI;
|CIERRA #4;
|FPRC;

|PROCESO isocie55;
  |ABRE #5;
  #5#0 = #0#0;
  #5#1 = #0#1;
  |LIBERA #5;
  |LEE 110#5=;
  FEstado = FSalida;
  |SI FSalida ! 0; |DDEFECTO #5; |FINSI;

  #5#0 = #0#0;
  #5#1 = #0#1;

  |SI #0#3 = 91; #5#2  = #5#2  +. #0#7; #5#4  = #5#4  +. #0#7; |FINSI;
  |SI #0#3 = 92; #5#8  = #5#8  +. #0#7; #5#10 = #5#10 +. #0#7; |FINSI;
  |SI #0#3 = 93; #5#14 = #5#14 +. #0#7; #5#16 = #5#16 +. #0#7; |FINSI;

  |SI #0#3 = 94;
      |SI #0#9 = 1; #5#20 = #5#20 +. #0#7; #5#22 = #5#22 +. #0#7; |FINSI;
      |SI #0#9 = 2; #5#23 = #5#23 +. #0#7; #5#25 = #5#25 +. #0#7; |FINSI;
      |SI #0#9 = 3; #5#26 = #5#26 +. #0#7; #5#28 = #5#28 +. #0#7; |FINSI;
  |FINSI;

  |SI #0#3 = 95;
      |SI #0#9 = 1; #5#32 = #5#32 +. #0#7; #5#34 = #5#34 +. #0#7; |FINSI;
      |SI #0#9 = 2; #5#35 = #5#35 +. #0#7; #5#37 = #5#37 +. #0#7; |FINSI;
      |SI #0#9 = 3; #5#38 = #5#38 +. #0#7; #5#40 = #5#40 +. #0#7; |FINSI;
  |FINSI;

  #5#44 = 0;
  #5#45 = 0;
  #5#46 = 0;
  |PARA xxx = 2; |SI xxx [ 41; |HACIENDO xxx = xxx + 1;
                       #5#44 = #5#44 + #5xxx;
        xxx = xxx + 1; #5#45 = #5#45 + #5xxx;
        xxx = xxx + 1; #5#46 = #5#46 + #5xxx;
  |SIGUE;

  #5#71 = 0;
  #5#72 = 0;
  #5#73 = 0;
  |PARA xxx = 50; |SI xxx [ 68; |HACIENDO xxx = xxx + 1;
                       #5#71 = #5#71 + #5xxx;
        xxx = xxx + 1; #5#72 = #5#72 + #5xxx;
        xxx = xxx + 1; #5#73 = #5#73 + #5xxx;
  |SIGUE;

  #5#95 = 0;
  #5#96 = 0;
  #5#97 = 0;
  |PARA xxx = 74; |SI xxx [ 92; |HACIENDO xxx = xxx + 1;
                       #5#95 = #5#95 + #5xxx;
        xxx = xxx + 1; #5#96 = #5#96 + #5xxx;
        xxx = xxx + 1; #5#97 = #5#97 + #5xxx;
  |SIGUE;

  #5#116 = 0;
  #5#117 = 0;
  #5#118 = 0;
  |PARA xxx = 98; |SI xxx [ 110; |HACIENDO xxx = xxx + 1;
                       #5#116 = #5#116 + #5xxx;
        xxx = xxx + 1; #5#117 = #5#117 + #5xxx;
        xxx = xxx + 1; #5#118 = #5#118 + #5xxx;
  |SIGUE;

  #5#134 = 0;
  #5#135 = 0;
  #5#136 = 0;
  |PARA xxx = 119; |SI xxx [ 131; |HACIENDO xxx = xxx + 1;
                       #5#134 = #5#134 + #5xxx;
        xxx = xxx + 1; #5#135 = #5#135 + #5xxx;
        xxx = xxx + 1; #5#136 = #5#136 + #5xxx;
  |SIGUE;

  #5#152 = 0;
  #5#153 = 0;
  #5#154 = 0;
  |PARA xxx = 137; |SI xxx [ 149; |HACIENDO xxx = xxx + 1;
                       #5#152 = #5#152 + #5xxx;
        xxx = xxx + 1; #5#153 = #5#153 + #5xxx;
        xxx = xxx + 1; #5#154 = #5#154 + #5xxx;
  |SIGUE;

  |SI FEstado = 0; |GRABA 020#5a; |SINO; |GRABA 020#5n; |FINSI;
  |CIERRA #5;
|FPRC;

|PROCESO isocie66;
  |ABRE #6;
  #6#0 = #0#0;
  #6#1 = #0#1;
  |LIBERA #6;
  |LEE 110#6=;
  FEstado = FSalida;
  |SI FSalida ! 0; |DDEFECTO #6; |FINSI;

  #6#0 = #0#0;
  #6#1 = #0#1;

  |SI #0#3 = 92; #6#2  = #6#2  +. #0#7; #6#4  = #6#4  +. #0#7; |FINSI;
  |SI #0#3 = 93; #6#8  = #6#8  +. #0#7; #6#10 = #6#10 +. #0#7; |FINSI;

  |SI #0#3 = 94;
      |SI #0#9 = 1; #6#14 = #6#14 +. #0#7; #6#16 = #6#16 +. #0#7; |FINSI;
      |SI #0#9 = 2; #6#17 = #6#17 +. #0#7; #6#19 = #6#19 +. #0#7; |FINSI;
      |SI #0#9 = 3; #6#20 = #6#20 +. #0#7; #6#22 = #6#22 +. #0#7; |FINSI;
  |FINSI;

  |SI #0#3 = 95;
      |SI #0#9 = 1; #6#26 = #6#26 +. #0#7; #6#28 = #6#28 +. #0#7; |FINSI;
      |SI #0#9 = 2; #6#29 = #6#29 +. #0#7; #6#31 = #6#31 +. #0#7; |FINSI;
      |SI #0#9 = 3; #6#32 = #6#32 +. #0#7; #6#34 = #6#34 +. #0#7; |FINSI;
  |FINSI;

  |SI #0#3 = 96;
      |SI #0#9 = 1; #6#50 = #6#50 +. #0#7; #6#52 = #6#52 +. #0#7; |FINSI;
      |SI #0#9 = 4; #6#38 = #6#38 +. #0#7; #6#40 = #6#40 +. #0#7; |FINSI;
  |FINSI;

  #6#47 = 0;
  #6#48 = 0;
  #6#49 = 0;
  |PARA xxx = 2; |SI xxx [ 44; |HACIENDO xxx = xxx + 1;
                       #6#47 = #6#47 + #6xxx;
        xxx = xxx + 1; #6#48 = #6#48 + #6xxx;
        xxx = xxx + 1; #6#49 = #6#49 + #6xxx;
  |SIGUE;

  #6#80 = 0;
  #6#81 = 0;
  #6#82 = 0;
  |PARA xxx = 50; |SI xxx [ 77; |HACIENDO xxx = xxx + 1;
                       #6#80 = #6#80 + #6xxx;
        xxx = xxx + 1; #6#81 = #6#81 + #6xxx;
        xxx = xxx + 1; #6#82 = #6#82 + #6xxx;
  |SIGUE;

  #6#104 = 0;
  #6#105 = 0;
  #6#106 = 0;
  |PARA xxx = 86; |SI xxx [ 101; |HACIENDO xxx = xxx + 1;
                       #6#104 = #6#104 + #6xxx;
        xxx = xxx + 1; #6#105 = #6#105 + #6xxx;
        xxx = xxx + 1; #6#106 = #6#106 + #6xxx;
  |SIGUE;

  #6#131 = 0;
  #6#132 = 0;
  #6#133 = 0;
  |PARA xxx = 107; |SI xxx [ 128; |HACIENDO xxx = xxx + 1;
                       #6#131 = #6#131 + #6xxx;
        xxx = xxx + 1; #6#132 = #6#132 + #6xxx;
        xxx = xxx + 1; #6#133 = #6#133 + #6xxx;
  |SIGUE;

  #6#146 = 0;
  #6#147 = 0;
  #6#148 = 0;
  |PARA xxx = 134; |SI xxx [ 143; |HACIENDO xxx = xxx + 1;
                       #6#146 = #6#146 + #6xxx;
        xxx = xxx + 1; #6#147 = #6#147 + #6xxx;
        xxx = xxx + 1; #6#148 = #6#148 + #6xxx;
  |SIGUE;


  |SI FEstado = 0; |GRABA 020#6a; |SINO; |GRABA 020#6n; |FINSI;
  |CIERRA #6;
|FPRC;

|PROCESO isocie68;
  |ABRE #8;
  #8#0 = #0#0;
  #8#1 = #0#1;
  |LIBERA #8;
  |LEE 110#8=;
  FEstado = FSalida;
  |SI FSalida ! 0; |DDEFECTO #8; |FINSI;

  #8#0 = #0#0;
  #8#1 = #0#1;

  |SI #0#3 = 93; #8#2  = #8#2  +. #0#7; #8#4  = #8#4  +. #0#7; |FINSI;

  |SI #0#3 = 94;
      |SI #0#9 = 1; #8#8  = #8#8  +. #0#7; #8#10 = #8#10 +. #0#7; |FINSI;
      |SI #0#9 = 2; #8#11 = #8#11 +. #0#7; #8#13 = #8#13 +. #0#7; |FINSI;
      |SI #0#9 = 3; #8#14 = #8#14 +. #0#7; #8#16 = #8#16 +. #0#7; |FINSI;
  |FINSI;

  |SI #0#3 = 95;
      |SI #0#9 = 1; #8#20 = #8#20 +. #0#7; #8#22 = #8#22 +. #0#7; |FINSI;
      |SI #0#9 = 2; #8#23 = #8#23 +. #0#7; #8#25 = #8#25 +. #0#7; |FINSI;
      |SI #0#9 = 3; #8#26 = #8#26 +. #0#7; #8#28 = #8#28 +. #0#7; |FINSI;
  |FINSI;

  |SI #0#3 = 96;
      |SI #0#9 = 1; #8#47 = #8#47 +. #0#7; #8#49 = #8#49 +. #0#7; |FINSI;
      |SI #0#9 = 4; #8#32 = #8#32 +. #0#7; #8#34 = #8#34 +. #0#7; |FINSI;
  |FINSI;

  |SI #0#3 = 97;
      |SI #0#9 = 1; #8#50 = #8#50 +. #0#7; #8#52 = #8#52 +. #0#7; |FINSI;
  |FINSI;

  #8#44 = 0;
  #8#45 = 0;
  #8#46 = 0;
  |PARA xxx = 2;  |SI xxx [ 41; |HACIENDO xxx = xxx + 1;
                       #8#44 = #8#44 + #8xxx;
        xxx = xxx + 1; #8#45 = #8#45 + #8xxx;
        xxx = xxx + 1; #8#46 = #8#46 + #8xxx;
  |SIGUE;

  #8#89 = 0;
  #8#90 = 0;
  #8#91 = 0;
  |PARA xxx = 47; |SI xxx [ 86; |HACIENDO xxx = xxx + 1;
                       #8#89 = #8#89 + #8xxx;
        xxx = xxx + 1; #8#90 = #8#90 + #8xxx;
        xxx = xxx + 1; #8#91 = #8#91 + #8xxx;
  |SIGUE;

  #8#113 = 0;
  #8#114 = 0;
  #8#115 = 0;
  |PARA xxx = 95; |SI xxx [ 110; |HACIENDO xxx = xxx + 1;
                       #8#113 = #8#113 + #8xxx;
        xxx = xxx + 1; #8#114 = #8#114 + #8xxx;
        xxx = xxx + 1; #8#115 = #8#115 + #8xxx;
  |SIGUE;

  #8#143 = 0;
  #8#144 = 0;
  #8#145 = 0;
  |PARA xxx = 116; |SI xxx [ 140; |HACIENDO xxx = xxx + 1;
                       #8#143 = #8#143 + #8xxx;
        xxx = xxx + 1; #8#144 = #8#144 + #8xxx;
        xxx = xxx + 1; #8#145 = #8#145 + #8xxx;
  |SIGUE;

  #8#155 = 0;
  #8#156 = 0;
  #8#157 = 0;
  |PARA xxx = 146; |SI xxx [ 152; |HACIENDO xxx = xxx + 1;
                       #8#155 = #8#155 + #8xxx;
        xxx = xxx + 1; #8#156 = #8#156 + #8xxx;
        xxx = xxx + 1; #8#157 = #8#157 + #8xxx;
  |SIGUE;

  |SI FEstado = 0; |GRABA 020#8a; |SINO; |GRABA 020#8n; |FINSI;
  |CIERRA #8;
|FPRC;

|PROGRAMA;
     |PINPA #0#0;
     |ENTLINEAL #1#0, -3, modo, 15, 0, ClaveBaja, ClaveAlta;
|FPRO;
