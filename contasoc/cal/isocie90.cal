|FICHEROS;
     isocie90 #90;
     isocie91 #91;
     isocie92 #92;
     isocie93 #93;
     isocie94 #94;
     isocie29 #29;
     isocie58 #58;
     isocie72 #72;
     isocie75 #75;
     isocie81 #81;
     isocie82 #82;
     isocie83 #83;
     isocie84 #84;
     isocie85 #85;
     isocie86 #86;
     isocie65 #65;
     maempr01 #200;
     maempr11 #11;

     isw00700 #970,MANTE;
     isw00701 #971,MANTE;
     isw00702 #972,MANTE;
     isw00703 #973;
     isw00704 #974,MANTE;
     isw00705 #975,MANTE;
     isw00706 #976,MANTE;
     isw00707 #977,MANTE;
     isw00708 #978,MANTE;
     isw00709 #979,MANTE;
     isw00710 #980,MANTE;

     isocie91@ #999;
|FIN;

|VARIABLES;
     aClave       = "";
     aDescr       = "";
     aTipo        = "";
     aTecla       = "";
     aDesde       = "";
     aHasta       = "";
     aAlfa        = "";
     aAnyoD       = "";
     aAnyoH       = "";
     aBase        = "";
     aMas         = "";

     nCampoD      = 0;
     nCampoH      = 0;
     nValor       = 0;
     nAnyoDesde   = 0;
     nPagos       = 0;
     nMes         = 0;
     nSuma        = 0;
     nGuarda      = 0;

     &empresa     = 0;
     &anyo        = 0;
     &modo        = 0;
     &enForales   = 0;
|FIN;

|PROCESO Baja90;
     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "  ";
|FPRC;

|PROCESO Alta90;
     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "zz";
|FPRC;

|PROCESO Baja92;
     #92#0 = #90#0;
     #92#1 = #90#1;
     #92#2 = 01;
|FPRC;

|PROCESO Alta92;
     #92#0 = #90#0;
     #92#1 = #90#1;
     #92#2 = 99;
|FPRC;

|PROCESO Baja93;
     #93#0 = #90#0;
     #93#1 = #90#1;
     #93#2 = "";
|FPRC;

|PROCESO Alta93;
     #93#0 = #90#0;
     #93#1 = #90#1;
     #93#2 = "zzzzzzzzz";
|FPRC;

|PROCESO Baja94;
     #94#0 = #90#0;
     #94#1 = #90#1;
     #94#2 = "";
|FPRC;

|PROCESO Alta94;
     #94#0 = #90#0;
     #94#1 = #90#1;
     #94#2 = "zzzzzzzzz";
|FPRC;

|PROCESO PagosFraccionados;
     |ABRE #200;
     #200#0 = empresa;
     #200#1 = anyo;
     |LEE 040#200=;
     |SI FSalida ! 0;  |DDEFECTO #200;  |FINSI;
     |CIERRA #200;

     aDesde = #200#31 % 105;
     aHasta = #200#32 % 105;
     |SI aDesde = "     ";  aDesde = "01.01";  |FINSI;
     |SI aHasta = "     ";  aHasta = "31.12";  |FINSI;

     |SI aDesde = "01.01";  |Y aHasta = "31.12";
         |ABRE #29;
         #29#0 = empresa;
         #29#1 = anyo;
         |LEE 040#29=;
         |SI FSalida = 0;
             |SI #29#30 = 1;
                 |SI #29#6 ! 0;  #91#105 = #29#6;  |FINSI;
                 |SI #29#7 ! 0;  #91#107 = #29#7;  |FINSI;
                 |SI #29#8 ! 0;  #91#109 = #29#8;  |FINSI;
             |SINO;
                 |SI #29#24 ! 0; #91#105 = #29#24; |FINSI;
                 |SI #29#25 ! 0; #91#107 = #29#25; |FINSI;
                 |SI #29#26 ! 0; #91#109 = #29#26; |FINSI;
             |FINSI;
         |FINSI;
         |CIERRA #29;
     |SINO;
        aAlfa      = #200#31 % -104;
        nAnyoDesde = aAlfa;
        nPagos     = 0;

        |ABRE #29;
        #29#0 = empresa;
        #29#1 = nAnyoDesde;
        |LEE 040#29=;
        |SI FSalida = 0;
            aAlfa = #200#31 % 402;
            nMes   = aAlfa;
            |SI nMes [ 4;
                |SI #29#30 = 1;
                    |SI #29#6 ! 0;  #91#105 = #29#6;  |FINSI;
                    |SI #29#7 ! 0;  #91#107 = #29#7;  |FINSI;
                    |SI #29#8 ! 0;  #91#109 = #29#8;  |FINSI;
                |SINO;
                    |SI #29#24 ! 0; #91#105 = #29#24; |FINSI;
                    |SI #29#25 ! 0; #91#107 = #29#25; |FINSI;
                    |SI #29#26 ! 0; #91#109 = #29#26; |FINSI;
                |FINSI;
                nPagos = 3;
             |FINSI;

             |SI nMes > 4;  |Y nMes [ 10;
                |SI #29#30 = 1;
                    |SI #29#7 ! 0;  #91#105 = #29#7;  |FINSI;
                    |SI #29#8 ! 0;  #91#107 = #29#8;  |FINSI;
                |SINO;
                    |SI #29#25 ! 0; #91#105 = #29#25; |FINSI;
                    |SI #29#26 ! 0; #91#107 = #29#26; |FINSI;
                |FINSI;
                nPagos = 2;
            |FINSI;

            |SI nMes > 10;  |Y nMes [ 12;
                |SI #29#30 = 1;
                    |SI #29#8 ! 0;  #91#105 = #29#8;  |FINSI;
                |SINO;
                    |SI #29#26 ! 0; #91#105 = #29#26; |FINSI;
                |FINSI;
                nPagos = 1;
            |FINSI;
        |FINSI;

        aAnyoD = #200#31 % -104;
        aAnyoH = #200#32 % -104;

        |SI aAnyoD ! aAnyoH;
            nAnyoDesde = nAnyoDesde + 1;
            #29#0 = empresa;
            #29#1 = nAnyoDesde;
            |LEE 040#29=;
            |SI FSalida = 0;
                |SI nPagos = 0;
                    |SI #29#30 = 1;
                        |SI #29#6 ! 0;  #91#105 = #29#6;  |FINSI;
                        |SI #29#7 ! 0;  #91#107 = #29#7;  |FINSI;
                        |SI #29#8 ! 0;  #91#109 = #29#8;  |FINSI;
                    |SINO;
                        |SI #29#24 ! 0; #91#105 = #29#24; |FINSI;
                        |SI #29#25 ! 0; #91#107 = #29#25; |FINSI;
                        |SI #29#26 ! 0; #91#109 = #29#26; |FINSI;
                    |FINSI;
                |FINSI;

                |SI nPagos = 1;
                    |SI #29#30 = 1;
                        |SI #29#6 ! 0;  #91#107 = #29#6;  |FINSI;
                        |SI #29#7 ! 0;  #91#109 = #29#7;  |FINSI;
                    |SINO;
                        |SI #29#24 ! 0; #91#107 = #29#24; |FINSI;
                        |SI #29#25 ! 0; #91#109 = #29#25; |FINSI;
                    |FINSI;
                |FINSI;

                |SI nPagos = 2;
                    |SI #29#30 = 1;
                        |SI #29#6 ! 0;  #91#109 = #29#6;  |FINSI;
                    |SINO;
                        |SI #29#24 ! 0; #91#109 = #29#24; |FINSI;
                    |FINSI;
                |FINSI;
            |FINSI;
        |FINSI;

        |CIERRA #29;
    |FINSI;
|FPRC;

|PROCESO Calcula91;
     enForales = 0;

     |ABRE #11;
     #11#0 = empresa;
     #11#1 = anyo;
     #11#2 = 28;
     |LEE 040#11=;
     |SI FSalida = 0; enForales = 1; |FINSI;
     |CIERRA #11;

     |ABRE #65;
     #65#0 = empresa;
     #65#1 = anyo;
     |LEE 000#65=;
     |SI FSalida ! 0;  |DDEFECTO #65;  |FINSI;
     |CIERRA #65;

     |ABRE #58;
     #58#0 = empresa;
     #58#1 = anyo;
     |LEE 000#58=;
     |SI FSalida ! 0;  |DDEFECTO #58;  |FINSI;
     |CIERRA #58;

     |ABRE #72;
     #72#0 = empresa;
     #72#1 = anyo;
     |LEE 000#72=;
     |SI FSalida ! 0;  |DDEFECTO #72;  |FINSI;
     |CIERRA #72;

     |ABRE #81;
     #81#0 = empresa;
     #81#1 = anyo;
     |LEE 000#81=;
     |SI FSalida ! 0;  |DDEFECTO #81;  |FINSI;
     |CIERRA #81;

     |ABRE #82;
     #82#0 = empresa;
     #82#1 = anyo;
     |LEE 000#82=;
     |SI FSalida ! 0;  |DDEFECTO #82;  |FINSI;
     |CIERRA #82;

     |ABRE #83;
     #83#0 = empresa;
     #83#1 = anyo;
     |LEE 000#83=;
     |SI FSalida ! 0;  |DDEFECTO #83;  |FINSI;
     |CIERRA #83;

     |ABRE #84;
     #84#0 = empresa;
     #84#1 = anyo;
     |LEE 000#84=;
     |SI FSalida ! 0;  |DDEFECTO #84;  |FINSI;
     |CIERRA #84;

     |ABRE #85;
     #85#0 = empresa;
     #85#1 = anyo;
     |LEE 000#85=;
     |SI FSalida ! 0;  |DDEFECTO #85;  |FINSI;
     |CIERRA #85;

     |ABRE #86;
     #86#0 = empresa;
     #86#1 = anyo;
     |LEE 000#86=;
     |SI FSalida ! 0;  |DDEFECTO #86;  |FINSI;
     |CIERRA #86;

     |ABRE #75;
     #75#0 = empresa;
     #75#1 = anyo;
     |LEE 000#75=;
     |SI FSalida ! 0;  |DDEFECTO #75;  |FINSI;
     |CIERRA #75;

     |SI #75#1 [ 2004;
         #977#2 = #75#3  + #75#6  + #75#9 + #75#12 + #75#15 + #75#24 + #75#30 + #75#36;
         #977#3 = #75#27 + #75#33 + #75#39;
     |FINSI;

     |SI #75#1 = 2005;
         #977#2 = #75#3  + #75#6  + #75#9  + #75#12 + #75#24 + #75#30 + #75#36;
         #977#3 = #75#15 + #75#27 + #75#33 + #75#39;
     |FINSI;

     |SI #75#1 = 2006;
         #977#2 = #75#3  + #75#6  + #75#9  + #75#15 + #75#27 + #75#33;
         #977#3 = #75#12 + #75#24 + #75#30 + #75#36 + #75#48;
     |FINSI;

     |SI #75#1 ] 2007;
         #977#2 = #75#3  + #75#6  + #75#9  + #75#15 + #75#27 + #75#33;
         #977#3 = #75#12 + #75#24 + #75#30 + #75#36 + #75#48 + #75#51;
     |FINSI;

     #977#4 = #75#18;
     #977#5 = #75#21;
     #977#6 = #977#2 + #977#3 + #977#4 + #977#5;
     #977#7 = #977#1 - #977#6;
     |SI #977#7 < 0;  #977#7 = 0;  |FINSI;

     #91#65 = #91#41 + #91#47 + #91#49 + #91#61;
     #91#66 = #91#43 + #91#53 + #91#55 + #91#62;

     nValor = #91#65 - #91#66;
     |SI nValor ] 0;
         #91#67 = nValor;
         #91#68 = 0;
     |SINO;
         #91#68 = -nValor;
         #91#67 = 0;
     |FINSI;

     #91#69 = #91#13 + #91#42 + #91#48 + #91#50 + #91#63;
     #91#70 = #91#14 + #91#44 + #91#54 + #91#56 + #91#64;

     nValor = #91#69 - #91#70;
     |SI nValor ] 0;
         #91#71 = nValor;
         #91#72 = 0;
     |SINO;
         #91#72 = -nValor;
         #91#71 = 0;
     |FINSI;

     #91#73  = #91#2  + #91#7  + #91#12 + #91#35 + #91#40 + #91#57 + #91#58;
     #91#73  = #91#73 + #91#59 + #91#60;
     #91#74  = 0;
     #91#129 = 0;

     |SI #91#68 > 0;
         nValor = 0;
         |SI #91#73 > 0;  nValor = #91#73 % 10;  |FINSI;
         |SI #91#68 [ nValor;
             #91#74  = #91#68;
             #91#129 = 0;
         |SINO;
             #91#74  = nValor;
             #91#129 = #91#68 - #91#74;
         |FINSI;
     |FINSI;

     #974#14 = #91#129;

     |SI #91#143 > #91#67;
         #91#144 = #91#67;
         #91#145 = #91#143 - #91#67;
     |SINO;
         #91#144 = #91#143;
         #91#145 = 0;
     |FINSI;

     |SI #91#73 > 0;  nValor = #91#73 % 10;  |FINSI;

     nSuma  = #91#145 + #91#74;
     |SI nSuma > nValor;
         nGuarda = #91#145;
         #91#145 = nValor - #91#74;
         #91#129 = #91#129 + (nGuarda - #91#145);
     |FINSI;

     #91#75 = #91#125 + #91#127;
     #91#76 = #91#73  + #91#67 - #91#144 - #91#145 - #91#74 - #91#75;

                            #91#147 = #91#146;
     |SI #91#147 > #91#71;  #91#147 = #91#71;  |FINSI;

     #91#77 = #91#126 + #91#128;

     #91#78 = #91#71  - #91#147 - #91#77;
     #91#79 = 0;
     #91#80 = 0;
     |SI #91#76 > 0;  #91#79 = #91#76  % 40;  |FINSI;

     |SI #91#1 [ 2006;
         |SI #91#78 > 0;  #91#80 = #91#78  % 15;  |FINSI;
     |SINO;
         |SI #91#78 > 0;  #91#80 = #91#78  % 18;  |FINSI;
     |FINSI;

     #91#81 = #91#79  + #91#80;

     |SI #91#1 [ 2006;
         #91#84 = #72#3   + #72#6  + #72#10  + #72#14  + #72#18 + #72#25;
     |SINO;
         #91#84 = #86#3   + #86#6  + #86#10  + #86#14  + #86#18;
         #91#84 = #91#84  + #86#18 + #86#19  + #86#21  + #86#22;
     |FINSI;

     |SI #91#1 = 2003;
         #91#84 = #91#84  + #81#21 + #81#111 + #81#135 + #81#180;
     |FINSI;

     |SI #91#1 = 2004;
         #91#84 = #91#84  + #82#21 + #82#123 + #82#153 + #82#201;
     |FINSI;

     |SI #91#1 = 2005;
         #91#84 = #91#84  + #83#21 + #83#132 + #83#169 + #83#220;
     |FINSI;

     |SI #91#1 = 2006;
         #91#84 = #91#84  + #84#42 + #84#162 + #84#184 + #84#238;
     |FINSI;

     |SI #91#1 = 2007;
         #91#84 = #91#84  + #85#45 + #85#171 + #85#250;
     |FINSI;

     #91#84 = #91#84  + #91#130;
     #91#86 = #91#82  + #91#83 + #91#84 + #91#85;
     #91#87 = #91#81  - #91#86;
     |SI #91#87 < 0;  #91#87 = 0;  |FINSI;

     #91#88 = #977#2;
     #91#89 = #977#3;
     #91#90 = #977#4;
     #91#91 = #977#5;

     #91#92 = #91#88 + #91#89 + #91#90 + #91#91;
     #91#93 = #91#87 - #91#92;
     |SI #91#93 < 0;  #91#93 = 0;  |FINSI;

     #91#101 = #91#94 + #91#95 + #91#96 + #91#97 + #91#98 + #91#99 + #91#100;
     #91#102 = #91#93 - #91#101;

     |SI enForales = 0;
         #91#104 = 0;
         #91#106 = 0;
         #91#108 = 0;
         #91#110 = 0;
         #91#112 = 0;
         #91#114 = 0;
         #91#116 = 0;
         #91#118 = 0;
         #91#120 = 0;
         #91#122 = 0;
         #91#124 = 0;
         #91#131 = 0;
         #91#132 = 0;
         #91#133 = 0;
         #91#134 = 0;
         #91#135 = 0;
         #91#136 = 0;
         #91#137 = 0;
         #91#138 = 0;
         #91#139 = 0;
         #91#140 = 0;
         #91#141 = 100;
     |SINO;
         #91#137 = (#91#133 / (#91#131 - #91#132)) * 100;
         #91#138 = (#91#134 / (#91#131 - #91#132)) * 100;
         #91#139 = (#91#135 / (#91#131 - #91#132)) * 100;
         #91#140 = (#91#136 / (#91#131 - #91#132)) * 100;
         #91#141 = (100 - #91#137 - #91#138 - #91#139 - #91#140) ! 2;
     |FINSI;

     |HAZ PagosFraccionados;

     #91#103 = (#91#141 / 100) * #91#102;
     #91#104 = ((#91#137 + #91#138 + #91#139 + #91#140) / 100) * #91#102;
     #91#115 = #91#103 - #91#105 - #91#107 - #91#109 - #91#111 - #91#113;
     #91#116 = #91#104 - #91#106 - #91#108 - #91#110 - #91#112 - #91#114;

     |SI #91#142 ! -1;
         #91#119 = (#91#115 + #91#117) % #91#142;
         #91#120 = (#91#116 + #91#118) % #91#142;
     |FINSI;

     #91#123 = #91#115 + #91#117 + #91#119 + #91#121;
     #91#124 = #91#116 + #91#118 + #91#120 + #91#122;
|FPRC;

|PROCESO EjercicioAnterior;
     |SI #91#1 [ 2003;  |ACABA;  |FINSI;

     |DBASE aBase;  |QBF aBase;
     aMas = aBase + "def/isocie91.mas";
     |CARGA_DEF aMas, isocie91@;
     |SI FSalida < 0;  |ACABA;  |FINSI;

     |ABRE #999;
     #999#0 = #91#0;
     #999#1 = #91#1 - 1;
     |LEE 000#999=;
     |SI FSalida ! 0;  |DDEFECTO #999;  |FINSI;
     |CIERRA #999;

     #91#143 = (#999#51 - #999#53) + #999#129;
     #91#146 = (#999#52 - #999#54) + #999#72;

     |DESCARGA_DEF #isocie91@;
|FPRC;

|PROCESO Calcula;
     |SI #91#143 = 0;  |Y #91#146 = 0;
         |HAZ EjercicioAnterior;
     |FINSI;

     |HAZ Calcula91;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "A";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4  = #65#77;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "B";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4  = #58#7;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "C";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4  = #91#2;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "D";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4  = #91#7;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "E";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4  = #91#12;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "F";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4 = #91#13 - #91#14;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "G";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4 = #91#35;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "H1";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4 = #91#36;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "H2";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4 = #91#40;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "I";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4 =          #91#41 + #91#47 + #91#49 + #91#42 + #91#48 + #91#50;
         #90#4 = #90#4  - (#91#43 + #91#53 + #91#55 + #91#44 + #91#54 + #91#56);
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "J";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4 = #91#57 + #91#58 + #91#59 + #91#60 + #91#61 - #91#62 + #91#63 - #91#64;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "K";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4 = #91#67 + #91#71 - #91#68 - #91#72;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "L";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4 = #91#76;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "M";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4 = #91#78;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "N";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4 = #91#81;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "O";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4 = #91#87;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "P";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4 = #91#93;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "Q";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4 = #91#102;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;

     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "R";
     |LEE 101#90=;
     |SI FSalida = 0;
         #90#4 = #91#123 + #91#124;
         |GRABA 020#90a;
         |LIBERA #90;
     |FINSI;
|FPRC;

|PROCESO Graba90;
     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = aClave;
     #90#3 = aDescr;
     |GRABA 020#90n;
     |LIBERA #90;
|FPRC;

|PROCESO CreaLineal;
     aClave = "A";
     aDescr = "BALANCE";
     |HAZ Graba90;

     aClave = "B";
     aDescr = "DISTRIBUCION DE RESULTADOS";
     |HAZ Graba90;

     aClave = "C";
     aDescr = "RETRIBUCIONES CONSIDERADAS COMO RENDIMIENTOS DEL TRABAJO";
     |HAZ Graba90;

     aClave = "D";
     aDescr = "RENDIMIENTOS DEL CAPITAL INMOBILIARIO";
     |HAZ Graba90;

     aClave = "E";
     aDescr = "RENDIMIENTOS DEL CAPITAL MOBILIARIO";
     |HAZ Graba90;

     aClave = "F";
     aDescr = "RDTOS.DERIVADOS DE LA TRANSMISION, AMORT.O REEMBOLSOS VALORES";
     |HAZ Graba90;

     aClave = "G";
     aDescr = "RENDIMIENTOS DE ACTIVIDADES ECONOMICAS";
     |HAZ Graba90;

     aClave = "H1";
     aDescr = "IMPUTACION RENTAS INMOBILIARIAS";
     |HAZ Graba90;

     aClave = "H2";
     aDescr = "IMPUTACION OTRAS RENTAS";
     |HAZ Graba90;

     aClave = "I";
     aDescr = "GANANCIAS Y PERDIDAS PATRIMONIALES";
     |HAZ Graba90;

     aClave = "J";
     aDescr = "REGIMEN DE ATRIBUCION DE RENTAS";
     |HAZ Graba90;

     aClave = "K";
     aDescr = "INTEGRACION Y COMPENSACION GANANCIAS Y PERDIDAS PATRIMONIALES";
     |HAZ Graba90;

     aClave = "L";
     aDescr = "PARTE GENERAL DE LA BASE IMPONIBLE";
     |HAZ Graba90;

     aClave = "M";
     aDescr = "PARTE ESPECIAL DE LA BASE IMPONIBLE";
     |HAZ Graba90;

     aClave = "N";
     aDescr = "CUOTA INTEGRA TOTAL";
     |HAZ Graba90;

     aClave = "O";
     aDescr = "CUOTA LIQUIDA";
     |HAZ Graba90;

     aClave = "P";
     aDescr = "CUOTA RESULTANTE DE LA AUTOLIQUIDACION";
     |HAZ Graba90;

     aClave = "Q";
     aDescr = "CUOTA DEL EJERCICIO A INGRESAR O DEVOLVER";
     |HAZ Graba90;

     aClave = "R";
     aDescr = "LIQUIDO A INGRESAR O DEVOLVER";
     |HAZ Graba90;
|FPRC;

|PROCESO CapituloA;
     |SUB_EJECUTA_NP "isocie65";

     |SI modo = 4;  |ACABA;  |FINSI;

     |ABRE #65;
     #65#0 = #90#0;
     #65#1 = #90#1;
     |LEE 000#65=;
     |SI FSalida ! 0;  |DDEFECTO #65;  |FINSI;
     |CIERRA #65;
|FPRC;

|PROCESO CapituloB;
     |SUB_EJECUTA_NP "isocie58";

     |SI modo = 4;  |ACABA;  |FINSI;

     |ABRE #58;
     #58#0 = #90#0;
     #58#1 = #90#1;
     |LEE 000#58=;
     |SI FSalida ! 0;  |DDEFECTO #58;  |FINSI;
     |CIERRA #58;
|FPRC;

|PROCESO CapituloC;
     |SI modo = 4;  |ACABA;  |FINSI;

     |ENCAMPO #4#90;

     #91#2 = #90#4;
|FPRC;

|PROCESO CapituloD;
     #970#0  = #90#3;
     #970#1  = "703";
     #970#2  = "704";
     #970#3  = "705";
     #970#4  = "706";
     #970#5  = "362";
     #970#6  = #91#3;
     #970#7  = #91#4;
     #970#8  = #91#5;
     #970#9  = #91#6;
     #970#10 = #91#7;

     |PINPA #0#970;
     |PINDA #0#970;
     |SI modo ! 4;
         |ENDATOS #1#970;
         |SI FSalida = 0;
             #91#3 = #970#6;
             #91#4 = #970#7;
             #91#5 = #970#8;
             #91#6 = #970#9;
             #91#7 = #970#10;
         |FINSI;
     |SINO;
         |LEETECLA aTecla;
     |FINSI;
|FPRC;

|PROCESO CapituloE;
     #970#0  = #90#3;
     #970#1  = "707";
     #970#2  = "708";
     #970#3  = "709";
     #970#4  = "710";
     #970#5  = "363";
     #970#6  = #91#8;
     #970#7  = #91#9;
     #970#8  = #91#10;
     #970#9  = #91#11;
     #970#10 = #91#12;

     |PINPA #0#970;
     |PINDA #0#970;
     |SI modo ! 4;
         |ENDATOS #1#970;
         |SI FSalida = 0;
             #91#8  = #970#6;
             #91#9  = #970#7;
             #91#10 = #970#8;
             #91#11 = #970#9;
             #91#12 = #970#10;
         |FINSI;
     |SINO;
         |LEETECLA aTecla;
     |FINSI;
|FPRC;

|PROCESO CapituloF;
     |CUADRO 1210 1573;
     |ATRI R;
     |PINTA 1110, #90#3;
     |ATRI r;

     |PINTA 1311, "Saldo Positivo ................................";
     |PINTA 1411, "Saldo Negativo ................................";

     |C_P #91#13, 1, 1362;
     |C_P #91#14, 1, 1462;

     |PINTA 1362, #91#13;
     |PINTA 1462, #91#14;

     |SI modo = 4;
         |LEETECLA aTecla;
         |ACABA;
     |FINSI;

     |ET Campo13;
          |ENCAMPO #13#91;

          |ENCAMPO #14#91;
          |SI FSalida = 2;  |VETE Campo13;  |FINSI;
|FPRC;

|PROCESO CapituloG;
     #971#0  = #90#3;
     |PARA nCampoD = 1; |SI nCampoD [ 21;  |HACIENDO nCampoD = nCampoD + 1;
           nCampoH = nCampoD + 14;
           #971nCampoD = #91nCampoH;
     |SIGUE;

     |PINPA #0#971;
     |PINDA #0#971;
     |SI modo ! 4;
         |ENDATOS #1#971;
         |SI FSalida = 0;
             |PARA nCampoD = 1; |SI nCampoD [ 21;  |HACIENDO nCampoD = nCampoD + 1;
                   nCampoH = nCampoD + 14;
                   #91nCampoH = #971nCampoD;
             |SIGUE;
         |FINSI;
     |SINO;
         |LEETECLA aTecla;
     |FINSI;
|FPRC;

|PROCESO CapituloH1;
     |PINPA #0#92;
     |PINTA 2258, #91#36;
     |PINTA 0910, #90#3;

     |ENTLINEAL #1#92, -3, modo, 20, 0, Baja92, Alta92;

     #91#40 = #91#36 + #91#37 + #91#38 + #91#39;
|FPRC;

|PROCESO CapituloH2;
     |PINPA #0#93;
     |PINTA 2020, #91#37;
     |PINTA 2043, #91#38;
     |PINTA 2066, #91#39;
     |PINTA 2266, #91#40;
     |PINTA 0902, #90#3;

     |ENTLINEAL #1#93, -3, modo, 18, 0, Baja93, Alta93;

     #91#40 = #91#36 + #91#37 + #91#38 + #91#39;
|FPRC;

|PROCESO CapituloI;
     #972#0  = #90#3;
     |PARA nCampoD = 1; |SI nCampoD [ 16;  |HACIENDO nCampoD = nCampoD + 1;
           nCampoH = nCampoD + 40;
           #972nCampoD = #91nCampoH;
     |SIGUE;

     |PINPA #0#972;
     |PINDA #0#972;
     |SI modo ! 4;
         |ENDATOS #1#972;
         |SI FSalida = 0;
             |PARA nCampoD = 1; |SI nCampoD [ 16;  |HACIENDO nCampoD = nCampoD + 1;
                   nCampoH = nCampoD + 40;
                   #91nCampoH = #972nCampoD;
             |SIGUE;
         |FINSI;
     |SINO;
         |LEETECLA aTecla;
     |FINSI;
|FPRC;

|PROCESO CapituloJ;
     |PINPA #0#94;
     |PINTA 1269, #91#57;
     |PINTA 1469, #91#58;
     |PINTA 1569, #91#59;
     |PINTA 1769, #91#60;
     |PINTA 1969, #91#61;
     |PINTA 2069, #91#62;
     |PINTA 2169, #91#63;
     |PINTA 2269, #91#64;

     |ENTLINEAL #1#94, -3, modo, 22, 0, Baja94, Alta94;
|FPRC;

|PROCESO CapituloK;
     #973#0  = #90#3;
     |PARA nCampoD = 1; |SI nCampoD [ 8;  |HACIENDO nCampoD = nCampoD + 1;
           nCampoH = nCampoD + 64;
           #973nCampoD = #91nCampoH;
     |SIGUE;

     |PINPA #0#973;
     |PINDA #0#973;
     |LEETECLA aTecla;
|FPRC;

|PROCESO CapituloL;
     |HAZ Calcula91;

     |PINPA #0#974;

     |SI #91#1 [ 2003;
         |C_M #974#11, 1, "N";  |C_V #974#11, 1, "N";
                                |C_V #974#12, 1, "N";
                                |C_V #974#13, 1, "N";

         |PINTA 0902, "                                                                  ";
         |PINTA 1202, "                                                                  ";
         |PINTA 1402, "                                                                  ";
     |FINSI;

     #974#0  = #90#3;
     #974#1  = #91#73;
     #974#2  = #91#67;
     #974#3  = #91#74;
     #974#4  = #91#129;
     #974#5  = #91#125;
     #974#6  = #91#127;
     #974#7  = #91#75;
     #974#8  = #91#76;
     #974#9  = #91#126;
     #974#10 = #91#128;
     #974#11 = #91#143;
     #974#12 = #91#144;
     #974#13 = #91#145;

     |PINDA #0#974;
     |SI modo ! 4;
         |ENDATOS #1#974;
         |SI FSalida = 0;
             #91#73  = #974#1;
             #91#67  = #974#2;
             #91#74  = #974#3;
             #91#129 = #974#4;
             #91#125 = #974#5;
             #91#127 = #974#6;
             #91#75  = #974#7;
             #91#76  = #974#8;
             #91#126 = #974#9;
             #91#128 = #974#10;
             #91#143 = #974#11;
             #91#144 = #974#12;
             #91#145 = #974#13;
         |FINSI;
     |SINO;
         |LEETECLA aTecla;
     |FINSI;
|FPRC;

|PROCESO CapituloM;
     |PINPA #0#975;

     |SI #91#1 [ 2003;
         |C_M #975#6, 1, "N";   |C_V #975#6, 1, "N";
                                |C_V #975#7, 1, "N";

         |PINTA 1102, "                                                                  ";
         |PINTA 1302, "                                                                  ";
     |FINSI;

     #975#0  = #90#3;
     #975#1  = #91#71;
     #975#2  = #91#126;
     #975#3  = #91#128;
     #975#4  = #91#77;
     #975#5  = #91#78;
     #975#6  = #91#146;
     #975#7  = #91#147;

     |PINDA #0#975;
     |SI modo ! 4;  |Y #91#1 ] 2004;
         |ENDATOS #1#975;
         |SI FSalida = 0;
             #91#71  = #975#1;
             #91#126 = #975#2;
             #91#128 = #975#3;
             #91#77  = #975#4;
             #91#78  = #975#5;
             #91#146 = #975#6;
             #91#147 = #975#7;
         |FINSI;
     |SINO;
         |LEETECLA aTecla;
     |FINSI;
|FPRC;

|PROCESO CapituloO;
     #976#0  = #90#3;
     |PARA nCampoD = 1; |SI nCampoD [ 7;  |HACIENDO nCampoD = nCampoD + 1;
           nCampoH = nCampoD + 80;
           #976nCampoD = #91nCampoH;
     |SIGUE;
     #976#8 = #91#130;

     |PINPA #0#976;
     |PINDA #0#976;
     |SI modo ! 4;
         |ENDATOS #1#976;
         |SI FSalida = 0;
             |PARA nCampoD = 1; |SI nCampoD [ 7;  |HACIENDO nCampoD = nCampoD + 1;
                   nCampoH = nCampoD + 80;
                   #91nCampoH = #976nCampoD;
             |SIGUE;
             #91#130 = #976#8;
         |FINSI;
     |SINO;
         |LEETECLA aTecla;
     |FINSI;
|FPRC;

|PROCESO CapituloP;
     #977#0  = #90#3;
     |PARA nCampoD = 1; |SI nCampoD [ 7;  |HACIENDO nCampoD = nCampoD + 1;
           nCampoH = nCampoD + 86;
           #977nCampoD = #91nCampoH;
     |SIGUE;

     |PINPA #0#977;
     |PINDA #0#977;
     |SI modo ! 4;
         |ENDATOS #1#977;
         |SI FSalida = 0;
             |PARA nCampoD = 1; |SI nCampoD [ 7;  |HACIENDO nCampoD = nCampoD + 1;
                   nCampoH = nCampoD + 86;
                   #91nCampoH = #977nCampoD;
             |SIGUE;
         |FINSI;
     |SINO;
         |LEETECLA aTecla;
     |FINSI;
|FPRC;

|PROCESO CapituloQ;
     #978#0  = #90#3;
     |PARA nCampoD = 1; |SI nCampoD [ 10;  |HACIENDO nCampoD = nCampoD + 1;
           nCampoH = nCampoD + 92;
           #978nCampoD = #91nCampoH;
     |SIGUE;

     |PINPA #0#978;
     |PINDA #0#978;
     |SI modo ! 4;
         |ENDATOS #1#978;
         |SI FSalida = 0;
             |PARA nCampoD = 1; |SI nCampoD [ 10;  |HACIENDO nCampoD = nCampoD + 1;
                   nCampoH = nCampoD + 92;
                   #91nCampoH = #978nCampoD;
             |SIGUE;
         |FINSI;
     |SINO;
         |LEETECLA aTecla;
     |FINSI;
|FPRC;

|PROCESO CapituloR;
     |SI enForales = 1;
         #979#0  = #90#3;
         |PARA nCampoD = 1; |SI nCampoD [ 11;  |HACIENDO nCampoD = nCampoD + 1;
               nCampoH = nCampoD + 130;
               #979nCampoD = #91nCampoH;
         |SIGUE;

         |PINPA #0#979;
         |PINDA #0#979;
         |SI modo ! 4;
             |ENDATOS #1#979;
             |SI FSalida = 0;
                 |PARA nCampoD = 1; |SI nCampoD [ 11;  |HACIENDO nCampoD = nCampoD + 1;
                       nCampoH = nCampoD + 130;
                       #91nCampoH = #979nCampoD;
                 |SIGUE;
             |FINSI;

             |HAZ Calcula91;
         |SINO;
             |LEETECLA aTecla;
         |FINSI;
     |FINSI;

     #980#0  = #90#3;
     |PARA nCampoD = 1; |SI nCampoD [ 16;  |HACIENDO nCampoD = nCampoD + 1;
           nCampoH = nCampoD + 102;
           #980nCampoD = #91nCampoH;
     |SIGUE;

     |PARA nCampoD = 18; |SI nCampoD [ 23;  |HACIENDO nCampoD = nCampoD + 1;
           nCampoH = nCampoD + 101;
           #980nCampoD = #91nCampoH;
     |SIGUE;

     #980#17 = #91#142;

     |PINPA #0#980;
     |PINDA #0#980;
     |SI modo ! 4;
         |ENDATOS #1#980;
         |SI FSalida = 0;
             |PARA nCampoD = 1; |SI nCampoD [ 16;  |HACIENDO nCampoD = nCampoD + 1;
                   nCampoH = nCampoD + 102;
                   #91nCampoH = #980nCampoD;
             |SIGUE;

             |PARA nCampoD = 18; |SI nCampoD [ 23;  |HACIENDO nCampoD = nCampoD + 1;
                   nCampoH = nCampoD + 101;
                   #91nCampoH = #980nCampoD;
             |SIGUE;

             #91#142 = #980#17;
         |FINSI;
     |SINO;
         |LEETECLA aTecla;
     |FINSI;
|FPRC;

|PROCESO Tipo0C2;  |TIPO 0;
     |LEE 101#90=;

     |SI #90#2 ! "C ";
         |PUSHV 0501 2380;
         |BLANCO 0801 2380;
         |CUADRO 0801 2380;
     |FINSI;

     |SI #90#2 = "A ";  |HAZ CapituloA;  |FINSI;
     |SI #90#2 = "B ";  |HAZ CapituloB;  |FINSI;
     |SI #90#2 = "C ";  |HAZ CapituloC;  |FINSI;
     |SI #90#2 = "D ";  |HAZ CapituloD;  |FINSI;
     |SI #90#2 = "E ";  |HAZ CapituloE;  |FINSI;
     |SI #90#2 = "F ";  |HAZ CapituloF;  |FINSI;
     |SI #90#2 = "G ";  |HAZ CapituloG;  |FINSI;
     |SI #90#2 = "H1";  |HAZ CapituloH1; |FINSI;
     |SI #90#2 = "H2";  |HAZ CapituloH2; |FINSI;
     |SI #90#2 = "I ";  |HAZ CapituloI;  |FINSI;
     |SI #90#2 = "J ";  |HAZ CapituloJ;  |FINSI;
     |SI #90#2 = "K ";  |HAZ CapituloK;  |FINSI;
     |SI #90#2 = "L ";  |HAZ CapituloL;  |FINSI;
     |SI #90#2 = "M ";  |HAZ CapituloM;  |FINSI;
     |SI #90#2 = "O ";  |HAZ CapituloO;  |FINSI;
     |SI #90#2 = "P ";  |HAZ CapituloP;  |FINSI;
     |SI #90#2 = "Q ";  |HAZ CapituloQ;  |FINSI;
     |SI #90#2 = "R ";  |HAZ CapituloR;  |FINSI;

     |SI modo ! 4;  |GRABA 020#90a;  |FINSI;

     |LIBERA #90;

     |SI #90#2 ! "C ";   |POPV;  |FINSI;

     |PINTA #90#4;

     |SALVA_DATOS #90;
     |HAZ Calcula;
     |REPON_DATOS #90;
     |LEE 000#90=;

     |PONCONTROL 23, "SI";
     |PTEC 809;
|FPRC;

|PROGRAMA;
     |ABRE #90;
     #90#0 = empresa;
     #90#1 = anyo;
     #90#2 = "A ";
     |LEE 000#90=;
     |SI FSalida ! 0;
         |HAZ CreaLineal;
     |FINSI;

     |ABRE #91;
     #91#0 = #90#0;
     #91#1 = #90#1;
     |LEE 101#91=;
     |SI FSalida ! 0;
         |DDEFECTO #91;
         #91#0 = #90#0;
         #91#1 = #90#1;
         |GRABA 020#91b;
     |FINSI;

     |HAZ Calcula;

     |CIERRA #90;

     |ENTLINEAL #1#90, -3, 4, 22, 1, Baja90, Alta90;

     |GRABA 020#91a;
     |LIBERA #91;
     |CIERRA #91;
|FPRO;
