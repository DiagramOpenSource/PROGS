|FICHEROS;
     cubala07 #0;

     cuacceso #100;

     cubala02 #1;
     cubala03 #2;
     cubala04 #3;
     cubala05 #4;

     cubala22 #22;
     cubala23 #23;
     cubala24 #24;
     cubala25 #25;
|FIN;

|VARIABLES;
   &empresa = 0;
   &anyo    = 0;
|FIN;

|PROCESO Normal;
     |ABRE #1;
     #1#0 = empresa;
     #1#1 = anyo;
     |LEE 040#1=;
     |SI FSalida ! 0; |DDEFECTO #1; |FINSI;
     |CIERRA #1;

     |ABRE #2;
     #2#0 = empresa;
     #2#1 = anyo;
     |LEE 040#2=;
     |SI FSalida ! 0; |DDEFECTO #2; |FINSI;
     |CIERRA #2;

     |ABRE #3;
     #3#0 = empresa;
     #3#1 = anyo;
     |LEE 040#3=;
     |SI FSalida ! 0; |DDEFECTO #3; |FINSI;
     |CIERRA #3;

     |ABRE #4;
     #4#0 = empresa;
     #4#1 = anyo;
     |LEE 040#4=;
     |SI FSalida ! 0; |DDEFECTO #4; |FINSI;
     |CIERRA #4;

     #0#1  = #1#69;   #0#16 = #1#133;
     #0#2  = #2#78;   #0#17 = #2#151;

     #0#40 = #0#1  - #0#2;
     #0#41 = #0#16 - #0#17;

     #0#3  = #3#25;   #0#18 = #3#64;
     #0#4  = #3#33;   #0#19 = #3#72;
     #0#5  = #3#34;   #0#20 = #3#73;
     #0#6  = #3#40;   #0#21 = #3#79;
     #0#7  = #3#41;   #0#22 = #3#80;
     #0#8  = #3#44;   #0#23 = #3#83;

     #0#9  = #4#18;   #0#24 = #4#56;
     #0#10 = #4#34;   #0#25 = #4#72;
     #0#11 = #4#35;   #0#26 = #4#73;
     #0#12 = #4#41;   #0#27 = #4#79;
     #0#13 = #4#42;   #0#28 = #4#80;
     #0#14 = #4#43;   #0#29 = #4#81;

     #0#31 = #3#45;
     #0#30 = #3#6;
     #0#33 = #4#44;
     #0#32 = #4#6;
|FPRC;

|PROCESO Cooperativa;
     |ABRE #22;
     #22#0 = empresa;
     #22#1 = anyo;
     |LEE 040#22=;
     |SI FSalida ! 0; |DDEFECTO #22; |FINSI;
     |CIERRA #22;

     |ABRE #23;
     #23#0 = empresa;
     #23#1 = anyo;
     |LEE 040#23=;
     |SI FSalida ! 0; |DDEFECTO #23; |FINSI;
     |CIERRA #23;

     |ABRE #24;
     #24#0 = empresa;
     #24#1 = anyo;
     |LEE 040#24=;
     |SI FSalida ! 0; |DDEFECTO #24; |FINSI;
     |CIERRA #24;

     |ABRE #25;
     #25#0 = empresa;
     #25#1 = anyo;
     |LEE 040#25=;
     |SI FSalida ! 0; |DDEFECTO #25; |FINSI;
     |CIERRA #25;

     #0#1  = #22#71;   #0#16 = #22#137;
     #0#2  = #23#78;   #0#17 = #23#151;

     #0#40 = #0#1  - #0#2;
     #0#41 = #0#16 - #0#17;

     #0#3  = #24#28;   #0#18 = #24#73;
     #0#4  = #24#36;   #0#19 = #24#81;
     #0#5  = #24#37;   #0#20 = #24#82;
     #0#6  = #24#43;   #0#21 = #24#88;
     #0#7  = #24#44;   #0#22 = #24#89;
     #0#8  = #24#50;   #0#23 = #24#95;

     #0#9  = #25#19;   #0#24 = #25#61;
     #0#10 = #25#36;   #0#25 = #25#78;
     #0#11 = #25#37;   #0#26 = #25#79;
     #0#12 = #25#43;   #0#27 = #25#85;
     #0#13 = #25#44;   #0#28 = #25#86;
     #0#14 = #25#47;   #0#29 = #25#89;

     #0#30 = #24#6;    #0#31 = #24#51;
     #0#32 = #25#6;    #0#33 = #25#48;
|FPRC;

|PROGRAMA;
     |PINPA #0#0;

     |ABRE #100;
     #100#0 = empresa;
     #100#1 = anyo;
     |LEE 000#100=;
     |SI FSalida ! 0;  |DDEFECTO #100;  |FINSI;
     |CIERRA #100;

     |SI #100#13 = "N";  |HAZ Normal;        |FINSI;
     |SI #100#13 = "S";  |HAZ Cooperativa;   |FINSI;

     #0#0  = anyo - 1;
     #0#15 = anyo;

     #0#35 = #0#23;
     #0#34 = #0#8;
     #0#37 = #0#29;
     #0#36 = #0#14;

     #0#39 = (#0#31 + #0#35) - (#0#33 + #0#37);
     #0#38 = (#0#30 + #0#34) - (#0#32 + #0#36);

     |PINDA #0#0;
     |PAUSA;

     |PINPA #1#0;
     |PINDA #1#0;

     |SI #0#39 = 0; |Y #0#38 = 0; |Y #0#41 = 0; |Y #0#40 = 0;
         |CUADRO 2125 2348;
         |ATRI R;
         |ATRI P;
         |PINTA 2226, "   C U A D R A D O    ";
         |ATRI 0;
     |SINO;
         |CUADRO 2125 2349;
         |ATRI R;
         |ATRI P;
         |PINTA 2226, " D E S C U A D R A D O ";
         |ATRI 0;
     |FINSI;

     |PAUSA;
|FPRO;
