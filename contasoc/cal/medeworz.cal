|FICHEROS;
     zhazword #99;
     megwordz #100,MANTE;
     medeword #200;
     medgword #201;
|FIN;

|VARIABLES aTipo;
     aTipo = "";
|FIN;

|PROCESO Tipo11wordz;  |TIPO 11;
     |SI FSalida ! 10;  |ACABA;  |FINSI;

     |LEE 101#100=;

     |SI #100#3 = "S";
         #100#3 = "N";
     |SINO;
         #100#3 = "S";
     |FINSI;

     |GRABA 020#100a;
     |LIBERA #100;

     |PINTA #100#3;
|FPRC;

|RUTINA ClaveBaja100;
     #100#0 = aTipo;
     #100#1 = "      ";
     #100#4 = 0000;
     |SI aTipo = "M";
         #100#4 = #99#2;
     |FINSI;
|FRUT;

|RUTINA ClaveAlta100;
     #100#0 = aTipo;
     #100#1 = "zzzzzz";
     #100#4 = 9999;
     |SI aTipo = "M";
         #100#4 = #99#2;
     |FINSI;
|FRUT;

|PROCESO CreaLinM;
     |SI #200#3 ! 0;
         |SI #99#2 < #200#3; |ACABA; |FINSI;
     |FINSI;
     |SI #200#4 ! 9999;
         |SI #99#2 > #200#4; |ACABA; |FINSI;
     |FINSI;
     #100#0 = "M";
     #100#1 = #200#0;
     #100#2 = #200#1;
     #100#3 = "S";
     #100#4 = #99#2;
     |GRABA 020#100n;
     |LIBERA #100;
|FPRC;

|DEFBUCLE medeword;
     #200#1;
     ;
     "      ";
     "zzzzzz";
     ;
     NULL, CreaLinM;
|FIN;

|PROCESO CreaLinG;
     #100#0 = "G";
     #100#1 = #201#0;
     #100#2 = #201#1;
     #100#3 = "S";
     #100#4 = 0000;
     |GRABA 020#100n;
     |LIBERA #100;
|FPRC;

|DEFBUCLE medgword;
     #201#1;
     ;
     "      ";
     "zzzzzz";
     ;
     NULL, CreaLinG;
|FIN;

|PROCESO CreaMemoria;
     |ABRE #100;
     #100#4 = #99#2;
     #100#0 = "M";
     #100#1 = "      ";
     |LEE 040#100];
     |SI FSalida ! 0;  |O #100#0 ! "M"; |O #100#4 ! #99#2;
         |BUCLE medeword;
     |FINSI;
     |CIERRA #100;
|FPRC;

|PROCESO CreaGestion;
     |ABRE #100;
     #100#4 = 0000;
     #100#0 = "G";
     #100#1 = "      ";
     |LEE 040#100];
     |SI FSalida ! 0;  |O #100#0 ! "G";
         |BUCLE medgword;
     |FINSI;
     |CIERRA #100;
|FPRC;

|PROCESO LinealMemoria;
     |SI #99#5 = "N";  |ACABA;  |FINSI;

     |PUSHV 0501 2380;
     aTipo = "M";
     |ENTLINEAL #1#100, -3, 4, 22, 1, ClaveBaja100, ClaveAlta100;
     |POPV;
|FPRC;

|PROCESO LinealGestion;
     |SI #99#8 = "N";  |ACABA;  |FINSI;

     |PUSHV 0501 2380;
     aTipo = "G";
     |ENTLINEAL #1#100, -3, 4, 22, 1, ClaveBaja100, ClaveAlta100;
     |POPV;
|FPRC;
