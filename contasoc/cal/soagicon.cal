|FICHEROS;
  soagicon #0;
  sodacoca #1;
  sodacoli #2;
  soplanca #5;
  soplanli #6;
  maacceso #7;
  sodacuen #8;

  :/contagen/def/canempre #30;
  :/contagen/def/cacuenta #4;
|FIN;

|VARIABLES;
  linea = 0;
  longi = 0;
  d_digi = 0;
  h_digi = 0;
  d_cuen = "";
  h_cuen = "";
  d_pase = "";
  h_pase = "";
  path = "";
  anyo = "";
  vari = "";
  aste = "";
  long = "";
  numero = "";

  CampoNivel = 0;
  Posicion   = 0;
  Ejercicio  = 0;

  &empAlta = 0;
  &perio = 0;
  &plani = 0;
  &siono = "";
  &cuent = "";
  &nivel = 0;
  &sibloq = "";
|FIN;

|INCLUYE varcon_i;
|INCLUYE varbal_i;
|| ************************ CALCULOS DE PANTALLA *************************

|PROCESO inicio; |TIPO 0;
  |SI FSalida = 2; |ACABA; |FINSI;

  |HAZ BusquedaApli;
  |SI eaPathContagen = "";
      |MENAV "      No existe Aplicacion de Contabilidad";
      |ERROR;
      |ACABA;
  |FINSI;

  enEmpresa  = #0#0;
  enPerConta = #0#1;
  enSwSinMen = 0;
  |HAZ LeeEmpConta;
  |SI swerror = 1;
      |ERROR;
      |ACABA;
  |FINSI;

  Ejercicio  = enEjer;

  |ABRE #7;
  #7#0 = #0#0;
  #7#1 = Ejercicio;
  |LEE 040#7=;
  |SI FSalida ! 0;
      |CIERRA #7;
      |MENAV "     No existe Cliente.";
      |ERROR;
      |ACABA;
  |FINSI;
  |CIERRA #7;

  |PATH_DAT #4 aPathConta;

  |SI cuent = "";  cuent = "129000000000";  |FINSI;
  CampoNivel = 13 + dig3;
  Posicion   = 100 + #30CampoNivel;
  #0#5       = cuent % Posicion;
  |PINTA #0#5;
  #0#6 = dig3;
||  |PINTA #0#6;
|FPRC;

|PROCESO MiraNivel;
 |SI #0Campo > dig3;
     |MENAV "    Error. No existe Nivel en la Empresa";
     |ERROR;
 |FINSI;
|FPRC;

|PROCESO planilla; |TIPO 0;

  |ABRE #5;
  #5#0 = #0#2;
  |LEE 040#5=;
  |SI FSalida ! 0;
      |MENAV "      No existe Planilla.";
      |ERROR;
  |SINO;
      #0#3 = #5#1;
      |PINTA #0#3;
  |FINSI;
  |CIERRA #5;
|FPRC;

|PROCESO cuenta; |TIPO 6;
      emCta = 1;        || Dar mensajes de error
      eaCuenta = #0Campo;
      salidas  = FSalida;
      |HAZ FiltraPuntos;
      #0Campo = eaCuenta;
      |PINTA #0Campo;

      |HAZ SacaNivel;
|FPRC;

|PROCESO pase; |TIPO 3;

    |SI #0#4 = "SI";
        empAlta = #0#0;
        empre = #0#0;
        perio = #0#1;
        plani = #0#2;
        siono = #0#4;
        cuent = #0#5;
        nivel = #0#6;
        sibloq = #0#7;
        |SUB_EJECUTA_NP "soagico1";
    |FINSI;
|FPRC;
