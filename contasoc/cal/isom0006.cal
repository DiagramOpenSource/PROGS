|FICHEROS;
     isom0001;
     isom0006;
     isom0022;
     isom0023;
     isom0024;
     isom0025;
     isom0029;
     isom0030;
     isom0505;
     isow0024,MANTE;

     maempr10;
|FIN;

|VARIABLES;
      nRango         = 0;
      nBotonSal      = -1;
      nBotonAnota    = -1;
      nBotonDat      = -1;
      nLabel         = -1;
      nTree          = 0;
      nHandle        = 0;
      nPanta         = 0;
      nVentana       = 0;
      nVent          = 0;
      nSal           = 0;
      nCasilla       = 0;
      nContenido1    = 0;
      nContenido2    = 0;
      nGrid          = 0;
      nCampoD        = 0;
      nCampoH        = 0;
      nLinea         = 0;
      nModo          = 0;
      nHay211        = 0;
      nOk            = 0;

      aContenido     = "";
      aTexto         = "";
      aBase          = "";
      aAbre          = "";
      aEsc1          = "";
      aEsc2          = "";
      aRetu          = "";
      aTecla         = "";
      aCasilla       = "";

     {-1}sTree       = 0;
     sT_nID          = 0;
     sT_nOper        = 0;
     sT_aData        = "";

     {-1}aVent       = "";
         aVent1      = 0;
         aVent2      = 0;
         aVent3      = 0;
         aVent4      = 0;
         aVent5      = "";

     &eaTitCasilla   = "";
     &eaRutaOrigen   = "";
     &eaRutaDestino  = "";
     &eaFicheroTra   = "";
     &eaFicheroTxt   = "";
     &eaFicheroTgz   = "";
     &eaFicheroTar   = "";
     &eaOrigen       = "";
     &eaDestino      = "";
     &eaAlfa         = "";
     &enImporte      = 0;
     &enModoConsulta = 0;
|FIN;

|INCLUYE calc9999;

|PROCESO Tipo1;  |TIPO 1;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1;  |O nModo = 3;
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo2;  |TIPO 2;
     |HAZ Tipo1;
|FPRC;

|PROCESO isom0007;
     aAlfa = "";
     |SI enModoConsulta = 1;
         aAlfa = "(MODO CONSULTA)   ";
     |FINSI;

     aAlfa =  aAlfa + "Detalle de las correcciones (" + (("00000" + #maempr10#0) % -105) + " / " + #maempr10#1 + " " + #maempr10#2;
     |QBF aAlfa;
     aAlfa = aAlfa + ")";
     |VENTANA 0501, 3499, -1, 16, aAlfa;
     nVentana = FSalida;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |PTEC 802;  |PAUSA;

     |PULSATECLA;

     |SUB_EJECUTA_NP "isom0007";

     |PULSATECLA;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |FINVENTANA nVentana;

     |PULSATECLA;
|FPRC;

|PROCESO isom0008;
     aAlfa = "";
     |SI enModoConsulta = 1;
         aAlfa = "(MODO CONSULTA)   ";
     |FINSI;

     aAlfa =  aAlfa + "Informaci¢n adicional sobre ajustes derivados 1¦ aplicaci¢n (" + (("00000" + #maempr10#0) % -105) + " / " + #maempr10#1 + " " + #maempr10#2;
     |QBF aAlfa;
     aAlfa = aAlfa + ")";
     |VENTANA 0501, 3499, -1, 16, aAlfa;
     nVentana = FSalida;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |PTEC 802;  |PAUSA;

     |PULSATECLA;

     |SUB_EJECUTA_NP "isom0008";

     |PULSATECLA;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |FINVENTANA nVentana;

     |PULSATECLA;
|FPRC;

|PROCESO isom0024;
     aAlfa = "";
     |SI enModoConsulta = 1;
         aAlfa = "(MODO CONSULTA)   ";
     |FINSI;

     aAlfa =  aAlfa + "Art.19.13 LIS (" + (("00000" + #maempr10#0) % -105) + " / " + #maempr10#1 + " " + #maempr10#2;
     |QBF aAlfa;
     aAlfa = aAlfa + ")";
     |VENTANA 0501, 3499, -1, 16, aAlfa;
     nVentana = FSalida;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |PTEC 802;  |PAUSA;

     |PULSATECLA;

     |SUB_EJECUTA_NP "isom0024";

     |PULSATECLA;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |FINVENTANA nVentana;

     |PULSATECLA;
|FPRC;

|PROCESO isom0025;
     aAlfa = "";
     |SI enModoConsulta = 1;
         aAlfa = "(MODO CONSULTA)   ";
     |FINSI;

     |SI enAnyo [ 2014;
         aAlfa =  aAlfa + "Art.19.13 LIS (" + (("00000" + #maempr10#0) % -105) + " / " + #maempr10#1 + " " + #maempr10#2;
     |FINSI;

     |SI enAnyo = 2015;
         aAlfa =  aAlfa + "Art.11.12 LIS (" + (("00000" + #maempr10#0) % -105) + " / " + #maempr10#1 + " " + #maempr10#2;
     |FINSI;

     |SI enAnyo ] 2016;
         aAlfa =  aAlfa + "Art.11.12yDT 33.1 LIS (" + (("00000" + #maempr10#0) % -105) + " / " + #maempr10#1 + " " + #maempr10#2;
     |FINSI;

     |QBF aAlfa;
     aAlfa = aAlfa + ")";
     |VENTANA 0501, 3499, -1, 16, aAlfa;
     nVentana = FSalida;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |PTEC 802;  |PAUSA;

     |PULSATECLA;

     |SUB_EJECUTA_NP "isom0025";

     |PULSATECLA;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |FINVENTANA nVentana;

     |SELECT #3#isom0006;
     #isom0006#0  = enEmpresa;
     #isom0006#1  = enAnyo;
     #isom0006#6  = "211";
     |LEE 000#isom0006.=;
     |SI FSalida ! 0; |DDEFECTO #isom0006;  |FINSI;
     |SELECT #1#isom0006;

     nHay211 = 0;
     |SI #isom0006#7 ! 0;
         nHay211 = 1;
     |FINSI;

     |PULSATECLA;
|FPRC;

|PROCESO isom0030;
     aAlfa = "";
     |SI enModoConsulta = 1;
         aAlfa = "(MODO CONSULTA)   ";
     |FINSI;

     aAlfa =  aAlfa + "Art.11.12 LIS " + (("00000" + #maempr10#0) % -105) + " / " + #maempr10#1 + " " + #maempr10#2;

     |QBF aAlfa;
     aAlfa = aAlfa + ")";
     |VENTANA 0501, 3499, -1, 16, aAlfa;
     nVentana = FSalida;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |PTEC 802;  |PAUSA;

     |PULSATECLA;

     |SUB_EJECUTA_NP "isom0030";

     |PULSATECLA;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |FINVENTANA nVentana;

     |SELECT #3#isom0006;
     #isom0006#0  = enEmpresa;
     #isom0006#1  = enAnyo;
     #isom0006#6  = "211";
     |LEE 000#isom0006.=;
     |SI FSalida ! 0; |DDEFECTO #isom0006;  |FINSI;
     |SELECT #1#isom0006;

     nHay211 = 0;
     |SI #isom0006#7 ! 0;
         nHay211 = 1;
     |FINSI;

     |PULSATECLA;
|FPRC;

|PROCESO GrabaCas106;
     #isom0006#0 = #maempr10#0;
     #isom0006#1 = #maempr10#1;
     #isom0006#4  = aCasilla;
     |LEE 101#isom0006.=;
     |SI FSalida = 0;
         #isom0006#5 = enValor1;
         #isom0006#7 = enValor2;
         |GRABA 020#isom0006.a;
     |FINSI;
     |LIBERA #isom0006;
|FPRC;

|PROCESO isow0024;
     nRango = 4 + 8 + 16 + 32 + 128;
     |LINEAL_SIMPLE #1#isom0006, nRango, 0602, 3495, Baja106, Alta106, NULL;
     nGrid = FSalida;

     |REFRESCACONTROL nGrid;

     aAlfa = "";
     |SI enModoConsulta = 1;
         aAlfa = "(MODO CONSULTA)   ";
     |FINSI;

     aAlfa =  aAlfa + "Reversi¢n de las perdidas por deterioro (" + (("00000" + #maempr10#0) % -105) + " / " + #maempr10#1 + " " + #maempr10#2;
     |QBF aAlfa;
     aAlfa = aAlfa + ")";

     |VENTANA 0501, 1899, -1, 16, aAlfa;
     nVentana = FSalida;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |SI enModoConsulta = 1;
         |ABRE #isom0000;
         #isom0000#0 = #maempr10#0;
         #isom0000#1 = #maempr10#1;
         |LEE 000#isom0000.=;
         |SI FSalida ! 0;  |DDEFECTO #isom0000;  |FINSI;
         |CIERRA #isom0000;

         #isow0024#0 = #isom0000#127;
         #isow0024#1 = #isom0000#128;
         |SELECT #2#isom0006;

         eaCasilla   = "1518"; |HAZ LeeCas106;
         #isow0024#2 = enValor1;
         #isow0024#5 = enValor2;

         eaCasilla   = "333";  |HAZ LeeCas106;
         #isow0024#3 = enValor1;
         #isow0024#6 = enValor2;

         #isow0024#4 = #isow0024#1 - #isow0024#2 - #isow0024#3;

         |SELECT #1#isom0006;
         |PINPA #0#isow0024;
         |PINDA #0#isow0024;
         |PAUSA;

         aVent1 = -1;
         aVent2 = -1;
         aVent3 = 0;
         aVent4 = nVentana;
         aVent5 = "MODELESS";
         |ESPECIFICA "ESTADO_VENTANA", aVent;

         |DESTRUYECONTROL nGrid;

         |FINVENTANA nVentana;

         |PULSATECLA;

         |ACABA;
     |FINSI;

     |ABRE #isom0000;
     #isom0000#0 = #maempr10#0;
     #isom0000#1 = #maempr10#1;
     |LEE 101#isom0000.=;
     |SI FSalida ! 0;
         |DDEFECTO #isom0000;
         #isom0000#0 = #maempr10#0;
         #isom0000#1 = #maempr10#1;
         |GRABA 020#isom0000.b;
     |FINSI;

     |DDEFECTO #isow0024;

     |SELECT #2#isom0001;
     |SELECT #2#isom0006;

     #isow0024#0 = #isom0000#127;
     #isow0024#1 = #isom0000#128;

     eaCasilla   = "1518"; |HAZ LeeCas106;
     #isow0024#2 = enValor1;
     #isow0024#5 = enValor2;

     eaCasilla   = "333";  |HAZ LeeCas106;
     #isow0024#3 = enValor1;
     #isow0024#6 = enValor2;

     #isow0024#4 = #isow0024#1 - #isow0024#2 - #isow0024#3;

     |PINPA #0#isow0024;
     |PINDA #0#isow0024;
     |ENDATOS #1#isow0024;
     |SI FSalida = 0;
         #isom0000#127 = #isow0024#0;
         #isom0000#128 = #isow0024#1;

         |GRABA 020#isom0000.a;

         enValor1  = #isow0024#2;
         enValor2  = #isow0024#5;
         aCasilla = "1518";
         |HAZ GrabaCas106;

         enValor1 = #isow0024#3;
         enValor2 = #isow0024#6;
         aCasilla = "333";
         |HAZ GrabaCas106;
     |FINSI;

     |LIBERA #isom0000;
     |CIERRA #isom0000;

     |SELECT #1#isom0006;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |DESTRUYECONTROL nGrid;

     |FINVENTANA nVentana;

     |PULSATECLA;
|FPRC;

|PROCESO Tipo3;  |TIPO 3;
     #isom0505#0 = #isom0006#1;
     #isom0505#1 = #isom0006#2;
     |LEE 000#isom0505.=;
     |SI FSalida ! 0;  |DDEFECTO #isom0505;  |FINSI;

     |SI #isom0505#5 ! "I";  |ACABA;  |FINSI;

     |GRABA 020#isom0006.a;
     |LIBERA #isom0006;

     nLinea = #isom0006#2;

     |SI #isom0006#4 = "363  ";
         |SI enAnyo [ 2014;
             |ABRE #isom0022;
             |ABRE #isom0023;
             |HAZ Total18Bis;
             |CIERRA #isom0022;
             |CIERRA #isom0023;
         |FINSI;

         |SI enAnyo ] 2015;
             |ABRE #isom0022;
             |ABRE #isom0023;
             |ABRE #isom0029;
             |HAZ Total20;
             |CIERRA #isom0022;
             |CIERRA #isom0023;
             |CIERRA #isom0029;
         |FINSI;
     |FINSI;

     |ABRE #isom0001;
     |HAZ TotalFich106;
     |CIERRA #isom0001;

     #isom0006#0 = #maempr10#0;
     #isom0006#1 = #maempr10#1;
     #isom0006#2 = nLinea;
     |LEE 101#isom0006.=;

     aAlfa = "|IDGRID";
     aAlfa = #isom0006#aAlfa#;
     nGrid = aAlfa;
     |REFRESCACONTROL nGrid;

     |SI #isom0006#6 = "414  ";  |Y #isom0006#1 ] 2010;
         |SI #isom0006#7 > 50000;
             aAlfa = "0000Importe mayor a 50.000 Euros. ";
             aAlfa = aAlfa + "Si quiere introducir la Informaci¢n adicional de ajustes y deducciones ";
             aAlfa = aAlfa + "en estos momentos pulse el bot¢n de la derecha";
             |MENAV aAlfa;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO Tipo0;  |TIPO 0;
     |C_M #isom0006#5, 1, "N";
     |C_M #isom0006#7, 1, "N";

     #isom0505#0 = #isom0006#1;
     #isom0505#1 = #isom0006#2;
     |LEE 000#isom0505.=;
     |SI FSalida ! 0;  |DDEFECTO #isom0505;  |FINSI;

     |SI #isom0006#6 = "543  ";
         |SI nHay211 = 0;
             |C_M #isom0006#7, 1, "S";
         |FINSI;

         |ACABA;
     |FINSI;

     |SI #isom0505#5 ! "I";  |ACABA;  |FINSI;

     |SI #isom0006#4 ! "     ";  |C_M #isom0006#5, 1, "S";  |FINSI;
     |SI #isom0006#6 ! "     ";  |C_M #isom0006#7, 1, "S";  |FINSI;
|FPRC;

|PROCESO IntroDatos;
     aCasilla = #isom0006#4;  |QBF aCasilla;
     |SI aCasilla = "";
         aCasilla = #isom0006#6;  |QBF aCasilla;
     |FINSI;

     nLinea   = #isom0006#2;
     nSal     = 1;
     |PTEC 807;
|FPRC;

|PROCESO Evento106;
     |SI FSalida = 1;
         |SI nBotonDat ! -1;
             |FIN_CONTROL_WINDOWS nBotonDat;
             nBotonDat = -1;
             |PULSATECLA;
         |FINSI;

         |SI nSal = 0;
             nLinea = #isom0006#2;
         |FINSI;

         #isom0006#2 = nLinea;
         |LEE 000#isom0006.=;

         |SI nSal = 1;
             aAlfa = "|IDGRID";
             aAlfa = #isom0006#aAlfa#;
             nGrid = aAlfa;
             |REFRESCACONTROL nGrid;
         |FINSI;

         nSal = 0;

         #isom0505#0 = #isom0006#1;
         #isom0505#1 = #isom0006#2;
         |LEE 000#isom0505.=;
         |SI FSalida ! 0;  |DDEFECTO #isom0505;  |FINSI;

         |SI #isom0006#1 [ 2009;
             |SI #isom0505#5 = "T";  |ACABA;  |FINSI;
             |SI #isom0505#5 = "I";  |ACABA;  |FINSI;
         |FINSI;

         |SI #isom0006#1 = 2010; |O #isom0006#1 = 2011;
             |SI #isom0006#6 ! "414  ";
                 |SI #isom0505#5 = "T";  |ACABA;  |FINSI;
                 |SI #isom0505#5 = "I";  |ACABA;  |FINSI;
             |FINSI;
         |FINSI;

         |SI #isom0006#1 ] 2012;
             |SI #isom0006#6 ! "364  ";  |Y #isom0006#6 ! "414  ";
                 |SI #isom0505#5 = "T";  |ACABA;  |FINSI;
                 |SI #isom0505#5 = "I";  |ACABA;  |FINSI;
             |FINSI;
         |FINSI;

         aAlfa = "BOTON,C     T     R     L         &A " + (" " * 15) + "{{197}}";
         aAlfa = aAlfa + (" " * 15) + "C     T     R     L         &A";

         |CONTROL_SIMPLE 0, aAlfa, 0696, 3199, IntroDatos;
         nBotonDat = FSalida;
         |PULSATECLA;
     |FINSI;
|FPRC;

|PROCESO isom0505;
     #isom0006#0  = enEmpresa;
     #isom0006#1  = #isom0505#0;
     #isom0006#2  = #isom0505#1;
     |LEE 101#isom0006.=;
     |SI FSalida ! 0;
         |DDEFECTO #isom0006;
         #isom0006#0  = enEmpresa;
         #isom0006#1  = #isom0505#0;
         #isom0006#2  = #isom0505#1;
         |GRABA 020#isom0006.b;
     |FINSI;

     #isom0006#3  = #isom0505#4;
     #isom0006#4  = #isom0505#2;
     #isom0006#6  = #isom0505#3;

     |SI #isom0006#6 = "211  ";
         |SI #isom0006#7 ! 0;
             nHay211 = 1;
         |FINSI;
     |FINSI;

     eaTipoColor = #isom0505#6;
     |HAZ CogeColor;
     #isom0006#8 = eaColor;

     |GRABA 020#isom0006.a;
     |LIBERA #isom0006;
|FPRC;

|DEFBUCLE isom0505;
     #isom0505#1;
     ;
     enAnyo, 0000;
     enAnyo, 9999;
     ;
     NULL, isom0505;
|FIN;

|PROCESO MontaEstructura505;
     |BUCLE isom0505;
|FPRC;

|PROCESO isom0006;
     |SI #isom0006#5 ! 0;  |ACABA;  |FINSI;
     |SI #isom0006#7 ! 0;  |ACABA;  |FINSI;

     |SI #isom0006#4 = "416  ";
         |ACABA;
     |FINSI;

     |BORRA 020#isom0006.a;
     |LIBERA #isom0006;
|FPRC;

|DEFBUCLE isom0006;
     #isom0006#1;
     ;
     enEmpresa, enAnyo, 0000;
     enEmpresa, enAnyo, 9999;
     be;
     NULL, isom0006;
|FIN;

|PROCESO BotonSalir;
     nSal  = 0;
     |PTEC 807;
|FPRC;

|PROCESO BotonAnota;
     eaCasilla = #isom0006#4;  |QBF eaCasilla;
     |SI eaCasilla = "";
         eaCasilla = #isom0006#6;  |QBF eaCasilla;
     |FINSI;

     |SI eaCasilla = "";   |ACABA;  |FINSI;

     eaTitCasilla = #isom0006#4;  |QBF eaTitCasilla;
     |SI eaTitCasilla = "";
         eaTitCasilla = #isom0006#6;  |QBF eaTitCasilla;
     |SINO;
         eaTitCasilla = #isom0006#4 + " y " + #isom0006#6;  |QBF eaTitCasilla;
     |FINSI;

     |SUB_EJECUTA "isom0499";
|FPRC;

|PROCESO Baja106;
     #isom0006#0  = enEmpresa;
     #isom0006#1  = enAnyo;
     #isom0006#2  = 1;
|FPRC;

|PROCESO Alta106;
     #isom0006#0  = enEmpresa;
     #isom0006#1  = enAnyo;
     #isom0006#2  = 9999;
|FPRC;

|PROGRAMA;
     |ABRE #maempr10;
     #maempr10#0 = enEmpresa;
     #maempr10#1 = enAnyo;
     |LEE 000#maempr10.=;
     |SI FSalida ! 0;  |DDEFECTO #maempr10;  |FINSI;
     |CIERRA #maempr10;

     nHay211 = 0;
     |HAZ MontaEstructura505;

     |PINPA #0#isom0006;
     nPanta = FSalida;

     nLinea = 5;
     nSal   = 0;

     |PARA;  |SI;  |HACIENDO;
          |CONTROL_SIMPLE 0, "BOTON,{{197}} sali&R", 3485, 3498, BotonSalir;
          nBotonSal = FSalida;

          |CONTROL_SIMPLE 0, "BOTON,{{197}} a&Notaciones del detalle", 3302, 3425, BotonAnota;
          nBotonAnota = FSalida;

          #isom0006#0 = #maempr10#0;
          #isom0006#1 = #maempr10#1;
          #isom0006#2 = nLinea;
          |LEE 000#isom0006.=;

          |SI enModoConsulta = 0;
              nRango = 1 + 2 + 4 + 8 + 16 + 128 + 256;
          |SINO;
              nRango = 4 + 8 + 16 + 128 + 256;
          |FINSI;

          |LINEAL_SIMPLE #1#isom0006, nRango, 0602, 3495, Baja106, Alta106, Evento106;

          |FIN_CONTROL_WINDOWS nBotonSal;
          |FIN_CONTROL_WINDOWS nBotonAnota;

          |SI nSal = 0;  |SAL;  |FINSI;

          |SI nBotonDat ! -1;
              |FIN_CONTROL_WINDOWS nBotonDat;
          |FINSI;

          |SI enAnyo = 2008;
              |SI aCasilla = "415";  |HAZ isom0008;  |FINSI;
          |FINSI;


          |SI enAnyo = 2013;
              |SI aCasilla = "415";  |HAZ isom0024;  |FINSI;
          |FINSI;

          |SI enAnyo = 2014; |O enAnyo = 2015;
              |SI aCasilla = "211";  |HAZ isom0025;  |FINSI;
          |FINSI;

          |SI enAnyo ] 2016;
              |SI aCasilla = "1518"; |O aCasilla = "333";
                 |HAZ isow0024;
              |FINSI;
              |SI aCasilla = "211";  |HAZ isom0030;  |FINSI;
          |FINSI;

          |SI enAnyo = 2018;
              nOk = 0;
              |SI aCasilla = "361";  nOk = 1;  |FINSI;
              |SI aCasilla = "362";  nOk = 1;  |FINSI;
              |SI aCasilla = "321";  nOk = 1;  |FINSI;
              |SI aCasilla = "322";  nOk = 1;  |FINSI;
              |SI aCasilla = "325";  nOk = 1;  |FINSI;
              |SI aCasilla = "326";  nOk = 1;  |FINSI;
              |SI aCasilla = "337";  nOk = 1;  |FINSI;
              |SI aCasilla = "338";  nOk = 1;  |FINSI;
              |SI aCasilla = "311";  nOk = 1;  |FINSI;
              |SI aCasilla = "312";  nOk = 1;  |FINSI;
              |SI aCasilla = "313";  nOk = 1;  |FINSI;
              |SI aCasilla = "314";  nOk = 1;  |FINSI;
              |SI aCasilla = "323";  nOk = 1;  |FINSI;
              |SI aCasilla = "324";  nOk = 1;  |FINSI;
              |SI aCasilla = "389";  nOk = 1;  |FINSI;
              |SI aCasilla = "390";  nOk = 1;  |FINSI;
              |SI aCasilla = "391";  nOk = 1;  |FINSI;
              |SI aCasilla = "392";  nOk = 1;  |FINSI;
              |SI aCasilla = "413";  nOk = 1;  |FINSI;
              |SI aCasilla = "414";  nOk = 1;  |FINSI;

              |SI nOk = 1;
                  eaCasilla = aCasilla;
                  |SUB_EJECUTA "isom0034";
                  |SI enModoConsulta = 0;
                      enValor1 = 0;
                      enValor2 = 0;
                      |SI #isom0006#4 ! "     ";  enValor1 = enImporte;  |FINSI;
                      |SI #isom0006#6 ! "     ";  enValor2 = enImporte;  |FINSI;

                      |HAZ GrabaCas106;
                  |FINSI;
              |FINSI;

              |SI aCasilla = "414"; |SUB_EJECUTA "isom0017";  |FINSI;
          |FINSI;

          |SI enAnyo ] 2019;
              nOk = 1;
              |SI aCasilla = "417";  nOk = 0;  |FINSI;
              |SI aCasilla = "418";  nOk = 0;  |FINSI;

              |SI nOk = 1;
                  eaCasilla = aCasilla;
                  |SUB_EJECUTA "isom0034";
                  |SI enModoConsulta = 0;
                      enValor1 = 0;
                      enValor2 = 0;
                      |SI #isom0006#4 ! "     ";  enValor1 = enImporte;  |FINSI;
                      |SI #isom0006#6 ! "     ";  enValor2 = enImporte;  |FINSI;

                      |HAZ GrabaCas106;
                  |FINSI;

                  |SI aCasilla = "414";  |SUB_EJECUTA "isom0017";  |FINSI;

                  |SI #isom0006#6 = "414  ";
                      |SI #isom0006#7 > 50000;
                          aAlfa = "0000Importe mayor a 50.000 Euros. ";
                          aAlfa = aAlfa + "Si quiere introducir la Informaci¢n adicional de ajustes y deducciones ";
                          aAlfa = aAlfa + "en estos momentos pulse el bot¢n de la derecha";
                          |MENAV aAlfa;
                      |FINSI;
                  |FINSI;
              |FINSI;
          |FINSI;

          |SI aCasilla = "363";  |SUB_EJECUTA "isom0022";  |FINSI;
          |SI aCasilla = "417";  |HAZ isom0007;            |FINSI;

          |SI enModoConsulta = 0;
              |ABRE #isom0001;
              |HAZ TotalFich106;
              |CIERRA #isom0001;
          |FINSI;
     |SIGUE;

     |BUCLE isom0006;

     |PULSATECLA;
|FPRO;

|PROCESO Tipo80m6;  |TIPO 80;
     |ABRET #isom0006;
     |ABRET #isom0505;

     FSalida = 3499;
|FPRC;

|PROCESO Tipo90m6;  |TIPO 90;
     |CIERRAT #isom0006;
     |CIERRAT #isom0505;
|FPRC;
