|FICHEROS;
     sodacuen;
     soplanli;
|FIN;

|VARIABLES;
     &eaPrograma  = "";
     &eaExtension = "";
     &eaPlanillaS = "";
     &enEjerS     = 0;
     &enPlan      = 0;
|FIN;

|PROCESO sodacuenPlanS;
     |ABRE #sodacuen;
     #sodacuen#2  = enPlan;
     #sodacuen#0  = "";
     |LEE 000#sodacuen.];
     |SI FSalida ! 0;  |O #sodacuen#2 ! enPlan;
         |CIERRA #sodacuen;

         eaPrograma  = "sodacuen";
         eaExtension = "soc";
         |SUB_EJECUTA_NP ":basica/dspatron";

         |ABRE #sodacuen;
     |FINSI;

     #sodacuen#2 = enPlan;
     #sodacuen#0  = "";
     |LEE 000#sodacuen.];
     |SI FSalida ! 0;  |O #sodacuen#2 ! enPlan;
         |MENAV "0000No existe el Plan Contable para el 2008";
         |MENAV "0000Consulte con su administrador";
     |FINSI;
     |CIERRA #sodacuen;
|FPRC;

|PROCESO soplanli;
     |ABRE #soplanli;
     |DDEFECTO #soplanli;
     #soplanli#0  = 1;
     #soplanli#1  = 8;
     |LEE 001#soplanli.];
     |SI FSalida ! 0;  |O #soplanli#0 ! 1;
         |DDEFECTO #soplanli;
         #soplanli#0 = 1;
         #soplanli#1 = 8;
         #soplanli#2 = "8*";
         |GRABA 040#soplanli.n;
         #soplanli#0 = 1;
         #soplanli#1 = 9;
         #soplanli#2 = "9*";
        |GRABA 040#soplanli.n;
     |FINSI;
     |CIERRA #soplanli;
|FPRC;

|PROCESO PlanDePlanillasS;
     |SI enEjerS ! 0;
         |SI enEjerS [ 2007;  enPlan = 1990;  |FINSI;
         |SI enEjerS ] 2008;  enPlan = 2008;  |FINSI;
     |FINSI;

     |SI enPlan ! 2008;  |ACABA;  |FINSI;

     |SI eaPlanillaS = "sodacuen";  |HAZ sodacuenPlanS;  |FINSI;
     |SI eaPlanillaS = "soplanli";  |HAZ soplanli;  |FINSI;
|FPRC;
