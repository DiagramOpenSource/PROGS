|FICHEROS;
     isom0201;
     isom0204;
|FIN;

|VARIABLES;
      nRango         = 0;
      nBotonSal      = 0;
      nTree          = 0;
      nHandle        = 0;
      nPanta         = 0;
      nBotonLabel    = 0;
      nVentana       = 0;
      nVentTrab      = 0;
      nGrid          = 0;
      nModo          = 0;
      nLinea         = 0;
      nIDE           = 0;
      nHay           = 0;

      aContenido     = "";
      aTexto         = "";
      aBase          = "";
      aAlfa          = "";
      aAbre          = "";
      aEsc1          = "";
      aEsc2          = "";
      aRetu          = "";
      aTecla         = "";

     {-1}sTree       = 0;
     sT_nID          = 0;
     sT_nOper        = 0;
     sT_aData        = "";

     {-1}aVent       = "";
         aVent1      = 0;
         aVent2      = 0;
         aVent3      = 0;
         aVent4      = 0;
         aVent5      = "";

     &enEmpresa      = 0;
     &enAnyo         = 0;
     &eaRutaOrigen   = "";
     &eaRutaDestino  = "";
     &eaFicheroTra   = "";
     &eaFicheroTxt   = "";
     &eaFicheroTgz   = "";
     &eaFicheroTar   = "";
     &eaOrigen       = "";
     &eaDestino      = "";
     &eaAlfa         = "";
     &eaTipoColor    = "";
     &eaColor        = "";
     &enModoConsulta = 0;
|FIN;

|PROCESO Tipo1m204;  |TIPO 1;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo = 1;  |O nModo = 3;

         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Tipo2m204;  |TIPO 2;
     |HAZ Tipo1m204;
|FPRC;

|PROCESO Tipo0m204;  |TIPO 0;
     |C_M #isom0204#4, 1, "S";

     aAlfa = #isom0204#3;  |QBF aAlfa;
     |SI aAlfa = "";
         |C_M #isom0204#4, 1, "N";

         #isom0204#2 = 0;
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO Graba204;
     nIDE = nIDE + 1;

     #isom0204#0 = enEmpresa;
     #isom0204#1 = enAnyo;
     #isom0204#2 = nIDE;
     |LEE 101#isom0204.=;
     |SI FSalida ! 0;
         |DDEFECTO #isom0204;
         #isom0204#0 = enEmpresa;
         #isom0204#1 = enAnyo;
         #isom0204#2 = nIDE;
         |GRABA 020#isom0204.b;
     |FINSI;

     #isom0204#3 = aAlfa;
     |GRABA 020#isom0204.a;
     |LIBERA #isom0204;
|FPRC;

|PROCESO BotonSalir;
     |PTEC 807;
|FPRC;

|PROCESO Baja204;
     #isom0204#0  = enEmpresa;
     #isom0204#1  = enAnyo;
     #isom0204#2  = 1;
|FPRC;

|PROCESO Alta204;
     #isom0204#0  = enEmpresa;
     #isom0204#1  = enAnyo;
     #isom0204#2  = 99;
|FPRC;

|PROCESO CargaEjercicios;
     nIDE   = 0;

     aAlfa = "1983 y anteriores";  |HAZ Graba204;
     aAlfa = "      1984       ";  |HAZ Graba204;
     aAlfa = "      1985       ";  |HAZ Graba204;
     aAlfa = "      1986       ";  |HAZ Graba204;
     aAlfa = "      1987       ";  |HAZ Graba204;
     aAlfa = "      1988       ";  |HAZ Graba204;
     aAlfa = "      1989       ";  |HAZ Graba204;
     aAlfa = "      1990       ";  |HAZ Graba204;
     aAlfa = "      1991       ";  |HAZ Graba204;
     aAlfa = "      1992       ";  |HAZ Graba204;
     aAlfa = "      1993       ";  |HAZ Graba204;
     aAlfa = "      1994       ";  |HAZ Graba204;
     aAlfa = "      1995       ";  |HAZ Graba204;
     aAlfa = "      1996       ";  |HAZ Graba204;
     aAlfa = "      1997       ";  |HAZ Graba204;
     aAlfa = "      1998       ";  |HAZ Graba204;
     aAlfa = "      1999       ";  |HAZ Graba204;
     aAlfa = "      2000       ";  |HAZ Graba204;
     aAlfa = "      2001       ";  |HAZ Graba204;
     aAlfa = "      2002       ";  |HAZ Graba204;
     aAlfa = "      2003       ";  |HAZ Graba204;
     aAlfa = "      2004       ";  |HAZ Graba204;
     aAlfa = "      2005       ";  |HAZ Graba204;
     aAlfa = "      2006       ";  |HAZ Graba204;
     aAlfa = "      2007       ";  |HAZ Graba204;
     aAlfa = "      2008       ";  |HAZ Graba204;
     aAlfa = "      2009       ";  |HAZ Graba204;
     aAlfa = "      2010       ";  |HAZ Graba204;
     aAlfa = "      2011       ";  |HAZ Graba204;
     aAlfa = "      2012       ";  |HAZ Graba204;
|FPRC;

|PROCESO isom0204B;
     |BORRA 020#isom0204.a;
     |LIBERA #isom0204;
|FPRC;

|DEFBUCLE isom0204B
     #isom0204#1;
     ;
     enEmpresa, enAnyo, 00;
     enEmpresa, enAnyo, 99;
     be;
     NULL, isom0204B;
|FIN;

|PROCESO Evento204;
     |SI FSalida = 1;  |O FSalida = 2;
         |LEE 000#isom0204.=;
     |FINSI;
|FPRC;

|PROGRAMA;
     nHay = 0;
     |ABRE #isom0201;
     #isom0201#0 = enEmpresa;
     #isom0201#1 = enAnyo;
     #isom0201#2 = 1;
     |LEE 000#isom0201.];
     |SI FSalida = 0;  |Y #isom0201#0 = enEmpresa;  |Y  #isom0201#1 = enAnyo;
         nHay = 1;
     |FINSI;
     |CIERRA #isom0201;

     |SI nHay = 0;
         |BUCLE isom0204B;

         |MENAV "0000No hay revalorizaciones en la empresa";
         |ACABA;
     |FINSI;

     aAlfa = "";
     |SI enModoConsulta = 1;
         aAlfa = "(MODO CONSULTA)   ";
     |FINSI;

     aAlfa = aAlfa + "Coeficientes aplicables";

     |VENTANA 0501, 3599, -1, 16, aAlfa;
     nVentana = FSalida;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODAL";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |HAZ CargaEjercicios;

     #isom0204#0 = enEmpresa;
     #isom0204#1 = enAnyo;
     #isom0204#2 = 1;
     |LEE 000#isom0204.];

     |CONTROL_SIMPLE 0, "BOTON,{{197}} sal&Ir", 3488, 3498, BotonSalir;
     nBotonSal = FSalida;

     nRango = 1 + 4 + 8 + 16 + 128 + 256;

     |LINEAL_SIMPLE #1#isom0204, nRango, 0635, 3465, Baja204, Alta204, Evento204;

     |FIN_CONTROL_WINDOWS nBotonSal;

     aVent1 = -1;
     aVent2 = -1;
     aVent3 = 0;
     aVent4 = nVentana;
     aVent5 = "MODELESS";
     |ESPECIFICA "ESTADO_VENTANA", aVent;

     |PULSATECLA;

     |FINVENTANA nVentana;

     |PULSATECLA;
|FPRO;

|PROCESO Tipo80m204;  |TIPO 80;
     |ABRET #isom0204;

     FSalida = 3499;
|FPRC;

|PROCESO Tipo90m204;  |TIPO 90;
     |CIERRAT #isom0204;
|FPRC;
