|FICHEROS;
    isocie32 #0;
    isocie36 #1;
    isocie34 #2;
|FIN;

|VARIABLES;
    &empresa   = 0;
    &anyo      = 0;
    &tipo      = "";
    &modo      = 0;

    &numerica1  = 0; &numerica2  = 0; &numerica3  = 0;
    &numerica4  = 0; &numerica5  = 0; &numerica6  = 0;
    &numerica7  = 0; &numerica8  = 0; &numerica9  = 0;
    &numerica10 = 0; &numerica11 = 0; &numerica12 = 0;
    &numerica13 = 0; &numerica14 = 0; &numerica15 = 0;
    &numerica16 = 0; &numerica17 = 0;

    FEstado = 0;
    varcamp = 0;
    x       = 0;
    tecla   = "";
    avance  = "815";
    atras   = "814";
    benper  = 0;
|FIN;

|PROGRAMA;
|ABRE #0;
|PINPA #0#0;
|SI modo = 1; |O modo = 2; |HAZ pidedato; |FINSI;
|SI modo = 4; |HAZ consulta; |FINSI;
|CIERRA #0;
|FPRO;

|PROCESO pidedato;
#0#0 = empresa;
#0#1 = anyo;
|LEE 110#0=;
FEstado = FSalida;
|SI FEstado ! 0; |DDEFECTO #0; #0#0 = empresa; #0#1 = anyo; |FINSI;
|PINDA #0#0;
|SI modo = 1; |ENDATOS #1#0;  |FINSI;
|SI modo = 2; |ENDATOS #2#0;  |FINSI;
|SI FSalida = 0;
    #0#0 = empresa;
    #0#1 = anyo;
    #0#2 = tipo;
    |SI FEstado = 0; |GRABA 020#0a; |SINO; |GRABA 020#0n; |FINSI;
    |LIBERA #0;
    |HAZ liquidacio;
|FINSI;
|FPRC;

|PROCESO consulta;
  avance = &255 + avance;
  atras = &255 + atras;
  #0#0 = empresa;
  #0#1 = anyo;
  |LEE 040#0=;
  |SI FSalida = 0; |HAZ pantalla1; |FINSI;
|FPRC;

|PROCESO pantalla1;
  |PINPA #0#0;
  |PINDA #0#0;
  |MENSA "0411  Av.Pag.= Siguiente Pantalla  Re.Pag. = Pantalla Anterior";
  |LEETECLA tecla;
  |SI tecla = avance; |HAZ pantalla2; |ACABA; |FINSI;
|FPRC;

|PROCESO pantalla2;
  |PINPA #1#0;
  |PINDA #1#0;
  |MENSA "0411  Av.Pag.= Siguiente Pantalla  Re.Pag. = Pantalla Anterior";
  |LEETECLA tecla;
  |SI tecla = atras;  |HAZ pantalla1; |ACABA; |FINSI;
  |SI tecla = avance; |HAZ pantalla3; |ACABA; |FINSI;
|FPRC;

|PROCESO pantalla3;
  |PINPA #2#0;
  |PINDA #2#0;
  |MENSA "0411  Av.Pag.= Siguiente Pantalla  Re.Pag. = Pantalla Anterior";
  |LEETECLA tecla;
  |SI tecla = atras;  |HAZ pantalla2; |ACABA; |FINSI;
  |SI tecla = avance; |HAZ pantalla4; |ACABA; |FINSI;
|FPRC;

|PROCESO pantalla4;
  |PINPA #3#0;
  |PINDA #3#0;
  |MENSA "0411  Av.Pag.= Siguiente Pantalla  Re.Pag. = Pantalla Anterior";
  |LEETECLA tecla;
  |SI tecla = atras;  |HAZ pantalla3; |ACABA; |FINSI;
|FPRC;

|PROCESO extenso; |TIPO 0;
|SI FSalida = 0;
    varcamp = Campo;
    |SI Campo = 13;  |HAZ campo311; |FINSI;
    |SI Campo = 31;  |HAZ campo329; |FINSI;
    |SI Campo = 49;  |HAZ campo347; |FINSI;
    |SI Campo = 56;  |HAZ campo354; |FINSI;
    |SI Campo = 67;  |HAZ campo366; |FINSI;
    |SI Campo = 74;  |HAZ campo373; |FINSI;
    |SI Campo = 78;  |HAZ campo377; |FINSI;

    |SI Campo = 94;  |HAZ campo415; |FINSI;
    |SI Campo = 98;  |HAZ campo419; |FINSI;
    |SI Campo = 106; |HAZ campo427; |FINSI;
    |SI Campo = 123; |HAZ campo446; |FINSI;

    |SI Campo = 131; |HAZ campo505; |FINSI;
    |SI Campo = 137; |HAZ campo511; |FINSI;
    |SI Campo = 141; |HAZ campo515; |FINSI;
    |SI Campo = 145; |HAZ campo519; |FINSI;
    |SI Campo = 150; |HAZ campo524; |FINSI;
    |SI Campo = 153; |HAZ campo527; |FINSI;

    |SI Campo = 169; |HAZ campo605; |FINSI;
    |SI Campo = 175; |HAZ campo611; |FINSI;
    |SI Campo = 179; |HAZ campo615; |FINSI;
|FINSI;
|HAZ calculo;
|FPRC;

|PROCESO campo311;
numerica1 = #0#5;  numerica2 = #0#6;  numerica3 = #0#7;
numerica4 = #0#8;  numerica5 = #0#9;  numerica6 = #0#10;
numerica7 = #0#11; numerica8 = #0#12;

|SUB_EJECUTA "ispant01.run";

#0#5  = numerica1;  #0#6  = numerica2;  #0#7  = numerica3;
#0#8  = numerica4;  #0#9  = numerica5;  #0#10 = numerica6;
#0#11 = numerica7;  #0#12 = numerica8;

Campo = varcamp;
#0Campo = #0#11 - #0#12;
|PINTA #0Campo;
|FPRC;

|PROCESO campo329;
numerica1  = #0#14;  numerica2  = #0#15;  numerica3  = #0#16;
numerica4  = #0#17;  numerica5  = #0#18;  numerica6  = #0#19;
numerica7  = #0#20;  numerica8  = #0#21;  numerica9  = #0#22;
numerica10 = #0#23;  numerica11 = #0#24;  numerica12 = #0#25;
numerica13 = #0#26;  numerica14 = #0#27;  numerica15 = #0#28;
numerica16 = #0#29;  numerica17 = #0#30;

|SUB_EJECUTA "ispant02.run";

#0#14 = numerica1;   #0#15 = numerica2;   #0#16 = numerica3;
#0#17 = numerica4;   #0#18 = numerica5;   #0#19 = numerica6;
#0#20 = numerica7;   #0#21 = numerica8;   #0#22 = numerica9;
#0#23 = numerica10;  #0#24 = numerica11;  #0#25 = numerica12;
#0#26 = numerica13;  #0#27 = numerica14;  #0#28 = numerica15;
#0#29 = numerica16;  #0#30 = numerica17;

Campo = varcamp;
#0Campo = #0#29 - #0#30;
|PINTA #0Campo;
|FPRC;

|PROCESO campo347;
numerica1  = #0#32;  numerica2  = #0#33;  numerica3  = #0#34;
numerica4  = #0#35;  numerica5  = #0#36;  numerica6  = #0#37;
numerica7  = #0#38;  numerica8  = #0#39;  numerica9  = #0#40;
numerica10 = #0#41;  numerica11 = #0#42;  numerica12 = #0#43;
numerica13 = #0#44;  numerica14 = #0#45;  numerica15 = #0#46;
numerica16 = #0#47;  numerica17 = #0#48;

|SUB_EJECUTA "ispant03.run";

#0#32 = numerica1;  #0#33 = numerica2;  #0#34 = numerica3;
#0#35 = numerica4;  #0#36 = numerica5;  #0#37 = numerica6;
#0#38 = numerica7;  #0#39 = numerica8;  #0#40 = numerica9;
#0#41 = numerica10; #0#42 = numerica11; #0#43 = numerica12;
#0#44 = numerica13; #0#45 = numerica14; #0#46 = numerica15;
#0#47 = numerica16; #0#48 = numerica17;

Campo = varcamp;
#0Campo = #0#47 - #0#48;
|PINTA #0Campo;
|FPRC;

|PROCESO campo354;
numerica1 = #0#54;  numerica2 = #0#55;

|SUB_EJECUTA "ispant04.run";

#0#54 = numerica1;  #0#55 = numerica2;

Campo = varcamp;
#0Campo = #0#54 - #0#55;
|PINTA #0Campo;
|FPRC;

|PROCESO campo366;
numerica1  = #0#57;  numerica2  = #0#58;  numerica3  = #0#59;
numerica4  = #0#60;  numerica5  = #0#61;  numerica6  = #0#62;
numerica7  = #0#63;  numerica8  = #0#64;  numerica9  = #0#65;
numerica10 = #0#66;

|SUB_EJECUTA "ispant33.run";

#0#57 = numerica1;  #0#58 = numerica2;  #0#59 = numerica3;
#0#60 = numerica4;  #0#61 = numerica5;  #0#62 = numerica6;
#0#63 = numerica7;  #0#64 = numerica8;  #0#65 = numerica9;
#0#66 = numerica10;

Campo = varcamp;
#0Campo = #0#65 - #0#66;
|PINTA #0Campo;
|FPRC;

|PROCESO campo373;
numerica1 = #0#68;  numerica2 = #0#69;  numerica3 = #0#70;
numerica4 = #0#71;  numerica5 = #0#72;  numerica6 = #0#73;

|SUB_EJECUTA "ispant34.run";

#0#68 = numerica1;  #0#69 = numerica2;  #0#70 = numerica3;
#0#71 = numerica4;  #0#72 = numerica5;  #0#73 = numerica6;

Campo = varcamp;
#0Campo = #0#72 - #0#73;
|PINTA #0Campo;
|FPRC;

|PROCESO campo377;
numerica1 = #0#76;  numerica2 = #0#77;

|SUB_EJECUTA "ispant35.run";

#0#76 = numerica1;  #0#77 = numerica2;

Campo = varcamp;
#0Campo = #0#76 + #0#77;
|PINTA #0Campo;
|FPRC;

|PROCESO campo415;
numerica1  = #0#81;  numerica2  = #0#82;  numerica3  = #0#83;
numerica4  = #0#84;  numerica5  = #0#85;  numerica6  = #0#86;
numerica7  = #0#87;  numerica8  = #0#88;  numerica9  = #0#89;
numerica10 = #0#90;  numerica11 = #0#91;  numerica12 = #0#92;
numerica13 = #0#93;

|SUB_EJECUTA "ispant08.run";

#0#81 = numerica1;   #0#82 = numerica2;   #0#83 = numerica3;
#0#84 = numerica4;   #0#85 = numerica5;   #0#86 = numerica6;
#0#87 = numerica7;   #0#88 = numerica8;   #0#89 = numerica9;
#0#90 = numerica10;  #0#91 = numerica11;  #0#92 = numerica12;
#0#93 = numerica13;

Campo = varcamp;
#0Campo = #0#92 - #0#93;
|PINTA #0Campo;
|FPRC;

|PROCESO campo419;
numerica1 = #0#95;  numerica2 = #0#96;  numerica3 = #0#97;

|SUB_EJECUTA "ispant09.run";

#0#95 = numerica1;  #0#96 = numerica2;  #0#97 = numerica3;

Campo = varcamp;
#0Campo = #0#95 + #0#96 + #0#97;
|PINTA #0Campo;
|FPRC;

|PROCESO campo427;
numerica1 = #0#100;  numerica2 = #0#101;  numerica3 = #0#102;
numerica4 = #0#103;  numerica5 = #0#104;  numerica6 = #0#105;

|SUB_EJECUTA "ispant36.run";

#0#100 = numerica1;  #0#101 = numerica2;  #0#102 = numerica3;
#0#103 = numerica4;  #0#104 = numerica5;  #0#105 = numerica6;

Campo = varcamp;
#0Campo = #0#100 + #0#101 + #0#102 + #0#103 + #0#104 + #0#105;
|PINTA #0Campo;
|FPRC;

|PROCESO campo446;
numerica1  = #0#107;  numerica2  = #0#108;  numerica3  = #0#109;
numerica4  = #0#110;  numerica5  = #0#111;  numerica6  = #0#112;
numerica7  = #0#113;  numerica8  = #0#114;  numerica9  = #0#115;
numerica10 = #0#116;  numerica11 = #0#117;  numerica12 = #0#118;
numerica13 = #0#119;  numerica14 = #0#120;  numerica15 = #0#121;
numerica16 = #0#122;

|SUB_EJECUTA "ispant37.run";

#0#107 = numerica1;  #0#108 = numerica2;  #0#109 = numerica3;
#0#110 = numerica4;  #0#111 = numerica5;  #0#112 = numerica6;
#0#113 = numerica7;  #0#114 = numerica8;  #0#115 = numerica9;
#0#116 = numerica10; #0#117 = numerica11; #0#118 = numerica12;
#0#119 = numerica13; #0#120 = numerica14; #0#121 = numerica15;
#0#122 = numerica16;

Campo = varcamp;
#0Campo = 0;
|PARA x = 107; |SI x [ 122; |HACIENDO x = x + 1;
    #0Campo = #0Campo + #0x;
|SIGUE;
|PINTA #0Campo;
|FPRC;

|PROCESO campo505;
numerica1 = #0#128;  numerica2 = #0#129;  numerica3 = #0#130;

|SUB_EJECUTA "ispant12.run";

#0#128 = numerica1;  #0#129 = numerica2;  #0#130 = numerica3;

Campo = varcamp;
#0Campo = #0#128 + #0#129 + #0#130;
|PINTA #0Campo;
|FPRC;

|PROCESO campo511;
numerica1 = #0#132;  numerica2 = #0#133;  numerica3 = #0#134;
numerica4 = #0#135;  numerica5 = #0#136;

|SUB_EJECUTA "ispant13.run";

#0#132 = numerica1;  #0#133 = numerica2;  #0#134 = numerica3;
#0#135 = numerica4;  #0#136 = numerica5;

Campo = varcamp;
#0Campo = #0#132 + #0#133 + #0#134 + #0#135 + #0#136;
|PINTA #0Campo;
|FPRC;

|PROCESO campo515;
numerica1 = #0#138;  numerica2 = #0#139;  numerica3 = #0#140;

|SUB_EJECUTA "ispant14.run";

#0#138 = numerica1;  #0#139 = numerica2;  #0#140 = numerica3;

Campo = varcamp;
#0Campo = #0#138 + #0#139 + #0#140;
|PINTA #0Campo;
|FPRC;

|PROCESO campo519;
numerica1 = #0#142;  numerica2 = #0#143;  numerica3 = #0#144;

|SUB_EJECUTA "ispant15.run";

#0#142 = numerica1;  #0#143 = numerica2;  #0#144 = numerica3;

Campo = varcamp;
#0Campo = #0#142 + #0#143 + #0#144;
|PINTA #0Campo;
|FPRC;

|PROCESO campo524;
numerica1 = #0#146;  numerica2 = #0#147;  numerica3 = #0#148;
numerica4 = #0#149;

|SUB_EJECUTA "ispant16.run";

#0#146 = numerica1;  #0#147 = numerica2;  #0#148 = numerica3;
#0#149 = numerica4;

Campo = varcamp;
#0Campo = #0#146 + #0#147 + #0#148 + #0#149;
|PINTA #0Campo;
|FPRC;

|PROCESO campo527;
numerica1 = #0#151;  numerica2 = #0#152;

|SUB_EJECUTA "ispant17.run";

#0#151 = numerica1;  #0#152 = numerica2;

Campo = varcamp;
#0Campo = #0#151 + #0#152;
|PINTA #0Campo;
|FPRC;

|PROCESO campo605;
numerica1 = #0#165;  numerica2 = #0#166;  numerica3 = #0#167;
numerica4 = #0#168;

|SUB_EJECUTA "ispant18.run";

#0#165 = numerica1;  #0#166 = numerica2;  #0#167 = numerica3;
#0#168 = numerica4;

Campo = varcamp;
#0Campo = #0#165 + #0#166 + #0#167 + #0#168;
|PINTA #0Campo;
|FPRC;

|PROCESO campo611;
numerica1 = #0#172;  numerica2 = #0#173;  numerica3 = #0#174;

|SUB_EJECUTA "ispant19.run";

#0#172 = numerica1;  #0#173 = numerica2;  #0#174 = numerica3;

Campo = varcamp;
#0Campo = #0#172 + #0#173 + #0#174;
|PINTA #0Campo;
|FPRC;

|PROCESO campo615;
numerica1 = #0#176;  numerica2 = #0#177;  numerica3 = #0#178;

|SUB_EJECUTA "ispant20.run";

#0#176 = numerica1;  #0#177 = numerica2;  #0#178 = numerica3;

Campo = varcamp;
#0Campo = #0#176 + #0#177 + #0#178;
|PINTA #0Campo;
|FPRC;

|PROCESO calculo;
#0#80 = #0#3  + #0#4  + #0#13 + #0#31 + #0#49 + #0#50 + #0#51 + #0#52 + #0#53;
#0#80 = #0#80 + #0#56 + #0#67 + #0#74 + #0#75 + #0#78 + #0#79;
|PINTA #0#80;

#0#126 = #0#94 + #0#98 + #0#99 + #0#106 + #0#123 + #0#124 + #0#125;
|PINTA #0#126;

#0#164 = #0#127 + #0#131 + #0#137 + #0#141 + #0#145 + #0#150 + #0#153;
#0#164 = #0#164 + #0#154 + #0#155 + #0#156 + #0#157 + #0#158 + #0#159;
#0#164 = #0#164 + #0#160 + #0#161 + #0#162;

#0#187 = #0#169 + #0#170 + #0#171 + #0#175 + #0#179 + #0#180;
#0#187 = #0#187 + #0#181 + #0#182 + #0#183 + #0#184 + #0#185;

benper = #0#187 - #0#164;
|SI benper > 0;
    #0#163 = benper;
    #0#164 = #0#164 + #0#163;
    #0#186 = 0;
|SINO;
    #0#186 = -benper;
    #0#187 = #0#187 + #0#186;
    #0#163 = 0;
|FINSI;
|PINTA #0#163;
|PINTA #0#186;
|PINTA #0#164;
|PINTA #0#187;
|FPRC;

|PROCESO liquidacio;
|ABRE #1;
#1#0 = #0#0;
#1#1 = #0#1;
|LIBERA #1;
|LEE 110#1=;
FEstado = FSalida;
|SI FEstado ! 0; |DDEFECTO #1; #1#0 = #0#0; #1#1 = #0#1; |FINSI;

#1#2 = #0#89;

|SI FEstado = 0; |GRABA 020#1a; |SINO; |GRABA 020#1n; |FINSI;
|CIERRA #1;
|SUB_EJECUTA "ispant31.run";

|ABRE #2;
#2#0 = #0#0;
#2#1 = #0#1;
|LIBERA #2;
|LEE 110#2=;
FEstado = FSalida;
|SI FEstado ! 0; |DDEFECTO #2; #2#0 = #0#0; #2#1 = #0#1; |FINSI;

#2#3 = #0#89;
#2#7 = #2#3 + #2#4 + #2#5 + #2#6;
|SI FEstado = 0; |GRABA 020#2a; |SINO; |GRABA 020#2n; |FINSI;
|CIERRA #2;
|FPRC;
