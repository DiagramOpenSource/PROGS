|FICHEROS;
     refere1@ #0;
     refere2@ #1;
|FIN;

|VARIABLES;
     aOrigen   = "";
     aDestino  = "";
     aDef      = "";

     nLinea    = 0;
     nCampo    = 0;
     nEstruc   = 0;
     nSw       = 0;

     &eaPathContasoc = "";
|FIN;

|PROCESO Pasar;
     |SI nSw     = 0;
         nSw     = 1;
         nEstruc = #0#0;
     |FINSI;

     |SI #0#0 ! nEstruc;
         nLinea  = 0;
         nEstruc = #0#0;
     |FINSI;

     nLinea = nLinea + 1;
     #1#0 = #0#0;
     #1#1 = nLinea;
     |PARA nCampo = 2; |SI nCampo [ 9; |HACIENDO nCampo = nCampo + 1;
           #1nCampo = #0nCampo;
     |SIGUE;
     |GRABA 020#1n;
     |LIBERA #1;
|FPRC;

|DEFBUCLE soplanli;
     #0#3002;
     ;
     1,  "            ";
     99, "zzzzzzzzzzzz";
     ;
     NULL, Pasar;
|FIN;

|PROGRAMA;
     |HAZ BusquedaApli;
     aDef = eaPathContasoc + "def/soplanli.mas";
     |CARGA_DEF aDef, refere1@;
     |SI FSalida = 0;
         |CARGA_DEF aDef, refere2@;
         |SI FSalida = 0;
             |NOME_DAT #1 "TMPtraba";
             nLinea = 0;
             |ABRE #1;
             |BUCLE soplanli;
             |CIERRA #1;

             |ABRE #0;  |CIERRA #0;  |DELINDEX #0;

             aOrigen  = eaPathContasoc + "fich/TMPtraba.dat";
             aDestino = eaPathContasoc + "fich/soplanli.dat";
             |COPIA_FICHERO aOrigen, aDestino;

             |ABRE #0;  |CIERRA #0;

             |ABRE #1;  |CIERRA #1;  |DELINDEX #1;
         |FINSI;
     |FINSI;

     |DESCARGA_DEF #refere2@;
     |DESCARGA_DEF #refere1@;
|FPRO;
