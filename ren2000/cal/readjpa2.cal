|FICHEROS;
   rem00099 #8;
   rew00001 #99;
|FIN;

|INCLUYE i_varcpa;

|VARIABLES;
   Comodin = "";
   Cuentador = 0;
   Filtro    = "";
|FIN;

|| **************************************************************************
||                           PROCESOS IMPRESION
|| **************************************************************************

|PROCESO impre_02;
|SI swporta = 0; |HAZ cabecera; |FINSI;
|CIMPR 1;  |IMPRIME varalf;  |CIMPR 2;
linea = linea + 1; |HAZ linea;
|FPRC;

|PROCESO carga_02_1;
conta = conta + 1;
|SI conta < hasta; |ACABA; |FINSI;

|SI swrrr = 0;
    varalf = ""; |HAZ impre_02;
    varalf = ""; |HAZ impre_02;
    |SI sw_fich = 1;
        varalf = "C1) BIENES Y DERECHOS AFECTOS A ACTIVIDADES EMPRESARIALES";
        varalf = varalf + " O PROFESIONALES (EXCEPTO INMUEBLES)"; |HAZ impre_02;
        varalf = "=" * 127; |HAZ impre_02;
        varalf = "Epigrafe      Domicilio                        ";
        varalf = varalf + "   Descripcion del bien o derecho             ";
        varalf = varalf + "                             Valor";
        |HAZ impre_02;
        varalf = "=" * 127; |HAZ impre_02;
        swrrr = 1;
    |FINSI;

    |SI sw_fich = 2;
        varalf = "C2) BIENES Y DERECHOS NO EXENTOS AFECTOS A ACTIVIDADES ";
        varalf = varalf + "EMPRESARIALES O PROFESIONALES "; |HAZ impre_02;
        varalf = "=" * 127; |HAZ impre_02;
        varalf = "Epigrafe  Clave  Referencia catastral               Situacion          ";
        varalf = varalf + "                                         ";
        varalf = varalf + "          Valor";
        |HAZ impre_02;
        varalf = "=" * 127; |HAZ impre_02;
        swrrr = 1;
    |FINSI;

    |SI sw_fich = 3;
        varalf = "D) BIENES Y DERECHOS EXENTOS AFECTOS A ACTIVIDADES EMP";
        varalf = varalf + "RESARIALES       "; |HAZ impre_02;
        varalf = "=" * 127; |HAZ impre_02;
        varalf = "Epigrafe  Clave  Referencia catastral               Descripcion de bien";
        varalf = varalf + "es, derechos y deudas                    ";
        varalf = varalf + "          Valor";
        |HAZ impre_02;
        varalf = "=" * 127; |HAZ impre_02;
        swrrr = 1;
    |FINSI;
|FINSI;

|SI sw_fich = 1;
    varalf = alfa1 + "      ";
    varalf = varalf + "   " + alfa2;
    varalf = varalf + "      " + alfa3;
    varalf = varalf + "   " + alfa4;
    canti   = canti % coefi;
    importe = canti; |HAZ importe;
    varalf = varalf + "                     " + importe;
    |HAZ impre_02;
|FINSI;

|SI sw_fich = 2;
    varalf = alfa1 + "  ";
    varalf = varalf + "     " + alfa2;
    varalf = varalf + "    " + alfa3;
    varalf = varalf + "          " + alfa4;
    canti   = canti % coefi;
    importe = canti; |HAZ importe;
    varalf = varalf + "                                " + importe;
    |HAZ impre_02;
|FINSI;

|SI sw_fich = 3;
    varalf = alfa1 + "  ";
    varalf = varalf + "     " + alfa2;
    varalf = varalf + "    " + alfa3;
    varalf = varalf + "          " + alfa4;
    canti   = canti % coefi;
    importe = canti; |HAZ importe;
    varalf = varalf + "                      " + importe;
    |HAZ impre_02;
|FINSI;
|FPRC;

|| *********************** De afectos a patrimonio c1 **********************

|PROCESO lee81;
alfa1 = #rem00099#18;
alfa2 = #rem00099#6 + "  ";
alfa3 = #rem00099#15 + "                ";
alfa4 = "";
canti = #rem00099#10;
coefi = 100;

|SI canti [ 0; |ACABA; |FINSI;

Comodin = #rem00099#3; |QBF Comodin;
|SI Comodin = "GANANCIAL";
    |SI #99#1 = "T"; coefi = 50; |HAZ carga_02_1; |ACABA; |FINSI;
    |SI #99#1 = "C"; coefi = 50; |HAZ carga_02_1; |ACABA; |FINSI;
|SINO;
    |SI Comodin = "VARIOS";
       |SI #99#1 = "T"; coefi = #rem00099#20; |HAZ carga_02_1; |ACABA; |FINSI;
       |SI #99#1 = "C"; coefi = #rem00099#21; |HAZ carga_02_1; |ACABA; |FINSI;
    |SINO;
       Comodin = #rem00099#3 % 0101;
       |SI #99#1 = Comodin; |HAZ carga_02_1; |FINSI;
    |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE repatrc1;
#rem00099#1;
;
#99#0, "C1", 001;
#99#0, "C1", 999;
e;
NULL, lee81;
|FIN;

|| *********************** De afectos a patrimonio c2 **********************

|PROCESO lee82;
alfa1 = #rem00099#18;
alfa2 = #rem00099#19;
alfa3 = #rem00099#17;
alfa4 = #rem00099#6 + "  ";
canti = #rem00099#10;
coefi = 100;

|SI canti [ 0; |ACABA; |FINSI;

Comodin = #rem00099#3; |QBF Comodin;
|SI Comodin = "GANANCIAL";
    |SI #99#1 = "T"; coefi = 50; |HAZ carga_02_1; |ACABA; |FINSI;
    |SI #99#1 = "C"; coefi = 50; |HAZ carga_02_1; |ACABA; |FINSI;
|SINO;
    |SI Comodin = "VARIOS";
       |SI #99#1 = "T"; coefi = #rem00099#20; |HAZ carga_02_1; |ACABA; |FINSI;
       |SI #99#1 = "C"; coefi = #rem00099#21; |HAZ carga_02_1; |ACABA; |FINSI;
    |SINO;
       Comodin = #rem00099#3 % 0101;
       |SI #99#1 = Comodin; |HAZ carga_02_1; |FINSI;
    |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE repatrc2_1;
#rem00099#1;
;
#99#0, "C2", 001;
#99#0, "C2", 999;
e;
NULL, lee82;
|FIN;

|PROCESO lee83;
alfa1 = #rem00099#18;
alfa2 = #rem00099#19;
alfa3 = #rem00099#17;
alfa4 = #rem00099#6 + "            ";
canti = #rem00099#10;
coefi = 100;

|SI canti [ 0; |ACABA; |FINSI;

Comodin = #rem00099#3; |QBF Comodin;
|SI Comodin = "GANANCIAL";
    |SI #99#1 = "T"; coefi = 50; |HAZ carga_02_1; |ACABA; |FINSI;
    |SI #99#1 = "C"; coefi = 50; |HAZ carga_02_1; |ACABA; |FINSI;
|SINO;
    |SI Comodin = "VARIOS";
       |SI #99#1 = "T"; coefi = #rem00099#20; |HAZ carga_02_1; |ACABA; |FINSI;
       |SI #99#1 = "C"; coefi = #rem00099#21; |HAZ carga_02_1; |ACABA; |FINSI;
    |SINO;
       Comodin = #rem00099#3 % 0101;
       |SI #99#1 = Comodin ; |HAZ carga_02_1; |FINSI;
    |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE repatrc2_2;
#rem00099#1;
;
#99#0, "D1", 001;
#99#0, "D1", 999;
e;
NULL, lee83;
|FIN;

|PROCESO readjpa2;
sw_fich = 1;
hasta = TopeC1;
swrrr = 0;
Filtro = "C1"; |HAZ CuentaRegs2;
|SI Cuentador > TopeC1;
   conta = 0; |BUCLE repatrc1;
|FINSI;

sw_fich = 2;
hasta = TopeC2;
swrrr = 0;
Filtro = "C2"; |HAZ CuentaRegs2;
|SI Cuentador > TopeC2;
   conta = 0; |BUCLE repatrc2_1;
|FINSI;

sw_fich = 3;
hasta = TopeD1;
swrrr = 0;
Filtro = "D1"; |HAZ CuentaRegs2;
|SI Cuentador > TopeD1;
   conta = 0; |BUCLE repatrc2_2;
|FINSI;
|FPRC;

|PROCESO Cuenta2;
   Cuentador = Cuentador + 1;
|FPRC;

|DEFBUCLE CuentaRegs2;
#rem00099#1;
;
#99#0,Filtro,001;
#99#0,Filtro,999;
;
NULL,Cuenta2;
|FIN;

|PROCESO CuentaRegs2;
   Cuentador = 0;
   |BUCLE CuentaRegs2;
|FPRC;
