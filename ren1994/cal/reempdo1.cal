|FICHEROS;
   rerendtr #0;
   refant01 #1;

   retotren #2;
   retotrea #3;
   refant03 #4;

   reproedi #5;
   reprofco #6;
   reactafe #7;
   refant04 #8;
   repant50 #9;
|FIN;

|VARIABLES;
   &empresa  = 0;
   &nombre   = "";
   &nombrec  = "";
   &cif      = "";
   &cifc     = "";
   &anyos    = "";
   &anyosc   = "";
   &impresor = "";
   &diainf   = "";
   &mesinf   = "";
   &anyoinf  = "";
   &tipo     = "";
   &diad     = "   ";
   &mesd     = "   ";
   &diah     = "   ";
   &mesh     = "   ";
   &famili   = 0;
   &swdecl   = 0;
   &cuenta   = "";
   &fraccion = "";
   &ingreso  = 0;
   &renuncia = "";
   &papel    = 0;
   &sw_al60  = 0;
   &tippar   = 0;
   &parte1   = 0;
   &parte2   = 0;
   &muerto   = "";
   &fecpar   = @;
   &vuelve    = 0;
   &seleccion = "";
   &chequeo   = 0;
   &fichero   = "";
   &p_cen     = 0;
   &hoja1     = "";
   &hoja2     = "";
   &hoja3     = "";
   &hoja4     = "";
   &hoja5     = "";
   &hoja6     = "";
   &hoja7     = "";
   &hoja8     = "";
   &hoja9     = "";
   &hoja10    = "";
   &hoja11    = "";
   &hoja12    = "";
   &hoja13    = "";

   informe   = "";
   tipoa     = "";
   perce     = "";

   activos   = 0;
   conta     = 0;
   conta1    = 0;
   conta2    = 0;
   var1      = 0;
   var2      = 0;
   var3      = 0;
   var4      = 0;
   var5      = 0;
   var6      = 0;
   var7      = 0;
   var8      = 0;
   var9      = 0;
   var10     = 0;
   var11     = 0;
   var12     = 0;
   var13     = 0;
   var14     = 0;
   var15     = 0;
   var16     = 0;
   var17     = 0;
   var18     = 0;
   var19     = 0;
   var20     = 0;
   coefi     = 0;
   desde     = 0;
   hasta     = 0;
   x         = 0;
|FIN;

|PROGRAMA;
vuelve = 1;
|SI papel = 2;
    |PINPA #0#9;
    #9#0 = empresa; |PINTA #9#0;
    #9#1 = nombre;  |PINTA #9#1;
|FINSI;

Impresora = impresor;
|IMPRE -1;
|SI FSalida = 0;
    |HAZ hoja2;
    |HAZ hoja3;
    |FINIMP;
    |CORRE "reempdo2.run";
|FINSI;
|FPRO;

|| *************************************************************************
||                         IMPRESION HOJA 2
|| *************************************************************************

|| ********************* Rendimientos del Trabajo **************************

|PROCESO carga1;
|SI #0#7 ! 0; |O #0#9 ! 0;
    conta1 = conta1 + 1;
    |SI conta1 [ 6;
        var1 = conta1 - 1; var2 = var1   + 6;
        var3 = var2   + 6; var4 = var3   + 6;
        #1var1 = perce;
        #1var2 = #0#4;
        #1var3 = #0#9 % coefi;
        #1var4 = #0#7 % coefi;
    |SINO;
        #1#5  = "----------";
        #1#11 = "Segun relacion adjunta";
        #1#17 = #1#17 + (#0#9 % coefi);
        #1#23 = #1#23 + (#0#7 % coefi);
    |FINSI;
|FINSI;

|SI #0#15 ! 0; |O #0#16 ! 0;
    conta2 = conta2 + 1;
    |SI conta2 [ 5;
        var1 = conta2 + 25; var2 = var1   + 5; var3 = var2   + 5;
        var4 = var3   + 5;  var5 = var4   + 5;
        #1var1 = perce;
        #1var2 = #0#14;
        #1var3 = #0#15 % coefi;
        #1var4 = #0#16 % coefi;
        #1var5 = (#0#15 + #0#16) % coefi;
    |SINO;
        #1#30 = "----------";
        #1#35 = "Segun relacion adjunta";
        #1#40 = #1#40 + (#0#15 % coefi);
        #1#45 = #1#45 + (#0#16 % coefi);
        #1#50 = #1#40 + #1#45;
    |FINSI;
|FINSI;

#1#53 = #1#53 + (#0#17 % coefi);
#1#54 = #1#54 + (#0#18 % coefi);
#1#55 = #1#55 + (#0#19 % coefi);
#1#56 = #1#56 + (#0#20 % coefi);
|FPRC;

|PROCESO rendtrab;
|SI #0#28 = "X"; |ACABA; |FINSI;
coefi = 100;
|SI tipo = "A"; perce = #0#3; |SINO; perce = "TITULAR"; |FINSI;

|SI tipo = "A";     || Si es conjunta
    |SI tippar = 1;  || Matrimonio
        |SI #0#29 = 1; |ACABA; |FINSI;
        |SI #0#29 = 0; coefi = 100 * parte2; |FINSI;
        |SI #0#29 = 2; coefi = 100;          |FINSI;
    |FINSI;
    |SI tippar = 3; || Separada
        |SI #0#29 = 2; |ACABA; |FINSI;
        |SI #0#29 = 0; coefi = 100 * parte1; |FINSI;
        |SI #0#29 = 1; coefi = 100;          |FINSI;
    |FINSI;
    |SI tippar = 2; || Muerto
        |SI #0#29 = 0;
            |SI #0#2 = "T"; |Y muerto = "T";
                coefi = 100;
            |SINO;
                |SI #0#2 = "C"; |Y muerto = "C";
                    coefi = 100;
                |SINO;
                    coefi = 100 * parte1;
                |FINSI;
            |FINSI;
         |SINO;
             |SI #0#29 = 1;
                 coefi = 100;
             |SINO;
                 |ACABA;
             |FINSI;
         |FINSI;
    |FINSI;
    |HAZ carga1;
    |ACABA;
|FINSI;

|SI tipo = "T";     || Si es Titular
    |SI tippar = 1;  || Matrimonio
        |SI #0#29 = 0; coefi = 100 * parte1; |FINSI;
        |SI #0#29 = 1; coefi = 100;          |FINSI;
        |SI #0#29 = 2; |ACABA;               |FINSI;
    |FINSI;
    |SI tippar = 2;  || Muerto
        |SI #2#213 = 1;
            |SI #0#29 = 0; coefi = 100 * parte2; |FINSI;
            |SI #0#29 = 1; |ACABA;               |FINSI;
            |SI #0#29 = 2; coefi = 100;          |FINSI;
        |FINSI;
        |SI #2#213 = 2; coefi = 100; |FINSI;
    |FINSI;
    |SI tippar = 3;  || Separacion
        |SI #0#29 = 0; coefi = 100 * parte2; |FINSI;
        |SI #0#29 = 2; coefi = 100;          |FINSI;
        |SI #0#29 = 1; |ACABA;               |FINSI;
    |FINSI;
    |SI #0#2 = "T"; |HAZ carga1; |ACABA; |FINSI;
|FINSI;

|SI tipo = "C";     || Si es Conyuge
    |SI tippar = 1;  || Matrimonio
        |SI #0#29 = 0; coefi = 100 * parte1; |FINSI;
        |SI #0#29 = 1; coefi = 100;          |FINSI;
        |SI #0#29 = 2; |ACABA;               |FINSI;
    |FINSI;
    |SI tippar = 2;  || Muerto
        |SI #2#213 = 1;
            |SI #0#29 = 0; coefi = 100 * parte2; |FINSI;
            |SI #0#29 = 1; |ACABA;               |FINSI;
            |SI #0#29 = 2; coefi = 100;          |FINSI;
        |FINSI;
        |SI #2#213 = 2; coefi = 100; |FINSI;
    |FINSI;
    |SI tippar = 3;  || Separacion
        |SI #0#29 = 0; coefi = 100 * parte2; |FINSI;
        |SI #0#29 = 2; coefi = 100;          |FINSI;
        |SI #0#29 = 1; |ACABA;               |FINSI;
    |FINSI;
    |SI #0#2 = "C"; |HAZ carga1; |ACABA; |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE rerendtr;
#0#1;
;
empresa, 01;
empresa, 99;
e;
NULL, rendtrab;
|FIN;

|PROCESO hoja2;
|DDEFECTO #1;

|ABRE #2;
#2#0   = empresa;
#2#141 = tipo;
|LEE 040#2=;
|SI FSalida ! 0; |DDEFECTO #2; |FINSI;
|CIERRA #2;

conta1 = 0; conta2 = 0;
|BUCLE rerendtr;

#1#24 = #2#130;
#1#25 = #2#1;

#1#51 = #2#131;
#1#52 = #2#2;

#1#53 = #2#142;
#1#54 = #2#143;
#1#55 = #2#144;
#1#56 = #2#145;
#1#57 = #2#3;

#1#58 = #2#4;
#1#59 = #2#5;

#1#60 = #2#43;
#1#61 = #2#44;
#1#62 = #2#45;
#1#63 = #2#156;
#1#64 = #2#152;
#1#65 = #2#158;
#1#66 = #2#39;
#1#67 = #2#6;

#1#68 = #2#147 + #2#149;
#1#69 = #2#148;
#1#70 = #2#7;
#1#71 = #2#8;

#1#72 = #2#157;
#1#73 = #2#160;
#1#74 = #2#159;
#1#75 = #1#72 + #1#73 + #1#74;

#1#76 = #2#150;
#1#77 = #2#151;
#1#78 = #2#153;
#1#79 = #2#154;
#1#80 = #2#155;
#1#81 = #1#76 + #1#77 + #1#78 + #1#79 + #1#80;
#1#82 = #2#9;

|SI papel = 1;
    informe = "reho1012";  |HAZ continuo;
|SINO;
    informe = "rema1012";  |HAZ manual;
|FINSI;
|FPRC;

|| *************************************************************************
||                         IMPRESION HOJA 3, 4
|| *************************************************************************

|| ********************** Profesionales estimacion directa *****************

|PROCESO carga2;
conta1 = conta1 + 1;
|SI conta1 [ 3;
    var1 = conta1 + 20;
    var2 = var1   + 3;
    var3 = var2   + 3;
    #4var2 = #5#15;
    #4var3 = "Profesional directa";
|SINO;
    #4#26 = "-----------------------------------------";
    #4#29 = "Segun relacion adjunta";
|FINSI;
|FPRC;

|PROCESO carga3;
conta2 = conta2 + 1;
|SI conta2 [ 3;
    var1  = conta2 + 29; var2  = var1   + 3; var3  = var2   + 3;
    var4  = var3   + 3;  var5  = var4   + 3; var6  = var5   + 3;
    var7  = var6   + 3;  var8  = var7   + 3; var9  = var8   + 3;
    var10 = var9   + 3;  var11 = var10  + 3; var12 = var11  + 3;
    var13 = var12  + 3;  var14 = var13  + 3; var15 = var14  + 3;
    var16 = var1   - 9;

    #4var16 = perce;
    #4var1  = (#5#16 % coefi); #4var2  = (#5#19 % coefi);
    #4var3  = (#5#18 % coefi); #4var4  = (#5#20 % coefi);
    #4var5  = (#5#21 % coefi); #4var6  = (#5#22 % coefi);
    #4var7  = (#5#23 % coefi); #4var8  = (#5#24 % coefi);
    #4var9  = (#5#25 % coefi);
    #4var10 = #4var2 + #4var3 + #4var4 + #4var5 + #4var6 + #4var7 + #4var8 + #4var9;
    #4var11 = #4var1 - #4var10;
    #4var12 = (#5#33 % coefi); #4var13 = (#5#34 % coefi);
    #4var14 = (#5#27 % coefi); #4var15 = (#5#28 % coefi);
|SINO;
    #4#23 = "Restantes";
    #4#32 = #4#32 + (#5#16 % coefi); #4#35 = #4#35 + (#5#19 % coefi);
    #4#38 = #4#38 + (#5#18 % coefi); #4#41 = #4#41 + (#5#20 % coefi);
    #4#44 = #4#44 + (#5#21 % coefi); #4#47 = #4#47 + (#5#22 % coefi);
    #4#50 = #4#50 + (#5#23 % coefi); #4#53 = #4#53 + (#5#24 % coefi);
    #4#56 = #4#56 + (#5#25 % coefi);
    #4#59 = #4#35 + #4#38 + #4#41 + #4#44 + #4#47 + #4#50 + #4#53 + #4#56;
    #4#62 = #4#32 - #4#59;
    #4#65 = #4#65 + (#5#33 % coefi);
    #4#68 = #4#68 + (#5#34 % coefi);
    #4#71 = #4#71 + (#5#27 % coefi);
    #4#74 = #4#74 + (#5#28 % coefi);
|FINSI;
|FPRC;

|PROCESO directa;
|SI #5#4 = "X"; |O #5#4 = "P"; |ACABA; |FINSI;
|SI #5#5 = "N"; |ACABA; |FINSI;

|SI tipo = "A"; perce = #5#3; |SINO; perce = "TITULAR"; |FINSI;

|SI tipo = "A";
    |SI #5#2 = "V";
        |SI tippar = 1;
            |SI #5#35 = 0;  coefi = (#5#7 + #5#8) * parte2; |FINSI;
            |SI #5#35 = 1;  |ACABA;                         |FINSI;
            |SI #5#35 = 2;  coefi = #5#7 + #5#8;            |FINSI;
        |FINSI;
        |SI tippar = 2;
            |SI #5#35 = 0; coefi = (#5#7 + #5#8) * parte1;  |FINSI;
            |SI #5#35 = 1; coefi = #5#7 + #5#8;             |FINSI;
            |SI #5#35 = 2; |ACABA;                          |FINSI;
        |FINSI;
        |SI tippar = 3;
            |SI #5#35 = 0;  coefi = (#5#7 + #5#8) * parte1; |FINSI;
            |SI #5#35 = 2;  |ACABA;                         |FINSI;
            |SI #5#35 = 1;  coefi = #5#7 + #5#8;            |FINSI;
        |FINSI;
        |HAZ carga2;
        |HAZ carga3;
        |ACABA;
    |SINO;
        |SI tippar = 1;
            |SI #5#35 = 0;  coefi = 100 * parte2; |FINSI;
            |SI #5#35 = 1;  |ACABA;               |FINSI;
            |SI #5#35 = 2;  coefi = 100;          |FINSI;
        |FINSI;
        |SI #5#2 = "G";
            |SI tippar = 2;
                |SI #5#35 = 0;  coefi = 100 * parte1; |FINSI;
                |SI #5#35 = 1;  coefi = 100;          |FINSI;
                |SI #5#35 = 2;  |ACABA;               |FINSI;
            |FINSI;
        |SINO;
            |SI tippar = 2;
                |SI #5#35 = 0;
                    |SI #5#2 = "T"; |Y muerto = "T";
                        coefi = 100;
                    |SINO;
                        |SI #5#2 = "C"; |Y muerto = "C";
                            coefi = 100;
                        |SINO;
                            coefi = 100 * parte1;
                        |FINSI;
                    |FINSI;
                |FINSI;
                |SI #5#35 = 1;  coefi = 100;          |FINSI;
                |SI #5#35 = 2;  |ACABA;               |FINSI;
            |FINSI;
        |FINSI;
        |SI tippar = 3;
            |SI #5#35 = 0;  coefi = 100 * parte1; |FINSI;
            |SI #5#35 = 1;  coefi = 100;          |FINSI;
            |SI #5#35 = 2;  |ACABA;               |FINSI;
        |FINSI;
        |HAZ carga2;
        |HAZ carga3;
        |ACABA;
    |FINSI;
    |ACABA;
|FINSI;

|SI tipo = "T";
   |SI #5#2 = "G";
       |SI tippar = 1;
           |SI #5#35 = 0; coefi = 50 * parte1; |FINSI;
           |SI #5#35 = 1; coefi = 50;          |FINSI;
           |SI #5#35 = 2; |ACABA;              |FINSI;
       |FINSI;
       |SI tippar = 2;
           |SI muerto = "T";
               |SI #5#35 = 0; coefi = 50 * parte1; |FINSI;
               |SI #5#35 = 1; coefi = 50;          |FINSI;
               |SI #5#35 = 2; |ACABA;              |FINSI;
           |FINSI;
           |SI muerto = "C";
               |SI #5#35 = 0; coefi = 100 - (50 * parte1); |FINSI;
               |SI #5#35 = 1; coefi = 50;                  |FINSI;
               |SI #5#35 = 2; coefi = 100;                 |FINSI;
           |FINSI;
       |FINSI;
       |SI tippar = 3;
           |SI #5#35 = 0; coefi = 50 * parte2; |FINSI;
           |SI #5#35 = 1; |ACABA;              |FINSI;
           |SI #5#35 = 2; coefi = 50;          |FINSI;
       |FINSI;
       |HAZ carga2;
       |HAZ carga3; |ACABA;
   |FINSI;

   |SI #5#2 = "T";
       |SI tippar = 1;
           |SI #5#35 = 0; coefi = 100 * parte1; |FINSI;
           |SI #5#35 = 1; coefi = 100;          |FINSI;
           |SI #5#35 = 2; |ACABA;               |FINSI;
       |FINSI;
       |SI tippar = 2;  || Muerto
           |SI #2#213 = 1;
               |SI #5#35 = 0; coefi = 100 * parte2; |FINSI;
               |SI #5#35 = 1; |ACABA;               |FINSI;
               |SI #5#35 = 2; coefi = 100;          |FINSI;
           |FINSI;
           |SI #2#213 = 2; coefi = 100; |FINSI;
       |FINSI;
       |SI tippar = 3;
           |SI #5#35 = 0; coefi = 100 * parte2; |FINSI;
           |SI #5#35 = 1; |ACABA;               |FINSI;
           |SI #5#35 = 2; coefi = 100;          |FINSI;
       |FINSI;
       |HAZ carga2;
       |HAZ carga3; |ACABA;
   |FINSI;

   |SI #5#2 = "V";
       |SI tippar = 1;
           |SI #5#35 = 0; coefi = #5#7 * parte1; |FINSI;
           |SI #5#35 = 1; coefi = #5#7;          |FINSI;
           |SI #5#35 = 2; |ACABA;        |FINSI;
       |FINSI;
       |SI tippar = 2; coefi = #5#7;             |FINSI;
       |SI tippar = 3;
           |SI #5#35 = 0; coefi = #5#7 * parte2; |FINSI;
           |SI #5#35 = 1; |ACABA;        |FINSI;
           |SI #5#35 = 2; coefi = #5#7;          |FINSI;
       |FINSI;
       |HAZ carga2;
       |HAZ carga3; |ACABA;
   |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "C";
   |SI #5#2 = "G";
       |SI tippar = 1;
           |SI #5#35 = 0; coefi = 50 * parte1; |FINSI;
           |SI #5#35 = 1; coefi = 50;          |FINSI;
           |SI #5#35 = 2; |ACABA;              |FINSI;
       |FINSI;
       |SI tippar = 2;
           |SI muerto = "T";
               |SI #5#35 = 0; coefi = 100 - (50 * parte1); |FINSI;
               |SI #5#35 = 1; coefi = 50;          |FINSI;
               |SI #5#35 = 2; coefi = 100;         |FINSI;
           |FINSI;
           |SI muerto = "C";
               |SI #5#35 = 0; coefi = 50 * parte1; |FINSI;
               |SI #5#35 = 1; coefi = 50;                  |FINSI;
               |SI #5#35 = 2; |ACABA;                      |FINSI;
           |FINSI;
       |FINSI;
       |SI tippar = 3;
           |SI #5#35 = 0; coefi = 50 * parte2; |FINSI;
           |SI #5#35 = 1; |ACABA;              |FINSI;
           |SI #5#35 = 2; coefi = 50;          |FINSI;
       |FINSI;
       |HAZ carga2;
       |HAZ carga3; |ACABA;
   |FINSI;

   |SI #5#2 = "C";
       |SI tippar = 1;
           |SI #5#35 = 0; coefi = 100 * parte1; |FINSI;
           |SI #5#35 = 1; coefi = 100;          |FINSI;
           |SI #5#35 = 2; |ACABA;               |FINSI;
       |FINSI;
       |SI tippar = 2;  || Muerto
           |SI #2#213 = 1;
               |SI #5#35 = 0; coefi = 100 * parte2; |FINSI;
               |SI #5#35 = 1; |ACABA;               |FINSI;
               |SI #5#35 = 2; coefi = 100;          |FINSI;
           |FINSI;
           |SI #2#213 = 2; coefi = 100; |FINSI;
       |FINSI;
       |SI tippar = 3;
           |SI #5#35 = 0; coefi = 100 * parte2; |FINSI;
           |SI #5#35 = 1; |ACABA;               |FINSI;
           |SI #5#35 = 2; coefi = 100;          |FINSI;
       |FINSI;
       |HAZ carga2;
       |HAZ carga3; |ACABA;
   |FINSI;

   |SI #5#2 = "V";
       |SI tippar = 1;
           |SI #5#35 = 0; coefi = #5#8 * parte1; |FINSI;
           |SI #5#35 = 1; coefi = #5#8;          |FINSI;
           |SI #5#35 = 2; |ACABA;        |FINSI;
       |FINSI;
       |SI tippar = 2; coefi = #5#8;             |FINSI;
       |SI tippar = 3;
           |SI #5#35 = 0; coefi = #5#8 * parte2; |FINSI;
           |SI #5#35 = 1; |ACABA;        |FINSI;
           |SI #5#35 = 2; coefi = #5#8;          |FINSI;
       |FINSI;
       |HAZ carga2;
       |HAZ carga3; |ACABA;
   |FINSI;
   |ACABA;
|FINSI;

|FPRC;

|DEFBUCLE reproedi;
#5#1;
;
empresa, 01;
empresa, 99;
e;
NULL, directa;
|FIN;

|| ********************** Profesionales Coeficientes ***********************

|PROCESO carga4;
conta1 = conta1 + 1;
|SI conta1 [ 3;
    var1 = conta1 + 20;
    var2 = var1   + 3;
    var3 = var2   + 3;
    #4var2 = #6#15;
    #4var3 = "Profesional coeficientes";
|SINO;
    #4#26 = "-----------------------------------------";
    #4#29 = "Segun relacion adjunta";
|FINSI;
|FPRC;

|PROCESO carga5;
conta2 = conta2 + 1;
|SI conta2 [ 3;
    var1  = conta2 + 49; var2  = var1   + 3; var3  = var2   + 3;
    var4  = var3   + 3;  var5  = var4   + 3; var6  = var5   + 3;
    var7  = var6   + 3;  var8  = var7   + 3; var9  = var8   + 3;
    var10 = var9   + 3;  var11 = var10  + 3; var12 = var11  + 3;
    var13 = var12  + 3;  var14 = var13  + 3; var15 = var14  + 3;
    var16 = var15  + 3;  var17 = var16  + 3; var18 = var17  + 3;
    var19 = var18  + 3;  var20 = var1   + 99;

    #8var1  = (#6#17 % coefi); #8var2  = (#6#18 % coefi);
    #8var3  = ((#6#38 + #6#39 - #6#37) % coefi);
    #8var4  = (#6#19 % coefi); #8var5  = (#6#20 % coefi);
    #8var6  = (#6#21 % coefi); #8var7  = (#6#22 % coefi);
    #8var8  = (#6#23 % coefi); #8var9  = (#6#24 % coefi);
    #8var10 = #8var2 + #8var3 + #8var4 + #8var5 + #8var6 + #8var7 + #8var8 + #8var9;
    #8var11 = #8var1 - #8var10;
    #8var12 = (#6#25 % coefi); #8var13 = (#6#41 % coefi);
    #8var14 = (#6#26 % coefi); #8var15 = (#6#27 % coefi);
    #8var16 = (#6#28 % coefi);
    #8var17 = #8var14 - #8var15 - #8var16;
    #8var18 = (#6#29 % coefi); #8var19 = (#6#32 % coefi);
    #8var20 = perce;
|SINO;
    #8#52 = #8#52 + (#6#17 % coefi); #8#55 = #8#55 + (#6#18 % coefi);
    #8#58 = #8#58 + ((#6#38 + #6#39 - #6#37)  % coefi);
    #8#61 = #8#61 + (#6#19 % coefi); #8#64 = #8#64 + (#6#20 % coefi);
    #8#67 = #8#67 + (#6#21 % coefi); #8#70 = #8#70 + (#6#22 % coefi);
    #8#73 = #8#73 + (#6#23 % coefi); #8#76 = #8#76 + (#6#24 % coefi);
    #8#79 = #8#55 + #8#58 + #8#61 + #8#64 + #8#67 + #8#70 + #8#73 + #8#76;
    #8#82 = #8#52 - #8#79;
    #8#85 = #8#85 + (#6#25 % coefi); #8#88 = #8#88 + (#6#41 % coefi);
    #8#91 = #8#91 + (#6#26 % coefi); #8#94 = #8#94 + (#6#27 % coefi);
    #8#97 = #8#97 + (#6#28 % coefi);
    #8#100 = #8#91 - #8#94 - #8#97;
    #8#103 = #8#103 + (#6#29 % coefi); #8#106 = #8#106 + (#6#32 % coefi);
    #8#151 = "Restantes";
|FINSI;
|FPRC;

|PROCESO coeficie;
|SI #6#4 = "X"; |O #6#4 = "P"; |ACABA; |FINSI;
|SI #6#5 = "N"; |ACABA; |FINSI;

|SI tipo = "A"; perce = #6#3; |SINO; perce = "TITULAR"; |FINSI;

|SI tipo = "A";
    |SI #6#2 = "V";
        |SI tippar = 1;
            |SI #6#42 = 0;  coefi = (#6#7 + #6#8) * parte2; |FINSI;
            |SI #6#42 = 1;  |ACABA;                         |FINSI;
            |SI #6#42 = 2;  coefi = #6#7 + #6#8;            |FINSI;
        |FINSI;
        |SI tippar = 2;
            |SI #6#42 = 0;  coefi = (#6#7 + #6#8) * parte1; |FINSI;
            |SI #6#42 = 1;  coefi = #6#7 + #6#8;            |FINSI;
            |SI #6#42 = 2;  |ACABA;                         |FINSI;
        |FINSI;
        |SI tippar = 3;
            |SI #6#42 = 0;  coefi = (#6#7 + #6#8) * parte1; |FINSI;
            |SI #6#42 = 2;  |ACABA;                         |FINSI;
            |SI #6#42 = 1;  coefi = #6#7 + #6#8;            |FINSI;
        |FINSI;
        |HAZ carga4;
        |HAZ carga5;
        |ACABA;
    |SINO;
        |SI tippar = 1;
            |SI #6#42 = 0;  coefi = 100 * parte2; |FINSI;
            |SI #6#42 = 1;  |ACABA;               |FINSI;
            |SI #6#42 = 2;  coefi = 100;          |FINSI;
        |FINSI;
        |SI #6#2 = "G";
            |SI tippar = 2;
                 |SI #6#42 = 0;  coefi = 100 * parte1; |FINSI;
                 |SI #6#42 = 1;  coefi = 100;          |FINSI;
                 |SI #6#42 = 2;  |ACABA;               |FINSI;
            |FINSI;
        |SINO;
            |SI tippar = 2;
                 |SI #6#42 = 0;
                     |SI #6#2 = "T"; |Y muerto = "T";
                         coefi = 100;
                     |SINO;
                         |SI #6#2 = "C"; |Y muerto = "C";
                             coefi = 100;
                         |SINO;
                             coefi = 100 * parte1;
                         |FINSI;
                     |FINSI;
                 |FINSI;
                 |SI #6#42 = 1;  coefi = 100;          |FINSI;
                 |SI #6#42 = 2;  |ACABA;               |FINSI;
            |FINSI;
        |FINSI;
        |SI tippar = 3;
            |SI #6#42 = 0;  coefi = 100 * parte1; |FINSI;
            |SI #6#42 = 2;  |ACABA;               |FINSI;
            |SI #6#42 = 1;  coefi = 100;          |FINSI;
        |FINSI;
        |HAZ carga4;
        |HAZ carga5;
        |ACABA;
    |FINSI;
    |ACABA;
|FINSI;

|SI tipo = "T";
   |SI #6#2 = "G";
       |SI tippar = 1;
           |SI #6#42 = 0; coefi = 50 * parte1; |FINSI;
           |SI #6#42 = 1; coefi = 50;          |FINSI;
           |SI #6#42 = 2; |ACABA;              |FINSI;
       |FINSI;
       |SI tippar = 2;
           |SI muerto = "T";
               |SI #6#42 = 0; coefi = 50 * parte1; |FINSI;
               |SI #6#42 = 1; coefi = 50;          |FINSI;
               |SI #6#42 = 2; |ACABA;              |FINSI;
           |FINSI;
           |SI muerto = "C";
               |SI #6#42 = 0; coefi = 100 - (50 * parte1); |FINSI;
               |SI #6#42 = 1; coefi = 50;                  |FINSI;
               |SI #6#42 = 2; coefi = 100;                 |FINSI;
           |FINSI;
       |FINSI;
       |SI tippar = 3;
           |SI #6#42 = 0; coefi = 50 * parte2; |FINSI;
           |SI #6#42 = 1; |ACABA;              |FINSI;
           |SI #6#42 = 2; coefi = 50;          |FINSI;
       |FINSI;
       |HAZ carga4;
       |HAZ carga5; |ACABA;
   |FINSI;

   |SI #6#2 = "T";
       |SI tippar = 1;
           |SI #6#42 = 0; coefi = 100 * parte1; |FINSI;
           |SI #6#42 = 1; coefi = 100;          |FINSI;
           |SI #6#42 = 2; |ACABA;               |FINSI;
       |FINSI;
       |SI tippar = 2;  || Muerto
           |SI #2#213 = 1;
               |SI #6#42 = 0; coefi = 100 * parte2; |FINSI;
               |SI #6#42 = 1; |ACABA;               |FINSI;
               |SI #6#42 = 2; coefi = 100;          |FINSI;
           |FINSI;
           |SI #2#213 = 2; coefi = 100; |FINSI;
       |FINSI;
       |SI tippar = 3;
           |SI #6#42 = 0; coefi = 100 * parte2; |FINSI;
           |SI #6#42 = 1; |ACABA;               |FINSI;
           |SI #6#42 = 2; coefi = 100;          |FINSI;
       |FINSI;
       |HAZ carga4;
       |HAZ carga5; |ACABA;
   |FINSI;

   |SI #6#2 = "V";
       |SI tippar = 1;
           |SI #6#42 = 0; coefi = #6#7 * parte1; |FINSI;
           |SI #6#42 = 1; coefi = #6#7;          |FINSI;
           |SI #6#42 = 2; |ACABA;        |FINSI;
       |FINSI;
       |SI tippar = 2; coefi = #6#7;             |FINSI;
       |SI tippar = 3;
           |SI #6#42 = 0; coefi = #6#7 * parte2; |FINSI;
           |SI #6#42 = 1; |ACABA;        |FINSI;
           |SI #6#42 = 2; coefi = #6#7;          |FINSI;
       |FINSI;
       |HAZ carga4;
       |HAZ carga5; |ACABA;
   |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "C";
   |SI #6#2 = "G";
       |SI tippar = 1;
           |SI #6#42 = 0; coefi = 50 * parte1; |FINSI;
           |SI #6#42 = 1; coefi = 50;          |FINSI;
           |SI #6#42 = 2; |ACABA;              |FINSI;
       |FINSI;
       |SI tippar = 2;
           |SI muerto = "T";
               |SI #6#42 = 0; coefi = 100 - (50 * parte1); |FINSI;
               |SI #6#42 = 1; coefi = 50;          |FINSI;
               |SI #6#42 = 2; coefi = 100;         |FINSI;
           |FINSI;
           |SI muerto = "C";
               |SI #6#42 = 0; coefi = 50 * parte1; |FINSI;
               |SI #6#42 = 1; coefi = 50;                  |FINSI;
               |SI #6#42 = 2; |ACABA;                      |FINSI;
           |FINSI;
       |FINSI;
       |SI tippar = 3;
           |SI #6#42 = 0; coefi = 50 * parte2; |FINSI;
           |SI #6#42 = 1; |ACABA;              |FINSI;
           |SI #6#42 = 2; coefi = 50;          |FINSI;
       |FINSI;
       |HAZ carga4;
       |HAZ carga5; |ACABA;
   |FINSI;

   |SI #6#2 = "C";
       |SI tippar = 1;
           |SI #6#42 = 0; coefi = 100 * parte1; |FINSI;
           |SI #6#42 = 1; coefi = 100;          |FINSI;
           |SI #6#42 = 2; |ACABA;               |FINSI;
       |FINSI;
       |SI tippar = 2;  || Muerto
           |SI #2#213 = 1;
               |SI #6#42 = 0; coefi = 100 * parte2; |FINSI;
               |SI #6#42 = 1; |ACABA;               |FINSI;
               |SI #6#42 = 2; coefi = 100;          |FINSI;
           |FINSI;
           |SI #2#213 = 2; coefi = 100; |FINSI;
       |FINSI;
       |SI tippar = 3;
           |SI #6#42 = 0; coefi = 100 * parte2; |FINSI;
           |SI #6#42 = 1; |ACABA;               |FINSI;
           |SI #6#42 = 2; coefi = 100;          |FINSI;
       |FINSI;
       |HAZ carga4;
       |HAZ carga5; |ACABA;
   |FINSI;

   |SI #6#2 = "V";
       |SI tippar = 1;
           |SI #6#42 = 0; coefi = #6#8 * parte1; |FINSI;
           |SI #6#42 = 1; coefi = #6#8;          |FINSI;
           |SI #6#42 = 2; |ACABA;        |FINSI;
       |FINSI;
       |SI tippar = 2; coefi = #6#8;             |FINSI;
       |SI tippar = 3;
           |SI #6#42 = 0; coefi = #6#8 * parte2; |FINSI;
           |SI #6#42 = 1; |ACABA;        |FINSI;
           |SI #6#42 = 2; coefi = #6#8;          |FINSI;
       |FINSI;
       |HAZ carga4;
       |HAZ carga5; |ACABA;
   |FINSI;
   |ACABA;
|FINSI;
|FPRC;

|DEFBUCLE reprofco;
#6#1;
;
empresa, 01;
empresa, 99;
e;
NULL, coeficie;
|FIN;

|| ********************** Activos fijos directa ****************************


|PROCESO carga6;
conta2 = conta2 + 1;
|SI conta2 [ 10;
    var1 = conta2 - 1; var2 = var1  + 10;
    var3 = var2  + 10; var4 = var3  + 10; var5 = var4  + 10;
    #8var1 = #7#7;
    #8var2 = #7#24;
    #8var3 = #7#26;
    #8var4 = #7#29;
    #8var5 = #7#34;
|SINO;
    #8#9   = "Segun relacion adjunta";
    #8#19  = #8#19 + #7#24;
    #8#29  = #8#29 + #7#26;
    #8#39  = #8#39 + #7#29;
    #8#49  = #8#49 + #7#34;
|FINSI;
|FPRC;

|| ********************** Activos fijos coeficiente ****************************

|PROCESO carga7;
conta2 = conta2 + 1;
|SI conta2 [ 7;
    var1 = conta2 + 113; var2 = var1  + 7;
    var3 = var2   + 7;   var4 = var3  + 7; var5 = var4  + 7;
    #8var1 = #7#7;
    #8var2 = #7#24;
    #8var3 = #7#26;
    #8var4 = #7#29;
    #8var5 = #7#34;
|SINO;
    #8#9   = "Segun relacion adjunta";
    #8#19  = #8#19 + #7#24;
    #8#29  = #8#29 + #7#26;
    #8#39  = #8#39 + #7#29;
    #8#49  = #8#49 + #7#34;
|FINSI;
|FPRC;

|PROCESO activos;
|SI #7#37 = "X"; |O #7#37 = "P"; |ACABA; |FINSI;
|SI #7#29 = "0"; |ACABA; |FINSI;

|SI tipo = "A";
    |SI #7#4 = "V";
        |SI tippar = 1;
            |SI #7#45 = 0;  coefi = (#7#38 + #7#39) * parte2; |FINSI;
            |SI #7#45 = 1;  |ACABA;                         |FINSI;
            |SI #7#45 = 2;  coefi = #7#38 + #7#39;            |FINSI;
        |FINSI;
        |SI tippar = 2;
            |SI #7#45 = 0;  coefi = (#7#38 + #7#39) * parte1; |FINSI;
            |SI #7#45 = 1;  coefi = #7#38 + #7#39;            |FINSI;
            |SI #7#45 = 2;  |ACABA;                         |FINSI;
       |FINSI;
        |SI tippar = 3;
            |SI #7#45 = 0;  coefi = (#7#38 + #7#39) * parte1; |FINSI;
            |SI #7#45 = 2;  |ACABA;                         |FINSI;
            |SI #7#45 = 1;  coefi = #7#38 + #7#39;            |FINSI;
        |FINSI;
        |SI activos = 1; |HAZ carga6; |FINSI;
        |SI activos = 2; |HAZ carga7; |FINSI;
        |ACABA;
    |SINO;
        |SI tippar = 1;
            |SI #7#45 = 0;  coefi = 100 * parte2; |FINSI;
            |SI #7#45 = 1;  |ACABA;               |FINSI;
            |SI #7#45 = 2;  coefi = 100;          |FINSI;
        |FINSI;
        |SI #7#4 = "G";
            |SI tippar = 2;
                |SI #7#45 = 0;  coefi = 100 * parte1; |FINSI;
                |SI #7#45 = 1;  coefi = 100;          |FINSI;
                |SI #7#45 = 2;  |ACABA;               |FINSI;
            |FINSI;
        |SINO;
            |SI tippar = 2;
                |SI #7#45 = 0;
                    |SI #7#4 = "T"; |Y muerto = "T";
                        coefi = 100;
                    |SINO;
                        |SI #7#4 = "C"; |Y muerto = "C";
                            coefi = 100;
                        |SINO;
                            coefi = 100 * parte1;
                        |FINSI;
                    |FINSI;
                |FINSI;
                |SI #7#45 = 1;  coefi = 100;          |FINSI;
                |SI #7#45 = 2;  |ACABA;               |FINSI;
            |FINSI;
        |FINSI;
        |SI tippar = 3;
            |SI #7#45 = 0;  coefi = 100 * parte1; |FINSI;
            |SI #7#45 = 2;  |ACABA;               |FINSI;
            |SI #7#45 = 1;  coefi = 100;          |FINSI;
        |FINSI;
        |SI activos = 1; |HAZ carga6; |FINSI;
        |SI activos = 2; |HAZ carga7; |FINSI;
        |ACABA;
    |FINSI;
    |ACABA;
|FINSI;

|SI tipo = "T";
   |SI #7#4 = "G";
       |SI tippar = 1;
           |SI #7#45 = 0; coefi = 50 * parte1; |FINSI;
           |SI #7#45 = 1; coefi = 50;          |FINSI;
           |SI #7#45 = 2; |ACABA;              |FINSI;
       |FINSI;
       |SI tippar = 2;
           |SI muerto = "T";
               |SI #7#45 = 0; coefi = 50 * parte1; |FINSI;
               |SI #7#45 = 1; coefi = 50;          |FINSI;
               |SI #7#45 = 2; |ACABA;              |FINSI;
           |FINSI;
           |SI muerto = "C";
               |SI #7#45 = 0; coefi = 100 - (50 * parte1); |FINSI;
               |SI #7#45 = 1; coefi = 50;                  |FINSI;
               |SI #7#45 = 2; coefi = 100;                 |FINSI;
           |FINSI;
       |FINSI;
       |SI tippar = 3;
           |SI #7#45 = 0; coefi = 50 * parte2; |FINSI;
           |SI #7#45 = 1; |ACABA;              |FINSI;
           |SI #7#45 = 2; coefi = 50;          |FINSI;
       |FINSI;
       |SI activos = 1; |HAZ carga6; |FINSI;
       |SI activos = 2; |HAZ carga7; |FINSI;
       |ACABA;
   |FINSI;

   |SI #7#4 = "T";
       |SI tippar = 1;
           |SI #7#45 = 0; coefi = 100 * parte1; |FINSI;
           |SI #7#45 = 1; coefi = 100;          |FINSI;
           |SI #7#45 = 2; |ACABA;               |FINSI;
       |FINSI;
       |SI tippar = 2;  || Muerto
           |SI #2#213 = 1;
               |SI #7#45 = 0; coefi = 100 * parte2; |FINSI;
               |SI #7#45 = 1; |ACABA;               |FINSI;
               |SI #7#45 = 2; coefi = 100;          |FINSI;
           |FINSI;
           |SI #2#213 = 2; coefi = 100; |FINSI;
       |FINSI;
       |SI tippar = 3;
           |SI #7#45 = 0; coefi = 100 * parte2; |FINSI;
           |SI #7#45 = 1; |ACABA;               |FINSI;
           |SI #7#45 = 2; coefi = 100;          |FINSI;
       |FINSI;
       |SI activos = 1; |HAZ carga6; |FINSI;
       |SI activos = 2; |HAZ carga7; |FINSI;
       |ACABA;
   |FINSI;

   |SI #7#4 = "V";
       |SI tippar = 1;
           |SI #7#45 = 0; coefi = #7#38 * parte1; |FINSI;
           |SI #7#45 = 1; coefi = #7#38;          |FINSI;
           |SI #7#45 = 2; |ACABA;        |FINSI;
       |FINSI;
       |SI tippar = 2; coefi = #7#38;             |FINSI;
       |SI tippar = 3;
           |SI #7#45 = 0; coefi = #7#38 * parte2; |FINSI;
           |SI #7#45 = 1; |ACABA;        |FINSI;
           |SI #7#45 = 2; coefi = #7#38;          |FINSI;
       |FINSI;
       |SI activos = 1; |HAZ carga6; |FINSI;
       |SI activos = 2; |HAZ carga7; |FINSI;
       |ACABA;
   |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "C";
   |SI #7#4 = "G";
       |SI tippar = 1;
           |SI #7#45 = 0; coefi = 50 * parte1; |FINSI;
           |SI #7#45 = 1; coefi = 50;          |FINSI;
           |SI #7#45 = 2; |ACABA;              |FINSI;
       |FINSI;
       |SI tippar = 2;
           |SI muerto = "T";
               |SI #7#45 = 0; coefi = 100 - (50 * parte1); |FINSI;
               |SI #7#45 = 1; coefi = 50;          |FINSI;
               |SI #7#45 = 2; coefi = 100;         |FINSI;
           |FINSI;
           |SI muerto = "C";
               |SI #7#45 = 0; coefi = 50 * parte1; |FINSI;
               |SI #7#45 = 1; coefi = 50;                  |FINSI;
               |SI #7#45 = 2; |ACABA;                      |FINSI;
           |FINSI;
       |FINSI;
       |SI tippar = 3;
           |SI #7#45 = 0; coefi = 50 * parte2; |FINSI;
           |SI #7#45 = 1; |ACABA;              |FINSI;
           |SI #7#45 = 2; coefi = 50;          |FINSI;
       |FINSI;
       |SI activos = 1; |HAZ carga6; |FINSI;
       |SI activos = 2; |HAZ carga7; |FINSI;
       |ACABA;
   |FINSI;

   |SI #7#4 = "C";
       |SI tippar = 1;
           |SI #7#45 = 0; coefi = 100 * parte1; |FINSI;
           |SI #7#45 = 1; coefi = 100;          |FINSI;
           |SI #7#45 = 2; |ACABA;               |FINSI;
       |FINSI;
       |SI tippar = 2;  || Muerto
           |SI #2#213 = 1;
               |SI #7#45 = 0; coefi = 100 * parte2; |FINSI;
               |SI #7#45 = 1; |ACABA;               |FINSI;
               |SI #7#45 = 2; coefi = 100;          |FINSI;
           |FINSI;
           |SI #2#213 = 2; coefi = 100; |FINSI;
       |FINSI;
       |SI tippar = 3;
           |SI #7#45 = 0; coefi = 100 * parte2; |FINSI;
           |SI #7#45 = 1; |ACABA;               |FINSI;
           |SI #7#45 = 2; coefi = 100;          |FINSI;
       |FINSI;
       |SI activos = 1; |HAZ carga6; |FINSI;
       |SI activos = 2; |HAZ carga7; |FINSI;
       |ACABA;
   |FINSI;

   |SI #7#4 = "V";
       |SI tippar = 1;
           |SI #7#45 = 0; coefi = #7#39 * parte1; |FINSI;
           |SI #7#45 = 1; coefi = #7#39;          |FINSI;
           |SI #7#45 = 2; |ACABA;        |FINSI;
       |FINSI;
       |SI tippar = 2; coefi = #7#39;             |FINSI;
       |SI tippar = 3;
           |SI #7#45 = 0; coefi = #7#39 * parte2; |FINSI;
           |SI #7#45 = 1; |ACABA;        |FINSI;
           |SI #7#45 = 2; coefi = #7#39;          |FINSI;
       |FINSI;
       |SI activos = 1; |HAZ carga6; |FINSI;
       |SI activos = 2; |HAZ carga7; |FINSI;
       |ACABA;
   |FINSI;
   |ACABA;
|FINSI;

|FPRC;

|DEFBUCLE reactaf1;
#7#1;
2;
empresa, 01, "PD";
empresa, 99, "PD";
e;
NULL, activos;
|FIN;

|DEFBUCLE reactaf2;
#7#1;
2;
empresa, 01, "PC";
empresa, 99, "PC";
e;
NULL, activos;
|FIN;

|PROCESO hoja3;
|DDEFECTO #4;
|DDEFECTO #8;

|ABRE #3;
#3#0   = empresa;
#3#1   = tipo;
|LEE 040#3=;
|SI FSalida ! 0; |DDEFECTO #3; |FINSI;
|CIERRA #3;

|| Capital inmobiliario

#4#00 = #3#3;
#4#01 = #3#2;
#4#02 = #3#4;
#4#03 = #3#5;
#4#04 = #3#6 + #3#7;
#4#06 = #3#9;
#4#07 = #3#8;
#4#08 = #3#10;
#4#09 = #3#11;
#4#10 = #3#12 + #3#13;

#4#12 = #2#132;
#4#13 = #2#10;

#4#14 = #2#11;
#4#15 = #3#14;
#4#16 = #3#15;
#4#17 = #2#12;
#4#18 = #4#13 + #4#14 - #4#17;
#4#19 = #3#22;
#4#20 = #2#13;

conta1 = 0;
conta2 = 0; |BUCLE reproedi;
conta2 = 0; |BUCLE reprofco;
activos = 1; conta2 = 0; |BUCLE reactaf1;
activos = 2; conta2 = 0; |BUCLE reactaf2;

#4#75 = #2#14;
#4#76 = #4#57 + #4#58 + #4#59;
#4#77 = #4#60 + #4#61 + #4#62;
#4#78 = #4#69 + #4#70 + #4#71;
#4#79 = #2#15;

#8#107 = #2#16;
#8#108 = #8#77  + #8#78  + #8#79;
#8#109 = #8#83  + #8#84  + #8#85;
#8#110 = #8#86  + #8#87  + #8#88;
#8#111 = #8#98  + #8#99  + #8#100;
#8#112 = #8#101 + #8#102 + #8#103;
#8#113 = #2#17;

|SI papel = 1;
    informe = "reho1003";  |HAZ continuo;
|SINO;
    informe = "rema1003";  |HAZ manual;
|FINSI;

|SI papel = 1;
    informe = "reho1004";  |HAZ continuo;
|SINO;
    informe = "rema1004";  |HAZ manual;
|FINSI;
|FPRC;

|PROCESO continuo;
|SI informe = "reho1002"; |Y hoja2 = "N"; |ACABA; |FINSI;
|SI informe = "reho1003"; |Y hoja3 = "N"; |ACABA; |FINSI;
|SI informe = "reho1004"; |Y hoja4 = "N"; |ACABA; |FINSI;

|INFOR informe;
|SI FSalida = 0;
    |PRINT; |PIEINF; |FININF;
|FINSI;
|FPRC;

|PROCESO manual;
|SI informe = "rema1002"; |Y hoja2 = "N"; |ACABA; |FINSI;
|SI informe = "rema1003"; |Y hoja3 = "N"; |ACABA; |FINSI;
|SI informe = "rema1004"; |Y hoja4 = "N"; |ACABA; |FINSI;

|ET comienzo;
    |SI informe = "rema1012";
        #9#2 = "COLOQUE PAGINA 2 DEL MODELO 100, <INTRO PARA IMPRIMIR>";
    |FINSI;
    |SI informe = "rema1003";
        #9#2 = "COLOQUE PAGINA 3 DEL MODELO 100, <INTRO PARA IMPRIMIR>";
    |FINSI;
    |SI informe = "rema1004";
        #9#2 = "COLOQUE PAGINA 4 DEL MODELO 100, <INTRO PARA IMPRIMIR>";
    |FINSI;

    |ATRI P; |PINTA #9#2; |ATRI 0;
    |PAUSA;

    |INFOR informe;
    |SI FSalida = 0;
        |PRINT; |PIEINF; |FININF;
    |FINSI;

    |CONFI "2400NDesea repetir la hoja : ";
    |SI FSalida = 0; |VETE comienzo; |FINSI;
|FPRC;
