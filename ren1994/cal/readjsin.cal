|FICHEROS
   readjsin #0;
   redatcon #1;
   rerendtr #2;
   reempmod #5;
   rededu10 #6;
|FIN;

|VARIABLES;
   &empresa  = 0;
   &nombre   = "";
   &cif      = "";
   &anyos    = "";
   &impresor = "";
   &tipo     = "";

   perce     = "";
   informe   = "";
   x         = 0;
   n         = "N";
   sw_impre  = 0;
   var       = 0;
   varalf    = "";
   var1      = "";
   var2      = "";
   cabecera  = "";
   hoja      = 0;
   conta     = 0;
   coefi     = 0;
   impor     = 0;
   fichero   = 0;
   swporta   = 0;
   sw21      = 0;
   sw22      = 0;
   sw5       = 0;
   sw6       = 0;
   swmod     = 0;
   linea     = 0;
   a         = 0;
   b         = 0;
   pepe      = 0;
|FIN;

|| **************************************************************************
||                           PROCESOS DEL PROGRAMA
|| **************************************************************************

|INCLUYE i_import;

|PROCESO seleccion; |TIPO 0;
|SI #0#0 = "S";
    |CAMPO_MODIFICA #0#01, 1, "S";
    |CAMPO_MODIFICA #0#02, 1, "S";
    |PARA x = 3; |SI x [ 32; |HACIENDO x = x + 1;
          #0x = 0; |PINTA #0x;
    |SIGUE;
    |CAMPO_MODIFICA #0#03, 1, "N"; |CAMPO_MODIFICA #0#04, 1, "N";
    |CAMPO_MODIFICA #0#05, 1, "N"; |CAMPO_MODIFICA #0#06, 1, "N";
    |CAMPO_MODIFICA #0#07, 1, "N"; |CAMPO_MODIFICA #0#08, 1, "N";
    |CAMPO_MODIFICA #0#09, 1, "N"; |CAMPO_MODIFICA #0#10, 1, "N";
    |CAMPO_MODIFICA #0#11, 1, "N"; |CAMPO_MODIFICA #0#12, 1, "N";
    |CAMPO_MODIFICA #0#13, 1, "N"; |CAMPO_MODIFICA #0#14, 1, "N";
    |CAMPO_MODIFICA #0#15, 1, "N"; |CAMPO_MODIFICA #0#16, 1, "N";
    |CAMPO_MODIFICA #0#17, 1, "N"; |CAMPO_MODIFICA #0#18, 1, "N";
    |CAMPO_MODIFICA #0#19, 1, "N"; |CAMPO_MODIFICA #0#20, 1, "N";
    |CAMPO_MODIFICA #0#21, 1, "N"; |CAMPO_MODIFICA #0#22, 1, "N";
    |CAMPO_MODIFICA #0#23, 1, "N"; |CAMPO_MODIFICA #0#24, 1, "N";
    |CAMPO_MODIFICA #0#25, 1, "N"; |CAMPO_MODIFICA #0#26, 1, "N";
    |CAMPO_MODIFICA #0#27, 1, "N"; |CAMPO_MODIFICA #0#28, 1, "N";
    |CAMPO_MODIFICA #0#29, 1, "N"; |CAMPO_MODIFICA #0#30, 1, "N";
    |CAMPO_MODIFICA #0#31, 1, "N"; |CAMPO_MODIFICA #0#32, 1, "N";
|SINO;
    #0#1 = 00001; |PINTA #0#1;
    #0#2 = 99999; |PINTA #0#2;
    |CAMPO_MODIFICA #0#01, 1, "N";
    |CAMPO_MODIFICA #0#02, 1, "N";

    |CAMPO_MODIFICA #0#03, 1, "S"; |CAMPO_MODIFICA #0#04, 1, "S";
    |CAMPO_MODIFICA #0#05, 1, "S"; |CAMPO_MODIFICA #0#06, 1, "S";
    |CAMPO_MODIFICA #0#07, 1, "S"; |CAMPO_MODIFICA #0#08, 1, "S";
    |CAMPO_MODIFICA #0#09, 1, "S"; |CAMPO_MODIFICA #0#10, 1, "S";
    |CAMPO_MODIFICA #0#11, 1, "S"; |CAMPO_MODIFICA #0#12, 1, "S";
    |CAMPO_MODIFICA #0#13, 1, "S"; |CAMPO_MODIFICA #0#14, 1, "S";
    |CAMPO_MODIFICA #0#15, 1, "S"; |CAMPO_MODIFICA #0#16, 1, "S";
    |CAMPO_MODIFICA #0#17, 1, "S"; |CAMPO_MODIFICA #0#18, 1, "S";
    |CAMPO_MODIFICA #0#19, 1, "S"; |CAMPO_MODIFICA #0#20, 1, "S";
    |CAMPO_MODIFICA #0#21, 1, "S"; |CAMPO_MODIFICA #0#22, 1, "S";
    |CAMPO_MODIFICA #0#23, 1, "S"; |CAMPO_MODIFICA #0#24, 1, "S";
    |CAMPO_MODIFICA #0#25, 1, "S"; |CAMPO_MODIFICA #0#26, 1, "S";
    |CAMPO_MODIFICA #0#27, 1, "S"; |CAMPO_MODIFICA #0#28, 1, "S";
    |CAMPO_MODIFICA #0#29, 1, "S"; |CAMPO_MODIFICA #0#30, 1, "S";
    |CAMPO_MODIFICA #0#31, 1, "S"; |CAMPO_MODIFICA #0#32, 1, "S";
|FINSI;
|FPRC;

|| **************************************************************************
||                           PROCESOS IMPRESION
|| **************************************************************************

|PROCESO cabecera;
cabecera = "************************************************************************";
|IMPRIME cabecera;
cabecera = "                        *  RELACION ADJUNTA *        ";
|IMPRIME cabecera;
cabecera = "************************************************************************";
|IMPRIME cabecera;
hoja     = hoja + 1;
importe  = hoja;
cabecera = "";                         |IMPRIME cabecera;
cabecera = "Hoja ......: " + importe;  |IMPRIME cabecera;
cabecera = "Declarante : " + nombre;   |IMPRIME cabecera;
cabecera = "NIF : " + cif;             |IMPRIME cabecera;
cabecera = "";                         |IMPRIME cabecera;
swporta  = 1;
linea    = 8;
|FPRC;

|PROCESO cabe1;
cabecera = "A) Rendimientos del trabajo (Retribuciones dinerarias)";
|IMPRIME cabecera; |HAZ linea;

cabecera = ""; |IMPRIME cabecera; |HAZ linea;

cabecera = "Perceptor    Persona o entidad pagadora     Retenciones  Importe integro";
|IMPRIME cabecera; |HAZ linea;
cabecera = "------------------------------------------------------------------------";
|IMPRIME cabecera; |HAZ linea;
sw21     = 1;
|FPRC;

|PROCESO cabe2;
|SI sw21 = 1;
    cabecera = "";
    |IMPRIME cabecera; |HAZ linea;
    |IMPRIME cabecera; |HAZ linea;
|FINSI;

cabecera = "A) Rendimientos del trabajo (Retribuciones en especie)";
|IMPRIME cabecera; |HAZ linea;
cabecera = ""; |IMPRIME cabecera; |HAZ linea;

cabecera = "Perceptor    Concepto              Valoracion   I. a cuenta Impor.integro";
|IMPRIME cabecera; |HAZ linea;
cabecera = "-------------------------------------------------------------------------";
|IMPRIME cabecera; |HAZ linea;

sw22     = 1;
|FPRC;

|PROCESO cabe3;
|SI sw21 = 1; |O sw22 = 1;
    cabecera = "";
    |IMPRIME cabecera; |HAZ linea;
    |IMPRIME cabecera; |HAZ linea;
|FINSI;

cabecera = "E) Actividades empresariales en estimacion objetiva (Modulos)";
|IMPRIME cabecera; |HAZ linea;
cabecera = ""; |IMPRIME cabecera; |HAZ linea;

sw5      = 1;
|FPRC;

|PROCESO cabe4;
|SI sw21 = 1; |O sw22 = 1; |O sw5 = 1;
    cabecera = "";
    |IMPRIME cabecera; |HAZ linea;
    |IMPRIME cabecera; |HAZ linea;
|FINSI;
cabecera = "M) Deducciones de la cuota  (Identificacion cuenta vivienda)";
|IMPRIME cabecera; |HAZ linea;
cabecera = ""; |IMPRIME cabecera; |HAZ linea;

cabecera = "Perceptor    Cuenta                   Importe";
|IMPRIME cabecera; |HAZ linea;
cabecera = "---------------------------------------------";
|IMPRIME cabecera; |HAZ linea;
sw6      = 1;
|FPRC;

|PROCESO imprime;
|SI swporta = 0; |HAZ cabecera; |FINSI;

|SI fichero = 21; |Y sw21 = 0; |HAZ cabe1; |FINSI;
|SI fichero = 22; |Y sw22 = 0; |HAZ cabe2; |FINSI;
|SI fichero = 5;  |Y sw5  = 0; |HAZ cabe3; |FINSI;
|SI fichero = 6;  |Y sw6  = 0; |HAZ cabe4; |FINSI;

|IMPRIME varalf; |HAZ linea;
|FPRC;

|PROCESO linea;
linea = linea + 1;
|SI linea < 58; |ACABA; |FINSI;

cabecera = "                                                       Sigue...";
|IMPRIME cabecera;
linea = linea + 1;
swporta = 0;
|PARA x = linea; |SI x [ 65; |HACIENDO x = x + 1;
      cabecera = ""; |IMPRIME cabecera;
|SIGUE;
|HAZ cabecera;
|FPRC;

|PROCESO pie;
|PARA x = linea; |SI x [ 65; |HACIENDO x = x + 1;
      cabecera = ""; |IMPRIME cabecera;
|SIGUE;
|FPRC;

|PROCESO carga1;
|SI #2#7 ! 0; |O #2#9 ! 0;
    conta = conta + 1;
    |SI conta < 6; |ACABA; |FINSI;

    |SI conta = 6;
       fichero = 21;
       varalf = perce;
       varalf = varalf + " " + #2#4;
       importe = #2#9;   |HAZ importe;
       varalf  = varalf + " " + importe;
       importe = #2#7;   |HAZ importe;
       varalf  = varalf + "    " + importe;
       |ACABA;
    |FINSI;
    fichero = 21;
    |SI conta = 7; |HAZ imprime; |FINSI;
    varalf = perce;
    varalf = varalf + " " + #2#4;
    importe = #2#9;   |HAZ importe;
    varalf  = varalf + " " + importe;
    importe = #2#7;   |HAZ importe;
    varalf  = varalf + "    " + importe; |HAZ imprime;
|FINSI;
|FPRC;

|PROCESO carga2;
|SI #2#15 ! 0; |O #2#16 ! 0;
    conta = conta + 1;
    |SI conta < 5; |ACABA; |FINSI;

    |SI conta = 5;
        fichero = 22;
        varalf = #2#14 % 120;
        varalf = #2#3 + " " + varalf;
        importe = #2#15;                      |HAZ importe;
        varalf  = varalf + " " + importe;
        importe = #2#16;                      |HAZ importe;
        varalf  = varalf + " " + importe;
        a       = #2#15 + #2#16;
        importe = a;                          |HAZ importe;
        varalf  = varalf + " " + importe;
        |ACABA;
    |FINSI;

    fichero = 22;
    |SI conta = 6;  |HAZ imprime; |FINSI;
    varalf = #2#14 % 120;
    varalf = #2#3 + " " + varalf;
    importe = #2#15;                     |HAZ importe;
    varalf  = varalf + " " + importe;
    importe = #2#16;                     |HAZ importe;
    varalf  = varalf + " " + importe;
    a       = #2#15 + #2#16;
    importe = a;                         |HAZ importe;
    varalf  = varalf + " " + importe;    |HAZ imprime;
|FINSI;
|FPRC;

|PROCESO rendtrab1;
|SI #2#28 = "X"; |ACABA; |FINSI;

|SI tipo = "A"; perce = #2#3; |SINO; perce = "TITULAR"; |FINSI;

|SI tipo = "A";     || Si es conjunta
    |HAZ carga1;
    |ACABA;
|FINSI;

|SI tipo = "T";     || Si es Titular
    |SI #2#2 = "T"; |HAZ carga1; |ACABA; |FINSI;
|FINSI;

|SI tipo = "C";     || Si es Conyuge
    |SI #2#2 = "C"; |HAZ carga1; |ACABA; |FINSI;
|FINSI;

|SI tipo = "1";     || Si es 1§ Familiar
    |SI #2#2 = "1"; |HAZ carga1; |ACABA; |FINSI;
|FINSI;

|SI tipo = "2";     || Si es 1§ Familiar
    |SI #2#2 = "2"; |HAZ carga1; |ACABA; |FINSI;
|FINSI;

|SI tipo = "3";     || Si es 3§ Familiar
    |SI #2#2 = "3"; |HAZ carga1; |ACABA; |FINSI;
|FINSI;

|SI tipo = "4";     || Si es 4§ Familiar
    |SI #2#2 = "4"; |HAZ carga1; |ACABA; |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE rerendtr1;
#2#1;
;
empresa, 01;
empresa, 99;
e;
NULL, rendtrab1;
|FIN;

|PROCESO rendtrab2;
|SI #2#28 = "X"; |ACABA; |FINSI;

|SI tipo = "A"; perce = #2#3; |SINO; perce = "TITULAR"; |FINSI;

|SI tipo = "A";     || Si es conjunta
    |HAZ carga2;
    |ACABA;
|FINSI;

|SI tipo = "T";     || Si es Titular
    |SI #2#2 = "T"; |HAZ carga2; |ACABA; |FINSI;
|FINSI;

|SI tipo = "C";     || Si es Conyuge
    |SI #2#2 = "C"; |HAZ carga2; |ACABA; |FINSI;
|FINSI;

|SI tipo = "1";     || Si es 1§ Familiar
    |SI #2#2 = "1"; |HAZ carga2; |ACABA; |FINSI;
|FINSI;

|SI tipo = "2";     || Si es 1§ Familiar
    |SI #2#2 = "2"; |HAZ carga2; |ACABA; |FINSI;
|FINSI;

|SI tipo = "3";     || Si es 3§ Familiar
    |SI #2#2 = "3"; |HAZ carga2; |ACABA; |FINSI;
|FINSI;

|SI tipo = "4";     || Si es 4§ Familiar
    |SI #2#2 = "4"; |HAZ carga2; |ACABA; |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE rerendtr2;
#2#1;
;
empresa, 01;
empresa, 99;
e;
NULL, rendtrab2;
|FIN;

|| ********************** Empresariales Modulos ****************************
|PROCESO carga5;
conta = conta + 1;
|SI conta > 3; swmod = 1; |FINSI;
|FPRC;

|PROCESO carga3;
conta = conta + 1;
|SI conta < 3; |ACABA; |FINSI;

|SI conta ] 3;
    fichero = 5;

    varalf = "Epigrafe I.A.E. : "  + #5#13 + #5#14; |HAZ imprime;
    varalf = "Titular ........: "  + perce;          |HAZ imprime;

    |PARA x = 16; |SI x [ 22; |HACIENDO x = x + 1;
         a      = x + 7;
         b      = a + 7;
         impor  = #5a % coefi;
         var1   = impor;
         var1   = ("          " + var1) % -110;
         impor  = (#5a % coefi) * (#5b % coefi);
         var2   = impor;
         var2   = ("           " + var2) % -111;
         varalf = #5x + " " + var1 + " " + var2;       |HAZ imprime;
   |SIGUE;
   impor   = #5#37 % coefi;
   importe = impor; |HAZ importe;
   varalf = " Rendimiento neto previo ............: " + importe; |HAZ imprime;

   varalf = "";                                        |HAZ imprime;
   a      = #5#38 - 1;
   varalf = a;
   varalf = ("     " + varalf) % -105;
   varalf = " Por caracteristicas de la actividad : " + varalf; |HAZ imprime;

   varalf = #5#40;
   varalf = ("     " + varalf) % -105;
   varalf = " Actividades temporada ..............: " + varalf; |HAZ imprime;

   varalf = #5#42;
   varalf = ("     " + varalf) % -105;
   varalf = " Por cuantia del rendimiento ........: " + varalf; |HAZ imprime;

   impor   = #5#44 % coefi;
   importe = impor; |HAZ importe;
   varalf = " Rendimiento neto corregido .........: " + importe; |HAZ imprime;
   varalf = "";                                        |HAZ imprime;

|FINSI;
|FPRC;

|PROCESO modulos1;
|SI #5#4 = "X"; |O #5#4 = "P"; |ACABA; |FINSI;

|SI tipo = "A"; perce = #5#3; |SINO; perce = "TITULAR"; |FINSI;

|SI tipo = "A";
    |SI #5#2 = "V";
        coefi = #5#7 + #5#8 + #5#9 + #5#10 + #5#11 + #5#12;
        |HAZ carga5;
        |ACABA;
    |FINSI;
    coefi = 100; |HAZ carga5;
    |ACABA;
|FINSI;

|SI tipo = "T";
   |SI #5#2 = "G"; coefi = 50;   |HAZ carga5; |ACABA; |FINSI;
   |SI #5#2 = "T"; coefi = 100;  |HAZ carga5; |ACABA; |FINSI;
   |SI #5#2 = "V"; coefi = #5#7; |HAZ carga5; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "C";
   |SI #5#2 = "G"; coefi = 50;   |HAZ carga5; |ACABA; |FINSI;
   |SI #5#2 = "C"; coefi = 100;  |HAZ carga5; |ACABA; |FINSI;
   |SI #5#2 = "V"; coefi = #5#8; |HAZ carga5; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "1";
   |SI #5#2 = "1"; coefi = 100;  |HAZ carga5; |ACABA; |FINSI;
   |SI #5#2 = "V"; coefi = #5#9; |HAZ carga5; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "2";
   |SI #5#2 = "2"; coefi = 100;   |HAZ carga5; |ACABA; |FINSI;
   |SI #5#2 = "V"; coefi = #5#10; |HAZ carga5; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "3";
   |SI #5#2 = "3"; coefi = 100;   |HAZ carga5; |ACABA; |FINSI;
   |SI #5#2 = "V"; coefi = #5#11; |HAZ carga5; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "4";
   |SI #5#2 = "4"; coefi = 100;   |HAZ carga5; |ACABA; |FINSI;
   |SI #5#2 = "V"; coefi = #5#12; |HAZ carga5; |ACABA; |FINSI;
   |ACABA;
|FINSI;
|FPRC;

|PROCESO modulos2;
|SI #5#4 = "X"; |O #5#4 = "P"; |ACABA; |FINSI;

|SI tipo = "A"; perce = #5#3; |SINO; perce = "TITULAR"; |FINSI;

|SI tipo = "A";
    |SI #5#2 = "V";
        coefi = #5#7 + #5#8 + #5#9 + #5#10 + #5#11 + #5#12;
        |HAZ carga3;
        |ACABA;
    |FINSI;
    coefi = 100; |HAZ carga3;
    |ACABA;
|FINSI;

|SI tipo = "T";
   |SI #5#2 = "G"; coefi = 50;   |HAZ carga3; |ACABA; |FINSI;
   |SI #5#2 = "T"; coefi = 100;  |HAZ carga3; |ACABA; |FINSI;
   |SI #5#2 = "V"; coefi = #5#7; |HAZ carga3; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "C";
   |SI #5#2 = "G"; coefi = 50;   |HAZ carga3; |ACABA; |FINSI;
   |SI #5#2 = "C"; coefi = 100;  |HAZ carga3; |ACABA; |FINSI;
   |SI #5#2 = "V"; coefi = #5#8; |HAZ carga3; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "1";
   |SI #5#2 = "1"; coefi = 100;  |HAZ carga3; |ACABA; |FINSI;
   |SI #5#2 = "V"; coefi = #5#9; |HAZ carga3; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "2";
   |SI #5#2 = "2"; coefi = 100;   |HAZ carga3; |ACABA; |FINSI;
   |SI #5#2 = "V"; coefi = #5#10; |HAZ carga3; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "3";
   |SI #5#2 = "3"; coefi = 100;   |HAZ carga3; |ACABA; |FINSI;
   |SI #5#2 = "V"; coefi = #5#11; |HAZ carga3; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "4";
   |SI #5#2 = "4"; coefi = 100;   |HAZ carga3; |ACABA; |FINSI;
   |SI #5#2 = "V"; coefi = #5#12; |HAZ carga3; |ACABA; |FINSI;
   |ACABA;
|FINSI;
|FPRC;

|DEFBUCLE reempmod1;
#5#1;
;
empresa, 01;
empresa, 99;
e;
NULL, modulos1;
|FIN;

|DEFBUCLE reempmod2;
#5#1;
;
empresa, 01;
empresa, 99;
e;
NULL, modulos2;
|FIN;

|| ********************** Deducciones cuenta vivienda **********************

|PROCESO carga4;
fichero = 6;
conta = conta + 1;
|SI conta < 2; |ACABA; |FINSI;

|SI conta = 2;
    impor   = #6#6 % coefi;
    importe = impor; |HAZ importe;
    varalf = #6#3 + " " + #6#5 + " " + importe;
    |ACABA;
|FINSI;

|SI conta = 3; |HAZ imprime; |FINSI;
impor   = #6#6 % coefi;
importe = impor; |HAZ importe;
varalf = #6#3 + " " + #6#5 + " " + importe;  |HAZ imprime;
|FPRC;

|PROCESO cuenta;
|SI #6#8 = "X"; |O #6#8 = "P"; |ACABA; |FINSI;
|SI #6#4 = "I"; |ACABA; |FINSI;

|SI tipo = "A"; perce = #6#3; |SINO; perce = "TITULAR"; |FINSI;

|SI tipo = "A";
    |SI #6#2 = "V";
        coefi = #6#9 + #6#10 + #6#11 + #6#12 + #6#13 + #6#14;
        |HAZ carga4;
        |ACABA;
    |FINSI;
    coefi = 100; |HAZ carga4;
    |ACABA;
|FINSI;

|SI tipo = "T";
   |SI #6#2 = "G"; coefi = 50;   |HAZ carga4; |ACABA; |FINSI;
   |SI #6#2 = "T"; coefi = 100;  |HAZ carga4; |ACABA; |FINSI;
   |SI #6#2 = "V"; coefi = #6#9; |HAZ carga4; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "C";
   |SI #6#2 = "G"; coefi = 50;    |HAZ carga4; |ACABA; |FINSI;
   |SI #6#2 = "C"; coefi = 100;   |HAZ carga4; |ACABA; |FINSI;
   |SI #6#2 = "V"; coefi = #6#10; |HAZ carga4; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "1";
   |SI #6#2 = "1"; coefi = 100;   |HAZ carga4; |ACABA; |FINSI;
   |SI #6#2 = "V"; coefi = #6#11; |HAZ carga4; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "2";
   |SI #6#2 = "2"; coefi = 100;   |HAZ carga4; |ACABA; |FINSI;
   |SI #6#2 = "V"; coefi = #6#12; |HAZ carga4; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "3";
   |SI #6#2 = "3"; coefi = 100;   |HAZ carga4; |ACABA; |FINSI;
   |SI #6#2 = "V"; coefi = #6#13; |HAZ carga4; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI tipo = "4";
   |SI #6#2 = "4"; coefi = 100;   |HAZ carga4; |ACABA; |FINSI;
   |SI #6#2 = "V"; coefi = #6#14; |HAZ carga4; |ACABA; |FINSI;
   |ACABA;
|FINSI;
|FPRC;

|DEFBUCLE rededu10;
#6#1;
;
empresa, 01;
empresa, 99;
e;
NULL, cuenta;
|FIN;

|| **************************************************************************
||                           PROCESOS DATOS CONTRIBUYENTE
|| **************************************************************************

|PROCESO alataque;
empresa = #1#0;
|SI #1#103 = "S"; |Y #1#124 = "S"; tipo = "A"; |HAZ ejecuciones; |FINSI;
|SI #1#104 = "S"; |Y #1#125 = "S"; tipo = "T"; |HAZ ejecuciones; |FINSI;
|SI #1#105 = "S"; |Y #1#126 = "S"; tipo = "C"; |HAZ ejecuciones; |FINSI;
|SI #1#106 = "S"; |Y #1#127 = "S"; tipo = "1"; |HAZ ejecuciones; |FINSI;
|SI #1#107 = "S"; |Y #1#128 = "S"; tipo = "2"; |HAZ ejecuciones; |FINSI;
|SI #1#108 = "S"; |Y #1#129 = "S"; tipo = "3"; |HAZ ejecuciones; |FINSI;
|SI #1#109 = "S"; |Y #1#130 = "S"; tipo = "4"; |HAZ ejecuciones; |FINSI;
|FPRC;

|PROCESO ejecuciones;
swporta   = 0; sw21      = 0; sw22      = 0; sw5       = 0;
sw6       = 0; swmod     = 0; linea     = 0; hoja      = 0;

nombre  = #1#1;  cif  = #1#2;
|SI tipo = "C"; nombre  = #1#28; cif  = #1#29; |FINSI;
|SI tipo = "1";
    nombre = "";  cif  = "";
    |SI #1#98 ! 0;
        var = 57 + #1#98; nombre  = #1var;
        var = 47 + #1#98; cif     = #1var;
    |FINSI;
|FINSI;
|SI tipo = "2";
    nombre = "";  cif  = "";
    |SI #1#99 ! 0;
        var = 57 + #1#99; nombre  = #1var;
        var = 47 + #1#99; cif     = #1var;
    |FINSI;
|FINSI;
|SI tipo = "3";
    nombre = "";  cif  = "";
    |SI #1#100 ! 0;
        var = 57 + #1#100; nombre  = #1var;
        var = 47 + #1#100; cif     = #1var;
    |FINSI;
|FINSI;
|SI tipo = "4";
    nombre = "";  cif  = "";
    |SI #1#101 ! 0;
        var = 57 + #1#101; nombre  = #1var;
        var = 47 + #1#101; cif     = #1var;
    |FINSI;
|FINSI;

conta = 0; |BUCLE rerendtr1;
conta = 0; |BUCLE rerendtr2;
conta = 0; swmod = 0; |BUCLE reempmod1;
|SI swmod = 1; conta = 0; |BUCLE reempmod2; |FINSI;
conta = 0; |BUCLE rededu10;
|SI swporta = 1; |HAZ pie; |FINSI;

|FPRC;

|DEFBUCLE impresio;
#1#1;
142, 143;
#0#1, "S", "N";
#0#2, "S", "N";
e;
NULL, alataque;
|FIN;

|PROCESO impre; |TIPO 3;
|IMPRE 0;
|SI FSalida = 0;
    impresor = Impresora;
    |SI #0#0 = "S";
        |BUCLE impresio;
    |SINO;
       |ABRE #1;
       |PARA pepe = 3; |SI pepe [ 32; |HACIENDO pepe = pepe + 1;
          |SI #0pepe ! 0;
              #1#0 = #0pepe;
              |LEE 040#1=;
              |SI FSalida = 0; |Y #1#142 = "S"; |Y #1#143 = "N";
                  |HAZ alataque;
              |FINSI;
          |FINSI;
       |SIGUE;
       |CIERRA #1;
    |FINSI;
    |FINIMP;
|FINSI;
|FPRC;
