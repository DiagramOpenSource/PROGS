|FICHEROS;
   reempedi #7;
   reemprco #8;
   reempmod #5;
|FIN;

|VARIABLES;
   &empresa   = 0;
   &nombre    = "";
   &nombred   = "";
   &cif       = "";
   &tipliq    = "";
   &tipol     = "";
   &impresor  = "";
   &swporta   = 0;
   &linea     = 0;
   &hoja      = 0;
   &vuelve    = 1;
   &seleccion = "";
   &liquidaci = "";
   &chequeo   = 0;
   &campo     = 0;

   x          = 0;

   cabecera   = "";
   varalf     = "";
   alfa       = "";
   swcab      = 0;
   canti      = 0;
   a          = 0;
   b          = 0;
   c          = 0;
   var1       = "";
   var2       = "";
   impor      = 0;
|FIN;

|| **************************************************************************
||                           PROCESOS IMPRESION
|| **************************************************************************

|INCLUYE i_import;

|PROCESO cabecera;
cabecera = "************************************************************************";
|IMPRIME cabecera;
cabecera = "                        *  COMPROBACION RENTA *        ";
|IMPRIME cabecera;
cabecera = "************************************************************************";
|IMPRIME cabecera;
hoja     = hoja + 1;
importe  = hoja;
cabecera = "";                         |IMPRIME cabecera;
cabecera = "Hoja ......: " + importe;  |IMPRIME cabecera;
importe  = empresa;
cabecera = "Codigo ....: " + importe;  |IMPRIME cabecera;
cabecera = "Declarante : " + nombre;   |IMPRIME cabecera;
cabecera = "NIF : " + cif;             |IMPRIME cabecera;
cabecera = "";                         |IMPRIME cabecera;
swporta  = 1;
linea    = 9;
|FPRC;

|PROCESO imprime;
|SI swporta = 0; |HAZ cabecera; |FINSI;
|IMPRIME varalf;
linea = linea + 1; |HAZ linea;
|FPRC;

|PROCESO linea;
|SI linea < 58; |ACABA; |FINSI;

cabecera = "";  |IMPRIME cabecera;
cabecera = "                                                                     Sigue...";
|IMPRIME cabecera;
linea = linea + 2;
|PARA x = linea; |SI x [ 65; |HACIENDO x = x + 1;
      cabecera = ""; |IMPRIME cabecera;
|SIGUE;
|HAZ cabecera;
|FPRC;

|PROCESO pie;
|PARA x = linea; |SI x [ 65; |HACIENDO x = x + 1;
      cabecera = ""; |IMPRIME cabecera;
|SIGUE;
|FPRC;

|PROCESO directa;
varalf = "";                                                     |HAZ imprime;
|SI swcab = 0;
    |CIMPR 5;
    varalf = "EMPRESARIALES EN ESTIMACION DIRECTA";              |HAZ imprime;
    |CIMPR 6;
    varalf = "";                                                 |HAZ imprime;
    swcab = 1;
|FINSI;

varalf = "--------------------------------------------------------------";
|HAZ imprime;
varalf = "Declaracion : " + #7#4;                                |HAZ imprime;
varalf = "Titular ....: " + #7#3;                                |HAZ imprime;
varalf = "Descripcion : " + #7#15;                               |HAZ imprime;
varalf = "Modalidad ..: Empresarial directa";                    |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
a = #7#17;; importe = a;                                         |HAZ importe;
varalf = "Ingresos ordinarios por ventas y prestaciones ...: " + importe;
                                                                 |HAZ imprime;
a = #7#18; importe = a;                                          |HAZ importe;
varalf = "Autoconsumo .....................................: " + importe;
                                                                 |HAZ imprime;
a = (#7#19 + #7#20); importe = a;                                |HAZ importe;
varalf = "Subvenciones y otras transferencias .............: " + importe;
                                                                 |HAZ imprime;
a = (#7#21 + #7#22); importe = a;                                |HAZ importe;
varalf = "Otros ingresos ..................................: " + importe;
a = #7#23; importe = a;                                          |HAZ importe;
varalf = "Total ingreso computables .......................: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
varalf = "Gastos deducibles";                                    |HAZ imprime;
a = #7#24; importe = a;                                          |HAZ importe;
varalf = "Tributos y recargos no estatales ................: " + importe;
                                                                 |HAZ imprime;
a = #7#25; importe = a;                                          |HAZ importe;
varalf = "Mercaderias, materias primas y otros aprovecham. : " + importe;
                                                                 |HAZ imprime;
a = #7#26; importe = a;                                          |HAZ importe;
varalf = "Sueldos y salarios del personal .................: " + importe;
                                                                 |HAZ imprime;
a = #7#27; importe = a;                                          |HAZ importe;
varalf = "Seguridad Social ................................: " + importe;
                                                                 |HAZ imprime;
a = #7#28; importe = a;                                          |HAZ importe;
varalf = "Otros gastos de personal ........................: " + importe;
                                                                 |HAZ imprime;
a = #7#29; importe = a;                                          |HAZ importe;
varalf = "Trabajos realizados por otras empresas ..........: " + importe;
                                                                 |HAZ imprime;
a = #7#31; importe = a;                                          |HAZ importe;
varalf = "Intereses de prestamos y otros gastos financieros: " + importe;
                                                                 |HAZ imprime;
a = #7#30; importe = a;                                          |HAZ importe;
varalf = "Alquileres de locales ...........................: " + importe;
                                                                 |HAZ imprime;
a = #7#33; importe = a;                                          |HAZ importe;
varalf = "Conservacion y reparacion del activo material ...: " + importe;
                                                                 |HAZ imprime;
a = #7#35; importe = a;                                          |HAZ importe;
varalf = "Primas de seguros ...............................: " + importe;
                                                                 |HAZ imprime;
a = #7#32; importe = a;                                          |HAZ importe;
varalf = "Amortizaciones de elementos afectos .............: " + importe;
                                                                 |HAZ imprime;

a = #7#38; importe = a;                                          |HAZ importe;
varalf = "Dotaciones del ejercicio a provisiones ..........: " + importe;
                                                                 |HAZ imprime;
a = #7#40; importe = a;                                          |HAZ importe;
varalf = "Cuotas a Corporaciones, Camaras, A.empresariales : " + importe;
                                                                 |HAZ imprime;
a = (#7#41 + #7#34 + #7#36 + #7#37 + #7#39); importe = a;        |HAZ importe;
varalf = "Otros gastos deducibles .........................: " + importe;
                                                                 |HAZ imprime;
a = #7#42; importe = a;                                          |HAZ importe;
varalf = "Total gastos deducibles .........................: " + importe;
                                                                 |HAZ imprime;
a = #7#45; importe = a;                                          |HAZ importe;
varalf = "Rendimiento Neto previo .........................: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
varalf = "Aumentos y minoraciones";                              |HAZ imprime;
a = #7#46; importe = a;                                          |HAZ importe;
varalf = "Incrementos de patrimonio .......................: " + importe;
                                                                 |HAZ imprime;
a = #7#47; importe = a;                                          |HAZ importe;
varalf = "Disminuciones de patrimonio .....................: " + importe;
                                                                 |HAZ imprime;
a = #7#48; importe = a;                                          |HAZ importe;
varalf = "Saldo Neto ......................................: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
a = #7#49; importe = a;                                          |HAZ importe;
varalf = "Rendimiento Neto ................................: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
varalf = "Pagos fraccionados";                                   |HAZ imprime;
importe = #7#50; |HAZ importe;
varalf = "1§ Trimestre ....................................: " + importe;
                                                                 |HAZ imprime;
importe = #7#51; |HAZ importe;
varalf = "2§ Trimestre ....................................: " + importe;
                                                                 |HAZ imprime;
importe = #7#52; |HAZ importe;
varalf = "3§ Trimestre ....................................: " + importe;
                                                                 |HAZ imprime;
importe = #7#53; |HAZ importe;
varalf = "4§ Trimestre ....................................: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
a = #7#16; importe = a;                                          |HAZ importe;
varalf = "Valor Patrimonial ...............................: " + importe;
                                                                 |HAZ imprime;

varalf = "--------------------------------------------------------------";
|HAZ imprime;
|FPRC;

|DEFBUCLE reempedi;
#7#1;
;
empresa, 01;
empresa, 99;
e;
NULL, directa;
|FIN;

|PROCESO coeficie;
varalf = "";                                                     |HAZ imprime;

|SI swcab = 0;
    |CIMPR 5;
    varalf = "EMPRESARIALES EN ESTIMACION POR COEFICIENTES";     |HAZ imprime;
    |CIMPR 6;
    varalf = "";                                                 |HAZ imprime;
    swcab = 1;
|FINSI;

varalf = "--------------------------------------------------------------";
|HAZ imprime;
varalf = "Declaracion : " + #8#4;                                |HAZ imprime;
varalf = "Perceptor ..: " + #8#3;                                |HAZ imprime;
varalf = "Descripcion : " + #8#15;                               |HAZ imprime;
varalf = "Modalidad ..: Empresarial coeficientes";               |HAZ imprime;
varalf = "";                                                     |HAZ imprime;

a = #8#17; importe = a;                                          |HAZ importe;
varalf = "Ingresos integros ..............................: " + importe;
                                                                 |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
varalf = "Gastos deducibles";                                    |HAZ imprime;
a = #8#18; importe = a;                                          |HAZ importe;
varalf = "Coste de personal ..............................: " + importe;
                                                                 |HAZ imprime;
a = (#8#38 + #8#40 - #8#38); importe = a;                        |HAZ importe;
varalf = "Compras consumidas de mercaderias y demas bienes: " + importe;
                                                                 |HAZ imprime;
a = #8#19; importe = a;                                          |HAZ importe;
varalf = "Consumo de energia y agua ......................: " + importe;
                                                                 |HAZ imprime;
a = #8#20; importe = a;                                          |HAZ importe;
varalf = "Alquileres de locales de la actividad ..........: " + importe;
                                                                 |HAZ imprime;
a = #8#21; importe = a;                                          |HAZ importe;
varalf = "Gastos financieros y prima de seguros ..........: " + importe;
                                                                 |HAZ imprime;
a = #8#22; importe = a;                                          |HAZ importe;
varalf = "Tributos no estatales ..........................: " + importe;
                                                                 |HAZ imprime;
a = #8#23; importe = a;                                          |HAZ importe;
varalf = "Reparaciones y conservacion ....................: " + importe;
                                                                 |HAZ imprime;
a = #8#24; importe = a;                                          |HAZ importe;
varalf = "Trabajos realizados por otras empresas .........: " + importe;
                                                                 |HAZ imprime;
a = #8#48; importe = a;                                          |HAZ importe;
varalf = "C nones arrendaticios ..........................: " + importe;
                                                                 |HAZ imprime;

b = #8#18 + #8#19 + #8#20 + #8#21 + #8#22 + #8#23 + #8#24 + #8#39 + #8#48;
b = (b + #8#40 - #8#38); importe = b;                            |HAZ importe;
varalf = "Total gastos deducibles ........................: " + importe;
                                                                 |HAZ imprime;
a = #8#17 - b; importe = a;                                      |HAZ importe;
varalf = "Diferencia .....................................: " + importe;
                                                                 |HAZ imprime;
a = #8#25; importe = a;                                          |HAZ importe;
varalf = "Coeficiente de gastos ..........................: " + importe;
                                                                 |HAZ imprime;
c = #8#42; importe = c;                                          |HAZ importe;
varalf = "Rendimientos Neto previo .......................: " + importe;
                                                                 |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
varalf = "Aumentos y minoraciones";                              |HAZ imprime;
a = #8#26; importe = a;                                          |HAZ importe;
varalf = "Incrementos de patrimonio ......................: " + importe;
                                                                 |HAZ imprime;
a = #8#27; importe = a;                                          |HAZ importe;
varalf = "Disminuciones de patrimonio ....................: " + importe;
                                                                 |HAZ imprime;
a = #8#28; importe = a;                                          |HAZ importe;
varalf = "Otras disminuciones ............................: " + importe;
                                                                 |HAZ imprime;
a = (#8#26 - #8#27 - #8#28); importe = a;                        |HAZ importe;
varalf = "Saldo Neto .....................................: " + importe;
                                                                 |HAZ imprime;
a = #8#29; importe = a;                                          |HAZ importe;
varalf = "Gastos extraordinarios por ciecuntancias excep. : " + importe;

varalf = "";                                                     |HAZ imprime;
a = #8#32; importe = a;                                          |HAZ importe;
varalf = "Rendimiento Neto ...............................: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
varalf = "Pagos fraccionados";                                   |HAZ imprime;
importe = #8#34; |HAZ importe;
varalf = "1§ Trimestre ....................................: " + importe;
                                                                 |HAZ imprime;
importe = #8#35; |HAZ importe;
varalf = "2§ Trimestre ....................................: " + importe;
                                                                 |HAZ imprime;
importe = #8#36; |HAZ importe;
varalf = "3§ Trimestre ....................................: " + importe;
                                                                 |HAZ imprime;
importe = #8#37; |HAZ importe;
varalf = "4§ Trimestre ....................................: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
a = #8#16; importe = a;                                          |HAZ importe;
varalf = "Valor Patrimonial ...............................: " + importe;
                                                                 |HAZ imprime;

varalf = "--------------------------------------------------------------";
|FPRC;

|DEFBUCLE reemprco;
#8#1;
;
empresa, 01;
empresa, 99;
e;
NULL, coeficie;
|FIN;

|PROCESO modulos;
varalf = "";                                       |HAZ imprime;
varalf = "";                                       |HAZ imprime;

|SI swcab = 0;
    |CIMPR 5;
    varalf = "EMPRESARIALES EN ESTIMACION MODULOS";    |HAZ imprime;
    |CIMPR 6;
    varalf = "";                                       |HAZ imprime;
    swcab = 1;
|FINSI;

varalf = "--------------------------------------------------------------";
|HAZ imprime;

varalf = "Declaracion ....: "  + #5#4;             |HAZ imprime;
varalf = "Epigrafe I.A.E. : "  + #5#13 + #5#14;    |HAZ imprime;
varalf = "Perceptor ......: "  + #5#3;             |HAZ imprime;
varalf = "Modalidad ......: Empresarial Modulos";  |HAZ imprime;
varalf = "";                                       |HAZ imprime;

|PARA x = 16; |SI x [ 22; |HACIENDO x = x + 1;
    a      = x + 7;
    b      = a + 7;
    impor  = #5a;
    var1   = impor;
    var1   = ("          " + var1) % -110;
    impor  = #5a * #5b;
    var2   = impor;
    var2   = ("           " + var2) % -111;
    varalf = #5x + " " + var1 + " " + var2;       |HAZ imprime;
|SIGUE;
varalf = "";                                        |HAZ imprime;

impor   = #5#37;
importe = impor; |HAZ importe;
varalf = " Rendimiento neto previo ............: " + importe; |HAZ imprime;
varalf = "";                                        |HAZ imprime;

varalf = #5#38;
varalf = ("     " + varalf) % -105;
varalf = " Por caracteristicas de la actividad : " + varalf; |HAZ imprime;

varalf = #5#40;
varalf = ("     " + varalf) % -105;
varalf = " Actividades temporada ..............: " + varalf; |HAZ imprime;

varalf = #5#42;
varalf = ("     " + varalf) % -105;
varalf = " Por cuantia del rendimiento ........: " + varalf; |HAZ imprime;

impor   = #5#44;
importe = impor; |HAZ importe;
varalf = " Rendimiento neto corregido .........: " + importe; |HAZ imprime;
varalf = "";                                        |HAZ imprime;

impor   = #5#47;
importe = impor; |HAZ importe;
varalf = " Disminucion patrimonio excepcionales: " + importe; |HAZ imprime;

impor   = #5#48;
importe = impor; |HAZ importe;
varalf = " Gtos.Extraordinarios bienes afectos : " + importe; |HAZ imprime;
varalf = "";                                        |HAZ imprime;

impor   = #5#44 - #5#47 - #5#48;
importe = impor; |HAZ importe;
varalf = " Rendimiento Neto por modulos .......: " + importe; |HAZ imprime;

impor   = #5#64;
importe = impor; |HAZ importe;
varalf = " Reduccion D.Adic. 13¦ Ley 22/93 ....: " + importe; |HAZ imprime;

impor   = #5#60;
importe = impor; |HAZ importe;
varalf = " Reduccion Decreto-Ley 3/93 .........: " + importe; |HAZ imprime;

impor   = #5#44 - #5#47 - #5#48 - (#5#60 + #5#64);
importe = impor; |HAZ importe;
varalf = " Rendimiento Neto reducido ..........: " + importe; |HAZ imprime;
varalf = "";                                        |HAZ imprime;

impor   = #5#45;
importe = impor; |HAZ importe;
varalf = " Incrementos Patrim.,Inmuebles, y B. : " + importe; |HAZ imprime;

impor   = #5#46;
importe = impor; |HAZ importe;
varalf = " Disminucion patrimonio normales ....: " + importe; |HAZ imprime;

impor   = #5#61;
importe = impor; |HAZ importe;
varalf = " Prestaciones por Incapacidad .......: " + importe; |HAZ imprime;

varalf = " Pagos fraccionados";                                   |HAZ imprime;
importe = #5#50; |HAZ importe;
varalf = " 1§ Trimestre .......................: " + importe;
                                                                 |HAZ imprime;
importe = #5#51; |HAZ importe;
varalf = " 2§ Trimestre .......................: " + importe;
                                                                 |HAZ imprime;
importe = #5#52; |HAZ importe;
varalf = " 3§ Trimestre .......................: " + importe;
                                                                 |HAZ imprime;
importe = #5#53; |HAZ importe;
varalf = " 4§ Trimestre .......................: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
importe = #5#55; |HAZ importe;
varalf = " Valor Patrimonial ..................: " + importe;
                                                                 |HAZ imprime;

varalf = "--------------------------------------------------------------";
|HAZ imprime;
|FPRC;

|DEFBUCLE reempmod;
#5#1;
;
empresa, 01;
empresa, 99;
e;
NULL, modulos;
|FIN;

|PROGRAMA;
vuelve  = 1;
Impresora = impresor;
|IMPRE -1;
|SI FSalida = 0;
   swcab = 0; |BUCLE reempedi;
   swcab = 0; |BUCLE reemprco;
   swcab = 0; |BUCLE reempmod;

   |FINIMP;
   |CORRE "recompr4.run";
|FINSI;
|FPRO;
