|FICHEROS;
   repatrim #4;
|FIN;

|VARIABLES;
   &empresa   = 0;
   &nombre    = "";
   &cif       = "";
   &impresor  = "";
   &tipo      = "";
   &swporta   = 0;
   &swmod     = 0;
   &linea     = 0;
   &hoja      = 0;
   &vuelve    = 1;
   &seleccion = "";
   &tipore1   = 0;
   &tipore2   = 0;
   &tipore3   = 0;
   &tipore4   = 0;
   &tipore5   = 0;
   &tipore6   = 0;
   &chequeo   = 0;
   &campo     = 0;
   &caciclo   = 0;
   &anyo1     = 0;
   &anyo2     = 0;
   &anyo3     = 0;
   &anyo4     = 0;
   &anyo5     = 0;
   &anyo6     = 0;
   clave     = "";
   tipoprop  = "";
   tipod     = "";
   swrrr     = 0;
   swprof    = 0;
   cabecera  = "";
   varalf    = "";
   alfa1     = "";
   alfa2     = "";
   alfa3     = "";
   alfa4     = "";
   alfa5     = "";
   x         = 0;
   fichero   = 0;
   conta     = 0;
   a         = 0;
   b         = 0;
   c         = 0;
   impor     = 0;
   var1      = 0;
   coefi     = 0;
   hasta     = 0;

   canti     = 0;
   canti1    = 0;
   canti2    = 0;
   canti3    = 0;
   porce     = 0;
   anyou     = 0;
   anyos     = 0;
|FIN;

|| **************************************************************************
||                           PROCESOS IMPRESION
|| **************************************************************************

|INCLUYE i_import;

|PROCESO cabecera;
cabecera = "************************************************************************";
|IMPRIME cabecera;
cabecera = "                        *  RELACION ADJUNTA *        ";
|IMPRIME cabecera;
cabecera = "************************************************************************";
|IMPRIME cabecera;
hoja     = hoja + 1;
importe  = hoja;
cabecera = "";                         |IMPRIME cabecera;
cabecera = "Hoja ......: " + importe;  |IMPRIME cabecera;
cabecera = "Declarante : " + nombre;   |IMPRIME cabecera;
cabecera = "NIF : " + cif;             |IMPRIME cabecera;
cabecera = "";                         |IMPRIME cabecera;
swporta  = 1;
linea    = 8;
|FPRC;

|PROCESO imprime;
|SI swporta = 0; |HAZ cabecera; |FINSI;
|CIMPR 1;  |IMPRIME varalf;  |CIMPR 2;
linea = linea + 1; |HAZ linea;
|FPRC;

|PROCESO linea;
|SI linea < 58; |ACABA; |FINSI;

cabecera = "";  |IMPRIME cabecera;
cabecera = "                                                                     Sigue...";
|IMPRIME cabecera;
linea = linea + 2;
|PARA x = linea; |SI x [ 65; |HACIENDO x = x + 1;
      cabecera = ""; |IMPRIME cabecera;
|SIGUE;
|HAZ cabecera;
|FPRC;

|PROCESO pie;
|PARA x = linea; |SI x [ 65; |HACIENDO x = x + 1;
      cabecera = ""; |IMPRIME cabecera;
|SIGUE;
|FPRC;

|PROCESO carga1;
conta = conta + 1;
|SI conta < hasta; |ACABA; |FINSI;
|SI swrrr = 0;
    varalf = ""; |HAZ imprime;
    varalf = ""; |HAZ imprime;
    varalf = "K) DERECHOS REALES DE USO Y DISFRUTE";
    |HAZ imprime;
    varalf = "=" * 122; |HAZ imprime;
    varalf = "Clave  Descripcion del bien              Situacion del bien           ";
    varalf = varalf + "                  Valor del bien";
    varalf = varalf + "               Valor";
    |HAZ imprime;
    varalf = "=" * 122; |HAZ imprime;
    swrrr = 1;
|FINSI;
varalf = "  " + alfa1;
varalf = varalf + "     " + alfa2;
varalf = varalf + "     " + alfa3;
canti1 = canti1 % coefi;
importe = canti1; |HAZ importe;
varalf = varalf + "                        " + importe;

canti   = canti % coefi;
importe = canti; |HAZ importe;
varalf = varalf + "       " + importe;
|HAZ imprime;
|FPRC;

|PROCESO cabe1;
varalf = "I) JOYAS, PIELES DE CARACTER SUNTUARIO, VEHICULOS, EMBARCACIONES Y AERONAVES";
|HAZ imprime;
varalf = "=" * 122; |HAZ imprime;
varalf = "Descripcion                                                             ";
varalf = varalf + "                                         ";
varalf = varalf + "    Valor";
|HAZ imprime;
varalf = "=" * 122; |HAZ imprime;
swrrr = 1;
|FPRC;

|PROCESO cabe2;
varalf = "J) OBJETOS DE ARTE Y ANTIGUEDADES";
|HAZ imprime;
varalf = "=" * 122; |HAZ imprime;
varalf = "Descripcion                                                             ";
varalf = varalf + "                                         ";
varalf = varalf + "    Valor";
|HAZ imprime;
varalf = "=" * 122; |HAZ imprime;
swrrr = 1;
|FPRC;

|PROCESO cabe4;
varalf = "L) CONCESIONES ADMINISTRATIVAS";
|HAZ imprime;
varalf = "=" * 122; |HAZ imprime;
varalf = "Descripcion                                                             ";
varalf = varalf + "                                         ";
varalf = varalf + "    Valor";
|HAZ imprime;
varalf = "=" * 122; |HAZ imprime;
swrrr = 1;
|FPRC;

|PROCESO cabe5;
varalf = "M) DERECHOS DERIVADOS DE LA PROPIEDAD INTELECTUAL E INDUSTRIAL";
|HAZ imprime;
varalf = "=" * 122; |HAZ imprime;
varalf = "Descripcion                                                             ";
varalf = varalf + "                                         ";
varalf = varalf + "    Valor";
|HAZ imprime;
varalf = "=" * 122; |HAZ imprime;
swrrr = 1;
|FPRC;

|PROCESO cabe6;
varalf = "N) OPCIONES CONTRACTUALES";
|HAZ imprime;
varalf = "=" * 122; |HAZ imprime;
varalf = "Descripcion                                                             ";
varalf = varalf + "                                         ";
varalf = varalf + "    Valor";
|HAZ imprime;
varalf = "=" * 122; |HAZ imprime;
swrrr = 1;
|FPRC;

|PROCESO cabe7;
varalf = "O) DEMAS BIENES Y DERECHOS DE CONTENIDO ECONOMICO";
|HAZ imprime;
varalf = "=" * 122; |HAZ imprime;
varalf = "Descripcion                                                             ";
varalf = varalf + "                                         ";
varalf = varalf + "    Valor";
|HAZ imprime;
varalf = "=" * 122; |HAZ imprime;
swrrr = 1;
|FPRC;

|PROCESO cabe8;
varalf = "DEUDAS";
|HAZ imprime;
varalf = "=" * 122; |HAZ imprime;
varalf = "Descripcion                                                             ";
varalf = varalf + "                                         ";
varalf = varalf + "    Valor";
|HAZ imprime;
varalf = "=" * 122; |HAZ imprime;
swrrr = 1;
|FPRC;

|PROCESO carga2;
conta = conta + 1;
|SI conta < hasta; |ACABA; |FINSI;
|SI swrrr = 0;
    varalf = ""; |HAZ imprime;
    varalf = ""; |HAZ imprime;
    |SI fichero = 1; |HAZ cabe1; |FINSI;
    |SI fichero = 2; |HAZ cabe2; |FINSI;
    |SI fichero = 4; |HAZ cabe4; |FINSI;
    |SI fichero = 5; |HAZ cabe5; |FINSI;
    |SI fichero = 6; |HAZ cabe6; |FINSI;
    |SI fichero = 7; |HAZ cabe7; |FINSI;
    |SI fichero = 8; |HAZ cabe8; |FINSI;
|FINSI;
alfa1   = (alfa1 + (" " * 80)) % 180;
alfa4   = " " * 28;
varalf  = alfa1 + alfa4;
canti   = canti % coefi;
importe = canti; |HAZ importe;
varalf  = varalf + " " + importe;
|HAZ imprime;
|FPRC;

|| *********************** De afectos a patrimonio l1 **********************

|PROCESO lee41;
coefi = 100;
alfa1 = #4#5;
canti = #4#9;
coefi = 100;

|SI canti [ 0; |ACABA; |FINSI;

|SI #4#3 = "G";
    |SI tipo = "T"; coefi = 50; |HAZ carga2; |ACABA; |FINSI;
    |SI tipo = "C"; coefi = 50; |HAZ carga2; |ACABA; |FINSI;
|SINO;
    |SI tipo = #4#3; |HAZ carga2; |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE repatrii;
#4#1;
;
empresa, "I1", 001;
empresa, "I1", 999;
e;
NULL, lee41;
|FIN;

|| *********************** De afectos a patrimonio j1 **********************

|PROCESO lee42;
coefi = 100;
alfa1 = #4#5;
canti = #4#9;
coefi = 100;

|SI canti [ 0; |ACABA; |FINSI;

|SI #4#3 = "G";
    |SI tipo = "T"; coefi = 50; |HAZ carga2; |ACABA; |FINSI;
    |SI tipo = "C"; coefi = 50; |HAZ carga2; |ACABA; |FINSI;
|SINO;
    |SI tipo = #4#3; |HAZ carga2; |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE repatrij;
#4#1;
;
empresa, "J1", 001;
empresa, "J1", 999;
e;
NULL, lee42;
|FIN;

|| *********************** De afectos a patrimonio k1 **********************

|PROCESO lee43;
coefi = 100;
alfa1 = #4#15;
alfa2 = #4#5;
alfa3 = #4#14;
canti1 = #4#13;
canti = #4#9;
coefi = 100;

|SI canti [ 0; |ACABA; |FINSI;

|SI #4#3 = "G";
    |SI tipo = "T"; coefi = 50; |HAZ carga1; |ACABA; |FINSI;
    |SI tipo = "C"; coefi = 50; |HAZ carga1; |ACABA; |FINSI;
|SINO;
    |SI tipo = #4#3; |HAZ carga1; |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE repatrik;
#4#1;
;
empresa, "K1", 001;
empresa, "K1", 999;
e;
NULL, lee43;
|FIN;

|| *********************** De afectos a patrimonio l1 **********************

|PROCESO lee44;
coefi = 100;
alfa1 = #4#5;
canti = #4#9;
coefi = 100;

|SI canti [ 0; |ACABA; |FINSI;

|SI #4#3 = "G";
    |SI tipo = "T"; coefi = 50; |HAZ carga2; |ACABA; |FINSI;
    |SI tipo = "C"; coefi = 50; |HAZ carga2; |ACABA; |FINSI;
|SINO;
    |SI tipo = #4#3; |HAZ carga2; |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE repatril;
#4#1;
;
empresa, "L1", 001;
empresa, "L1", 999;
e;
NULL, lee44;
|FIN;

|| *********************** De afectos a patrimonio m1 **********************

|PROCESO lee45;
coefi = 100;
alfa1 = #4#5;
canti = #4#9;
coefi = 100;

|SI canti [ 0; |ACABA; |FINSI;

|SI #4#3 = "G";
    |SI tipo = "T"; coefi = 50; |HAZ carga2; |ACABA; |FINSI;
    |SI tipo = "C"; coefi = 50; |HAZ carga2; |ACABA; |FINSI;
|SINO;
    |SI tipo = #4#3; |HAZ carga2; |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE repatrim;
#4#1;
;
empresa, "M1", 001;
empresa, "M1", 999;
e;
NULL, lee45;
|FIN;

|| *********************** De afectos a patrimonio n1 **********************

|PROCESO lee46;
coefi = 100;
alfa1 = #4#5;
canti = #4#9;
coefi = 100;

|SI canti [ 0; |ACABA; |FINSI;

|SI #4#3 = "G";
    |SI tipo = "T"; coefi = 50; |HAZ carga2; |ACABA; |FINSI;
    |SI tipo = "C"; coefi = 50; |HAZ carga2; |ACABA; |FINSI;
|SINO;
    |SI tipo = #4#3; |HAZ carga2; |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE repatrin;
#4#1;
;
empresa, "N1", 001;
empresa, "N1", 999;
e;
NULL, lee46;
|FIN;

|| *********************** De afectos a patrimonio o1 **********************

|PROCESO lee47;
coefi = 100;
alfa1 = #4#5;
canti = #4#9;
coefi = 100;

|SI canti [ 0; |ACABA; |FINSI;

|SI #4#3 = "G";
    |SI tipo = "T"; coefi = 50; |HAZ carga2; |ACABA; |FINSI;
    |SI tipo = "C"; coefi = 50; |HAZ carga2; |ACABA; |FINSI;
|SINO;
    |SI tipo = #4#3; |HAZ carga2; |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE repatrio;
#4#1;
;
empresa, "O1", 001;
empresa, "O1", 999;
e;
NULL, lee47;
|FIN;

|| *********************** De afectos a patrimonio u1 **********************

|PROCESO lee48;
coefi = 100;
alfa1 = #4#5;
canti = #4#9;
coefi = 100;

|SI canti [ 0; |ACABA; |FINSI;

|SI #4#3 = "G";
    |SI tipo = "T"; coefi = 50; |HAZ carga2; |ACABA; |FINSI;
    |SI tipo = "C"; coefi = 50; |HAZ carga2; |ACABA; |FINSI;
|SINO;
    |SI tipo = #4#3; |HAZ carga2; |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE repatriu;
#4#1;
;
empresa, "U1", 001;
empresa, "U1", 999;
e;
NULL, lee48;
|FIN;

|PROGRAMA;
vuelve  = 1;
Impresora = impresor;
|IMPRE -1;
|SI FSalida = 0;
   fichero = 1;
   hasta = 11;
   swrrr = 0;
   conta = 0; |BUCLE repatrii;

   fichero = 2;
   hasta = 8;
   swrrr = 0;
   conta = 0; |BUCLE repatrij;

   fichero = 3;
   hasta = 8;
   swrrr = 0;
   conta = 0; |BUCLE repatrik;

   fichero = 4;
   hasta = 8;
   swrrr = 0;
   conta = 0; |BUCLE repatril;

   fichero = 5;
   hasta = 8;
   swrrr = 0;
   conta = 0; |BUCLE repatrim;

   fichero = 6;
   hasta = 8;
   swrrr = 0;
   conta = 0; |BUCLE repatrin;

   fichero = 7;
   hasta = 9;
   swrrr = 0;
   conta = 0; |BUCLE repatrio;

   fichero = 8;
   hasta = 12;
   swrrr = 0;
   conta = 0; |BUCLE repatriu;

   |SI linea ! 0; |HAZ pie; |FINSI;

   |FINIMP;
   |CORRE "readjpat.run";
|FINSI;
|FPRO;
