|FICHEROS;
    reincpre #1;
    rejerant #2;
    reincreg #7;
    reincire #8;
    reincpen #9;
|FIN;

|VARIABLES;
   &empresa   = 0;
   &nombre    = "";
   &nombred   = "";
   &cif       = "";
   &tipliq    = "";
   &tipol     = "";
   &impresor  = "";
   &swporta   = 0;
   &linea     = 0;
   &hoja      = 0;
   &vuelve    = 1;
   &seleccion = "";
   &liquidaci = "";
   &chequeo   = 0;
   &campo     = 0;

   x          = 0;

   cabecera   = "";
   varalf     = "";
   alfa       = "";
   swcab      = 0;
   canti      = 0;
   a          = 0;
   b          = 0;
   c          = 0;
   var1       = "";
   var2       = "";
   impor      = 0;
|FIN;

|| **************************************************************************
||                           PROCESOS IMPRESION
|| **************************************************************************

|INCLUYE i_import;

|PROCESO cabecera;
cabecera = "************************************************************************";
|IMPRIME cabecera;
cabecera = "                        *  COMPROBACION RENTA *        ";
|IMPRIME cabecera;
cabecera = "************************************************************************";
|IMPRIME cabecera;
hoja     = hoja + 1;
importe  = hoja;
cabecera = "";                         |IMPRIME cabecera;
cabecera = "Hoja ......: " + importe;  |IMPRIME cabecera;
importe  = empresa;
cabecera = "Codigo ....: " + importe;  |IMPRIME cabecera;
cabecera = "Declarante : " + nombre;   |IMPRIME cabecera;
cabecera = "NIF : " + cif;             |IMPRIME cabecera;
cabecera = "";                         |IMPRIME cabecera;
swporta  = 1;
linea    = 9;
|FPRC;

|PROCESO imprime;
|SI swporta = 0; |HAZ cabecera; |FINSI;
|IMPRIME varalf;
linea = linea + 1; |HAZ linea;
|FPRC;

|PROCESO imprime1;
|SI swporta = 0; |HAZ cabecera; |FINSI;
|CIMPR 1; |IMPRIME varalf; |CIMPR 2;
linea = linea + 1; |HAZ linea;
|FPRC;

|PROCESO linea;
|SI linea < 58; |ACABA; |FINSI;

cabecera = "";  |IMPRIME cabecera;
cabecera = "                                                                     Sigue...";
|IMPRIME cabecera;
linea = linea + 2;
|PARA x = linea; |SI x [ 65; |HACIENDO x = x + 1;
      cabecera = ""; |IMPRIME cabecera;
|SIGUE;
|HAZ cabecera;
|FPRC;

|PROCESO pie;
|PARA x = linea; |SI x [ 65; |HACIENDO x = x + 1;
      cabecera = ""; |IMPRIME cabecera;
|SIGUE;
|FPRC;

|PROCESO regular;
varalf = "";                                                     |HAZ imprime;
varalf = "";                                                     |HAZ imprime;

|SI swcab = 0;
    swcab = 1;
    |CIMPR 5;
    varalf = "INCREMETOS Y DISMINUCIONES REGULARES";             |HAZ imprime;
    |CIMPR 6;
    varalf = "";                                                 |HAZ imprime;
|FINSI;

varalf = "----------------------------------------------------------------";
|HAZ imprime;

varalf = "Declaracion : " + #7#4;                                |HAZ imprime;
varalf = "Descripcion : " + #7#13;                               |HAZ imprime;
varalf = "Titular ....: " + #7#3;                                |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
varalf = "Imputacion de Rendimientos                         ";  |HAZ imprime;
a = #7#14; importe = a;                                          |HAZ importe;
varalf = "Valor de transmision ............................: " + importe;
                                                                 |HAZ imprime;
a = #7#15; importe = a;                                          |HAZ importe;
varalf = "Valor de la adquisicion o de la mejora ..........: " + importe;
                                                                 |HAZ imprime;
a = #7#16; importe = a;                                          |HAZ importe;
varalf = "Disminucion de patrimonio regular ...............: " + importe;
                                                                 |HAZ imprime;
a = #7#17; importe = a;                                          |HAZ importe;
varalf = "Disminucion regular imputable a 1994 ............: " + importe;
                                                                 |HAZ imprime;
a = #7#18; importe = a;                                          |HAZ importe;
varalf = "Incremento de patrimonio regular ................: " + importe;
                                                                 |HAZ imprime;
a = #7#19; importe = a;                                          |HAZ importe;
varalf = "Incremento exento por reinversion ...............: " + importe;
                                                                 |HAZ imprime;
a = #7#20; importe = a;                                          |HAZ importe;
varalf = "Incremento regular sometido a gravamen ..........: " + importe;
                                                                 |HAZ imprime;
a = #7#21; importe = a;                                          |HAZ importe;
varalf = "Incremento regular imputable a 1994 .......... ..: " + importe;
                                                                 |HAZ imprime;
varalf = "----------------------------------------------------------------";
|HAZ imprime;
|FPRC;

|DEFBUCLE reincreg;
#7#1;
;
empresa, 01;
empresa, 99;
e;
NULL, regular;
|FIN;


|| ********************** Incrementos y disminuciones irregulares ***********

|PROCESO irregular;
varalf = "";                                                     |HAZ imprime;
varalf = "";                                                     |HAZ imprime;

|SI swcab = 0;
    swcab = 1;
    |CIMPR 5;
    varalf = "INCREMETOS Y DISMINUCIONES IRREGULARES";           |HAZ imprime;
    |CIMPR 6;
    varalf = "";                                                 |HAZ imprime;
|FINSI;

varalf = "----------------------------------------------------------------";
|HAZ imprime;

varalf = "Declaracion : " + #8#4;                                |HAZ imprime;
varalf = "Descripcion : " + #8#13;                               |HAZ imprime;
varalf = "Titular ....: " + #8#3;                                |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
a = #8#14; importe = a;                                          |HAZ importe;
varalf = "Valor de transmision ............................: " + importe;
                                                                 |HAZ imprime;
a = #8#15; importe = a;                                          |HAZ importe;
varalf = "Valor de la adquisicion o de la mejora ..........: " + importe;
                                                                 |HAZ imprime;
|SI #8#18 ! 0; a = #8#18; |FINSI;
|SI #8#19 ! 0; a = #8#19; |FINSI;
importe = a;                                                     |HAZ importe;
varalf = "Numeros de a¤os permanencia .....................: " + importe;
                                                                 |HAZ imprime;
varalf = "Si la diferencia es negativa                       ";  |HAZ imprime;
a = #8#17; importe = a;                                          |HAZ importe;
varalf = "Disminucion de patrimonio regular ...............: " + importe;
                                                                 |HAZ imprime;
a = #8#21; importe = a;                                          |HAZ importe;
varalf = "Disminucion de patrimonio irregular reducida ....: " + importe;
                                                                 |HAZ imprime;
a = #8#25; importe = a;                                          |HAZ importe;
varalf = "Disminucion de patrimonio irregular imput.a 1994 : " + importe;
                                                                 |HAZ imprime;
varalf = "Si la diferencia es positiva                       ";  |HAZ imprime;
a = #8#16; importe = a;                                          |HAZ importe;
varalf = "Incremento de patrimonio irregular ..............: " + importe;
                                                                 |HAZ imprime;
a = #8#20; importe = a;                                          |HAZ importe;
varalf = "Incremento de patrimonio irregular reducido .....: " + importe;
                                                                 |HAZ imprime;
a = #8#22; importe = a;                                          |HAZ importe;
varalf = "Incremento exento por reinversion ...............: " + importe;
                                                                 |HAZ imprime;
a = #8#23; importe = a;                                          |HAZ importe;
varalf = "Incremento irregular sometido a gravamen ........: " + importe;
                                                                 |HAZ imprime;
a = #8#24; importe = a;                                          |HAZ importe;
varalf = "Incr.irregular sometido a gravamen imput. a 1994 : " + importe;
                                                                 |HAZ imprime;
varalf = "----------------------------------------------------------------";
|HAZ imprime;
|FPRC;

|DEFBUCLE reincire;
#8#1;
;
empresa, 01;
empresa, 99;
e;
NULL, irregular;
|FIN;

|PROCESO premios;

|SI swcab = 0;
    varalf = "";                                                |HAZ imprime1;
    varalf = "";                                                |HAZ imprime1;
    swcab = 1;
    |CIMPR 5;
    varalf = "PREMIOS, SORTEOS, JUEGOS, RIFAS";                  |HAZ imprime1;
    |CIMPR 6;
    varalf = "=" * 130;                                          |HAZ imprime1;
    varalf = "LI  P  D  T  Perceptor   D  Descripcion                        Valoracion      Retencion      I.Integro";
    |HAZ imprime1;
    varalf = "=" * 130;                                          |HAZ imprime1;
|FINSI;
varalf = #1#1; varalf = ("00" + varalf) % -102;
varalf = varalf + "  " + #1#16 + "  " + #1#9 + "  " + #1#2 + "  " + #1#3;
varalf = varalf + "  " + #1#4  + "  " + #1#5;
importe = #1#6;    |HAZ importe;
varalf = varalf + "  " + importe;
importe = #1#7;    |HAZ importe;
varalf = varalf + "  " + importe;
importe = #1#8;    |HAZ importe;
varalf = varalf + "  " + importe;
|HAZ imprime1;
varalf = ""; |HAZ imprime1;
|FPRC;

|DEFBUCLE reincpre;
#1#1;
;
empresa, 01;
empresa, 99;
e;
NULL, premios;
|FIN;

|PROCESO pendiente;
varalf = "";                                                     |HAZ imprime;
varalf = "";                                                     |HAZ imprime;

|SI swcab = 0;
    swcab = 1;
    |CIMPR 5;
    varalf = "INCREMETOS PENDIENTES POR OPERACIONES A PLAZOS";   |HAZ imprime;
    |CIMPR 6;
    varalf = "";                                                 |HAZ imprime;
|FINSI;

varalf = "----------------------------------------------------------------";
|HAZ imprime;

varalf = "Declaracion : " + #9#4;                                |HAZ imprime;
varalf = "Descripcion : " + #9#13;                               |HAZ imprime;
varalf = "Titular ....: " + #9#3;                                |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
a = #9#14; importe = a;                                  |HAZ importe;
varalf = "A¤o de Venta ....................................: " + importe;
                                                                 |HAZ imprime;
a = #9#15; importe = a;                                  |HAZ importe;
varalf = "Incremento Pendiente de Gravamen el 1 de Enero 93: " + importe;
                                                                 |HAZ imprime;
a = #9#16; importe = a;                                  |HAZ importe;
varalf = "Incremento Regular pendiente gravamen imput.al 94: " + importe;
                                                                 |HAZ imprime;
a = #9#17; importe = a;                                  |HAZ importe;
varalf = "Incremento Irregular pendiente de gravamen imp.94: " + importe;
                                                                 |HAZ imprime;
varalf = "----------------------------------------------------------------";
|HAZ imprime;

varalf = "Incremento o Disminucion ........................: " + #9#18;
                                                                 |HAZ imprime;
a = #9#19; importe = a;                                  |HAZ importe;
varalf = "Regular producidos en 1993 ......................: " + importe;
                                                                 |HAZ imprime;
a = #9#21; importe = a;                                  |HAZ importe;
varalf = "Parte Imputable a 1994 ..........................: " + importe;
                                                                 |HAZ imprime;
a = #9#20; importe = a;                                  |HAZ importe;
varalf = "Irregular producidos en 1993 ....................: " + importe;
                                                                 |HAZ imprime;
a = #9#22; importe = a;                                  |HAZ importe;
varalf = "Parte Imputable a 1994 ..........................: " + importe;

varalf = "----------------------------------------------------------------";
|HAZ imprime;
|FPRC;

|DEFBUCLE reincpen;
#9#1;
;
empresa, 01;
empresa, 99;
e;
NULL, pendiente;
|FIN;

|PROCESO anterior;
|SI swcab = 0;
    varalf = "";                                                 |HAZ imprime1;
    varalf = "";                                                 |HAZ imprime1;
    swcab = 1;
    |CIMPR 5;
    varalf = "RENDIMIENTOS NETOS DE EJERCICIOS ANTERIORES";      |HAZ imprime1;
    |CIMPR 6;
    varalf = "=" * 130;                                          |HAZ imprime1;
    varalf = "LI  P  T  Perceptor   TIP  Descripcion                     A¤os        Importe";
    |HAZ imprime1;
    varalf = "=" * 130;                                          |HAZ imprime1;
|FINSI;
varalf  = #2#1; varalf = ("00" + varalf) % -102;
varalf  = varalf + "  " + #2#8 + "  " + #2#2 + "  " + #2#3 + "  " + #2#4;
varalf  = varalf + "  " + #2#5;
alfa    = #2#6;
alfa    = ("  " + alfa) % -102;
varalf  = varalf + "              " + alfa;

importe = #2#7;    |HAZ importe;
varalf  = varalf + "  " + importe;
|HAZ imprime1;
varalf = ""; |HAZ imprime1;
|FPRC;

|DEFBUCLE rejerant;
#2#1;
;
empresa, 01;
empresa, 99;
e;
NULL, anterior;
|FIN;

|PROGRAMA;
vuelve  = 1;
Impresora = impresor;
|IMPRE -1;
|SI FSalida = 0;
   swcab = 0; |BUCLE reincreg;
   swcab = 0; |BUCLE reincire;
   swcab = 0; |BUCLE reincpre;
   swcab = 0; |BUCLE reincpen;
   swcab = 0; |BUCLE rejerant;

   |FINIMP;
   |CORRE "recompr6.run";
|FINSI;
|FPRO;
