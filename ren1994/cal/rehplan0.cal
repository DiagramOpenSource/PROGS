|FICHEROS;
    reeplan2 #02;

    rededu01 #19;   || deducciones ptes.
    rededu02 #20;   || por ejercicio 1992
    rededu03 #21;   || inversiones en Canarias
    rededu04 #22;   || Olimpiadas, Expo, etc.
    rededu05 #23;   || creacion de empleo
    rededu06 #24;   || interes cultural
    rededu07 #25;   || enfermedad, etc.
    rededu08 #26;   || impuesto municipal
    rededu09 #27;   || rendimientos Ceuta y Melilla
    rededu10 #28;   || cuenta vivienda
    rejerant #29;
|FIN;

|VARIABLES;
    alfa1 = "";
    alfa2 = "";
    alfa3 = "";
    alfa4 = "";
    nume1 = 0;
    nume2 = 0;
    nume3 = 0;
    nume4 = 0;
    fech1 = @;
    fech2 = @;
    fech3 = @;
    fech4 = @;
    dia = 0;
    mes = 0;
    cuantas = 0;
    prov_fisca = "";
    prov_envio = "";
    total = 0;
    &sihaymas = 0;
    &contribu = 0;
    &devuelta = 0;
    &has_cont = 0;
|FIN;

****************************************************************************
          DEDUCCIONES DE LA CUOTA
****************************************************************************

||*********************** cuentas vivienda

|PROCESO dedu101;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #2nume1 = "10";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #2nume1 = #28#2;       || perceptor
        nume1 = cuantas +  5;   #2nume1 = #28#8;       || declaracion
        nume1 = cuantas +  8;   #2nume1 = "";          || titularidad
        nume1 = cuantas + 11;   #2nume1 = 0;           || a¤os usuf.
        nume1 = cuantas + 14;   #2nume1 = #28#9;       || <T>
        nume1 = cuantas + 17;   #2nume1 = #28#10;      || <C>
        nume1 = cuantas + 20;   #2nume1 = #28#11;      || <1>
        nume1 = cuantas + 23;   #2nume1 = #28#12;      || <2>
        nume1 = cuantas + 26;   #2nume1 = #28#13;      || <3>
        nume1 = cuantas + 29;   #2nume1 = #28#14;      || <4>
        nume1 = cuantas + 32;   #2nume1 = #28#5;       || descripcion
        nume1 = cuantas + 35;   #2nume1 = 92;          || a¤o
        nume1 = cuantas + 38;   #2nume1 = 0;           || gastos inversion
        nume1 = cuantas + 41;   #2nume1 = #28#6;       || cuenta vivienda
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_dedu10;
 #28#1;
 ;
 contribu,  1;
 contribu, 99;
 e;
 NULL, dedu101;
|FIN;

||*********************** Ceuta y Melilla

|PROCESO dedu091;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #2nume1 = "09";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #2nume1 = #27#2;       || perceptor
        nume1 = cuantas +  5;   #2nume1 = #27#7;       || declaracion
        nume1 = cuantas +  8;   #2nume1 = "";          || titularidad
        nume1 = cuantas + 11;   #2nume1 = 0;           || a¤os usuf.
        nume1 = cuantas + 14;   #2nume1 = #27#8;       || <T>
        nume1 = cuantas + 17;   #2nume1 = #27#9;       || <C>
        nume1 = cuantas + 20;   #2nume1 = #27#10;      || <1>
        nume1 = cuantas + 23;   #2nume1 = #27#11;      || <2>
        nume1 = cuantas + 26;   #2nume1 = #27#12;      || <3>
        nume1 = cuantas + 29;   #2nume1 = #27#13;      || <4>
        nume1 = cuantas + 32;   #2nume1 = #27#5;       || descripcion
        nume1 = cuantas + 35;   #2nume1 = 92;          || a¤o
        nume1 = cuantas + 38;   #2nume1 = #27#6;       || gastos inversion
        nume1 = cuantas + 41;   #2nume1 = 0;           || cuenta vivienda
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_dedu09;
 #27#1;
 ;
 contribu,  1;
 contribu, 99;
 e;
 NULL, dedu091;
|FIN;

||*********************** impuesto municipal

|PROCESO dedu081;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #2nume1 = "08";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #2nume1 = #26#2;       || perceptor
        nume1 = cuantas +  5;   #2nume1 = #26#8;       || declaracion
        nume1 = cuantas +  8;   #2nume1 = "";          || titularidad
        nume1 = cuantas + 11;   #2nume1 = 0;           || a¤os usuf.
        nume1 = cuantas + 14;   #2nume1 = #26#9;       || <T>
        nume1 = cuantas + 17;   #2nume1 = #26#10;      || <C>
        nume1 = cuantas + 20;   #2nume1 = #26#11;      || <1>
        nume1 = cuantas + 23;   #2nume1 = #26#12;      || <2>
        nume1 = cuantas + 26;   #2nume1 = #26#13;      || <3>
        nume1 = cuantas + 29;   #2nume1 = #26#14;      || <4>
        nume1 = cuantas + 32;   #2nume1 = #26#4;       || descripcion
        nume1 = cuantas + 35;   #2nume1 = 92;          || a¤o
        nume1 = cuantas + 38;   #2nume1 = #26#6;       || gastos inversion
        nume1 = cuantas + 41;   #2nume1 = 0;           || cuenta vivienda
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_dedu08;
 #26#1;
 ;
 contribu,  1;
 contribu, 99;
 e;
 NULL, dedu081;
|FIN;

||*********************** gastos enfermedad y otros

|PROCESO dedu071;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #2nume1 = "07";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #2nume1 = #25#2;       || perceptor
        nume1 = cuantas +  5;   #2nume1 = #25#9;       || declaracion
        nume1 = cuantas +  8;   #2nume1 = "";          || titularidad
        nume1 = cuantas + 11;   #2nume1 = 0;           || a¤os usuf.
        nume1 = cuantas + 14;   #2nume1 = #25#10;      || <T>
        nume1 = cuantas + 17;   #2nume1 = #25#11;      || <C>
        nume1 = cuantas + 20;   #2nume1 = #25#12;      || <1>
        nume1 = cuantas + 23;   #2nume1 = #25#13;      || <2>
        nume1 = cuantas + 26;   #2nume1 = #25#14;      || <3>
        nume1 = cuantas + 29;   #2nume1 = #25#15;      || <4>
        nume1 = cuantas + 32;   #2nume1 = #25#5;       || descripcion
        nume1 = cuantas + 35;   #2nume1 = 92;          || a¤o
        nume1 = cuantas + 38;   #2nume1 = #25#7;       || gastos inversion
        nume1 = cuantas + 41;   #2nume1 = 0;           || cuenta vivienda
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_dedu07;
 #25#1;
 ;
 contribu,  1;
 contribu, 99;
 e;
 NULL, dedu071;
|FIN;

||*********************** por donaciones

|PROCESO dedu061;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #2nume1 = "06";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #2nume1 = #24#2;       || perceptor
        nume1 = cuantas +  5;   #2nume1 = #24#8;       || declaracion
        nume1 = cuantas +  8;   #2nume1 = "";          || titularidad
        nume1 = cuantas + 11;   #2nume1 = 0;           || a¤os usuf.
        nume1 = cuantas + 14;   #2nume1 = #24#9;       || <T>
        nume1 = cuantas + 17;   #2nume1 = #24#10;      || <C>
        nume1 = cuantas + 20;   #2nume1 = #24#11;      || <1>
        nume1 = cuantas + 23;   #2nume1 = #24#12;      || <2>
        nume1 = cuantas + 26;   #2nume1 = #24#13;      || <3>
        nume1 = cuantas + 29;   #2nume1 = #24#14;      || <4>
        nume1 = cuantas + 32;   #2nume1 = #24#4;       || descripcion
        nume1 = cuantas + 35;   #2nume1 = 92;          || a¤o
        nume1 = cuantas + 38;   #2nume1 = #24#6;       || gastos inversion
        nume1 = cuantas + 41;   #2nume1 = 0;           || cuenta vivienda
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_dedu06;
 #24#1;
 ;
 contribu,  1;
 contribu, 99;
 e;
 NULL, dedu061;
|FIN;

||*********************** por creacion de empleo

|PROCESO dedu051;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #2nume1 = "05";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #2nume1 = #23#2;       || perceptor
        nume1 = cuantas +  5;   #2nume1 = #23#9;       || declaracion
        nume1 = cuantas +  8;   #2nume1 = "";          || titularidad
        nume1 = cuantas + 11;   #2nume1 = 0;           || a¤os usuf.
        nume1 = cuantas + 14;   #2nume1 = #23#10;      || <T>
        nume1 = cuantas + 17;   #2nume1 = #23#11;      || <C>
        nume1 = cuantas + 20;   #2nume1 = #23#12;      || <1>
        nume1 = cuantas + 23;   #2nume1 = #23#13;      || <2>
        nume1 = cuantas + 26;   #2nume1 = #23#14;      || <3>
        nume1 = cuantas + 29;   #2nume1 = #23#15;      || <4>
        nume1 = cuantas + 32;   #2nume1 = #23#5;       || descripcion
        nume1 = cuantas + 35;   #2nume1 = #23#4;       || a¤o
        nume1 = cuantas + 38;   #2nume1 = #23#7;       || gastos inversion
        nume1 = cuantas + 41;   #2nume1 = 0;           || cuenta vivienda
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_dedu05;
 #23#1;
 ;
 contribu,  1;
 contribu, 99;
 e;
 NULL, dedu051;
|FIN;

||*********************** por Olimpiadas, Expo, etc.

|PROCESO dedu041;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #2nume1 = "04";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #2nume1 = #22#2;       || perceptor
        nume1 = cuantas +  5;   #2nume1 = #22#12;      || declaracion
        nume1 = cuantas +  8;   #2nume1 = "";          || titularidad
        nume1 = cuantas + 11;   #2nume1 = 0;           || a¤os usuf.
        nume1 = cuantas + 14;   #2nume1 = #22#13;      || <T>
        nume1 = cuantas + 17;   #2nume1 = #22#14;      || <C>
        nume1 = cuantas + 20;   #2nume1 = #22#15;      || <1>
        nume1 = cuantas + 23;   #2nume1 = #22#16;      || <2>
        nume1 = cuantas + 26;   #2nume1 = #22#17;      || <3>
        nume1 = cuantas + 29;   #2nume1 = #22#18;      || <4>
        nume1 = cuantas + 32;   #2nume1 = #22#7;       || descripcion
        nume1 = cuantas + 35;   #2nume1 = #22#5;       || a¤o
        nume1 = cuantas + 38;   #2nume1 = #22#10;      || gastos inversion
        nume1 = cuantas + 41;   #2nume1 = 0;           || cuenta vivienda
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_dedu04;
 #22#1;
 ;
 contribu,  1;
 contribu, 99;
 e;
 NULL, dedu041;
|FIN;

||*********************** por inversiones en Canarias

|PROCESO dedu031;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #2nume1 = "03";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #2nume1 = #21#2;       || perceptor
        nume1 = cuantas +  5;   #2nume1 = #21#11;      || declaracion
        nume1 = cuantas +  8;   #2nume1 = "";          || titularidad
        nume1 = cuantas + 11;   #2nume1 = 0;           || a¤os usuf.
        nume1 = cuantas + 14;   #2nume1 = #21#12;      || <T>
        nume1 = cuantas + 17;   #2nume1 = #21#13;      || <C>
        nume1 = cuantas + 20;   #2nume1 = #21#14;      || <1>
        nume1 = cuantas + 23;   #2nume1 = #21#15;      || <2>
        nume1 = cuantas + 26;   #2nume1 = #21#16;      || <3>
        nume1 = cuantas + 29;   #2nume1 = #21#17;      || <4>
        nume1 = cuantas + 32;   #2nume1 = #21#6;       || descripcion
        nume1 = cuantas + 35;   #2nume1 = 92;          || a¤o
        nume1 = cuantas + 38;   #2nume1 = #21#9;       || gastos inversion
        nume1 = cuantas + 41;   #2nume1 = 0;           || cuenta vivienda
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_dedu03;
 #21#1;
 ;
 contribu,  1;
 contribu, 99;
 e;
 NULL, dedu031;
|FIN;

||*********************** por ejercicio 1992

|PROCESO dedu021;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #2nume1 = "02";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #2nume1 = #20#2;       || perceptor
        nume1 = cuantas +  5;   #2nume1 = #20#11;      || declaracion
        nume1 = cuantas +  8;   #2nume1 = "";          || titularidad
        nume1 = cuantas + 11;   #2nume1 = 0;           || a¤os usuf.
        nume1 = cuantas + 14;   #2nume1 = #20#12;      || <T>
        nume1 = cuantas + 17;   #2nume1 = #20#13;      || <C>
        nume1 = cuantas + 20;   #2nume1 = #20#14;      || <1>
        nume1 = cuantas + 23;   #2nume1 = #20#15;      || <2>
        nume1 = cuantas + 26;   #2nume1 = #20#16;      || <3>
        nume1 = cuantas + 29;   #2nume1 = #20#17;      || <4>
        nume1 = cuantas + 32;   #2nume1 = #20#6;       || descripcion
        nume1 = cuantas + 35;   #2nume1 = 92;          || a¤o
        nume1 = cuantas + 38;   #2nume1 = #20#9;       || gastos inversion
        nume1 = cuantas + 41;   #2nume1 = 0;           || cuenta vivienda
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_dedu02;
 #20#1;
 ;
 contribu,  1;
 contribu, 99;
 e;
 NULL, dedu021;
|FIN;

||***********************pendientes ejercicios anteriores

|PROCESO dedu010;
    sihaymas = 0;
    cuantas = 0;
|FPRC;

|PROCESO dedu011;
    cuantas = cuantas + 1;
|SI cuantas [ 3;
        nume1 = cuantas -  1;   #2nume1 = "01";        || 'cla' ¨...?
        nume1 = cuantas +  2;   #2nume1 = #19#2;       || perceptor
        nume1 = cuantas +  5;   #2nume1 = #19#11;      || declaracion
        nume1 = cuantas +  8;   #2nume1 = "";          || titularidad
        nume1 = cuantas + 11;   #2nume1 = 0;           || a¤os usuf.
        nume1 = cuantas + 14;   #2nume1 = #19#12;      || <T>
        nume1 = cuantas + 17;   #2nume1 = #19#13;      || <C>
        nume1 = cuantas + 20;   #2nume1 = #19#14;      || <1>
        nume1 = cuantas + 23;   #2nume1 = #19#15;      || <2>
        nume1 = cuantas + 26;   #2nume1 = #19#16;      || <3>
        nume1 = cuantas + 29;   #2nume1 = #19#17;      || <4>
        nume1 = cuantas + 32;   #2nume1 = #19#6;       || descripcion
        nume1 = cuantas + 35;   #2nume1 = #19#4;       || a¤o
        nume1 = cuantas + 38;   #2nume1 = #19#9;       || gastos inversion
        nume1 = cuantas + 41;   #2nume1 = 0;           || cuenta vivienda
|SINO;
        sihaymas = 1;
|FINSI;
|FPRC;

|DEFBUCLE lee_dedu01;
 #19#1;
 ;
 contribu,  1;
 contribu, 99;
 e;
 dedu010, dedu011;
|FIN;

|PROCESO carga_3;        || deducciones
|BUCLE lee_dedu01;
|SI sihaymas = 0;   |BUCLE lee_dedu02;  |FINSI;
|SI sihaymas = 0;   |BUCLE lee_dedu03;  |FINSI;
|SI sihaymas = 0;   |BUCLE lee_dedu04;  |FINSI;
|SI sihaymas = 0;   |BUCLE lee_dedu05;  |FINSI;
|SI sihaymas = 0;   |BUCLE lee_dedu06;  |FINSI;
|SI sihaymas = 0;   |BUCLE lee_dedu07;  |FINSI;
|SI sihaymas = 0;   |BUCLE lee_dedu08;  |FINSI;
|SI sihaymas = 0;   |BUCLE lee_dedu09;  |FINSI;
|SI sihaymas = 0;   |BUCLE lee_dedu10;  |FINSI;
|FPRC;

|PROCESO graba_3;
|DELINDEX #2;
|ABRE #2;
|GRABA 020#2n;
|CIERRA #2;
|FPRC;

|PROCESO recoge;
|ABRE #2;
|LEE 001#2p;
|SI FSalida ! 0;  |DDEFECTO #2;  |FINSI;
|CIERRA #2;
|FPRC;

****************************************************************************
    PROCESOS DE LECTURA
****************************************************************************

|PROGRAMA;
|HAZ recoge;
|HAZ carga_3;                 || incrementos patrimoniales
|HAZ graba_3;
|CORRE "rehplan0.run";
|FPRO;
