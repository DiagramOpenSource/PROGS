|FICHEROS;
   repant01 #0;
   redatcon #1;
|FIN;

|VARIABLES;
   num_fa      = 0;
   tecla       = "";
   avance      = "815";
   atras       = "814";
   &errorlin   = 0;
   &empresa    = 0;
   &modelito   = 0;
   &indivi     = "";
   &tipo       = "";
   &perceptor  = "";
   &entidad    = "";
   &numerica1  = 0;
   &numerica2  = 0;
   &numerica3  = 0;
   &numerica4  = 0;
   &numerica5  = 0;
   &numerica6  = 0;
   &numerica7  = 0;
   &numerica8  = 0;
   &numerica9  = 0;
   &numerica10 = 0;
   &numerica11 = 0;
   &numerica12 = 0;
   &numerica13 = 0;
   &numerica14 = 0;
   &numerica15 = 0;
   &numerica16 = 0;
   &numerica17 = 0;
   &numerica18 = 0;
   &numerica19 = 0;
   &numerica20 = 0;
   &numerica21 = 0;
   &numerica22 = 0;
   &alfanume1  = "";
   &alfanume2  = "";
   familiar    = 0;
   coef        = 0;
|FIN;

|PROGRAMA;
errorlin = 0;
|PINPA #0#0;
|HAZ cargavar;
|SI modelito ! 4;
   |PINDA #0#0;
   |SI modelito = 1; |ENDATOS #1#0; |FINSI;
   |SI modelito = 2; |ENDATOS #2#0;  |FINSI;
   |SI FSalida = 0;
       |HAZ descarga;
       errorlin = 1;
   |FINSI;
|SINO;
   errorlin = 1; |HAZ pantalla;
|FINSI;
|FPRO;

|PROCESO tipo; |TIPO 0;
|SI #0#0 ! "T"; |Y indivi = "S";
    |MENAV "       La renta es individual";
    |ERROR;
    |ACABA;
|FINSI;

#0#1 = "FAMILIARES";
|SI #0#0 = "T"; #0#1 = "TITULAR"; |FINSI;
|SI #0#0 = "C"; #0#1 = "CONYUGE"; |FINSI;
|PINTA #0#1;
|FPRC;

|PROCESO cargavar;
#0#0  = tipo;
#0#1  = perceptor;
#0#2  = entidad;
#0#3  = numerica2;
#0#4  = numerica3;
#0#5  = numerica4;
#0#6  = numerica5;
#0#8  = numerica6;
#0#9  = numerica7;
#0#10 = numerica8;
#0#12 = numerica9;
#0#13 = numerica10;
#0#14 = numerica11;
#0#15 = numerica12;
#0#16 = numerica13;
#0#17 = numerica14;
#0#18 = numerica15;
#0#19 = numerica16;
#0#20 = numerica17;
#0#21 = numerica18;
#0#22 = numerica19;
#0#23 = numerica20;
#0#24 = numerica21;
#0#25 = numerica22;
#0#7  = alfanume1;
#0#11 = alfanume2;
|FPRC;

|PROCESO descarga;
tipo       = #0#0;
perceptor  = #0#1;
entidad    = #0#2;
numerica2  = #0#3;
numerica3  = #0#4;
numerica4  = #0#5;
numerica5  = #0#6;
numerica6  = #0#8;
numerica7  = #0#9;
numerica8  = #0#10;
numerica9  = #0#12;
numerica10 = #0#13;
numerica11 = #0#14;
numerica12 = #0#15;
numerica13 = #0#16;
numerica14 = #0#17;
numerica15 = #0#18;
numerica16 = #0#19;
numerica17 = #0#20;
numerica18 = #0#21;
numerica19 = #0#22;
numerica20 = #0#23;
numerica21 = #0#24;
numerica22 = #0#25;
alfanume1  = #0#7;
alfanume2  = #0#11;
|FPRC;

|PROCESO familiar;
coef = 0;
|ABRE #1;
#1#0 = empresa;
|LEE 040#1=;
|SI FSalida ! 0; |DDEFECTO #1; |FINSI;

|SI #0#0 = "1"; |O #0#0 = "2"; |O #0#0 = "3"; |O #0#0 = "4"; || FAMILIAR
    num_fa = #0#0;
    familiar = 87 + num_fa;
    |SI #1familiar = "S"; coef = 15; |SINO; coef = 5; |FINSI;
|FINSI;

|SI #0#0 = "T";                     || TITULAR
    |SI #1#5 = "S"; coef = 15; |SINO; coef = 5; |FINSI;
|FINSI;

|SI #0#0 = "C";                     || CONYUGE
    |SI #1#31 = "S"; coef = 15; |SINO; coef = 5; |FINSI;
|FINSI;

|CIERRA #1;
|FPRC;

|PROCESO gastos;
#0#17 = (#0#4 + #0#12 + #0#13) % coef;
|SI coef = 5;  |Y #0#17 > 250000; #0#17 = 250000; |FINSI;
|SI coef = 15; |Y #0#17 > 600000; #0#17 = 600000; |FINSI;
|PINTA #0#17;
|FPRC;

|| PROCESO retencion;    ||ANULADO PARA QUE NO CALCULE AUTOMATICAMENTE;
|| #0#6 = #0#4 % #0#5;
|| |PINTA #0#6;
|| FPRC;

|PROCESO irregular;
#0#23 = #0#19 - #0#21;
#0#24 = #0#23 / #0#22;
|PINTA #0#23;
|PINTA #0#24;
|FPRC;

|PROCESO pantalla;
avance = &255 + avance;
atras = &255 + atras;
|HAZ pantalla1;
|FPRC;

|PROCESO pantalla1;
|PINPA #0#0;
|PINDA #0#0;
|MENSA "0411  Av.Pag.= Siguiente Pantalla  Re.Pag. = Pantalla Anterior";
|LEETECLA tecla;
|SI tecla = avance; |HAZ pantalla2; |ACABA; |FINSI;
|FPRC;

|PROCESO pantalla2;
|PINPA #1#0;
|PINDA #1#0;
|MENSA "0411  Av.Pag.= Siguiente Pantalla  Re.Pag. = Pantalla Anterior";
|LEETECLA tecla;
|SI tecla = atras; |HAZ pantalla1; |ACABA; |FINSI;
|FPRC;
