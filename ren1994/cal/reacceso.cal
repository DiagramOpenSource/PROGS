|FICHEROS;
   reacceso #0;
   reparame #1;
   redatcon #2;

   agicontr #4;
   agifigen #5;
   reprogra #6;
   repartid #7;

   agiconpa #99;
   agicontr #98;
|FIN;

|VARIABLES;
   rafa     = 0;
   sw1      = 0;
   sw2      = 0;
   x1       = 0;
   x2       = 0;
   sw       = 0;
   panta    = 0;
   FEstado  = 0;

   &codigo   = "";
   &empresa  = 0;
   &nombre   = "";
   &nif      = "";
   &opcion   = 0;
   &opcion1  = 0;
   &opcion2  = 0;
   &modo     = 0;
   &indivi   = "";
   &acceso   = 0;
   &empre_e  = 0;
   &activ_e  = 0;
   &tipo_e   = "";
   &empre_r  = 0;
   &nombre_r = "";

   agicli    = "";
   swliqui   = 0;
   fondo     = "°";
   x         = 0;
   posici    = 0;
   horizo    = "";
   agi       = "";
   agi1      = "";
   agi2      = "";
   aste      = "";
   como      = 0;
   longi     = "";
   num       = 0;

{-1} menu   = "";
   menu1    = "1013";
   menu2    = "1";
   menu3    = "10";
   menu4    = "Datos del Contribuyente";
   menu5    = "Rendimiento del Trabajo ";
   menu6    = "Capital Inmobiliario no afecto Actividades";
   menu7    = "Capital Mobiliario";
   menu8    = "Actividades Profesionales, Empresariales y Agr¡colas   ";
   menu9    = "Pensiones compensatoria y anualidades por alimentos";
   menu10   = "Incr./Dis.Patrimonio y Rndtos.Netos Ejer. Anteriores";
   menu11   = "Deducciones de la Cuota / Incentivo Fiscales         ";
   menu12   = "Afectos a Patrimonio";
   menu13   = "Liquidaci¢n";

{-1} capital   = "";
   capital1    = "1632";
   capital2    = "1";
   capital3    = "4";
   capital4    = "Acciones Bolsa";
   capital5    = "Acciones no Bolsa y Fondos Inversiones";
   capital6    = "Cuentas Corrientes y otros";
   capital7    = "Transparencia Fiscal";

{-1} modulo   = "";
   modulo1    = "1331";
   modulo2    = "1";
   modulo3    = "7";
   modulo4    = "Profesionales Estimacion Directa";
   modulo5    = "Profesionales por Coeficientes";
   modulo6    = "Empresariales Estimacion Directa";
   modulo7    = "Empresariales por Coeficientes";
   modulo8    = "Empresariales por Modulos";
   modulo9    = "Activos Afectos a la Actividad";
   modulo10   = "Rendimientos Irregulares Actividades";

{-1}deducci    = "";
   deducci1    = "1124";
   deducci2    = "1";
   deducci3    = "10";
   deducci4    = "Por pendientes ejercicios anteriores";
   deducci5    = "Por ejercicio 1994 / Incentivos Fiscales";
   deducci6    = "Por inversiones en Canarias 1994";
   deducci7    = "Por Olimpiadas, Expo y Madrid Cultural";
   deducci8    = "Por creacion de empleo";
   deducci9    = "Inver.interes Cultural, Donac.actos 94 y otros";
   deducci10   = "Por enfermedad, alquiler, seguros y custodia";
   deducci11   = "Por Impuesto Municipal s/valor terreno";
   deducci12   = "Por rdtos.Ceuta y M.- Doble imposicion intern.";
   deducci13   = "Incr.o deducc.en aportaciones Cta.Vivienda";

{-1}patrimo    = "";
   patrimo1    = "1128";
   patrimo2    = "1";
   patrimo3    = "10";
   patrimo4    = "Naturaleza Urbana";
   patrimo5    = "Naturaleza Rustica";
   patrimo6    = "Actividades empresariales o profesionales";
   patrimo7    = "Depositos Cuentas Corrientes";
   patrimo8    = "Cesion a terceros de capitales propios";
   patrimo9    = "Fondos propios de cualquier tipo de entidad";
   patrimo10   = "Seguros de vida";
   patrimo11   = "Rentas temporales o vitalicias";
   patrimo12   = "Otros bienes y derechos";
   patrimo13   = "Deudas y deducciones sobre la cuota";

{-1}menuicr    = "";
   menuicr1    = "1623";
   menuicr2    = "1";
   menuicr3    = "5";
   menuicr4    = "Incrementos y Disminuciones Regulares";
   menuicr5    = "Incrementos y Disminuciones Irregulares";
   menuicr6    = "Premios, Sorteos, Juegos, Rifas.";
   menuicr7    = "Incrementos Pendientes por operaciones a Plazos";
   menuicr8    = "Rendimientos Netos Ejercicios Anteriores";

{-1}menuletc   = "";
   menuletc1   = "2400";
   menuletc2   = "1";
   menuletc3   = "Elija opcion : ";
   menuletc4   = "INE";
   menuletc5   = " Excepto Inmuebles ";
   menuletc6   = " Inmueb. No Exentos ";
   menuletc7   = " Inmueb. Exentos ";

{-1}menulete    = "";
   menulete1    = "2400";
   menulete2    = "1";
   menulete3    = "Elija opcion : ";
   menulete4    = "EN";
   menulete5    = "  En Bolsa  ";
   menulete6    = "  No Bolsa  ";

{-1}menuletf    = "";
   menuletf1    = "2400";
   menuletf2    = "1";
   menuletf3    = "Elija opcion : ";
   menuletf4    = "12345";
   menuletf5    = " Punto F1 ";
   menuletf6    = " Punto F2 ";
   menuletf7    = " Punto F3 ";
   menuletf8    = " Punto F4 ";
   menuletf9    = " Punto F5 ";

{-1}menuotro    = "";
   menuotro1   = "1439";
   menuotro2    = "1";
   menuotro3    = "7";
   menuotro4    = "Joyas, pieles, vehiculos, etc.";
   menuotro5    = "Objetos de arte y antiguedades";
   menuotro6    = "Derechos reales de uso y disfrute";
   menuotro7    = "Concesiones administrativas";
   menuotro8    = "Propiedad Intelectual e Industrial";
   menuotro9    = "Opciones contractuales";
   menuotro10   = "Contenido economico";

{-1}mendeuda    = "";
   mendeuda1    = "1640";
   mendeuda2    = "1";
   mendeuda3    = "5";
   mendeuda4    = "Deudas";
   mendeuda5    = "Valor Patrim.no Productivo    ";
   mendeuda6    = "Importes en el extranjero";
   mendeuda7    = "Bienes y derechos Ceuta y Melilla";
   mendeuda8    = "Datos Renta";
   h = 0;
|FIN;

|INCLUYE i_letran;
|INCLUYE i_cambio;

|PROCESO nocalcu; |TIPO 0;
modo = (FEntrada / 100) ! 0;
|SI modo = 1;
    |HAZ altacli;
|FINSI;
|FPRC;

|PROCESO contador; |TIPO 7;
modo = (FEntrada / 100) ! 0;
|SI modo = 1;
   |ABRE #1;
   |LEE 101#1p;
   |SI FSalida ! 0; |DDEFECTO #1; #1#9 = 1; |GRABA 020#1b; |FINSI;
   |LIBERA #1;
   |CIERRA #1;
   |SI #1#8 = "A"; #0#0 = #1#9; |PINTA #0#0; |FINSI;
|FINSI;
|FPRC;

|PROCESO acceso;|TIPO 30;
modo = (FEntrada / 100) ! 0;
|SI modo = 2; |HAZ modicli; |FINSI;
|SI modo = 1; |O modo = 2; |HAZ pantalla; |FINSI;
|SI modo = 1;
   |ABRE #1;
   |LEE 101#1p;
   |SI #1#8 = "A"; #1#9 = #0#0 + 1; |GRABA 020#1a; |FINSI;
   |LIBERA #1;
   |CIERRA #1;
|FINSI;
acceso = 1;
|SI swliqui = 1; |CORRE "reliquic.run"; |FINSI;
|FPRC;

|PROCESO consulta; |TIPO 13;
modo = FEntrada / 100;
modo = modo ! 0;
|SI modo = 4;
    |PINTA #0#0;
    |PINTA #0#1;
    |PINTA #0#2;
    |HAZ pantalla;
|FINSI;
|FPRC;

|PROCESO pantalla;
|SI modo = 2;
    |HAZ noprepa;
    |SI como = 0;
        |ERROR;
        |ACABA;
    |FINSI;
|FINSI;
opcion = 1;
sw = 0;
empresa = #0#0;
nombre  = #0#1;
nif     = #0#2;
|PARA; |SI sw = 0; |HACIENDO;
   |PARA x = 9; |SI x [ 21; |HACIENDO x = x + 1;
       posici = (x * 100) + 75;
       |PINTA posici,fondo;
   |SIGUE;
   horizo = "";
   |PARA x = 6; |SI x [ 75; |HACIENDO x = x + 1;
       horizo = horizo + fondo;
   |SIGUE;
   |PINTA 2206,horizo;
   menu2  = opcion;
   |HAZ arterisco;
   |MENUG menu;
   opcion = FSalida;
   |SI opcion ] 1; |Y opcion [ 10;
       swliqui = 0;
       |HAZ arterisco;
       |SI opcion = 1;  |SUB_EJECUTA "redatcon.run"; |FINSI;
       |SI opcion = 2;  |SUB_EJECUTA "rerendtr.run"; |FINSI;
       |SI opcion = 3;  |SUB_EJECUTA "recapinm.run"; |FINSI;
       |SI opcion = 4;  |HAZ menucap; |FINSI;
       |SI opcion = 5;  |HAZ menumod; |FINSI;
       |SI opcion = 6;  |SUB_EJECUTA "reanuali.run"; |FINSI;
       |SI opcion = 7;  |HAZ menuicr; |FINSI;
       |SI opcion = 8;  |HAZ menuded; |FINSI;
       |SI opcion = 9;  |HAZ menupat; |FINSI;
       |SI opcion = 10;
           |SI modo = 4;
               |SUB_EJECUTA "reliquid.run";
           |SINO;
               |ABRE #7;
               #7#0 = empresa;
               |LEE 040#7=;
               |SI FSalida ! 0;
                   |CIERRA #7;
                   swliqui = 1;
                   opcion  = 11;
                   sw      = 1;
               |SINO;
                   |MENAV "     Se calcula por el punto de Rentas partidas";
                   |CIERRA #7;
                   swliqui = 0;
               |FINSI;
           |FINSI;
       |FINSI;
   |SINO;
       sw = 1;
   |FINSI;
|SIGUE;
|SI swliqui = 1;
    |PTEC 806;
    |PTEC 806;
|SINO;
    |PINPA #0#0;
|FINSI;
|FPRC;

|PROCESO menucap;            || Menu Capital Inmoviliario
|PUSHV 0501 2380;
sw1 = 0;
|PARA; |SI sw1 = 0; |HACIENDO;
   |PARA x1 = 15; |SI x1 [ 22; |HACIENDO x1 = x1 + 1;
       posici = (x1 * 100) + 80;
       |PINTA posici,fondo;
   |SIGUE;
   horizo = "";
   |PARA x1 = 26; |SI x1 [ 80; |HACIENDO x1 = x1 + 1;
       horizo = horizo + fondo;
   |SIGUE;
   |PINTA 2226,horizo;
   capital2  = opcion1;
   |HAZ arterisco1;
   |MENUG capital;
   opcion1 = FSalida;
   |SI opcion1 ] 1; |Y opcion1 [ 4;
       |HAZ arterisco1;
       |SI opcion1 = 1; |SUB_EJECUTA "revalore.run"; |FINSI;
       |SI opcion1 = 2; |SUB_EJECUTA "revalono.run"; |FINSI;
       |SI opcion1 = 3; |SUB_EJECUTA "rectacor.run"; |FINSI;
       |SI opcion1 = 4; |SUB_EJECUTA "retransp.run"; |FINSI;
   |SINO;
       sw1 = 1;
   |FINSI;
|SIGUE;
|POPV;
|FPRC;

|PROCESO menumod;            || Menu Empresariales y profesionales
|PUSHV 0501 2380;
sw1 = 0;
|PARA; |SI sw1 = 0; |HACIENDO;
   |PARA x1 = 12; |SI x1 [ 22; |HACIENDO x1 = x1 + 1;
       posici = (x1 * 100) + 80;
       |PINTA posici,fondo;
   |SIGUE;
   horizo = "";
   |PARA x1 = 30; |SI x1 [ 80; |HACIENDO x1 = x1 + 1;
       horizo = horizo + fondo;
   |SIGUE;
   |PINTA 2230,horizo;
   modulo2  = opcion1;
   |HAZ arterisco2;
   |MENUG modulo;
   opcion1 = FSalida;
   |SI opcion1 ] 1; |Y opcion1 [ 7;
       |HAZ arterisco2;
       |SI opcion1 = 1; |SUB_EJECUTA "reproedi.run"; |FINSI;
       |SI opcion1 = 2; |SUB_EJECUTA "reprofco.run"; |FINSI;
       |SI opcion1 = 3; |SUB_EJECUTA "reempedi.run"; |FINSI;
       |SI opcion1 = 4; |SUB_EJECUTA "reemprco.run"; |FINSI;
       |SI opcion1 = 5; |SUB_EJECUTA "reempmod.run"; |FINSI;
       |SI opcion1 = 6; |SUB_EJECUTA "reactafe.run"; |FINSI;
       |SI opcion1 = 7; |SUB_EJECUTA "rerendir.run"; |FINSI;
   |SINO;
       sw1 = 1;
   |FINSI;
|SIGUE;
|POPV;
|FPRC;

|PROCESO menuicr;            || Menu Incrementos y Deducciones
|PUSHV 0501 2380;
sw1 = 0;
|PARA; |SI sw1 = 0; |HACIENDO;
   |PARA x1 = 15; |SI x1 [ 23; |HACIENDO x1 = x1 + 1;
       posici = (x1 * 100) + 80;
       |PINTA posici,fondo;
   |SIGUE;
   horizo = "";
   |PARA x1 = 16; |SI x1 [ 80; |HACIENDO x1 = x1 + 1;
       horizo = horizo + fondo;
   |SIGUE;
   |PINTA 2316,horizo;
   menuicr2  = opcion1;
   |HAZ arterisco4;
   |MENUG menuicr;
   opcion1 = FSalida;
   |SI opcion1 ] 1; |Y opcion1 [ 5;
       |HAZ arterisco4;
       |SI opcion1 = 1;  |SUB_EJECUTA "reincreg.run"; |FINSI;
       |SI opcion1 = 2;  |SUB_EJECUTA "reincire.run"; |FINSI;
       |SI opcion1 = 3;  |SUB_EJECUTA "reincpre.run"; |FINSI;
       |SI opcion1 = 4;  |SUB_EJECUTA "reincpen.run"; |FINSI;
       |SI opcion1 = 5;  |SUB_EJECUTA "rejerant.run"; |FINSI;
   |SINO;
       sw1 = 1;
   |FINSI;
|SIGUE;
|POPV;
|FPRC;

|PROCESO menuded;            || Menu Deducciones
|PUSHV 0501 2380;
sw1 = 0;
|PARA; |SI sw1 = 0; |HACIENDO;
   |PARA x1 = 10; |SI x1 [ 23; |HACIENDO x1 = x1 + 1;
       posici = (x1 * 100) + 80;
       |PINTA posici,fondo;
   |SIGUE;
   horizo = "";
   |PARA x1 = 17; |SI x1 [ 80; |HACIENDO x1 = x1 + 1;
       horizo = horizo + fondo;
   |SIGUE;
   |PINTA 2317,horizo;
   deducci2  = opcion1;
   |HAZ arterisco3;
   |MENUG deducci;
   opcion1 = FSalida;
   |SI opcion1 ] 1; |Y opcion1 [ 10;
       |HAZ arterisco3;
       |SI opcion1 = 1;  |SUB_EJECUTA "rededu01.run"; |FINSI;
       |SI opcion1 = 2;  |SUB_EJECUTA "rededu02.run"; |FINSI;
       |SI opcion1 = 3;  |SUB_EJECUTA "rededu03.run"; |FINSI;
       |SI opcion1 = 4;  |SUB_EJECUTA "rededu04.run"; |FINSI;
       |SI opcion1 = 5;  |SUB_EJECUTA "rededu05.run"; |FINSI;
       |SI opcion1 = 6;  |SUB_EJECUTA "rededu06.run"; |FINSI;
       |SI opcion1 = 7;  |SUB_EJECUTA "rededu07.run"; |FINSI;
       |SI opcion1 = 8;  |SUB_EJECUTA "rededu08.run"; |FINSI;
       |SI opcion1 = 9;  |SUB_EJECUTA "rededu09.run"; |FINSI;
       |SI opcion1 = 10; |SUB_EJECUTA "rededu10.run"; |FINSI;
   |SINO;
       sw1 = 1;
   |FINSI;
|SIGUE;
|POPV;
|FPRC;

|PROCESO menupat;            || Menu Patrimonio
|PUSHV 0501 2380;
sw1 = 0;
|PARA; |SI sw1 = 0; |HACIENDO;
   |PARA x1 = 10; |SI x1 [ 23; |HACIENDO x1 = x1 + 1;
       posici = (x1 * 100) + 77;
       |PINTA posici,fondo;
   |SIGUE;
   horizo = "";
   |PARA x1 = 20; |SI x1 [ 76; |HACIENDO x1 = x1 + 1;
       horizo = horizo + fondo;
   |SIGUE;
   |PINTA 2321,horizo;
   patrimo2 = opcion1;
   |MENUG patrimo;
   opcion1 = FSalida;
   |SI opcion1 ] 1; |Y opcion1 [ 10;
       |SI opcion1 = 1;  codigo = "A1"; |SUB_EJECUTA "repatr01.run"; |FINSI;
       |SI opcion1 = 2;  codigo = "B1"; |SUB_EJECUTA "repatr02.run"; |FINSI;
       |SI opcion1 = 3;  |HAZ menuletc; |FINSI;
       |SI opcion1 = 4;  codigo = "D1"; |SUB_EJECUTA "repatr04.run"; |FINSI;
       |SI opcion1 = 5;  |HAZ menulee;  |FINSI;
       |SI opcion1 = 6;  |HAZ menulef;  |FINSI;
       |SI opcion1 = 7;  codigo = "G1"; |SUB_EJECUTA "repatr05.run"; |FINSI;
       |SI opcion1 = 8;  codigo = "H1"; |SUB_EJECUTA "repatr06.run"; |FINSI;
       |SI opcion1 = 9;  |HAZ menuotro; |FINSI;
       |SI opcion1 = 10; |HAZ mendeuda;  |FINSI;
   |SINO;
       sw1 = 1;
   |FINSI;
|SIGUE;
|POPV;
|FPRC;

|PROCESO menuletc;
   |MENU menuletc;
   menuletc2 = FSalida;
   |SI menuletc2 ] 1; |Y menuletc2 [ 3;
       |SI menuletc2 = 1;  codigo = "C1"; |SUB_EJECUTA "repatr03.run"; |FINSI;
       |SI menuletc2 = 2;  codigo = "C2"; |SUB_EJECUTA "repatr03.run"; |FINSI;
       |SI menuletc2 = 3;  codigo = "C3"; |SUB_EJECUTA "repatr03.run"; |FINSI;
   |FINSI;
|FPRC;

|PROCESO menulee;
   |MENU menulete;
   menulete2 = FSalida;
   |SI menulete2 ] 1; |Y menulete2 [ 2;
       |SI menulete2 = 1;  codigo = "E1"; |SUB_EJECUTA "repatr05.run"; |FINSI;
       |SI menulete2 = 2;  codigo = "E2"; |SUB_EJECUTA "repatr05.run"; |FINSI;
   |FINSI;
|FPRC;

|PROCESO menulef;
   |MENU menuletf;
   menuletf2 = FSalida;
   |SI menuletf2 ] 1; |Y menuletf2 [ 5;
       |SI menuletf2 = 1; codigo = "F1"; |SUB_EJECUTA "repatr05.run"; |FINSI;
       |SI menuletf2 = 2; codigo = "F2"; |SUB_EJECUTA "repatr05.run"; |FINSI;
       |SI menuletf2 = 3; codigo = "F3"; |SUB_EJECUTA "repatr05.run"; |FINSI;
       |SI menuletf2 = 4; codigo = "F4"; |SUB_EJECUTA "repatr05.run"; |FINSI;
       |SI menuletf2 = 5; codigo = "F5"; |SUB_EJECUTA "repatr05.run"; |FINSI;
   |FINSI;
|FPRC;

|PROCESO menuotro;            || Menu Patrimonio
|PUSHV 0501 2380;
sw2 = 0;
|PARA; |SI sw2 = 0; |HACIENDO;
   |PARA x2 = 13; |SI x2 [ 23; |HACIENDO x2 = x2 + 1;
       posici = (x2 * 100) + 79;
       |PINTA posici,fondo;
   |SIGUE;
   horizo = "";
   |PARA x2 = 20; |SI x2 [ 79; |HACIENDO x2 = x2 + 1;
       horizo = horizo + fondo;
   |SIGUE;
   |PINTA 2320,horizo;
   menuotro2 = opcion2;
   |MENUG menuotro;
   opcion2 = FSalida;
   |SI opcion2 ] 1; |Y opcion2 [ 7;
       |SI opcion2 = 1;  codigo = "I1"; |SUB_EJECUTA "repatr05.run"; |FINSI;
       |SI opcion2 = 2;  codigo = "J1"; |SUB_EJECUTA "repatr05.run"; |FINSI;
       |SI opcion2 = 3;  codigo = "K1"; |SUB_EJECUTA "repatr07.run"; |FINSI;
       |SI opcion2 = 4;  codigo = "L1"; |SUB_EJECUTA "repatr05.run"; |FINSI;
       |SI opcion2 = 5;  codigo = "M1"; |SUB_EJECUTA "repatr05.run"; |FINSI;
       |SI opcion2 = 6;  codigo = "N1"; |SUB_EJECUTA "repatr05.run"; |FINSI;
       |SI opcion2 = 7;  codigo = "O1"; |SUB_EJECUTA "repatr05.run"; |FINSI;
   |SINO;
       sw2 = 1;
   |FINSI;
|SIGUE;
|POPV;
|FPRC;

|PROCESO mendeuda;            || Menu Patrimonio
|PUSHV 0501 2380;
sw2 = 0;
|PARA; |SI sw2 = 0; |HACIENDO;
   |PARA x2 = 15; |SI x2 [ 23; |HACIENDO x2 = x2 + 1;
       posici = (x2 * 100) + 79;
       |PINTA posici,fondo;
   |SIGUE;
   horizo = "";
   |PARA x2 = 20; |SI x2 [ 79; |HACIENDO x2 = x2 + 1;
       horizo = horizo + fondo;
   |SIGUE;
   |PINTA 2320,horizo;
   mendeuda2 = opcion2;
   |MENUG mendeuda;
   opcion2 = FSalida;
   |SI opcion2 ] 1; |Y opcion2 [ 5;
       |SI opcion2 = 1;  codigo = "U1"; |SUB_EJECUTA "repatr05.run"; |FINSI;
       |SI opcion2 = 2;  codigo = "V1"; |SUB_EJECUTA "repatr05.run"; |FINSI;
       |SI opcion2 = 3;  codigo = "V2"; |SUB_EJECUTA "repatr08.run"; |FINSI;
       |SI opcion2 = 4;  codigo = "V3"; |SUB_EJECUTA "repatr05.run"; |FINSI;
       |SI opcion2 = 5;  codigo = "V4"; |SUB_EJECUTA "repatr08.run"; |FINSI;
   |SINO;
       sw2 = 1;
   |FINSI;
|SIGUE;
|POPV;
|FPRC;

|PROCESO borrado; |TIPO 2;
empresa = #0#0;
modo = (FEntrada / 100) ! 0;
|SI modo = 3;
    |HAZ bajacli;
    |PINTA 2430,"Borrando Registros ....";

    |SUB_EJECUTA "reborra1.run";
    |SUB_EJECUTA "reborra2.run";
    |SUB_EJECUTA "reborra3.run";
    |SUB_EJECUTA "reborra4.run";
    |SUB_EJECUTA "reborra5.run";

    |PINTA 2430,"                       ";
|FINSI;
|FPRC;

|PROCESO altacli;
|SI aste  = "";  |HAZ tipo_8; |FINSI;
|SI aste  = "*"; |ACABA;      |FINSI;

|HAZ mira_agifigen;
|FPRC;

|PROCESO mira_agifigen;
|ABRE #5;
|ABRE #2;
#5#0 = #0#0;
|LIBERA #5;
|LEE 110#5=;
|SI FSalida = 0;                || Recoge variables del agicli
    #5#22 = "S";
    |GRABA 020#5a;                 || Graba el agicli

    |DDEFECTO #2;
    #2#0  = #0#0;
    #2#1  = #5#2;
    #2#2  = #5#13;
    #2#6  = #5#3;
    #2#7  = #5#4;
    #2#8  = #5#5;
    #2#9  = #5#6;
    #2#10 = #5#7;
    #2#11 = #5#8;
    #2#12 = #5#9;
    #2#13 = #5#10;
    #2#16 = #5#16;
    #2#15 = #5#14;
    |GRABA 040#2n;

    #0#1  = #5#2;     |PINTA #0#1;
    #0#2  = #5#13;    |PINTA #0#2;
|SINO;
    |CONFI "2400S Confirma el alta en Clientes General : ";
    |SI FSalida = 0;
        |PUSHV 0501 2380;
        |PINPA #0#5;
        |DDEFECTO #5;
        |PINDA #0#5;
        #5#0 = #0#0; |PINTA #5#0;
        |ENDATOS #1#5;
        |SI FSalida = 0;
            #5#22 = "S";
            |GRABA 121#5n;                 || Graba el agicli

            |DDEFECTO #2;
            #2#0  = #0#0;
            #2#1  = #5#2;
            #2#2  = #5#13;
            #2#6  = #5#3;
            #2#7  = #5#4;
            #2#8  = #5#5;
            #2#9  = #5#6;
            #2#10 = #5#7;
            #2#11 = #5#8;
            #2#12 = #5#9;
            #2#13 = #5#10;
            #2#16 = #5#16;
            #2#15 = #5#14;
            |GRABA 040#2n;

            #0#1  = #5#2;     |PINTA #0#1;
            #0#2  = #5#13;    |PINTA #0#2;
        |FINSI;
        |POPV;
    |FINSI;
|FINSI;

|CIERRA #2;
|CIERRA #5;
|FPRC;

|PROCESO bajacli;
|SI aste  = "";  |HAZ tipo_8; |FINSI;
|SI aste  = "*"; |ACABA;      |FINSI;

|ABRE #5;
#5#0 = #0#0;
|LIBERA #5;
|LEE 110#5=;
|SI FSalida = 0;                || Recoge variables del agicli
    #5#22 = "N";
    |GRABA 020#5a;                 || Graba el agicli
|FINSI;
|CIERRA #5;
|FPRC;

|PROCESO modicli;
|SI aste  = "*"; |ACABA; |FINSI;
|SI aste  = "";  |HAZ tipo_8; |FINSI;

|ABRE #5;
#5#0 = #0#0;
|LEE 040#5=;
|SI FSalida = 0;                || Recoge variables del agicli
    |SI #0#2 ! #5#13;
        |MENAV "     D.N.I. del Cliente es distinto al D.N.I. del Cliente General";
    |FINSI;
|SINO;
    |MENAV "      No existe Cliente General";
|FINSI;
|CIERRA #5;
|FPRC;

|PROCESO arterisco;
|ABRE #6;
#6#0 = empresa;
|LEE 040#6=;
|SI FSalida ! 0; |DDEFECTO #6; |FINSI;
|CIERRA #6;

|SI #6#1 = 1;
    menu5    = "Rendimiento del Trabajo                              (*)";
|SINO;
    menu5    = "Rendimiento del Trabajo                                 ";
|FINSI;
|SI #6#2 = 1;
    menu6    = "Capital Inmobiliario no afecto Actividades           (*)";
|SINO;
    menu6    = "Capital Inmobiliario no afecto Actividades              ";
|FINSI;
|SI #6#3 = 1; |O #6#4 = 1; |O #6#5 = 1; |O #6#6 = 1;
    menu7    = "Capital Mobiliario                                   (*)";
|SINO;
    menu7    = "Capital Mobiliario                                      ";
|FINSI;
|SI #6#7 = 1;|O #6#8 = 1;|O #6#9 = 1;|O #6#10 = 1;|O #6#11 = 1;|O #6#12 = 1;|O #6#13 = 1;
    menu8    = "Actividades Profesionales, Empresariales y Agr¡colas (*)";
|SINO;
    menu8    = "Actividades Profesionales, Empresariales y Agr¡colas";
|FINSI;
|SI #6#14 = 1;
    menu9    = "Pensiones compensatoria y anualidades por alimentos  (*)";
|SINO;
    menu9    = "Pensiones compensatoria y anualidades por alimentos";
|FINSI;
|SI #6#15 = 1;|O #6#16 = 1;|O #6#17 = 1;|O #6#18 = 1;|O #6#19 = 1;
    menu10   = "Incr./Dis.Patrimonio y Rndtos.Netos Ejer. Anteriores (*)";
|SINO;
    menu10   = "Incr./Dis.Patrimonio y Rndtos.Netos Ejer. Anteriores";
|FINSI;
|SI #6#20=1;|O #6#21=1;|O #6#22=1;|O #6#23=1;|O #6#24=1;|O #6#25=1;|O #6#26=1;
 |O #6#27 = 1;|O #6#28=1;|O #6#29=1;
    menu11   = "Deducciones de la Cuota / Incentivos Fiscales        (*)";
|SINO;
    menu11   = "Deducciones de la Cuota / Incentivos Fiscales";
|FINSI;
|SI #6#30 = 1;
    menu12   = "Afectos a Patrimonio                                 (*)";
|SINO;
    menu12   = "Afectos a Patrimonio";
|FINSI;
|FPRC;

|PROCESO arterisco1;
|ABRE #6;
#6#0 = empresa;
|LEE 040#6=;
|SI FSalida ! 0; |DDEFECTO #6; |FINSI;
|CIERRA #6;

|SI #6#3 = 1;
   capital4    = "Acciones Bolsa                         (*)";
|SINO;
   capital4    = "Acciones Bolsa                            ";
|FINSI;
|SI #6#4 = 1;
   capital5    = "Acciones no Bolsa y Fondos Inversiones (*)";
|SINO;
   capital5    = "Acciones no Bolsa y Fondos Inversiones";
|FINSI;
|SI #6#5 = 1;
   capital6    = "Cuentas Corrientes y otros             (*)";
|SINO;
   capital6    = "Cuentas Corrientes y otros";
|FINSI;
|SI #6#6 = 1;
   capital7    = "Transparencia Fiscal                   (*)";
|SINO;
   capital7    = "Transparencia Fiscal";
|FINSI;
|FPRC;

|PROCESO arterisco2;
|ABRE #6;
#6#0 = empresa;
|LEE 040#6=;
|SI FSalida ! 0; |DDEFECTO #6; |FINSI;
|CIERRA #6;

|SI #6#7 = 1;
   modulo4    = "Profesionales Estimacion Directa        (*)";
|SINO;
   modulo4    = "Profesionales Estimacion Directa           ";
|FINSI;
|SI #6#8 = 1;
   modulo5    = "Profesionales por Coeficientes          (*)";
|SINO;
   modulo5    = "Profesionales por Coeficientes";
|FINSI;
|SI #6#9 = 1;
   modulo6    = "Empresariales Estimacion Directa        (*)";
|SINO;
   modulo6    = "Empresariales Estimacion Directa";
|FINSI;
|SI #6#10 = 1;
   modulo7    = "Empresariales por Coeficientes          (*)";
|SINO;
   modulo7    = "Empresariales por Coeficientes";
|FINSI;
|SI #6#11 = 1;
   modulo8    = "Empresariales por Modulos               (*)";
|SINO;
   modulo8    = "Empresariales por Modulos";
|FINSI;
|SI #6#12 = 1;
   modulo9    = "Activos Afectos a la Actividad          (*)";
|SINO;
   modulo9    = "Activos Afectos a la Actividad";
|FINSI;
|SI #6#13 = 1;
   modulo10   = "Rendimientos Irregulares Actividades    (*)";
|SINO;
   modulo10   = "Rendimientos Irregulares Actividades";
|FINSI;
|FPRC;

|PROCESO arterisco3;
|ABRE #6;
#6#0 = empresa;
|LEE 040#6=;
|SI FSalida ! 0; |DDEFECTO #6; |FINSI;
|CIERRA #6;

|SI #6#20 = 1;
   deducci4    = "Por pendientes ejercicios anteriores           (*)";
|SINO;
   deducci4    = "Por pendientes ejercicios anteriores              ";
|FINSI;

|SI #6#21 = 1;
   deducci5    = "Por ejercicio 1994 / Incentivos Fiscales       (*)";
|SINO;
   deducci5    = "Por ejercicio 1994 / Incentivos Fiscales";
|FINSI;
|SI #6#22 = 1;
   deducci6    = "Por inversiones en Canarias 1994               (*)";
|SINO;
   deducci6    = "Por inversiones en Canarias 1994";
|FINSI;
|SI #6#23 = 1;
   deducci7    = "Por Olimpiadas, Expo y Madrid Cultural         (*)";
|SINO;
   deducci7    = "Por Olimpiadas, Expo y Madrid Cultural";
|FINSI;
|SI #6#24 = 1;
   deducci8    = "Por creacion de empleo                         (*)";
|SINO;
   deducci8    = "Por creacion de empleo";
|FINSI;
|SI #6#25 = 1;
   deducci9    = "Inver.interes Cultural, Donac.actos 94 y otros (*)";
|SINO;
   deducci9    = "Inver.interes Cultural, Donac.actos 94 y otros";
|FINSI;
|SI #6#26 = 1;
   deducci10   = "Por enfermedad, alquiler, seguros y custodia   (*)";
|SINO;
   deducci10   = "Por enfermedad, alquiler, seguros y custodia";
|FINSI;
|SI #6#27 = 1;
   deducci11   = "Por Impuesto Municipal s/valor terreno         (*)";
|SINO;
   deducci11   = "Por Impuesto Municipal s/valor terreno";
|FINSI;
|SI #6#28 = 1;
   deducci12   = "Por rdtos.Ceuta y M.- Doble imposicion intern. (*)";
|SINO;
   deducci12   = "Por rdtos.Ceuta y M.- Doble imposicion intern.";
|FINSI;
|SI #6#29 = 1;
   deducci13   = "Incr.o deducc.en aportaciones Cta.Vivienda     (*)";
|SINO;
   deducci13   = "Incr.o deducc.en aportaciones Cta.Vivienda";
|FINSI;
|FPRC;

|PROCESO arterisco4;
|ABRE #6;
#6#0 = empresa;
|LEE 040#6=;
|SI FSalida ! 0; |DDEFECTO #6; |FINSI;
|CIERRA #6;

|SI #6#15 = 1;
   menuicr4    = "Incrementos y Disminuciones Regulares           (*)";
|SINO;
   menuicr4    = "Incrementos y Disminuciones Regulares              ";
|FINSI;
|SI #6#16 = 1;
   menuicr5    = "Incrementos y Disminuciones Irregulares         (*)";
|SINO;
   menuicr5    = "Incrementos y Disminuciones Irregulares";
|FINSI;
|SI #6#17 = 1;
   menuicr6    = "Premios, Sorteos, Juegos, Rifas.                (*)";
|SINO;
   menuicr6    = "Premios, Sorteos, Juegos, Rifas.";
|FINSI;
|SI #6#18 = 1;
   menuicr7    = "Incrementos Pendientes por operaciones a Plazos (*)";
|SINO;
   menuicr7    = "Incrementos Pendientes por operaciones a Plazos";
|FINSI;
|SI #6#19 = 1;
   menuicr8    = "Rendimientos Netos Ejercicios Anteriores        (*)";
|SINO;
   menuicr8    = "Rendimientos Netos Ejercicios Anteriores";
|FINSI;
|FPRC;

|PROCESO noprepa;
  |ABRE #2;
  #2#0 = #0#0;
  |LIBERA #2;
  |LEE 110#2=;
  |SI FSalida = 0;
      #2#1 = #0#1;
      #2#2 = #0#2;
      indivi = "S"; rafa = #2#30;
      |SI #2#30  ! "    "; |Y rafa ! 0; indivi = "N"; |FINSI;

      |SI #2#164 = "H"; |Y #2#68 ] "1977"  indivi = "N"; |FINSI;
      |SI #2#165 = "H"; |Y #2#69 ] "1977"; indivi = "N"; |FINSI;
      |SI #2#166 = "H"; |Y #2#70 ] "1977"; indivi = "N"; |FINSI;
      |SI #2#167 = "H"; |Y #2#71 ] "1977"; indivi = "N"; |FINSI;
      |SI #2#168 = "H"; |Y #2#72 ] "1977"; indivi = "N"; |FINSI;
      |SI #2#169 = "H"; |Y #2#73 ] "1977"; indivi = "N"; |FINSI;
      |SI #2#170 = "H"; |Y #2#74 ] "1977"; indivi = "N"; |FINSI;
      |SI #2#171 = "H"; |Y #2#75 ] "1977"; indivi = "N"; |FINSI;
      |SI #2#172 = "H"; |Y #2#76 ] "1977"; indivi = "N"; |FINSI;
      |SI #2#173 = "H"; |Y #2#77 ] "1977"; indivi = "N"; |FINSI;

      |SI indivi = "N";
          #2#34 = " ";
      |SINO;
          #2#34 = "X";
          #2#35 = " ";
          #2#36 = " ";
          #2#37 = " ";
          #2#38 = " ";
          #2#39 = " ";
      |FINSI;
      |GRABA 020#2a;
      como = 1;
      |SI #2#142 = "S";
          como = 0;
          |CONFI "2400NRenta ya calculada anulo la preparacion : ";
          |SI FSalida = 0;
              como = 1;
              #2#194 = "N"; #2#195 = "N"; #2#196 = "N"; #2#197 = "N";
              #2#124 = "N"; #2#125 = "N"; #2#126 = "N"; #2#127 = "N";
              #2#128 = "N"; #2#129 = "N"; #2#130 = "N";
              #2#131 = "N"; #2#132 = "N"; #2#133 = "N"; #2#134 = "N";
              #2#135 = "N"; #2#136 = "N"; #2#137 = "N";
              #2#138 = "N"; #2#139 = "N";
              #2#198 = "N"; #2#199 = "N"; #2#200 = "N"; #2#201 = "N";
              #2#142 = "N";
              |GRABA 020#2a;
          |SINO;
              como = 0;
          |FINSI;
      |FINSI;
  |FINSI;
  |CIERRA #2;
|FPRC;

|PROCESO tipo_8; |TIPO 8;
|DBASS agi;
|PATH_DAT #4 agi;

|ABRE #4;
#4#0 = 1;
|LEE 040#4=;
|SI FSalida ! 0; aste = "*"; |CIERRA #4; |ACABA; |FINSI;
|CIERRA #4;

aste = #4#6;
|QBF aste;
|SI aste  = "*"; |ACABA; |FINSI;

agi1 = #4#8; |QBF agi1;

longi = agi1 % A0;
num   = longi;
num   = 100 + (num - 5);
longi = num;

agi2  = (agi1 % longi) + "pan/";

|PATH_DAT #5 agi1;
|PATH_PAN #5 agi2;
|FPRC;
