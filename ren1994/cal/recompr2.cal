|FICHEROS;
   reproedi #7;
   reprofco #8;
|FIN;

|VARIABLES;
   &empresa   = 0;
   &nombre    = "";
   &nombred   = "";
   &cif       = "";
   &tipol     = "";
   &tipliq    = "";
   &impresor  = "";
   &swporta   = 0;
   &linea     = 0;
   &hoja      = 0;
   &vuelve    = 1;
   &seleccion = "";
   &liquidaci = "";
   &chequeo   = 0;
   &campo     = 0;

   x          = 0;

   cabecera   = "";
   varalf     = "";
   alfa       = "";
   swcab      = 0;
   canti      = 0;
   a          = 0;
   b          = 0;
   c          = 0;
|FIN;

|| **************************************************************************
||                           PROCESOS IMPRESION
|| **************************************************************************

|INCLUYE i_import;

|PROCESO cabecera;
cabecera = "************************************************************************";
|IMPRIME cabecera;
cabecera = "                        *  COMPROBACION RENTA *        ";
|IMPRIME cabecera;
cabecera = "************************************************************************";
|IMPRIME cabecera;
hoja     = hoja + 1;
importe  = hoja;
cabecera = "";                         |IMPRIME cabecera;
cabecera = "Hoja ......: " + importe;  |IMPRIME cabecera;
importe  = empresa;
cabecera = "Codigo ....: " + importe;  |IMPRIME cabecera;
cabecera = "Declarante : " + nombre;   |IMPRIME cabecera;
cabecera = "NIF : " + cif;             |IMPRIME cabecera;
cabecera = "";                         |IMPRIME cabecera;
swporta  = 1;
linea    = 9;
|FPRC;

|PROCESO imprime;
|SI swporta = 0; |HAZ cabecera; |FINSI;
|IMPRIME varalf;
linea = linea + 1; |HAZ linea;
|FPRC;

|PROCESO linea;
|SI linea < 58; |ACABA; |FINSI;

cabecera = "";  |IMPRIME cabecera;
cabecera = "                                                                     Sigue...";
|IMPRIME cabecera;
linea = linea + 2;
|PARA x = linea; |SI x [ 65; |HACIENDO x = x + 1;
      cabecera = ""; |IMPRIME cabecera;
|SIGUE;
|HAZ cabecera;
|FPRC;

|PROCESO pie;
|PARA x = linea; |SI x [ 65; |HACIENDO x = x + 1;
      cabecera = ""; |IMPRIME cabecera;
|SIGUE;
|FPRC;

|PROCESO directa;
varalf = "";                                                     |HAZ imprime;

|SI swcab = 0;
    |CIMPR 5;
    varalf = "PROFESIONALES EN ESTIMACION DIRECTA";              |HAZ imprime;
    |CIMPR 6;
    varalf = "";                                                 |HAZ imprime;
    swcab  = 1;
|FINSI;
varalf = "--------------------------------------------------------------";
|HAZ imprime;
varalf = "Declaracion : " + #7#4;                                |HAZ imprime;
varalf = "Perceptor ..: " + #7#3;                                |HAZ imprime;
varalf = "Descripcion : " + #7#15;                               |HAZ imprime;
varalf = "Modalidad ..: Profesional directa";                    |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
a = #7#16; importe = a;                                          |HAZ importe;
varalf = "Ingresos integros ..............................: " + importe;
                                                                 |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
varalf = "Gastos deducibles";                                    |HAZ imprime;
a = #7#19; importe = a;                                          |HAZ importe;
varalf = "Coste de personal ..............................: " + importe;
                                                                 |HAZ imprime;
a = #7#18; importe = a;                                          |HAZ importe;
varalf = "Materiales consumidos en el ejercicio ..........: " + importe;
                                                                 |HAZ imprime;
a = #7#20; importe = a;                                  |HAZ importe;
varalf = "Intereses  prestamos y otros gastos financieros : " + importe;
                                                                 |HAZ imprime;
a = #7#21; importe = a;                                          |HAZ importe;
varalf = "Alquileres de locales y de otros elementos .....: " + importe;
                                                                 |HAZ imprime;
a = #7#22; importe = a;                                          |HAZ importe;
varalf = "Amortizaciones de elementos afectos ............: " + importe;
                                                                 |HAZ imprime;
a = #7#23; importe = a;                                          |HAZ importe;
varalf = "Consumo de energia, agua y telefono ............: " + importe;
                                                                 |HAZ imprime;
a = #7#24; importe = a;                                          |HAZ importe;
varalf = "Otros gastos deducibles ........................: " + importe;
                                                                 |HAZ imprime;
a = #7#25; importe = a;                                          |HAZ importe;
varalf = "1 por 100 de los ingresos integros (1% s/ a) ...: " + importe;
                                                                 |HAZ imprime;
a = #7#18+#7#19+#7#20+#7#21+#7#22+#7#23+#7#24+#7#25;
a = a; importe = a;                                              |HAZ importe;
varalf = "Total gastos deducibles ........................: " + importe;
                                                                 |HAZ imprime;
a = #7#16 - a; importe = a;                                      |HAZ importe;
varalf = "Rendimiento Neto Previo ........................: " + importe;
                                                                 |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
varalf = "Aumentos y minoraciones";                              |HAZ imprime;
a = #7#33; importe = a;                                          |HAZ importe;
varalf = "Incrementos de patrimonio ......................: " + importe;
                                                                 |HAZ imprime;
a = #7#34; importe = a;                                          |HAZ importe;
varalf = "Disminuciones de patrimonio ....................: " + importe;
                                                                 |HAZ imprime;
a = #7#27; importe = a;                                          |HAZ importe;
varalf = "Saldo Neto .....................................: " + importe;

varalf = "";                                                     |HAZ imprime;
a = #7#28; importe = a;                                          |HAZ importe;
varalf = "Rendimiento Neto ...............................: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
importe = #7#36; |HAZ importe;
varalf  = "Retenciones / Ingresos a cuenta ................: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
varalf = "Pagos fraccionados";                                   |HAZ imprime;
importe = #7#29; |HAZ importe;
varalf  = "1§ Trimestre ...................................: " + importe;
                                                                 |HAZ imprime;
importe = #7#30; |HAZ importe;
varalf  = "2§ Trimestre ...................................: " + importe;
                                                                 |HAZ imprime;
importe = #7#31; |HAZ importe;
varalf  = "3§ Trimestre ...................................: " + importe;
                                                                 |HAZ imprime;
importe = #7#32; |HAZ importe;
varalf  = "4§ Trimestre ...................................: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
importe = #7#17; |HAZ importe;
varalf  = "Valor Patrimonial ..............................: " + importe;
                                                                 |HAZ imprime;

varalf = "--------------------------------------------------------------";
|HAZ imprime;
|FPRC;

|DEFBUCLE reproedi;
#7#1;
;
empresa, 01;
empresa, 99;
e;
NULL, directa;
|FIN;

|PROCESO coeficie;
varalf = "";                                                     |HAZ imprime;
varalf = "";                                                     |HAZ imprime;

|SI swcab = 0;
    |CIMPR 5;
    varalf = "PROFESIONALES EN ESTIMACION POR COEFICIENTES";     |HAZ imprime;
    |CIMPR 6;
    varalf = "";                                                 |HAZ imprime;
    swcab = 1;
|FINSI;

varalf = "--------------------------------------------------------------";
varalf = "Declaracion : " + #8#4;                                |HAZ imprime;
varalf = "Perceptor ..: " + #8#3;                                |HAZ imprime;
varalf = "Descripcion : " + #8#15;                               |HAZ imprime;
varalf = "Modalidad ..: Profesional coeficientes";               |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
a = #8#17; importe = a;                                          |HAZ importe;
varalf = "Ingresos integros ..............................: " + importe;
                                                                 |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
varalf = "Gastos deducibles";                                    |HAZ imprime;
a = #8#18; importe = a;                                          |HAZ importe;
varalf = "Coste de personal ..............................: " + importe;
                                                                 |HAZ imprime;
a = (#8#38 + #8#39 - #8#37); importe = a;                        |HAZ importe;
varalf = "Materiales consumidos en el ejercicio ..........: " + importe;
                                                                 |HAZ imprime;
a = #8#19; importe = a;                                          |HAZ importe;
varalf = "Consumo de energia y agua ......................: " + importe;
                                                                 |HAZ imprime;
a = #8#20; importe = a;                                          |HAZ importe;
varalf = "Alquileres de locales de la actividad ..........: " + importe;
                                                                 |HAZ imprime;
a = #8#21; importe = a;                                          |HAZ importe;
varalf = "Gastos financieros y prima de seguros ..........: " + importe;
                                                                 |HAZ imprime;
a = #8#22; importe = a;                                          |HAZ importe;
varalf = "Tributos no estatales ..........................: " + importe;
                                                                 |HAZ imprime;
a = #8#23; importe = a;                                          |HAZ importe;
varalf = "Reparaciones y conservacion ....................: " + importe;
                                                                 |HAZ imprime;
a = #8#24; importe = a;                                          |HAZ importe;
varalf = "Trabajos realizados por otras empresas .........: " + importe;
                                                                 |HAZ imprime;
b = #8#18 + #8#19 + #8#20 + #8#21 + #8#22 + #8#23 + #8#24 + #8#38;
b = (b + #8#39 - #8#37); importe = b;                            |HAZ importe;
varalf = "Total gastos deducibles ........................: " + importe;
                                                                 |HAZ imprime;
a = #8#17 - b; importe = a;                                      |HAZ importe;
varalf = "Diferencia .....................................: " + importe;
                                                                 |HAZ imprime;
a = #8#25; importe = a;                                          |HAZ importe;
varalf = "Coeficiente de gastos : 10 por 100 .............: " + importe;
                                                                 |HAZ imprime;
c = #8#17 - b - #8#25;  importe = c;                             |HAZ importe;
varalf = "Rendimientos Neto previo .......................: " + importe;
                                                                 |HAZ imprime;
varalf = "";                                                     |HAZ imprime;
varalf = "Aumentos y minoraciones";                              |HAZ imprime;
a = #8#26; importe = a;                                          |HAZ importe;
varalf = "Incrementos de patrimonio ......................: " + importe;
                                                                 |HAZ imprime;
a = #8#27; importe = a;                                          |HAZ importe;
varalf = "Disminuciones de patrimonio ....................: " + importe;
                                                                 |HAZ imprime;
a = #8#28; importe = a;                                          |HAZ importe;
varalf = "Otras disminuciones ............................: " + importe;
                                                                 |HAZ imprime;
a = (#8#26 - #8#27 - #8#28); importe = a;                        |HAZ importe;
varalf = "Saldo Neto .....................................: " + importe;
                                                                 |HAZ imprime;
a = #8#29; importe = a;                                          |HAZ importe;
varalf = "Gastos extraordinarios por circunstancias excep.: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
a = #8#32; importe = a;                                  |HAZ importe;
varalf = "Rendimiento Neto ...............................: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
importe = #8#43; |HAZ importe;
varalf  = "Retenciones / Ingresos a cuenta ................: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
varalf = "Pagos fraccionados";                                   |HAZ imprime;
importe = #8#33; |HAZ importe;
varalf  = "1§ Trimestre ...................................: " + importe;
                                                                 |HAZ imprime;
importe = #8#34; |HAZ importe;
varalf  = "2§ Trimestre ...................................: " + importe;
                                                                 |HAZ imprime;
importe = #8#35; |HAZ importe;
varalf  = "3§ Trimestre ...................................: " + importe;
                                                                 |HAZ imprime;
importe = #8#36; |HAZ importe;
varalf  = "4§ Trimestre ...................................: " + importe;
                                                                 |HAZ imprime;

varalf = "";                                                     |HAZ imprime;
importe = #8#16; |HAZ importe;
varalf  = "Valor Patrimonial ..............................: " + importe;
                                                                 |HAZ imprime;

varalf = "--------------------------------------------------------------";
|HAZ imprime;

|FPRC;

|DEFBUCLE reprofco;
#8#1;
;
empresa, 01;
empresa, 99;
e;
NULL, coeficie;
|FIN;

|PROGRAMA;
vuelve  = 1;
Impresora = impresor;
|IMPRE -1;
|SI FSalida = 0;
   swcab = 0; |BUCLE reproedi;
   swcab = 0; |BUCLE reprofco;

   |FINIMP;
   |CORRE "recompr3.run";
|FINSI;
|FPRO;
