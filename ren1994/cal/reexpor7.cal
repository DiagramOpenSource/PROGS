|FICHEROS;
    retotpat #06;
    zetotpat #07;
    retotrea #08;
    zetotrea #09;
    retotren #10;
    zetotren #11;
    reliquid #12;
    zeliquid #13;
|FIN;

|VARIABLES;
    campos_1 =  43;  || nro. de campos de cada uno
    campos_2 = 203;
    campos_3 = 220;
    campos_4 =  43;
|FIN;

|INCLUYE i_expor1;

|PROGRAMA;
|HAZ imp_1;
|HAZ imp_2;
|HAZ imp_3;
|HAZ imp_4;
|CORRE "reexpor1.run";
|FPRO;

|PROCESO imp_1;
    |ABRE #7;
    |PATH_DAT #6 path;
        error = -1;
    |PARA; |SI error ! 0; |HACIENDO;
        |ABRE #6;
            error = FSalida;
    |SIGUE;
        #7#00 = codi;
        #7#28 = " ";          || bucle de lectura de tipos
    |LEE 001#7=;
    |SI FSalida ! 0;  |LEE 001#7];  |FINSI;
    |PARA; |SI FSalida = 0;|Y #7#0 = codi; |HACIENDO;
            #6#00 = #7#00;
            #6#28 = #7#28;
        |LEE 001#6=;
        |SI FSalida = 0;  |BORRA 020#6a;  |FINSI;
        |PARA nume1 = 0; |SI nume1 [ campos_1; |HACIENDO nume1 = nume1 + 1;
                #6nume1 = #7nume1;
        |SIGUE;
        |GRABA 020#6n;
        |BORRA 020#7a;
        |LEE 001#7s;
    |SIGUE;
    |CIERRA #6;
    |CIERRA #7;
|FPRC;

|PROCESO imp_2;
    |ABRE #9;
    |PATH_DAT #8 path;
        error = -1;
    |PARA; |SI error ! 0; |HACIENDO;
        |ABRE #8;
            error = FSalida;
    |SIGUE;
        #9#0 = codi;
        #9#1 = " ";           || bucle de lectura de tipos
    |LEE 001#9=;
    |SI FSalida ! 0;  |LEE 001#9];  |FINSI;
    |PARA; |SI FSalida = 0;|Y #9#0 = codi; |HACIENDO;
            #8#0 = #9#0;
            #8#1 = #9#1;
        |LEE 001#8=;
        |SI FSalida = 0;  |BORRA 020#8a;  |FINSI;
        |PARA nume1 = 0; |SI nume1 [ campos_2; |HACIENDO nume1 = nume1 + 1;
                #8nume1 = #9nume1;
        |SIGUE;
        |GRABA 020#8n;
        |BORRA 020#9a;
        |LEE 001#9s;
    |SIGUE;
    |CIERRA #8;
    |CIERRA #9;
|FPRC;

|PROCESO imp_3;
    |ABRE #11;
    |PATH_DAT #10 path;
        error = -1;
    |PARA; |SI error ! 0; |HACIENDO;
        |ABRE #10;
            error = FSalida;
    |SIGUE;
        #11#0 = codi;
        #11#141 = " ";             || bucle de lectura de tipos
    |LEE 001#11=;
    |SI FSalida ! 0;  |LEE 001#11];  |FINSI;
    |PARA; |SI FSalida = 0;|Y #11#0 = codi; |HACIENDO;
            #10#0 = #11#0;
            #10#141 = #11#141;
        |LEE 001#10=;
        |SI FSalida = 0;  |BORRA 020#10a;  |FINSI;
        |PARA nume1 = 0; |SI nume1 [ campos_3; |HACIENDO nume1 = nume1 + 1;
                #10nume1 = #11nume1;
        |SIGUE;
        |GRABA 020#10n;
        |BORRA 020#11a;
        |LEE 001#11s;
    |SIGUE;
    |CIERRA #10;
    |CIERRA #11;
|FPRC;

|PROCESO imp_4;
    |ABRE #13;
    |PATH_DAT #12 path;
        error = -1;
    |PARA; |SI error ! 0; |HACIENDO;
        |ABRE #12;
            error = FSalida;
    |SIGUE;
        #13#0 = codi;
    |LEE 001#13=;
    |SI FSalida = 0;
            #12#00 = #13#00;
        |LEE 001#12=;
        |SI FSalida = 0;  |BORRA 020#12a;  |FINSI;
        |PARA nume1 = 0; |SI nume1 [ campos_4; |HACIENDO nume1 = nume1 + 1;
                #12nume1 = #13nume1;
        |SIGUE;
        |GRABA 020#12n;
        |BORRA 020#13a;
    |FINSI;
    |CIERRA #12;
    |CIERRA #13;
|FPRC;
