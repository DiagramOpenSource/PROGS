|FICHEROS
   recompat #0;
   redatcon #1;
|FIN;

|VARIABLES;
   &empresa  = 0;
   &nombre   = "";
   &cif      = "";
   &anyos    = "";
   &impresor = "";
   &tipo     = "";
   &swporta  = 0;
   &linea    = 0;
   &hoja     = 0;
   &vuelve   = 0;
   &seleccion = "";
   &tipore1   = 0;
   &tipore2   = 0;
   &tipore3   = 0;
   &tipore4   = 0;
   &tipore5   = 0;
   &tipore6   = 0;
   &chequeo   = 0;
   &campo     = 0;
   &anyo1     = 0;
   &anyo2     = 0;
   &anyo3     = 0;
   &anyo4     = 0;
   &anyo5     = 0;
   &anyo6     = 0;

   var        = 0;
   x          = 0;
|FIN;

|| **************************************************************************
||                           PROCESOS DEL PROGRAMA
|| **************************************************************************

|PROCESO seleccion; |TIPO 0;
|SI #0#0 = "S";
    |CAMPO_MODIFICA #0#01, 1, "S";
    |CAMPO_MODIFICA #0#02, 1, "S";
    |PARA x = 3; |SI x [ 32; |HACIENDO x = x + 1;
          #0x = 0; |PINTA #0x;
    |SIGUE;
    |CAMPO_MODIFICA #0#03, 1, "N"; |CAMPO_MODIFICA #0#04, 1, "N";
    |CAMPO_MODIFICA #0#05, 1, "N"; |CAMPO_MODIFICA #0#06, 1, "N";
    |CAMPO_MODIFICA #0#07, 1, "N"; |CAMPO_MODIFICA #0#08, 1, "N";
    |CAMPO_MODIFICA #0#09, 1, "N"; |CAMPO_MODIFICA #0#10, 1, "N";
    |CAMPO_MODIFICA #0#11, 1, "N"; |CAMPO_MODIFICA #0#12, 1, "N";
    |CAMPO_MODIFICA #0#13, 1, "N"; |CAMPO_MODIFICA #0#14, 1, "N";
    |CAMPO_MODIFICA #0#15, 1, "N"; |CAMPO_MODIFICA #0#16, 1, "N";
    |CAMPO_MODIFICA #0#17, 1, "N"; |CAMPO_MODIFICA #0#18, 1, "N";
    |CAMPO_MODIFICA #0#19, 1, "N"; |CAMPO_MODIFICA #0#20, 1, "N";
    |CAMPO_MODIFICA #0#21, 1, "N"; |CAMPO_MODIFICA #0#22, 1, "N";
    |CAMPO_MODIFICA #0#23, 1, "N"; |CAMPO_MODIFICA #0#24, 1, "N";
    |CAMPO_MODIFICA #0#25, 1, "N"; |CAMPO_MODIFICA #0#26, 1, "N";
    |CAMPO_MODIFICA #0#27, 1, "N"; |CAMPO_MODIFICA #0#28, 1, "N";
    |CAMPO_MODIFICA #0#29, 1, "N"; |CAMPO_MODIFICA #0#30, 1, "N";
    |CAMPO_MODIFICA #0#31, 1, "N"; |CAMPO_MODIFICA #0#32, 1, "N";
|SINO;
    #0#1 = 00001; |PINTA #0#1;
    #0#2 = 99999; |PINTA #0#2;
    |CAMPO_MODIFICA #0#01, 1, "N";
    |CAMPO_MODIFICA #0#02, 1, "N";

    |CAMPO_MODIFICA #0#03, 1, "S"; |CAMPO_MODIFICA #0#04, 1, "S";
    |CAMPO_MODIFICA #0#05, 1, "S"; |CAMPO_MODIFICA #0#06, 1, "S";
    |CAMPO_MODIFICA #0#07, 1, "S"; |CAMPO_MODIFICA #0#08, 1, "S";
    |CAMPO_MODIFICA #0#09, 1, "S"; |CAMPO_MODIFICA #0#10, 1, "S";
    |CAMPO_MODIFICA #0#11, 1, "S"; |CAMPO_MODIFICA #0#12, 1, "S";
    |CAMPO_MODIFICA #0#13, 1, "S"; |CAMPO_MODIFICA #0#14, 1, "S";
    |CAMPO_MODIFICA #0#15, 1, "S"; |CAMPO_MODIFICA #0#16, 1, "S";
    |CAMPO_MODIFICA #0#17, 1, "S"; |CAMPO_MODIFICA #0#18, 1, "S";
    |CAMPO_MODIFICA #0#19, 1, "S"; |CAMPO_MODIFICA #0#20, 1, "S";
    |CAMPO_MODIFICA #0#21, 1, "S"; |CAMPO_MODIFICA #0#22, 1, "S";
    |CAMPO_MODIFICA #0#23, 1, "S"; |CAMPO_MODIFICA #0#24, 1, "S";
    |CAMPO_MODIFICA #0#25, 1, "S"; |CAMPO_MODIFICA #0#26, 1, "S";
    |CAMPO_MODIFICA #0#27, 1, "S"; |CAMPO_MODIFICA #0#28, 1, "S";
    |CAMPO_MODIFICA #0#29, 1, "S"; |CAMPO_MODIFICA #0#30, 1, "S";
    |CAMPO_MODIFICA #0#31, 1, "S"; |CAMPO_MODIFICA #0#32, 1, "S";
|FINSI;
|FPRC;

|| **************************************************************************
||                           PROCESOS DATOS CONTRIBUYENTE
|| **************************************************************************

|PROCESO ejecuciones;
swporta  = 0; linea  = 0; hoja  = 0;
anyo1    = 0; anyo2  = 0; anyo3 = 0;
anyo4    = 0; anyo5  = 0; anyo6 = 0;

nombre  = #1#1;  cif  = #1#2; anyo1 = #1#3;
|SI tipo = "C"; nombre  = #1#28; cif  = #1#29; anyo2 =  #1#30; |FINSI;
|SI tipo = "1";
    nombre = "";  cif  = "";
    |SI #1#98 ! 0;
        var = 57 + #1#98; nombre  = #1var;
        var = 47 + #1#98; cif     = #1var;
        var = 67 + #1#98; anyo3   = #1var;
    |FINSI;
|FINSI;
|SI tipo = "2";
    nombre = "";  cif  = "";
    |SI #1#99 ! 0;
        var = 57 + #1#99; nombre  = #1var;
        var = 47 + #1#99; cif     = #1var;
        var = 67 + #1#99; anyo4   = #1var;
    |FINSI;
|FINSI;
|SI tipo = "3";
    nombre = "";  cif  = "";
    |SI #1#100 ! 0;
        var = 57 + #1#100; nombre  = #1var;
        var = 47 + #1#100; cif     = #1var;
        var = 67 + #1#100; anyo5   = #1var;
    |FINSI;
|FINSI;
|SI tipo = "4";
    nombre = "";  cif  = "";
    |SI #1#101 ! 0;
        var = 57 + #1#101; nombre  = #1var;
        var = 47 + #1#101; cif     = #1var;
        var = 67 + #1#101; anyo6   = #1var;
    |FINSI;
|FINSI;

|CORRE "recompa1.run";
|FPRC;

|PROGRAMA;
|SI vuelve = 0;
    |DELINDEX #0;
    |ABRE #0;
    |CLS;
    |CABEZA "Comprobacion Patrimonio";
    |PINPA #0#0;
    |PINDA #0#0;
    |ENDATOS #1#0;
    |SI FSalida = 0;
        |IMPRE 0;
        |SI FSalida = 0;
            impresor = Impresora;
            |FINIMP;
            #0#33 = 1; |GRABA 040#0n;
            seleccion = #0#0;
            |SI #0#0 = "N";
                campo = 2;
                |HAZ leempre;
            |SINO;
                empresa = #0#1;
                |HAZ leempre;
            |FINSI;
        |FINSI;
    |FINSI;
|SINO;
    |ABRE #0;
    |LEE 040#0p;
    |HAZ chequeo;
    |SI chequeo = 0;
        empresa = empresa + 1;
        |HAZ leempre;
    |FINSI;
|FINSI;
|CIERRA #0;
|SI chequeo = 0; |DELINDEX #0; |FINSI;
|FPRO;

|PROCESO chequeo;
|ABRE #1;
#1#0 = empresa;
|LEE 040#1=;
|SI FSalida ! 0; |DDEFECTO #1; |FINSI;
|CIERRA #1;

chequeo = 0;
|SI tipore1 = 0;
    |SI #1#140 = "S";
          tipo = "T"; chequeo = 1; tipore1 = 1; |HAZ ejecuciones; |ACABA;
    |FINSI;
|FINSI;

|SI tipore2 = 0;
    |SI #1#141 = "S";
        tipo = "C"; chequeo = 1; tipore2 = 1; |HAZ ejecuciones; |ACABA;
    |FINSI;
|FINSI;

|SI tipore3 = 0;
    |SI #1#194 = "S";
        tipo = "1"; chequeo = 1; tipore3 = 1; |HAZ ejecuciones; |ACABA;
    |FINSI;
|FINSI;

|SI tipore4 = 0;
    |SI #1#195 = "S";
        tipo = "2"; chequeo = 1; tipore4 = 1; |HAZ ejecuciones; |ACABA;
    |FINSI;
|FINSI;

|SI tipore5 = 0;
    |SI #1#196 = "S";
        tipo = "3"; chequeo = 1; tipore5 = 1; |HAZ ejecuciones; |ACABA;
    |FINSI;
|FINSI;

|SI tipore6 = 0;
    |SI #1#197 = "S";
        tipo = "4"; chequeo = 1; tipore6 = 1; |HAZ ejecuciones;
    |FINSI;
|FINSI;
|FPRC;

|PROCESO leempre;
tipore1 = 0; tipore2 = 0; tipore3 = 0;
tipore4 = 0; tipore5 = 0; tipore6 = 0;
|SI seleccion = "S";
    |ABRE #1;
  |ET arriba;
    #1#0 = empresa;
    |LEE 040#1];
    |SI FSalida = 0;
        empresa = #1#0;
        |SI #1#0 [ #0#2;
            |SI #1#142 = "S"; #1#143 = "N";
                |CIERRA #1;
                |HAZ chequeo;
                |SI chequeo = 0;
                    |ABRE #1;
                    empresa = empresa + 1;
                    |VETE arriba;
                |FINSI;
            |SINO;
                empresa = empresa + 1;
                |VETE arriba;
             |FINSI;
        |SINO;
            chequeo = 0;
            |CIERRA #1;
        |FINSI;
    |SINO;
        chequeo = 0;
        |CIERRA #1;
    |FINSI;
|SINO;
    |HAZ parrilla;
|FINSI;
|FPRC;

|PROCESO parrilla;
|ABRE #1;
|ET parriba;
campo = campo + 1;
|SI campo [ 32;
    #1#0 = #0campo;
    |LEE 040#1=;
    |SI FSalida = 0;
        empresa = #0campo;
        |SI #1#142 = "S"; #1#143 = "N";
            |CIERRA #1;
            |HAZ chequeo;
            |SI chequeo = 0;
                |ABRE #1;
                |VETE parriba;
            |FINSI;
        |SINO;
            |VETE parriba;
        |FINSI;
    |SINO;
        |VETE parriba;
    |FINSI;
|SINO;
   chequeo = 0;
|FINSI;
|FPRC;
