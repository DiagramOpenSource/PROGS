|FICHEROS;
     isocie72 #0;
     maempr11 #1;
|FIN;

|VARIABLES;
     nOpcion   = 0;
     nCampo    = 0;

    &empresa   = 0;
    &anyo      = 0;
    &tipo      = "";
    &modo      = 0;
|FIN;

|PROCESO PideDato;
     #0#0 = empresa;
     #0#1 = anyo;
     |LEE 110#0=;
     |SI FSalida ! 0;
         |DDEFECTO #0;
         #0#0 = empresa;
         #0#1 = anyo;
         |GRABA 020#0b;
     |FINSI;

     |SI nOpcion = 1;
         |PDEFECTO #0,  2, 21;
         |PDEFECTO #0, 25, 27;

         |PARA nCampo = 2;  |SI nCampo [ 20;  |HACIENDO nCampo = nCampo + 1;
               |C_M #0nCampo, 1, "N";
         |SIGUE;

         |C_M #0#25, 1, "N";
         |C_M #0#26, 1, "N";
     |SINO;
         |PARA nCampo = 2;  |SI nCampo [ 20;  |HACIENDO nCampo = nCampo + 1;
               |C_M #0nCampo, 1, "S";
         |SIGUE;
         |C_M #0#25, 1, "S";
         |C_M #0#26, 1, "S";
     |FINSI;

     |PINDA #0#0;
     |SI modo = 1; |ENDATOS #1#0;  |FINSI;
     |SI modo = 2; |ENDATOS #2#0;  |FINSI;
     |SI FSalida = 0;
         |GRABA 020#0a;
     |FINSI;
     |LIBERA #0;
|FPRC;

|PROCESO Consulta;
     #0#0 = empresa;
     #0#1 = anyo;
     |LEE 040#0=;
     |SI FSalida = 0;
         |PINPA #0#0;
         |PINDA #0#0;
         |PAUSA;
     |FINSI;
|FPRC;

|PROGRAMA;
     nOpcion = 1;

     |ABRE #1;
     #1#0 = empresa;
     #1#1 = anyo;
     #1#2 = 29;
     |LEE 040#1=;
     |SI FSalida = 0;  nOpcion = 0;  |FINSI;
     |CIERRA #1;

     |ABRE #0;
     |PINPA #0#0;
     |SI anyo < 2003;
         |PINTA 1602, "                                           ";
         |C_M #0#25, 1, "N";
         |C_V #0#25, 1, "N";
         |C_M #0#26, 1, "N";
         |C_V #0#26, 1, "N";
     |FINSI;

     |SI anyo = 2000;
         |PINTA 1135, "1996";
         |PINTA 1235, "1997";
         |PINTA 1335, "1998";
         |PINTA 1435, "1999";
         |PINTA 1535, "2000";
     |FINSI;

     |SI anyo = 2001;
         |PINTA 1135, "1997";
         |PINTA 1235, "1998";
         |PINTA 1335, "1999";
         |PINTA 1435, "2000";
         |PINTA 1535, "2001";
     |FINSI;

     |SI anyo = 2002;
         |PINTA 1135, "1998";
         |PINTA 1235, "1999";
         |PINTA 1335, "2000";
         |PINTA 1435, "2001";
         |PINTA 1535, "2002";
     |FINSI;

     |SI anyo = 2003;
         |PINTA 1135, "1999";
         |PINTA 1235, "2000";
         |PINTA 1335, "2001";
         |PINTA 1435, "2002";
         |PINTA 1535, "2003";
     |FINSI;

     |SI anyo = 2004;
         |PINTA 1135, "2000";
         |PINTA 1235, "2001";
         |PINTA 1335, "2002";
         |PINTA 1435, "2003";
         |PINTA 1535, "2004";
     |FINSI;

     |SI anyo = 2005;
         |PINTA 1135, "2001";
         |PINTA 1235, "2002";
         |PINTA 1335, "2003";
         |PINTA 1435, "2004";
         |PINTA 1535, "2005";
     |FINSI;

     |SI anyo ] 2006;
         |PINTA 1135, "2002";
         |PINTA 1235, "2003";
         |PINTA 1335, "2004";
         |PINTA 1435, "2005";
         |PINTA 1535, "2006";
     |FINSI;

     |SI modo = 1; |O modo = 2; |HAZ PideDato; |FINSI;
     |SI modo = 4; |HAZ Consulta; |FINSI;
     |CIERRA #0;
|FPRO;
