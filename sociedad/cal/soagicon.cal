|FICHEROS;
  soagicon #0;
  sodacoca #1;
  sodacoli #2;
  soplanca #5;
  soplanli #6;
  maacceso #7;
  sodacuen #8;
  sodirect #9;

  canempre #3;
|FIN;

|VARIABLES;
  suma = 0;
  linea = 0;
  longi = 0;
  d_digi = 0;
  h_digi = 0;
  d_cuen = "";
  h_cuen = "";
  d_pase = "";
  h_pase = "";
  path = "";
  empresa = "";
  anyo = "";
  vari = "";
  aste = "";
  long = "";
  numero = "";
  dig1 = 0;
  dig3 = 0;
  dig4 = 0;
  dig5 = 0;
  dig6 = 0;
  dig7 = 0;
  dig8 = 0;
  dig9 = 0;
  activo = 0;
  pasivo = 0;
  beneficio = 0;
  CampoNivel = 0;
  Posicion   = 0;

  &empAlta = 0;
  &empre = 0;
  &perio = 0;
  &plani = 0;
  &siono = "";
  &cuent = "";
|FIN;

|| ************************ CALCULOS DE PANTALLA *************************

|PROCESO inicio; |TIPO 0;
|ABRE #9;
|LEE 040#9p;
|SI FSalida ! 0;
    |CIERRA #9;
    |MENAV "    No existe directorio de Contabilidad";
    |ERROR;
    |ACABA;
|FINSI;
|CIERRA #9;

path    = #9#2;  |QBF path;

empresa = #0#0;
empresa = ("00000" + empresa) % -105;

anyo    = #0#1;
anyo    = "0" + anyo;
anyo    = anyo % -101;
empresa = empresa + anyo;

|PATH_DAT #3 path;
|ABRE #3;
#3#2 = #0#0;
#3#3 = #0#1;
|LEE 040#3=;
|SI FSalida ! 0;
    |CIERRA #3;
    |MENAV "      No existe Empresa Contable";
    |ERROR;
    |ACABA;
|FINSI;
|CIERRA #3;

|SI #3#26 < 80; suma = 2000 + #3#26; |SINO;  suma = 1900 + #3#26; |FINSI;
|ABRE #7;
#7#0 = #0#0;
#7#1 = suma;
|LEE 040#7=;
|SI FSalida ! 0;
   |CIERRA #7;
   |MENAV "     No existe Cliente.";
   |ERROR;
   |ACABA;
|FINSI;
|CIERRA #7;

path = path + empresa +  "/";

dig1 = #3#11;
dig3 = #3#13;
dig4 = #3#14;
dig5 = #3#15;
dig6 = #3#16;
dig7 = #3#17;
dig8 = #3#18;
dig9 = #3#19;

CampoNivel = 13 + dig3;
Posicion   = 100 + #3CampoNivel;
#0#5       = "129000000000" % Posicion; |PINTA #0#5;
|FPRC;


|PROCESO planilla; |TIPO 0;

|ABRE #5;
#5#0 = #0#2;
|LEE 040#5=;
|SI FSalida ! 0;
   |MENAV "      No existe Planilla.";
   |ERROR;
|SINO;
   #0#3 = #5#1;
   |PINTA #0#3;
|FINSI;
|CIERRA #5;
|FPRC;


|PROCESO pase; |TIPO 3;
|SI #0#4 = "SI";
    empAlta = #0#0;
    empre = #0#0;
    perio = #0#1;
    plani = #0#2;
    siono = #0#4;
    cuent = #0#5;
    |SUB_EJECUTA "soagico1.tab";
|FINSI;
|FPRC;
