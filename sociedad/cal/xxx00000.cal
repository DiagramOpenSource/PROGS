|FICHEROS;
   xxx00000 #0;
   maempr01 #1;

   xxx00001 #2;
   xxx00002 #3;
   xxx00003 #4;
   xxx00004 #5;
   xxx00005 #6;
   xxx00006 #7;
   xxx00007 #8;
|FIN;

|VARIABLES;
   swreg    = 0;
   sw       = 0;
   sw1      = 0;

   &empresa = 0;
   &anyo    = 0;
   &nombre  = "";

   &opcion  = 0;
   &modo    = 0;
   &sw_mod  = 0;

   fich     = "";
   provi    = "";
   fondo    = "°";
   x        = 0;
   x1       = 0;
   posici   = 0;
   horizo   = "";

{-1} menu   = "";
   menu1    = "1324";
   menu2    = "1";
   menu3    = "07";
   menu4    = "Balances                      ";
   menu5    = "Cuenta de Explotacion         ";
   menu6    = "Aumentos y disminuciones      ";
   menu7    = "Liquidacion                   ";
   menu8    = "Deducciones                   ";
   menu9    = "Variaciones e imputaciones    ";
   menu10   = "Datos de transparencia fiscal ";
|FIN;

|PROCESO empresa; |TIPO 0;
|ABRE #1;
#1#0 = #0#0;
#1#1 = #0#1;
|LEE 040#1=;
|SI FSalida = 0;
    |ATRI I;
    |PINTA 0716, #1#2;
    |PINTA 0757, #1#3;
    |ATRI i;
|FINSI;
|CIERRA #1;
|FPRC;

|PROCESO acceso;|TIPO 30;
|SI #0#1 ! 1990; |ACABA; |FINSI;
modo = (FEntrada / 100) ! 0;
|SI modo = 1; |O modo = 2;
    |HAZ pantalla;
|FINSI;
sw_mod = 0;
|FPRC;

|PROCESO consulta; |TIPO 13;
|ABRE #1;
#1#0 = #0#0;
#1#1 = #0#1;
|LEE 040#1=;
|SI FSalida ! 0; |DDEFECTO #1; |FINSI;
|CIERRA #1;

|ATRI I;
|PINTA 0716, #1#2;
|PINTA 0757, #1#3;
|ATRI i;

|SI #0#1 ! 1990; |ACABA; |FINSI;
modo = FEntrada / 100;
modo = modo ! 0;
|SI modo = 4;
    |PINTA #0#0;
    |PINTA #0#1;

    |ATRI I;
    |PINTA 0716, #1#2;
    |PINTA 0757, #1#3;
    |ATRI i;

    |HAZ pantalla;
|FINSI;
|FPRC;

|PROCESO pantalla;
opcion = 1;
sw = 0;
empresa = #0#0;
anyo    = #0#1;
nombre  = #1#2;

|PARA; |SI sw = 0; |HACIENDO;
   |PARA x = 12; |SI x [ 22; |HACIENDO x = x + 1;
       posici = (x * 100) + 60;
       |PINTA posici,fondo;
   |SIGUE;
   horizo = "";
   |PARA x = 17; |SI x [ 60; |HACIENDO x = x + 1;
       horizo = horizo + fondo;
   |SIGUE;
   |PINTA 2217,horizo;
   menu2  = opcion;
   |MENUG menu;
   opcion = FSalida;
   |SI opcion ] 1; |Y opcion [ 7;
       |SI opcion = 1;  |SUB_EJECUTA "xxx00001.run"; |FINSI;
       |SI opcion = 2;  |SUB_EJECUTA "xxx00002.run"; |FINSI;
       |SI opcion = 3;  |SUB_EJECUTA "xxx00003.run"; |FINSI;
       |SI opcion = 4;  |SUB_EJECUTA "xxx00004.run"; |FINSI;
       |SI opcion = 5;  |SUB_EJECUTA "xxx00005.run"; |FINSI;
       |SI opcion = 6;  |SUB_EJECUTA "xxx00006.run"; |FINSI;
       |SI opcion = 7;  |SUB_EJECUTA "xxx00007.run"; |FINSI;
   |SINO;
       sw = 1;
   |FINSI;
|SIGUE;
|PINPA #0#0;
|FPRC;

|PROCESO borrado; |TIPO 2;
empresa = #0#0;
anyo    = #0#1;
modo    = (FEntrada / 100) ! 0;
|SI modo ! 3; |ACABA; |FINSI;

|PINTA 2430, "Borrando Registros ....";

|ABRE #2; #2#0 = #0#0; #2#34  = #0#1; |BORRA 140#2c; |LIBERA #2; |CIERRA #2;
|ABRE #3; #3#0 = #0#0; #3#39  = #0#1; |BORRA 140#3c; |LIBERA #3; |CIERRA #3;
|ABRE #4; #4#0 = #0#0; #4#19  = #0#1; |BORRA 140#4c; |LIBERA #4; |CIERRA #4;
|ABRE #5; #5#0 = #0#0; #5#36  = #0#1; |BORRA 140#5c; |LIBERA #5; |CIERRA #5;
|ABRE #6; #6#0 = #0#0; #6#116 = #0#1; |BORRA 140#6c; |LIBERA #6; |CIERRA #6;
|ABRE #7; #7#0 = #0#0; #7#28  = #0#1; |BORRA 140#7c; |LIBERA #7; |CIERRA #7;
|ABRE #8; #8#0 = #0#0; #8#110 = #0#1; |BORRA 140#8c; |LIBERA #8; |CIERRA #8;

|PINTA 2430, "                       ";
|FPRC;
