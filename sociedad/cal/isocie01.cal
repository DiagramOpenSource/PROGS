|FICHEROS;
    isocie01 #0;
    isocie22 #1;
    isocie02 #2;
|FIN;

|VARIABLES;
    &empresa   = 0;
    &anyo      = 0;
    &tipo      = "";
    &modo      = 0;

    &numerica1  = 0; &numerica2  = 0; &numerica3  = 0;
    &numerica4  = 0; &numerica5  = 0; &numerica6  = 0;
    &numerica7  = 0; &numerica8  = 0; &numerica9  = 0;
    &numerica10 = 0; &numerica11 = 0; &numerica12 = 0;
    &numerica13 = 0; &numerica14 = 0; &numerica15 = 0;
    &numerica16 = 0; &numerica17 = 0;

    FEstado = 0;
    varcamp = 0;
    x       = 0;
    tecla   = "";
    avance  = "815";
    atras   = "814";
    benper  = 0;
|FIN;

|PROGRAMA;
|ABRE #0;
|PINPA #0#0;
|SI modo = 1; |O modo = 2; |HAZ pidedato; |FINSI;
|SI modo = 4; |HAZ consulta; |FINSI;
|CIERRA #0;
|FPRO;

|PROCESO pidedato;
#0#0 = empresa;
#0#1 = anyo;
|LEE 110#0=;
FEstado = FSalida;
|SI FEstado ! 0; |DDEFECTO #0; #0#0 = empresa; #0#1 = anyo; |FINSI;
|PINDA #0#0;
|SI modo = 1; |ENDATOS #1#0;  |FINSI;
|SI modo = 2; |ENDATOS #2#0;  |FINSI;
|SI FSalida = 0;
    #0#0 = empresa;
    #0#1 = anyo;
    #0#2 = tipo;
    |SI FEstado = 0; |GRABA 020#0a; |SINO; |GRABA 020#0n; |FINSI;
    |LIBERA #0;
    |HAZ liquidacio;
|FINSI;
|FPRC;

|PROCESO consulta;
  avance = &255 + avance;
  atras = &255 + atras;
  #0#0 = empresa;
  #0#1 = anyo;
  |LEE 040#0=;
  |SI FSalida = 0; |HAZ pantalla1; |FINSI;
|FPRC;

|PROCESO pantalla1;
  |PINPA #0#0;
  |PINDA #0#0;
  |MENSA "0411  Av.Pag.= Siguiente Pantalla  Re.Pag. = Pantalla Anterior";
  |LEETECLA tecla;
  |SI tecla = avance; |HAZ pantalla2; |ACABA; |FINSI;
|FPRC;

|PROCESO pantalla2;
  |PINPA #1#0;
  |PINDA #1#0;
  |MENSA "0411  Av.Pag.= Siguiente Pantalla  Re.Pag. = Pantalla Anterior";
  |LEETECLA tecla;
  |SI tecla = atras;  |HAZ pantalla1; |ACABA; |FINSI;
  |SI tecla = avance; |HAZ pantalla3; |ACABA; |FINSI;
|FPRC;

|PROCESO pantalla3;
  |PINPA #2#0;
  |PINDA #2#0;
  |MENSA "0411  Av.Pag.= Siguiente Pantalla  Re.Pag. = Pantalla Anterior";
  |LEETECLA tecla;
  |SI tecla = atras;  |HAZ pantalla2; |ACABA; |FINSI;
  |SI tecla = avance; |HAZ pantalla4; |ACABA; |FINSI;
|FPRC;

|PROCESO pantalla4;
  |PINPA #3#0;
  |PINDA #3#0;
  |MENSA "0411  Av.Pag.= Siguiente Pantalla  Re.Pag. = Pantalla Anterior";
  |LEETECLA tecla;
  |SI tecla = atras;  |HAZ pantalla3; |ACABA; |FINSI;
|FPRC;

|PROCESO extenso; |TIPO 0;
|SI FSalida = 0;
    varcamp = Campo;
    |SI Campo = 13;  |HAZ campo311; |FINSI;
    |SI Campo = 31;  |HAZ campo329; |FINSI;
    |SI Campo = 49;  |HAZ campo347; |FINSI;
    |SI Campo = 56;  |HAZ campo354; |FINSI;
    |SI Campo = 66;  |HAZ campo365; |FINSI;
    |SI Campo = 73;  |HAZ campo372; |FINSI;
    |SI Campo = 77;  |HAZ campo376; |FINSI;
    |SI Campo = 93;  |HAZ campo415; |FINSI;
    |SI Campo = 97;  |HAZ campo419; |FINSI;
    |SI Campo = 105; |HAZ campo427; |FINSI;
    |SI Campo = 120; |HAZ campo444; |FINSI;
    |SI Campo = 128; |HAZ campo505; |FINSI;
    |SI Campo = 134; |HAZ campo511; |FINSI;
    |SI Campo = 138; |HAZ campo515; |FINSI;
    |SI Campo = 142; |HAZ campo519; |FINSI;
    |SI Campo = 147; |HAZ campo524; |FINSI;
    |SI Campo = 150; |HAZ campo527; |FINSI;
    |SI Campo = 166; |HAZ campo605; |FINSI;
    |SI Campo = 172; |HAZ campo611; |FINSI;
    |SI Campo = 176; |HAZ campo615; |FINSI;
|FINSI;
|HAZ calculo;
|FPRC;

|PROCESO campo311;
numerica1 = #0#5;
numerica2 = #0#6;
numerica3 = #0#7;
numerica4 = #0#8;
numerica5 = #0#9;
numerica6 = #0#10;
numerica7 = #0#11;
numerica8 = #0#12;

|SUB_EJECUTA "ispant01.run";

#0#5  = numerica1;
#0#6  = numerica2;
#0#7  = numerica3;
#0#8  = numerica4;
#0#9  = numerica5;
#0#10 = numerica6;
#0#11 = numerica7;
#0#12 = numerica8;

Campo = varcamp;
#0Campo = #0#11 - #0#12;
|PINTA #0Campo;
|FPRC;

|PROCESO campo329;
numerica1  = #0#14;
numerica2  = #0#15;
numerica3  = #0#16;
numerica4  = #0#17;
numerica5  = #0#18;
numerica6  = #0#19;
numerica7  = #0#20;
numerica8  = #0#21;
numerica9  = #0#22;
numerica10 = #0#23;
numerica11 = #0#24;
numerica12 = #0#25;
numerica13 = #0#26;
numerica14 = #0#27;
numerica15 = #0#28;
numerica16 = #0#29;
numerica17 = #0#30;

|SUB_EJECUTA "ispant02.run";

#0#14 = numerica1;
#0#15 = numerica2;
#0#16 = numerica3;
#0#17 = numerica4;
#0#18 = numerica5;
#0#19 = numerica6;
#0#20 = numerica7;
#0#21 = numerica8;
#0#22 = numerica9;
#0#23 = numerica10;
#0#24 = numerica11;
#0#25 = numerica12;
#0#26 = numerica13;
#0#27 = numerica14;
#0#28 = numerica15;
#0#29 = numerica16;
#0#30 = numerica17;

Campo = varcamp;
#0Campo = #0#29 - #0#30;
|PINTA #0Campo;
|FPRC;

|PROCESO campo347;
numerica1  = #0#32;
numerica2  = #0#33;
numerica3  = #0#34;
numerica4  = #0#35;
numerica5  = #0#36;
numerica6  = #0#37;
numerica7  = #0#38;
numerica8  = #0#39;
numerica9  = #0#40;
numerica10 = #0#41;
numerica11 = #0#42;
numerica12 = #0#43;
numerica13 = #0#44;
numerica14 = #0#45;
numerica15 = #0#46;
numerica16 = #0#47;
numerica17 = #0#48;

|SUB_EJECUTA "ispant03.run";

#0#32 = numerica1;
#0#33 = numerica2;
#0#34 = numerica3;
#0#35 = numerica4;
#0#36 = numerica5;
#0#37 = numerica6;
#0#38 = numerica7;
#0#39 = numerica8;
#0#40 = numerica9;
#0#41 = numerica10;
#0#42 = numerica11;
#0#43 = numerica12;
#0#44 = numerica13;
#0#45 = numerica14;
#0#46 = numerica15;
#0#47 = numerica16;
#0#48 = numerica17;

Campo = varcamp;
#0Campo = #0#47 - #0#48;
|PINTA #0Campo;
|FPRC;

|PROCESO campo354;
numerica1 = #0#54;
numerica2 = #0#55;

|SUB_EJECUTA "ispant04.run";

#0#54 = numerica1;
#0#55 = numerica2;

Campo = varcamp;
#0Campo = #0#54 - #0#55;
|PINTA #0Campo;
|FPRC;

|PROCESO campo365;
numerica1 = #0#57;
numerica2 = #0#58;
numerica3 = #0#59;
numerica4 = #0#60;
numerica5 = #0#61;
numerica6 = #0#62;
numerica7 = #0#63;
numerica8 = #0#64;
numerica9 = #0#65;

|SUB_EJECUTA "ispant05.run";

#0#57 = numerica1;
#0#58 = numerica2;
#0#59 = numerica3;
#0#60 = numerica4;
#0#61 = numerica5;
#0#62 = numerica6;
#0#63 = numerica7;
#0#64 = numerica8;
#0#65 = numerica9;

Campo = varcamp;
#0Campo = #0#64 - #0#65;
|PINTA #0Campo;
|FPRC;

|PROCESO campo372;
numerica1 = #0#67;
numerica2 = #0#68;
numerica3 = #0#69;
numerica4 = #0#70;
numerica5 = #0#71;
numerica6 = #0#72;

|SUB_EJECUTA "ispant06.run";

#0#67 = numerica1;
#0#68 = numerica2;
#0#69 = numerica3;
#0#70 = numerica4;
#0#71 = numerica5;
#0#72 = numerica6;

Campo = varcamp;
#0Campo = #0#71 - #0#72;
|PINTA #0Campo;
|FPRC;

|PROCESO campo376;
numerica1 = #0#75;
numerica2 = #0#76;

|SUB_EJECUTA "ispant07.run";

#0#75 = numerica1;
#0#76 = numerica2;

Campo = varcamp;
#0Campo = #0#75 + #0#76;
|PINTA #0Campo;
|FPRC;

|PROCESO campo415;
numerica1  = #0#80;
numerica2  = #0#81;
numerica3  = #0#82;
numerica4  = #0#83;
numerica5  = #0#84;
numerica6  = #0#85;
numerica7  = #0#86;
numerica8  = #0#87;
numerica9  = #0#88;
numerica10 = #0#89;
numerica11 = #0#90;
numerica12 = #0#91;
numerica13 = #0#92;

|SUB_EJECUTA "ispant08.run";

#0#80 = numerica1;
#0#81 = numerica2;
#0#82 = numerica3;
#0#83 = numerica4;
#0#84 = numerica5;
#0#85 = numerica6;
#0#86 = numerica7;
#0#87 = numerica8;
#0#88 = numerica9;
#0#89 = numerica10;
#0#90 = numerica11;
#0#91 = numerica12;
#0#92 = numerica13;

Campo = varcamp;
#0Campo = #0#91 - #0#92;
|PINTA #0Campo;
|FPRC;

|PROCESO campo419;
numerica1 = #0#94;
numerica2 = #0#95;
numerica3 = #0#96;

|SUB_EJECUTA "ispant09.run";

#0#94 = numerica1;
#0#95 = numerica2;
#0#96 = numerica3;

Campo = varcamp;
#0Campo = #0#94 + #0#95 + #0#96;
|PINTA #0Campo;
|FPRC;

|PROCESO campo427;
numerica1 = #0#100;
numerica2 = #0#101;
numerica3 = #0#102;
numerica4 = #0#103;
numerica5 = #0#104;

|SUB_EJECUTA "ispant10.run";

#0#100 = numerica1;
#0#101 = numerica2;
#0#102 = numerica3;
#0#103 = numerica4;
#0#104 = numerica5;

Campo = varcamp;
#0Campo = #0#100 + #0#101 + #0#102 + #0#103 + #0#104;
|PINTA #0Campo;
|FPRC;

|PROCESO campo444;
numerica1  = #0#106;
numerica2  = #0#107;
numerica3  = #0#108;
numerica4  = #0#109;
numerica5  = #0#110;
numerica6  = #0#111;
numerica7  = #0#112;
numerica8  = #0#113;
numerica9  = #0#114;
numerica10 = #0#115;
numerica11 = #0#116;
numerica12 = #0#117;
numerica13 = #0#118;
numerica14 = #0#119;

|SUB_EJECUTA "ispant11.run";

#0#106 = numerica1;
#0#107 = numerica2;
#0#108 = numerica3;
#0#109 = numerica4;
#0#110 = numerica5;
#0#111 = numerica6;
#0#112 = numerica7;
#0#113 = numerica8;
#0#114 = numerica9;
#0#115 = numerica10;
#0#116 = numerica11;
#0#117 = numerica12;
#0#118 = numerica13;
#0#119 = numerica14;

Campo = varcamp;
#0Campo = 0;
|PARA x = 106; |SI x [ 119; |HACIENDO x = x + 1;
    #0Campo = #0Campo + #0x;
|SIGUE;
|PINTA #0Campo;
|FPRC;

|PROCESO campo505;
numerica1 = #0#125;
numerica2 = #0#126;
numerica3 = #0#127;

|SUB_EJECUTA "ispant12.run";

#0#125 = numerica1;
#0#126 = numerica2;
#0#127 = numerica3;

Campo = varcamp;
#0Campo = #0#125 + #0#126 + #0#127;
|PINTA #0Campo;
|FPRC;

|PROCESO campo511;
numerica1 = #0#129;
numerica2 = #0#130;
numerica3 = #0#131;
numerica4 = #0#132;
numerica5 = #0#133;

|SUB_EJECUTA "ispant13.run";

#0#129 = numerica1;
#0#130 = numerica2;
#0#131 = numerica3;
#0#132 = numerica4;
#0#133 = numerica5;

Campo = varcamp;
#0Campo = #0#129 + #0#130 + #0#131 + #0#132 + #0#133;
|PINTA #0Campo;
|FPRC;

|PROCESO campo515;
numerica1 = #0#135;
numerica2 = #0#136;
numerica3 = #0#137;

|SUB_EJECUTA "ispant14.run";

#0#135 = numerica1;
#0#136 = numerica2;
#0#137 = numerica3;

Campo = varcamp;
#0Campo = #0#135 + #0#136 + #0#137;
|PINTA #0Campo;
|FPRC;

|PROCESO campo519;
numerica1 = #0#139;
numerica2 = #0#140;
numerica3 = #0#141;

|SUB_EJECUTA "ispant15.run";

#0#139 = numerica1;
#0#140 = numerica2;
#0#141 = numerica3;

Campo = varcamp;
#0Campo = #0#139 + #0#140 + #0#141;
|PINTA #0Campo;
|FPRC;

|PROCESO campo524;
numerica1 = #0#143;
numerica2 = #0#144;
numerica3 = #0#145;
numerica4 = #0#146;

|SUB_EJECUTA "ispant16.run";

#0#143 = numerica1;
#0#144 = numerica2;
#0#145 = numerica3;
#0#146 = numerica4;

Campo = varcamp;
#0Campo = #0#143 + #0#144 + #0#145 + #0#146;
|PINTA #0Campo;
|FPRC;

|PROCESO campo527;
numerica1 = #0#148;
numerica2 = #0#149;

|SUB_EJECUTA "ispant17.run";

#0#148 = numerica1;
#0#149 = numerica2;

Campo = varcamp;
#0Campo = #0#148 + #0#149;
|PINTA #0Campo;
|FPRC;

|PROCESO campo605;
numerica1 = #0#162;
numerica2 = #0#163;
numerica3 = #0#164;
numerica4 = #0#165;

|SUB_EJECUTA "ispant18.run";

#0#162 = numerica1;
#0#163 = numerica2;
#0#164 = numerica3;
#0#165 = numerica4;

Campo = varcamp;
#0Campo = #0#162 + #0#163 + #0#164 + #0#165;
|PINTA #0Campo;
|FPRC;

|PROCESO campo611;
numerica1 = #0#169;
numerica2 = #0#170;
numerica3 = #0#171;

|SUB_EJECUTA "ispant19.run";

#0#169 = numerica1;
#0#170 = numerica2;
#0#171 = numerica3;

Campo = varcamp;
#0Campo = #0#169 + #0#170 + #0#171;
|PINTA #0Campo;
|FPRC;

|PROCESO campo615;
numerica1 = #0#173;
numerica2 = #0#174;
numerica3 = #0#175;

|SUB_EJECUTA "ispant20.run";

#0#173 = numerica1;
#0#174 = numerica2;
#0#175 = numerica3;

Campo = varcamp;
#0Campo = #0#173 + #0#174 + #0#175;
|PINTA #0Campo;
|FPRC;

|PROCESO calculo;
#0#79 = #0#3  + #0#4  + #0#13 + #0#31 + #0#49 + #0#50 + #0#51 + #0#52 + #0#53;
#0#79 = #0#79 + #0#56 + #0#66 + #0#73 + #0#74 + #0#77 + #0#78;
|PINTA #0#79;

#0#123 = #0#93 + #0#97 + #0#98 + #0#99 + #0#105 + #0#120 + #0#121 + #0#122;
|PINTA #0#123;

#0#161 = #0#124 + #0#128 + #0#134 + #0#138 + #0#142 + #0#147 + #0#150;
#0#161 = #0#161 + #0#151 + #0#152 + #0#153 + #0#154 + #0#155 + #0#156;
#0#161 = #0#161 + #0#157 + #0#158 + #0#159;

#0#184 = #0#166 + #0#167 + #0#168 + #0#172 + #0#176 + #0#177;
#0#184 = #0#184 + #0#178 + #0#179 + #0#180 + #0#181 + #0#182;

benper = #0#184 - #0#161;
|SI benper > 0;
    #0#160 = benper;
    #0#161 = #0#161 + #0#160;
    #0#183 = 0;
|SINO;
    #0#183 = -benper;
    #0#184 = #0#184 + #0#183;
    #0#160 = 0;
|FINSI;
|PINTA #0#160;
|PINTA #0#183;
|PINTA #0#161;
|PINTA #0#184;
|FPRC;

|PROCESO liquidacio;
|ABRE #1;
#1#0 = #0#0;
#1#1 = #0#1;
|LIBERA #1;
|LEE 110#1=;
FEstado = FSalida;
|SI FEstado ! 0; |DDEFECTO #1; #1#0 = #0#0; #1#1 = #0#1; |FINSI;

#1#2 = #0#88;
|SI FEstado = 0; |GRABA 020#1a; |SINO; |GRABA 020#1n; |FINSI;
|CIERRA #1;
|SUB_EJECUTA "ispant31.run";

|ABRE #2;
#2#0 = #0#0;
#2#1 = #0#1;
|LIBERA #2;
|LEE 110#2=;
FEstado = FSalida;
|SI FEstado ! 0; |DDEFECTO #2; #2#0 = #0#0; #2#1 = #0#1; |FINSI;

#2#3 = #0#88;
#2#7 = #2#3 + #2#4 + #2#5 + #2#6;
|SI FEstado = 0; |GRABA 020#2a; |SINO; |GRABA 020#2n; |FINSI;
|CIERRA #2;
|FPRC;
