|FICHEROS;
    isocie47 #0;
    isocie22 #1;
    maempr01 #2;
    isocie46 #3;
|FIN;

|VARIABLES;
    &empresa   = 0;
    &anyo      = 0;
    &modo      = 0;

    suma    = 0;
    FEstado = 0;
    varcamp = 0;
    sw_estar = 0;
|FIN;

|PROGRAMA;
|ABRE #2;
#2#0 = empresa;
#2#1 = anyo;
|LEE 040#2=;
|SI FSalida ! 0; |DDEFECTO #2; |FINSI;

|SI #2#36 = " "; |Y #2#37 = " ";
    |MENAV "     La empresa no es una Cooperativa";
    |ACABA;
|FINSI;
|CIERRA #2;

|ABRE #0;
|PINPA #0#0;
|SI modo = 1; |O modo = 2; |HAZ pidedato; |FINSI;
|SI modo = 4; |HAZ consulta; |FINSI;
|CIERRA #0;
|FPRO;

|PROCESO pidedato;
#0#0 = empresa;
#0#1 = anyo;
|LEE 110#0=;
FEstado = FSalida;
|SI FEstado ! 0; |DDEFECTO #0; #0#0 = empresa; #0#1 = anyo; |FINSI;
|HAZ liquidacio;
|SI FEstado ! 0; #0#8 = #0#2; |FINSI;
|SI sw_estar = 0;
    |PINDA #0#0;
    |SI modo = 1; |ENDATOS #1#0;  |FINSI;
    |SI modo = 2; |ENDATOS #2#0;  |FINSI;
    |SI FSalida = 0;
        #0#0 = empresa;
        #0#1 = anyo;
        |SI FEstado = 0; |GRABA 020#0a; |SINO; |GRABA 020#0n; |FINSI;
        |LIBERA #0;
        |CIERRA #0;
        |HAZ grabaliq;
    |FINSI;
|SINO;
    |MENAV "     No existe liquidacion";
|FINSI;
|FPRC;

|PROCESO consulta;
  #0#0 = empresa;
  #0#1 = anyo;
  |LEE 040#0=;
  |SI FSalida = 0;
     |PINPA #0#0;
     |PINDA #0#0;
     |PAUSA;
  |FINSI;
|FPRC;

|PROCESO liquidacio; |TIPO 0;
sw_estar = 0;

|ABRE #3;
#3#0 = #0#0;
#3#1 = #0#1;
|LEE 040#3=;
|SI FSalida = 0;
    #0#2  = #3#2;
    #0#3  = #3#3;
    #0#4  = #3#4;
    #0#5  = #3#5;
    #0#7  = #3#7;
    #0#6  = #3#6;
    #0#8  = #3#9;
    #0#17 = #3#6;
|SINO;
    sw_estar = 1;
|FINSI;
|CIERRA #3;
|FPRC;

|PROCESO resultado; |TIPO 0;
varcamp = Campo;
#0#12 =  ((#0#9 + #0#19) - (#0#10 + #0#20) - (#0#11 + #0#21) + #0#22);
|PINTA #0#12;
Campo = varcamp;
|FPRC;

|PROCESO campo12; |TIPO 0;
#0#23 = #0#2 - #0#12;
|PINTA #0#23;
|FPRC;

|PROCESO campo13; |TIPO 0;
#0#24 = #0#3 -  #0#13;
|PINTA #0#24;
|FPRC;

|PROCESO campo14; |TIPO 0;
#0#25 = #0#4 - #0#14;
|PINTA #0#25;
|FPRC;

|PROCESO campo16; |TIPO 0;
#0#27 = #0#7 - #0#16;
|PINTA #0#27;
|FPRC;

|PROCESO calculo; |TIPO 0;
varcamp = Campo;
#0#15 = #0#12 + #0#13 - #0#14;
#0#26 = #0#23 + #0#24 - #0#25;
#0#18 = #0#15 - #0#16 - #0#17;
#0#28 = #0#26 - #0#27;

|PINTA #0#15;
|PINTA #0#26;
|PINTA #0#18;
|PINTA #0#28;
Campo = varcamp;
|FPRC;

|PROCESO grabaliq;
|SUB_EJECUTA "isz00005.run";
|FPRC;
