|FICHEROS;
   isocie10 #1;
   isocie04 #2;
   isfant02 #3;

   isocie06 #4;
   isocie07 #5;
   isocie08 #6;
   isocie16 #7;
   isocie17 #8;
   isocie18 #9;
   isocie19 #10;
   isocie11 #11;
   isfant03 #12;
|FIN;

|VARIABLES;
   &empresa  = 0;
   &anyo     = 0;
   &nombre   = "";
   &cif      = "";
   &impresor = "";
   &informe  = "";

   contador  = 0;
   importe   = "";
   impor1    = "";
   impor2    = "";
   impor3    = "";
   impor4    = "";
   len       = "";
   leng      = 0;
   var1      = 0;
   var2      = 0;
   var3      = 0;
   var4      = 0;
   var5      = 0;
   var6      = 0;
   var7      = 0;
   periodo   = "";
   peri      = 0;
|FIN;

|PROCESO isy20007;
|HAZ hoja_07_11;
|HAZ hoja_07_12;
|FPRC;

|| **************************************************************************
||                        PROCESOS hoja_07_ 11
|| **************************************************************************

|PROCESO exencion_07;
contador = contador + 1;
|SI contador [ 14;
    var1 = contador - 1;
    var2 = var1 + 15; var3 = var2 + 15; var4 = var3 + 15;
    var5 = var4 + 15; var6 = var5 + 15; var7 = var6 + 15;

    |SI #2#5 = 0;
        #3var1 = "----------";
        #3var2 = "--------------";
        #3var3 = "--------------";
        #3var4 = "--------------";
    |SINO;
        #3var1  = #2#4;
        importe = #2#5; |HAZ importe_07; #3var2 = importe;
        importe = #2#6; |HAZ importe_07; #3var3 = importe;
        importe = #2#7; |HAZ importe_07; #3var4 = importe;
    |FINSI;

    |SI #2#9 = 0;
        #3var5 = "-";
        #3var6 = "----------";
        #3var7 = "--------------";
    |SINO;
        #3var5 = #2#3;
        #3var6 = #2#8;
        importe = #2#9; |HAZ importe_07; #3var7 = importe;
    |FINSI;
|FINSI;

periodo = #2#4 % -102;
peri    = periodo;

|SI peri = 92;
    #3#105 = #3#105 + #2#5;
    |SI #2#9 ! 0;
        periodo = #2#8 % -102;
        peri    = periodo;
        |SI peri = 92;  #3#106 = #3#106 + #2#9; |FINSI;
        |SI peri = 93;  #3#107 = #3#107 + #2#9; |FINSI;
        |SI peri = 94;  #3#108 = #3#108 + #2#9; |FINSI;
        |SI peri > 94;  #3#109 = #3#109 + #2#9; |FINSI;
    |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE isocie04;
#2#1;
;
empresa, anyo, 01;
empresa, anyo, 99;
e;
NULL, exencion_07;
|FIN;

|PROCESO hoja_07_11;
|ABRE #1;
#1#0 = empresa;
#1#1 = anyo;
|LEE 040#1=;
|SI FSalida ! 0; |DDEFECTO #1; |FINSI;
|CIERRA #1;

|DDEFECTO #3;
contador = 0; |BUCLE isocie04;

informe = "h9220011";  |HAZ imprime;
|FPRC;

|PROCESO importe_07;    || Calculo para poner las comas en el importe
len = importe % 0;
leng = len;
importe = "              " + importe;
importe = importe % -114;
      impor1 = importe % -103;
      impor2 = importe % -403;
      impor3 = importe % -703;
      impor4 = importe % -1004;
|SI leng ] 10;
    |SI impor4 ! "  -";
        importe = impor4 + "." + impor3  + "." + impor2 + "." + impor1;
    |SINO;
        importe = impor4 + impor3  + "." + impor2 + "." + impor1;
    |FINSI;
|SINO;
    |SI leng ] 7;
       |SI impor3 ! "  -";
           importe = impor3  + "." + impor2 + "." + impor1;
       |SINO;
           importe = impor3 + impor2 + "." + impor1;
       |FINSI;
    |SINO;
       |SI leng ] 4;
           |SI impor2 ! "  -";
               importe = impor2 + "." + impor1;
           |SINO;
               importe = impor2 + impor1;
           |FINSI;
       |SINO;
           importe = impor1;
       |FINSI;
    |FINSI;
|FINSI;
importe = "             " + importe;
importe = importe % -114;
|FPRC;

|| **************************************************************************
||                        PROCESOS hoja_07_ 12
|| **************************************************************************

|PROCESO anyo92;
|SI #4#3 = "AF"; #12#000 = #12#000 + #4#7; |FINSI;
|SI #4#3 = "GI"; #12#001 = #12#001 + #4#7; |FINSI;
|SI #4#3 = "GA"; #12#002 = #12#002 + #4#7; |FINSI;
|SI #4#3 = "EL"; #12#003 = #12#003 + #4#7; |FINSI;
|SI #4#3 = "AE"; #12#004 = #12#004 + #4#7; |FINSI;
|SI #4#3 = "BI"; #12#005 = #12#005 + #4#7; |FINSI;
|FPRC;

|DEFBUCLE isocie06;
#4#1;
;
empresa, anyo, 01;
empresa, anyo, 99;
e;
NULL, anyo92;
|FIN;

|PROCESO canarias;
#12#009 = #12#009 + #5#7;
|FPRC;

|DEFBUCLE isocie07;
#5#1;
;
empresa, anyo, 01;
empresa, anyo, 99;
e;
NULL, canarias;
|FIN;

|PROCESO expo_07;
|SI #6#3 = "E"; |Y #6#4 = 92; #12#006 = #12#006 + #6#8; |FINSI;
|SI #6#3 = "J"; |Y #6#4 = 92; #12#007 = #12#007 + #6#8; |FINSI;
|SI #6#3 = "M"; |Y #6#4 = 92; #12#008 = #12#008 + #6#8; |FINSI;
|SI #6#3 = "1"; |Y #6#4 = 92; #12#010 = #12#010 + #6#8; |FINSI;
|SI #6#3 = "2"; |Y #6#4 = 92; #12#010 = #12#010 + #6#8; |FINSI;
|FPRC;

|DEFBUCLE isocie08;
#6#1;
;
empresa, anyo, 01;
empresa, anyo, 99;
e;
NULL, expo_07;
|FIN;

|PROCESO ris218_7;
contador = contador + 1;
|SI contador [ 6;
    var1 = contador + 21; var2 = var1 + 6; var3 = var2 + 6;
    var4 = var3     + 6;  var5 = var4 + 6; var6 = var5 + 6;
    #12var1 = #7#3; #12var2 = #7#4; #12var3 = #7#5;
    #12var4 = #7#6; #12var5 = #7#7; #12var6 = #7#8;
|FINSI;
|FPRC;

|DEFBUCLE isocie16;
#7#1;
;
empresa, anyo, 01;
empresa, anyo, 99;
e;
NULL, ris218_7;
|FIN;

|PROCESO intersoc_07;
|SI #8#3 = 1;
    #12#58 = #12#58 + #8#5; #12#62 = #12#62 + #8#6; #12#66 = #12#66 + #8#7;
|FINSI;

|SI #8#3 = 2;
    #12#59 = #12#59 + #8#5; #12#63 = #12#63 + #8#6; #12#67 = #12#67 + #8#7;
|FINSI;

|SI #8#3 = 3;
    #12#60 = #12#60 + #8#5; #12#64 = #12#64 + #8#6; #12#68 = #12#68 + #8#7;
|FINSI;

|SI #8#3 = 4;
    #12#61 = #12#61 + #8#5; #12#65 = #12#65 + #8#6; #12#69 = #12#69 + #8#7;
|FINSI;
|FPRC;

|DEFBUCLE isocie17;
#8#1;
;
empresa, anyo, 01;
empresa, anyo, 99;
e;
NULL, intersoc_07;
|FIN;

|PROCESO internac_07;
contador = contador + 1;
|SI contador [ 4;
    var1 = contador + 69; var2 = var1 + 4; var3 = var2 + 4; var4 = var3 + 4;
    #12var1 = #9#3; #12var2 = #9#4; #12var3 = #9#5; #12var4 = #9#6;
|FINSI;
|FPRC;

|DEFBUCLE isocie18;
#9#1;
;
empresa, anyo, 01;
empresa, anyo, 99;
e;
NULL, internac_07;
|FIN;

|PROCESO bonific_07;
contador = contador + 1;
|SI contador [ 6;
    var1 = contador + 85; var2 = var1 + 6; var3 = var2 + 6; var4 = var3 + 6;
    #12var1 = #10#4; #12var2 = #10#5; #12var3 = #10#6; #12var4 = #10#7;
|FINSI;
|FPRC;

|DEFBUCLE isocie19;
#10#1;
;
empresa, anyo, 01;
empresa, anyo, 99;
e;
NULL, bonific_07;
|FIN;

|PROCESO hoja_07_12;
|DDEFECTO #12;

|BUCLE isocie06;
|BUCLE isocie07;
|BUCLE isocie08;

contador = 0; |BUCLE isocie16;
|BUCLE isocie17;
contador = 0; |BUCLE isocie18;
contador = 0; |BUCLE isocie19;

|ABRE #11;
#11#0 = empresa;
#11#1 = anyo;
|LEE 040#11=;
|SI FSalida ! 0; |DDEFECTO #11; |FINSI;
|CIERRA #11;

#12#11 = #11#36;
#12#12 = #11#39;
#12#14 = #11#42;
#12#15 = #11#45;
#12#16 = #11#48;
#12#17 = #11#69;
#12#18 = #11#87;
#12#19 = #11#99;
#12#20 = #11#123;
#12#21 = #11#126;

informe = "h9220012";  |HAZ imprime;
|FPRC;
