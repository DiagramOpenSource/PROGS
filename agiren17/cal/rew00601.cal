|FICHEROS;
     rem00021;
     rem00100;
     reparame;

     rew00621,MANTE;
     rew00601,MANTE;
|FIN;

|VARIABLES;
     aAlfa         = "";
     aAlfa1        = "";
     aAlfa2        = "";
     aAlfa3        = "";
     aLong         = "";
     aQueQuiero    = "";
     aNumCampos    = "";
     aNumPanta     = "";
     aPathRenta    = "";
     aDef          = "";
     aDescri       = "";
     Comodin       = "";
     Comodin1      = "";

     aEsc1         = "";
     aEsc2         = "";
     aRetu         = "";
     aTecla        = "";
     aID           = "";

     nVentana603    = -1;
     nCampo         = 0;
     nRango         = 0;
     nGrid          = -1;
     nBotonAlta     = 0;
     nBotonModi     = 0;
     nBotonBaja     = 0;
     nBotonCntr     = 0;
     nBotonRdto     = 0;
     nBotonInve     = 0;
     nBotonVent     = 0;
     nBotonAlqu     = 0;
     nBotonCalc1    = 0;
     nBotonCalc2    = 0;
     nBotonCalc3    = 0;
     nBotonCalc602_1= 0;
     nBotonCalc603_1= 0;
     nBotonCalc603_2= 0;
     nBotonCalc603_3= 0;
     nBotonCalc603_4= 0;
     nBotonCalc603_5= 0;
     nBotonCalc603_6= 0;
     nBotonCalc603_7= 0;
     nBotonCalc603_8= 0;
     nPanta         = 0;
     nPanta602      = 0;
     nPanta603      = 0;
     nID            = 0;
     nFecha         = 0;
     nEntrar        = 0;

     nDiasHT        = 0;
     nDiasHC        = 0;
     nDiasH1        = 0;
     nDiasH2        = 0;
     nDiasH3        = 0;
     nDiasH4        = 0;
     nPorce        = 0;
     nError        = 0;
     nTotal        = 0;
     nMejoras      = 0;
     nEdad         = 0;
     nAnyos        = 0;
     nLineaViv     = 0;
     nHabitual     = 0;
     nValor2       = 0;
     nNume         = 0;
     nAct117       = 0;
     nLin117       = 0;
     nSuma         = 0;
     nDiasHab      = 0;
     nDiasAlq      = 0;
     nDiasUso      = 0;
     nLong         = 0;
     nCaracter     = 0;
     nPosi         = 0;
     nNumPanta     = 0;
     nModo         = 0;
     nEntrada      = 0;
     nPtas         = 0;
     nRetencion    = 0;
     nValor        = 0;
     nValor1       = 0;
     nValorPat     = 0;
     nDias         = 0;
     nAnyoVenta    = 0;
     nAnyoCompra   = 0;
     nDiferencia   = 0;
     nCoefi        = 0;
     nLinea        = 0;
     nContenido    = 0;
     nAnyo         = 0;
     nSwHay        = 0;
     nCampo1       = 0;
     nCampo2       = 0;
     nCampo3       = 0;
     nCampo4       = 0;
     nCampo5       = 0;
     nFallecido    = 0;
     nCanti1       = 0;
     nCanti2       = 0;
     nCanti3       = 0;
     nCanti4       = 0;
     nDia1         = 0;
     nDia2         = 0;
     nCoef         = 0;
     nCampo21      = 0;
     nCampo22      = 0;
     nCampo23      = 0;
     nCampo25      = 0;
     nCampo26      = 0;
     nCampo27      = 0;
     nCampo29      = 0;
     nCampo44      = 0;
     nCampo45      = 0;
     nCoefMej      = 0;
     n0Vtn         = 0;

     nTodosDias    = 0;
     nParciDias    = 0;

     fFechaDT9     = @;
     fFechaTop     = @;

     fFechaAdq     = @;
     fFechaTra     = @;
     fFecha        = @;
     fFecha1       = @;
     fFecha2       = @;

     &enEmpresa    = 0;
     &enModo       = 0;
     &enModoReg    = 0;
     &eaDeclarante = "";
     &enComunes    = 0;
     &enChequeo    = 0;
     &enMinusvalia = 0;
     &eaMinuAyuda  = "";
     &eaFallece    = "";
     &eaSwVarios   = "";
     &eaVarDni     = "";
     &enCalcCif    = 0;
     &enSwLiquida  = 0;
     &enSwRetorno  = 0;
     &eaPrograma   = "";
     &eaPunto      = "";

     &eaLetra      = "";
     &eaDeDonde    = "";
     &eaLinDonde   = "";
     &eaAnyoUsu    = "";
     &eaPatr06     = "";
     &eaPatr07     = "";
     &eaPatr08     = "";
     &eaPatr09     = "";
     &eaPatr10     = "";
     &eaPatr11     = "";
     &eaPatr12     = "";
     &eaPatr13     = "";
     &eaPatr14     = "";
     &eaPatr15     = "";
     &eaPatr16     = "";
     &eaPatr17     = "";
     &eaPatr18     = "";
     &eaPatr19     = "";
     &eaPatr20     = "";
     &eaPatr21     = "";
     &eaPatr22     = "";
     &eaPatr23     = "";

     &eaExtr       = "";
     &enSwPresenta = 0
     &eaAzul       = "";
     &eaVerde      = "";
     &eaRojo       = "";
     &eaRosa       = "";
     &enBtnSalir   = 0;
     &enImporte    = 0;
     &enQuita      = 0;
     &enTotalDias  = 0;
     &enTotalDias1 = 0;
     &enTotalDias2 = 0;
     &enVtna621    = -1;
     &enNumCampos  = 0;
|FIN;

|PROCESO TotalDias;  |TIPO 7;
     |ABRE #rem00100;
     #rem00100#0 = #rew00621#0;
     |LEE 040#rem00100.=;
     |SI FSalida ! 0;  |DDEFECTO #rem00100;  |FINSI;
     |CIERRA #rem00100;

     enTotalDias1 = 0;
     enTotalDias2 = 0;

     |SI #rem00100#92 ! "01.01.0000"; |Y #rem00100#91 = "T";  |Y #rew00621#2 = "TITULAR   ";
         fFecha = #rem00100#92;
         |SI #rew00621#24 = "N";  |Y #rew00621#25 [ "01.01.2017";
             fFecha      = #rem00100#92;
             fFecha1     = "01.01.2017";
             enTotalDias1 = (fFecha - fFecha1) + 1;
         |SINO;
             |SI #rew00621#24 = "S";
                 |SI #rew00621#25 < "01.01.2017";
                     fFecha = "01.01.2017";
                     |SI #rew00621#68 < #rem00100#92;
                         enTotalDias1 = (#rew00621#68 - fFecha) + 1;
                     |SINO;
                         enTotalDias1 = (#rem00100#92 - fFecha) + 1;
                     |FINSI;
                 |SINO;
                     |SI #rew00621#68 < #rem00100#92;
                         enTotalDias1 = (#rew00621#68 - #rew00621#25) + 1;
                     |SINO;
                         enTotalDias1 = (#rem00100#92 - #rew00621#25) + 1;
                      |FINSI;
                 |FINSI;
             |SINO;
                 fFecha      = #rem00100#92;
                 enTotalDias1 = (fFecha - #rew00621#25) + 1;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00100#92 ! "01.01.0000"; |Y #rem00100#91 = "C";  |Y #rew00621#2 = "CONYUGE   ";
         fFecha = #rem00100#92;
         |SI #rew00621#24 = "N";  |Y #rew00621#25 [ "01.01.2017";
             fFecha      = #rem00100#92;
             fFecha1     = "01.01.2017";
             enTotalDias1 = (fFecha - fFecha1) + 1;
         |SINO;
             |SI #rew00621#24 = "S";
                 |SI #rew00621#25 < "01.01.2017";
                     fFecha = "01.01.2017";
                     |SI #rew00621#68 < #rem00100#92;
                         enTotalDias1 = (#rew00621#68 - fFecha) + 1;
                     |SINO;
                         enTotalDias1 = (#rem00100#92 - fFecha) + 1;
                     |FINSI;
                 |SINO;
                     |SI #rew00621#68 < #rem00100#92;
                         enTotalDias1 = (#rew00621#68 - #rew00621#25) + 1;
                     |SINO;
                         enTotalDias1 = (#rem00100#92 - #rew00621#25) + 1;
                      |FINSI;
                 |FINSI;
             |SINO;
                 fFecha     = #rem00100#92;
                 enTotalDias1 = (fFecha - #rew00621#25) + 1;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00100#92 ! "01.01.0000";
         |SI #rew00621#2 = "GANANCIAL ";  |O #rew00621#2 = "VARIOS    ";
             fFecha = #rem00100#92;
             |SI #rew00621#24 = "N";  |Y #rew00621#25 [ "01.01.2017";
                 fFecha      = #rem00100#92;
                 fFecha1     = "01.01.2017";
                 enTotalDias1 = (fFecha - fFecha1) + 1;

                 fFecha      = #rem00100#92;
                 fFecha1     = "31.12.2017";
                 enTotalDias2 = (fFecha1 - (fFecha + 1)) + 1;
             |SINO;
                 |SI #rew00621#24 = "S";
                     |SI #rew00621#25 < "01.01.2017";
                         |SI #rew00621#68 < #rem00100#92;
                             fFecha      = "01.01.2017";
                             enTotalDias1 = (#rew00621#68 - fFecha) + 1;
                         |SINO;
                             fFecha       = "01.01.2017";
                             enTotalDias1  = (#rem00100#92 - fFecha) + 1;
                             enTotalDias2  = (#rew00621#68 - (#rem00100#92 + 1) + 1);
                         |FINSI;
                     |SINO;
                         |SI #rew00621#25 < #rem00100#92;
                             |SI #rew00621#68 > #rem00100#92;
                                 enTotalDias1  = (#rem00100#92 - #rew00621#25) + 1;
                                 enTotalDias2  = (#rew00621#68 - (#rem00100#92 + 1)) + 1;
                             |SINO;
                                 enTotalDias1  = (#rew00621#68 - #rew00621#25) + 1;
                             |FINSI;
                         |SINO;
                              enTotalDias2 = (#rew00621#68 - #rew00621#25) + 1;
                         |FINSI;
                     |FINSI;
                 |SINO;
                     |SI #rew00621#25 < #rem00100#92;
                         fFecha      = #rem00100#92;
                         enTotalDias1 = (fFecha - #rew00621#25) + 1;
                         fFecha      = "31.12.2017";
                         enTotalDias2 = (fFecha - (#rem00100#92 + 1)) + 1;
                     |SINO;
                         fFecha      = "31.12.2017";
                         enTotalDias2 = (fFecha - #rew00621#25) + 1;
                     |FINSI;
                 |FINSI;
             |FINSI;
         |FINSI;

         |SI #rew00621#2 = "VARIOS    ";
             |SI #rem00100#91 = "T";
                 |SI #rew00621#6 = 0;  |Y #rew00621#7 = 0;  |Y #rew00621#8 = 0;
                  |Y #rew00621#9 = 0;  |Y #rew00621#10 = 0;
                     enTotalDias2 = 0;
                 |FINSI;
             |FINSI;

             |SI #rem00100#91 = "C";
                 |SI #rew00621#5 = 0;  |Y #rew00621#7 = 0;  |Y #rew00621#8 = 0;
                  |Y #rew00621#9 = 0;  |Y #rew00621#10 = 0;
                     enTotalDias2 = 0;
                 |FINSI;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI enTotalDias1 = 0;  |Y enTotalDias2 = 0;
         |SI #rew00621#24 = "N";  |Y #rew00621#25 [ "01.01.2017";
             enTotalDias1 = 365;
         |SINO;
             |SI #rew00621#24 = "S";
                |SI eaExtr = "S";
                    Comodin  = #rew00621#68; |QBF Comodin;
                    Comodin1 = #rew00621#25; |QBF Comodin;
                    |SI Comodin ! Comodin1;
                       Comodin = "01.01." + (Comodin % -104);
                       fFecha = Comodin;
                    |SINO;
                       fFecha = #rew00621#25;
                    |FINSI;
                    enTotalDias1 = (#rew00621#68 - fFecha) + 1;
                |SINO;
                    |SI #rew00621#25 < "01.01.2017";
                       fFecha = "01.01.2017";
                       enTotalDias1 = (#rew00621#68 - fFecha) + 1;
                    |SINO;
                       enTotalDias1 = (#rew00621#68 - #rew00621#25) + 1;
                    |FINSI;
                 |FINSI;
             |SINO;
                 |SI eaExtr = "S";
                    Comodin = #rew00621#25; |QBF Comodin;
                    Comodin = "31.12." + (Comodin % -104);
                    fFecha = Comodin;
                 |SINO;
                    fFecha = "31.12.2017";
                 |FINSI;
                 enTotalDias1 = (fFecha - #rew00621#25) + 1;
             |FINSI;
         |FINSI;
     |FINSI;

     nValor = #rew00621#30 + #rew00621#31 + #rew00621#32 + #rew00621#33 + #rew00621#34 + #rew00621#35;
     |SI nValor = 0;
         |SI #rew00621#18 ! "S";
             #rew00621#30 = enTotalDias1;
             #rew00621#33 = enTotalDias2;
         |SINO;
             #rew00621#32 = enTotalDias1;
             #rew00621#35 = enTotalDias2;
         |FINSI;
         |PINTA #rew00621#30;
         |PINTA #rew00621#32;
         |PINTA #rew00621#33;
         |PINTA #rew00621#35;
     |FINSI;

     |SI enTotalDias2 = 0;
         |C_M #rew00621#33, 1, "N";  #rew00621#33 = 0;  |PINTA #rew00621#33;
         |C_M #rew00621#34, 1, "N";  #rew00621#34 = 0;  |PINTA #rew00621#34;
         |C_M #rew00621#35, 1, "N";  #rew00621#35 = 0;  |PINTA #rew00621#35;
     |FINSI;
|FPRC;

|PROCESO FinVentana621;
     |SI enVtna621 ! -1;
         |FINVENTANA enVtna621;
         enVtna621 = -1;
     |FINSI;

     |PULSATECLA;
|FPRC;

|| ---- PROCESOS DEL REW00601

|PROCESO Tipo12Fw601;  |TIPO 12;
     |SI FSalida = 7;  |ACABA;  |FINSI;

     |SI #rew00601#137 = "S";
         aAlfa = #rew00601#138;  |QBF aAlfa;
         |SI aAlfa = "";
             |MENAV "0000Alquiler de una CB, es obligatorio informar el CIF y el porcentaje de participaci¢n";
             |ERROR;
             |ACABA;
         |FINSI;

         |SI #rew00601#139 = 0;
             |MENAV "0000Alquiler de una CB, es obligatorio informar el CIF y el porcentaje de participaci¢n";
             |ERROR;
             |ACABA;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO LetraNif;  |TIPO 6;
     |SI FSalida = 10;
         eaVarDni  = #rew00601#Campo#;
         enCalcCif = 1;
         |HAZ CalculoDNI;
         #rew00601#Campo# = eaVarDni;
         |PINTA #rew00601#Campo#;
         |ERROR;
         |ACABA;
     |FINSI;

     #rew00601#145 = "S";
     eaVarDni      = #rew00601#Campo#;
     enCalcCif     = 0;
     |HAZ CalculoDNI;
     eaVarDni = (eaVarDni + "                    ") % 120;
     |SI #rew00601#Campo# ! eaVarDni;
         |CONFI "0000SEl Nif puede ser Erroneo. Desea Calcularlo.";
         |SI FSalida = 0;
             #rew00601#Campo# = eaVarDni;  |PINTA #rew00601#Campo#;
             |ERROR;
             |ACABA;
         |FINSI;

         |CONFI "0000NEs un N£mero de Identificaci¢n de otro pais";
         |SI FSalida = 0;
             #rew00601#145 = "N";
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO Automatico;
     |SI #rew00601#137 = "S";  |ACABA; |FINSI;

     |HAZ TotalDias;

     nValor = #rew00621#31 + #rew00621#34;

     |C_M #rew00601#37,  1, "S";
     |C_M #rew00601#39,  1, "S";
     |C_M #rew00601#41,  1, "S";
     |C_M #rew00601#43,  1, "S";
     |C_M #rew00601#46,  1, "S";
     |C_M #rew00601#48,  1, "S";
     |C_M #rew00601#49,  1, "S";
     |C_M #rew00601#50,  1, "S";
     |C_M #rew00601#52,  1, "S";
     |C_M #rew00601#54,  1, "S";
     |C_M #rew00601#56,  1, "S";
     |C_M #rew00601#59,  1, "S";
     |C_M #rew00601#130, 1, "S";
     |C_M #rew00601#132, 1, "S";

     |SI enTotalDias1 = nValor; |Y enTotalDias1 = 365;
         |C_M #rew00601#37,  1, "N"; #rew00601#37  = "A";
         |C_M #rew00601#39,  1, "N"; #rew00601#39  = "A";
         |C_M #rew00601#41,  1, "N"; #rew00601#41  = "A";
         |C_M #rew00601#43,  1, "N"; #rew00601#43  = "A";
         |C_M #rew00601#46,  1, "N"; #rew00601#46  = "A";
         |C_M #rew00601#48,  1, "N"; #rew00601#48  = "A";
         |C_M #rew00601#49,  1, "N"; #rew00601#49  = "A";
         |C_M #rew00601#50,  1, "N"; #rew00601#50  = "A";
         |C_M #rew00601#52,  1, "N"; #rew00601#52  = "A";
         |C_M #rew00601#54,  1, "N"; #rew00601#54  = "A";
         |C_M #rew00601#56,  1, "N"; #rew00601#56  = "A";
         |C_M #rew00601#59,  1, "N"; #rew00601#59  = "A";
         |C_M #rew00601#130, 1, "N"; #rew00601#130 = "A";
         |C_M #rew00601#132, 1, "N"; #rew00601#132 = "A";
     |SINO;
         |SI #rew00601#37  = " ";  #rew00601#37  = "P";  |FINSI;
         |SI #rew00601#39  = " ";  #rew00601#39  = "P";  |FINSI;
         |SI #rew00601#41  = " ";  #rew00601#41  = "P";  |FINSI;
         |SI #rew00601#43  = " ";  #rew00601#43  = "P";  |FINSI;
         |SI #rew00601#46  = " ";  #rew00601#46  = "P";  |FINSI;
         |SI #rew00601#48  = " ";  #rew00601#48  = "P";  |FINSI;
         |SI #rew00601#49  = " ";  #rew00601#49  = "P";  |FINSI;
         |SI #rew00601#50  = " ";  #rew00601#50  = "P";  |FINSI;
         |SI #rew00601#52  = " ";  #rew00601#52  = "P";  |FINSI;
         |SI #rew00601#54  = " ";  #rew00601#54  = "P";  |FINSI;
         |SI #rew00601#56  = " ";  #rew00601#56  = "P";  |FINSI;
         |SI #rew00601#59  = " ";  #rew00601#59  = "P";  |FINSI;
         |SI #rew00601#130 = " ";  #rew00601#130 = "P";  |FINSI;
         |SI #rew00601#132 = " ";  #rew00601#132 = "P";  |FINSI;
     |FINSI;

     |PINTA #rew00601#37;
     |PINTA #rew00601#39;
     |PINTA #rew00601#41;
     |PINTA #rew00601#43;
     |PINTA #rew00601#46;
     |PINTA #rew00601#48;
     |PINTA #rew00601#49;
     |PINTA #rew00601#50;
     |PINTA #rew00601#52;
     |PINTA #rew00601#54;
     |PINTA #rew00601#56;
     |PINTA #rew00601#59;
     |PINTA #rew00601#130;
     |PINTA #rew00601#132;
|FPRC;

|PROCESO Tipo0C137Fw601;  |TIPO 0;
     nDias = #rew00621#30 + #rew00621#32 + #rew00621#33 + #rew00621#35;
     |SI nDias ! 0;
         |SI #rew00601#137 = "S";
             aAlfa = "0000Inmueble alquilado y con d¡as en habitual u otros usos,";
             aAlfa = aAlfa + " no puede generar ingresos en una CB. Corrija los d¡as.";
             |MENAV aAlfa;

             #rew00601#137 = "N";  |PINTA #rew00601#137;
         |FINSI;
     |FINSI;

     |C_M #rew00601#138, 1, "S";
     |C_M #rew00601#139, 1, "S";
     |C_M #rew00601#36,  1, "S";
     |C_M #rew00601#46,  1, "S";
     |C_M #rew00601#47,  1, "S";
     |C_M #rew00601#37,  1, "S";
     |C_M #rew00601#38,  1, "S";
     |C_M #rew00601#39,  1, "S";
     |C_M #rew00601#40,  1, "S";
     |C_M #rew00601#41,  1, "S";
     |C_M #rew00601#42,  1, "S";
     |C_M #rew00601#43,  1, "S";
     |C_M #rew00601#44,  1, "S";
     |C_M #rew00601#156, 1, "S";
     |C_M #rew00601#157, 1, "S";
     |C_M #rew00601#158, 1, "S";
     |C_M #rew00601#159, 1, "S";
     |C_M #rew00601#48,  1, "S";
     |C_M #rew00601#22,  1, "S";
     |C_M #rew00601#130, 1, "S";
     |C_M #rew00601#131, 1, "S";
     |C_M #rew00601#49,  1, "S";
     |C_M #rew00601#21,  1, "S";
     |C_M #rew00601#50,  1, "S";
     |C_M #rew00601#51,  1, "S";
     |C_M #rew00601#52,  1, "S";
     |C_M #rew00601#53,  1, "S";
     |C_M #rew00601#54,  1, "S";
     |C_M #rew00601#55,  1, "S";
     |C_M #rew00601#56,  1, "S";
     |C_M #rew00601#57,  1, "S";
     |C_M #rew00601#112, 1, "S";
     |C_M #rew00601#113, 1, "S";
     |C_M #rew00601#114, 1, "S";
     |C_M #rew00601#58,  1, "S";
     |C_M #rew00601#59,  1, "S";
     |C_M #rew00601#60,  1, "S";
     |C_M #rew00601#115, 1, "S";
     |C_M #rew00601#132, 1, "S";
     |C_M #rew00601#133, 1, "S";

     |SI #rew00601#137 = "N";
         |C_M #rew00601#138, 1, "N";  #rew00601#138 = "";   |PINTA #rew00601#138;
         |C_M #rew00601#139, 1, "N";  #rew00601#139 = 0;    |PINTA #rew00601#139;
     |SINO;
         |C_M #rew00601#36,  1, "N";  #rew00601#36  = "N";    |PINTA #rew00601#36;
         |C_M #rew00601#46,  1, "N";  #rew00601#46  = "A";    |PINTA #rew00601#46;
         |C_M #rew00601#47,  1, "N";  #rew00601#47  = 0;      |PINTA #rew00601#47;
         |C_M #rew00601#37,  1, "N";  #rew00601#37  = "A";    |PINTA #rew00601#37;
         |C_M #rew00601#38,  1, "N";  #rew00601#38  = 0;      |PINTA #rew00601#38;
         |C_M #rew00601#39,  1, "N";  #rew00601#39  = "A";    |PINTA #rew00601#39;
         |C_M #rew00601#40,  1, "N";  #rew00601#40  = 0;      |PINTA #rew00601#40;
         |C_M #rew00601#41,  1, "N";  #rew00601#41  = "A";    |PINTA #rew00601#41;
         |C_M #rew00601#42,  1, "N";  #rew00601#42  = 0;      |PINTA #rew00601#42;
         |C_M #rew00601#43,  1, "N";  #rew00601#43  = "A";    |PINTA #rew00601#43;
         |C_M #rew00601#44,  1, "N";  #rew00601#44  = 0;      |PINTA #rew00601#44;
         |C_M #rew00601#140, 1, "N";  #rew00601#140 = 0;      |PINTA #rew00601#140;
         |C_M #rew00601#156, 1, "N";  #rew00601#156 = 0;      |PINTA #rew00601#156;
         |C_M #rew00601#157, 1, "N";  #rew00601#157 = 0;      |PINTA #rew00601#157;
         |C_M #rew00601#158, 1, "N";  #rew00601#158 = 0;      |PINTA #rew00601#158;
         |C_M #rew00601#159, 1, "N";  #rew00601#159 = 0;      |PINTA #rew00601#159;
         |C_M #rew00601#48,  1, "N";  #rew00601#48  = "A";    |PINTA #rew00601#48;
         |C_M #rew00601#22,  1, "N";  #rew00601#22  = 0;      |PINTA #rew00601#22;
         |C_M #rew00601#130, 1, "N";  #rew00601#130 = "A";    |PINTA #rew00601#130;
         |C_M #rew00601#131, 1, "N";  #rew00601#131 = 0;      |PINTA #rew00601#131;
         |C_M #rew00601#49,  1, "N";  #rew00601#49  = "A";    |PINTA #rew00601#49;
         |C_M #rew00601#21,  1, "N";  #rew00601#21  = 0;      |PINTA #rew00601#21;
         |C_M #rew00601#50,  1, "N";  #rew00601#50  = "A";    |PINTA #rew00601#50;
         |C_M #rew00601#51,  1, "N";  #rew00601#51  = 0;      |PINTA #rew00601#51;
         |C_M #rew00601#52,  1, "N";  #rew00601#52  = "A";    |PINTA #rew00601#52;
         |C_M #rew00601#53,  1, "N";  #rew00601#53  = 0;      |PINTA #rew00601#53;
         |C_M #rew00601#56,  1, "N";  #rew00601#56  = "A";    |PINTA #rew00601#56;
         |C_M #rew00601#57,  1, "N";  #rew00601#57  = 0;      |PINTA #rew00601#57;
         |C_M #rew00601#112, 1, "N";  #rew00601#112 = 0;      |PINTA #rew00601#112;
         |C_M #rew00601#113, 1, "N";  #rew00601#113 = 0;      |PINTA #rew00601#113;
         |C_M #rew00601#114, 1, "N";  #rew00601#114 = 0;      |PINTA #rew00601#114;
         |C_M #rew00601#58,  1, "N";  #rew00601#58  = 0;      |PINTA #rew00601#58;
         |C_M #rew00601#59,  1, "N";  #rew00601#59  = "A";    |PINTA #rew00601#59;
         |C_M #rew00601#115, 1, "N";  #rew00601#115 = 0;      |PINTA #rew00601#115;
         |C_M #rew00601#60,  1, "N";  #rew00601#60  = 0;      |PINTA #rew00601#60;
         |C_M #rew00601#54,  1, "N";  #rew00601#54  = "A";    |PINTA #rew00601#54;
         |C_M #rew00601#55,  1, "N";  #rew00601#55  = 0;      |PINTA #rew00601#55;
         |C_M #rew00601#132, 1, "N";  #rew00601#132 = "A";    |PINTA #rew00601#132;
         |C_M #rew00601#133, 1, "N";  #rew00601#133 = 0;      |PINTA #rew00601#133;

         |MENAV "0000 Los rendimientos se deben informar por el apartado de imputaciones de entidades en atribucion de renta";
     |FINSI;
|FPRC;

|PROCESO T7C139;  |TIPO 7;
     |VENTANA 1855, 2391, -1, 1, "";
     n0Vtn = FSalida;

     |CONTROL_SIMPLE 0, "LABEL,{{16}}Si se ha informado el porcentaje ", 1856, 1890, NULL;
     |CONTROL_SIMPLE 0, "LABEL,{{16}}del inmueble al contibuyente, ", 1956, 1990, NULL;
     |CONTROL_SIMPLE 0, "LABEL,{{16}}aqui se debe poner 100%. En caso ", 2056, 2090, NULL;
     |CONTROL_SIMPLE 0, "LABEL,{{16}}contrario poner el porcentaje de ", 2156, 2190, NULL;
     |CONTROL_SIMPLE 0, "LABEL,{{16}}la comunidad", 2256, 2290, NULL;

     |PTEC 802;  |PAUSA;
|FPRC;

|PROCESO T0C139;  |TIPO 0;
     |SI n0Vtn ! -1;
         |FINVENTANA n0Vtn;
         n0Vtn = -1;
     |FINSI;

     |PULSATECLA;
|FPRC;

|PROCESO T0Tipo;
     |HAZ TotalDias;

     nValor = #rew00621#31 + #rew00621#34;

     |SI enTotalDias1 = nValor; |Y enTotalDias1 = 365;
         |ACABA;
     |FINSI;

     |SI #rew00601#Campo# = "A";
         |MENAV "0000Los d¡as de alquiler son inferiores al a¤o. Revise si corresponde una P";
     |FINSI;
|FPRC;

|PROCESO TotalFw601;
     |C_M #rew00601#47, 1, "S";
     |SI #rew00621#18 = "U";
         |C_M #rew00601#47, 1, "N";  #rew00601#47 = 0;
     |FINSI;

     #rew00601#140 = #rew00601#156 + #rew00601#157 + #rew00601#158 + #rew00601#159;

     nCanti1 = #rew00601#15 - #rew00601#28;
     nPorce  = 80;
     |SI nCanti1 ! 0;  nPorce = (nCanti1 * 100) / #rew00601#15;  |FINSI;

     |SI #reparame#16 = "N";
         nCanti2 = (#rew00601#26 + #rew00601#29) % nPorce;
     |SINO;
         nCanti2 = #rew00601#26 % nPorce;
     |FINSI;

                            nCanti4 = nCanti2;
     |SI nCanti4 < nCanti1; nCanti4 = nCanti1; |FINSI;

     |SI #rew00601#113 ! 0;
         #rew00601#114 = #rew00601#112 % #rew00601#113;
     |FINSI;

     nDias = #rew00601#31 + #rew00601#34;

     |SI #rew00601#58 ! 0;
         #rew00601#115  = nCanti4 % #rew00601#58;

         #rew00601#59  = "P";
         #rew00601#115 = #rew00601#115 * (nDias / 365);
     |FINSI;

     #rew00601#60 = #rew00601#114 + #rew00601#115;

     |SI #rew00601#60 < 0;  #rew00601#60 = 0;  |FINSI;

     #rew00601#122 = 0;
     #rew00601#123 = 0;
     #rew00601#61  = 0;

     nValor = #rew00601#38;
     |SI #rew00601#37 = "A"; nValor = #rew00601#38 * (nDias / 365);  |FINSI;
     #rew00601#122 = #rew00601#122 + nValor;

     nValor = #rew00601#40;
     |SI #rew00601#39 = "A"; nValor = #rew00601#40 * (nDias / 365);  |FINSI;
     #rew00601#122 = #rew00601#122 + nValor;

     nValor = #rew00601#42;
     |SI #rew00601#41 = "A"; nValor = #rew00601#42 * (nDias / 365);  |FINSI;
     #rew00601#122 = #rew00601#122 + nValor;

     nValor = #rew00601#44;
     |SI #rew00601#43 = "A"; nValor = #rew00601#44 * (nDias / 365);  |FINSI;
     #rew00601#122 = #rew00601#122 + nValor;

     #rew00601#123 = #rew00601#140;

     nValor = #rew00601#22;
     |SI #rew00601#48 = "A"; nValor = #rew00601#22 * (nDias / 365);  |FINSI;
     #rew00601#123 = #rew00601#123 + nValor;

     nValor = #rew00601#131;
     |SI #rew00601#130 = "A"; nValor = #rew00601#131 * (nDias / 365);  |FINSI;
     #rew00601#123 = #rew00601#123 + nValor;

     nValor = #rew00601#21;
     |SI #rew00601#49 = "A"; nValor = #rew00601#21 * (nDias / 365);  |FINSI;
     #rew00601#123 = #rew00601#123 + nValor;

     nValor = #rew00601#51;
     |SI #rew00601#50 = "A"; nValor = #rew00601#51 * (nDias / 365);  |FINSI;
     #rew00601#123 = #rew00601#123 + nValor;

     nValor = #rew00601#53;
     |SI #rew00601#52 = "A"; nValor = #rew00601#53 * (nDias / 365);  |FINSI;
     #rew00601#123 = #rew00601#123 + nValor;

     nValor = #rew00601#55;
     |SI #rew00601#54 = "A"; nValor = #rew00601#55 * (nDias / 365);  |FINSI;
     #rew00601#123 = #rew00601#123 + nValor;

     nValor = #rew00601#57;
     |SI #rew00601#56 = "A"; nValor = #rew00601#57 * (nDias / 365);  |FINSI;
     #rew00601#123 = #rew00601#123 + nValor;

     nValor = #rew00601#60;
     |SI #rew00601#59 = "A"; nValor = #rew00601#60 * (nDias / 365);  |FINSI;
     #rew00601#123 = #rew00601#123 + nValor;

     nValor = #rew00601#133;
     |SI #rew00601#132 = "A"; nValor = #rew00601#133 * (nDias / 365);  |FINSI;
     #rew00601#123 = #rew00601#123 + nValor;

     #rew00601#61  = #rew00601#122 - #rew00601#123;


     |PINTA #rew00601#114;
     |PINTA #rew00601#115;
     |PINTA #rew00601#59;
     |PINTA #rew00601#60;
     |PINTA #rew00601#61;
     |PINTA #rew00601#122;
     |PINTA #rew00601#123;
     |PINTA #rew00601#140;
     |PINTA #rew00601#47;

     #rew00601#142 = 0;

     |SI #rew00601#61 > 0;
         |SI #rew00621#18 = "U";
             #rew00601#142 = (N\ #rew00601#61 % 60);
         |SINO;
             |SI #rew00621#18 = "U";
                 #rew00601#142 = (N\ #rew00601#142 % 60);
             |FINSI;
         |FINSI;
     |FINSI;
     |PINTA #rew00601#142;
|FPRC;

|PROCESO PantaAlquiler;
     |SI #rem00021#31 = 0;  |Y #rem00021#34 = 0;
         |ACABA;
     |FINSI;

     |SI #rem00021#141 = "4";  |ACABA;  |FINSI;

     |PARA nCampo = 0;  |SI nCampo [ enNumCampos;  |HACIENDO nCampo = nCampo + 1;
           #rew00601#nCampo# = #rem00021#nCampo#;
     |SIGUE;

     |VENTANA 1701, 3599, -1, 1, "";
     enVtna621 = FSalida;

     |PINPA #0#rew00601;

     |HAZ TotalFw601;
     |PINDA #0#rew00601;

     |LEETECLA aTecla;

     |HAZ FinVentana621;
|FPRC;
