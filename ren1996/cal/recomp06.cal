|FICHEROS;
    rededu01 #1;
    rededu02 #2;
    rededu03 #3;
    rededu04 #4;
    rededu05 #5;
    rededu06 #6;
    rededu07 #7;
    rededu08 #8;
    rededu09 #9;
    rededu10 #10;
    retotren #11;
    retotrea #12;
    reliquid #13;
    redatcon #14;
    rew00001 #99;
|FIN;

|| **************************************************************************
||                           PROCESOS IMPRESION
|| **************************************************************************

|INCLUYE i_varcre;     || Incluye de Variables

|PROCESO deduccio1;
|SI swcab = 0;
    |HAZ Espacios;
    varalf = "";                                                 |HAZ imprime;
    varalf = "";                                                 |HAZ imprime;
    swcab = 1;
    |CIMPR 5;
    varalf = "DEDUCCIONES PENDIENTES DE EJERCICIOS ANTERIORES";  |HAZ imprime;
    |CIMPR 6;
    varalf = "=" * 130;                                          |HAZ imprime;
    varalf = "LI  P  D  T  Perceptor   A¤  %L  Descripcion                     Saldo Anterior        Aplicado       Pendiente";
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
|FINSI;
varalf  = #1#1; varalf = ("00" + varalf) % -102;
varalf  = varalf + "  " + #1#18 + "  " + #1#11 + "  " + #1#2 + "  " + #1#3;
alfa    = #1#4;
alfa    = ("  " + alfa) % -102;
varalf  = varalf + "  " + alfa;
alfa    = #1#5;
alfa    = ("  " + alfa) % -102;
varalf  = varalf + "  " + alfa + "  " + #1#6;
importe = #1#8;    |HAZ importe;
varalf  = varalf + "   " + importe;
importe = #1#9;    |HAZ importe;
varalf  = varalf + "   " + importe;
importe = #1#10;    |HAZ importe;
varalf  = varalf + "   " + importe;
|HAZ imprime;
varalf = ""; |HAZ imprime;
|FPRC;

|DEFBUCLE rededu01;
#1#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, deduccio1;
|FIN;

|PROCESO deduccio2;
|SI swcab = 0;
    |HAZ Espacios;
    varalf = "";                                                 |HAZ imprime;
    varalf = "";                                                 |HAZ imprime;
    swcab = 1;
    |CIMPR 5;
    varalf = "DEDUCCIONES EJERCICIO 1996";                       |HAZ imprime;
    |CIMPR 6;
    varalf = "=" * 130;                                          |HAZ imprime;
    varalf = "LI  P  D  T  Perceptor   TD  %L  Descripcion                     %D  Saldo Anterior        Aplicado       Pendiente";
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
|FINSI;
varalf  = #2#1; varalf = ("00" + varalf) % -102;
varalf  = varalf + "  " + #2#18 + "  " + #2#11 + "  " + #2#2 + "  " + #2#3;
alfa    = #2#5;
alfa    = ("  " + alfa) % -102;
varalf  = varalf + "  " + #2#4 + "  " + alfa + "  " + #2#6;
alfa    = #2#7;
alfa    = ("  " + alfa) % -102;
varalf  = varalf + "  " + alfa;

importe = #2#8;    |HAZ importe;
varalf  = varalf + "   " + importe;
importe = #2#9;    |HAZ importe;
varalf  = varalf + "   " + importe;
importe = #2#10;    |HAZ importe;
varalf  = varalf + "   " + importe;
|HAZ imprime;
varalf = ""; |HAZ imprime;
|FPRC;

|DEFBUCLE rededu02;
#2#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, deduccio2;
|FIN;

|PROCESO deduccio3;
|SI swcab = 0;
    |HAZ Espacios;
    varalf = "";                                                 |HAZ imprime;
    varalf = "";                                                 |HAZ imprime;
    swcab = 1;
    |CIMPR 5;
    varalf = "INVERSIONES EN CANARIAS 1996";                     |HAZ imprime;
    |CIMPR 6;
    varalf = "=" * 130;                                          |HAZ imprime;
    varalf = "LI  P  D  T  Perceptor   TD  %L  Descripcion                     %D  Saldo Anterior        Aplicado       Pendiente  A¤o";
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
|FINSI;
varalf  = #3#1; varalf = ("00" + varalf) % -102;
varalf  = varalf + "  " + #3#18 + "  " + #3#11 + "  " + #3#2 + "  " + #3#3;
alfa    = #3#5;
alfa    = ("  " + alfa) % -102;
varalf  = varalf + "  " + #3#4 + "  " + alfa + "  " + #3#6;
alfa    = #3#7;
alfa    = ("  " + alfa) % -102;
varalf  = varalf + "  " + alfa;

importe = #3#8;    |HAZ importe;
varalf  = varalf + "   " + importe;
importe = #3#9;    |HAZ importe;
varalf  = varalf + "   " + importe;
importe = #3#10;    |HAZ importe;
varalf  = varalf + "   " + importe;

varalf  = varalf + "   " + #3#20;
|HAZ imprime;
varalf = ""; |HAZ imprime;
|FPRC;

|DEFBUCLE rededu03;
#3#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, deduccio3;
|FIN;

|PROCESO deduccio4;
|SI swcab = 0;
    |HAZ Espacios;
    varalf = "";                                                 |HAZ imprime;
    varalf = "";                                                 |HAZ imprime;
    swcab = 1;
    |CIMPR 5;
    varalf = "OLIMPIADAS, EXPO Y MADRID CULTURAL";               |HAZ imprime;
    |CIMPR 6;
    varalf = "=" * 130;                                          |HAZ imprime;
    varalf = "LI  P  D  T  Perceptor   T  A¤  %L  Descripcion                     %D  Saldo Anterior        Aplicado       Pendiente";
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
|FINSI;
varalf  = #4#1; varalf = ("00" + varalf) % -102;
varalf  = varalf + "  " + #4#19 + "  " + #4#12 + "  " + #4#2 + "  " + #4#3;
varalf  = varalf + "  " + #4#4;
alfa    = #4#5;
alfa    = ("  " + alfa) % -102;
varalf  = varalf + "  " + alfa;
alfa    = #4#6;
alfa    = ("  " + alfa) % -102;
varalf  = varalf + "  " + alfa + "  " + #4#7;
alfa    = #4#8;
alfa    = ("  " + alfa) % -102;
varalf  = varalf + "  " + alfa;
importe = #4#9;    |HAZ importe;
varalf  = varalf + "   " + importe;
importe = #4#10;    |HAZ importe;
varalf  = varalf + "   " + importe;
importe = #4#11;    |HAZ importe;
varalf  = varalf + "   " + importe;
|HAZ imprime;
varalf = ""; |HAZ imprime;
|FPRC;

|DEFBUCLE rededu04;
#4#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, deduccio4;
|FIN;

|PROCESO deduccio5;
|SI swcab = 0;
    |HAZ Espacios;
    varalf = "";                                                 |HAZ imprime;
    varalf = "";                                                 |HAZ imprime;
    swcab = 1;
    |CIMPR 5;
    varalf = "DEDUCCIONES POR CREACION DE EMPLEO";               |HAZ imprime;
    |CIMPR 6;
    varalf = "=" * 130;                                          |HAZ imprime;
    varalf = "LI  P  D  T  Perceptor   A¤  Descripcion                      Saldo Anterior        Aplicado       Pendiente";
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
|FINSI;
varalf  = #5#1; varalf = ("00" + varalf) % -102;
varalf  = varalf + "  " + #5#16 + "  " + #5#9 + "  " + #5#2 + "  " + #5#3;
alfa    = #5#4;
alfa    = ("  " + alfa) % -102;
varalf  = varalf + "   " + alfa + "  " + #5#5;
importe = #5#6;    |HAZ importe;
varalf  = varalf + "   " + importe;
importe = #5#7;    |HAZ importe;
varalf  = varalf + "   " + importe;
importe = #5#8;    |HAZ importe;
varalf  = varalf + "   " + importe;
|HAZ imprime;
varalf = ""; |HAZ imprime;
|FPRC;

|DEFBUCLE rededu05;
#5#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, deduccio5;
|FIN;

|PROCESO deduccio6;
|SI swcab = 0;
    |HAZ Espacios;
    varalf = "";                                                 |HAZ imprime;
    varalf = "";                                                 |HAZ imprime;
    swcab = 1;
    |CIMPR 5;
    varalf = "INVERSIONES INTERES CULTURAL, DONACIONES ACTOS 96 Y OTROS";
    |CIMPR 6;
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
    varalf = "LI  P  D  T  Perceptor   T  Descripcion                             Importe        Aplicado           Resto";
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
|FINSI;
varalf  = #6#1; varalf = ("00" + varalf) % -102;
varalf  = varalf + "  " + #6#16 + "  " + #6#8 + "  " + #6#2 + "  " + #6#3;
varalf  = varalf + "  " + #6#15 + "  " + #6#4;
importe = #6#5;    |HAZ importe;
varalf  = varalf + "    " + importe;
importe = #6#6;    |HAZ importe;
varalf  = varalf + "   " + importe;
importe = #6#7;    |HAZ importe;
varalf  = varalf + "   " + importe;
|HAZ imprime;
varalf = ""; |HAZ imprime;
|FPRC;

|DEFBUCLE rededu06;
#6#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, deduccio6;
|FIN;

|PROCESO deduccio7;
|SI swcab = 0;
    |HAZ Espacios;
    varalf = "";                                                 |HAZ imprime;
    varalf = "";                                                 |HAZ imprime;
    swcab = 1;
    |CIMPR 5;
    varalf = "ENFERMEDAD, SEGUROS, ALQUILERES Y GUARDERIAS";
    |CIMPR 6;
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
    varalf = "LI  P  D  T  Perceptor   T  Descripcion                             Importe        Aplicado           Resto";
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
|FINSI;
varalf  = #7#1; varalf = ("00" + varalf) % -102;
varalf  = varalf + "  " + #7#16 + "  " + #7#9 + "  " + #7#2 + "  " + #7#3;
varalf  = varalf + "  " + #7#4 + "  " + #7#5;
importe = #7#6;    |HAZ importe;
varalf  = varalf + "    " + importe;
importe = #7#7;    |HAZ importe;
varalf  = varalf + "   " + importe;
importe = #7#8;    |HAZ importe;
varalf  = varalf + "   " + importe;
|HAZ imprime;
varalf = ""; |HAZ imprime;
|FPRC;

|DEFBUCLE rededu07;
#7#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, deduccio7;
|FIN;

|PROCESO deduccio8;
|SI swcab = 0;
    |HAZ Espacios;
    varalf = "";                                                 |HAZ imprime;
    varalf = "";                                                 |HAZ imprime;
    swcab = 1;
    |CIMPR 5;
    varalf = "IMPUESTO MUNICIPAL SOBRE VALOR DEL TERRENO";       |HAZ imprime;
    |CIMPR 6;
    varalf = "=" * 130;                                          |HAZ imprime;
    varalf = "LI  P  D  T  Perceptor   Descripcion                             Importe        Aplicado           Resto";
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
|FINSI;
varalf  = #8#1; varalf = ("00" + varalf) % -102;
varalf  = varalf + "  " + #8#15 + "  " + #8#8 + "  " + #8#2 + "  " + #8#3;
varalf  = varalf + "  " + #8#4;
importe = #8#5;    |HAZ importe;
varalf  = varalf + "    " + importe;
importe = #8#6;    |HAZ importe;
varalf  = varalf + "   " + importe;
importe = #8#7;    |HAZ importe;
varalf  = varalf + "   " + importe;
|HAZ imprime;
varalf = ""; |HAZ imprime;
|FPRC;

|DEFBUCLE rededu08;
#8#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, deduccio8;
|FIN;

|PROCESO deduccio9;
|SI swcab = 0;
    |HAZ Espacios;
    varalf = "";                                                 |HAZ imprime;
    varalf = "";                                                 |HAZ imprime;
    swcab = 1;
    |CIMPR 5;
    varalf = "RENDIMIENTOS CEUTA Y MELILLA / DOBLE IMPOSICION INTERNACIONAL";
    |CIMPR 6;
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
    varalf = "LI  P  D  T  Perceptor   T   Descripcion                             Importe";
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
|FINSI;
varalf  = #9#1; varalf = ("00" + varalf) % -102;
varalf  = varalf + "  " + #9#14 + "  " + #9#7 + "  " + #9#2 + "  " + #9#3;
varalf  = varalf + "  " + #9#4  + "   " + #9#5;
importe = #9#6;    |HAZ importe;
varalf  = varalf + "    " + importe;
|HAZ imprime;
varalf = ""; |HAZ imprime;
|FPRC;

|DEFBUCLE rededu09;
#9#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, deduccio9;
|FIN;

|PROCESO deduccio10;
|SI swcab = 0;
    |HAZ Espacios;
    varalf = "";                                                 |HAZ imprime;
    varalf = "";                                                 |HAZ imprime;
    swcab = 1;
    |CIMPR 5;
    varalf = "INCREMENTOS O DEDUCCIONES EN APORTACIONES CUENTA VIVIENDA";
    |CIMPR 6;
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
    varalf = "LI  P  D  T  Perceptor   T   Codigo Cuenta Vivienda Fecha            Importe      Int.Demora";
    |HAZ imprime;
    varalf = "=" * 130;                                          |HAZ imprime;
|FINSI;
varalf  = #10#1; varalf = ("00" + varalf) % -102;
varalf  = varalf + "  " + #10#15 + "  " + #10#8 + "  " + #10#2 + "  " + #10#3;
varalf  = varalf + "  " + #10#4  + "   " + #10#5 + "   " +  #10#16;
importe = #10#6;    |HAZ importe;
varalf  = varalf + " " + importe;
importe = #10#7;    |HAZ importe;
varalf  = varalf + "   " + importe;
|HAZ imprime;
varalf = ""; |HAZ imprime;
|FPRC;

|DEFBUCLE rededu10;
#10#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, deduccio10;
|FIN;

|PROCESO recomp06;
swcab = 0; |BUCLE rededu01;
swcab = 0; |BUCLE rededu02;
swcab = 0; |BUCLE rededu03;
swcab = 0; |BUCLE rededu04;
swcab = 0; |BUCLE rededu05;
swcab = 0; |BUCLE rededu06;
swcab = 0; |BUCLE rededu07;
swcab = 0; |BUCLE rededu08;
swcab = 0; |BUCLE rededu09;
swcab = 0; |BUCLE rededu10;

|SI linea ! 0; |HAZ pie; |FINSI;

|SI liquidaci = "S"; |HAZ liquidac; |FINSI;
|FPRC;

|PROCESO liquidac;
|ABRE #11;
|ABRE #12;
|ABRE #13;
|ABRE #14;

#13#0 = #99#0;
|LEE 040#13=;
|SI FSalida ! 0; |DDEFECTO #13; |FINSI;

#14#0 = #99#0;
|LEE 040#14=;
|SI FSalida ! 0; |DDEFECTO #14; |FINSI;

|PARA x = 1; |SI x [ 7; |HACIENDO x = x + 1;
      #11#0   = #99#0;
      #11#141 = "z";
      |SI x = 1; |Y #13#1 ! " "; #11#141 = "A"; |FINSI;
      |SI x = 2; |Y #13#2 ! " "; #11#141 = "T"; |FINSI;
      |SI x = 3; |Y #13#3 ! " "; #11#141 = "C"; |FINSI;
      |SI x = 4; |Y #13#4 ! " ", #11#141 = "1"; |FINSI;
      |SI x = 5; |Y #13#5 ! " "; #11#141 = "2"; |FINSI;
      |SI x = 6; |Y #13#6 ! " "; #11#141 = "3"; |FINSI;
      |SI x = 7; |Y #13#7 ! " "; #11#141 = "4"; |FINSI;
      |LEE 040#11=;
      |SI FSalida = 0; |HAZ impre; |FINSI;
|SIGUE;
|CIERRA #11;
|CIERRA #12;
|CIERRA #13;
|CIERRA #14;
|FPRC;

|PROCESO impre;
#12#0 = #99#0;
#12#1 = #11#141;
|LEE 040#12=;
|SI FSalida ! 0; |DDEFECTO #12; |FINSI;

|SI #11#141 = "A"; tipol = "CONJUNTA   "; |FINSI;
|SI #11#141 = "T"; tipol = "TITULAR    "; |FINSI;
|SI #11#141 = "C"; tipol = "CONYUGE    "; |FINSI;
|SI #11#141 = "1"; tipol = "1§ FAMILIAR"; |FINSI;
|SI #11#141 = "2"; tipol = "2§ FAMILIAR"; |FINSI;
|SI #11#141 = "3"; tipol = "3§ FAMILIAR"; |FINSI;
|SI #11#141 = "4"; tipol = "4§ FAMILIAR"; |FINSI;

|SI #13#43 = "I"; tipol = "INDIVIDUAL / "; |FINSI;
|SI #13#43 = "S"; tipol = "SEPARADA   / "; |FINSI;

|SI #11#141 = "A";
    nombred = #14#1;
    tipol   = "CONJUNTA / ";
    |SI #13#1 = "A"; tipol = tipol + "ABREVIADA";    |FINSI;
    |SI #13#1 = "S"; tipol = tipol + "SIMPLIFICADA"; |FINSI;
    |SI #13#1 = "O"; tipol = tipol + "ORDINARIA";    |FINSI;
    |SI #13#1 = "o"; tipol = tipol + "ORDINARIA";    |FINSI;
|FINSI;

|SI #11#141 = "T";
    nombred = #14#1;
    |SI #13#2 = "A"; tipol = tipol + "ABREVIADA";    |FINSI;
    |SI #13#2 = "S"; tipol = tipol + "SIMPLIFICADA"; |FINSI;
    |SI #13#2 = "O"; tipol = tipol + "ORDINARIA";    |FINSI;
    |SI #13#2 = "o"; tipol = tipol + "ORDINARIA";    |FINSI;
|FINSI;

|SI #11#141 = "C";
    nombred = #14#28;
    |SI #13#3 = "A"; tipol = tipol + "ABREVIADA";    |FINSI;
    |SI #13#3 = "S"; tipol = tipol + "SIMPLIFICADA"; |FINSI;
    |SI #13#3 = "O"; tipol = tipol + "ORDINARIA";    |FINSI;
    |SI #13#3 = "o"; tipol = tipol + "ORDINARIA";    |FINSI;
|FINSI;

|SI #11#141 = "1";
    pepe = 57 + #14#98; nombred = #14pepe;
    |SI #13#4 = "A"; tipol = tipol + "ABREVIADA";    |FINSI;
    |SI #13#4 = "S"; tipol = tipol + "SIMPLIFICADA"; |FINSI;
    |SI #13#4 = "O"; tipol = tipol + "ORDINARIA";    |FINSI;
    |SI #13#4 = "o"; tipol = tipol + "ORDINARIA";    |FINSI;
|FINSI;

|SI #11#141 = "2";
    pepe = 57 + #14#99; nombred = #14pepe;
    |SI #13#5 = "A"; tipol = tipol + "ABREVIADA";    |FINSI;
    |SI #13#5 = "S"; tipol = tipol + "SIMPLIFICADA"; |FINSI;
    |SI #13#5 = "O"; tipol = tipol + "ORDINARIA";    |FINSI;
    |SI #13#5 = "o"; tipol = tipol + "ORDINARIA";    |FINSI;
|FINSI;

|SI #11#141 = "3";
    pepe = 57 + #14#100; nombred = #14pepe;
    |SI #13#6 = "A"; tipol = tipol + "ABREVIADA";    |FINSI;
    |SI #13#6 = "S"; tipol = tipol + "SIMPLIFICADA"; |FINSI;
    |SI #13#6 = "O"; tipol = tipol + "ORDINARIA";    |FINSI;
    |SI #13#6 = "o"; tipol = tipol + "ORDINARIA";    |FINSI;
|FINSI;

|SI #11#141 = "4";
    pepe = 57 + #14#101; nombred = #14pepe;
    |SI #13#7 = "A"; tipol = tipol + "ABREVIADA";    |FINSI;
    |SI #13#7 = "S"; tipol = tipol + "SIMPLIFICADA"; |FINSI;
    |SI #13#7 = "O"; tipol = tipol + "ORDINARIA";    |FINSI;
    |SI #13#7 = "o"; tipol = tipol + "ORDINARIA";    |FINSI;
|FINSI;

|SI tipliq = "D";
    |INFOR "reliqui1";
    |SI FSalida = 0; |PRINT; |PIEINF; |FININF; |FINSI;

    |INFOR "reliqui2";
    |SI FSalida = 0; |PRINT; |PIEINF; |FININF; |FINSI;
|FINSI;

|SI tipliq = "R";
    |INFOR "reliqui3";
    |SI FSalida = 0; |PRINT; |PIEINF; |FININF; |FINSI;
|FINSI;
|FPRC;
