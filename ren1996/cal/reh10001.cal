  |INCLUYE i_varemi;
  |INCLUYE i_fic100;
  |INCLUYE i_sepnom;

|| ************************************************************************
||                     PROCESOS IMPRESION HOJAS 1
|| ************************************************************************

|| ********************* Rendimientos del Trabajo **************************

|PROCESO CargaA;
  |SI #20#7 ! 0; |O #20#9 ! 0;
      Conta1 = Conta1 + 1;
      |SI Conta1 [ 4;
          Casilla1 = Casilla1 + 1; #70Casilla1 = Perce;
          Casilla1 = Casilla1 + 1; #70Casilla1 = #20#4;
          Casilla1 = Casilla1 + 1; #70Casilla1 = #20#9;
          Casilla1 = Casilla1 + 1; #70Casilla1 = #20#7;
      |SINO;
          #70#75  = "----------";
          #70#76  = "Segun relacion adjunta";
          #70#77  = #70#77 + #20#9;
          #70#78  = #70#78 + #20#7;
      |FINSI;
  |FINSI;

  |SI #20#15 ! 0; |O #20#16 ! 0;
      Conta2 = Conta2 + 1;
      |SI Conta2 [ 5;
          Casilla2 = Casilla2 + 1;  #70Casilla2 = Perce;
          Casilla2 = Casilla2 + 1;  #70Casilla2 = #20#14;
          Casilla2 = Casilla2 + 1;  #70Casilla2 = #20#15;
          Casilla2 = Casilla2 + 1;  #70Casilla2 = #20#16;
          Casilla2 = Casilla2 + 1;  #70Casilla2 = #20#15 + #20#16;
      |SINO;
          #70#96  = "----------";
          #70#97  = "Segun relacion adjunta";
          #70#98  = #70#98  + #20#15;
          #70#99  = #70#99  + #20#16;
          #70#100 = #70#100 + (#20#15 + #20#16);
      |FINSI;
  |FINSI;
|FPRC;

|PROCESO RendTrab;
  |SI #20#28 = "X"; |ACABA; |FINSI;

  |SI #99#1 = "A"; Perce = #20#3; |SINO; Perce = "TITULAR"; |FINSI;

  |SI #99#1 = "A";     || Si es conjunta
      |HAZ CargaA;
      |ACABA;
  |FINSI;

  |SI #99#1 = "T";     || Si es Titular
      |SI #20#2 = "T"; |HAZ CargaA; |ACABA; |FINSI;
  |FINSI;

  |SI #99#1 = "C";     || Si es Conyuge
      |SI #20#2 = "C"; |HAZ CargaA; |ACABA; |FINSI;
  |FINSI;

  |SI #99#1 = "1";     || Si es 1§ Familiar
      |SI #20#2 = "1"; |HAZ CargaA; |ACABA; |FINSI;
  |FINSI;

  |SI #99#1 = "2";     || Si es 1§ Familiar
      |SI #20#2 = "2"; |HAZ CargaA; |ACABA; |FINSI;
  |FINSI;

  |SI #99#1 = "3";     || Si es 3§ Familiar
      |SI #20#2 = "3"; |HAZ CargaA; |ACABA; |FINSI;
  |FINSI;

  |SI #99#1 = "4";     || Si es 4§ Familiar
      |SI #20#2 = "4"; |HAZ CargaA; |ACABA; |FINSI;
  |FINSI;
|FPRC;

|DEFBUCLE rerendtr;
  #20#1;
  ;
  #99#0, 01;
  #99#0, 99;
  e;
  NULL, RendTrab;
|FIN;

|PROCESO hoja1;
  Casilla1 = 62;
  Casilla2 = 80;
  Conta1   = 0;
  Conta2   = 0;
  |BUCLE rerendtr;

  #70#0  = #2#2;
  #70#1  = #2#3;
  #70#2  = (#2#0 * 1000) + #2#1;
  #70#7  = #1#37;
  #70#8  = #1#38;
  #70#9  = #1#39;
  #70#14 = #1#6 + " " + #1#7;
  #70#15 = #1#8;
  #70#16 = #1#14;
  #70#17 = #4#2;
  #70#18 = (#1#12 * 1000) + #1#13;

  #70#79  = #5#130;
  #70#80  = #5#1;
  #70#101 = #5#131;
  #70#102 = #5#2;
  #70#103 = #5#142;
  #70#104 = #5#143;
  #70#105 = #5#144;
  #70#106 = #5#145;
  #70#107 = #5#3;
  #70#108 = #5#4;
  #70#109 = #5#5;
  #70#110 = #99#0;

  |SI #1#34 = "X"; #70#23 = "X"; |FINSI;
  |SI #1#36 = "X"; #70#23 = "X"; |FINSI;
  |SI #1#35 = "X"; #70#24 = "X"; |FINSI;
  |SI #1#4  = "N"; #70#25 = "X"; |FINSI;

  |SI #99#1 = "1"; |O #99#1 = "2"; |O #99#1 = "3"; |O #99#1 = "4";
      #70#7 = " ";  #70#8 = " ";  #70#9 = " ";
      |SI #1#98 ! 0; |Y #99#1 = "1";
          Casilla = 47 + #1#98; #70#10 = #1Casilla;
          Casilla = 57 + #1#98; Cadena = #1Casilla;  |HAZ SeparaNombre;
          #70#11  = Cadena1;
          #70#12  = Cadena2;
          #70#13  = Cadena3;
          #70#111 = #1Casilla;
      |FINSI;

      |SI #1#99 ! 0; |Y #99#1 = "2";
          Casilla = 47 + #1#99; #70#10 = #1Casilla;
          Casilla = 57 + #1#99; Cadena = #1Casilla;  |HAZ SeparaNombre;
          #70#11  = Cadena1;
          #70#12  = Cadena2;
          #70#13  = Cadena3;
          #70#111 = #1Casilla;
      |FINSI;

      |SI #1#100 ! 0; |Y #99#1 = "3";
          Casilla = 47 + #1#100; #70#10 = #1Casilla;
          Casilla = 57 + #1#100; Cadena = #1Casilla;  |HAZ SeparaNombre;
          #70#11  = Cadena1;
          #70#12  = Cadena2;
          #70#13  = Cadena3;
          #70#111 = #1Casilla;
      |FINSI;

      |SI #1#101 ! 0; |Y #99#1 = "4";
          Casilla = 47 + #1#101; #70#10 = #1Casilla;
          Casilla = 57 + #1#101; Cadena = #1Casilla;  |HAZ SeparaNombre;
          #70#11  = Cadena1;
          #70#12  = Cadena2;
          #70#13  = Cadena3;
          #70#111 = #1Casilla;
      |FINSI;

      |SI papel = 1;
          informe = "re100h01"; |HAZ continuo;
      |SINO;
          informe = "re100m01"; |HAZ manual;
      |FINSI;

      |ACABA;
  |FINSI;

  |SI #99#1 = "A"; |O #99#1 = "T";
      #70#10  = #1#2;
      #70#11  = #1#209;
      #70#12  = #1#210;
      #70#13  = #1#211;
      #70#111 = #1#1;

      #70#19  = #1#29;
      #70#20  = #1#212;
      #70#21  = #1#213;
      #70#22  = #1#214;
      #70#112 = #1#28;
  |FINSI;

  |SI #99#1 = "C";
      #70#10  = #1#29;
      #70#11  = #1#212;
      #70#12  = #1#213;
      #70#13  = #1#214;
      #70#111 = #1#28;

      #70#19  = #1#2;
      #70#20  = #1#209;
      #70#21  = #1#210;
      #70#22  = #1#211;
      #70#112 = #1#1;
  |FINSI;

  uno      = 0;
  CamParie = 25;
  |PARA juan = 164; |SI juan [ 170; |HACIENDO juan = juan + 1;
        esnif    = juan - 116;
        esnombre = juan - 106;
        esparent = juan - 86;
        esnacimi = juan - 96;
        EsDe     = juan - 10;
        nombrefa = #1esnombre; |QBF nombrefa;
        esanyo   = #1esnacimi;
        esanyo   = 1996 - esanyo;

        NoFamili = 0;
        |SI #99#1 ! "A"; |Y #1EsDe ! "A";
            |SI #1EsDe ! #99#1; NoFamili = 1; |FINSI;
        |FINSI;

        |SI nombrefa ! ""; |Y #1juan = "H"; |Y esanyo [ 18; |Y NoFamili = 0;
            uno        = uno + 1;
            CamParie   = CamParie + 1;  #70CamParie = #1esnif;
            CamParie   = CamParie + 1;  #70CamParie = #1esnombre;
            CamParie   = CamParie + 1;  #70CamParie = #1esparent;
            CamParie   = CamParie + 1;  #70CamParie = #1esnacimi;
        |FINSI;
  |SIGUE;

  dos      = 4;
  CamPerso = 41;
  |PARA juan = 164; |SI juan [ 170; |HACIENDO juan = juan + 1;
        esnif    = juan - 116;
        esnombre = juan - 106;
        esparent = juan - 86;
        esnacimi = juan - 96;
        EsDe     = juan - 10;

        nombrefa = #1esnombre; |QBF nombrefa;
        esanyo   = #1esnacimi;
        esanyo   = 1996 - esanyo;

        NoFamili = 0;
        |SI #99#1 ! "A"; |Y #1EsDe ! "A";
            |SI #1EsDe ! #99#1; NoFamili = 1; |FINSI;
        |FINSI;

        |SI nombrefa ! ""; |Y #1juan ! "H"; |Y NoFamili = 0;
            dos        = dos + 1;
            |SI dos > 7;  dos = uno + 1; CamPerso = CamParie; |FINSI;

            CamPerso   = CamPerso + 1;  #70CamPerso = #1esnif;
            CamPerso   = CamPerso + 1;  #70CamPerso = #1esnombre;
            CamPerso   = CamPerso + 1;  #70CamPerso = #1esparent;
            CamPerso   = CamPerso + 1;  #70CamPerso = #1esnacimi;
        |FINSI;

        |SI nombrefa ! ""; |Y #1juan = "H"; |Y esanyo > 18; |Y NoFamili = 0;
            dos        = dos + 1;
            |SI dos > 7;  dos = uno + 1; CamPerso = CamParie; |FINSI;

            CamPerso   = CamPerso + 1;  #70CamPerso = #1esnif;
            CamPerso   = CamPerso + 1;  #70CamPerso = #1esnombre;
            CamPerso   = CamPerso + 1;  #70CamPerso = #1esparent;
            CamPerso   = CamPerso + 1;  #70CamPerso = #1esnacimi;
        |FINSI;
  |SIGUE;

  #70#54  = #3#2;
  #70#55  = #3#1;
  #70#56  = (#3#5 * 1000) + #3#6;
  #70#57  = #3#3;
  #70#58  = #3#4;
  #70#59  = #3#7;
  #70#60  = #3#8;
  #70#61  = #1#32;
  #70#62  = #1#33;

  |SI papel = 1;
      informe = "re100h01"; |HAZ continuo;
  |SINO;
      informe = "re100m01"; |HAZ manual;
  |FINSI;
|FPRC;

|| ************************************************************************
||                     PROCESOS IMPRESION HOJAS 2
|| ************************************************************************

|PROCESO hoja2;
  #71#0  = #99#7;
  #71#1  = #99#3;
  #71#2  = #5#43  + #5#156;
  #71#3  = #5#44  + #5#152;
  #71#4  = #5#45  + #5#158;
  #71#5  = #5#39  + #5#6;
  #71#6  = #5#147 + #5#149;
  #71#7  = #5#148;
  #71#8  = #5#7;
  #71#9  = #5#8;
  #71#10 = #5#157;
  #71#11 = #5#160;
  #71#12 = #5#159;
  #71#13 = #71#10 + #71#11 + #71#12;
  #71#14 = #5#150;
  #71#15 = #5#151;
  #71#16 = #5#153;
  #71#17 = #5#154;
  #71#18 = #5#155;
  #71#19 = #71#14 + #71#15 + #71#16 + #71#17 + #71#18;
  #71#20 = #5#9;
  #71#21 = #6#3;
  #71#22 = #6#9;
  #71#23 = #6#2;
  #71#24 = #6#8;
  #71#25 = #6#4;
  #71#26 = #6#10;
  #71#27 = #6#5;
  #71#28 = #6#11;
  #71#29 = #6#6  + #6#7;
  #71#30 = #6#12 + #6#13;
  #71#31 = #5#132;
  #71#32 = #5#10;
  #71#33 = #5#11;
  #71#34 = #6#14;
  #71#35 = #6#15;
  #71#36 = #5#12;
  #71#37 = #71#32 + #71#33 - #71#36;
  #71#38 = #6#22;
  #71#39 = #5#13;

  |SI papel = 1;
      informe = "re100h02"; |HAZ continuo;
  |SINO;
      informe = "re100m02"; |HAZ manual;
  |FINSI;
|FPRC;
