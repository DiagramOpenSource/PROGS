|FICHEROS;
    m2dedu05 #0;   rededu05 #1;
    m2dedu06 #2;   rededu06 #3;
    m2dedu07 #4;   rededu07 #5;
    m2dedu08 #6;   rededu08 #7;
    m2dedu09 #8;   rededu09 #9;
    m2dedu10 #10;  rededu10 #11;
    m2actafe #12;  reactafe #13;
    m2patrim #14;  repatrim #15;
    m2ven210 #16;  reven210 #17;
    m2alc210 #18;  realc210 #19;
    m2all210 #20;  reall210 #21;
    m2empagr #22;  reempagr #23;  || Los calculos de estos ficheros solo para
                                  || el 96
    m2pagret #24;  repagret #25;
    reempag1 #99;
|FIN;

|VARIABLES;
    alfa1       = "";
    alfa2       = "";
    alfa3       = "";
    alfa4       = "";
    nume1       = 0;
    nume2       = 0;
    nume3       = 0;
    nume4       = 0;
    para1       = 0;
    para2       = 0;
    para3       = 0;
    para4       = 0;
    Linea       = 0;
    Producto    = 0;
    GanaAgri    = "";
    PropArrend  = "";
    Regadio     = "";
    Volumen    = 0;
    Rendimiento = 0;
    Coeficiente = 0;

    &path1 = "";
    &fichero = "";
    &DEmpre  = 0;
    &HEmpre  = 0;
|FIN;

|PROGRAMA;
|SI fichero = "rededu05"; |HAZ dedu05; |FINSI;
|SI fichero = "rededu06"; |HAZ dedu06; |FINSI;
|SI fichero = "rededu07"; |HAZ dedu07; |FINSI;
|SI fichero = "rededu08"; |HAZ dedu08; |FINSI;
|SI fichero = "rededu09"; |HAZ dedu09; |FINSI;
|SI fichero = "rededu10"; |HAZ dedu10; |FINSI;
|SI fichero = "reactafe"; |HAZ actafe; |FINSI;
|SI fichero = "repatrim"; |HAZ patrim; |FINSI;
|SI fichero = "reven210"; |HAZ ven210; |FINSI;
|SI fichero = "realc210"; |HAZ alc210; |FINSI;
|SI fichero = "reall210"; |HAZ all210; |FINSI;
|SI fichero = "reempagr"; |HAZ empagr; |FINSI;
|SI fichero = "repagret"; |HAZ pagret; |FINSI;
|FPRO;
____________________________________/
|PROCESO b_dedu051;
#1#0 = #0#0;
#1#1 = #0#1;
|LEE 040#1=;
|SI FSalida = 0; |ACABA; |FINSI;

|DDEFECTO #1;
|PARA para1 = 0; |SI para1 [ 17; |HACIENDO para1 = para1 + 1;
    #1para1 = #0para1;
|SIGUE;
|GRABA 020#1n;
|FPRC;

|DEFBUCLE b_dedu05;
 #0#1;
 ;
 DEmpre,  1;
 HEmpre, 99;
 e;
 NULL, b_dedu051;
|FIN;

|PROCESO dedu05;
|PATH_DAT #0 path1;
|NOME_DAT #0 "rededu05";
|ABRE #1;
|BUCLE b_dedu05;
|CIERRA #1;
|FPRC;
____________________________________/
|PROCESO b_dedu061;
#3#0 = #2#0;
#3#1 = #2#1;
|LEE 040#3=;
|SI FSalida = 0; |ACABA; |FINSI;

|DDEFECTO #3;
|PARA para1 = 0; |SI para1 [ 16; |HACIENDO para1 = para1 + 1;
    #3para1 = #2para1;
|SIGUE;
|GRABA 020#3n;
|FPRC;

|DEFBUCLE b_dedu06;
 #2#1;
 ;
 DEmpre,  1;
 HEmpre, 99;
 e;
 NULL, b_dedu061;
|FIN;

|PROCESO dedu06;
|PATH_DAT #2 path1;
|NOME_DAT #2 "rededu06";
|ABRE #3;
|BUCLE b_dedu06;
|CIERRA #3;
|FPRC;
____________________________________/
|PROCESO b_dedu071;
#5#0 = #4#0;
#5#1 = #4#1;
|LEE 040#5=;
|SI FSalida = 0; |ACABA; |FINSI;

|DDEFECTO #5;
|PARA para1 = 0; |SI para1 [ 16; |HACIENDO para1 = para1 + 1;
    #5para1 = #4para1;
|SIGUE;
|GRABA 020#5n;
|FPRC;

|DEFBUCLE b_dedu07;
 #4#1;
 ;
 DEmpre,  1;
 HEmpre, 99;
 e;
 NULL, b_dedu071;
|FIN;

|PROCESO dedu07;
|PATH_DAT #4 path1;
|NOME_DAT #4 "rededu07";
|ABRE #5;
|BUCLE b_dedu07;
|CIERRA #5;
|FPRC;
____________________________________/
|PROCESO b_dedu081;
#7#0 = #6#0;
#7#1 = #6#1;
|LEE 040#7=;
|SI FSalida = 0; |ACABA; |FINSI;

|DDEFECTO #7;
|PARA para1 = 0; |SI para1 [ 15; |HACIENDO para1 = para1 + 1;
    #7para1 = #6para1;
|SIGUE;
|GRABA 020#7n;
|FPRC;

|DEFBUCLE b_dedu08;
 #6#1;
 ;
 DEmpre,  1;
 HEmpre, 99;
 e;
 NULL, b_dedu081;
|FIN;

|PROCESO dedu08;
|PATH_DAT #6 path1;
|NOME_DAT #6 "rededu08";
|ABRE #7;
|BUCLE b_dedu08;
|CIERRA #7;
|FPRC;
____________________________________/
|PROCESO b_dedu091;
#9#0 = #8#0;
#9#1 = #8#1;
|LEE 040#9=;
|SI FSalida = 0; |ACABA; |FINSI;

|DDEFECTO #9;
|PARA para1 = 0; |SI para1 [ 14; |HACIENDO para1 = para1 + 1;
    #9para1 = #8para1;
|SIGUE;
|GRABA 020#9n;
|FPRC;

|DEFBUCLE b_dedu09;
 #8#1;
 ;
 DEmpre,  1;
 HEmpre, 99;
 e;
 NULL, b_dedu091;
|FIN;

|PROCESO dedu09;
|PATH_DAT #8 path1;
|NOME_DAT #8 "rededu09";
|ABRE #9;
|BUCLE b_dedu09;
|CIERRA #9;
|FPRC;
____________________________________/
|PROCESO b_dedu101;
#11#0 = #10#0;
#11#1 = #10#1;
|LEE 040#11=;
|SI FSalida = 0; |ACABA; |FINSI;

|DDEFECTO #11;
|PARA para1 = 0; |SI para1 [ 16; |HACIENDO para1 = para1 + 1;
    #11para1 = #10para1;
|SIGUE;
|GRABA 020#11n;
|FPRC;

|DEFBUCLE b_dedu10;
 #10#1;
 ;
 DEmpre,  1;
 HEmpre, 99;
 e;
 NULL, b_dedu101;
|FIN;

|PROCESO dedu10;
|PATH_DAT #10 path1;
|NOME_DAT #10 "rededu10";
|ABRE #11;
|BUCLE b_dedu10;
|CIERRA #11;
|FPRC;
____________________________________/
|PROCESO b_actafe1;
#13#0 = #12#0;
#13#1 = #12#1;
|LEE 040#13=;
|SI FSalida = 0; |ACABA; |FINSI;

|DDEFECTO #13;
|PARA para1 = 0; |SI para1 [ 57; |HACIENDO para1 = para1 + 1;
    #13para1 = #12para1;
|SIGUE;
|GRABA 020#13n;
|FPRC;

|DEFBUCLE b_actafe;
 #12#1;
 ;
 DEmpre,  1;
 HEmpre, 99;
 e;
 NULL, b_actafe1;
|FIN;

|PROCESO actafe;
|PATH_DAT #12 path1;
|NOME_DAT #12 "reactafe";
|ABRE #13;
|BUCLE b_actafe;
|CIERRA #13;
|FPRC;
____________________________________/
|PROCESO b_patrim1;
#15#0 = #14#0;
#15#1 = #14#1;
#15#2 = #14#2;
|LEE 040#15=;
|SI FSalida = 0; |ACABA; |FINSI;

|DDEFECTO #15;
|PARA para1 = 0; |SI para1 [ 18; |HACIENDO para1 = para1 + 1;
    #15para1 = #14para1;
|SIGUE;
|GRABA 020#15n;
|FPRC;

|DEFBUCLE b_patrim;
 #14#1;
 ;
 DEmpre, "  ",   1;
 HEmpre, "zz", 999;
 e;
 NULL, b_patrim1;
|FIN;

|PROCESO patrim;
|PATH_DAT #14 path1;
|NOME_DAT #14 "repatrim";
|ABRE #15;
|BUCLE b_patrim;
|CIERRA #15;
|FPRC;
____________________________________/
|PROCESO b_ven2101;
#17#0 = #16#0;
|LEE 040#17=;
|SI FSalida = 0; |ACABA; |FINSI;

|DDEFECTO #17;
|PARA para1 = 0; |SI para1 [ 56; |HACIENDO para1 = para1 + 1;
    #17para1 = #16para1;
|SIGUE;
|GRABA 020#17n;
|FPRC;

|DEFBUCLE b_ven210;
 #16#1;
 ;
 DEmpre;
 HEmpre;
 e;
 NULL, b_ven2101;
|FIN;

|PROCESO ven210;
|PATH_DAT #16 path1;
|NOME_DAT #16 "reven210";
|ABRE #17;
|BUCLE b_ven210;
|CIERRA #17;
|FPRC;
____________________________________/
|PROCESO b_alc2101;
#19#0 = #18#0;
|LEE 040#19=;
|SI FSalida = 0; |ACABA; |FINSI;

|DDEFECTO #19;
|PARA para1 = 0; |SI para1 [ 6; |HACIENDO para1 = para1 + 1;
    #19para1 = #18para1;
|SIGUE;
|GRABA 020#19n;
|FPRC;

|DEFBUCLE b_alc210;
 #18#1;
 ;
   1;
 999;
 e;
 NULL, b_alc2101;
|FIN;

|PROCESO alc210;
|PATH_DAT #18 path1;
|NOME_DAT #18 "realc210";
|ABRE #19;
|BUCLE b_alc210;
|CIERRA #19;
|FPRC;
____________________________________/
|PROCESO b_all2101;
#21#0 = #20#0;
#21#1 = #20#1;
|LEE 040#21=;
|SI FSalida = 0; |ACABA; |FINSI;

|DDEFECTO #21;
|PARA para1 = 0; |SI para1 [ 20; |HACIENDO para1 = para1 + 1;
    #21para1 = #20para1;
|SIGUE;
|GRABA 020#21n;
|FPRC;

|DEFBUCLE b_all210;
 #20#1;
 ;
   1,   1;
 999, 999;
 e;
 NULL, b_all2101;
|FIN;

|PROCESO all210;
|PATH_DAT #20 path1;
|NOME_DAT #20 "reall210";
|ABRE #21;
|BUCLE b_all210;
|CIERRA #21;
|FPRC;
____________________________________/
|PROCESO b_empagr1;
#23#0 = #22#0;
#23#1 = #22#1;
|LEE 040#23=;
|SI FSalida = 0; |ACABA; |FINSI;

|DDEFECTO #23;

|PARA para1 = 0; |SI para1 [ 15; |HACIENDO para1 = para1 + 1;
    #23para1 = #22para1;
|SIGUE;

#23#16 = #22#35;
#23#17 = #22#16;
#23#18 = #22#63;
#23#19 = #22#51;
#23#20 = #22#36;
#23#21 = #22#28;
#23#22 = #22#29;
#23#23 = #22#26;
#23#24 = #22#37;
#23#25 = #22#38;
#23#26 = #22#39;
#23#27 = #22#24 - #22#25 - #22#26;
#23#28 = #22#31;
#23#29 = #22#30;
#23#30 = #22#27;
#23#31 = #22#40;
#23#32 = #22#41;
#23#33 = #22#42;
#23#34 = #22#32;
#23#35 = #22#33;
#23#36 = #22#34;
|GRABA 020#23n;

|ABRE #99;
#99#0 = #22#0;
#99#1 = #22#1;
Linea = 0;

|SI #22#56 ! 0; |Y #22#53 ! 0;
    GanaAgri    = "A";
    PropArrend  = "P";

    |SI #22#52 = "N";
        Regadio = "S";
        |SI #22#56 = 0.24; Producto = 2;                                 |FINSI;
        |SI #22#56 = 0.30; Producto = 3;                                 |FINSI;
        |SI #22#56 = 0.35; Producto = 4;                                 |FINSI;
        |SI #22#56 = 0.40; Producto = 5;                                 |FINSI;
        |SI #22#56 = 0.12; Producto = 1; GanaAgri = ""; PropArrend = ""; |FINSI;
        |SI #22#56 = 0.55; Producto = 6; GanaAgri = ""; PropArrend = ""; |FINSI;
    |FINSI;

    |SI #22#52 = "S";
        Regadio = "N";
        |SI #22#56 = 0.153; Producto = 2; |FINSI;
        |SI #22#56 = 0.24;  Producto = 3; |FINSI;
        |SI #22#56 = 0.284; Producto = 4; |FINSI;
        |SI #22#56 = 0.328; Producto = 5; |FINSI;
        |SI #22#56 = 0.12; Producto = 1; GanaAgri = ""; PropArrend = ""; |FINSI;
        |SI #22#56 = 0.55; Producto = 6; GanaAgri = ""; PropArrend = ""; |FINSI;
    |FINSI;

    Volumen     = #22#53;
    Rendimiento = #22#59;
    Coeficiente = #22#56;

    |HAZ GrabaLineal;
|FINSI;

|SI #22#57 ! 0; |Y #22#54 ! 0;
    GanaAgri    = "A";
    PropArrend  = "A";

    |SI #22#52 = "N";
        Regadio = "S";
        |SI #22#57 = 0.216;  Producto = 2; |FINSI;
        |SI #22#57 = 0.27;   Producto = 3; |FINSI;
        |SI #22#57 = 0.315;  Producto = 4; |FINSI;
        |SI #22#57 = 0.36;   Producto = 5; |FINSI;
    |FINSI;

    |SI #22#52 = "S";
        Regadio = "N";
        |SI #22#57 = 0.1377; Producto = 2; |FINSI;
        |SI #22#57 = 0.216;  Producto = 3; |FINSI;
        |SI #22#57 = 0.2556; Producto = 4; |FINSI;
        |SI #22#57 = 0.2952; Producto = 5; |FINSI;
    |FINSI;
    Volumen     = #22#54;
    Rendimiento = #22#60;
    Coeficiente = #22#57;

    |HAZ GrabaLineal;
|FINSI;

|SI #22#58 ! 0; |Y #22#55 ! 0;
    GanaAgri    = "G";
    PropArrend  = " ";

    |SI #22#52 = "N";
        Regadio = "S";
        |SI #22#58 = 0.24;  Producto = 2; |FINSI;
        |SI #22#58 = 0.30;  Producto = 3; |FINSI;
        |SI #22#58 = 0.35;  Producto = 4; |FINSI;
        |SI #22#58 = 0.40;  Producto = 5; |FINSI;
    |FINSI;

    |SI #22#52 = "S";
        Regadio = "N";
        |SI #22#58 = 0.153; Producto = 2; |FINSI;
        |SI #22#58 = 0.24;  Producto = 3; |FINSI;
        |SI #22#58 = 0.284; Producto = 4; |FINSI;
        |SI #22#58 = 0.328; Producto = 5; |FINSI;
    |FINSI;

    Volumen     = #22#55;
    Rendimiento = #22#61;
    Coeficiente = #22#58;

    |HAZ GrabaLineal;
|FINSI;

|CIERRA #99;
|FPRC;

|PROCESO GrabaLineal;
Linea = Linea + 1;
#99#2 = Linea;
#99#3 = Producto;
#99#4 = GanaAgri;
#99#5 = PropArrend;
#99#6 = Regadio;
#99#7 = Volumen;
#99#8 = Rendimiento;
#99#9 = Coeficiente;
|GRABA 040#99n;
|FPRC;

|DEFBUCLE b_empagr;
 #22#1;
 ;
 DEmpre, 01;
 HEmpre, 99;
 e;
 NULL, b_empagr1;
|FIN;

|PROCESO empagr;
|PATH_DAT #22 path1;
|NOME_DAT #22 "reempagr";
|ABRE #23;
|BUCLE b_empagr;
|CIERRA #23;
|FPRC;

____________________________________/
|PROCESO b_pagret1;
#25#0 = #24#0;
#25#1 = #24#1;
|LEE 040#25=;
|SI FSalida = 0; |ACABA; |FINSI;

|DDEFECTO #25;
|PARA para1 = 0; |SI para1 [ 10; |HACIENDO para1 = para1 + 1;
    #25para1 = #24para1;
|SIGUE;
|GRABA 020#25n;
|FPRC;

|DEFBUCLE b_pagret;
 #24#1;
 ;
 DEmpre, 01;
 HEmpre, 99;
 e;
 NULL, b_pagret1;
|FIN;

|PROCESO pagret;
|PATH_DAT #24 path1;
|NOME_DAT #24 "repagret";
|ABRE #25;
|BUCLE b_pagret;
|CIERRA #25;
|FPRC;
