|FICHEROS;
    rerendir #7;
    retransp #8;
    rew00001 #99;
|FIN;

|INCLUYE i_varadj;

|| **************************************************************************
||                           PROCESOS IMPRESION
|| **************************************************************************

|PROCESO impre_05;
|SI swporta = 0; |HAZ cabecera; |FINSI;
|IMPRIME varalf; linea = linea + 1; |HAZ linea;
|FPRC;

|| ********************** Irregulares Profesionales y empresariales ********

|PROCESO carga_05_20;
conta = conta + 1;
|SI conta > 3; swprof = 1; |FINSI;
|FPRC;

|PROCESO carga_05_7;
conta = conta + 1;
|SI conta < 3; |ACABA; |FINSI;
varalf = "";                                                     |HAZ impre_05;
varalf = "";                                                     |HAZ impre_05;
|SI caciclo = 0;
    varalf = "F) RENDIMIENTOS IRREGULARES O DE CICLO SUPERIOR A UN A¥O"; |HAZ impre_05;
    varalf = "";                                                 |HAZ impre_05;
    varalf = "De actividades profesionales o empresariales";     |HAZ impre_05;
    varalf = "";                                                 |HAZ impre_05;
    caciclo = 1;
|SINO;
    |SI swrrr1 = 0;
       varalf = "De actividades profesionales o empresariales";  |HAZ impre_05;
       varalf = "";                                              |HAZ impre_05;
       swrrr1 = 1;
    |FINSI;
|FINSI;

varalf = "Descripcion : " + #7#6;                                |HAZ impre_05;
varalf = "Perceptor ..: " + perce;                                |HAZ impre_05;
varalf = "";                                                     |HAZ impre_05;
a = #7#8 % coefi; importe = a;                                   |HAZ importe;
varalf = "Retencion / Ingreso a cuenta ....................: " + importe;
                                                                 |HAZ impre_05;
a = #7#9 % coefi; importe = a;                                   |HAZ importe;
varalf = "Ingresos integros ...............................: " + importe;
                                                                 |HAZ impre_05;
a = #7#10 % coefi; importe = a;                                  |HAZ importe;
varalf = "Gastos deducibles ...............................: " + importe;
                                                                 |HAZ impre_05;
a = #7#11 % coefi; importe = a;                                  |HAZ importe;
varalf = "Rendimiento Neto Negativo .......................: " + importe;
                                                                 |HAZ impre_05;
a = #7#12 % coefi; importe = a;                                  |HAZ importe;
varalf = "Rendimiento Neto Positivo .......................: " + importe;
                                                                 |HAZ impre_05;
a = #7#13 % coefi; importe = a;                                  |HAZ importe;
varalf = "Periodo de generacion (A¥OS) ....................: " + importe;
                                                                 |HAZ impre_05;
a = #7#14 % coefi; importe = a;                                  |HAZ importe;
varalf = "Cociente ........................................: " + importe;
                                                                 |HAZ impre_05;
a = #7#15 % coefi; importe = a;                                  |HAZ importe;
varalf = "Resto del rendimiento neto positivo .............: " + importe;
                                                                 |HAZ impre_05;
|FPRC;

|PROCESO activi1;
sw_fich = 7;

|SI #7#16 = "X"; |O #7#16 = "P"; |ACABA; |FINSI;

|SI #99#1 = "A"; perce = #7#5; |SINO; perce = "TITILAR"; |FINSI;

|SI #99#1 = "A";
    |SI #7#4 = "V";
        coefi = #7#17 + #7#18 + #7#19 + #7#20 + #7#21 + #7#22;
        |HAZ carga_05_7;
        |ACABA;
    |FINSI;
    coefi = 100; |HAZ carga_05_7;
    |ACABA;
|FINSI;

|SI #99#1 = "T";
   |SI #7#4 = "G"; coefi = 50;   |HAZ carga_05_7; |ACABA; |FINSI;
   |SI #7#4 = "T"; coefi = 100;  |HAZ carga_05_7; |ACABA; |FINSI;
   |SI #7#4 = "V"; coefi = #7#17; |HAZ carga_05_7; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "C";
   |SI #7#4 = "G"; coefi = 50;   |HAZ carga_05_7; |ACABA; |FINSI;
   |SI #7#4 = "C"; coefi = 100;  |HAZ carga_05_7; |ACABA; |FINSI;
   |SI #7#4 = "V"; coefi = #7#18; |HAZ carga_05_7; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "1";
   |SI #7#4 = "1"; coefi = 100;  |HAZ carga_05_7; |ACABA; |FINSI;
   |SI #7#4 = "V"; coefi = #7#19; |HAZ carga_05_7; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "2";
   |SI #7#4 = "2"; coefi = 100;   |HAZ carga_05_7; |ACABA; |FINSI;
   |SI #7#4 = "V"; coefi = #7#20; |HAZ carga_05_7; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "3";
   |SI #7#4 = "3"; coefi = 100;   |HAZ carga_05_7; |ACABA; |FINSI;
   |SI #7#4 = "V"; coefi = #7#21; |HAZ carga_05_7; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "4";
   |SI #7#4 = "4"; coefi = 100;   |HAZ carga_05_7; |ACABA; |FINSI;
   |SI #7#4 = "V"; coefi = #7#22; |HAZ carga_05_7; |ACABA; |FINSI;
   |ACABA;
|FINSI;
|FPRC;

|PROCESO activi2;
sw_fich = 7;

|SI #7#16 = "X"; |O #7#16 = "P"; |ACABA; |FINSI;

|SI #99#1 = "A"; perce = #7#5; |SINO; perce = "TITILAR"; |FINSI;

|SI #99#1 = "A";
    |SI #7#4 = "V";
        coefi = #7#17 + #7#18 + #7#19 + #7#20 + #7#21 + #7#22;
        |HAZ carga_05_20;
        |ACABA;
    |FINSI;
    coefi = 100; |HAZ carga_05_20;
    |ACABA;
|FINSI;

|SI #99#1 = "T";
   |SI #7#4 = "G"; coefi = 50;   |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #7#4 = "T"; coefi = 100;  |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #7#4 = "V"; coefi = #7#17; |HAZ carga_05_20; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "C";
   |SI #7#4 = "G"; coefi = 50;   |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #7#4 = "C"; coefi = 100;  |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #7#4 = "V"; coefi = #7#18; |HAZ carga_05_20; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "1";
   |SI #7#4 = "1"; coefi = 100;  |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #7#4 = "V"; coefi = #7#19; |HAZ carga_05_20; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "2";
   |SI #7#4 = "2"; coefi = 100;   |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #7#4 = "V"; coefi = #7#20; |HAZ carga_05_20; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "3";
   |SI #7#4 = "3"; coefi = 100;   |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #7#4 = "V"; coefi = #7#21; |HAZ carga_05_20; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "4";
   |SI #7#4 = "4"; coefi = 100;   |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #7#4 = "V"; coefi = #7#22; |HAZ carga_05_20; |ACABA; |FINSI;
   |ACABA;
|FINSI;
|FPRC;

|DEFBUCLE rerendi1;
#7#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, activi1;
|FIN;

|DEFBUCLE rerendi2;
#7#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, activi2;
|FIN;

|| ********************** Transparencia fiscal *****************************

|PROCESO carga_05_8;
conta = conta + 1;
|SI conta < 3; |ACABA; |FINSI;
varalf = "";                                                     |HAZ impre_05;
varalf = "";                                                     |HAZ impre_05;
|SI caciclo = 0;
    varalf = "G) IMPUTACIONES DE SOCIEDADES EN REGIMEN DE TRANSPARENCIA FISCAL"; |HAZ impre_05;
    varalf = "";                                                 |HAZ impre_05;
    caciclo = 1;
|FINSI;

varalf = "Razon Social: " + #8#13;                               |HAZ impre_05;
varalf = "Perceptor ..: " + #8#14;                               |HAZ impre_05;
varalf = "";                                                     |HAZ impre_05;
varalf = "Imputacion de Rendimientos                         ";  |HAZ impre_05;
a = #8#16 % coefi; importe = a;                                  |HAZ importe;
varalf = "Bases imponibles positivas ......................: " + importe;
                                                                 |HAZ impre_05;
varalf = "Imputacion de deducciones                          ";  |HAZ impre_05;
a = #8#17 % coefi; importe = a;                                  |HAZ importe;
varalf = "Doble imposicion intersocietaria ................: " + importe;
                                                                 |HAZ impre_05;
a = #8#18 % coefi; importe = a;                                  |HAZ importe;
varalf = "Doble imposicion internacional ..................: " + importe;
                                                                 |HAZ impre_05;
a = #8#19 % coefi; importe = a;                                  |HAZ importe;
varalf = "Rentas bonificadas ..............................: " + importe;
                                                                 |HAZ impre_05;
a = #8#20 % coefi; importe = a;                                  |HAZ importe;
varalf = "Inversion empresarial ...........................: " + importe;
                                                                 |HAZ impre_05;
a = 0;             importe = a;                                  |HAZ importe;
varalf = "Creacion de empleo ..............................: " + importe;
                                                                 |HAZ impre_05;
varalf = "Imputacion de retenciones e ingresos a cuenta      ";  |HAZ impre_05;
a = #8#21 % coefi; importe = a;                                  |HAZ importe;
varalf = "Por retenciones soportadas e ingresos a cuenta ..: " + importe;
                                                                 |HAZ impre_05;
|FPRC;

|PROCESO transpa1;
sw_fich = 8;

|SI #8#4 = "X"; |O #8#4 = "P"; |ACABA; |FINSI;

|SI #99#1 = "A";
    |SI #8#2 = "V";
        coefi = #8#7 + #8#8 + #8#9 + #8#10 + #8#11 + #8#12;
        |HAZ carga_05_8;
        |ACABA;
    |FINSI;
    coefi = 100; |HAZ carga_05_8;
    |ACABA;
|FINSI;

|SI #99#1 = "T";
   |SI #8#2 = "G"; coefi = 50;   |HAZ carga_05_8; |ACABA; |FINSI;
   |SI #8#2 = "T"; coefi = 100;  |HAZ carga_05_8; |ACABA; |FINSI;
   |SI #8#2 = "V"; coefi = #8#7; |HAZ carga_05_8; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "C";
   |SI #8#2 = "G"; coefi = 50;   |HAZ carga_05_8; |ACABA; |FINSI;
   |SI #8#2 = "C"; coefi = 100;  |HAZ carga_05_8; |ACABA; |FINSI;
   |SI #8#2 = "V"; coefi = #8#8; |HAZ carga_05_8; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "1";
   |SI #8#2 = "1"; coefi = 100;  |HAZ carga_05_8; |ACABA; |FINSI;
   |SI #8#2 = "V"; coefi = #8#9; |HAZ carga_05_8; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "2";
   |SI #8#2 = "2"; coefi = 100;   |HAZ carga_05_8; |ACABA; |FINSI;
   |SI #8#2 = "V"; coefi = #8#10; |HAZ carga_05_8; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "3";
   |SI #8#2 = "3"; coefi = 100;   |HAZ carga_05_8; |ACABA; |FINSI;
   |SI #8#2 = "V"; coefi = #8#11; |HAZ carga_05_8; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "4";
   |SI #8#2 = "4"; coefi = 100;   |HAZ carga_05_8; |ACABA; |FINSI;
   |SI #8#2 = "V"; coefi = #8#12; |HAZ carga_05_8; |ACABA; |FINSI;
   |ACABA;
|FINSI;
|FPRC;

|PROCESO transpa2;
sw_fich = 8;

|SI #8#4 = "X"; |O #8#4 = "P"; |ACABA; |FINSI;

|SI #99#1 = "A";
    |SI #8#2 = "V";
        coefi = #8#7 + #8#8 + #8#9 + #8#10 + #8#11 + #8#12;
        |HAZ carga_05_20;
        |ACABA;
    |FINSI;
    coefi = 100; |HAZ carga_05_20;
    |ACABA;
|FINSI;

|SI #99#1 = "T";
   |SI #8#2 = "G"; coefi = 50;   |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #8#2 = "T"; coefi = 100;  |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #8#2 = "V"; coefi = #8#7; |HAZ carga_05_20; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "C";
   |SI #8#2 = "G"; coefi = 50;   |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #8#2 = "C"; coefi = 100;  |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #8#2 = "V"; coefi = #8#8; |HAZ carga_05_20; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "1";
   |SI #8#2 = "1"; coefi = 100;  |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #8#2 = "V"; coefi = #8#9; |HAZ carga_05_20; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "2";
   |SI #8#2 = "2"; coefi = 100;   |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #8#2 = "V"; coefi = #8#10; |HAZ carga_05_20; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "3";
   |SI #8#2 = "3"; coefi = 100;   |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #8#2 = "V"; coefi = #8#11; |HAZ carga_05_20; |ACABA; |FINSI;
   |ACABA;
|FINSI;

|SI #99#1 = "4";
   |SI #8#2 = "4"; coefi = 100;   |HAZ carga_05_20; |ACABA; |FINSI;
   |SI #8#2 = "V"; coefi = #8#12; |HAZ carga_05_20; |ACABA; |FINSI;
   |ACABA;
|FINSI;
|FPRC;

|DEFBUCLE retrans1;
#8#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, transpa1;
|FIN;

|DEFBUCLE retrans2;
#8#1;
;
#99#0, 01;
#99#0, 99;
e;
NULL, transpa2;
|FIN;

|PROCESO readjor5;
swmod   = 0;
swprof  = 0;
swrrr1  = 0;
swprof  = 0;
conta   = 0; |BUCLE rerendi2;
|SI swprof = 1; conta = 0; |BUCLE rerendi1; |FINSI;

swprof  = 0;
caciclo = 0;
conta   = 0; |BUCLE retrans2;
|SI swprof = 1; conta = 0; |BUCLE retrans1; |FINSI;
|FPRC;
