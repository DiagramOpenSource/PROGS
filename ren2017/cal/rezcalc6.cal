|FICHEROS;
      rem00903;

      rem01033@;
      rem01041@ #41;
      rem01042@;
      rem01043@ #43;
      rem01048@;
      rem01049@;
      rem01050@;
      rem01051@;
      rem01056@;

      datfic0@ #0;

     &refere1@ #1;
     &refere2@;
     &refere3@;
|FIN;

|VARIABLES;
      aDef             = "";
      aAlfa            = "";
      aFichero         = "";
      aAlfa1           = "";
      aAlfa2           = "";
      aAlfa3           = "";
      aAlfa4           = "";
      aAlfa5           = "";
      aAlfa6           = "";
      aAlfa7           = "";
      aAlfa8           = "";
      aAlfa9           = "";
      aAlfa10          = "";
      aAlfa11          = "";
      aAlfa12          = "";
      aAlfa13          = "";
      aAlfa14          = "";
      aAlfa15          = "";
      aAlfa16          = "";
      aAlfa17          = "";
      aAlfa18          = "";
      aAlfa19          = "";
      aAlfa20          = "";
      aAlfa21          = "";
      aAlfa22          = "";
      aAlfa23          = "";
      aAlfa24          = "";
      aAlfa25          = "";
      aDni             = "";
      aCas             = "";
      aContri          = "";

      nCoefi           = 0;
      nSwFich          = 0;
      nFactor          = 0;
      nCampo16         = 0;
      nCampo           = 0;
      nValor           = 0;
      nCatastral       = 0;
      nCampo3          = 0;
      nCampo4          = 0;
      nCampo5          = 0;
      nCampo6          = 0;
      nCampo7          = 0;
      nCampo8          = 0;
      nCampo9          = 0;
      nCampo10         = 0;
      nCampo11         = 0;
      nAnyo            = 0;
      nLimite          = 0;
      nNume1           = 0;
      nNume2           = 0;
      nNume3           = 0;
      nNume            = 0;
      nCalcu           = 0;
      nTCampo          = 0;
      nDCampo          = 0;
      nHCampo          = 0;
      nEspecial        = 0;
      nCasilla         = 0;
      nLinea           = 0;
      nExc             = 0;
      nNumCas          = 0;
      nOk              = 0;

     &enEmpresa        = 0;
     &enComplementaria = 0;
     &eaPathDef        = "";
     &eaContri         = "";
     &enMinusvalia     = 0;
     &eaMinuAyuda      = "";
     &eaCasilla        = "";
     &enImporte        = 0;
     &enSwAcum         = 0;
     &enNomeDat        = 0;
     &enNomeAgr        = 0;
     &eaMuerto         = "";
     &efFechaMuerto    = @;
     &enCalcuMuerto    = 0;
     &eaPrograma       = "";
     &enLinea          = 0;
     &eaObserva        = "";
     &enRedon          = 0;
|FIN;

|PROCESO GrabaExcesos_6;
     |SELECT #2#rem01056@;
     #rem01056@#0  = #refere1@#0;
     #rem01056@#1  = #refere1@#1;
     #rem01056@#2  = #refere1@#2;
     #rem01056@#3  = aContri;
     #rem01056@#6  = aCas;
     |LEE 101#rem01056@.=;
     |SI FSalida ! 0;
         #rem00903#2 = aCas;
         |LEE 000#rem00903.=;
         |SI FSalida ! 0;  |ACABA;  |FINSI;

         |DDEFECTO #rem01056@;

         |SELECT #1#rem01056@;
         #rem01056@#0  = #refere1@#0;
         #rem01056@#1  = #refere1@#1;
         #rem01056@#2  = #refere1@#2;
         #rem01056@#3  = aContri;
         #rem01056@#4  = #rem00903#0;
         #rem01056@#5  = #rem00903#1;
         #rem01056@#6  = #rem00903#2;
         #rem01056@#8  = #rem00903#3;
         #rem01056@#10 = #rem00903#4;
         #rem01056@#12 = #rem00903#5;

         |GRABA 020#rem01056@.b;
     |FINSI;

     #rem01056@#7 = (N\ #rem01056@#7 + ((nExc % nCoefi) + enRedon));

     |GRABA 020#rem01056@.a;
     |LIBERA #rem01056@;
|FPRC;

|PROCESO LiquidaM1;
     || datfic0 = "rem00046";

     #rem01041@#0 = #refere1@#0;
     #rem01041@#1 = #refere1@#1;
     #rem01041@#2 = #refere1@#2;
     |LEE 101#rem01041@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01041@;
         #rem01041@#0 = #refere1@#0;
         #rem01041@#1 = #refere1@#1;
         #rem01041@#2 = #refere1@#2;
         |GRABA 020#rem01041@.b;
     |FINSI;

     |SI #datfic0@#11 = "1";
         #rem01041@#48 = (N\ #rem01041@#48 + ((#datfic0@#13  % nCoefi) + enRedon));
         #rem01041@#49 = (N\ #rem01041@#49  + ((#datfic0@#15  % nCoefi) + enRedon));
     |FINSI;

     |SI #datfic0@#11 = "2";
         #rem01041@#38 = (N\ #rem01041@#38 + ((#datfic0@#13  % nCoefi) + enRedon));
     |FINSI;

     |SI #datfic0@#11 = "3";
         #rem01041@#40 = (N\ #rem01041@#40 + ((#datfic0@#13  % nCoefi) + enRedon));
     |FINSI;

     |SI #datfic0@#11 = "4";
         #rem01041@#79 = (N\ #rem01041@#79 + ((#datfic0@#13  % nCoefi) + enRedon));
     |FINSI;

     |SI #datfic0@#11 = "5";
         #rem01041@#42 = (N\ #rem01041@#42 + ((#datfic0@#13  % nCoefi) + enRedon));
         #rem01041@#43 = (N\ #rem01041@#43 + ((#datfic0@#15  % nCoefi) + enRedon));
     |FINSI;

     |SI #datfic0@#11 = "6";
         #rem01041@#44 = (N\ #rem01041@#44 + ((#datfic0@#13  % nCoefi) + enRedon));
         #rem01041@#45 = (N\ #rem01041@#45 + ((#datfic0@#15  % nCoefi) + enRedon));
     |FINSI;

     |SI #datfic0@#11 = "7";
         #rem01041@#78 = (N\ #rem01041@#78 + ((#datfic0@#13  % nCoefi) + enRedon));
     |FINSI;

     |GRABA 020#rem01041@.a;
     |LIBERA #rem01041@;
|FPRC;

|PROCESO LiquidaM2;
     || datfic0 = "rem00045";

     #rem01042@#0 = #refere1@#0;
     #rem01042@#1 = #refere1@#1;
     #rem01042@#2 = #refere1@#2;
     |LEE 101#rem01042@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01042@;
         #rem01042@#0 = #refere1@#0;
         #rem01042@#1 = #refere1@#1;
         #rem01042@#2 = #refere1@#2;
         |GRABA 020#rem01042@.b;
     |FINSI;

     nCalcu  = 0;
     nNumCas = #datfic0@#15;

     |SI #datfic0@#15 ] "0694";  |Y #datfic0@#15 [ "0758";
         |SI #datfic0@#16 = 25;  #rem01042@#241 = 1;  |FINSI;
         |SI #datfic0@#16 = 50;  #rem01042@#241 = 2;  |FINSI;

         nCampo = (nNumCas - 693) * 3;
     |FINSI;

     |SI #datfic0@#15 ] "0766";  |Y #datfic0@#15 [ "0772";
         |SI #datfic0@#16 = 60;  #rem01042@#242 = 1;  |FINSI;
         |SI #datfic0@#16 = 90;  #rem01042@#242 = 2;  |FINSI;

         nCampo = 199 + ((nNumCas - 766) * 3);
     |FINSI;

     |SI #datfic0@#15 = "0766";
         |SI #datfic0@#11 = 3; |Y #datfic0@#13 = 5;
             nCampo = 243;
         |FINSI;
     |FINSI;

     |SI #datfic0@#15 = "0678";  |O #datfic0@#15 = "0679";
         #rem01042@#223 = (N\ #rem01042@#223 + ((#datfic0@#19  % nCoefi) + enRedon));

         |SI #datfic0@#15 = "0678";  #rem01042@#224 = (N\ #rem01042@#224 + ((#datfic0@#19  % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#15 = "0679";  #rem01042@#225 = (N\ #rem01042@#225 + ((#datfic0@#19  % nCoefi) + enRedon));  |FINSI;

         nCalcu = 1;
     |FINSI;

     |SI #datfic0@#15 = "0681";  |O #datfic0@#15 = "0682";
         #rem01042@#227 = (N\ #rem01042@#227 + ((#datfic0@#19  % nCoefi) + enRedon));

         |SI #datfic0@#15 = "0681";  #rem01042@#228 = (N\ #rem01042@#228 + ((#datfic0@#19  % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#15 = "0682";  #rem01042@#229 = (N\ #rem01042@#229 + ((#datfic0@#19  % nCoefi) + enRedon));  |FINSI;

         nCalcu = 1;
     |FINSI;

     |SI #datfic0@#15 = "0685";  |O #datfic0@#15 = "0686";
         #rem01042@#231 = (N\ #rem01042@#231 + ((#datfic0@#19  % nCoefi) + enRedon));

         |SI #datfic0@#15 = "0685";  #rem01042@#232 = (N\ #rem01042@#232 + ((#datfic0@#19  % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#15 = "0686";  #rem01042@#233 = (N\ #rem01042@#233 + ((#datfic0@#19  % nCoefi) + enRedon));  |FINSI;

         nCalcu = 1;
     |FINSI;

     |SI #datfic0@#15 = "0689";  |O #datfic0@#15 = "0690";
         #rem01042@#235 = (N\ #rem01042@#235 + ((#datfic0@#19  % nCoefi) + enRedon));

         |SI #datfic0@#15 = "0689";  #rem01042@#236 = (N\ #rem01042@#236 + ((#datfic0@#19  % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#15 = "0690";  #rem01042@#237 = (N\ #rem01042@#237 + ((#datfic0@#19  % nCoefi) + enRedon));  |FINSI;

         nCalcu = 1;
     |FINSI;

     |SI #datfic0@#15 = "0692";  |O #datfic0@#15 = "0693";
         |SI #datfic0@#15 = "0692";  #rem01042@#239 = (N\ #rem01042@#239 + ((#datfic0@#19 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#15 = "0693";  #rem01042@#240 = (N\ #rem01042@#240 + ((#datfic0@#19 % nCoefi) + enRedon));  |FINSI;

         nCalcu = 1;
     |FINSI;

     |SI nCalcu = 0;
         #rem01042@#nCampo# = (N\ #rem01042@#nCampo# + ((#datfic0@#19  % nCoefi) + enRedon));

         nCampo   = nCampo + 1;
         #rem01042@#nCampo# = (N\ #rem01042@#nCampo# + ((#datfic0@#19  % nCoefi) + enRedon));
     |FINSI;

     |GRABA 020#rem01042@.a;
     |LIBERA #rem01042@;
|FPRC;

|PROCESO LiquidaM3;
     || datfic0 = "rem00047";    || Deducciones indebidas

     #rem01033@#0 = #refere1@#0;
     #rem01033@#1 = #refere1@#1;
     #rem01033@#2 = #refere1@#2;
     |LEE 101#rem01033@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01033@;
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |GRABA 020#rem01033@.b;
     |FINSI;

     |SI #datfic0@#13 [ 1996;
         enSwAcum   = 1;
         eaCasilla  = "39-0537";
         enImporte  = #datfic0@#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#13 ] 1997;  |Y #datfic0@#13 [ 2001;
         enSwAcum   = 1;
         eaCasilla  = "39-0539";
         enImporte  = (#datfic0@#14 % nCoefi) % 85;
         |HAZ GrabaLineal;

         eaCasilla  = "40-0542";
         enImporte  = (#datfic0@#14 % nCoefi) - enImporte;
         |HAZ GrabaLineal;

         |SI #datfic0@#21 = "S";
             #rem01033@#123 = 1;
         |FINSI;
     |FINSI;

     |SI #datfic0@#13 ] 2002;  |Y #datfic0@#13 [ 2008;
         enSwAcum   = 1;
         eaCasilla  = "39-0539";
         enImporte  = (#datfic0@#14 % nCoefi) % 67;
         |HAZ GrabaLineal;

         eaCasilla  = "40-0542";
         enImporte  = (#datfic0@#14 % nCoefi) - enImporte;
         |HAZ GrabaLineal;

         |SI #datfic0@#21 = "S";
             #rem01033@#124 = 1;
         |FINSI;
     |FINSI;

     |SI #datfic0@#13 ] 2009;
         enSwAcum   = 1;
         eaCasilla  = "39-0539";
         enImporte  = (#datfic0@#14 % nCoefi) % 50;
         |HAZ GrabaLineal;

         eaCasilla  = "40-0542";
         enImporte  = (#datfic0@#14 % nCoefi) - enImporte;
         |HAZ GrabaLineal;

         |SI #datfic0@#21 = "S";
             #rem01033@#123 = 1;
         |FINSI;
     |FINSI;

     |SI #datfic0@#13 ] 1998;
         enSwAcum   = 1;
         eaCasilla  = "40-0544";
         enImporte  = #datfic0@#15 % nCoefi;
         |HAZ GrabaLineal;

         |SI #datfic0@#21 = "S";
             #rem01033@#124 = 1;
         |FINSI;
     |FINSI;

|| Intereses

     |SI #datfic0@#13 [ 1996;
         enSwAcum   = 1;
         eaCasilla  = "39-0538";
         enImporte  = #datfic0@#16 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#13 ] 1997;  |Y #datfic0@#13 [ 2001;
         enSwAcum   = 1;
         eaCasilla  = "39-0541";
         enImporte  = (#datfic0@#16 % nCoefi) % 85;
         |HAZ GrabaLineal;

         eaCasilla  = "40-0543";
         enImporte  = (#datfic0@#16 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#13 ] 2002;  |Y #datfic0@#13 [ 2008;
         enSwAcum   = 1;
         eaCasilla  = "39-0541";
         enImporte  = (#datfic0@#16 % nCoefi) % 67;
         |HAZ GrabaLineal;

         eaCasilla  = "40-0543";
         enImporte  = (#datfic0@#16 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#13 ] 2009;
         enSwAcum   = 1;
         eaCasilla  = "39-0541";
         enImporte  = (#datfic0@#16 % nCoefi) % 50;
         |HAZ GrabaLineal;

         eaCasilla  = "40-0543";
         enImporte  = (#datfic0@#16 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#13 ] 1998;
         enSwAcum   = 1;
         eaCasilla  = "40-0546";
         enImporte  = #datfic0@#17 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |GRABA 020#rem01033@.a;
     |LIBERA #rem01033@;
|FPRC;

|PROCESO LiquidaM4;
     || datfic0 = "rem00048";

     #rem01041@#0 = #refere1@#0;
     #rem01041@#1 = #refere1@#1;
     #rem01041@#2 = #refere1@#2;
     |LEE 101#rem01041@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01041@;
         #rem01041@#0 = #refere1@#0;
         #rem01041@#1 = #refere1@#1;
         #rem01041@#2 = #refere1@#2;
         |GRABA 020#rem01041@.b;
     |FINSI;

     aAlfa1 = #datfic0@#15;

     |SI #rem01041@#72 = "                    ";  |O #rem01041@#72 = aAlfa1;
         #rem01041@#72 = #datfic0@#15;
         #rem01041@#75 = (N\ #rem01041@#75 + ((#datfic0@#12  % nCoefi) + enRedon));
     |SINO;
         |SI #rem01041@#73 = "                    ";  |O #rem01041@#73 = aAlfa1;
             #rem01041@#73 = #datfic0@#15;
             #rem01041@#76 = (N\ #rem01041@#76 + ((#datfic0@#12  % nCoefi) + enRedon));
         |SINO;
             |SI #rem01041@#74 = "                    ";  |O #rem01041@#74 = aAlfa1;
                 #rem01041@#74 = #datfic0@#15;
                 #rem01041@#77 = (N\ #rem01041@#77 + ((#datfic0@#12  % nCoefi) + enRedon));
             |FINSI;
         |FINSI;
     |FINSI;

     nNume1 = #rem01041@#75;
     nNume2 = #rem01041@#76;
     nNume3 = #rem01041@#77;

     |SI nNume1 ] nNume2;  |Y nNume1 ] nNume3;
         |SI #datfic0@#16 = "S";
             #rem01041@#28  = #rem01041@#72;
         |SINO;
             #rem01041@#29  = #rem01041@#72;
         |FINSI;

         #rem01041@#32 = #rem01041@#75;
         nNume1 = 0;
     |SINO;
         |SI nNume2 ] nNume1;  |Y nNume2 ] nNume3;
             |SI #datfic0@#16 = "S";
                 #rem01041@#28  = #rem01041@#73;
             |SINO;
                 #rem01041@#29  = #rem01041@#73;
             |FINSI;

             #rem01041@#32 = #rem01041@#76;
             nNume2 = 0;
         |SINO;
             |SI nNume3 ] nNume1;  |Y nNume3 ] nNume2;
                 |SI #datfic0@#16 = "S";
                     #rem01041@#28  = #rem01041@#74;
                 |SINO;
                     #rem01041@#29  = #rem01041@#74;
                 |FINSI;

                 #rem01041@#32 = #rem01041@#77;
                 nNume3 = 0;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI nNume1 ! 0;  |O nNume2 ! 0;  |O nNume3 ! 0;
         |SI nNume1 ] nNume2;  |Y nNume1 ] nNume3;
             |SI #datfic0@#16 = "S";
                 #rem01041@#30  = #rem01041@#72;
             |SINO;
                 #rem01041@#31  = #rem01041@#72;
             |FINSI;

             #rem01041@#33 = #rem01041@#75;
             nNume1 = 0;
         |SINO;
             |SI nNume2 ] nNume1;  |Y nNume2 ] nNume3;
                 |SI #datfic0@#16 = "S";
                     #rem01041@#30  = #rem01041@#73;
                 |SINO;
                     #rem01041@#31  = #rem01041@#73;
                 |FINSI;

                 #rem01041@#33 = #rem01041@#76;
                 nNume2 = 0;
             |SINO;
                 |SI nNume3 ] nNume1;  |Y nNume3 ] nNume2;
                     |SI #datfic0@#16 = "S";
                         #rem01041@#30  = #rem01041@#74;
                     |SINO;
                         #rem01041@#31  = #rem01041@#74;
                     |FINSI;

                     #rem01041@#33 = #rem01041@#77;
                     nNume3 = 0;
                 |FINSI;
             |FINSI;
         |FINSI;
     |FINSI;

     #rem01041@#34 = (N\ #rem01041@#34 + ((#datfic0@#12  % nCoefi) + enRedon));

     nNume2 = #rem01041@#76;
     nNume3 = #rem01041@#77;

     |SI nNume2 ! 0; |O nNume3 ! 0;
         #rem01041@#71  = (N\ (nNume / (#rem01041@#75 + #rem01041@#76 + #rem01041@#77)) * 100);
     |FINSI;

     |GRABA 020#rem01041@.a;
     |LIBERA #rem01041@;
|FPRC;

|PROCESO LiquidaM5;
     || datfic0 = "rem00056";

     nExc = (#datfic0@#14 % nCoefi) + enRedon;

     |SI #datfic0@#11 = "0411  ";  |Y #datfic0@#13 ] 2013;
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |LEE 101#rem01033@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01033@;
             #rem01033@#0 = #refere1@#0;
             #rem01033@#1 = #refere1@#1;
             #rem01033@#2 = #refere1@#2;
             |GRABA 020#rem01033@.b;
         |FINSI;

         #rem01033@#59 = (N\ #rem01033@#59 + ((#datfic0@#14 % nCoefi) + enRedon));
         #rem01033@#62 = (N\ #rem01033@#62 + ((#datfic0@#14 % nCoefi) + enRedon));

         |GRABA 020#rem01033@.a;
         |LIBERA #rem01033@;

         enSwAcum   = 0;
         eaCasilla  = "27-0411";
         enImporte  = #rem01033@#59;
         |HAZ GrabaLineal;

         |SI #datfic0@#13 = 2013;  aCas = "1081";  |HAZ GrabaExcesos_6;  |FINSI;
         |SI #datfic0@#13 = 2014;  aCas = "1083";  |HAZ GrabaExcesos_6;  |FINSI;
         |SI #datfic0@#13 = 2015;  aCas = "1086";  |HAZ GrabaExcesos_6;  |FINSI;
         |SI #datfic0@#13 = 2016;  aCas = "1089";  |HAZ GrabaExcesos_6;  |FINSI;
     |FINSI;

     |SI #datfic0@#11 = "0417  ";  |Y #datfic0@#13 ] 2013;
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |LEE 101#rem01033@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01033@;
             #rem01033@#0 = #refere1@#0;
             #rem01033@#1 = #refere1@#1;
             #rem01033@#2 = #refere1@#2;
             |GRABA 020#rem01033@.b;
         |FINSI;

         #rem01033@#66 = (N\ #rem01033@#66 + ((#datfic0@#14 % nCoefi) + enRedon));

         |GRABA 020#rem01033@.a;
         |LIBERA #rem01033@;

         enSwAcum   = 0;
         eaCasilla  = "28-0417";
         enImporte  = #rem01033@#66;
         |HAZ GrabaLineal;

         |SI #datfic0@#13 = 2013;  aCas = "1094";  |HAZ GrabaExcesos_6;  |FINSI;
         |SI #datfic0@#13 = 2014;  aCas = "1096";  |HAZ GrabaExcesos_6;  |FINSI;
     |FINSI;

     |SI #datfic0@#11 = "0418  ";  |Y #datfic0@#13 ] 2013;
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |LEE 101#rem01033@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01033@;
             #rem01033@#0 = #refere1@#0;
             #rem01033@#1 = #refere1@#1;
             #rem01033@#2 = #refere1@#2;
             |GRABA 020#rem01033@.b;
         |FINSI;

         #rem01033@#67 = (N\ #rem01033@#67 + ((#datfic0@#14 % nCoefi) + enRedon));

         |GRABA 020#rem01033@.a;
         |LIBERA #rem01033@;

         enSwAcum   = 0;
         eaCasilla  = "28-0418";
         enImporte  = #rem01033@#67;
         |HAZ GrabaLineal;

         |SI #datfic0@#13 = 2013;  aCas = "1094";  |HAZ GrabaExcesos_6;  |FINSI;
         |SI #datfic0@#13 = 2014;  aCas = "1096";  |HAZ GrabaExcesos_6;  |FINSI;
     |FINSI;

     |SI #datfic0@#11 = "0419  ";
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |LEE 101#rem01033@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01033@;
             #rem01033@#0 = #refere1@#0;
             #rem01033@#1 = #refere1@#1;
             #rem01033@#2 = #refere1@#2;
             |GRABA 020#rem01033@.b;
         |FINSI;

         #rem01033@#68 = (N\ #rem01033@#68 + ((#datfic0@#14 % nCoefi) + enRedon));

         |GRABA 020#rem01033@.a;
         |LIBERA #rem01033@;

         enSwAcum   = 0;
         eaCasilla  = "28-0419";
         enImporte  = #rem01033@#68;
         |HAZ GrabaLineal;

         aCas = "1099";
         |HAZ GrabaExcesos_6;
     |FINSI;

     |SI #datfic0@#11 = "0420  ";
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |LEE 101#rem01033@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01033@;
             #rem01033@#0 = #refere1@#0;
             #rem01033@#1 = #refere1@#1;
             #rem01033@#2 = #refere1@#2;
             |GRABA 020#rem01033@.b;
         |FINSI;

         #rem01033@#69 = (N\ #rem01033@#69 + ((#datfic0@#14 % nCoefi) + enRedon));

         |GRABA 020#rem01033@.a;
         |LIBERA #rem01033@;

         enSwAcum   = 0;
         eaCasilla  = "28-0420";
         enImporte  = #rem01033@#69;
         |HAZ GrabaLineal;

         aCas = "1102";
         |HAZ GrabaExcesos_6;
     |FINSI;

     |SI #datfic0@#11 = "0425  ";  |Y #datfic0@#13 ] 2013;
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |LEE 101#rem01033@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01033@;
             #rem01033@#0 = #refere1@#0;
             #rem01033@#1 = #refere1@#1;
             #rem01033@#2 = #refere1@#2;
             |GRABA 020#rem01033@.b;
         |FINSI;

         #rem01033@#75 = (N\ #rem01033@#75 + ((#datfic0@#14 % nCoefi) + enRedon));

         |GRABA 020#rem01033@.a;
         |LIBERA #rem01033@;

         enSwAcum   = 0;
         eaCasilla  = "28-0425";
         enImporte  = #rem01033@#75;
         |HAZ GrabaLineal;

         |SI #datfic0@#13 = 2013;  aCas = "1107";  |HAZ GrabaExcesos_6;  |FINSI;
         |SI #datfic0@#13 = 2014;  aCas = "1109";  |HAZ GrabaExcesos_6;  |FINSI;
     |FINSI;

     |SI #datfic0@#11 = "0426  ";  |Y #datfic0@#13 ] 2013;
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |LEE 101#rem01033@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01033@;
             #rem01033@#0 = #refere1@#0;
             #rem01033@#1 = #refere1@#1;
             #rem01033@#2 = #refere1@#2;
             |GRABA 020#rem01033@.b;
         |FINSI;

         #rem01033@#76 = (N\ #rem01033@#76 + ((#datfic0@#14 % nCoefi) + enRedon));

         |GRABA 020#rem01033@.a;
         |LIBERA #rem01033@;

         enSwAcum   = 0;
         eaCasilla  = "28-0426";
         enImporte  = #rem01033@#76;
         |HAZ GrabaLineal;

         |SI #datfic0@#13 = 2013;  aCas = "1107";  |HAZ GrabaExcesos_6;  |FINSI;
         |SI #datfic0@#13 = 2014;  aCas = "1109";  |HAZ GrabaExcesos_6;  |FINSI;
     |FINSI;

     |SI #datfic0@#11 = "0427  ";
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |LEE 101#rem01033@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01033@;
             #rem01033@#0 = #refere1@#0;
             #rem01033@#1 = #refere1@#1;
             #rem01033@#2 = #refere1@#2;
             |GRABA 020#rem01033@.b;
         |FINSI;

         #rem01033@#77 = (N\ #rem01033@#77 + ((#datfic0@#14 % nCoefi) + enRedon));

         |GRABA 020#rem01033@.a;
         |LIBERA #rem01033@;

         enSwAcum   = 0;
         eaCasilla  = "28-0427";
         enImporte  = #rem01033@#77;
         |HAZ GrabaLineal;

         aCas = "1112";
         |HAZ GrabaExcesos_6;
     |FINSI;

     |SI #datfic0@#11 = "0428  ";
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |LEE 101#rem01033@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01033@;
             #rem01033@#0 = #refere1@#0;
             #rem01033@#1 = #refere1@#1;
             #rem01033@#2 = #refere1@#2;
             |GRABA 020#rem01033@.b;
         |FINSI;

         #rem01033@#78 = (N\ #rem01033@#78 + ((#datfic0@#14 % nCoefi) + enRedon));

         |GRABA 020#rem01033@.a;
         |LIBERA #rem01033@;

         enSwAcum   = 0;
         eaCasilla  = "28-0428";
         enImporte  = #rem01033@#78;
         |HAZ GrabaLineal;

         aCas = "1115";
         |HAZ GrabaExcesos_6;
     |FINSI;

     |SI #datfic0@#11 = "0474  ";  |Y #datfic0@#13 ] 2013;
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |LEE 101#rem01033@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01033@;
             #rem01033@#0 = #refere1@#0;
             #rem01033@#1 = #refere1@#1;
             #rem01033@#2 = #refere1@#2;
             |GRABA 020#rem01033@.b;
         |FINSI;

         #rem01033@#103 = (N\ #rem01033@#103 + ((#datfic0@#14 % nCoefi) + enRedon));

         |GRABA 020#rem01033@.a;
         |LIBERA #rem01033@;

         enSwAcum   = 0;
         eaCasilla  = "35-0474";
         enImporte  = #rem01033@#103;
         |HAZ GrabaLineal;

         |SI #datfic0@#13 = 2013;  aCas = "1213";  |HAZ GrabaExcesos_6;  |FINSI;
         |SI #datfic0@#13 = 2014;  aCas = "1215";  |HAZ GrabaExcesos_6;  |FINSI;
         |SI #datfic0@#13 = 2015;  aCas = "1218";  |HAZ GrabaExcesos_6;  |FINSI;
         |SI #datfic0@#13 = 2016;  aCas = "1221";  |HAZ GrabaExcesos_6;  |FINSI;
     |FINSI;

     |SI #datfic0@#11 = "0495  ";
         enSwAcum   = 1;
         eaCasilla  = "38-0495";
         enImporte  = #datfic0@#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#11 = "0496  ";
         enSwAcum   = 1;
         eaCasilla  = "38-0496";
         enImporte  = #datfic0@#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#11 = "0529  ";
         enSwAcum   = 1;
         eaCasilla  = "39-0529";
         enImporte  = (#datfic0@#14 % nCoefi) % 50;
         |HAZ GrabaLineal;

         eaCasilla  = "40-0530";
         enImporte  = (#datfic0@#14 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#11 = "0525  ";
         enSwAcum  = 1;
         eaCasilla = "39-0525";
         enImporte  = (#datfic0@#14 % nCoefi) % 50;
         |HAZ GrabaLineal;

         eaCasilla  = "40-0526";
         enImporte = (#datfic0@#14 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#11 = "0527  ";
         enSwAcum   = 1;
         eaCasilla = "39-0527";
         enImporte  = (#datfic0@#14 % nCoefi) % 65;
         |HAZ GrabaLineal;

         eaCasilla  = "40-0528";
         enImporte  = (#datfic0@#14 % nCoefi) - enImporte;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#11 = "0553_1";
         enSwAcum   = 1;
         eaCasilla  = "41-0553";
         enImporte  = #datfic0@#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#11 = "0553_2";
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |LEE 101#rem01033@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01033@;
             #rem01033@#0 = #refere1@#0;
             #rem01033@#1 = #refere1@#1;
             #rem01033@#2 = #refere1@#2;
             |GRABA 020#rem01033@.b;
         |FINSI;

         |SI #datfic0@#15 = 1;
             #rem01033@#128 = (N\ #rem01033@#128 + ((#datfic0@#14 % nCoefi) + enRedon));
         |FINSI;

         |SI #datfic0@#15 = 2;
             #rem01033@#129 = (N\ #rem01033@#129 + ((#datfic0@#14 % nCoefi) + enRedon));
         |FINSI;

         |SI #datfic0@#15 = 3;
             #rem01033@#130 = (N\ #rem01033@#130 + ((#datfic0@#14 % nCoefi) + enRedon));
         |FINSI;

         |SI #datfic0@#15 = 4;
             #rem01033@#131 = (N\ #rem01033@#131 + ((#datfic0@#14 % nCoefi) + enRedon));
         |FINSI;

         |SI #datfic0@#15 = 5;
             #rem01033@#132 = (N\ #rem01033@#132 + ((#datfic0@#14 % nCoefi) + enRedon));
         |FINSI;

         |GRABA 020#rem01033@.a;
         |LIBERA #rem01033@;
     |FINSI;

     |SI #datfic0@#11 = "0554  ";
         enSwAcum   = 1;
         eaCasilla  = "41-0554";
         enImporte  = #datfic0@#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#11 = "0564  ";
         enSwAcum   = 1;
         eaCasilla  = "42-0564";
         enImporte  = #datfic0@#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#11 = "0567  ";
         enSwAcum   = 1;
         eaCasilla  = "42-0567";
         enImporte  = #datfic0@#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#11 = "0568  ";
         enSwAcum   = 1;
         eaCasilla  = "42-0568";
         enImporte  = #datfic0@#14 % nCoefi;
         |HAZ GrabaLineal;
     |FINSI;

     |SI #datfic0@#11 = "9999  ";
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |LEE 101#rem01033@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01033@;
             #rem01033@#0 = #refere1@#0;
             #rem01033@#1 = #refere1@#1;
             #rem01033@#2 = #refere1@#2;
             |GRABA 020#rem01033@.b;
         |FINSI;

         #rem01033@#133 = (N\ #rem01033@#133 + ((#datfic0@#14 % nCoefi) + enRedon));

         |GRABA 020#rem01033@.a;
         |LIBERA #rem01033@;
     |FINSI;
|FPRC;

|PROCESO LiquidaM6;
     || datfic0 = "rem00044";

     nCasilla = #datfic0@#13;

     |SI nCasilla = 1827;  nCasilla = 0827;  |FINSI;
     |SI nCasilla = 1831;  nCasilla = 0831;  |FINSI;
     |SI nCasilla = 1854;  nCasilla = 0854;  |FINSI;
     |SI nCasilla = 1860;  nCasilla = 0860;  |FINSI;
     |SI nCasilla = 1871;  nCasilla = 0871;  |FINSI;
     |SI nCasilla = 1885;  nCasilla = 0885;  |FINSI;
     |SI nCasilla = 1892;  nCasilla = 0892;  |FINSI;
     |SI nCasilla = 1925;  nCasilla = 0925;  |FINSI;
     |SI nCasilla = 1927;  nCasilla = 0927;  |FINSI;
     |SI nCasilla = 1929;  nCasilla = 0929;  |FINSI;
     |SI nCasilla = 1936;  nCasilla = 0936;  |FINSI;
     |SI nCasilla = 1938;  nCasilla = 0938;  |FINSI;
     |SI nCasilla = 1943;  nCasilla = 0943;  |FINSI;
     |SI nCasilla = 1963;  nCasilla = 0963;  |FINSI;
     |SI nCasilla = 1970;  nCasilla = 0970;  |FINSI;
     |SI nCasilla = 1985;  nCasilla = 0985;  |FINSI;
     |SI nCasilla = 2985;  nCasilla = 0985;  |FINSI;
     |SI nCasilla = 1988;  nCasilla = 0988;  |FINSI;
     |SI nCasilla = 2003;  nCasilla = 1003;  |FINSI;
     |SI nCasilla = 2010;  nCasilla = 1010;  |FINSI;

     nEspecial = 0;

     #rem01043@#0 = #refere1@#0;
     #rem01043@#1 = #refere1@#1;
     #rem01043@#2 = #refere1@#2;
     #rem01043@#3 = #datfic0@#11;
     #rem01043@#4 = nCasilla;
     |LEE 101#rem01043@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01043@;
         #rem01043@#0 = #refere1@#0;
         #rem01043@#1 = #refere1@#1;
         #rem01043@#2 = #refere1@#2;
         #rem01043@#3 = #datfic0@#11;
         #rem01043@#4 = nCasilla;
         |GRABA 020#rem01043@.b;
     |FINSI;

     #rem01043@#5 = #datfic0@#23;

     |SI #rem01043@#4 = 0776;
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#18 % nCoefi) + enRedon));

         #rem01043@#13 = #datfic0@#20;
         |SI #datfic0@#20 = 0;  #rem01043@#13 = 2;  |FINSI;
     |FINSI;

     |SI #rem01043@#4 = 0834;  #rem01043@#7 = #datfic0@#21;  #rem01043@#8 = #datfic0@#34;  |FINSI;
     |SI #rem01043@#4 = 0867;  #rem01043@#7 = #datfic0@#21;  #rem01043@#8 = #datfic0@#34;  |FINSI;
     |SI #rem01043@#4 = 0907;  #rem01043@#7 = #datfic0@#21;  #rem01043@#8 = #datfic0@#34;  |FINSI;
     |SI #rem01043@#4 = 0911;  #rem01043@#7 = #datfic0@#21;  #rem01043@#8 = #datfic0@#34;  |FINSI;
     |SI #rem01043@#4 = 0980;  #rem01043@#7 = #datfic0@#21;  #rem01043@#8 = #datfic0@#34;  |FINSI;
     |SI #rem01043@#4 = 0999;  #rem01043@#7 = #datfic0@#21;  #rem01043@#8 = #datfic0@#34;  |FINSI;
     |SI #rem01043@#4 = 1010;  #rem01043@#7 = #datfic0@#21;  #rem01043@#8 = #datfic0@#34;  |FINSI;
     |SI #rem01043@#4 = 1012;  #rem01043@#7 = #datfic0@#21;  #rem01043@#8 = #datfic0@#34;  |FINSI;

     |SI #rem01043@#4 = 0784;  #rem01043@#7 = #datfic0@#24;  |FINSI;
     |SI #rem01043@#4 = 0786;  #rem01043@#7 = #datfic0@#24;  |FINSI;

     |SI #rem01043@#4 = 0895;  #rem01043@#7  = #datfic0@#33;  |FINSI;

     |SI #rem01043@#4 = 0949;
         #rem01043@#7 = #datfic0@#36;
     |FINSI;

     |SI #rem01043@#4 = 0976;
      |O #rem01043@#4 = 0979;
      |O #rem01043@#4 = 0980;
         |SI #datfic0@#29 ! 0;  #rem01043@#8 = #datfic0@#29;  |FINSI;
     |FINSI;

     |SI #rem01043@#4 = 0790;  #rem01043@#12 = #datfic0@#17;  |FINSI;
     |SI #rem01043@#4 = 0801;  #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#18 % nCoefi) + enRedon));  |FINSI;
     |SI #rem01043@#4 = 0868;  #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#18 % nCoefi) + enRedon));  |FINSI;
     |SI #rem01043@#4 = 0902;  #rem01043@#12 = #datfic0@#17;  |FINSI;
     |SI #rem01043@#4 = 0909;  #rem01043@#12 = #datfic0@#17;  |FINSI;
     |SI #rem01043@#4 = 1015;  #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#18 % nCoefi) + enRedon));  |FINSI;

     |SI #datfic0@#13 = 1827;  || 0827
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1831;  || 0831
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1854;  || 0854
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1860;  || 0860
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1871;  || 0871
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 0970;
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1970;  || 0970
         #rem01043@#13 = (N\ #rem01043@#13 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1885;  || 0885
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1892;  || 0892
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1925;  || 0925
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1927;  || 0927
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1929;  || 0929
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1936;  || 0936
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1938;  || 0938
         #rem01043@#12 = (N\ #rem01043@#12 + #datfic0@#17);
         #rem01043@#6  = (N\ #datfic0@#19);
         #rem01043@#14 = (N\ #datfic0@#19);
         #rem01043@#13 = 0;

         || Forzar las cantidades
         #rem01043@#15 = (N\ #rem01043@#15 + #datfic0@#22);
         #rem01043@#16 = (N\ #rem01043@#16 + #datfic0@#19);

         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 0938;
         #rem01043@#12 = (N\ #rem01043@#12 + #datfic0@#17);
         #rem01043@#6  = (N\ #datfic0@#19);
         #rem01043@#13 = (N\ #datfic0@#19);
         #rem01043@#14 = 0;

         || Forzar las cantidades
         #rem01043@#15 = (N\ #rem01043@#15 + #datfic0@#22);
         #rem01043@#16 = (N\ #rem01043@#16 + #datfic0@#19);
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1943;  || 0943
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1963;  || 0963
         #rem01043@#12 = (N\ #rem01043@#12 + (((#datfic0@#18 % 2) % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 0963;
         #rem01043@#6  = (N\ #rem01043@#6  + (((#datfic0@#18 % 2) % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1985;  || 0985
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 2985;  || 0985
         #rem01043@#13 = (N\ #rem01043@#13 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1988;  || 0988
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#19 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 2003;  || 1003
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#18 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1003;  |O #datfic0@#13 = 1004;
      |O #datfic0@#13 = 1005;  |O #datfic0@#13 = 1013;
         #rem01043@#6 = (N\ #rem01043@#6 + ((#datfic0@#18 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 1010;
         #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#18 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI #datfic0@#13 = 2010;  || 1010
         #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#18 % nCoefi) + enRedon));
         nEspecial = 1;
     |FINSI;

     |SI nEspecial = 0;
         #rem01043@#6 = (N\ #rem01043@#6 + ((#datfic0@#19 % nCoefi) + enRedon));
     |FINSI;

     |SI #rem01043@#4 = 1006;
         |SI #rem01043@#6 = 0;  |Y #datfic0@#23 = "S";
             #rem01043@#6 = 1;
         |FINSI;
     |FINSI;

                               nOk = 0;
     |SI #datfic0@#13 = 0777;  nOk = 1;  |FINSI;   || B6_1
     |SI #datfic0@#13 = 0800;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0811;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0831;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 1831;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0848;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0863;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0885;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 1885;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0892;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0920;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0936;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 1936;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0943;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 1943;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0956;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0997;  nOk = 1;  |FINSI;

     |SI nOk = 1;
         aAlfa1 = #rem01043@#7 % 120;  |QBF aAlfa1;
         aAlfa2 = #rem01043@#8 % 120;  |QBF aAlfa2;
         aAlfa3 = #datfic0@#21;        |QBF aAlfa3;
         |SI aAlfa1 = "";  |O aAlfa1 = aAlfa3;
             aAlfa         = #datfic0@#21 + #datfic0@#34;
             #rem01043@#7  = aAlfa;
             #rem01043@#13 = (N\ #rem01043@#13 + ((#datfic0@#18 % nCoefi) + enRedon));
             #rem01043@#14 = (N\ #rem01043@#14 + ((#datfic0@#32 % nCoefi) + enRedon));
         |SINO;
             |SI aAlfa2 = "";  |O aAlfa2 = aAlfa3;
                 aAlfa         = #datfic0@#21 + #datfic0@#34;
                 #rem01043@#8  = aAlfa;
                 #rem01043@#15 = (N\ #rem01043@#15 + ((#datfic0@#18 % nCoefi) + enRedon));
                 #rem01043@#16 = (N\ #rem01043@#16 + ((#datfic0@#32 % nCoefi) + enRedon));
             |SINO;
                 #rem01043@#15 = (N\ #rem01043@#15 + ((#datfic0@#18 % nCoefi) + enRedon));
                 #rem01043@#16 = (N\ #rem01043@#16 + ((#datfic0@#32 % nCoefi) + enRedon));
             |FINSI;
         |FINSI;

         |SI #rem01043@#4 = 0848;
             #rem01043@#9  = #datfic0@#31;
             #rem01043@#10 = #datfic0@#35;
         |FINSI;
     |FINSI;

                               nOk = 0;
     |SI #datfic0@#13 = 0778;  nOk = 1;  |FINSI;  || B6_2
     |SI #datfic0@#13 = 0797;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0827;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 1827;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0896;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0933;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0945;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0959;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0968;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0796;  nOk = 1;  |FINSI;  || B6_3
     |SI #datfic0@#13 = 0947;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0961;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0969;  nOk = 1;  |FINSI;
     |SI #datfic0@#13 = 0946;  nOk = 1;  |FINSI;  || B6_4

     |SI nOk = 1;
         aAlfa1 = #rem01043@#7 % 120;  |QBF aAlfa1;
         aAlfa2 = #rem01043@#8 % 120;  |QBF aAlfa2;
         aAlfa3 = #datfic0@#21;        |QBF aAlfa3;
         |SI aAlfa1 = "";  |O aAlfa1 = aAlfa3;
             aAlfa         = #datfic0@#21 + #datfic0@#34;
             #rem01043@#7  = aAlfa;
             #rem01043@#13 = (N\ #rem01043@#13 + ((#datfic0@#18 % nCoefi) + enRedon));
         |SINO;
             |SI aAlfa2 = "";  |O aAlfa2 = aAlfa3;
                 aAlfa         = #datfic0@#21 + #datfic0@#34;
                 #rem01043@#8  = aAlfa;
                 #rem01043@#15 = (N\ #rem01043@#15 + ((#datfic0@#18 % nCoefi) + enRedon));
             |SINO;
                 #rem01043@#15 = (N\ #rem01043@#15 + ((#datfic0@#18 % nCoefi) + enRedon));
             |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem01043@#2 = "CONJUNTA  ";  |O #rem01043@#2 = "CONJUNTAE ";
         |SI #datfic0@#13 = 0774;  #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#13 = 0779;  #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#13 = 0790;  #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#13 = 0792;  #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#13 = 0813;  #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#13 = 0842;  #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#13 = 0874;  #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#13 = 0903;  #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#13 = 0917;  #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;

         |SI #datfic0@#13 = 0952;  #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#13 = 0953;  #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#13 = 0972;  #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#13 = 0985;  #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;

         |SI #datfic0@#13 = 1871;  #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#13 = 1925;  #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#13 = 1985;  #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;
         |SI #datfic0@#13 = 2985;  #rem01043@#13 = (N\ #rem01043@#13 + ((#datfic0@#22 % nCoefi) + enRedon));  |FINSI;

         |SI #datfic0@#13 = 0776;
             #rem01043@#6  = (N\ #rem01043@#6 + ((#datfic0@#22 % nCoefi) + enRedon));
             |SI #datfic0@#22 ! 0;
                 #rem01043@#12 = (N\ #rem01043@#12 + ((#datfic0@#18 % nCoefi) + enRedon));
             |FINSI;
         |FINSI;
     |FINSI;

     |GRABA 020#rem01043@.a;
     |LIBERA #rem01043@;
|FPRC;

|PROCESO LiquidaM7;
     || datfic0 = "rem00063";

     #rem01041@#0 = #refere1@#0;
     #rem01041@#1 = #refere1@#1;
     #rem01041@#2 = #refere1@#2;
     |LEE 101#rem01041@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01041@;
         #rem01041@#0 = #refere1@#0;
         #rem01041@#1 = #refere1@#1;
         #rem01041@#2 = #refere1@#2;
         |GRABA 020#rem01041@.b;
     |FINSI;

     #rem01041@#26 = (N\ #rem01041@#26 + ((#datfic0@#13  % nCoefi) + enRedon));

     aAlfa1 = #datfic0@#11 % 109;

     |SI #rem01041@#22 = "         ";  |O #rem01041@#22 = aAlfa1;
         #rem01041@#22 = #datfic0@#11;
         #rem01041@#23 = (N\ #rem01041@#23 + ((#datfic0@#13  % nCoefi) + enRedon));
     |SINO;
         |SI #rem01041@#24 = "         ";  |O #rem01041@#24 = aAlfa1;
             #rem01041@#24 = #datfic0@#11;
         |FINSI;
         #rem01041@#25 = (N\ #rem01041@#25 + ((#datfic0@#13  % nCoefi) + enRedon));
     |FINSI;

     |GRABA 020#rem01041@.a;
     |LIBERA #rem01041@;
|FPRC;

|PROCESO LiquidaM8;
     || datfic0 = "rem00062";

     #rem01042@#0 = #refere1@#0;
     #rem01042@#1 = #refere1@#1;
     #rem01042@#2 = #refere1@#2;
     |LEE 101#rem01042@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01042@;
         #rem01042@#0 = #refere1@#0;
         #rem01042@#1 = #refere1@#1;
         #rem01042@#2 = #refere1@#2;
         |GRABA 020#rem01042@.b;
     |FINSI;

     |SI #datfic0@#12 = 2016;
         #rem01042@#192 = (N\ #rem01042@#192 + ((#datfic0@#11  % nCoefi) + enRedon));
         #rem01042@#193 = (N\ #rem01042@#193 + ((#datfic0@#13  % nCoefi) + enRedon));
         #rem01042@#194 = (N\ #rem01042@#194 + ((#datfic0@#15  % nCoefi) + enRedon));
     |FINSI;

     |SI #datfic0@#12 = 2017;
         #rem01042@#195 = (N\ #rem01042@#195 + ((#datfic0@#11  % nCoefi) + enRedon));
         #rem01042@#196 = (N\ #rem01042@#196 + ((#datfic0@#13  % nCoefi) + enRedon));
         #rem01042@#197 = (N\ #rem01042@#197 + ((#datfic0@#15  % nCoefi) + enRedon));
     |FINSI;

     #rem01042@#198 = (N\ #rem01042@#194 + #rem01042@#197);

     |GRABA 020#rem01042@.a;
     |LIBERA #rem01042@;
|FPRC;

|PROCESO M9_1;
     enSwAcum   = 1;

     eaCasilla  = "43-0571";
     enImporte  = #datfic0@#13 % nCoefi;
     |HAZ GrabaLineal;

     eaCasilla  = "43-0572";
     enImporte  = #datfic0@#14 % nCoefi;
     |HAZ GrabaLineal;
|FPRC;

|PROCESO M9_2;
     || datfic0 = "rem00065";

     |SI #refere1@#2 = "CONJUNTA  ";
         |SI #datfic0@#22 = "S";  |Y  #datfic0@#24 = 0;
          |Y #datfic0@#25 = 0;
             |ACABA;
         |FINSI;
     |FINSI;

     nLinea = 0;
     |SELECT #2#rem01048@;
     #rem01048@#0 = #refere1@#0;
     #rem01048@#1 = #refere1@#1;
     #rem01048@#2 = #refere1@#2;
     #rem01048@#4  = #datfic0@#15;
     |LEE 000#rem01048@.=;
     |SI FSalida = 0;
         nLinea = #rem01048@#3;
     |FINSI;

     |SELECT #1#rem01048@;
     |SI nLinea = 0;
         #rem01048@#0 = #refere1@#0;
         #rem01048@#1 = #refere1@#1;
         #rem01048@#2 = #refere1@#2;
         #rem01048@#3 = 999;
         |LEE 040#rem01048@.];
         |SI FSalida = 0;
             |LEE 040#rem01048@.a;
         |SINO;
             |LEE 040#rem01048@.u;
         |FINSI;

         |SI FSalida = 0; |Y #rem01048@#0 = #refere1@#0; |Y #rem01048@#1 = #refere1@#1; |Y #rem01048@#2 = #refere1@#2;
             nLinea = #rem01048@#3 + 1;
         |SINO;
             nLinea = 1;
         |FINSI;
     |FINSI;

     #rem01048@#0  = #refere1@#0;
     #rem01048@#1  = #refere1@#1;
     #rem01048@#2  = #refere1@#2;
     #rem01048@#3  = nLinea;
     |LEE 101#rem01048@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01048@;
         #rem01048@#0  = #refere1@#0;
         #rem01048@#1  = #refere1@#1;
         #rem01048@#2  = #refere1@#2;
         #rem01048@#3  = nLinea;

         |GRABA 020#rem01048@.b;
     |FINSI;

     #rem01048@#4  = #datfic0@#15;
     #rem01048@#5  = #datfic0@#16;
     #rem01048@#6  = #datfic0@#17;
     #rem01048@#7  = #datfic0@#18;
     #rem01048@#8  = (A\ (("00" + #datfic0@#19) % -102));
     #rem01048@#9  = #datfic0@#20;
     #rem01048@#10 = #datfic0@#21;
     #rem01048@#11 = #datfic0@#22;
     #rem01048@#12 = #datfic0@#23;
     #rem01048@#13 = (N\ #rem01048@#13 + ((#datfic0@#24 % nCoefi) + enRedon));
     #rem01048@#14 = (N\ #rem01048@#14 + ((#datfic0@#25 % nCoefi) + enRedon));

     |GRABA 020#rem01048@.a;
     |LIBERA #rem01048@;

     enSwAcum   = 1;
     eaCasilla  = "43-0582";
     enImporte  = #datfic0@#24 % nCoefi;
     |HAZ GrabaLineal;

     eaCasilla  = "43-0583";
     enImporte  = #datfic0@#25 % nCoefi;
     |HAZ GrabaLineal;
|FPRC;

|PROCESO M9_3;
     || datfic0 = "rem00065";

     nLinea = 0;
     |SELECT #2#rem01049@;
     #rem01049@#0 = #refere1@#0;
     #rem01049@#1 = #refere1@#1;
     #rem01049@#2 = #refere1@#2;
     #rem01049@#4 = #datfic0@#26;
     |LEE 000#rem01049@.=;
     |SI FSalida = 0;
         nLinea = #rem01049@#3;
     |FINSI;

     |SELECT #1#rem01049@;
     |SI nLinea = 0;
         #rem01049@#0 = #refere1@#0;
         #rem01049@#1 = #refere1@#1;
         #rem01049@#2 = #refere1@#2;
         #rem01049@#3 = 999;
         |LEE 040#rem01049@.];
         |SI FSalida = 0;
             |LEE 040#rem01049@.a;
         |SINO;
             |LEE 040#rem01049@.u;
         |FINSI;

         |SI FSalida = 0; |Y #rem01049@#0 = #refere1@#0; |Y #rem01049@#1 = #refere1@#1; |Y #rem01049@#2 = #refere1@#2;
             nLinea = #rem01049@#3 + 1;
         |SINO;
             nLinea = 1;
         |FINSI;
     |FINSI;

     #rem01049@#0  = #refere1@#0;
     #rem01049@#1  = #refere1@#1;
     #rem01049@#2  = #refere1@#2;
     #rem01049@#3  = nLinea;
     |LEE 101#rem01049@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01049@;
         #rem01049@#0  = #refere1@#0;
         #rem01049@#1  = #refere1@#1;
         #rem01049@#2  = #refere1@#2;
         #rem01049@#3  = nLinea;

         |GRABA 020#rem01049@.b;
     |FINSI;

     #rem01049@#4  = #datfic0@#26;
     #rem01049@#5  = #datfic0@#27;
     #rem01049@#6  = #datfic0@#28;
     #rem01049@#7  = #datfic0@#29;
     #rem01049@#8  = (A\ (("00" + #datfic0@#30) % -102));
     #rem01049@#9  = #datfic0@#31;
     #rem01049@#10 = #datfic0@#32;
     #rem01049@#11 = #datfic0@#33;
     #rem01049@#12 = #datfic0@#34;
     #rem01049@#13 = #datfic0@#35;
     #rem01049@#14 = #datfic0@#36;
     #rem01049@#15 = (N\ #rem01049@#15 + ((#datfic0@#37 % nCoefi) + enRedon));
     #rem01049@#16 = (N\ #rem01049@#16 + ((#datfic0@#38 % nCoefi) + enRedon));

     |GRABA 020#rem01049@.a;
     |LIBERA #rem01049@;

     enSwAcum   = 1;
     eaCasilla  = "43-0595";
     enImporte  = #datfic0@#37 % nCoefi;
     |HAZ GrabaLineal;

     eaCasilla  = "43-0596";
     enImporte  = #datfic0@#38 % nCoefi;
     |HAZ GrabaLineal;
|FPRC;

|PROCESO M9_4;
     || datfic0 = "rem00065";

     #rem01050@#0 = #refere1@#0;
     #rem01050@#1 = #refere1@#1;
     #rem01050@#2 = #refere1@#2;
     #rem01050@#3 = 999;
     |LEE 040#rem01050@.];
     |SI FSalida = 0;
         |LEE 040#rem01050@.a;
     |SINO;
         |LEE 040#rem01050@.u;
     |FINSI;

     |SI FSalida = 0; |Y #rem01050@#0 = #refere1@#0; |Y #rem01050@#1 = #refere1@#1; |Y #rem01050@#2 = #refere1@#2;
         nLinea = #rem01050@#3 + 1;
     |SINO;
         nLinea = 1;
     |FINSI;

     |DDEFECTO #rem01050@;
     #rem01050@#0  = #refere1@#0;
     #rem01050@#1  = #refere1@#1;
     #rem01050@#2  = #refere1@#2;
     #rem01050@#3  = nLinea;
     #rem01050@#4  = #datfic0@#39;
     #rem01050@#5  = "N";
     #rem01050@#6  = "N";

     |SI #datfic0@#40 = "1";  #rem01050@#5  = "S";  |FINSI;
     |SI #datfic0@#40 = "2";  #rem01050@#6  = "S";  |FINSI;

     #rem01050@#7  = #datfic0@#41;
     #rem01050@#8  = #datfic0@#42;
     #rem01050@#9  = (A\ (("00" + #datfic0@#43) % -102));
     #rem01050@#10 = #datfic0@#44;
     #rem01050@#11 = #datfic0@#45;
     #rem01050@#12 = #datfic0@#46;
     #rem01050@#13 = #datfic0@#47;
     #rem01050@#14 = #datfic0@#48;
     #rem01050@#15 = #datfic0@#49;
     #rem01050@#16 = (N\ (#datfic0@#50 % nCoefi) + enRedon);
     #rem01050@#17 = (N\ (#datfic0@#51 % nCoefi) + enRedon);

     |GRABA 020#rem01050@.n;
     |LIBERA #rem01050@;

     enSwAcum   = 1;
     eaCasilla  = "43-0609";
     enImporte  = #rem01050@#16;
     |HAZ GrabaLineal;

     eaCasilla  = "43-0610";
     enImporte  = #rem01050@#17;
     |HAZ GrabaLineal;
|FPRC;

|PROCESO M9_5;
     enSwAcum   = 1;

     eaCasilla  = "43-0611";
     enImporte  = #datfic0@#52 % nCoefi;
     |HAZ GrabaLineal;

     eaCasilla  = "43-0612";
     enImporte  = #datfic0@#53 % nCoefi;
     |HAZ GrabaLineal;
|FPRC;

|PROCESO M9_6;
     || datfic0 = "rem00065";

     #rem01051@#0 = #refere1@#0;
     #rem01051@#1 = #refere1@#1;
     #rem01051@#2 = #refere1@#2;
     #rem01051@#3 = 999;
     |LEE 040#rem01051@.];
     |SI FSalida = 0;
         |LEE 040#rem01051@.a;
     |SINO;
         |LEE 040#rem01051@.u;
     |FINSI;

     |SI FSalida = 0; |Y #rem01051@#0 = #refere1@#0; |Y #rem01051@#1 = #refere1@#1; |Y #rem01051@#2 = #refere1@#2;
         nLinea = #rem01051@#3 + 1;
     |SINO;
         nLinea = 1;
     |FINSI;

     |DDEFECTO #rem01051@;
     #rem01051@#0  = #refere1@#0;
     #rem01051@#1  = #refere1@#1;
     #rem01051@#2  = #refere1@#2;
     #rem01051@#3  = nLinea;
     #rem01051@#4  = (N\ (#datfic0@#54 % nCoefi) + enRedon);
     #rem01051@#5  = #datfic0@#55;
     #rem01051@#6  = (N\ (#datfic0@#56 % nCoefi) + enRedon);
     #rem01051@#7  = #datfic0@#57;

     |GRABA 020#rem01051@.n;
     |LIBERA #rem01051@;

     enSwAcum   = 1;
     eaCasilla  = "43-0613";
     enImporte  = #rem01051@#4;
     |HAZ GrabaLineal;

     eaCasilla  = "43-0615";
     enImporte  = #rem01051@#6;
     |HAZ GrabaLineal;
|FPRC;

|PROCESO LiquidaM9;
     || datfic0 = "rem00065";

     |SI #datfic0@#11 = "1";  |HAZ M9_1;  |FINSI;
     |SI #datfic0@#11 = "2";  |HAZ M9_2;  |FINSI;
     |SI #datfic0@#11 = "3";  |HAZ M9_3;  |FINSI;
     |SI #datfic0@#11 = "4";  |HAZ M9_4;  |FINSI;
     |SI #datfic0@#11 = "5";  |HAZ M9_5;  |FINSI;
     |SI #datfic0@#11 = "6";  |HAZ M9_6;  |FINSI;
|FPRC;

|PROCESO Liquida6;
     |HAZ CreaLiquida;               || En el rezcalut

     aContri = eaContri;
     |SI eaContri = "CONJUNTA  ";
         aContri = #datfic0@#2;
         |SI aContri = "VARIOS    ";  aContri = "COMUNES";  |FINSI;
         |SI aContri = "GANANCIAL ";  aContri = "COMUNES";  |FINSI;
     |SINO;
         |SI eaContri = "1 FAMILIAR";  aContri = "TITULAR";  |FINSI;
         |SI eaContri = "2 FAMILIAR";  aContri = "TITULAR";  |FINSI;
         |SI eaContri = "3 FAMILIAR";  aContri = "TITULAR";  |FINSI;
         |SI eaContri = "4 FAMILIAR";  aContri = "TITULAR";  |FINSI;
     |FINSI;

     |SI nSwFich = 1;  |HAZ LiquidaM1;  |FINSI;
     |SI nSwFich = 2;  |HAZ LiquidaM2;  |FINSI;
     |SI nSwFich = 3;  |HAZ LiquidaM3;  |FINSI;
     |SI nSwFich = 4;  |HAZ LiquidaM4;  |FINSI;
     |SI nSwFich = 5;  |HAZ LiquidaM5;  |FINSI;
     |SI nSwFich = 6;  |HAZ LiquidaM6;  |FINSI;
     |SI nSwFich = 7;  |HAZ LiquidaM7;  |FINSI;
     |SI nSwFich = 8;  |HAZ LiquidaM8;  |FINSI;
     |SI nSwFich = 9;  |HAZ LiquidaM9;  |FINSI;
|FPRC;

|PROCESO Seleccion6;
     |SI #datfic0@#2 = "GANANACIAL";  ||Error en el pase de datos
         #datfic0@#2 = "GANANCIAL";
     |FINSI;

    |SI #datfic0@#2 = "GANANCIAL ";                || Si es Ganancial
         nCoefi = 50;  eaContri = "TITULAR   ";   |HAZ Liquida6;
         nCoefi = 50;  eaContri = "CONYUGE   ";   |HAZ Liquida6;
         nCoefi = 100; eaContri = "CONJUNTA  ";   |HAZ Liquida6;

         |SI eaMuerto ! "";
             nCoefi = 50;  eaContri = "CONJUNTAE ";   |HAZ Liquida6;
         |FINSI;

         |ACABA;
     |FINSI;

     |SI #datfic0@#2 ! "VARIOS    ";                || SI es TITULAR O CONYUGE;
         nCoefi = 100;  eaContri = #datfic0@#2;          |HAZ Liquida6;
         nCoefi = 100;  eaContri = "CONJUNTA  ";         |HAZ Liquida6;

         |SI eaMuerto = "T";  |Y #datfic0@#2 ! "TITULAR   ";
             nCoefi = 100;  eaContri = "CONJUNTAE ";   |HAZ Liquida6;
         |FINSI;

         |SI eaMuerto = "C";  |Y #datfic0@#2 ! "CONYUGE   ";
             nCoefi = 100;  eaContri = "CONJUNTAE ";   |HAZ Liquida6;
         |FINSI;
         |ACABA;
     |FINSI;
                                             || SI es Varios

     |SI #datfic0@#5  ! 0; nCoefi = #datfic0@#5;   eaContri = "TITULAR   ";  |HAZ Liquida6;  |FINSI;
     |SI #datfic0@#6  ! 0; nCoefi = #datfic0@#6;   eaContri = "CONYUGE   ";  |HAZ Liquida6;  |FINSI;
     |SI #datfic0@#7  ! 0; nCoefi = #datfic0@#7;   eaContri = "1 FAMILIAR";  |HAZ Liquida6;  |FINSI;
     |SI #datfic0@#8  ! 0; nCoefi = #datfic0@#8;   eaContri = "2 FAMILIAR";  |HAZ Liquida6;  |FINSI;
     |SI #datfic0@#9  ! 0; nCoefi = #datfic0@#9;   eaContri = "3 FAMILIAR";  |HAZ Liquida6;  |FINSI;
     |SI #datfic0@#10 ! 0; nCoefi = #datfic0@#10;  eaContri = "4 FAMILIAR";  |HAZ Liquida6;  |FINSI;

     nCoefi   = #datfic0@#5 + #datfic0@#6 + #datfic0@#7 + #datfic0@#8 + #datfic0@#9 + #datfic0@#10;
     eaContri = "CONJUNTA  "; |HAZ Liquida6;

     |SI eaMuerto = "T";
         nCoefi  = #datfic0@#6 + #datfic0@#7 + #datfic0@#8 + #datfic0@#9 + #datfic0@#10;
         eaContri = "CONJUNTAE "; |HAZ Liquida6;
     |FINSI;

     |SI eaMuerto = "C";
         nCoefi  = #datfic0@#5 + #datfic0@#7 + #datfic0@#8 + #datfic0@#9 + #datfic0@#10;
         eaContri = "CONJUNTAE "; |HAZ Liquida6;
     |FINSI;
|FPRC;

|PROCESO PuntoM1;
     nSwFich = 1;
     aDef    = eaPathDef + "rem00046.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01041.mas";
     |CARGA_DEF aDef, rem01041@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01041@#"zdat1041"#;  |FINSI;

     |ABRE #datfic0@;
     |ABRE #rem01041@;
     |DDEFECTO #datfic0@;
     #datfic0@#0 = enEmpresa;
     #datfic0@#1 = 1;
     |LEE 040#datfic0@.];
     |PARA; |SI FSalida = 0;  |Y #datfic0@#0 = enEmpresa;  |HACIENDO;
            |SI #datfic0@#3 = "R";  |O #datfic0@#3 = "A";   |HAZ Seleccion6;  |FINSI;
            |SI #datfic0@#3 = "X";
                eaPrograma = "rem00046";
                enLinea    = #datfic0@#1;
                eaObserva  = "(N) INVERSIONES Y DONATIVOS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#datfic0@.s;
     |SIGUE;
     |CIERRA #datfic0@;
     |CIERRA #rem01041@;

     |DESCARGA_DEF #rem01041@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM2;
     nSwFich = 2;
     aDef    = eaPathDef + "rem00045.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01042.mas";
     |CARGA_DEF aDef, rem01042@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01042@#"zdat1042"#;  |FINSI;

     |ABRE #datfic0@;
     |ABRE #rem01042@;
     |DDEFECTO #datfic0@;
     #datfic0@#0 = enEmpresa;
     #datfic0@#1 = 1;
     |LEE 040#datfic0@.];
     |PARA; |SI FSalida = 0;  |Y #datfic0@#0 = enEmpresa;  |HACIENDO;
            |SI #datfic0@#3 = "R";  |O #datfic0@#3 = "A";   |HAZ Seleccion6;  |FINSI;
            |SI #datfic0@#3 = "X";
                eaPrograma = "rem00045";
                enLinea    = #datfic0@#1;
                eaObserva  = "(N) DEDUCCIONES POR INVERSIONES EMPRESARIALES";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#datfic0@.s;
     |SIGUE;
     |CIERRA #datfic0@;
     |CIERRA #rem01042@;

     |DESCARGA_DEF #rem01042@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM3;
     nSwFich = 3;
     aDef    = eaPathDef + "rem00047.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, rem01033@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01033@#"zdat1033"#;  |FINSI;

     |ABRE #datfic0@;
     |ABRE #rem01033@;
     |DDEFECTO #datfic0@;
     #datfic0@#0 = enEmpresa;
     #datfic0@#1 = 1;
     |LEE 040#datfic0@.];
     |PARA; |SI FSalida = 0;  |Y #datfic0@#0 = enEmpresa;  |HACIENDO;
            |SI #datfic0@#3 = "R";  |O #datfic0@#3 = "A";   |HAZ Seleccion6;  |FINSI;
            |SI #datfic0@#3 = "X";
                eaPrograma = "rem00047";
                enLinea    = #datfic0@#1;
                eaObserva  = "(N) DEDUCCIONES INDEBIDAS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#datfic0@.s;
     |SIGUE;
     |CIERRA #datfic0@;
     |CIERRA #rem01033@;

     |DESCARGA_DEF #rem01033@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM4;
     nSwFich = 4;
     aDef    = eaPathDef + "rem00048.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01041.mas";
     |CARGA_DEF aDef, rem01041@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01041@#"zdat1041"#;  |FINSI;

     |ABRE #datfic0@;
     |ABRE #rem01041@;
     |DDEFECTO #datfic0@;
     #datfic0@#0 = enEmpresa;
     #datfic0@#1 = 1;
     |LEE 040#datfic0@.];
     |PARA; |SI FSalida = 0;  |Y #datfic0@#0 = enEmpresa;  |HACIENDO;
            |SI #datfic0@#3 = "R";  |O #datfic0@#3 = "A";   |HAZ Seleccion6;  |FINSI;
            |SI #datfic0@#3 = "X";
                eaPrograma = "rem00048";
                enLinea    = #datfic0@#1;
                eaObserva  = "(N) DEDUCCIONES ALQUILER VIVIENDA HABITUAL";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#datfic0@.s;
     |SIGUE;
     |CIERRA #datfic0@;
     |CIERRA #rem01041@;

     |DESCARGA_DEF #rem01041@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM5;
     nSwFich = 5;
     aDef    = eaPathDef + "rem00056.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, rem01033@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01033@#"zdat1033"#;  |FINSI;

     aDef    = eaPathDef + "rem01056.mas";
     |CARGA_DEF aDef, rem01056@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01056@#"zdat1056"#;  |FINSI;

     |ABRE #datfic0@;
     |ABRE #rem01033@;
     |ABRE #rem01056@;
     |DDEFECTO #datfic0@;
     #datfic0@#0 = enEmpresa;
     #datfic0@#1 = 1;
     |LEE 040#datfic0@.];
     |PARA; |SI FSalida = 0;  |Y #datfic0@#0 = enEmpresa;  |HACIENDO;
            |SI #datfic0@#3 = "R";  |O #datfic0@#3 = "A";   |HAZ Seleccion6;  |FINSI;
            |SI #datfic0@#3 = "X";
                eaPrograma = "rem00056";
                enLinea    = #datfic0@#1;
                eaObserva  = "(N) OTRAS DEDUCCIONES Y COMPENSACIONES";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#datfic0@.s;
     |SIGUE;
     |CIERRA #datfic0@;
     |CIERRA #rem01033@;
     |CIERRA #rem01056@;

     |DESCARGA_DEF #rem01056@;
     |DESCARGA_DEF #rem01033@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM6;
     nSwFich = 6;
     aDef    = eaPathDef + "rem00044.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01043.mas";
     |CARGA_DEF aDef, rem01043@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01043@#"zdat1043"#;  |FINSI;

     |ABRE #datfic0@;
     |ABRE #rem01043@;
     |DDEFECTO #datfic0@;
     #datfic0@#0 = enEmpresa;
     #datfic0@#1 = 1;
     |LEE 040#datfic0@.];
     |PARA; |SI FSalida = 0;  |Y #datfic0@#0 = enEmpresa;  |HACIENDO;
            |SI #datfic0@#3 = "R";  |O #datfic0@#3 = "A";   |HAZ Seleccion6;  |FINSI;
            |SI #datfic0@#3 = "X";
                eaPrograma = "rem00044";
                enLinea    = #datfic0@#1;
                eaObserva  = "(N) DEDUCCIONES AUTONOMICAS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#datfic0@.s;
     |SIGUE;
     |CIERRA #datfic0@;
     |CIERRA #rem01043@;

     |DESCARGA_DEF #rem01043@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM7;
     nSwFich = 7;
     aDef    = eaPathDef + "rem00063.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01041.mas";
     |CARGA_DEF aDef, rem01041@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01041@#"zdat1041"#;  |FINSI;

     |ABRE #datfic0@;
     |ABRE #rem01041@;
     |DDEFECTO #datfic0@;
     #datfic0@#0 = enEmpresa;
     #datfic0@#1 = 1;
     |LEE 040#datfic0@.];
     |PARA; |SI FSalida = 0;  |Y #datfic0@#0 = enEmpresa;  |HACIENDO;
            |SI #datfic0@#3 = "R";  |O #datfic0@#3 = "A";   |HAZ Seleccion6;  |FINSI;
            |SI #datfic0@#3 = "X";
                eaPrograma = "rem00063";
                enLinea    = #datfic0@#1;
                eaObserva  = "(N) DEDUCCIONES AUTONOMICAS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#datfic0@.s;
     |SIGUE;
     |CIERRA #datfic0@;
     |CIERRA #rem01041@;

     |DESCARGA_DEF #rem01041@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM8;
     nSwFich = 8;
     aDef    = eaPathDef + "rem00062.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01042.mas";
     |CARGA_DEF aDef, rem01042@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01042@#"zdat1042"#;  |FINSI;

     |ABRE #datfic0@;
     |ABRE #rem01042@;
     |DDEFECTO #datfic0@;
     #datfic0@#0 = enEmpresa;
     #datfic0@#1 = 1;
     |LEE 040#datfic0@.];
     |PARA; |SI FSalida = 0;  |Y #datfic0@#0 = enEmpresa;  |HACIENDO;
            |SI #datfic0@#3 = "R";  |O #datfic0@#3 = "A";   |HAZ Seleccion6;  |FINSI;
            |SI #datfic0@#3 = "X";
                eaPrograma = "rem00062";
                enLinea    = #datfic0@#1;
                eaObserva  = "(N) ELEMENTOS NUEVOS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#datfic0@.s;
     |SIGUE;
     |CIERRA #datfic0@;
     |CIERRA #rem01042@;

     |DESCARGA_DEF #rem01042@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoM9;
     nSwFich = 9;
     aDef    = eaPathDef + "rem00065.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01048.mas";
     |CARGA_DEF aDef, rem01048@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01048@#"zdat1048"#;  |FINSI;

     aDef    = eaPathDef + "rem01049.mas";
     |CARGA_DEF aDef, rem01049@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01049@#"zdat1049"#;  |FINSI;

     aDef    = eaPathDef + "rem01050.mas";
     |CARGA_DEF aDef, rem01050@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01050@#"zdat1050"#;  |FINSI;

     aDef    = eaPathDef + "rem01051.mas";
     |CARGA_DEF aDef, rem01051@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01051@#"zdat1051"#;  |FINSI;

     |ABRE #datfic0@;
     |ABRE #rem01048@;
     |ABRE #rem01049@;
     |ABRE #rem01050@;
     |ABRE #rem01051@;
     |DDEFECTO #datfic0@;
     #datfic0@#0 = enEmpresa;
     #datfic0@#1 = 1;
     |LEE 040#datfic0@.];
     |PARA; |SI FSalida = 0;  |Y #datfic0@#0 = enEmpresa;  |HACIENDO;
            |SI #datfic0@#3 = "R";  |O #datfic0@#3 = "A";   |HAZ Seleccion6;  |FINSI;
            |SI #datfic0@#3 = "X";
                eaPrograma = "rem00065";
                enLinea    = #datfic0@#1;
                eaObserva  = "(N) DEDUCCIONES FAMILIARES";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#datfic0@.s;
     |SIGUE;
     |CIERRA #datfic0@;
     |CIERRA #rem01048@;
     |CIERRA #rem01049@;
     |CIERRA #rem01050@;
     |CIERRA #rem01051@;

     |DESCARGA_DEF #rem01051@;
     |DESCARGA_DEF #rem01050@;
     |DESCARGA_DEF #rem01049@;
     |DESCARGA_DEF #rem01048@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO Bloque6;
     |ABRE #rem00903;  |SELECT #2#rem00903;

     |HAZ PuntoM1;  || Inversiones y Donativos
     |HAZ PuntoM2;  || Deducciones Generales
     |HAZ PuntoM3;  || Deducciones Indebidas y Interes de Demora
     |HAZ PuntoM4;  || Alquiler vivienda habitual
     |HAZ PuntoM5;  || Otras Deducciones
     |HAZ PuntoM6;  || Deducciones Autonomicas
     |HAZ PuntoM7;  || Inversiones empresas nueva creacion
     |HAZ PuntoM8;  || Elementos nuevos
     |HAZ PuntoM9;  || Deducciones familiares

     |CIERRA #rem00903;
|FPRC;
