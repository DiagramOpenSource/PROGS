|FICHEROS;
   dscaz159 #0;

   dscaw122 #10;
   dscam003 #11;
|FIN;

|VARIABLES;
   aAlfa = "";
|FIN;

|PROCESO Recibos;
   |SI #dscaz159#3 = "N";
      |SI #dscam003#47 = "S"; |O #dscam003#69 ! " "; |ACABA; |FINSI;
   |FINSI;

   |SI #dscam003#26 ! "01.01.0000";
      |SI #dscam003#26 [ #dscaz159#2; |ACABA; |FINSI;
   |SINO;
      |SI #dscam003#23 = 0; |Y #dscam003#30 = 0; |Y #dscam003#31 = 0; |ACABA; |FINSI;
   |FINSI;

   |DDEFECTO #dscaw122;
   #dscaw122#0 = #dscam003#40;
   |GRABA 020#dscaw122.b;

   #dscaw122#1 = #dscam003#0;
   #dscaw122#2 = #dscam003#1;
   #dscaw122#3 = #dscam003#2;
   #dscaw122#4 = #dscam003#32;
   #dscaw122#5 = #dscam003#6;
   #dscaw122#6 = #dscam003#30;
   #dscaw122#7 = #dscam003#23;
   #dscaw122#8 = #dscam003#31;
   #dscaw122#9 = #dscam003#33;
   #dscaw122#10 = #dscam003#34;
   |SI #dscam003#47 = "S"; |O #dscam003#69 ! " ";
      #dscaw122#11 = "S";
   |FINSI;
   |GRABA 020#dscaw122.a; |LIBERA #dscaw122;

|FPRC;

|DEFBUCLE Recibos;
#dscam003#3;
;
#dscaz159#0, 0000000001;
#dscaz159#1, 9999999999;
;
NULL, Recibos;
|FIN;

|PROCESO Imprime;
   |PRINT;
|FPRC;

|DEFBUCLE Imprime;
#dscaw122#1;
;
INICIO;
FINAL;
;
NULL, Imprime;
|FIN;

|PROGRAMA;
   |ABRE #dscaz159;
   |LEE 000#dscaz159.p;
   |SI FSalida ! 0;
      |DDEFECTO #dscaz159;
      |GRABA 000#dscaz159.c;
   |FINSI;

   |CLS;
   |CABEZA "Listado de facturas pendientes a fecha";

   |PINPA #0#0; |PINDA #0#0;
   |ENDATOS #1#0;
   |SI FSalida = 0;
      |GRABA 000#dscaz159.a;

      aAlfa = "rc" + Usuario; |NOME_DAT #dscaw122#aAlfa#;
      |DELINDEX #dscaw122; |ABRE #dscaw122;

      |BUCLE Recibos;

      Impresora = "CrystalReport";
      |IMPRE -1;
      |SI FSalida = 0;
         |INFOR "dscaz159";
         |SI FSalida = 0;
            |BUCLE Imprime;
            |PIEINF; |FININF;
         |FINSI;
         |FINIMP;
      |FINSI;

      |CIERRA #dscaw122; |DELINDEX #dscaw122;
   |FINSI;

   |CIERRA #dscaz159;
|FPRO;
