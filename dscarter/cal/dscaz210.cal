|FICHEROS;
   dscaz210 #0;

   dscaw223 #10;
   dscam003 #11;
   dscam004 #12;
|FIN;

|VARIABLES;
   aAlfa = "";

   nTotLiqu = 0;
|FIN;

|PROCESO CompruebaLins;
   nTotLiqu = nTotLiqu + #dscam004#8 - #dscam004#9;
|FPRC;

|DEFBUCLE CompruebaLins;
#dscam004#1;
6;
#dscam003#40, 01, "01.01.0000";
#dscam003#40, 99, #dscaz210#2;
;
NULL, CompruebaLins;
|FIN;

|PROCESO Recibos;
   nTotLiqu = 0;
   |BUCLE CompruebaLins;

   |DDEFECTO #dscaw223;
   #dscaw223#0 = #dscam003#40;
   |GRABA 020#dscaw223.b;

   #dscaw223#1 = #dscam003#0;
   #dscaw223#2 = #dscam003#1;
   #dscaw223#3 = #dscam003#2;
   #dscaw223#4 = #dscam003#32;
   #dscaw223#5 = #dscam003#6;
   #dscaw223#6 = #dscam003#30;
   #dscaw223#7 = nTotLiqu;
   #dscaw223#8 = #dscam003#30 - nTotLiqu;
||   #dscaw223#7 = #dscam003#23;
||   #dscaw223#8 = #dscam003#31;
   #dscaw223#9 = #dscam003#33;
   #dscaw223#10 = #dscam003#34;
   |SI #dscam003#47 = "S"; |O #dscam003#69 ! " ";
      #dscaw223#11 = "S";
   |FINSI;
   |GRABA 020#dscaw223.a; |LIBERA #dscaw223;
|FPRC;

|DEFBUCLE Recibos;
#dscam003#3;
;
#dscaz210#0, 0000000001;
#dscaz210#1, 9999999999;
;
NULL, Recibos;
|FIN;

|PROCESO Imprime;
   |PRINT;
|FPRC;

|DEFBUCLE Imprime;
#dscaw223#1;
;
INICIO;
FINAL;
;
NULL, Imprime;
|FIN;

|PROGRAMA;
   |CLS;
   |CABEZA "Listado de facturas pendientes a fecha";

   |PINPA #0#0; |PINDA #0#0;
   |ENDATOS #1#0;
   |SI FSalida = 0;
      aAlfa = "rc" + Usuario; |NOME_DAT #dscaw223#aAlfa#;
      |DELINDEX #dscaw223; |ABRE #dscaw223;

      |BUCLE Recibos;

      Impresora = "CrystalReport";
      |IMPRE -1;
      |SI FSalida = 0;
         |INFOR "dscaz210";
         |SI FSalida = 0;
            |BUCLE Imprime;
            |PIEINF; |FININF;
         |FINSI;
         |FINIMP;
      |FINSI;

      |CIERRA #dscaw223; |DELINDEX #dscaw223;
   |FINSI;
|FPRO;
