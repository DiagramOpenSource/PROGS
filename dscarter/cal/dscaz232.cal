|FICHEROS;
     dscaz232 #232;
     dscam073 #73;
     referen@;
|FIN;

|VARIABLES;
     aAlfa = "";
     aEmp = "";
     aFic = "";
     aPath = "";
     i = 0;
|FIN;

||Cambia de version el dscam073 por cambiar un campo alfa a un
||tama¤o mas peque¤o, deja el dscaz232 como temporal para
||que solo lo haga una vez.


|PROGRAMA;
     aEmp = ("00000" + #48#0) % -105;
     |DFICE aAlfa;
     aFic = aAlfa + aEmp + "/dscaz232.dat";
     |XABRE "E", aFic, 0;
     |SI FSalida = 0; |ACABA; |FINSI;

     aPath = aAlfa + aEmp + "/";

     |DDEF aAlfa;
     aAlfa = aAlfa + "dscaz232";
     |CARGA_DEF aAlfa, referen@;
     |SI FSalida ! 0; |ACABA; |FINSI;

     |PATH_DAT #referen@#aPath#;
     |ABRE #referen@;

     |NOME_DAT #232 "dscam073";
     |PATH_DAT #232 aPath;
     |ABRE #232;
     |LEE 000#232p;
     |PARA; |SI FSalida = 0; |HACIENDO;
          |SALVA_DATOS #232;
          |REPON_DATOS #referen@;
          |GRABA 020#referen@.n;
          |LEE 000#232s;
     |SIGUE;
     |CIERRA #232;

     |PATH_DAT #73 aPath;
     |DELINDEX #73;
     |ABRE #73;
     |LEE 000#referen@.p;
     |PARA; |SI FSalida = 0; |HACIENDO;
          |PARA i = 0; |SI i [ 28; |HACIENDO i = i + 1;
               #73i = #referen@#i#;
          |SIGUE;
          |GRABA 020#73n;
          |LEE 000#referen@.s;
     |SIGUE;

     |CIERRA #73;

     |CIERRA #referen@;
     |DESCARGA_DEF #referen@;
|FPRO;
