|FICHEROS;
   dscam168 #0;

   dscam167 #10;
|FIN;

|VARIABLES;
   aAlfa = "";
   aBase = "";
   aAbre = "";

   nHandle = 0;
|FIN;

|PROCESO MiraUsuario;
   |SI FSalida = 10;
      #dscam167#0 = #dscam168#0;
      |LEE 000#dscam167.];
      |CONSULTA_CLAVE #1#dscam167;
      |SI FSalida = 0;
         #dscam168#0 = #dscam167#0; |PINTA #dscam168#0;
         |ERROR;
      |FINSI;
   |FINSI;
|FPRC;

|PROCESO RecogeUsuarios;
   |DBASS aBase; |QBF aBase;
   aAbre = aBase + "dev/usr/ds_sys.psw"
   |XABRE "U", aAbre, nHandle;
   |SI FSalida ] 0;
      |PARA; |SI; |HACIENDO;
         |XLEE nHandle, 37, aAlfa;
         |SI FSalida < 0;  |SAL;  |FINSI;
         #dscam167#0 = aAlfa % 410;
         |LEE 000#dscam167.=;
         |SI FSalida ! 0;
            |DDEFECTO #dscam167;
            #dscam167#0 = aAlfa % 410;
            |GRABA 020#dscam167.n;
         |FINSI;
      |SIGUE;
   |FINSI;
   |XCIERRA nHandle;
|FPRC;

|PROGRAMA;
   |DELINDEX #dscam167; |ABRE #dscam167;
   |HAZ RecogeUsuarios;

   |MANTE #0;

   |CIERRA #dscam167; |DELINDEX #dscam167;
|FPRO;
