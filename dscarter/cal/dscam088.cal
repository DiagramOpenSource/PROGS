|FICHEROS;
   dscam088 #0;
|FIN;

|VARIABLES;
   nModo = 0;

   nCodigo = 0;
|FIN;

|PROCESO BuscaCodigo; |TIPO 7;
   nModo = (FEntrada / 100) ! 0;

   |SI nModo = 1;
      |SALVA_FICHA #dscam088;
      |LEE 000#dscam088.u;
      |SI FSalida ! 0; |DDEFECTO #dscam088; |FINSI;
      nCodigo = #dscam088#0 + 1;
      |SELECT #1#dscam088;
      |REPON_FICHA #dscam088;
      #dscam088#0 = nCodigo;
   |FINSI;
|FPRC;
