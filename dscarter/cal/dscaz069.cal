|FICHEROS;
   dscam003 #0;
|FIN;

|VARIABLES;
   aAlfa    = "";
   aSerie   = "";
   nFactura = 0;

   nDoc     = 0;
|FIN;

|PROCESO SacaDiv;
   nDoc = #dscam003#83;
   |SALVA_FICHA #dscam003;
   #dscam003#40 = nDoc;
   |LEE 000#dscam003.=;
   |SI FSalida = 0;
      |SI #dscam003#82 = "S";
         |HAZ SacaDiv;
      |SINO;
         aSerie = #dscam003#0; nFactura = #dscam003#1;
      |FINSI;
   |FINSI;
   |REPON_FICHA #dscam003;
|FPRC;

|PROCESO ReparaDiv;
   aSerie = ""; nFactura = 0; |HAZ SacaDiv;
   #dscam003#87 = aSerie; #dscam003#88 = nFactura;
   |GRABA 020#dscam003.a; |LIBERA #dscam003;
|FPRC;

|DEFBUCLE ReparaDiv;
#dscam003#1;
82;
000000001,"S";
999999999,"S";
be;
NULL,ReparaDiv;
|FIN;

|PROGRAMA;
   aAlfa = PARAMETRO;
   |SI PARAMETRO ! ""; |PATH_DAT #0 aAlfa; |FINSI;

   |ABRE #dscam003;
   |BUCLE ReparaDiv;
   |CIERRA #dscam003;
|FPRO;
