|FICHEROS;
   dscam104 #0;

   dscam051 #10;

   agif112@ #100;
   caclipr@ #101;
|FIN;

|VARIABLES;
   aAlfa = "";

   nSalir = 0;
   nClave = 1;
|FIN;

|RUTINA Infm104;
   #dscam104#0 = "      ";
   #dscam104#1 = "            ";
|FRUT;

|RUTINA Supm104;
   #dscam104#0 = "zzzzzz";
   #dscam104#1 = "zzzzzzzzzzzz";
|FRUT;

|PROCESO ActProvGest;
   #dscam104#0 = #agif112@#0;
   #dscam104#1 = "";
   |LEE 000#dscam104.];
   |SI FSalida ! 0; |O #dscam104#0 ! #agif112@#0;
      |DDEFECTO #dscam104;
      #dscam104#0 = #agif112@#0;
      #dscam104#1 = #agif112@#10;
      #dscam104#2 = #agif112@#2;
      #dscam104#3 = "N";
      #dscam104#4 = "01.01.0000";
      |GRABA 020#dscam104.n;
   |FINSI;
|FPRC;

|DEFBUCLE ActProvGest;
#agif112@#1001;
;
"      ";
"zzzzzz";
;
NULL, ActProvGest;
|FIN;

|PROCESO ActProvCont;
   |SELECT #2#dscam104;
   #dscam104#0 = "";
   #dscam104#1 = #caclipr@#10;
   |LEE 000#dscam104.];
   |SI FSalida ! 0; |O #dscam104#1 ! #caclipr@#10;
      |DDEFECTO #dscam104;
      #dscam104#0 = "";
      #dscam104#1 = #caclipr@#10;
      #dscam104#2 = #caclipr@#1;
      #dscam104#3 = "N";
      #dscam104#4 = "01.01.0000";
      |GRABA 020#dscam104.n;
   |FINSI;
   |SELECT #1#dscam104;
|FPRC;

|DEFBUCLE ActProvContagen;
#caclipr@#1002;
;
"P", "            ";
"P", "zzzzzzzzzzzz";
;
NULL, ActProvCont;
|FIN;

|DEFBUCLE ActProvAgicont;
#caclipr@#1003;
;
"P", "            ", 0;
"P", "zzzzzzzzzzzz", 9;
;
NULL, ActProvCont;
|FIN;

|PROCESO Actualiza;
   aAlfa = #48#17; |QBF aAlfa;
   aAlfa = aAlfa + "def/agifa112.mas";
   |CARGA_DEF aAlfa, agif112@;
   |SI FSalida = 0;
      aAlfa = #48#17; |QBF aAlfa;
      aAlfa = aAlfa + "fich/" + (("00000" + #48#15) % -105) + "/";
      |PATH_DAT #agif112@#aAlfa#;
      |BUCLE ActProvGest;
      |DESCARGA_DEF #agif112@;
   |FINSI;

   aAlfa = #48#16; |QBF aAlfa;
   aAlfa = aAlfa + "def/caclipro.mas";
   |CARGA_DEF aAlfa, caclipr@;
   |SI FSalida = 0;
      aAlfa = #48#16; |QBF aAlfa;
      aAlfa = aAlfa + "fich/" + (("00000" + #48#14) % -105) + #48#19 + "/";
      |PATH_DAT #caclipr@#aAlfa#; aAlfa = aAlfa < aAlfa;
      aAlfa = aAlfa - "contagen";
      |SI FSalida ! 0;
         |BUCLE ActProvContagen;
      |SINO;
         |BUCLE ActProvAgicont;
      |FINSI;
      |DESCARGA_DEF #caclipr@;
   |FINSI;
|FPRC;

|PROCESO Tipo11; |TIPO 11;
   |SI FSalida = 10;
      |SI nClave = 1;
         nClave = 2;
      |SINO;
         nClave = 1;
      |FINSI;
      nSalir = 0; |PTEC 807;
   |FINSI;
|FPRC;

|PROGRAMA;
   |CLS;
   |CABEZA " Bloqueo de proveedores";

   |ABRE #dscam051;
   |LEE 000#dscam051.p
   |SI FSalida ! 0;
      |DDEFECTO #dscam051;
      |GRABA 020#dscam051.c;
   |FINSI;
   |CIERRA #dscam051;

   |SI #dscam051#96 = "N";
      |MENAV "    Opcion de bloqueo de proveedores desactivada";
      |ACABA;
   |FINSI;

   |ABRE #dscam104;
   aAlfa = "    N" + &191 + " Actualizar datos con los proveedores de gestión comercial y contabilidad ?";
   |CONFI aAlfa;
   |SI FSalida = 0;
      |HAZ Actualiza;
   |FINSI;

   |PINPA #0#0; |PINDA #0#0;
   |PARA; |SI nSalir ! 1; |HACIENDO;
      |SI nClave = 1; nSalir = 1; |ENTLINEAL #3#dscam104, -1, 1, 22, 1, Infm104, Supm104; |FINSI;
      |SI nClave = 2; nSalir = 1; |ENTLINEAL #4#dscam104, -1, 1, 22, 1, Infm104, Supm104; |FINSI;
   |SIGUE;
   |CIERRA #dscam104;
|FPRO;
