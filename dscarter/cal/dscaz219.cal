|FICHEROS;
     dscaz219 #0;
     dscam003 #3;
     dscam052 #52;  || clientes sincro
     dscam023 #23;
     dscam076 #76;
     dscam077 #77;
     dscam078 #78;
     dscam000 #100;
     agifa041@;
     agifa024@;
|FIN;

|VARIABLES;
     aPath = "";
     aAlfa = "";
     aEmp = "";
     i = 0;
     nSw = 1;
|FIN;

|PROCESO dscam078;
     #3#0 = #78#14;
     |LEE 000#3=;
     |SI FSalida ! 0; |DDEFECTO #3; |FINSI;

     |PRINT;
|FPRC;

|DEFBUCLE dscam078;
     #78#1;
     ;
     #77#0, #77#1, #77#2, #77#3, 001;
     #77#0, #77#1, #77#2, #77#3, 999;
     ;
     NULL, dscam078;
|FIN;

|PROCESO dscam077;
     #23#0 = #77#3;
     |LEE 000#23=;
     |SI FSalida ! 0; |DDEFECTO #23; |FINSI;

     |SI nSw = 0;
          #agifa024@#0 = #77#3;
          |LEE 000#agifa024@.=;
          |SI FSalida ! 0; |DDEFECTO #agifa024@; |FINSI;
          aAlfa = "|NC";
          aAlfa = #52#aAlfa#;
          |PARA i = 0; |SI i < aAlfa; |HACIENDO i = i + 1;
               #52i = #agifa024@#i#;
          |SIGUE;
     |SINO;
          #52#0 = #77#3;
          |LEE 000#52=;
          |SI FSalida ! 0; |DDEFECTO #52; |FINSI;
     |FINSI;

     |BUCLE dscam078;
|FPRC;

|DEFBUCLE dscam076;
     #76#1;
     ;
     #0#0, #0#1, #0#2;
     #0#0, #0#1, #0#2;
     ;
     NULL, NULL, dscam077;
|FIN;

|PROCESO T3; |TIPO 3;
     |DFICE aEmp; aEmp = aEmp % -205;
     |DBASE aAlfa;
     aAlfa = aAlfa + "fich/";
     |PATH_DAT #100 aAlfa;
     |ABRE #100;
     #100#0 = aEmp;
     |LEE 020#100=;
     |CIERRA #100;
     aPath = #100#17; |QBF aPath;
     aEmp = ("00000" + #100#15) % -105;

     aAlfa = aPath + "def/agifa041";
     |CARGA_DEF aAlfa, agifa041@;
     |SI FSalida = 0;
          aAlfa = aPath + "fich/";
          |PATH_DAT #agifa041@#aAlfa#;
          |ABRE #agifa041@;
          #agifa041@#0 = aEmp;
          |LEE 000#agifa041@.=;
          nSw = FSalida;
          |CIERRA #agifa041@;
          |DESCARGA_DEF #agifa041@;
     |FINSI;

     |SI nSw = 0;
          aAlfa = aPath + "def/agifa024";
          |CARGA_DEF aAlfa, agifa024@;
          aAlfa = aPath + "fich/" + aEmp + "/";
          |PATH_DAT #agifa024@#aAlfa#;
          |ABRE #agifa024@;
     |SINO;
          |ABRE #52;
     |FINSI;

     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "dscaz219";
          |SI FSalida = 0;
               |ABRE #3;
               |ABRE #23;
               |BUCLE dscam076;
               |CIERRA #23;
               |CIERRA #3;
               |PIEINF;
               |FININF;
          |SINO;
               |MENAV "0000Error en informe 'dscaz219'..";
          |FINSI;
          |FINIMP;
     |FINSI;

     |SI nSw = 0;
          |CIERRA #agifa024@;
          |DESCARGA_DEF #agifa024@;
     |SINO;
          |CIERRA #52;
     |FINSI;
|FPRC;

|PROGRAMA;
     |ABRE #0;
     |LEE 101#0p;
     |SI FSalida ! 0; |GRABA 020#0b; |FINSI;
     |PINPA #0#0;
     |PINDA #0#0;
     |ENDATOS #1#0;
     |SI FSalida = 0; |GRABA 020#0a; |FINSI;
     |CIERRA #0;
|FPRO;
