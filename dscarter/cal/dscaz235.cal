 Calculo realizado para Jamaica

|FICHEROS;
     dscaz235 #0;
     dscam003 #3;
     dscam004 #4;
     agifa010@ #10;
     agis0002@ #20;
     agifa024@ #24;
     agifa025@ #25;
     agifa324@ #324;
     dsm00003@ #30;
     agifa134@ #134;
     agifa133@ #133;
     dscamrec;
     dscam081;
     dscam082;
     dscam014;
|FIN;

|VARIABLES;
     nConta = 0;
     nHay = 0;
     aAlfa = "";
     aEmp = "";
     aPath = "";
     nEsta = 0;
|FIN;

|PROCESO CreaRecibo;
     nEsta = 0;
     |SI #4#5 = "RAC"; |O #4#5 = "REC";
          #agis0002@#30 = "A";
          #agis0002@#20 = #4#0;
          #agis0002@#17 = #4#1;
          #agis0002@#18 = #4#2;
          |LEE 000#agis0002@.=;
          |SI FSalida ! 0;
               nEsta = 1;
          |FINSI;
     |SINO;
          #agifa134@#49 = #4#0;
          #agifa134@#0 = #4#1;
          |LEE 000#agifa134@.=;
          |SI FSalida = 0;
               #agifa133@#4 = #4#0;
               #agifa133@#0 = #4#1;
               #agifa133@#1 = #4#2;
               |LEE 000#agifa133@.=;
               |SI FSalida ! 0;
                    nEsta = 1;
               |FINSI;
          |SINO;
               nEsta = 1;
          |FINSI;
     |FINSI;

     |SI nEsta = 1;
          |PRINT;
          nHay = 1;
          |SI #0#3 = "S";
               |BORRA 020#4a;
          |FINSI;
     |FINSI;
|FPRC;

|PROCESO dscam004;
     #3#40 = #4#17;
     |LEE 000#3=;
     |SI FSalida ! 0;
          |HAZ CreaRecibo;
     |FINSI;
|FPRC;

|DEFBUCLE dscam004;
     #4#7;
     ;
     #0#0, 000000001;
     #0#1, 999999999;
     be;
     NULL, dscam004;
|FIN;

|PROCESO T3; |TIPO 3;

     |IMPRE 0;
     |SI FSalida = 0;
          |INFOR "dscaz235";
          |SI FSalida = 0;

               |DBASS aPath;
               aAlfa = aPath + "dscomer9/def/agifa010"; |CARGA_DEF aAlfa, agifa010@;
               aAlfa = aPath + "dscomer9/def/agis0002"; |CARGA_DEF aAlfa, agis0002@;
               aAlfa = aPath + "dscomer9/def/agifa024"; |CARGA_DEF aAlfa, agifa024@;
               aAlfa = aPath + "dscomer9/def/agifa025"; |CARGA_DEF aAlfa, agifa025@;
               aAlfa = aPath + "dscomer9/def/agifa324"; |CARGA_DEF aAlfa, agifa324@;
               aAlfa = aPath + "dscomer9/def/dsm00003"; |CARGA_DEF aAlfa, dsm00003@;
               aAlfa = aPath + "dscomer9/def/agifa134"; |CARGA_DEF aAlfa, agifa134@;
               aAlfa = aPath + "dscomer9/def/agifa133"; |CARGA_DEF aAlfa, agifa133@;

               aEmp = ("00000" + #0#2) % -105;
               aAlfa = aPath + "dscomer9/fich/" + aEmp + "/";;
               |PATH_DAT #agifa010@#aAlfa#;
               |PATH_DAT #agis0002@#aAlfa#;
               |PATH_DAT #agifa024@#aAlfa#;
               |PATH_DAT #agifa025@#aAlfa#;
               |PATH_DAT #agifa324@#aAlfa#;
               |PATH_DAT #dsm00003@#aAlfa#;
               |PATH_DAT #agifa134@#aAlfa#;
               |PATH_DAT #agifa133@#aAlfa#;

               |ABRE #agifa010@;
               |ABRE #agis0002@;
               |ABRE #agifa024@;
               |ABRE #agifa025@;
               |ABRE #agifa324@;
               |ABRE #dsm00003@;
               |ABRE #agifa134@;
               |ABRE #agifa133@;


               |ABRE #3;
               |ABRE #dscam081;
               |ABRE #dscam082;
               |ABRE #dscam014;

               |BUCLE dscam004;

               |CIERRA #dscam014;
               |CIERRA #dscam082;
               |CIERRA #dscam081;
               |CIERRA #3;

               |CIERRA #agifa133@;
               |CIERRA #agifa134@;
               |CIERRA #dsm00003@;
               |CIERRA #agifa324@;
               |CIERRA #agifa025@;
               |CIERRA #agifa024@;
               |CIERRA #agis0002@;
               |CIERRA #agifa010@;

               |DESCARGA_DEF #agifa133@;
               |DESCARGA_DEF #agifa134@;
               |DESCARGA_DEF #dsm00003@;
               |DESCARGA_DEF #agifa324@;
               |DESCARGA_DEF #agifa025@;
               |DESCARGA_DEF #agifa024@;
               |DESCARGA_DEF #agis0002@;
               |DESCARGA_DEF #agifa010@;


               |SI nHay ! 0; |PIEINF; |FINSI;
               |FININF;
          |FINSI;
          |FINIMP;
     |FINSI;

     aAlfa = "0000Sin Vto:" + nConta;
     ||MENAV aAlfa;
|FPRC;
