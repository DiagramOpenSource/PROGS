|FICHEROS;
   dscam199 #0;
   dscam014 #10;
|FIN;

|VARIABLES;
   &TipoProveedor = "";
   &HayGestion    = 0;
   &HayConta      = 0;
   aAlfa          = "";

   &DCampoG      = 0; &HCampoG      = 0;
   &DCampoC      = 0; &HCampoC      = 0;
   &CodProveedor = "";
   &CtaProveedor = "";
   &Nombre       = "";
   &BcoCuenta    = "";
   &BcoAsoc      = "";
|FIN;

|PROCESO AntesProv; |TIPO 7;
   |SI HayGestion = 1;
      |C_M #dscam199#1, 1, "S"; |C_M #dscam199#2, 1, "N";
   |SINO;
      |C_M #dscam199#1, 1, "N"; |C_M #dscam199#2, 1, "S";
   |FINSI;
|FPRC;

|PROCESO MiraCodProv;
   |SI HayGestion = 0; |Y Campo = 1; |ACABA; |FINSI;
   |SI HayGestion = 1; |Y Campo = 2; |ACABA; |FINSI;
   |SI HayGestion = 1;
      TipoProveedor = "G";
      DCampoG = 1; HCampoG = 1; CodProveedor = #dscam199#1;
      |HAZ ExisteProveedor;
      |SI TipoProveedor = "ERROR";
         |ERROR;
         CtaProveedor = ""; Nombre = "";
      |FINSI;
      #dscam199#1  = CodProveedor;     |PINTA #dscam199#1;
      #dscam199#2  = CtaProveedor;     |PINTA #dscam199#2;
   |SINO;
      TipoProveedor = "C";
      DCampoC = 2; HCampoC = 2; CodProveedor = #dscam199#2;
      |HAZ ExisteProveedor;
      CtaProveedor = "";
      |SI TipoProveedor = "ERROR";
         |ERROR;
         Nombre = "";
      |FINSI;
      #dscam199#2 = CodProveedor;     |PINTA #dscam199#1;
      #dscam199#1 = "";               |PINTA #dscam199#2;
   |FINSI;

      #dscam199#3  = Nombre;           |PINTA #dscam199#3;
      #dscam199#6  = BcoCuenta % 0104; |PINTA #dscam199#6;
      #dscam199#7  = BcoCuenta % 0704; |PINTA #dscam199#7;
      #dscam199#8  = BcoCuenta % 1302; |PINTA #dscam199#8;
      #dscam199#9  = BcoCuenta % 1510; |PINTA #dscam199#9;
      #dscam199#10 = BcoAsoc;          |PINTA #dscam199#10;

   |ABRE #dscam014;
   #dscam014#0 = BcoAsoc;
   |LEE 000#dscam014.=;
   |SI FSalida ! 0; |DDEFECTO #dscam014; |FINSI;
   |CIERRA #dscam014;

   #dscam199#11 = #dscam014#1; |PINTA #dscam199#11;
|FPRC;
