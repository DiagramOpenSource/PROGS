|FICHEROS;
     rew99999 #999;

     rem00008 #8;

     rem01018@ #18;
     rem01026@ #26;
     rem01033@ #33;
     rem01040@ #40;
     rem01041@ #41;
     rem01043@ #43;

     rem01043 #143;

    &refere1@ #101;
    &refere2@ #102;
    &refere3@ #103;
|FIN;

|VARIABLES;
     nMinus65  = 0;
     nValorCas = 0;
     nRepas    = 0;
     nPaso     = 0;
     n0943     = 0;
     n0948     = 0;
     n0981     = 0;
     n0982     = 0;
     n0983     = 0;
     n0984     = 0;
     n0997     = 0;
     n0998     = 0;
     n1104     = 0;
     nAcumVal  = 0;
     nImp1     = 0;
     nImp2     = 0;
     nH1021    = 0;
     nR1021    = 0;
     nOk       = 0;
     nTotRen   = 0;
     nCanti    = 0;

     aNif      = "";
     aNif1     = "";
     aNif2     = "";
     aNif3     = "";
     aEs       = "";
     aEs1      = "";
     aEs2      = "";
     aEs3      = "";
     aCat      = "";
     aCat1     = "";
     aCat2     = "";
     aCat3     = "";
     aEC       = "";
     aEC1      = "";
     aEC2      = "";
     aEC3      = "";
|FIN;

|INCLUYE i_varcal;

|PROCESO LeeValorCasilla;
     |SI enNomeDat = 1;  |NOME_DAT #rem01043#"zdat1043"#;  |FINSI;

     |ABRE #rem01043;
     #rem01043#0 = #refere1@#0;
     #rem01043#1 = #refere1@#1;
     #rem01043#2 = #refere1@#2;
     #rem01043#3 = nComunidad;
     #rem01043#4 = nCasilla;
     |LEE 000#rem01043.=;
     |SI FSalida ! 0;  |DDEFECTO #rem01043;  |FINSI;
     |CIERRA #rem01043;

     nValorCas = #rem01043#6;
|FPRC;

|PROCESO LeeRentas;
     |ABRE #rem01033@;

     nTotRen = 0;

     #rem01033@#0 = #refere1@#0;
     #rem01033@#1 = #refere1@#1;
     #rem01033@#2 = "TITULAR";
     |LEE 040#rem01033@.=;
     |SI FSalida ! 0;  |DDEFECTO #rem01033@;  |FINSI;
     nTotRen = #rem01033@#63 + #rem01033@#148;

     #rem01033@#0 = #refere1@#0;
     #rem01033@#1 = #refere1@#1;
     #rem01033@#2 = "CONYUGE";
     |LEE 040#rem01033@.=;
     |SI FSalida ! 0;  |DDEFECTO #rem01033@;  |FINSI;
     nTotRen = nTotRen + #rem01033@#63 + #rem01033@#148;

     #rem01033@#0 = #refere1@#0;
     #rem01033@#1 = #refere1@#1;
     #rem01033@#2 = "1 FAMILIAR";
     |LEE 040#rem01033@.=;
     |SI FSalida ! 0;  |DDEFECTO #rem01033@;  |FINSI;
     nTotRen = nTotRen + #rem01033@#63 + #rem01033@#148;

     #rem01033@#0 = #refere1@#0;
     #rem01033@#1 = #refere1@#1;
     #rem01033@#2 = "2 FAMILIAR";
     |LEE 040#rem01033@.=;
     |SI FSalida ! 0;  |DDEFECTO #rem01033@;  |FINSI;
     nTotRen = nTotRen + #rem01033@#63 + #rem01033@#148;

     #rem01033@#0 = #refere1@#0;
     #rem01033@#1 = #refere1@#1;
     #rem01033@#2 = "3 FAMILIAR";
     |LEE 040#rem01033@.=;
     |SI FSalida ! 0;  |DDEFECTO #rem01033@;  |FINSI;
     nTotRen = nTotRen + #rem01033@#63 + #rem01033@#148;

     #rem01033@#0 = #refere1@#0;
     #rem01033@#1 = #refere1@#1;
     #rem01033@#2 = "4 FAMILIAR";
     |LEE 040#rem01033@.=;
     |SI FSalida ! 0;  |DDEFECTO #rem01033@;  |FINSI;
     nTotRen = nTotRen + #rem01033@#63 + #rem01033@#148;

     #rem01033@#0 = #refere1@#0;
     #rem01033@#1 = #refere1@#1;
     #rem01033@#2 = #refere1@#2;
     |LEE 040#rem01033@.=;
     |SI FSalida ! 0;  |DDEFECTO #rem01033@;  |FINSI;

     |CIERRA #rem01033@;
|FPRC;

|PROCESO TotDedAutonomica;
     nValor    = 0;
     eaCasilla = "40-0546-LIQ19"; |HAZ SacaImporte; nValor = enImporte;
     eaCasilla = "40-0548-LIQ19"; |HAZ SacaImporte; nValor = nValor - enImporte;
     eaCasilla = "40-0551-LIQ19"; |HAZ SacaImporte; nValor = nValor - enImporte;
     eaCasilla = "40-0553-LIQ19"; |HAZ SacaImporte; nValor = nValor - enImporte;
     eaCasilla = "40-0555-LIQ19"; |HAZ SacaImporte; nValor = nValor - enImporte;
     eaCasilla = "40-0557-LIQ19"; |HAZ SacaImporte; nValor = nValor - enImporte;
     eaCasilla = "40-0559-LIQ19"; |HAZ SacaImporte; nValor = nValor - enImporte;
     eaCasilla = "40-0561-LIQ19"; |HAZ SacaImporte; nValor = nValor - enImporte;
     eaCasilla = "40-0563-LIQ19"; |HAZ SacaImporte; nValor = nValor - enImporte;
|FPRC;

|PROCESO Andalucia;
     |SI #rem01043@#5 ! "S";  |ACABA;  |FINSI;

     |SI #rem00008#1 = 0849;  ||-LIQ19
         |SI enConta [ 6;
             |SI #rem01043@#2 = "TITULAR   ";
                 |SI eaMuerto = "T";
                     |SI efFechaMuerto ] "25.07.2019";
                         #rem01043@#6 = 0;
                     |FINSI;
                 |SINO;
                     #rem01043@#6 = 0;
                 |FINSI;
             |FINSI;

             |SI #rem01043@#2 = "CONYUGE   ";
                 |SI eaMuerto = "C";
                     |SI efFechaMuerto ] "25.07.2019";
                         #rem01043@#6 = 0;
                     |FINSI;
                 |SINO;
                     #rem01043@#6 = 0;
                |FINSI;
             |FINSI;
         |SINO;
             |SI eaMuerto ! " ";
                 |SI efFechaMuerto ] "25.07.2019";
                     #rem01043@#6 = 0;
                 |FINSI;
             |SINO;
                 #rem01043@#6 = 0;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0850;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI #rem01043@#2 = "TITULAR   ";  |Y eaMuerto = "T";
                 |SI efFechaMuerto < "25.07.2019";
                     #rem01043@#6 = 0;
                 |FINSI;
             |FINSI;

             |SI #rem01043@#2 = "CONYUGE   ";  |Y eaMuerto = "C";
                 |SI efFechaMuerto < "25.07.2019";
                     #rem01043@#6 = 0;
                 |FINSI;
             |FINSI;

             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI eaMuerto ! " ";
                 |SI efFechaMuerto < "25.07.2019";
                     #rem01043@#6 = 0;
                 |FINSI;
             |FINSI;

             |SI nSuma > #rem00008#18;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0852;  ||-LIQ19
         |SI #rem01043@#13 = 3;
             nSuma = #rem01033@#63 + #rem01033@#148;
             |SI enConta [ 6;
                 |SI nSuma > #rem00008#12;  #rem01043@#13 = 0;  |FINSI;

                 |SI enConta = 1;  |Y enEdadTit [ 1984;
                     #rem01043@#13 = 0;
                 |FINSI;

                 |SI enConta = 2;  |Y enEdadCon [ 1984;
                     #rem01043@#13 = 0;
                 |FINSI;
             |SINO;
                 |SI nSuma > #rem00008#14; #rem01043@#13 = 0;  |FINSI;

                 |SI enEdadTit [ 1984;  |Y enEdadCon [ 1984;
                     #rem01043@#13 = 0;
                 |FINSI;
             |FINSI;
         |FINSI;

         nValor = (#rem00008#16 % #rem01043@#13) ! 2;
         #rem01043@#6   = (N\ #rem01043@#12 % #rem01043@#13);
         |SI #rem01043@#6 > nValor;  #rem01043@#6 = nValor;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0853;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;

             |SI #rew99999#6 < 1981;    #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;

             |SI enEdadTit < 1981;  |Y enEdadCon < 1981;
                 #rem01043@#6 = 0;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0855;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0856;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0857;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#18;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0858;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0860;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0862;  ||-LIQ19
         |SI #rem01043@#6 > 250;
            #rem01043@#6 = 250;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0864;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0863;  ||-LIQ19
         |SI #rem01043@#6 > #rem00008#10;
             #rem01043@#6 = #rem00008#10;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO Aragon;
     |HAZ LeeRentas;

     ||-LIQ19
     |SI #rem00008#1 = 0866;  |O #rem00008#1 = 086;
         |SI #rem00008#1 = 0866;  ||-LIQ19
             |SI enConta [ 6;
                 |SI nTotRen < #rem00008#16;
                     #rem01043@#6 = #rem01043@#12 * #rem00008#14;
                 |FINSI;
             |SINO;
                 |SI nTotRen < #rem00008#18;
                     #rem01043@#6 = #rem01043@#12 * #rem00008#14;
                 |FINSI;
             |FINSI;
         |FINSI;

         |SI #rem00008#1 = 0869;  ||-LIQ19
             |SI enConta [ 6;
                |SI nTotRen > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
             |SINO;
                |SI nTotRen > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0870;  ||-LIQ19
         eaCasilla = "40-0546-LIQ19"; |HAZ SacaImporte;

         nValor   = enImporte % 10;
         |SI nValor < 0;  nValor = 0;  |FINSI;

         |SI #rem01043@#6 > nValor;  #rem01043@#6 = nValor;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0874;  ||-LIQ19
         |SI enConta [ 6;
             |SI nTotRen > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nTotRen > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;

         |SI enConta [ 6;
             |SI #rew99999#6 < 1981;    #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI enEdadTit < 1981;  |Y enEdadCon < 1981;
                 #rem01043@#6 = 0;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0876;  ||-LIQ19
         |ABRE #rem01033@;
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |LEE 040#rem01033@.=;
         |SI FSalida ! 0;  |DDEFECTO #rem01033@;  |FINSI;
         |CIERRA #rem01033@;

         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0877;  ||-LIQ19
         nValor1  = #rem01043@#12;

         eaCasilla = "35-0505-LIQ19"; |HAZ SacaImporte;
         nValor2  = enImporte;

         eaCasilla = "40-0533-LIQ19"; |HAZ SacaImporte;
         nValor3  = enImporte;

         nValor   = ((nValor1 / nValor2) * nValor3) * 0.30;
         |SI nValor < 0; nValor = 0;  |FINSI;

         #rem01043@#6  = nValor;

         nValor   = ((nValor1 / nValor2) * nValor3);
         #rem01043@#12 = nValor3;
     |FINSI;

     |SI #rem00008#1 = 0878;  ||-LIQ19
         nValor = 0;
         eaCasilla = "27-0435-LIQ19";  |HAZ SacaImporte; nValor = enImporte;
         eaCasilla = "28-0460-LIQ19";  |HAZ SacaImporte; nValor = nValor + enImporte;

         |SI enConta [ 6;
             |SI nValor > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nValor > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0881;  ||-LIQ19
         nValor = 0;
         eaCasilla = "27-0435-LIQ19";  |HAZ SacaImporte; nValor = enImporte;
         eaCasilla = "28-0460-LIQ19";  |HAZ SacaImporte; nValor = nValor + enImporte;

         |SI enConta [ 6;
             |SI nValor > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nValor > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;

         eaCasilla = "36-0510-LIQ19";  |HAZ SacaImporte; nValor = enImporte;
         |SI nValor > #rem00008#16;   #rem01043@#6 = 0;  |FINSI;
     |FINSI;
|FPRC;

|PROCESO Asturias;
     |SI #rem01043@#5 ! "S";  |ACABA;  |FINSI;

     |SI #rem00008#1 = 0883;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0884;  ||-LIQ19
         nValor = (#rem00008#12 % 3) ! 2;
         |SI #rem01043@#6 > nValor;  #rem01043@#6 = nValor;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0885;  ||-LIQ19
         nValor = (#rem00008#12 % 3) ! 2;
         |SI #rem01043@#6 > nValor;  #rem01043@#6 = nValor;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0886;  ||-LIQ19
         |SI enConta [ 6;
             |SI #rem01043@#6 > #rem00008#12;  #rem01043@#6 = #rem00008#12;  |FINSI;
         |SINO;
             |SI #rem01043@#6 > #rem00008#14; #rem01043@#6 = #rem00008#14; |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0887;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             nValor = #rem00008#14;
             |SI nSuma > nValor;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0888;  ||-LIQ19
         nSuma = #rem01033@#104 % 10;
         |SI #rem01043@#6 > nSuma;  #rem01043@#6 = nSuma;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0889;  ||-LIQ19
         |SI enConta [ 6;
             |SI #rem01043@#6 > #rem00008#14;  #rem01043@#6 = #rem00008#14;  |FINSI;
         |SINO;
             |SI #rem01043@#6 > #rem00008#16;  #rem01043@#6 = #rem00008#16;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0890;  ||-LIQ19
         |SI enConta [ 6;
             |SI #rem01043@#6 > #rem00008#14;  #rem01043@#6 = #rem00008#14;  |FINSI;
         |SINO;
             |SI #rem01043@#6 > #rem00008#16;  #rem01043@#6 = #rem00008#16;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0891;  ||-LIQ19
         |SI enConta [ 6;
             |SI #rem01043@#6 > #rem00008#16; #rem01043@#6 = #rem00008#16; |FINSI;
         |SINO;
             |SI #rem01043@#6 > #rem00008#18; #rem01043@#6 = #rem00008#18; |FINSI;
         |FINSI;

         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0892;  ||-LIQ19
         |SI enConta [ 6;
             |SI #rem01043@#6 > #rem00008#16; #rem01043@#6 = #rem00008#16; |FINSI;
         |SINO;
             |SI #rem01043@#6 > #rem00008#18; #rem01043@#6 = #rem00008#18; |FINSI;
         |FINSI;

         nSuma = #rem01033@#63 + #rem01033@#100;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0893;  ||-LIQ19
         |SI enConta [ 6;
             |SI #rem01043@#6 > #rem00008#12;  #rem01043@#6 = #rem00008#12;  |FINSI;
         |SINO;
             |SI #rem01043@#6 > #rem00008#14; #rem01043@#6 = #rem00008#14; |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0895;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             nValor = #rem00008#14;
              |SI nSuma > nValor;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0896;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             nValor = #rem00008#14;
             |SI nSuma > nValor;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO Baleares;
     |SI #rem01043@#5 ! "S";  |ACABA;  |FINSI;

     |SI #rem00008#1 = 0898;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             nValor = #rem00008#14;
             |SI nSuma > nValor;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0899;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0900;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0901;  ||-LIQ19
         eaCasilla = "40-0546-LIQ19"; |HAZ SacaImporte;

         nValor   = enImporte % 15;
         |SI nValor < 0;  nValor = 0;  |FINSI;

         |SI #rem01043@#6 > nValor;  #rem01043@#6 = nValor;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0905;  ||-LIQ19
         eaCasilla = "40-0546-LIQ19"; |HAZ SacaImporte;
         nValor   = enImporte % 10;
         |SI nValor < 0;  nValor = 0;  |FINSI;

         |SI #rem01043@#6 > nValor;  #rem01043@#6 = nValor;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0902;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;

         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14; #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0903;  ||-LIQ19
         #rem01043@#6  = (N\ #rem01043@#6 + #rem01043@#12);
         #rem01043@#12 = 0;
     |FINSI;

     |SI #rem00008#1 = 0904;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;

         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14; #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0906;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;

         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14; #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0907;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;

         |SI #rem01043@#12 ! 0;
             #rem00008#0 = nComunidad;
             #rem00008#1 = 1907;  ||-LIQ19
             |LEE 000#rem00008.=;
             |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

             |SI enConta [ 6;
                 |SI nSuma > #rem00008#12; #rem01043@#12 = 0;  |FINSI;
             |SINO;
                 |SI nSuma > #rem00008#14; #rem01043@#12 = 0;  |FINSI;
             |FINSI;
         |FINSI;

         |SI #rem01043@#6 ! 0;
             #rem00008#0 = nComunidad;
             #rem00008#1 = 0907;  ||-LIQ19
             |LEE 000#rem00008.=;
             |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

             |SI enConta [ 6;
                 |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
             |SINO;
                  |SI nSuma > #rem00008#14; #rem01043@#6 = 0;  |FINSI;
             |FINSI;
         |FINSI;

         #rem01043@#6  = (N\ #rem01043@#6 + #rem01043@#12);
         #rem01043@#12 = 0;

         #rem00008#0 = nComunidad;
         #rem00008#1 = 0907;  ||-LIQ19
         |LEE 000#rem00008.=;
         |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0908;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#20;   #rem01043@#6 = #rem00008#16;  |FINSI;
             |SI nSuma > #rem00008#14;   #rem01043@#6 = 0;             |FINSI;

             |SI #rem01043@#2 = "TITULAR   ";  |Y eaMuerto = "T";
                 #rem01043@#6 = 0;
             |FINSI;

             |SI #rem01043@#2 = "CONYUGE   ";  |Y eaMuerto = "C";
                 #rem01043@#6 = 0;
             |FINSI;
         |SINO;
             |SI nSuma > #rem00008#18;   #rem01043@#6 = #rem00008#16;  |FINSI;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;             |FINSI;

             |SI eaMuerto ! " ";
                 #rem01043@#6 = 0;
             |FINSI;
         |FINSI;

         eaCasilla = "40-0546-LIQ19"; |HAZ SacaImporte;
         nValor   = enImporte % 50;
         |SI nValor < 0;  nValor = 0;  |FINSI;

         |SI #rem01043@#6 > nValor;  #rem01043@#6 = nValor;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0910;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;

         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0914;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;

         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0915;  ||-LIQ19
         eaCasilla = "40-0535-LIQ19"; |HAZ SacaImporte;
         nValor    = #rem01043@#6 % enImporte;
         |SI nValor < 0;  nValor = 0;  |FINSI;

         #rem01043@#6 = nValor;
     |FINSI;
|FPRC;

|PROCESO Canarias;
     |SI #rem01043@#5 ! "S";  |ACABA;  |FINSI;

     eaCasilla = "40-0546-LIQ19"; |HAZ SacaImporte; nCuotaIntegra = nCuotaIntegra + enImporte;

     nValor2   = enImporte % 10;
     |SI nValor2 < 0;  nValor2 = 0;  |FINSI;

     |SI #rem00008#1 = 0916;  ||-LIQ19
         |SI #rem01043@#6 > nValor2;  #rem01043@#6 = nValor2;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0917;  ||-LIQ19
         |SI #rem01043@#6 > nValor2;  #rem01043@#6 = nValor2;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0918;  ||-LIQ19
         |SI #rem01043@#6 > nValor2;  #rem01043@#6 = nValor2;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0919;  ||-LIQ19
         nValor2   = enImporte % 40;
         |SI nValor2 < 0;  nValor2 = 0;  |FINSI;

         |SI #rem01043@#6 > nValor2;  #rem01043@#6 = nValor2;  |FINSI;

         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14; #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#16; #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0920;  ||-LIQ19
         nValor1  = 0;
         eaCasilla = "01-0022-LIQ19"; |HAZ SacaImporte; nValor1 = nValor1 + enImporte;
         eaCasilla = "05-0235-LIQ19"; |HAZ SacaImporte; nValor1 = nValor1 + enImporte;
         eaCasilla = "06-1484-LIQ19"; |HAZ SacaImporte; nValor1 = nValor1 + enImporte;
         eaCasilla = "07-1560-LIQ19"; |HAZ SacaImporte; nValor1 = nValor1 + enImporte;

         eaCasilla = "35-0505-LIQ19"; |HAZ SacaImporte; nValor2 = enImporte;
         eaCasilla = "40-0546-LIQ19"; |HAZ SacaImporte; nValor3 = enImporte;

         nValor   = (nValor3 * nValor1) / nValor2;

         |SI #rem01043@#6 > nValor;  #rem01043@#6 = nValor;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0922;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#20;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#22;   #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0923;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#16;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#18;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0924;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0925;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0928;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;

             nValor = #rem00008#10;
         |SINO;
             |SI nSuma > #rem00008#14; #rem01043@#6 = 0;  |FINSI;

             nValor = #rem00008#10 * 2;
         |FINSI;

         |SI #rem01043@#6 > nValor;
             #rem01043@#6 = nValor;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0934;  ||-LIQ19
         #rem01043@#6  = (N\ #rem01043@#6 + #rem01043@#12);
         #rem01043@#12 = 0;

         eaCasilla = "40-0546-LIQ19"; |HAZ SacaImporte;
         nValor   = enImporte % 5;
         |SI nValor < 0;  nValor = 0;  |FINSI;

         |SI #rem01043@#6 > nValor;  #rem01043@#6 = nValor;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0936;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0938;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0940;  ||-LIQ19
         #rem00008#0 = nComunidad;
         #rem00008#1 = 1940;  ||-LIQ19
         |LEE 000#rem00008.=;
         |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

         |SI enConta [ 6;
             |SI #rem01043@#12 > #rem00008#12;  #rem01043@#12 = #rem00008#12;  |FINSI;
         |SINO;
             |SI #rem01043@#12 > #rem00008#14;  #rem01043@#12 = #rem00008#14;  |FINSI;
         |FINSI;

         #rem00008#0 = nComunidad;
         #rem00008#1 = 0940;  ||-LIQ19
         |LEE 000#rem00008.=;
         |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

         |SI enConta [ 6;
             |SI #rem01043@#6 > #rem00008#12;  #rem01043@#6 = #rem00008#12;  |FINSI;
         |SINO;
             |SI #rem01043@#6 > #rem00008#14;  #rem01043@#6 = #rem00008#14;  |FINSI;
         |FINSI;

         #rem01043@#6  = (N\ #rem01043@#6 + #rem01043@#12);

         #rem01043@#12 = 0;
     |FINSI;

     |SI #rem00008#1 = 0941;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0942;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0943;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;

             n0943 = n0943 + #rem01043@#6;
         |SINO;
             #rem01043@#6 = n0943;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO rew99999_714;
     |SI #rew99999#3 < 65;  |ACABA;  |FINSI;

     |SI enConta [ 6;
         |SI #rew99999#1 = #refere1@#2;
             nMinus65 = 1;
         |FINSI;
     |SINO;
         nMinus65 = nMinus65 + 1;
     |FINSI;
|FPRC;

|DEFBUCLE rew99999_714;
     #rew99999#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, rew99999_714;
|FIN;

|PROCESO Cantabria;
     |SI #rem01043@#5 ! "S";  |ACABA;  |FINSI;

     |SI #rem00008#1 = 0954;  ||-LIQ19
         #rem00008#0 = nComunidad;
         #rem00008#1 = 954;  ||-LIQ19
         |LEE 000#rem00008.=;
         |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

         |SI enConta [ 6;
             nLimite = #rem00008#12;
         |SINO;
             nLimite = #rem00008#14;
         |FINSI;

         |SI #rew99999#3 ] 65;
             nLimite = nLimite + #rem00008#16;
         |FINSI;

         |SI #rem01043@#6 > nLimite;
             #rem01043@#6 = nLimite;
         |FINSI;

         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI nSuma > #rem00008#18;   #rem01043@#6 = 0;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0946;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0948;  ||-LIQ19
         #rem00008#0 = nComunidad;
         #rem00008#1 = 0950;  ||-LIQ19
         |LEE 000#rem00008.=;
         |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

         nMinus65 = 0;
         |BUCLE rew99999_714;

         |SI enConta [ 6;
             nLimite = #rem00008#12;
         |SINO;
             nLimite = #rem00008#14;
         |FINSI;

         nLimite = nLimite + (#rem00008#16 * nMinus65);
         #rem01043@#12 = 0;

         |SI #rem01043@#6 > nLimite;
             #rem01043@#12 = #rem01043@#6 - nLimite;
             #rem01043@#6  = nLimite;
         |FINSI;

         n0948 = #rem01043@#6;

         #rem00008#0 = nComunidad;
         #rem00008#1 = 0948;  ||-LIQ19
         |LEE 000#rem00008.=;
         |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0950;  ||-LIQ19
         nMinus65 = 0;
         |BUCLE rew99999_714;

         |SI enConta [ 6;
             nLimite = #rem00008#12;
         |SINO;
             nLimite = #rem00008#14;
         |FINSI;

         nLimite = nLimite + (#rem00008#16 * nMinus65);
         nTope   = nLimite - n0948;
         #rem01043@#12 = 0;

         |SI #rem01043@#6 > nTope;
             #rem01043@#12 = #rem01043@#6 - nTope;
             #rem01043@#6  = nTope;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0951;  ||-LIQ19
         nValor1   = #rem01043@#12 + nCasiB;
         eaCasilla = "35-0505-LIQ19"; |HAZ SacaImporte;
         nValor2   = enImporte % 10;
         |SI nValor1 > nValor2;
             |SI nCasiB = 0;
                 #rem01043@#12 = nValor2;
             |SINO;
                 #rem01043@#12 = nValor2 - nCasiB;
             |FINSI;

             #rem01043@#6 = #rem01043@#12 % 15;

             |SI #rem01043@#6 < 0;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0772;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0775;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
     |FINSI;
|FPRC;

|PROCESO CastillaMancha;
     |SI #rem01043@#5 ! "S";  |ACABA;  |FINSI;

     nValor = #rem01033@#63 + #rem01033@#148;

     |SI #rem00008#1 = 0966;  ||-LIQ19
         |SI enConta [ 6;
             |SI nValor > #rem00008#12;   #rem01043@#6 = 0;   |FINSI;
         |SINO;
             |SI nValor > #rem00008#14;  #rem01043@#6 = 0;   |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0967;  ||-LIQ19
         |SI enConta [ 6;
             |SI nValor > #rem00008#12;   #rem01043@#6 = 0;   |FINSI;
         |SINO;
             |SI nValor > #rem00008#14;  #rem01043@#6 = 0;   |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0957;  ||-LIQ19
         |SI enConta [ 6;
             |SI nValor > #rem00008#20;   #rem01043@#6 = 0;   |FINSI;
         |SINO;
             |SI nValor > #rem00008#14;  #rem01043@#6 = 0;   |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0958;  ||-LIQ19
         |SI enConta [ 6;
             |SI nValor > #rem00008#16;   #rem01043@#6 = 0;   |FINSI;
         |SINO;
             |SI nValor > #rem00008#14;  #rem01043@#6 = 0;   |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0959;  ||-LIQ19
         |SI enConta [ 6;
             |SI nValor > #rem00008#16;  #rem01043@#6 = 0;   |FINSI;
         |SINO;
             |SI nValor > #rem00008#14;  #rem01043@#6 = 0;   |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0960;  ||-LIQ19
         nCasilla = 0958;  |HAZ LeeValorCasilla;   ||-LIQ19
         |SI nValorCas ! 0;  #rem01043@#6 = 0;  |FINSI;

         |SI enConta [ 6;
             |SI nValor > #rem00008#16;  #rem01043@#6 = 0;   |FINSI;
         |SINO;
             |SI nValor > #rem00008#14;  #rem01043@#6 = 0;   |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0961;  ||-LIQ19
         nCasilla = 0959;  |HAZ LeeValorCasilla;  ||-LIQ19
         |SI nValorCas ! 0;  #rem01043@#6 = 0;  |FINSI;

         |SI enConta [ 6;
             |SI nValor > #rem00008#16;  #rem01043@#6 = 0;   |FINSI;
         |SINO;
             |SI nValor > #rem00008#14;  #rem01043@#6 = 0;   |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0962;  ||-LIQ19
         nValor  = ((#rem01033@#104 + #rem01033@#108) * 0.10) * 0.15;

         |SI #rem01043@#6 > nValor;
             #rem01043@#6 = nValor;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0963;  ||-LIQ19
         |SI enConta [ 6;
             |SI nValor > #rem00008#14;  #rem01043@#6 = 0;   |FINSI;
         |SINO;
             |SI nValor > #rem00008#12;   #rem01043@#6 = 0;   |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0964;  ||-LIQ19
         eaCasilla = "40-0546-LIQ19"; |HAZ SacaImporte;

         nValor  = enImporte % 10;
         |SI nValor < 0;  nValor = 0;  |FINSI;

         |SI #rem01043@#6  > nValor;   #rem01043@#6 = nValor;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0968;  ||-LIQ19
         |SI #rem01043@#12 ! 0;
             #rem00008#0 = nComunidad;
             #rem00008#1 = 1968;  ||-LIQ19
             |LEE 000#rem00008.=;
             |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

             |SI enConta [ 6;
                 |SI nValor > #rem00008#12;   #rem01043@#12 = 0;  |FINSI;
             |SINO;
                  |SI nValor > #rem00008#14; #rem01043@#12 = 0;  |FINSI;
             |FINSI;
         |FINSI;

         |SI #rem01043@#6 ! 0;
             #rem00008#0 = nComunidad;
             #rem00008#1 = 0968;  ||-LIQ19
             |LEE 000#rem00008.=;
             |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

             |SI enConta [ 6;
                 |SI nValor > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
             |SINO;
                  |SI nValor > #rem00008#14; #rem01043@#6 = 0;  |FINSI;
             |FINSI;
         |FINSI;

         #rem01043@#6  = (N\ #rem01043@#6 + #rem01043@#12);
         #rem01043@#12 = 0;

         #rem00008#0 = nComunidad;
         #rem00008#1 = 0968;  ||-LIQ19
         |LEE 000#rem00008.=;
         |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;
     |FINSI;
|FPRC;

|PROCESO CastillaLeon;
     |SI #rem01043@#5 ! "S";  |ACABA;  |FINSI;

     nSuma = #rem01033@#63 + #rem01033@#148 - #rem01033@#113;

     |SI #rem00008#1 = 0970;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0971;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14; #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0972;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#22;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0974;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#18;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#20;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0799;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14; #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0975;  ||-LIQ19
         |SI #rem01043@#12 ! 0;
             #rem00008#0 = nComunidad;
             #rem00008#1 = 1975;  ||-LIQ19
             |LEE 000#rem00008.=;
             |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

             |SI enConta [ 6;
                 |SI nSuma > #rem00008#12;   #rem01043@#12 = 0;  |FINSI;
             |SINO;
                 |SI nSuma > #rem00008#14;   #rem01043@#12 = 0;  |FINSI;
             |FINSI;
         |FINSI;

         |SI #rem01043@#6 ! 0;
             #rem00008#0 = nComunidad;
             #rem00008#1 = 0975;  ||-LIQ19
             |LEE 000#rem00008.=;
             |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

             |SI enConta [ 6;
                 |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
             |SINO;
                 |SI nSuma > #rem00008#14;   #rem01043@#6 = 0;  |FINSI;
             |FINSI;
         |FINSI;

         #rem01043@#6  = (N\ #rem01043@#6 + #rem01043@#12);
         #rem01043@#12 = 0;

         #rem00008#0 = nComunidad;
         #rem00008#1 = 0975;  ||-LIQ19
         |LEE 000#rem00008.=;
         |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0985;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#18;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#20;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0986;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#18;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#20;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0987;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0988;  ||-LIQ19
         #rem01043@#6 = #rem00008#16;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = #rem00008#18;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;   #rem01043@#6 = #rem00008#18;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0990;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#18;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0991;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0992;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#18;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 0994;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO Catalunya;
     |SI #rem01043@#5 ! "S";  |ACABA;  |FINSI;

     |SI #rem00008#1 = 1003;  ||-LIQ19
          nSuma = #rem01033@#63 + #rem01033@#148 - #rem01033@#113;

          |SI enConta [ 6;
              |SI #rem01043@#6 > #rem00008#12;
                  #rem01043@#6 = #rem00008#12;
              |FINSI;

              |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
          |SINO;
              |SI #rem01043@#6 > #rem00008#12;
                  #rem01043@#6 = #rem00008#12;
              |FINSI;

              |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     eaCasilla = "40-0546-LIQ19"; |HAZ SacaImporte;
     nValor2  = enImporte % 10;
     |SI nValor2 < 0;  nValor2 = 0;  |FINSI;

     |SI #rem00008#1 = 1001;  ||-LIQ19
         |SI #rem01043@#6 > nValor2;  #rem01043@#6 = nValor2;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1002;  ||-LIQ19
         |SI #rem01043@#6 > nValor2;  #rem01043@#6 = nValor2;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1008;  ||-LIQ19
         #rem01043@#6  = #rem01043@#6 + #rem01043@#12;
         #rem01043@#12 = 0;
     |FINSI;
|FPRC;

|PROCESO Extremadura;
     |SI #rem01043@#5 ! "S";  |ACABA;  |FINSI;

     |SI #rem00008#1 = 1010;  ||-LIQ19
         #rem01043@#6  = (N\ #rem01043@#6 + #rem01043@#12);
         #rem01043@#12 = 0;

         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#16; #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1011;  ||-LIQ19
         eaCasilla = "01-0012-LIQ19";  |HAZ SacaImporte;  nValor1  = enImporte;

         nValor = 0;
         eaCasilla = "02-0038-LIQ19"; |HAZ SacaImporte; nValor = nValor + enImporte;
         eaCasilla = "03-0054-LIQ19"; |HAZ SacaImporte; nValor = nValor + enImporte;
         eaCasilla = "04-0155-LIQ19"; |HAZ SacaImporte; nValor = nValor + enImporte;
         eaCasilla = "04-0156-LIQ19"; |HAZ SacaImporte; nValor = nValor + enImporte;
         eaCasilla = "05-0231-LIQ19"; |HAZ SacaImporte; nValor = nValor + enImporte;
         eaCasilla = "06-1484-LIQ19"; |HAZ SacaImporte; nValor = nValor + enImporte;
         eaCasilla = "07-1560-LIQ19"; |HAZ SacaImporte; nValor = nValor + enImporte;
         eaCasilla = "09-0265-LIQ19"; |HAZ SacaImporte; nValor = nValor + enImporte;
         eaCasilla = "10-0270-LIQ19"; |HAZ SacaImporte; nValor = nValor + enImporte;
         eaCasilla = "11-0275-LIQ19"; |HAZ SacaImporte; nValor = nValor + enImporte;
         eaCasilla = "12-0280-LIQ19"; |HAZ SacaImporte; nValor = nValor + enImporte;
         eaCasilla = "24-0420-LIQ19"; |HAZ SacaImporte; nValor = nValor + enImporte;
         eaCasilla = "24-0421-LIQ19"; |HAZ SacaImporte; nValor = nValor - enImporte;
         eaCasilla = "25-0424-LIQ19"; |HAZ SacaImporte; nValor = nValor + enImporte;
         eaCasilla = "25-0425-LIQ19"; |HAZ SacaImporte; nValor = nValor - enImporte;

         |SI nValor1 > #rem00008#12;  |O nValor > #rem00008#14;
             #rem01043@#6 = 0;
         |FINSI;

         |SI #rem01043@#6 ! 0;
             nDedTrab = 1;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1012;  ||-LIQ19
         #rem01043@#6  = (N\ #rem01043@#6 + #rem01043@#12);
         #rem01043@#12 = 0;

         nSuma = #rem01033@#63 + #rem01033@#148 - #rem01033@#113;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1014;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#16;   #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1015;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;   #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1017;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14; #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1018;  ||-LIQ19
         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14; #rem01043@#6 = 0;  |FINSI;
         |FINSI;

         |SI nDedTrab = 1;
             #rem01043@#6 = 0;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1019;  ||-LIQ19
         #rem01043@#6  = (N\ #rem01043@#6 + #rem01043@#12);
         #rem01043@#12 = 0;

         nSuma = #rem01033@#63 + #rem01033@#148;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO I1021;
     |SI nValor [ #rem00008#12;
         nNume = #rem01043@#12 * 2;

         |SI nNume = 1;
             #rem01043@#6 = #rem00008#16 / 2;
         |FINSI;

         |SI nNume = 2;
             #rem01043@#6 = (#rem00008#16 + #rem00008#18) / 2;
         |FINSI;

         |SI nNume ] 3;
             #rem01043@#6 = (#rem00008#16 + #rem00008#18) / 2;
             #rem01043@#6 = #rem01043@#6 + ((nNume - 2) * (#rem00008#20 / 2));
         |FINSI;
     |FINSI;

     |SI nValor > #rem00008#12;  |Y nValor [ #rem00008#14;
         #rem01043@#6 = (N\ (#rem01043@#12 * #rem00008#22));
     |FINSI;
|FPRC;

|PROCESO C1021;
     |SI nValor [ #rem00008#12;
         |SI #rem01043@#12 = 1;
             #rem01043@#6 = #rem00008#16;
         |FINSI;

         |SI #rem01043@#12 = 2;
             #rem01043@#6 = #rem00008#16 + #rem00008#18;
         |FINSI;

         |SI #rem01043@#12 ] 3;
             #rem01043@#6 = #rem00008#16 + #rem00008#18;
             #rem01043@#6 = #rem01043@#6 + ((#rem01043@#12 - 2) * #rem00008#20);
         |FINSI;
     |FINSI;

     |SI nValor > #rem00008#12;  |Y nValor [ #rem00008#14;
         #rem01043@#6 = (N\ (#rem01043@#12 * #rem00008#22));
     |FINSI;
|FPRC;

|PROCESO Galicia;
     |SI #rem01043@#5 ! "S";
         |SI #rem00008#1 = 1021;  ||-LIQ19
             |SI enConta > 6;
                 #rem01043@#6 = #rem01043@#15 + #rem01043@#16;
             |FINSI;
         |FINSI;

         |ACABA;
     |FINSI;

     |SI #rem00008#1 = 1021;  ||-LIQ19
         nValor = #rem01033@#63 + #rem01033@#148 - #rem01033@#113;

         |SI #rem01043@#14 > 0;
             #rem00008#0 = nComunidad;
             #rem00008#1 = 2021;  ||-LIQ19
             |LEE 000#rem00008.=;
             |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;
         |FINSI;

         #rem01043@#6 = 0;
         |SI enConta [ 6;
             nH1021 = nH1021 + #rem01043@#12;
             nR1021 = nR1021 + 1;

             |HAZ I1021;
         |SINO;
             |SI nR1021 = 1;
                 |HAZ I1021;
             |SINO;
                 |HAZ C1021;
             |FINSI;

             nH1021 = 0;
             nR1021 = 0;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1023;  ||-LIQ19
         nValor = #rem01033@#63 + #rem01033@#148 - #rem01033@#113;

         |SI enHijos [ 1; nLimite = #rem00008#16;  |FINSI;
         |SI enHijos > 1; nLimite = #rem00008#18;  |FINSI;

         |SI enConta [ 6;
             |SI nValor > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nValor > #rem00008#14; #rem01043@#6 = 0;  |FINSI;

             nLimite = nLimite * 2;
         |FINSI;

         |SI #rem01043@#6 > nLimite;  #rem01043@#6 = nLimite;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1024;  ||-LIQ19
         nValor = #rem01033@#63 + #rem01033@#148 - #rem01033@#113;
         |SI enConta [ 6;
             |SI nValor > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nValor > #rem00008#14; #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1026;  ||-LIQ19
         #rem00008#0 = nComunidad;
         #rem00008#1 = 2026;  ||-LIQ19
         |LEE 000#rem00008.=;
         |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

         |SI #rem01043@#12 > #rem00008#10;
             #rem01043@#12 = #rem00008#10;
         |FINSI;

         #rem00008#0 = nComunidad;
         #rem00008#1 = 1026;  ||-LIQ19
         |LEE 000#rem00008.=;
         |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

         |SI #rem01043@#6 > #rem00008#10;
             #rem01043@#6 = #rem00008#10;
         |FINSI;

         #rem01043@#6  = (N\ #rem01043@#6 + #rem01043@#12);
         #rem01043@#12 = 0;

         nValor = #rem01033@#63 + #rem01033@#148;
         |SI nValor > #rem00008#12;
             #rem01043@#6 = 0;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1028;  ||-LIQ19
         #rem01043@#6 = #rem01043@#6 + #rem01043@#12;
     |FINSI;

     |SI #rem00008#1 = 1029;  ||-LIQ19
         #rem01043@#6 = #rem01043@#6 + #rem01043@#12;
     |FINSI;

     |SI #rem00008#1 = 1031;  ||-LIQ19
         eaCasilla = "40-0546-LIQ19"; |HAZ SacaImporte;
         nValor   = enImporte % 10;
         |SI nValor < 0;  nValor = 0;  |FINSI;

         |SI #rem01043@#6 > nValor;  #rem01043@#6 = nValor;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1035;  ||-LIQ19
         |SI #rem01043@#6 > #rem00008#10;
             #rem01043@#6 = #rem00008#10;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1036;  ||-LIQ19
         eaCasilla = "40-0535-LIQ19"; |HAZ SacaImporte;
         nValor    = #rem01043@#6 % enImporte;
         |SI nValor < 0;  nValor = 0;  |FINSI;

         #rem01043@#6 = nValor;
     |FINSI;

     |SI #rem00008#1 = 1037;  ||-LIQ19
         eaCasilla = "40-0535-LIQ19"; |HAZ SacaImporte;
         nValor    = (#rem01043@#6 % enImporte) + #rem01043@#12;

         #rem01043@#6  = nValor;
         #rem01043@#12 = 0;
     |FINSI;
|FPRC;

|PROCESO Madrid;
     |SI #rem01043@#5 ! "S";  |ACABA;  |FINSI;

     |HAZ LeeRentas;

     nSuma = #rem01033@#63 + #rem01033@#148;

     |SI #rem00008#1 = 1039;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;

         |SI nTotRen > #rem00008#18;  #rem01043@#6 = 0;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1041;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1042;  ||-LIQ19
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14; #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1043;  ||-LIQ19
         |SI #rem01043@#6 > #rem00008#12;   #rem01043@#6 = #rem00008#12;  |FINSI;

         |SI enConta [ 6;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#16;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;

         |SI nTotRen > #rem00008#18;  #rem01043@#6 = 0;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1045;  ||-LIQ19
         |SI nTotRen > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1044;  ||-LIQ19
         nValor = 30000 * enNumFamilia;

         |SI nTotRen > nValor;   #rem01043@#6 = 0;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1049;  ||-LIQ19
         nSuma = #rem01033@#102 + #rem01033@#108;

         nValor   = nSuma % 10;
         |SI nValor < 0;  nValor = 0;  |FINSI;

         |SI #rem01043@#12 > nValor;
             #rem01043@#6 = nValor % 15;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1050;  ||-LIQ19
         #rem01043@#6  = (N\ #rem01043@#6 + #rem01043@#12);

         nValor = 30000 * enNumFamilia;

         |SI nTotRen > nValor;   #rem01043@#6 = 0;  |FINSI;
     |FINSI;
|FPRC;

|PROCESO Murcia;
     |SI #rem01043@#5 ! "S";  |ACABA;  |FINSI;

     |ABRE #rew99999;
     |SELECT #2#rew99999;
     #rew99999#1 = #refere1@#2;
     |LEE 040#rew99999.=;
     |SI FSalida  ! 0;  |DDEFECTO #rew99999;  |FINSI;
     |CIERRA #rew99999;

     nBase    = 0;

     |SI #rem00008#1 = 1052;  ||-LIQ19
         nValor1 = #rem01033@#63 + #rem01033@#148;
         nValor2 = #rem01033@#148;
         nBase   = #rem01043@#6 * 50;
         |SI nBaseViv < #rem00008#16;
             nLimite = #rem00008#16 - nBaseViv;
             |SI nLimite < 0;  nLimite = 0;  |FINSI;

             |SI nBase > nLimite;
                 nBase = nLimite;
             |FINSI;

             nPorceBase = 5;
             |SI nValor1 < #rem00008#12;  |Y nValor2 [ #rem00008#14;
                 #rem01043@#6 = nBase % 5;
                 nPorceBase = 5;
             |SINO;
                 #rem01043@#6 = 0;
             |FINSI;
         |SINO;
             #rem01043@#6 = 0;
         |FINSI;

         |SI #rem01043@#6 > #rem00008#18;  #rem01043@#6 = #rem00008#18;  |FINSI;

         |SI #rem01043@#12 ! 0;
             #rem00008#0 = nComunidad;
             #rem00008#1 = 2052;  ||-LIQ19
             |LEE 000#rem00008.=;
             |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

             nValor1 = #rem01033@#63 - #rem01033@#113;
             nValor2 = #rem01033@#148;
             nBase   = #rem01043@#12 * 50;
             |SI nBaseViv < #rem00008#12;
                 nLimite = #rem00008#12 - nBaseViv;
                 |SI nLimite < 0;  nLimite = 0;  |FINSI;

                 |SI nBase > nLimite;
                      nBase = nLimite;
                 |FINSI;

                 nPorceBase = 2;
                 |SI nValor1 < #rem00008#14;  |Y nValor2 [ #rem00008#16;
                     #rem01043@#12 = nBase % 3;
                     nPorceBase = 3;
                 |SINO;
                     #rem01043@#12 = nBase % 2;
                 |FINSI;
             |SINO;
                 #rem01043@#12 = 0;
             |FINSI;

             #rem01043@#6  = (N\ #rem01043@#6 + #rem01043@#12);
             #rem01043@#12 = 0;

             #rem00008#0 = nComunidad;
             #rem00008#1 = 1052;  ||-LIQ19
             |LEE 000#rem00008.=;
             |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1053;  ||-LIQ19
         nValor1  = ((#rem01033@#104 + #rem01033@#108) % 15) ! 2;
         nValor2  = (((#rem01041@#39  * 100) / 30)) ! 2;
         nValor3  = (((#rem01043@#6 * 100) / 30)) ! 2;
         nValor   = nValor1 - nValor2;
         |SI nValor < nValor3;
             #rem01043@#6 = nValor % 30;
             |SI #rem01043@#6 < 0;  #rem01043@#6 = 0;  |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1054;  ||-LIQ19
         nSuma = #rem01033@#102 + #rem01033@#108;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;  #rem01043@#6 = 0;   |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1055;  ||-LIQ19
         |SI #rem01043@#6 > #rem00008#10;  #rem01043@#6 = #rem00008#10;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1059;  ||-LIQ19
         nSuma = #rem01033@#102 + #rem01033@#108;
         |SI #rem01043@#12 > 0;
             |SI enConta [ 6;
                 |SI nSuma > #rem00008#12;
                     #rem01043@#12 = 0;
                 |FINSI;
             |SINO;
                 |SI nSuma > #rem00008#14;
                     #rem01043@#12 = 0;
                 |FINSI;
             |FINSI;
         |FINSI;

         |SI #rem01043@#13 > 0;
             #rem00008#0 = nComunidad;
             #rem00008#1 = 2059;
             |LEE 000#rem00008.=;
             |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

             |SI enConta [ 6;
                 |SI nSuma > #rem00008#12;
                     #rem01043@#13 = 0;
                 |FINSI;
             |SINO;
                 |SI nSuma > #rem00008#14;
                     #rem01043@#13 = 0;
                 |FINSI;
             |FINSI;
         |FINSI;

         #rem01043@#6  = (N\ #rem01043@#12 + #rem01043@#13);
     |FINSI;

     |SI #rem00008#1 = 1073;  ||-LIQ19
         nSuma = #rem01033@#63 - #rem01033@#113;

         |SI enConta [ 6;
             |SI nSuma > #rem00008#18;  #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI nSuma > #rem00008#20;  #rem01043@#6 = 0;   |FINSI;
         |FINSI;
     |FINSI;


|FPRC;

|PROCESO LaRioja;
     |SI #rem01043@#5 ! "S";  |ACABA;  |FINSI;

     |SI #rem00008#1 = 1063;  ||-LIQ19
         |SI enConta [ 6;
             |SI #rem01033@#63 > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI #rem01033@#63 > #rem00008#14;   #rem01043@#6 = 0;  |FINSI;
         |FINSI;

         |SI #rem01033@#148 > #rem00008#18;   #rem01043@#6 = 0;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1069;  ||-LIQ19
         |SI enConta [ 6;
             |SI #rem01033@#63 > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;
         |SINO;
             |SI #rem01033@#63 > #rem00008#14;   #rem01043@#6 = 0;  |FINSI;
         |FINSI;

         |SI #rem01033@#148 > #rem00008#16;   #rem01043@#6 = 0;  |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1074;  ||-LIQ19
         #rem01043@#6  = (N\ #rem01043@#12 + #rem01043@#13);
         #rem01043@#12 = 0;
         #rem01043@#13 = 0;
     |FINSI;

     |SI #rem00008#1 = 1075;  ||-LIQ19
         |SI #rem01033@#108 > #rem00008#24;
             |SI enTrmAu < 6;
                 enTrmAu = enTrmAu + 1;
             |FINSI;
         |FINSI;

                           nValor = 0;
         |SI enTrmAu = 1;  nValor = #rem00008#12;  |FINSI;
         |SI enTrmAu = 2;  nValor = #rem00008#14;  |FINSI;
         |SI enTrmAu = 3;  nValor = #rem00008#16;  |FINSI;
         |SI enTrmAu = 4;  nValor = #rem00008#18;  |FINSI;
         |SI enTrmAu = 5;  nValor = #rem00008#20;  |FINSI;
         |SI enTrmAu = 6;  nValor = #rem00008#22;  |FINSI;

         |SI enConta > 6;  nValor = nValor * 2;    |FINSI;

         |SI #rem01043@#6  > nValor;
             #rem01043@#6  = nValor;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1079;  ||-LIQ19
         #rem01043@#6  = (N\ #rem01043@#12 + #rem01043@#13);
         #rem01043@#12 = 0;
         #rem01043@#13 = 0;
     |FINSI;

     |SI #rem00008#1 = 1080;  ||-LIQ19
         #rem01043@#6  = (N\ #rem01043@#12 + #rem01043@#13 + #rem01043@#14);
         #rem01043@#12 = 0;
         #rem01043@#13 = 0;
         #rem01043@#14 = 0;
     |FINSI;
|FPRC;

|PROCESO Topea1095;
     |SI nCanti = 0;
         |ACABA;
     |FINSI;

     #rem00008#0 = nComunidad;
     #rem00008#1 = 1097;  ||-LIQ19
     |LEE 000#rem00008.=;
     |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

     nSuma = #rem01033@#102 + #rem01033@#108;
     |SI enConta [ 6;
         |SI nSuma > #rem00008#12;
             nCanti = 0;
         |SINO;
             |SI nSuma ] 26000;  |Y nSuma [ 30000;
                 nPorceBase = (1 - ((nSuma - 26000) / 4000));
                 nCanti = nCanti * nPorceBase;
             |FINSI;
         |FINSI;
     |SINO;
         |SI nSuma > #rem00008#14;
             nCanti = 0;
         |SINO;
             |SI nSuma ] 46000;  |Y nSuma [ 50000;
                 nPorceBase = (1 - ((nSuma - 46000) / 4000));
                 nCanti = nCanti * nPorceBase;
             |FINSI;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO Valencia;
     |SI #rem00008#1 = 1083;  ||-LIQ19
         nValor = #rem01043@#6 + #rem01043@#12 + #rem01043@#13;
         #rem01043@#6   = nValor;
         #rem01043@#12  = 0;
         #rem01043@#13  = 0;
     |FINSI;

     |SI #rem01043@#5 ! "S";  |ACABA;  |FINSI;

     |SI #rem00008#1 = 1086;  ||-LIQ19
         |SI #rem01043@#6 ! 0;
             #rem00008#0 = nComunidad;
             #rem00008#1 = 1086;  ||-LIQ19
             |LEE 000#rem00008.=;
             |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

             nSuma = #rem01033@#102 + #rem01033@#108;
             |SI enConta [ 6;
                 |SI nSuma > #rem00008#12;
                     #rem01043@#6 = 0;
                 |SINO;
                     |SI nSuma ] 23000;  |Y nSuma [ 25000;
                         nPorceBase = (1 - ((nSuma - 23000) / 2000));
                         #rem01043@#6 = #rem01043@#6 * nPorceBase;
                     |FINSI;
                 |FINSI;
             |SINO;
                 |SI nSuma > #rem00008#14;
                     #rem01043@#6 = 0;
                 |SINO;
                     |SI nSuma ] 37000;  |Y nSuma [ 40000;
                         nPorceBase = (1 - ((nSuma - 37000) / 3000));
                         #rem01043@#6 = #rem01043@#6 * nPorceBase;
                     |FINSI;
                 |FINSI;
             |FINSI;
         |FINSI;

         |SI #rem01043@#12 ! 0;
             #rem00008#0 = nComunidad;
             #rem00008#1 = 2086;  ||-LIQ19
             |LEE 000#rem00008.=;
             |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

             nSuma = #rem01033@#102 + #rem01033@#108;
             |SI enConta [ 6;
                 |SI nSuma > #rem00008#12;
                     #rem01043@#12 = 0;
                 |SINO;
                     |SI nSuma ] 26000;  |Y nSuma [ 30000;
                         nPorceBase = (1 - ((nSuma - 26000) / 4000));
                         #rem01043@#12 = #rem01043@#12 * nPorceBase;
                     |FINSI;
                 |FINSI;
             |SINO;
                 |SI nSuma > #rem00008#14;
                     #rem01043@#12 = 0;
                 |SINO;
                     |SI nSuma ] 46000;  |Y nSuma [ 50000;
                         nPorceBase = (1 - ((nSuma - 46000) / 4000));
                         #rem01043@#12 = #rem01043@#12 * nPorceBase;
                     |FINSI;
                 |FINSI;
             |FINSI;
         |FINSI;

         #rem01043@#6  = #rem01043@#6 + #rem01043@#12;
         #rem01043@#12 = 0;
     |FINSI;

     |SI #rem00008#1 = 1091;  ||-LIQ19
         nSuma = #rem01033@#102 + #rem01033@#108;
         |SI nSuma > #rem00008#12;
             #rem01043@#6 = 0;
         |SINO;
             |SI nSuma ] 23000;  |Y nSuma [ 25000;
                 nPorceBase = (1 - ((nSuma - 23000) / 2000));
                 #rem01043@#6 = #rem01043@#6 * nPorceBase;
             |FINSI;
          |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1092;  ||-LIQ19
         nValor = #rem01033@#63 + #rem01033@#148;
         |SI nValor > #rem00008#12;
             #rem01043@#6 = 0;
         |FINSI;

         |SI #rem01043@#2 = "TITULAR   ";  nCas0994T = #rem01043@#6;                 |FINSI;
         |SI #rem01043@#2 = "CONYUGE   ";  nCas0994C = #rem01043@#6;                 |FINSI;
         |SI #rem01043@#2 = "CONJUNTA  ";  #rem01043@#6     = nCas0994T + nCas0994C;  |FINSI;

         |SI #rem01043@#2 = "CONJUNTAE  ";
             |SI eaMuerto = "T";
                 #rem01043@#6 = nCas0994C;
             |SINO;
                 #rem01043@#6 = nCas0994T;
             |FINSI;
         |FINSI;

         nValor = #rem01033@#63 + #rem01033@#148;
         |SI nValor > #rem00008#12;
             #rem01043@#6 = 0;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1093;  ||-LIQ19
         nValor = #rem01033@#63 + #rem01033@#148;
         |SI nValor > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;

         |SI #rem01043@#2 = "TITULAR   ";  nCas0995T = #rem01043@#6;                 |FINSI;
         |SI #rem01043@#2 = "CONYUGE   ";  nCas0995C = #rem01043@#6;                 |FINSI;
         |SI #rem01043@#2 = "CONJUNTA  ";  #rem01043@#6     = nCas0995T + nCas0995C;  |FINSI;

         |SI #rem01043@#2 = "CONJUNTAE  ";
             |SI eaMuerto = "T";
                 #rem01043@#6 = nCas0995C;
             |SINO;
                 #rem01043@#6 = nCas0995T;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1095;  ||-LIQ18
         |SI enConta [ 6;
             nLimite = #rem00008#12;

             nOk = 0;
             |SI #rew99999#6 ] 1983;  nOk = 1;  |FINSI;
             |SI #rew99999#3 > 65;    nOk = 1;  |FINSI;
             |SI #rew99999#3 > 33;  |Y #rew99999#10 = "PSIQUICA";
                 nOk = 1;
             |FINSI;

             |SI nOk = 1;
                 nLimite = #rem00008#18;
             |FINSI;

             nOk = 0;
             |SI #rew99999#6 ] 1983;
                 |SI #rew99999#3 > 33;
                     |SI #rew99999#10 = "PSIQUICA";
                         nOk = 1;
                     |SINO;
                         |SI #rew99999#3 > 65;
                             nOk = 1;
                         |FINSI;
                     |FINSI;
                 |FINSI;
             |FINSI;

             |SI nOk = 1;
                 nLimite = #rem00008#20;
             |FINSI;

             |SI #rem01043@#6 > nLimite;  #rem01043@#6 = nLimite;  |FINSI;

             |SI enConta = 1;  en1095_T = #rem01043@#6;  |FINSI;
             |SI enConta = 2;  en1095_C = #rem01043@#6;  |FINSI;
             |SI enConta = 3;  en1095_1 = #rem01043@#6;  |FINSI;
             |SI enConta = 4;  en1095_2 = #rem01043@#6;  |FINSI;
             |SI enConta = 5;  en1095_3 = #rem01043@#6;  |FINSI;
             |SI enConta = 6;  en1095_4 = #rem01043@#6;  |FINSI;

             nCanti = #rem01043@#6;  |HAZ Topea1095;
             #rem01043@#6 = nCanti;
         |SINO;
             #rem01043@#6 = 0;

             nCanti = en1095_T;  |HAZ Topea1095;
             #rem01043@#6 = #rem01043@#6 + nCanti;

             nCanti = en1095_C;  |HAZ Topea1095;
             #rem01043@#6 = #rem01043@#6 + nCanti;

             nCanti = en1095_1;  |HAZ Topea1095;
             #rem01043@#6 = #rem01043@#6 + nCanti;

             nCanti = en1095_2;  |HAZ Topea1095;
             #rem01043@#6 = #rem01043@#6 + nCanti;

             nCanti = en1095_3;  |HAZ Topea1095;
             #rem01043@#6 = #rem01043@#6 + nCanti;

             nCanti = en1095_4;  |HAZ Topea1095;
             #rem01043@#6 = #rem01043@#6 + nCanti;
         |FINSI;

         #rem00008#1 = 1095; ||-LIQ18
     |FINSI;

     |SI #rem00008#1 = 1101;  ||-LIQ19
         nValor = (#rem01033@#102 + #rem01033@#108) % 30;
         nValor = nValor - nAcumVal;
         |SI nValor [ 0;
             nAcumVal = (#rem01033@#102 + #rem01033@#108) % 30;
             nValor = 0;
         |FINSI;

         |SI #rem01043@#6 > 0;
             |SI #rem01043@#6 > nValor;  #rem01043@#6 = nValor;  |FINSI;

             nAcumVal = nAcumVal + #rem01043@#6;

             #rem01043@#6 = #rem01043@#6 % 25;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1102;  ||-LIQ19
         nValor = (#rem01033@#102 + #rem01033@#108) % 30;
         nValor = nValor - nAcumVal;
         |SI nValor [ 0;
             nAcumVal = (#rem01033@#102 + #rem01033@#108) % 30;
             nValor   = 0;
         |FINSI;

         |SI #rem01043@#6 > 0;
             |SI #rem01043@#6 > nValor;  #rem01043@#6 = nValor;  |FINSI;

             nAcumVal = nAcumVal + #rem01043@#6;

             #rem01043@#6 = #rem01043@#6 % 25;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1103;  ||-LIQ19
         nValor = (#rem01033@#102 + #rem01033@#108) % 30;
         nValor = nValor - nAcumVal;
         |SI nValor [ 0;
             nAcumVal = (#rem01033@#102 + #rem01033@#108) % 30;
             nValor   = 0;
         |FINSI;

         |SI #rem01043@#6 > 0;
             |SI #rem01043@#6 > nValor;  #rem01043@#6 = nValor;  |FINSI;

             nAcumVal = nAcumVal + #rem01043@#6;

             #rem01043@#6 = #rem01043@#6 % 25;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1112;  ||-LIQ19
         nValor = (#rem01033@#102 + #rem01033@#108) % 30;
         nValor = nValor - nAcumVal;
         |SI nValor [ 0;
             nAcumVal = (#rem01033@#102 + #rem01033@#108) % 30;
             nValor   = 0;
         |FINSI;

         |SI #rem01043@#6 > 0;
             |SI #rem01043@#6 > nValor;  #rem01043@#6 = nValor;  |FINSI;

             nAcumVal = nAcumVal + #rem01043@#6;

             #rem01043@#6 = #rem01043@#6 % 25;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1104;
         n1104   = 1;
     |FINSI;

     ||-LIQ19
     |SI #rem00008#1 = 1097;
         #rem00008#0 = nComunidad;
         #rem00008#1 = 1097;  ||-LIQ19
         |LEE 000#rem00008.=;
         |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

         nSuma = #rem01033@#102 + #rem01033@#108;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;
                 #rem01043@#6 = 0;
             |SINO;
                 |SI nSuma ] 26000;  |Y nSuma [ 30000;
                     nPorceBase = (1 - ((nSuma - 26000) / 4000));
                     #rem01043@#6 = #rem01043@#6 * nPorceBase;
                 |FINSI;
             |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;
                 #rem01043@#6 = 0;
             |SINO;
                 |SI nSuma ] 46000;  |Y nSuma [ 50000;
                     nPorceBase = (1 - ((nSuma - 46000) / 4000));
                     #rem01043@#6 = #rem01043@#6 * nPorceBase;
                 |FINSI;
             |FINSI;
         |FINSI;
     |FINSI;

     ||-LIQ19
     |SI #rem00008#1 = 1083;  |O #rem00008#1 = 1084;
      |O #rem00008#1 = 1085;  |O #rem00008#1 = 1087;
      |O #rem00008#1 = 1088;  |O #rem00008#1 = 1089;
      |O #rem00008#1 = 1090;  |O #rem00008#1 = 1106;
      |O #rem00008#1 = 1110;
         #rem00008#0 = nComunidad;
         #rem00008#1 = 1087;  ||-LIQ19
         |LEE 000#rem00008.=;
         |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

         nSuma = #rem01033@#102 + #rem01033@#108;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;
                 #rem01043@#6 = 0;
             |SINO;
                 |SI nSuma ] 23000;  |Y nSuma [ 25000;
                     nPorceBase = (1 - ((nSuma - 23000) / 2000));
                     #rem01043@#6 = #rem01043@#6 * nPorceBase;
                 |FINSI;
             |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;
                 #rem01043@#6 = 0;
             |SINO;
                 |SI nSuma ] 37000;  |Y nSuma [ 40000;
                     nPorceBase = (1 - ((nSuma - 37000) / 3000));
                     #rem01043@#6 = #rem01043@#6 * nPorceBase;
                 |FINSI;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1108;  ||-LIQ19
         nSuma = #rem01033@#102 + #rem01033@#108;
         |SI enConta [ 6;
             |SI nSuma > #rem00008#12;
                 #rem01043@#6  = 0;
                 #rem01043@#12 = 0;
             |FINSI;
         |SINO;
             |SI nSuma > #rem00008#14;
                 #rem01043@#6  = 0;
                 #rem01043@#12 = 0;
             |FINSI;
         |FINSI;

         |SI #rem01043@#12 ! 0;
             |SI enConta [ 6;
                 nLimite = 4500;
                 |SI nSuma ] 23000;  |Y nSuma [ 25000;
                     nPorceBase = (1 - ((nSuma - 23000) / 2000));
                     nLimite = 4500 * nPorceBase;
                 |FINSI;
             |SINO;
                 nLimite = 4500;
                 |SI nSuma ] 37000;  |Y nSuma [ 40000;
                     nPorceBase = (1 - ((nSuma - 37000) / 3000));
                     nLimite = 4500 * nPorceBase;
                 |FINSI;
             |FINSI;

             |SI #rem01043@#12 > nLimite;
                 #rem01043@#12 = nLimite;
             |FINSI;

             #rem01043@#12 = #rem01043@#12 % 10;
         |FINSI;

         |SI #rem01043@#6 ! 0;
             |SI enConta [ 6;
                 nLimite = 4500;
                 |SI nSuma ] 23000;  |Y nSuma [ 25000;
                     nPorceBase = (1 - ((nSuma - 23000) / 2000));
                     nLimite = 4500 * nPorceBase;
                 |FINSI;
             |SINO;
                 nLimite = 4500;
                 |SI nSuma ] 37000;  |Y nSuma [ 40000;
                     nPorceBase = (1 - ((nSuma - 37000) / 3000));
                     nLimite = 4500 * nPorceBase;
                 |FINSI;
             |FINSI;

             |SI #rem01043@#6 > nLimite;
                 #rem01043@#6 = nLimite;
             |FINSI;

             #rem01043@#6 = #rem01043@#6 % 25;
         |FINSI;

         #rem01043@#6  = #rem01043@#6 + #rem01043@#12;
         #rem01043@#12 = 0;
     |FINSI;

     |SI #rem00008#1 = 1113;  ||-LIQ19
         nValor = #rem01033@#102 + #rem01033@#108;

         |SI nValor > #rem00008#12;  #rem01043@#6 = 0;  |FINSI;

         |SI #rem01043@#2 = "TITULAR   ";
             nCas1014T = #rem01043@#6;
         |FINSI;

         |SI #rem01043@#2 = "CONYUGE   ";
             nCas1014C = #rem01043@#6;
         |FINSI;

         |SI #rem01043@#2 = "CONJUNTA  ";
             #rem01043@#6 = nCas1014T + nCas1014C;
         |FINSI;

         |SI #rem01043@#2 = "CONJUNTAE  ";
             |SI eaMuerto = "T";
                 #rem01043@#6 = nCas1014C;
             |SINO;
                 #rem01043@#6 = nCas1014T;
             |FINSI;
         |FINSI;
     |FINSI;

     |SI #rem00008#1 = 1094;  ||-LIQ19
         |SI #rem01043@#12 ! 0;
             eaCasilla = "40-0535-LIQ19"; |HAZ SacaImporte;
             nValor = #rem01043@#12 % enImporte;

             #rem01043@#6  = #rem01043@#6 + nValor;
             #rem01043@#12 = 0;
         |FINSI;
     |FINSI;
|FPRC;

|PROCESO rem01043T;
     |SI #rem01043@#4 = 9999;  |ACABA;  |FINSI;

     |SI #rem01043@#4 = 1104;  ||-LIQ19
         |SI #rem01043@#6 = 1;
             |ACABA;
         |FINSI;
     |FINSI;

     nImporte  = nImporte  + #rem01043@#6;
     enImporte = enImporte + #rem01043@#6;
     nPaso     = 1;
|FPRC;

|DEFBUCLE rem01043T;
     #rem01043@#1005;
     ;
     #refere1@#0, #refere1@#1, #refere1@#2, nComunidad, 0000;
     #refere1@#0, #refere1@#1, #refere1@#2, nComunidad, 9999;
     be;
     NULL, rem01043T;
|FIN;

|PROCESO GrabaTotal;
     #rem01043@#0 = #refere1@#0;
     #rem01043@#1 = #refere1@#1;
     #rem01043@#2 = #refere1@#2;
     #rem01043@#3 = nComunidad;
     #rem01043@#4 = 9999;
     |LEE 101#rem01043@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01043@;
         #rem01043@#0 = #refere1@#0;
         #rem01043@#1 = #refere1@#1;
         #rem01043@#2 = #refere1@#2;
         #rem01043@#3 = nComunidad;
         #rem01043@#4 = 9999;
         |GRABA 101#rem01043@.b;
     |FINSI;

     #rem01043@#6 = nImporte;
     |GRABA 101#rem01043@.a;
     |LIBERA #rem01043@;

     enImporte  = nImporte;
     enSwAcum   = 0;
     eaCasilla  = "40-0564-LIQ19";
     |HAZ GrabaLineal;
|FPRC;

|PROCESO TAutonomicas;
     |ABRE #rem01043@;

     nPaso = 0;  nImporte = 0;  nComunidad = 1;  |BUCLE rem01043T;
     |SI nPaso = 1;  |HAZ GrabaTotal;  |FINSI;

     nPaso = 0;  nImporte = 0;  nComunidad = 2;  |BUCLE rem01043T;
     |SI nPaso = 1;  |HAZ GrabaTotal;  |FINSI;

     nPaso = 0;  nImporte = 0;  nComunidad = 3;  |BUCLE rem01043T;
     |SI nPaso = 1;  |HAZ GrabaTotal;  |FINSI;

     nPaso = 0;  nImporte = 0;  nComunidad = 4;  |BUCLE rem01043T;
     |SI nPaso = 1;  |HAZ GrabaTotal;  |FINSI;

     nPaso = 0;  nImporte = 0;  nComunidad = 5;  |BUCLE rem01043T;
     |SI nPaso = 1;  |HAZ GrabaTotal;  |FINSI;

     nPaso = 0;  nImporte = 0;  nComunidad = 6;  |BUCLE rem01043T;
     |SI nPaso = 1;  |HAZ GrabaTotal;  |FINSI;

     nPaso = 0;  nImporte = 0;  nComunidad = 7;  |BUCLE rem01043T;
     |SI nPaso = 1;  |HAZ GrabaTotal;  |FINSI;

     ||Castilla y Leon se calcula en CastillaLeonAuto

     nPaso = 0;  nImporte = 0;  nComunidad = 9;  |BUCLE rem01043T;
     |SI nPaso = 1;  |HAZ GrabaTotal;  |FINSI;

     nPaso = 0;  nImporte = 0;  nComunidad = 10; |BUCLE rem01043T;
     |SI nPaso = 1;  |HAZ GrabaTotal;  |FINSI;

     nPaso = 0;  nImporte = 0;  nComunidad = 11; |BUCLE rem01043T;
     |SI nPaso = 1;  |HAZ GrabaTotal;  |FINSI;

     nPaso = 0;  nImporte = 0;  nComunidad = 12; |BUCLE rem01043T;
     |SI nPaso = 1;  |HAZ GrabaTotal;  |FINSI;

     nPaso = 0;  nImporte = 0;  nComunidad = 13; |BUCLE rem01043T;
     |SI nPaso = 1;  |HAZ GrabaTotal;  |FINSI;

     nPaso = 0;  nImporte = 0;  nComunidad = 16; |BUCLE rem01043T;
     |SI nPaso = 1;  |HAZ GrabaTotal;  |FINSI;

     nPaso = 0;  nImporte = 0;  nComunidad = 17; |BUCLE rem01043T;
     |SI nPaso = 1;  |HAZ GrabaTotal;  |FINSI;

     |CIERRA #rem01043@;
|FPRC;

|PROCESO Total1040_1;
     #rem01040@#9  = (N\ #rem01040@#5  + #rem01040@#8);
     #rem01040@#10 = (N\ #rem01040@#10 + nImp1);
     #rem01040@#11 = (N\ #rem01043@#6);
|FPRC;

|PROCESO Graba1040_1;
     |SI #rem01043@#6 = 0;  |ACABA;  |FINSI;

     |SI nRepas = 1;
         nImp1 = 0;
         nImp2 = 0;
     |FINSI;

     aAlfa1 = #rem01040@#3;  |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#5 = (N\ #rem01040@#5 + nImp2);

         |HAZ Total1040_1;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#6;  |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#8 = (N\ #rem01040@#8 + nImp2);

         |HAZ Total1040_1;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#3;  |QBF aAlfa1;
     |SI aAlfa1 = "";
         #rem01040@#3 = aNif;
         #rem01040@#4 = "0";
         |SI aEs = "N";
             #rem01040@#4 = "1";
         |FINSI;

         #rem01040@#5  = nImp2;

         |HAZ Total1040_1;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#6;  |QBF aAlfa1;
     |SI aAlfa1 = "";
         #rem01040@#6 = aNif;
         #rem01040@#7 = "0";
         |SI aEs = "N";
             #rem01040@#7 = "1";
         |FINSI;

         #rem01040@#8  = nImp2;

         |HAZ Total1040_1;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Info_1;
     #rem01040@#0 = #refere1@#0;
     #rem01040@#1 = #refere1@#1;
     #rem01040@#2 = #refere1@#2;
     |LEE 101#rem01040@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01040@;
         #rem01040@#0 = #refere1@#0;
         #rem01040@#1 = #refere1@#1;
         #rem01040@#2 = #refere1@#2;
         |GRABA 020#rem01040@.b;
     |FINSI;

     aNif1 = #rem01043@#7 % 109;
     aEs1  = #rem01043@#7 % 2101;
     aNif2 = #rem01043@#8 % 109;
     aEs2  = #rem01043@#8 % 2101;

     |SI #rem01043@#13 ! 0;  |O #rem01043@#14 ! 0;
         aNif  = aNif1;
         aEs   = aEs1;
         nImp1 = #rem01043@#13;
         nImp2 = #rem01043@#14;

         |HAZ Graba1040_1;
     |FINSI;

     |SI #rem01043@#15 ! 0;  |O #rem01043@#16 ! 0;
         aNif  = aNif2;
         aEs   = aEs2;
         nImp1 = #rem01043@#15;
         nImp2 = #rem01043@#16;

         |HAZ Graba1040_1;
     |FINSI;
|FPRC;

|PROCESO Total1040_2;
     #rem01040@#16 = (N\ #rem01040@#13 + #rem01040@#15);
     #rem01040@#17 = (N\ #rem01043@#6);
|FPRC;

|PROCESO Graba1040_2;
     |SI #rem01043@#6 = 0;  |ACABA;  |FINSI;

     |SI #rem01040@#12 = "                    ";
         #rem01040@#12 = aNif;
         #rem01040@#13 = nImp1;

         |HAZ Total1040_2;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     |SI #rem01040@#14 = "                    ";
         #rem01040@#14 = aNif;
         #rem01040@#15 = nImp1;

         |HAZ Total1040_2;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#12; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#13 = (N\ #rem01040@#13 + nImp1);

         |HAZ Total1040_2;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#14; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#15 = (N\ #rem01040@#15 + nImp1);

         |HAZ Total1040_2;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Info_2;
     #rem01040@#0 = #refere1@#0;
     #rem01040@#1 = #refere1@#1;
     #rem01040@#2 = #refere1@#2;
     |LEE 101#rem01040@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01040@;
         #rem01040@#0 = #refere1@#0;
         #rem01040@#1 = #refere1@#1;
         #rem01040@#2 = #refere1@#2;
         |GRABA 020#rem01040@.b;
     |FINSI;

     aNif1 = #rem01043@#7 % 109;
     aEs1  = #rem01043@#7 % 2101;
     aNif2 = #rem01043@#8 % 109;
     aEs2  = #rem01043@#8 % 2101;

     |SI #rem01043@#13 ! 0;
         aNif  = aNif1;
         aEs   = aEs1;
         nImp1 = #rem01043@#13;

         |HAZ Graba1040_2;
     |FINSI;

     |SI #rem01043@#15 ! 0;
         aNif  = aNif2;
         aEs   = aEs2;
         nImp1 = #rem01043@#15;

         |HAZ Graba1040_2;
     |FINSI;
|FPRC;

|PROCESO Total1040_3;
     #rem01040@#22 = (N\ #rem01040@#19 + #rem01040@#21);
     #rem01040@#23 = (N\ #rem01043@#6);
|FPRC;

|PROCESO Graba1040_3;
     |SI #rem01043@#6 = 0;  |ACABA;  |FINSI;

     |SI #rem01040@#18 = "                    ";
         #rem01040@#18 = aNif;
         #rem01040@#19 = nImp1;

         |HAZ Total1040_3;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     |SI #rem01040@#20 = "                    ";
         #rem01040@#20 = aNif;
         #rem01040@#21 = nImp1;

         |HAZ Total1040_3;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#18; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#19 = (N\ #rem01040@#19 + nImp1);

         |HAZ Total1040_3;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#20; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#21 = (N\ #rem01040@#21 + nImp1);

         |HAZ Total1040_3;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Info_3;
     #rem01040@#0 = #refere1@#0;
     #rem01040@#1 = #refere1@#1;
     #rem01040@#2 = #refere1@#2;
     |LEE 101#rem01040@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01040@;
         #rem01040@#0 = #refere1@#0;
         #rem01040@#1 = #refere1@#1;
         #rem01040@#2 = #refere1@#2;
         |GRABA 020#rem01040@.b;
     |FINSI;

     aNif1 = #rem01043@#7 % 109;
     aEs1  = #rem01043@#7 % 2101;
     aNif2 = #rem01043@#8 % 109;
     aEs2  = #rem01043@#8 % 2101;

     |SI #rem01043@#13 ! 0;
         aNif  = aNif1;
         aEs   = aEs1;
         nImp1 = #rem01043@#13;

         |HAZ Graba1040_3;
     |FINSI;

     |SI #rem01043@#15 ! 0;
         aNif  = aNif2;
         aEs   = aEs2;
         nImp1 = #rem01043@#15;

         |HAZ Graba1040_3;
     |FINSI;
|FPRC;

|PROCESO Total1040_4;
     #rem01040@#28 = (N\ #rem01040@#25 + #rem01040@#27);
     #rem01040@#29 = (N\ #rem01043@#6);
|FPRC;

|PROCESO Graba1040_4;
     |SI #rem01043@#6 = 0;  |ACABA;  |FINSI;

     |SI #rem01040@#24 = "                    ";
         #rem01040@#24 = aNif;
         #rem01040@#25 = nImp1;

         |HAZ Total1040_4;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     |SI #rem01040@#26 = "                    ";
         #rem01040@#26 = aNif;
         #rem01040@#27 = nImp1;

         |HAZ Total1040_4;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#24; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
        #rem01040@#25 = (N\ #rem01040@#25 + nImp1);

         |HAZ Total1040_4;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#26; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#27 = (N\ #rem01040@#27 + nImp1);

         |HAZ Total1040_4;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Info_4;
     #rem01040@#0 = #refere1@#0;
     #rem01040@#1 = #refere1@#1;
     #rem01040@#2 = #refere1@#2;
     |LEE 101#rem01040@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01040@;
         #rem01040@#0 = #refere1@#0;
         #rem01040@#1 = #refere1@#1;
         #rem01040@#2 = #refere1@#2;
         |GRABA 020#rem01040@.b;
     |FINSI;

     aNif1 = #rem01043@#7 % 109;
     aEs1  = #rem01043@#7 % 2101;
     aNif2 = #rem01043@#8 % 109;
     aEs2  = #rem01043@#8 % 2101;

     |SI #rem01043@#13 ! 0;
         aNif  = aNif1;
         aEs   = aEs1;
         nImp1 = #rem01043@#13;

         |HAZ Graba1040_4;
     |FINSI;

     |SI #rem01043@#15 ! 0;
         aNif  = aNif2;
         aEs   = aEs2;
         nImp1 = #rem01043@#15;

         |HAZ Graba1040_4;
     |FINSI;
|FPRC;

|PROCESO Total1040_5;
     #rem01040@#34 = (N\ #rem01040@#31 + #rem01040@#33);
     #rem01040@#35 = (N\ #rem01043@#6);
|FPRC;

|PROCESO Graba1040_5;
     |SI #rem01043@#6 = 0;  |ACABA;  |FINSI;

     |SI #rem01040@#30 = "                    ";
         #rem01040@#30 = aNif;
         #rem01040@#31 = nImp1;

         |HAZ Total1040_5;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     |SI #rem01040@#32 = "                    ";
         #rem01040@#32 = aNif;
         #rem01040@#33 = nImp1;

         |HAZ Total1040_5;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#30; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#31 = (N\ #rem01040@#31 + nImp1);

         |HAZ Total1040_5;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#32; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#33 = (N\ #rem01040@#33 + nImp1);

         |HAZ Total1040_5;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Info_5;
     #rem01040@#0 = #refere1@#0;
     #rem01040@#1 = #refere1@#1;
     #rem01040@#2 = #refere1@#2;
     |LEE 101#rem01040@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01040@;
         #rem01040@#0 = #refere1@#0;
         #rem01040@#1 = #refere1@#1;
         #rem01040@#2 = #refere1@#2;
         |GRABA 020#rem01040@.b;
     |FINSI;

     aNif1 = #rem01043@#7 % 109;
     aEs1  = #rem01043@#7 % 2101;
     aNif2 = #rem01043@#8 % 109;
     aEs2  = #rem01043@#8 % 2101;

     nSuma = #rem01043@#13 + #rem01043@#15;
     |SI nSuma > 20000;
         |SI #rem01043@#13 > 20000;
             #rem01043@#13 = 20000;
             #rem01043@#15 = 0;
             nSuma         = 0;
         |SINO;
             nSuma = 20000 - #rem01043@#13;
         |FINSI;

         #rem01043@#15 = nSuma;
     |FINSI;

     |SI #rem01043@#13 ! 0;
         aNif  = aNif1;
         aEs   = aEs1;
         nImp1 = #rem01043@#13;

         |HAZ Graba1040_5;
     |FINSI;

     |SI #rem01043@#15 ! 0;
         aNif  = aNif2;
         aEs   = aEs2;
         nImp1 = #rem01043@#15;

         |HAZ Graba1040_5;
     |FINSI;
|FPRC;

|PROCESO Total1040_6;
     #rem01040@#51 = (N\ #rem01043@#6);
|FPRC;

|PROCESO Graba1040_6;
     |SI #rem01043@#6 = 0;  |ACABA;  |FINSI;

     |SI #rem01040@#36 = "                    ";
         #rem01040@#36 = aNif;
         #rem01040@#37 = aEs;
         #rem01040@#40 = nImp;

         |HAZ Total1040_6;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#36; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#40 = (N\ #rem01040@#40 + nImp);

         |HAZ Total1040_6;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Info_6;
     #rem01040@#0 = #refere1@#0;
     #rem01040@#1 = #refere1@#1;
     #rem01040@#2 = #refere1@#2;
     |LEE 101#rem01040@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01040@;
         #rem01040@#0 = #refere1@#0;
         #rem01040@#1 = #refere1@#1;
         #rem01040@#2 = #refere1@#2;
         |GRABA 020#rem01040@.b;
     |FINSI;

     |SI #rem01043@#13 ! 0;
         aNif  = #rem01043@#7 % 109;
         aEs   = #rem01043@#7 % 2101;
         nImp  = #rem01043@#13;

         |HAZ Graba1040_6;
     |FINSI;
|FPRC;

|PROCESO Total1040_7;
     #rem01040@#85 = (N\ #rem01040@#56 + #rem01040@#61 + #rem01040@#66);
     #rem01040@#67 = (N\ #rem01043@#6);
|FPRC;

|PROCESO Graba1040_7;
     |SI #rem01043@#6 = 0;  |ACABA;  |FINSI;

     |SI #rem01040@#52 = "                    ";
         #rem01040@#52 = aNif;
         #rem01040@#53 = aEs;
         #rem01040@#54 = aCat;
         #rem01040@#55 = aEC;

         #rem01040@#56 = nImp1;

         |HAZ Total1040_7;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     |SI #rem01040@#57 = "                    ";
         #rem01040@#57 = aNif;
         #rem01040@#58 = aEs;
         #rem01040@#59 = aCat;
         #rem01040@#60 = aEC;

         #rem01040@#61 = nImp1;

         |HAZ Total1040_7;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     |SI #rem01040@#62 = "                    ";
         #rem01040@#62 = aNif;
         #rem01040@#63 = aEs;
         #rem01040@#64 = aCat;
         #rem01040@#65 = aEC;

         #rem01040@#66 = nImp1;

         |HAZ Total1040_7;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#52; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#56 = (N\ #rem01040@#56 + nImp1);

         |HAZ Total1040_7;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#57; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#61 = (N\ #rem01040@#61 + nImp1);

         |HAZ Total1040_7;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#62; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#66 = (N\ #rem01040@#66 + nImp1);

         |HAZ Total1040_7;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Info_7;
     #rem01040@#0 = #refere1@#0;
     #rem01040@#1 = #refere1@#1;
     #rem01040@#2 = #refere1@#2;
     |LEE 101#rem01040@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01040@;
         #rem01040@#0 = #refere1@#0;
         #rem01040@#1 = #refere1@#1;
         #rem01040@#2 = #refere1@#2;
         |GRABA 020#rem01040@.b;
     |FINSI;

     aNif1 = #rem01043@#7 % 109;
     aEs1  = #rem01043@#7 % 2101;
     aCat1 = #rem01043@#10;  |QBF aCat1;
                      aEC1 = "S";
     |SI aCat1 = "";  aEC1 = "N";  |FINSI;

     aNif2 = #rem01043@#8 % 109;
     aEs2  = #rem01043@#8 % 2101;
     aCat2 = #rem01043@#11;  |QBF aCat2;
                      aEC2 = "S";
     |SI aCat2 = "";  aEC2 = "N";  |FINSI;

     aNif3 = #rem01043@#9 % 109;
     aEs3  = #rem01043@#9 % 2101;
     aCat3 = #rem01043@#19;  |QBF aCat3;
                      aEC3 = "S";
     |SI aCat3 = "";  aEC3 = "N";  |FINSI;

     |SI #rem01043@#13 ! 0;
         aNif  = aNif1;
         aEs   = aEs1;
         aCat  = aCat1;
         aEC   = aEC1;
         nImp1 = #rem01043@#13;

         |HAZ Graba1040_7;
     |FINSI;

     |SI #rem01043@#15 ! 0;
         aNif  = aNif2;
         aEs   = aEs2;
         aCat  = aCat2;
         aEC   = aEC2;
         nImp1 = #rem01043@#15;

         |HAZ Graba1040_7;
     |FINSI;

     |SI #rem01043@#17 ! 0;
         aNif  = aNif3;
         aEs   = aEs3;
         aCat  = aCat3;
         aEC   = aEC3;
         nImp1 = #rem01043@#17;

         |HAZ Graba1040_7;
     |FINSI;
|FPRC;

|PROCESO Total1040_8;
     #rem01040@#84 = (N\ #rem01040@#72 + #rem01040@#77 + #rem01040@#82);
     #rem01040@#83 = (N\ #rem01043@#6);
|FPRC;

|PROCESO Graba1040_8;
     |SI #rem01043@#6 = 0;  |ACABA;  |FINSI;

     |SI #rem01040@#68 = "                    ";
         #rem01040@#68 = aNif;
         #rem01040@#69 = aEs;
         #rem01040@#70 = aCat;
         #rem01040@#71 = aEC;

         #rem01040@#72 = nImp1;

         |HAZ Total1040_8;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     |SI #rem01040@#73 = "                    ";
         #rem01040@#73 = aNif;
         #rem01040@#74 = aEs;
         #rem01040@#75 = aCat;
         #rem01040@#76 = aEC;

         #rem01040@#77 = nImp1;

         |HAZ Total1040_8;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     |SI #rem01040@#78 = "                    ";
         #rem01040@#78 = aNif;
         #rem01040@#79 = aEs;
         #rem01040@#80 = aCat;
         #rem01040@#81 = aEC;

         #rem01040@#82 = nImp1;

         |HAZ Total1040_8;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#68; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#72 = (N\ #rem01040@#72 + nImp1);

         |HAZ Total1040_8;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#73; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#77 = (N\ #rem01040@#77 + nImp1);

         |HAZ Total1040_8;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;

     aAlfa1 = #rem01040@#78; |QBF aAlfa1;
     aAlfa2 = aNif;          |QBF aAlfa2;
     |SI aAlfa1 = aAlfa2;
         #rem01040@#66 = (N\ #rem01040@#78 + nImp1);

         |HAZ Total1040_8;

         |GRABA 020#rem01040@.a;
         |LIBERA #rem01040@;

         |ACABA;
     |FINSI;
|FPRC;

|PROCESO Info_8;
     #rem01040@#0 = #refere1@#0;
     #rem01040@#1 = #refere1@#1;
     #rem01040@#2 = #refere1@#2;
     |LEE 101#rem01040@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01040@;
         #rem01040@#0 = #refere1@#0;
         #rem01040@#1 = #refere1@#1;
         #rem01040@#2 = #refere1@#2;
         |GRABA 020#rem01040@.b;
     |FINSI;

     aNif1 = #rem01043@#7 % 109;
     aEs1  = #rem01043@#7 % 2101;
     aCat1 = #rem01043@#10;  |QBF aCat1;
                      aEC1 = "S";
     |SI aCat1 = "";  aEC1 = "N";  |FINSI;

     aNif2 = #rem01043@#8 % 109;
     aEs2  = #rem01043@#8 % 2101;
     aCat2 = #rem01043@#11;  |QBF aCat2;
                      aEC2 = "S";
     |SI aCat2 = "";  aEC2 = "N";  |FINSI;

     aNif3 = #rem01043@#9 % 109;
     aEs3  = #rem01043@#9 % 2101;
     aCat3 = #rem01043@#19;  |QBF aCat3;
                      aEC3 = "S";
     |SI aCat3 = "";  aEC3 = "N";  |FINSI;

     |SI #rem01043@#13 ! 0;
         aNif  = aNif1;
         aEs   = aEs1;
         aCat  = aCat1;
         aEC   = aEC1;
         nImp1 = #rem01043@#13;

         |HAZ Graba1040_8;
     |FINSI;

     |SI #rem01043@#15 ! 0;
         aNif  = aNif2;
         aEs   = aEs2;
         aCat  = aCat2;
         aEC   = aEC2;
         nImp1 = #rem01043@#15;

         |HAZ Graba1040_8;
     |FINSI;

     |SI #rem01043@#17 ! 0;
         aNif  = aNif3;
         aEs   = aEs3;
         aCat  = aCat3;
         aEC   = aEC3;
         nImp1 = #rem01043@#17;

         |HAZ Graba1040_8;
     |FINSI;
|FPRC;

|PROCESO rem01043;
     |SI #rem01043@#6  = 0;  |Y #rem01043@#12 = 0;
      |Y #rem01043@#13 = 0;  |Y #rem01043@#14 = 0;
      |Y #rem01043@#15 = 0;
         |ACABA;
     |FINSI;

     nDedTrab = 0;

     #rem00008#0 = #rem01043@#3;
     #rem00008#1 = #rem01043@#4;
     |LEE 000#rem00008.=;
     |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

     |SI #rem00008#0 = 1;  |HAZ Andalucia;       |FINSI;
     |SI #rem00008#0 = 2;  |HAZ Aragon;          |FINSI;
     |SI #rem00008#0 = 3;  |HAZ Asturias;        |FINSI;
     |SI #rem00008#0 = 4;  |HAZ Baleares;        |FINSI;
     |SI #rem00008#0 = 5;  |HAZ Canarias;        |FINSI;
     |SI #rem00008#0 = 6;  |HAZ Cantabria;       |FINSI;
     |SI #rem00008#0 = 7;  |HAZ CastillaMancha;  |FINSI;
     |SI #rem00008#0 = 8;  |HAZ CastillaLeon;    |FINSI;
     |SI #rem00008#0 = 9;  |HAZ Catalunya;       |FINSI;
     |SI #rem00008#0 = 10; |HAZ Extremadura;     |FINSI;
     |SI #rem00008#0 = 11; |HAZ Galicia;         |FINSI;
     |SI #rem00008#0 = 12; |HAZ Madrid;          |FINSI;
     |SI #rem00008#0 = 13; |HAZ Murcia;          |FINSI;
     |SI #rem00008#0 = 16; |HAZ LaRioja;         |FINSI;
     |SI #rem00008#0 = 17; |HAZ Valencia;        |FINSI;

     |GRABA 020#rem01043@.a;
     |LIBERA #rem01043@;

     ||-LIQ19

                               nOk = 0;
     |SI #rem01043@#4 = 0853;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 0887;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 0907;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1907;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 0928;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 0946;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 0968;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1968;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 0975;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1003;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1019;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 2019;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1026;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 2026;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1043;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1095;  nOk = 1;  |FINSI;

     nRepas = 0;
     |SI nOk = 1;  |HAZ Info_1;  |FINSI;

                               nOk = 0;
     |SI #rem01043@#4 = 0854;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 0873;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 0903;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1903;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 0953;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 0979;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1008;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1016;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1028;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1046;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1057;  nOk = 1;  |FINSI;
     |SI nOk = 1;  |HAZ Info_2;  |FINSI;

     |SI #rem01043@#4 = 0872;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1030;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1048;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1058;  nOk = 1;  |FINSI;
     |SI nOk = 1;  |HAZ Info_3;  |FINSI;

                               nOk = 0;
     |SI #rem01043@#4 = 1029;  nOk = 1;  |FINSI;
     |SI nOk = 1;  |HAZ Info_4;  |FINSI;

                               nOk = 0;
     |SI #rem01043@#4 = 1035;  nOk = 1;  |FINSI;
     |SI nOk = 1;  |HAZ Info_5;  |FINSI;

                               nOk = 0;
     |SI #rem01043@#4 = 0876;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 0942;  nOk = 1;  |FINSI;
     |SI nOk = 1;  |HAZ Info_6;  |FINSI;

                               nOk = 0;
     |SI #rem01043@#4 = 0943;  nOk = 1;  |FINSI;
     |SI nOk = 1;  |HAZ Info_7;  |FINSI;

                               nOk = 0;
     |SI #rem01043@#4 = 0944;  nOk = 1;  |FINSI;
     |SI nOk = 1;  |HAZ Info_8;  |FINSI;
|FPRC;

|DEFBUCLE rem01043;
     #rem01043@#1005;
     ;
     #refere1@#0, #refere1@#1, #refere1@#2, nComunidad, 0000;
     #refere1@#0, #refere1@#1, #refere1@#2, nComunidad, 9999;
     be;
     NULL, rem01043;
|FIN;

|PROCESO CanariasAuto;
     aAlfa = #refere1@#2;
     |SI enConta > 6;  aAlfa = "TITULAR";  |FINSI;

     |ABRE #rew99999;
     |SELECT #2#rew99999;
     #rew99999#1 = aAlfa;
     |LEE 040#rew99999.=;
     |SI FSalida  ! 0;  |DDEFECTO #rew99999;  |FINSI;
     |CIERRA #rew99999;

     |SI #rew99999#7 ! 5;  |ACABA;  |FINSI;

     |ABRE #rem01043@;

     nValor = #rem01041@#3 + #rem01041@#6 + #rem01041@#9;
     |SI nValor ! 0;
         nSuma = #rem01033@#63 + #rem01033@#148;
                               nPorceBase = 1.75;
         |SI nSuma ] 12000;    nPorceBase = 1.55;  |FINSI;
         |SI nSuma > 24107.20; nPorceBase = 0;     |FINSI;

         #rem01043@#0 = #refere1@#0;
         #rem01043@#1 = #refere1@#1;
         #rem01043@#2 = #refere1@#2;
         #rem01043@#3 = nComunidad;
         #rem01043@#4 = 0926;  ||-LIQ19
         |LEE 101#rem01043@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01043@;
             #rem01043@#0 = #refere1@#0;
             #rem01043@#1 = #refere1@#1;
             #rem01043@#2 = #refere1@#2;
             #rem01043@#3 = nComunidad;
             #rem01043@#4 = 0926;  ||-LIQ19
             |GRABA 101#rem01043@.b;
         |FINSI;

         #rem01043@#6 = nValor % nPorceBase;
         |GRABA 101#rem01043@.a;
         |LIBERA #rem01043@;
     |FINSI;

     nValor = #rem01041@#12;
     |SI nValor ! 0;
         #rem01043@#0 = #refere1@#0;
         #rem01043@#1 = #refere1@#1;
         #rem01043@#2 = #refere1@#2;
         #rem01043@#3 = nComunidad;
         #rem01043@#4 = 0927;  ||-LIQ19
         |LEE 101#rem01043@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01043@;
             #rem01043@#0 = #refere1@#0;
             #rem01043@#1 = #refere1@#1;
             #rem01043@#2 = #refere1@#2;
             #rem01043@#3 = nComunidad;
             #rem01043@#4 = 0927;  ||-LIQ19
             |GRABA 101#rem01043@.b;
         |FINSI;

         #rem01043@#6 = nValor % 0.75;
         |GRABA 101#rem01043@.a;
         |LIBERA #rem01043@;
     |FINSI;

     eaCasilla = "40-0546-LIQ19"; |HAZ SacaImporte;

     nValor = enImporte % 10;
     |SI nValor < 0;  nValor = 0;  |FINSI;

     #rem01043@#0 = #refere1@#0;
     #rem01043@#1 = #refere1@#1;
     #rem01043@#2 = #refere1@#2;
     #rem01043@#3 = nComunidad;
     #rem01043@#4 = 0917;  ||-LIQ19
     |LEE 101#rem01043@.=;
     |SI FSalida = 0;
         |SI #rem01043@#6 > nValor;
              #rem01043@#6 = nValor;
              |GRABA 101#rem01043@.a;
         |FINSI;
         |LIBERA #rem01043@;

         nValor = nValor - #rem01043@#6;
         |SI nValor < 0;  nValor = 0;  |FINSI;
     |FINSI;

     #rem01043@#0 = #refere1@#0;
     #rem01043@#1 = #refere1@#1;
     #rem01043@#2 = #refere1@#2;
     #rem01043@#3 = nComunidad;
     #rem01043@#4 = 0927;  ||-LIQ19
     |LEE 101#rem01043@.=;
     |SI FSalida = 0;
         |SI #rem01043@#6 > nValor;
              #rem01043@#6 = nValor;
              |GRABA 101#rem01043@.a;
         |FINSI;
         |LIBERA #rem01043@;

         nValor = nValor - #rem01043@#6;
         |SI nValor < 0;  nValor = 0;  |FINSI;
     |FINSI;

     #rem01043@#0 = #refere1@#0;
     #rem01043@#1 = #refere1@#1;
     #rem01043@#2 = #refere1@#2;
     #rem01043@#3 = nComunidad;
     #rem01043@#4 = 0939;  ||-LIQ19
     |LEE 101#rem01043@.=;
     |SI FSalida = 0;
         |SI #rem01043@#6 > nValor;
              #rem01043@#6 = nValor;
              |GRABA 101#rem01043@.a;
         |FINSI;
         |LIBERA #rem01043@;

         nValor = nValor - #rem01043@#6;
         |SI nValor < 0;  nValor = 0;  |FINSI;
     |FINSI;

     #rem01043@#0 = #refere1@#0;
     #rem01043@#1 = #refere1@#1;
     #rem01043@#2 = #refere1@#2;
     #rem01043@#3 = nComunidad;
     #rem01043@#4 = 0926;  ||-LIQ19
     |LEE 101#rem01043@.=;
     |SI FSalida = 0;
         |SI #rem01043@#6 > nValor;
              #rem01043@#6 = nValor;
              |GRABA 101#rem01043@.a;
         |FINSI;
         |LIBERA #rem01043@;

         nValor = nValor - #rem01043@#6;
         |SI nValor < 0;  nValor = 0;  |FINSI;
     |FINSI;

     |CIERRA #rem01043@;
|FPRC;

|PROCESO CantabriaAuto;
     |ABRE #rem01043@;
     #rem01043@#0 = #refere1@#0;
     #rem01043@#1 = #refere1@#1;
     #rem01043@#2 = #refere1@#2;
     #rem01043@#3 = nComunidad;
     #rem01043@#4 = 0950;  ||-LIQ19
     |LEE 000#rem01043@.=;
     |SI FSalida ! 0;  |O #rem01043@#12 = 0;
         |CIERRA #rem01043@;
         |ACABA;
     |FINSI;

     nValor = #rem01043@#12;

     #rem01043@#0 = #refere1@#0;
     #rem01043@#1 = #refere1@#1;
     #rem01043@#2 = #refere1@#2;
     #rem01043@#3 = nComunidad;
     #rem01043@#4 = 0956;  ||-LIQ19
     |LEE 101#rem01043@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01043@;
         #rem01043@#0 = #refere1@#0;
         #rem01043@#1 = #refere1@#1;
         #rem01043@#2 = #refere1@#2;
         #rem01043@#3 = nComunidad;
         #rem01043@#4 = 0956;  ||-LIQ19

         |GRABA 101#rem01043@.b;
     |FINSI;

     #rem01043@#6 = nValor;
     |GRABA 101#rem01043@.a;
     |LIBERA #rem01043@;
     |CIERRA #rem01043@;
|FPRC;

|PROCESO QuitaDedu;
     |ABRE #rem01043@;
     #rem01043@#0 = #refere1@#0;
     #rem01043@#1 = #refere1@#1;
     #rem01043@#2 = #refere1@#2;
     #rem01043@#3 = nComunidad;
     #rem01043@#4 = nCasilla;
     |LEE 000#rem01043@.=;
     |SI FSalida ! 0;
         |CIERRA #rem01043@;
         |ACABA;
     |FINSI;

     |SI nValor ] #rem01043@#6;
         nValor = nValor - #rem01043@#6;
         |CIERRA #rem01043@;
         |ACABA;
     |FINSI;

     #rem01043@#0 = #refere1@#0;
     #rem01043@#1 = #refere1@#1;
     #rem01043@#2 = #refere1@#2;
     #rem01043@#3 = nComunidad;
     #rem01043@#4 = nCasilla;
     |LEE 101#rem01043@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01043@;
         #rem01043@#0 = #refere1@#0;
         #rem01043@#1 = #refere1@#1;
         #rem01043@#2 = #refere1@#2;
         #rem01043@#3 = nComunidad;
         #rem01043@#4 = nCasilla;
         |GRABA 101#rem01043@.b;
     |FINSI;

     |SI nValor > 0;
         #rem01043@#6 = nValor;
     |SINO;
         #rem01043@#6 = 0;
         #rem01043@#7 = "";
     |FINSI;

     nValor = 0;

     |GRABA 101#rem01043@.a;
     |LIBERA #rem01043@;
     |CIERRA #rem01043@;

                               nOk = 0;
     |SI #rem01043@#4 = 0968;  nOk = 1;  |FINSI;
     |SI #rem01043@#4 = 1968;  nOk = 1;  |FINSI;

     nRepas = 1;
     |SI nOk = 1;  |HAZ Info_1;  |FINSI;
|FPRC;

|PROCESO CastillaManchaAuto;
     |HAZ TotDedAutonomica;

     |SI nValor < 0;  nValor = 0;  |FINSI;

     ||-LIQ19

     nComunidad = 7;
     nCasilla   = 0957;  |HAZ QuitaDedu;
     nCasilla   = 0963;  |HAZ QuitaDedu;
     nCasilla   = 0965;  |HAZ QuitaDedu;
     nCasilla   = 0958;  |HAZ QuitaDedu;
     nCasilla   = 0959;  |HAZ QuitaDedu;
     nCasilla   = 0960;  |HAZ QuitaDedu;
     nCasilla   = 0961;  |HAZ QuitaDedu;
     nCasilla   = 0967;  |HAZ QuitaDedu;
     nCasilla   = 0968;  |HAZ QuitaDedu;
     nCasilla   = 0962;  |HAZ QuitaDedu;
     nCasilla   = 0964;  |HAZ QuitaDedu;
     nCasilla   = 0966;  |HAZ QuitaDedu;
     nCasilla   = 0969;  |HAZ QuitaDedu;
|FPRC;

|PROCESO CastillaLeonAuto;
     |ABRE #rem01043@;

     ||-LIQ19

     nCasilla  = 0972;  |HAZ LeeValorCasilla;
     aChequeo1 = #rem01043#5;
     nImporte1 = #rem01043#6;

     nCasilla  = 0973;  |HAZ LeeValorCasilla;
     aChequeo2 = #rem01043#5;
     nImporte2 = #rem01043#6;

     nCasilla = 0974;  |HAZ LeeValorCasilla;
     aChequeo3 = #rem01043#5;
     nImporte3 = #rem01043#6;

     |SI aChequeo1 = "S";  |O aChequeo2 = "S"; |O aChequeo3 = "S";
         nValor1 = ((nImporte1 + nImporte2 + nImporte3) * 100) / 10;
         nValor2 = ((#rem01033@#104 + #rem01033@#108) % 10) ! 2;
         |SI nValor1 > nValor2;
             nValor2 = nValor2 % 15;

             |SI nImporte1 ! 0;
                 |SI nImporte1 > nValor2;
                     nImporte1 = nValor2;
                     nValor2   = 0;
                 |SINO;
                     nValor2 = nValor2 - nImporte1;
                 |FINSI;
             |FINSI;

             |SI nImporte2 ! 0;
                 |SI nImporte2 > nValor2;
                     nImporte2 = nValor2;
                     nValor2   = 0;
                 |SINO;
                     nValor2 = nValor2 - nImporte2;
                 |FINSI;
             |FINSI;

             |SI nImporte3 ! 0;
                 nImporte3 = nValor2;
                 nValor2   = 0;
             |FINSI;
         |FINSI;

         |SI nValor2 < 0;
             nImporte1 = 0;
             nImporte2 = 0;
             nImporte3 = 0;
         |FINSI;

         #rem01043@#0 = #refere1@#0;
         #rem01043@#1 = #refere1@#1;
         #rem01043@#2 = #refere1@#2;
         #rem01043@#3 = nComunidad;
         #rem01043@#4 = 0972;  ||-LIQ19
         |LEE 101#rem01043@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01043@;
             #rem01043@#0 = #refere1@#0;
             #rem01043@#1 = #refere1@#1;
             #rem01043@#2 = #refere1@#2;
             #rem01043@#3 = nComunidad;
             #rem01043@#4 = 0987;  ||-LIQ19
             |GRABA 101#rem01043@.b;
         |FINSI;

         #rem01043@#6 = nImporte1;
         |GRABA 101#rem01043@.a;
         |LIBERA #rem01043@;

         #rem01043@#0 = #refere1@#0;
         #rem01043@#1 = #refere1@#1;
         #rem01043@#2 = #refere1@#2;
         #rem01043@#3 = nComunidad;
         #rem01043@#4 = 0973;  ||-LIQ19
         |LEE 101#rem01043@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01043@;
             #rem01043@#0 = #refere1@#0;
             #rem01043@#1 = #refere1@#1;
             #rem01043@#2 = #refere1@#2;
             #rem01043@#3 = nComunidad;
             #rem01043@#4 = 0988;  ||-LIQ19
             |GRABA 101#rem01043@.b;
         |FINSI;

         #rem01043@#6 = nImporte2;
         |GRABA 101#rem01043@.a;
         |LIBERA #rem01043@;

         #rem01043@#0 = #refere1@#0;
         #rem01043@#1 = #refere1@#1;
         #rem01043@#2 = #refere1@#2;
         #rem01043@#3 = nComunidad;
         #rem01043@#4 = 0974;  ||-LIQ19
         |LEE 101#rem01043@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01043@;
             #rem01043@#0 = #refere1@#0;
             #rem01043@#1 = #refere1@#1;
             #rem01043@#2 = #refere1@#2;
             #rem01043@#3 = nComunidad;
             #rem01043@#4 = 0989;  ||-LIQ19
             |GRABA 101#rem01043@.b;
         |FINSI;

         #rem01043@#6 = nImporte3;
         |GRABA 101#rem01043@.a;
         |LIBERA #rem01043@;
     |FINSI;

     |HAZ TotDedAutonomica;

     #rem01043@#0 = #refere1@#0;
     #rem01043@#1 = #refere1@#1;
     #rem01043@#2 = #refere1@#2;
     #rem01043@#3 = nComunidad;
     #rem01043@#4 = 9999;
     |LEE 101#rem01043@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01043@;
         #rem01043@#0 = #refere1@#0;
         #rem01043@#1 = #refere1@#1;
         #rem01043@#2 = #refere1@#2;
         #rem01043@#3 = nComunidad;
         #rem01043@#4 = 9999;
         |GRABA 101#rem01043@.b;
     |FINSI;

     ||-LIQ19

                                              nValor1 = 0;
     nCasilla = 0985;  |HAZ LeeValorCasilla;  nValor1 = nValor1 + nValorCas;
     nCasilla = 0986;  |HAZ LeeValorCasilla;  nValor1 = nValor1 + nValorCas;
     nCasilla = 0987;  |HAZ LeeValorCasilla;  nValor1 = nValor1 + nValorCas;
     nCasilla = 0988;  |HAZ LeeValorCasilla;  nValor1 = nValor1 + nValorCas;
     nCasilla = 0990;  |HAZ LeeValorCasilla;  nValor1 = nValor1 + nValorCas;
     nCasilla = 0991;  |HAZ LeeValorCasilla;  nValor1 = nValor1 + nValorCas;
     nCasilla = 0992;  |HAZ LeeValorCasilla;  nValor1 = nValor1 + nValorCas;
     nCasilla = 0994;  |HAZ LeeValorCasilla;  nValor1 = nValor1 + nValorCas;

     #rem01043@#12 = 0;
     |SI nValor1 ! 0;
         |SI nValor1 [ nValor;
             #rem01043@#12 = nValor1;
         |SINO;
             #rem01043@#12 = nValor;
         |FINSI;
     |FINSI;

     #rem01043@#16 = nValor1 - #rem01043@#12;

     ||-LIQ19
                                              nValor = #rem01043@#12;
     nCasilla = 0970;  |HAZ LeeValorCasilla;  nValor = nValor + nValorCas;
     nCasilla = 0971;  |HAZ LeeValorCasilla;  nValor = nValor + nValorCas;
     nCasilla = 0972;  |HAZ LeeValorCasilla;  nValor = nValor + nValorCas;
     nCasilla = 0973;  |HAZ LeeValorCasilla;  nValor = nValor + nValorCas;
     nCasilla = 0974;  |HAZ LeeValorCasilla;  nValor = nValor + nValorCas;
     nCasilla = 0799;  |HAZ LeeValorCasilla;  nValor = nValor + nValorCas;
     nCasilla = 0975;  |HAZ LeeValorCasilla;  nValor = nValor + nValorCas;
     nCasilla = 0976;  |HAZ LeeValorCasilla;  nValor = nValor + nValorCas;
     nCasilla = 0978;  |HAZ LeeValorCasilla;  nValor = nValor + nValorCas;
     nCasilla = 0979;  |HAZ LeeValorCasilla;  nValor = nValor + nValorCas;
     nCasilla = 0980;  |HAZ LeeValorCasilla;  nValor = nValor + nValorCas;
     nCasilla = 0983;  |HAZ LeeValorCasilla;  nValor = nValor + #rem01043#12;
     nCasilla = 0996;  |HAZ LeeValorCasilla;  nValor = nValor + nValorCas;

     #rem01043@#6  = nValor;
     #rem01043@#13 = nValor;

     ||-LIQ19
     nCasilla = 0983;  |HAZ LeeValorCasilla;

     n0983 = #rem01043#6;
     n0984 = #rem01043#12;

     ||-LIQ19
     nCasilla = 0981;  |HAZ LeeValorCasilla;
     n0981 = #rem01043#6;

     ||-LIQ19
     nCasilla = 0982;  |HAZ LeeValorCasilla;
     n0982 = #rem01043#6;

     n0997 = 0;
     n0998 = 0;
     nValor = n0981 - n0984;
     |SI nValor > 0;
         n0997 = n0982;
         n0998 = n0983;
     |SINO;
         nValor = n0981 - n0984 + n0982;
         |SI nValor > 0;
             n0997 = nValor;
             n0998 = n0983;
         |SINO;
             nValor = n0981 - n0984 + n0982 + n0983;
             |SI nValor > 0;
                 n0998 = nValor;
             |FINSI;
         |FINSI;
     |FINSI;

     #rem01043@#15 = n0997;
     #rem01043@#14 = n0998;

     |GRABA 101#rem01043@.a;
     |LIBERA #rem01043@;
     |CIERRA #rem01043@;

     |SI #rem01043@#6 ! 0;
         nImporte = #rem01043@#6;
         |HAZ GrabaTotal;
     |FINSI;
|FPRC;

|PROCESO LaRiojaAuto;
     ||-LIQ19
     nCasilla = 1063;  |HAZ LeeValorCasilla;
     aChequeo1 = #rem01043#5;
     nImporte1 = #rem01043#6;

     ||-LIQ19
     nCasilla = 1065;  |HAZ LeeValorCasilla;
     aChequeo2 = #rem01043#5;
     nImporte2 = #rem01043#6;

     |SI aChequeo1 = "N";  |Y aChequeo2 = "N";
         |ACABA;
     |FINSI;

     #rem00008#0 = nComunidad;
     #rem00008#1 = 1063;  ||-LIQ19
     |LEE 000#rem00008.=;
     |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

     nImporte = nImporte1 + nImporte2;

     |SI nImporte = 0;  |ACABA;  |FINSI;

     nBase1  = ((nImporte1 * 100) / 3) ! 2;
     nBase2  = ((nImporte2 * 100) / 7) ! 2;
     nValor  = nBase1 + nBase2;
     nLimite = #rem00008#12 - nBaseViv;
     |SI nLimite < 0;  nLimite = 0;  |FINSI;

     |SI nValor > nLimite;
         nValor1 = nValor - nLimite;
         |SI nBase1 ] nValor1;
             nBase1  = nBase1 - nValor1;
             nValor1 = 0;
         |SINO;
             nValor1 = nValor1 - nBase1;
             nBase1  = 0;
             nBase2  = nBase2  - nValor1;
         |FINSI;

         nImporte1 = nBase1 % 3;
         nImporte2 = nBase2 % 7;
         |SI nImporte2 > #rem00008#14;  nImporte2 = #rem00008#14;  |FINSI;
     |FINSI;

     |ABRE #rem01043@;
     #rem01043@#0 = #refere1@#0;
     #rem01043@#1 = #refere1@#1;
     #rem01043@#2 = #refere1@#2;
     #rem01043@#3 = nComunidad;
     #rem01043@#4 = 1087;  ||-LIQ19
     |LEE 101#rem01043@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01043@;
         #rem01043@#0 = #refere1@#0;
         #rem01043@#1 = #refere1@#1;
         #rem01043@#2 = #refere1@#2;
         #rem01043@#3 = nComunidad;
         #rem01043@#4 = 1087;  ||-LIQ19
         |GRABA 101#rem01043@.b;
     |FINSI;

     #rem01043@#6 = nImporte1;
     |GRABA 101#rem01043@.a;
     |LIBERA #rem01043@;

     #rem01043@#0 = #refere1@#0;
     #rem01043@#1 = #refere1@#1;
     #rem01043@#2 = #refere1@#2;
     #rem01043@#3 = nComunidad;
     #rem01043@#4 = 1089;  ||-LIQ19
     |LEE 101#rem01043@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01043@;
         #rem01043@#0 = #refere1@#0;
         #rem01043@#1 = #refere1@#1;
         #rem01043@#2 = #refere1@#2;
         #rem01043@#3 = nComunidad;
         #rem01043@#4 = 1089;  ||-LIQ19
         |GRABA 101#rem01043@.b;
     |FINSI;

     #rem01043@#6 = nImporte2;
     |GRABA 101#rem01043@.a;
     |LIBERA #rem01043@;
     |CIERRA #rem01043@;
|FPRC;

|PROCESO ValenciaAuto;
     |SI n1104 = 1;
         |HAZ TAutonomicas;
         |HAZ TotDedAutonomica;
         eaCasilla = "40-0564-LIQ19"; |HAZ SacaImporte;
         nValor   = nValor - enImporte;

         |SI nValor < 0;  nValor = 0;  |FINSI;

         |ABRE #rem01043@;
         #rem01043@#0 = #refere1@#0;
         #rem01043@#1 = #refere1@#1;
         #rem01043@#2 = #refere1@#2;
         #rem01043@#3 = nComunidad;
         #rem01043@#4 = 1104;  ||-LIQ19
         |LEE 101#rem01043@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01043@;
             #rem01043@#0 = #refere1@#0;
             #rem01043@#1 = #refere1@#1;
             #rem01043@#2 = #refere1@#2;
             #rem01043@#3 = nComunidad;
             #rem01043@#4 = 1104;  ||-LIQ19
             |GRABA 101#rem01043@.b;
         |FINSI;

         #rem01043@#6 = nValor % 10;
         |SI #rem01043@#6 < 0;  #rem01043@#6 = 0;  |FINSI;

         #rem00008#0 = nComunidad;
         #rem00008#1 = 1104;  ||-LIQ19
         |LEE 000#rem00008.=;
         |SI FSalida ! 0;  |DDEFECTO #rem00008;  |FINSI;

         nSuma = 0;
         |SI enConta [ 6;
             |HAZ LeeRentas;
         |SINO;
             |ABRE #rem01033@;
             #rem01033@#0 = #refere1@#0;
             #rem01033@#1 = #refere1@#1;
             #rem01033@#2 = #refere1@#2;
             |LEE 040#rem01033@.=;
             |SI FSalida ! 0;  |DDEFECTO #rem01033@;  |FINSI;
             |CIERRA #rem01033@;

             nTotRen = #rem01033@#63 + #rem01033@#148;
         |FINSI;

         |SI nTotRen > #rem00008#12;   #rem01043@#6 = 0;  |FINSI;

         |GRABA 101#rem01043@.a;
         |LIBERA #rem01043@;
         |CIERRA #rem01043@;
     |FINSI;

     |HAZ TAutonomicas;
     |HAZ TotDedAutonomica;

     eaCasilla = "40-0564-LIQ19"; |HAZ SacaImporte;
     nValor   = nValor - enImporte;

     |SI nValor < 0;  nValor = 0;  |FINSI;

     |ABRE #rem01043@;
     #rem01043@#0 = #refere1@#0;
     #rem01043@#1 = #refere1@#1;
     #rem01043@#2 = #refere1@#2;
     #rem01043@#3 = nComunidad;
     #rem01043@#4 = 1114;  ||-LIQ19
     |LEE 101#rem01043@.=;
     |SI FSalida = 0;
         #rem01043@#13 = 0;
         #rem01043@#16 = 0;
         #rem01043@#6  = 0;

         |SI #rem01043@#12 ! 0;
             |SI #rem01043@#12 > nValor;
                 #rem01043@#13 = nValor;
             |SINO;
                 #rem01043@#13 = #rem01043@#12;
             |FINSI;
         |FINSI;

         nValor = nValor - #rem01043@#13;
         |SI #rem01043@#15 ! 0;
             |SI #rem01043@#15 > nValor;
                 #rem01043@#16 = nValor;
             |SINO;
                 #rem01043@#16 = #rem01043@#15;
             |FINSI;
         |FINSI;

         #rem01043@#14 = (N\ #rem01043@#12 - #rem01043@#13);
         #rem01043@#17 = (N\ #rem01043@#15 - #rem01043@#16);

         #rem01043@#6  = (N\ #rem01043@#13 + #rem01043@#16);

         |GRABA 101#rem01043@.a;
     |FINSI;

     |LIBERA #rem01043@;
     |CIERRA #rem01043@;

     |HAZ TAutonomicas;
|FPRC;

|PROCESO CalculaAnexoB;
     aDef    = eaPathDef + "rem01043.mas";
     |CARGA_DEF aDef, rem01043@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01043@#"zdat1043"#;  |FINSI;

     aDef    = eaPathDef + "rem01041.mas";
     |CARGA_DEF aDef, rem01041@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |DESCARGA_DEF #rem01043@;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01041@#"zdat1041"#;  |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, rem01033@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |DESCARGA_DEF #rem01041@;
         |DESCARGA_DEF #rem01043@;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01033@#"zdat1033"#;  |FINSI;

     aDef    = eaPathDef + "rem01026.mas";
     |CARGA_DEF aDef, rem01026@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |DESCARGA_DEF #rem01033@;
         |DESCARGA_DEF #rem01041@;
         |DESCARGA_DEF #rem01043@;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01026@#"zdat1026"#;  |FINSI;

     aDef    = eaPathDef + "rem01018.mas";
     |CARGA_DEF aDef, rem01018@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |DESCARGA_DEF #rem01026@;
         |DESCARGA_DEF #rem01033@;
         |DESCARGA_DEF #rem01041@;
         |DESCARGA_DEF #rem01043@;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01018@#"zdat1018"#;  |FINSI;

     aDef    = eaPathDef + "rem01040.mas";
     |CARGA_DEF aDef, rem01040@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |DESCARGA_DEF #rem01026@;
         |DESCARGA_DEF #rem01033@;
         |DESCARGA_DEF #rem01041@;
         |DESCARGA_DEF #rem01043@;
         |DESCARGA_DEF #rem01018@;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01040@#"zdat1040"#;  |FINSI;

     |ABRE #rem01041@;
     #rem01041@#0 = #refere1@#0;
     #rem01041@#1 = #refere1@#1;
     #rem01041@#2 = #refere1@#2;
     |LEE 040#rem01041@.=;
     |SI FSalida ! 0;  |DDEFECTO #rem01041@;  |FINSI;
     |CIERRA #rem01041@;

     nBaseViv = #rem01041@#55 + #rem01041@#56 + #rem01041@#57 + #rem01041@#58;
     nBaseViv = nBaseViv + #rem01041@#59 + #rem01041@#60 + #rem01041@#61 + #rem01041@#62;
     nCasiB   = #rem01041@#48;
     nAcumVal = 0;
     n1104    = 0;
     n0948    = 0;

     |ABRE #rem00008;
     |ABRE #rem01040@;

     nComunidad = 2;  |BUCLE rem01043;

     |ABRE #rem01033@;
     #rem01033@#0 = #refere1@#0;
     #rem01033@#1 = #refere1@#1;
     #rem01033@#2 = #refere1@#2;
     |LEE 040#rem01033@.=;
     |SI FSalida ! 0;  |DDEFECTO #rem01033@;  |FINSI;
     |CIERRA #rem01033@;

     |ABRE #rem01026@;
     #rem01026@#0 = #refere1@#0;
     #rem01026@#1 = #refere1@#1;
     #rem01026@#2 = #refere1@#2;
     |LEE 040#rem01026@.=;
     |SI FSalida ! 0;  |DDEFECTO #rem01026@;  |FINSI;
     |CIERRA #rem01026@;

     |ABRE #rem01018@;
     #rem01018@#0 = #refere1@#0;
     #rem01018@#1 = #refere1@#1;
     #rem01018@#2 = #refere1@#2;
     |LEE 040#rem01018@.=;
     |SI FSalida ! 0;  |DDEFECTO #rem01018@;  |FINSI;
     |CIERRA #rem01018@;

     nComunidad = 1;  |BUCLE rem01043;
     nComunidad = 3;  |BUCLE rem01043;
     nComunidad = 4;  |BUCLE rem01043;
     nComunidad = 5;  |BUCLE rem01043;   |HAZ CanariasAuto;
     nComunidad = 6;  |BUCLE rem01043;   |HAZ CantabriaAuto;
     nComunidad = 7;  |BUCLE rem01043;   |HAZ CastillaManchaAuto;
     nComunidad = 8;  |BUCLE rem01043;   |HAZ CastillaLeonAuto;
     nComunidad = 9;  |BUCLE rem01043;
     nComunidad = 10; |BUCLE rem01043;
     nComunidad = 11; |BUCLE rem01043;
     nComunidad = 12; |BUCLE rem01043;
     nComunidad = 13; |BUCLE rem01043;
     nComunidad = 16; |BUCLE rem01043;   |HAZ LaRiojaAuto;
     nComunidad = 17; |BUCLE rem01043;   |HAZ ValenciaAuto;

     |HAZ TAutonomicas;

     |CIERRA #rem01040@;
     |CIERRA #rem00008;

     |DESCARGA_DEF #rem01040@;
     |DESCARGA_DEF #rem01018@;
     |DESCARGA_DEF #rem01026@;
     |DESCARGA_DEF #rem01033@;
     |DESCARGA_DEF #rem01041@;
     |DESCARGA_DEF #rem01043@;
|FPRC;
