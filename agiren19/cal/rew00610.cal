|FICHEROS;
     rew00610,MANTE;
|FIN;

|VARIABLES;
     nCmp                = 0;
     nTot                = 0;
     nAny                = 0;

     aAlfa               = "";

     &enVta              = 0;
     &enGan              = 0;
     &enPer              = 0;
|FIN;

|PROCESO T12w610;  |TIPO 12;
     nTot = #rew00610#0 + #rew00610#4  + #rew00610#8 + #rew00610#12;
     nTot = nTot        + #rew00610#16 + #rew00610#19;

     |SI nTot = enVta;
         |ACABA;
     |FINSI;

     |MENAV "0000La suma de importes introducidos debe ser igual al valor de la venta";
     |ERROR;
     |POSICIONATE #rew00610#4;
|FPRC;

|PROCESO Tot610;  |TIPO 0;
     #rew00610#5  = 0;
     #rew00610#6  = 0;
     #rew00610#9  = 0;
     #rew00610#10 = 0;
     #rew00610#13 = 0;
     #rew00610#14 = 0;
     #rew00610#17 = 0;
     #rew00610#18 = 0;
     #rew00610#20 = 0;
     #rew00610#21 = 0;

     |SI #rew00610#4  ! 0;
         |SI enGan > 0;
             #rew00610#5  = (enGan * #rew00610#4) /  enVta;
         |FINSI;

         |SI enPer > 0;
             #rew00610#6  = (enPer * #rew00610#4) /  enVta;
         |FINSI;
     |FINSI;

     |SI #rew00610#8  ! 0;
         |SI enGan > 0;
             #rew00610#9  = (enGan * #rew00610#8) /  enVta;
         |FINSI;

         |SI enPer > 0;
             #rew00610#10 = (enPer * #rew00610#8) /  enVta;
         |FINSI;
     |FINSI;

     |SI #rew00610#12 ! 0;
         |SI enGan > 0;
             #rew00610#13 = (enGan * #rew00610#12) /  enVta;
         |FINSI;

         |SI enPer > 0;
             #rew00610#14 = (enPer * #rew00610#12) /  enVta;
         |FINSI;
     |FINSI;

     |SI #rew00610#16 ! 0;
         |SI enGan > 0;
             #rew00610#17 = (enGan * #rew00610#16) /  enVta;
         |FINSI;

         |SI enPer > 0;
             #rew00610#18 = (enPer * #rew00610#16) /  enVta;
         |FINSI;
     |FINSI;

     |SI #rew00610#19 ! 0;
         |SI enGan > 0;
             #rew00610#20 = (enGan * #rew00610#19) /  enVta;
         |FINSI;

         |SI enPer > 0;
             #rew00610#21 = (enPer * #rew00610#19) /  enVta;
         |FINSI;
     |FINSI;

     |PINTA #rew00610#5;
     |PINTA #rew00610#6;
     |PINTA #rew00610#9;
     |PINTA #rew00610#10;
     |PINTA #rew00610#13;
     |PINTA #rew00610#14;
     |PINTA #rew00610#17;
     |PINTA #rew00610#18;
     |PINTA #rew00610#20;
     |PINTA #rew00610#21;
|FPRC;

|PROCESO T0Any;  |TIPO 0;
     |C_M #rew00610#Campo#, 0, aAlfa;
     |SI aAlfa = "N";  |ACABA;  |FINSI;

     nAny = #rew00610#Campo#;
     |SI nAny [ 2019;
         |MENAV "0000A¤o imputaci¢n incorrecto";
         |ERROR;
     |FINSI;
|FPRC;

|PROCESO T0C1w610;  |TIPO 0;
     |SI #rew00610#0 = enVta;
         |PDEFECTO #rew00610, 1, 22;
         |ACABA;
     |FINSI;

     nAny        = 2019 + #rew00610#1;
     #rew00610#2 = nAny;
     |PINTA #rew00610#2;

     |PARA nCmp = 7;  |SI nCmp [ 21;  |HACIENDO nCmp = nCmp + 1;
           |C_M #rew00610#nCmp#, 1, "N";
     |SIGUE;

     #rew00610#3  = "2020";

     |SI #rew00610#1 ] 2;
         #rew00610#7 = "2021";

         |C_M #rew00610#7, 1, "S";
         |C_M #rew00610#8, 1, "S";
     |SINO;
         #rew00610#7  = "";
         #rew00610#8  = 0;
         #rew00610#9  = 0;
         #rew00610#10 = 0;
     |FINSI;

     |SI #rew00610#1 ] 3;
         #rew00610#11 = "2022";

         |C_M #rew00610#11, 1, "S";
         |C_M #rew00610#12, 1, "S";
     |SINO;
         #rew00610#11 = "";
         #rew00610#12 = 0;
         #rew00610#13 = 0;
         #rew00610#14 = 0;
     |FINSI;

     |SI #rew00610#1 ] 4;
         #rew00610#15 = "2023";

         |C_M #rew00610#15, 1, "S";
         |C_M #rew00610#16, 1, "S";
     |SINO;
         #rew00610#15 = "";
         #rew00610#16 = 0;
         #rew00610#17 = 0;
         #rew00610#18 = 0;
     |FINSI;

     |SI #rew00610#1 ] 5;
         |C_M #rew00610#19, 1, "S";
     |SINO;
         #rew00610#19 = 0;
         #rew00610#20 = 0;
         #rew00610#21 = 0;
     |FINSI;

     |PARA nCmp = 3;  |SI nCmp [ 21;  |HACIENDO nCmp = nCmp + 1;
           |PINTA #rew00610#nCmp#;
     |SIGUE;
|FPRC;

|PROCESO T0C0w610;  |TIPO 0;
     |SI #rew00610#0 > enVta;
         |MENAV "0000Importe cobrado mayor que el importe venta";
         |ERROR;
     |FINSI;

     |SI #rew00610#0 = enVta;
         |PDEFECTO #rew00610, 1, 22;
         |PTEC 806;
     |FINSI;
|FPRC;
