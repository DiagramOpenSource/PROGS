|FICHEROS;
     rey00005;
     reacceso;
     rem00100;   || datos personales (opcion 0)
     rem00101;
     rem00901;
     rem01001;
     rem01002;
     rew00002;

     &fichero@;
     &fichero2@;
|FIN;

|VARIABLES;
     &aAsigna    = "";
     &aIdenti    = "";
     &aAbre1     = "";
     &aAbre2     = "";
     &aIPRemoto  = "";
     &aOrigen    = "";
     &aDestino   = "";
     &aPathDocu  = "";
     &aAlfa      = "";
     &aDocumento = "";
     &aAlfa1     = "";
     &aAlfa2     = "";
     &aAlfa3     = "";
     &aPathRenta = "";
     &aDef       = "";
     &aLen       = "";
     &aImpor1    = "";
     &aImpor2    = "";
     &aImpor3    = "";
     &aImpor4    = "";
     &aImporte   = "";
     &aBloque    = "";
     &aFichero   = "";
     &aCaracter  = "";
     &aCadena    = "";

     &nContador     = 0;
     &nOpcion       = 0;
     &nCabecera     = 0;
     &nSubCabecera  = 0;
     &nImporte      = 0;
     &nImporte1     = 0;
     &nImporte2     = 0;
     &nLen          = 0;
     &nWord         = 0;
     &nWord1        = 0;
     &nWord2        = 0;
     &nCampo        = 0;
     &nCampoS       = 0;
     &nSwAlguno     = 0;
     &nSwLiqui      = 0;
     &nLinea        = 0;
     &nBloque       = 0;
     &nHay          = 0;
     &nPos          = 0;
     &nPaso         = 0;

     {39}&aCarac    = "";

     &enCanti      = 0;
     &enSwTrata    = 0;
     &eaMoneda     = "";
     &eaImporte    = "";
     &eaUnidadBasico  = "";
|FIN;

|PROCESO Seleccion; |TIPO 0;
     |SI #rey00005#0 = "S";
         |CAMPO_MODIFICA #rey00005#01, 1, "S";
         |CAMPO_MODIFICA #rey00005#02, 1, "S";

         |PARA nCampo = 3; |SI nCampo [ 32; |HACIENDO nCampo = nCampo + 1;
               #rey00005#nCampo# = 0; |PINTA #rey00005#nCampo#;
               |CAMPO_MODIFICA #rey00005#nCampo#, 1, "N";
         |SIGUE;
     |SINO;
         #rey00005#1 = 00001; |PINTA #rey00005#1;    |CAMPO_MODIFICA #rey00005#01, 1, "N";
         #rey00005#2 = 99999; |PINTA #rey00005#2;    |CAMPO_MODIFICA #rey00005#02, 1, "N";

         |PARA nCampo = 3; |SI nCampo [ 32; |HACIENDO nCampo = nCampo + 1;
               |CAMPO_MODIFICA #rey00005#nCampo#, 1, "S";
         |SIGUE;
     |FINSI;
|FPRC;

|PROCESO rem00020;
     |SI nCabecera = 0;
         aAsigna = " RENDIMIENTOS DEL TRABAJO";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     aAsigna   = "Discapacitado Activo ........: " + #fichero@#29;
     |HAZ Asigna;

     aAsigna   = "- Ingresos Integros";
     nImporte  = #fichero@#6 + #fichero@#7 + #fichero@#12 + #fichero@#16;
     |HAZ FiltroImpre;

     aAsigna   = "     Entidad Pagadora .......: " + #fichero@#5;
     nImporte  = #fichero@#6 + #fichero@#7;
     |HAZ FiltroImpre;

     aAlfa1    = "     Retenciones ............: ";
     nImporte  = #fichero@#6;
     |HAZ ConverAyN;

     aAlfa1    = "     Retribuciones dinerarias: ";
     nImporte  = #fichero@#7;
     |HAZ ConverAyN;

     aAsigna   = "     Concepto en Especie ....: " + #fichero@#8;
     nImporte  = #fichero@#9 + #fichero@#10 + #fichero@#11 + #fichero@#12;
     |HAZ FiltroImpre;

     aAlfa1    = "     Valoracion en Especie ..: ";
     nImporte  = #fichero@#9;
     |HAZ ConverAyN;

     aAlfa1    = "     Ingreso a Cuenta Especie: ";
     nImporte  = #fichero@#10;
     |HAZ ConverAyN;

     aAlfa1    = "     Ingr.a Cta.Reper.Especie: ";
     nImporte  = #fichero@#11;
     |HAZ ConverAyN;

     aAlfa1    = "     Total en Especie .......: ";
     nImporte  = #fichero@#12;
     |HAZ ConverAyN;

     aAsigna   = "     Entidad Fondo Pensiones : " + #fichero@#13;
     nImporte  = #fichero@#16;
     |HAZ FiltroImpre;

     aAlfa1    = "     Planes de Pensiones ....: ";
     nImporte  = #fichero@#16;
     |HAZ ConverAyN;

     aAsigna   = "Procedentes del Extranjero ..: " + #fichero@#30;
     nImporte  = #fichero@#6 + #fichero@#7 + #fichero@#12 + #fichero@#16;
     |HAZ FiltroImpre;

     aAsigna   = "";
     nImporte  = #fichero@#6 + #fichero@#7 + #fichero@#12 + #fichero@#16;
     |HAZ FiltroImpre;

     aAsigna   = "- Reducciones especiales (art.17.2 Ley 40/1998)";
     nImporte  = #fichero@#28 + #fichero@#18;
     |HAZ FiltroImpre;

     aAlfa1    = "     Importe Irregular ......: ";
     nImporte  = #fichero@#28;
     |HAZ ConverAyN;

     aAlfa1    = "     Numero de ejercicios ...: ";
     nImporte  = #fichero@#27;
     |HAZ ConverAyN;

     aAlfa1    = "     Importe Reduccion ......: ";
     nImporte1 = #fichero@#17;
     nImporte2 = #fichero@#18;
     |HAZ ConverAyNN;

     aAsigna   = "";
     nImporte  = #fichero@#28 + #fichero@#18;
     |HAZ FiltroImpre;

     aAsigna   = "- Gastos Deducibles";
     nImporte  = #fichero@#19 + #fichero@#20 + #fichero@#21 + #fichero@#22 + #fichero@#23;
     |HAZ FiltroImpre;

     aAlfa1    = "     S.Social o Mutualidades : ";
     nImporte  = #fichero@#19;
     |HAZ ConverAyN;

     aAlfa1    = "     Cuotas sast.o Sindicatos: ";
     nImporte  = #fichero@#20;
     |HAZ ConverAyN;

     aAlfa1    = "     Cuotas sast.o Co.Profes.: ";
     nImporte  = #fichero@#21;
     |HAZ ConverAyN;

     aAlfa1    = "     Gastos defensa juridica : ";
     nImporte  = #fichero@#22;
     |HAZ ConverAyN;

     aAlfa1    = "     Total de Gastos ........: ";
     nImporte  = #fichero@#23;
     |HAZ ConverAyN;

     aAsigna   = "";
     nImporte  = #fichero@#19 + #fichero@#20 + #fichero@#21 + #fichero@#22 + #fichero@#23;
     |HAZ FiltroImpre;

     aAlfa1    = "RENDIMIENTO NETO ............: ";
     nImporte  = #fichero@#24;
     |HAZ ConverAyN;

     aAlfa1    = "RENDIMIENTO NETO REDUCIDO ...: ";
     nImporte  = #fichero@#37;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO Alquiler;
     aAsigna = "";
     |HAZ Asigna;

     aAsigna = "ALQUILERES";
     |HAZ Asigna;

     aAsigna   = "Atribucion de rentas ........: " + #fichero@#137;
     |HAZ Asigna;

     aAsigna   = "NIF entidad .................: " + #fichero@#138;
     |HAZ Asigna;

     aAsigna   = "Es un NIF o CIF .............: " + #fichero@#145;
     |HAZ Asigna;

     aAsigna   = "% Participacion .............: " + #fichero@#139;
     |HAZ Asigna;

     aAsigna   = "Familiares S/N ..............: " + #fichero@#36;
     |HAZ Asigna;

     aAlfa1    = "Retenciones ............... " + #fichero@#46 + ": ";
     nImporte  = #fichero@#47;
     |HAZ ConverAyN;

     aAsigna   = "";
     |HAZ Asigna;

     aAsigna   = "- Ingresos";
     nImporte  = #fichero@#122;
     |HAZ FiltroImpre;

     aAlfa1    = "Importe Alquiler .......... " + #fichero@#37 + ": ";
     nImporte  = #fichero@#38;
     |HAZ ConverAyN;

     aAlfa1    = "Aprovechamiento Propietario " + #fichero@#39 + ": ";
     nImporte  = #fichero@#40;
     |HAZ ConverAyN;

     aAlfa1    = "Otros ingresos ............ " + #fichero@#41 + ": ";
     nImporte  = #fichero@#42;
     |HAZ ConverAyN;

     aAlfa1    = "Ingresos irregulares ...... " + #fichero@#43 + ": ";
     nImporte  = #fichero@#44;
     |HAZ ConverAyN;

     aAlfa1    = "Total Ingresos ..............: ";
     nImporte  = #fichero@#122;
     |HAZ ConverAyN;

     aAsigna   = "";
     nImporte  = #fichero@#122;
     |HAZ FiltroImpre;

     aAsigna   = "- Gastos";
     nImporte  = #fichero@#123;
     |HAZ FiltroImpre;

     aAlfa1    = "Gastos pendientes ...........: ";
     nImporte  = #fichero@#140;
     |HAZ ConverAyN;

     aAlfa1    = "Intereses ................. " + #fichero@#48 + ": ";
     nImporte  = #fichero@#22;
     |HAZ ConverAyN;

     aAlfa1    = "I.B.I. .................... " + #fichero@#49 + ": ";
     nImporte  = #fichero@#21;
     |HAZ ConverAyN;

     aAlfa1    = "Otros Tributos ............ " + #fichero@#50 + ": ";
     nImporte  = #fichero@#51;
     |HAZ ConverAyN;

     aAlfa1    = "Primas de Seguros ......... " + #fichero@#52 + ": ";
     nImporte  = #fichero@#53;
     |HAZ ConverAyN;

     aAlfa1    = "Otros Gastos .............. " + #fichero@#56 + ": ";
     nImporte  = #fichero@#57;
     |HAZ ConverAyN;

     aAlfa1    = "Amortizacion Mobiliario .....: ";
     nImporte  = #fichero@#114;
     |HAZ ConverAyN;

     aAlfa1    = "Amortizacion .............. " + #fichero@#59 + ": ";
     nImporte  = #fichero@#115;
     |HAZ ConverAyN;

     aAlfa1    = "Total Amortizacion ..........: ";
     nImporte  = #fichero@#60;
     |HAZ ConverAyN;

     aAlfa1    = "Compensacion Fiscal........ " + #fichero@#54 + ": ";
     nImporte  = #fichero@#55;
     |HAZ ConverAyN;

     aAlfa1    = "Total Gastos ................: ";
     nImporte  = #fichero@#123;
     |HAZ ConverAyN;

     aAsigna   = "";
     nImporte  = #fichero@#123;
     |HAZ FiltroImpre;

     aAlfa1    = "Rendimiento Neto ............: ";
     nImporte  = #fichero@#61;
     |HAZ ConverAyN;

     aAsigna   = "";
     nImporte  = #fichero@#61;
     |HAZ FiltroImpre;

     aAsigna   = "Reduccion 100 % .............: " + #fichero@#132
     |HAZ Asigna;

     aAsigna   = "Porcentaje ..................: " + #fichero@#133;
     |HAZ Asigna;

     aAlfa1    = "Reduccion arrendamiento .....: ";
     nImporte  = #fichero@#142;
     |HAZ ConverAyN;

     aAsigna   = "";
     nImporte  = #fichero@#142;
     |HAZ FiltroImpre;
|FPRC;

|PROCESO Venta;
     aAsigna = "";
     |HAZ Asigna;

     aAsigna = "VENTA";
     |HAZ Asigna;

     aAsigna   = "Mejora 1";
     nImporte  = #fichero@#79 + #fichero@#80 + #fichero@#81 + #fichero@#82;
     |HAZ FiltroImpre;

     aAsigna   = "Fecha Mejora ................: " + #fichero@#77;
     nImporte  = #fichero@#79 + #fichero@#80 + #fichero@#81 + #fichero@#82;
     |HAZ FiltroImpre;

     aAsigna   = "Descripcion Mejora ..........: " + #fichero@#78;
     nImporte  = #fichero@#79 + #fichero@#80 + #fichero@#81 + #fichero@#82;
     |HAZ FiltroImpre;

     aAlfa1    = "Importe Mejora ..............: ";
     nImporte  = #fichero@#79;
     |HAZ ConverAyN;

     aAlfa1    = "Gastos Mejora ...............: ";
     nImporte  = #fichero@#80;
     |HAZ ConverAyN;

     aAlfa1    = "Amortizacion Mejora .........: ";
     nImporte  = #fichero@#81;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Adquisicion Mejora ....: ";
     nImporte  = #fichero@#82;
     |HAZ ConverAyN;

     aAsigna   = "Mejora 2";
     nImporte  = #fichero@#85 + #fichero@#86 + #fichero@#87 + #fichero@#88;
     |HAZ FiltroImpre;

     aAsigna   = "Fecha Mejora ................: " + #fichero@#83;
     nImporte  = #fichero@#85 + #fichero@#86 + #fichero@#87 + #fichero@#88;
     |HAZ FiltroImpre;

     aAsigna   = "Descripcion Mejora ..........: " + #fichero@#84;
     nImporte  = #fichero@#85 + #fichero@#86 + #fichero@#87 + #fichero@#88;
     |HAZ FiltroImpre;

     aAlfa1    = "Importe Mejora ..............: ";
     nImporte  = #fichero@#85;
     |HAZ ConverAyN;

     aAlfa1    = "Gastos Mejora ...............: ";
     nImporte  = #fichero@#86;
     |HAZ ConverAyN;

     aAlfa1    = "Amortizacion Mejora .........: ";
     nImporte  = #fichero@#87;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Adquisicion Mejora ....: ";
     nImporte  = #fichero@#88;
     |HAZ ConverAyN;

     aAsigna   = "Mejora 3";
     nImporte  = #fichero@#91 + #fichero@#92 + #fichero@#93 + #fichero@#94;
     |HAZ FiltroImpre;

     aAsigna   = "Fecha Mejora ................: " + #fichero@#89;
     nImporte  = #fichero@#91 + #fichero@#92 + #fichero@#93 + #fichero@#94;
     |HAZ FiltroImpre;

     aAsigna   = "Descripcion Mejora ..........: " + #fichero@#90;
     nImporte  = #fichero@#91 + #fichero@#92 + #fichero@#93 + #fichero@#94;
     |HAZ FiltroImpre;

     aAlfa1    = "Importe Mejora ..............: ";
     nImporte  = #fichero@#91;
     |HAZ ConverAyN;

     aAlfa1    = "Gastos Mejora ...............: ";
     nImporte  = #fichero@#92;
     |HAZ ConverAyN;

     aAlfa1    = "Amortizacion Mejora .........: ";
     nImporte  = #fichero@#93;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Adquisicion Mejora ....: ";
     nImporte  = #fichero@#94;
     |HAZ ConverAyN;

     aAsigna   = "";
     nImporte  = #fichero@#79   + #fichero@#80 + #fichero@#81 + #fichero@#82;
     nImporte  = nImporte + #fichero@#85 + #fichero@#86 + #fichero@#87 + #fichero@#88;
     nImporte  = nImporte + #fichero@#91 + #fichero@#92 + #fichero@#93 + #fichero@#94;
     |HAZ Asigna;

     aAlfa1    = "Valor Adquisicion Actual ....: ";
     nImporte  = #fichero@#64;
     |HAZ ConverAyN;

     aAlfa1    = "Amortizacion ................: ";
     nImporte  = #fichero@#66;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Adquisicion ...........: ";
     nImporte  = #fichero@#67;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Venta .................: ";
     nImporte  = #fichero@#69;
     |HAZ ConverAyN;

     aAlfa1    = "Gasto de Venta ..............: ";
     nImporte  = #fichero@#70;
     |HAZ ConverAyN;

     aAlfa1    = "Valor de Enajenacion ........: ";
     nImporte  = #fichero@#71;
     |HAZ ConverAyN;

     aAlfa1    = "Numero de Ejercicios ........: ";
     nImporte  = #fichero@#72;
     |HAZ ConverAyD;

     aAsigna   = "Diferencia negativa";
     nImporte  = #fichero@#146 + #fichero@#147;
     |HAZ FiltroImpre;

     aAlfa1    = "Obtenida ....................: ";
     nImporte  = #fichero@#146;
     |HAZ ConverAyN;

     aAlfa1    = "Imputable ...................: ";
     nImporte  = #fichero@#147;
     |HAZ ConverAyN;

     aAsigna   = "Diferencia positiva";
     nImporte  = #fichero@#75;
     |HAZ FiltroImpre;

     aAlfa1    = "Reduccion 50% D.A.37 ........: ";
     nImporte  = #fichero@#72;
     |HAZ ConverAyN;

     aAlfa1    = "Reinvertido 2019 R.vitalicias: ";
     nImporte  = #fichero@#148;
     |HAZ ConverAyN;

     aAlfa1    = "Reinversion 2019 R.vitalicias: ";
     nImporte  = #fichero@#149;
     |HAZ ConverAyN;

     aAlfa1    = "V.transmision R.vitalicias ..: ";
     nImporte  = #fichero@#150;
     |HAZ ConverAyN;

     aAlfa1    = "Reinversion ejercicio .......: ";
     nImporte  = #fichero@#109;
     |HAZ ConverAyN;

     aAlfa1    = "Reinversion 2 a¤os siguientes: ";
     nImporte  = #fichero@#110;
     |HAZ ConverAyN;

     aAlfa1    = "Capital pdte. de amortizacion: ";
     nImporte  = #fichero@#111;
     |HAZ ConverAyN;

     aAlfa1    = "V.transmision viv.habitual ..: ";
     nImporte  = #fichero@#107;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia exenta viv.habitual : ";
     nImporte  = #fichero@#152;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia no exenta ..........: ";
     nImporte  = #fichero@#74;
     |HAZ ConverAyN;

     aAlfa1    = "Valor transmision D.T.9 .....: ";
     nImporte  = #fichero@#153;
     |HAZ ConverAyN;

     aAlfa1    = "Parte ganancia red.D.T.9 ....: ";
     nImporte  = #fichero@#154;
     |HAZ ConverAyN;

     aAlfa1    = "Numero de a¤os ..............: ";
     nImporte  = #fichero@#72;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion aplicable D.T.9 ...: ";
     nImporte  = #fichero@#155;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia reducida ...........: ";
     nImporte  = #fichero@#75;
     |HAZ ConverAyN;

     aAlfa1    = "Cobrado en el 2019 ..........: ";
     nImporte  = #fichero@#108;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia reducida imputable .: ";
     nImporte  = #fichero@#76;
     |HAZ ConverAyN;

     aAsigna   = "";
     nImporte  = #fichero@#64 + #fichero@#66 + #fichero@#67 + #fichero@#69 + #fichero@#73 + #fichero@#76;
     |HAZ FiltroImpre;
|FPRC;

|PROCESO Inversion;
     aAsigna   = "";
     nImporte  = #fichero@#95 + #fichero@#96 + #fichero@#97 + #fichero@#98 + #fichero@#99 + #fichero@#100 + #fichero@#101;
     |HAZ FiltroImpre;

     aAsigna   = "INVERSIONES";
     nImporte  = #fichero@#95 + #fichero@#96 + #fichero@#97 + #fichero@#98 + #fichero@#99 + #fichero@#100 + #fichero@#101;
     |HAZ FiltroImpre;

     aAsigna   = "Con financiacion ajena normal";
     nImporte  = #fichero@#95 + #fichero@#96;
     |HAZ FiltroImpre;

     aAlfa1    = "Inversion + intereses <=2 Ej.: ";
     nImporte  = #fichero@#95;
     |HAZ ConverAyN;

     aAlfa1    = "Inversion + intereses > 2 Ej.: ";
     nImporte  = #fichero@#96;
     |HAZ ConverAyN;

     aAsigna   = "Con financiacion ajena Minusvalidos";
     nImporte  = #fichero@#99 + #fichero@#100;
     |HAZ FiltroImpre;

     aAlfa1    = "Inversion + intereses <=2 Ej.: ";
     nImporte  = #fichero@#99;
     |HAZ ConverAyN;

     aAlfa1    = "Inversion + intereses > 2 Ej.: ";
     nImporte  = #fichero@#100;
     |HAZ ConverAyN;

     aAsigna   = "Sin financiacion ajena normal";
     nImporte  = #fichero@#97;
     |HAZ FiltroImpre;

     aAlfa1    = "Inversion + intereses Ejerci.: ";
     nImporte  = #fichero@#97;
     |HAZ ConverAyN;

     aAsigna   = "Sin financiacion ajena Minusvalidos";
     nImporte  = #fichero@#101;
     |HAZ FiltroImpre;

     aAlfa1    = "Inversion + intereses Ejerci.: ";
     nImporte  = #fichero@#101;
     |HAZ ConverAyN;

     aAsigna   = "Construccion o ampliacion Vivienda Habitual";
     nImporte  = #fichero@#98;
     |HAZ FiltroImpre;

     aAlfa1    = "Inversion + intereses Ejerci.: ";
     nImporte  = #fichero@#98;
     |HAZ ConverAyN;

     aAsigna   = "";
     nImporte  = #fichero@#95 + #fichero@#96 + #fichero@#97 + #fichero@#98 + #fichero@#99 + #fichero@#100 + #fichero@#101;
     |HAZ FiltroImpre;
|FPRC;

|PROCESO rem00021;
     |SI nCabecera = 0;
         aAsigna = " RENDIMIENTOS DEL CAPITAL INMOBILIARIO";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Dias Periodo 1 ..............: Habitual " + #fichero@#30 + " / Alquileres " + #fichero@#31 + " / O.Usos " + #fichero@#32;
     |HAZ Asigna;

     aAsigna   = "Dias Periodo 2 ..............: Habitual " + #fichero@#33 + " / Alquileres " + #fichero@#34 + " / O.Usos " + #fichero@#35;
     |HAZ Asigna;

     aAsigna   = "Situacion ...................: " + #fichero@#13;
     |HAZ Asigna;

     aAsigna   = "Situacion. Clave ............: " + #fichero@#125;
     |HAZ Asigna;

     aAsigna   = "Referencia ..................: " + #fichero@#14;
     |HAZ Asigna;

     aAsigna   = "Revisada S/N ................: " + #fichero@#17;
     |HAZ Asigna;

     aAsigna   = "Rust./Urbana/Solar/Local/Otro: " + #fichero@#18;
     |HAZ Asigna;

     aAlfa1    = "Hectareas de Regadio ........: ";
     nImporte  = #fichero@#19;
     |HAZ ConverAyD;

     aAlfa1    = "Hectareas de Secano .........: ";
     nImporte  = #fichero@#20;
     |HAZ ConverAyD;

     |SI #fichero@#68 ! "01.01.0000";
         aAsigna   = "Fecha de Transmision ........: " + #fichero@#68;
         |HAZ Asigna;
     |FINSI;

     |SI #fichero@#25 ! "01.01.0000";
         aAsigna   = "Fecha de Adquisicion ........: " + #fichero@#25;
         |HAZ Asigna;
     |FINSI;

     aAlfa1    = "Precio de Adquisicion .......: ";
     nImporte  = #fichero@#26;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Comprobado ............: ";
     nImporte  = #fichero@#27;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Catastral .............: ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Construccion ..........: ";
     nImporte  = #fichero@#103;
     |HAZ ConverAyN;

     aAlfa1    = "Valor del Terreno ...........: ";
     nImporte  = #fichero@#28;
     |HAZ ConverAyN;

     aAlfa1    = "Gastos de Adquisicion .......: ";
     nImporte  = #fichero@#29;
     |HAZ ConverAyN;

     aAlfa1    = "I.B.I. ......................: ";
     nImporte  = #fichero@#21;
     |HAZ ConverAyN;

     aAlfa1    = "Intereses ...................: ";
     nImporte  = #fichero@#22;
     |HAZ ConverAyN;

     aAlfa1    = "Inversion + Intereses .......: ";
     nImporte  = #fichero@#23;
     |HAZ ConverAyN;

     |SI #fichero@#31 ! 0;  |O #fichero@#34 ! 0;
         |HAZ Alquiler;
     |FINSI;

     |SI #fichero@#24 = "S";
         |HAZ Venta;
     |FINSI;

     |SI #fichero@#23 ! 0;
         |HAZ Inversion;
     |FINSI;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00022;
     |SI nCabecera = 0;
         aAsigna = " RENDIMIENTOS DEL CAPITAL MOBILIARIO";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Participaciones en Fondos Propios (Acciones ...)";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Tipo de Titularidad .........: " + #fichero@#13;
     |HAZ Asigna;

     aAlfa1    = "A.usufructuario .............: ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyD;

     aAsigna   = "Codigo ......................: " + #fichero@#16 + " " + #fichero@#17;
     |HAZ Asigna;

     aAsigna   = "Cuenta ......................: " + #fichero@#18;
     |HAZ Asigna;

     aAsigna   = "Tipo de dividendo ...........: " + #fichero@#29;
     |HAZ Asigna;

     aAsigna   = "Deuda subordinada ...........: " + #fichero@#28;
     |HAZ Asigna;

     aAlfa1    = "Dividendos ..................: ";
     nImporte  = #fichero@#19;
     |HAZ ConverAyN;

     aAlfa1    = "Incremento  ............. " +  #fichero@#20 + " : ";
     nImporte  = #fichero@#21;
     |HAZ ConverAyN;

     aAlfa1    = "Total .......................: ";
     nImporte  = #fichero@#22;
     |HAZ ConverAyN;

     aAlfa1    = "Gastos ......................: ";
     nImporte  = #fichero@#27;
     |HAZ ConverAyN;

     aAlfa1    = "Retencion ............... " +  #fichero@#23 + " : ";
     nImporte  = #fichero@#24;
     |HAZ ConverAyN;

     aAlfa1    = "Deduccion D.Imposicion .. " +  #fichero@#25 + " : ";
     nImporte  = #fichero@#26;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Patrimonial ....... " +  #fichero@#11 + " : ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00023;
     |SI nCabecera = 0;
         aAsigna = " RENDIMIENTOS DEL CAPITAL MOBILIARIO";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Intereses, Cesion a terceros y Otros Rendimientos.";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Tipo de Titularidad .........: " + #fichero@#13;
     |HAZ Asigna;

     aAlfa1    = "A.usufructuario .............: ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyD;

     aAsigna   = "Tipo de Valor ...............: " + #fichero@#19;
     |HAZ Asigna;

     aAsigna   = "Entidad .....................: " + #fichero@#16 + " " + #fichero@#17;
     |HAZ Asigna;

     aAsigna   = "Cuenta ......................: " + #fichero@#18;
     |HAZ Asigna;

     aAlfa1    = "Ingresos brutos .............: ";
     nImporte  = #fichero@#20;
     |HAZ ConverAyN;

     aAsigna   = "Rendimiento Irregular S/N ...: " + #fichero@#24;
     |HAZ Asigna;

     aAlfa1    = "Reduccion ............... " +  #fichero@#25 + " : ";
     nImporte  = #fichero@#26;
     |HAZ ConverAyN;

     aAlfa1    = "Retencion ............... " +  #fichero@#21 + " : ";
     nImporte  = #fichero@#22;
     |HAZ ConverAyN;

     aAlfa1    = "Retencion deducible .........: ";
     nImporte  = #fichero@#36;
     |HAZ ConverAyN;

     aAlfa1    = "Gastos Deducibles ...........: ";
     nImporte  = #fichero@#23;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Compra ................: ";
     nImporte  = #fichero@#27;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Venta .................: ";
     nImporte  = #fichero@#28;
     |HAZ ConverAyN;

     aAlfa1    = "Rendimiento Bruto ...........: ";
     nImporte  = #fichero@#29;
     |HAZ ConverAyN;

     aAsigna   = "Rendimiento Irregular S/N ...: " + #fichero@#33;
     nImporte  = #fichero@#29;
     |HAZ FiltroImpre;

     aAlfa1    = "Reduccion ............... " +  #fichero@#34 + " : ";
     nImporte  = #fichero@#35;
     |HAZ ConverAyN;

     aAlfa1    = "Retencion ............... " +  #fichero@#30 + " : ";
     nImporte  = #fichero@#31;
     |HAZ ConverAyN;

     aAlfa1    = "Gastos Deducibles ...........: ";
     nImporte  = #fichero@#32;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Patrimonial ....... " +  #fichero@#11 + " : ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00024;
     |SI nCabecera = 0;
         aAsigna = " RENDIMIENTOS DEL CAPITAL MOBILIARIO";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Contrato de seguro, Capital diferido.";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Invalidez S/N ...............: " + #fichero@#11;
     |HAZ Asigna;

     aAsigna   = "Ejercicios del Seguro .......: " + #fichero@#12;
     |HAZ Asigna;

     aAsigna   = "Procede aplicar D.T.6 S/N ...: " + #fichero@#13;
     |HAZ Asigna;

     aAsigna   = "Entidad .....................: " + #fichero@#14 + " " + #fichero@#15;
     |HAZ Asigna;

     aAlfa1    = "Primas satisfecha ...........: ";
     nImporte  = #fichero@#16;
     |HAZ ConverAyD;

     aAlfa1    = "Capital percibido ...........: ";
     nImporte  = #fichero@#17;
     |HAZ ConverAyN;

     aAlfa1    = "Rendimiento .................: ";
     nImporte  = #fichero@#18;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion ............... " +  #fichero@#21 + " : ";
     nImporte  = #fichero@#22;
     |HAZ ConverAyN;

     aAlfa1    = "Reductor ................ " +  #fichero@#23 + " : ";
     nImporte  = #fichero@#24;
     |HAZ ConverAyN;

     aAlfa1    = "Retencion ............... " +  #fichero@#19 + " : ";
     nImporte  = #fichero@#20;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00051;
     |SI nCabecera = 0;
         aAsigna = " RENDIMIENTOS DEL CAPITAL MOBILIARIO";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Rentas Vitalicias o Temporales";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Tipo de Titularidad .........: " + #fichero@#13;
     |HAZ Asigna;

     aAlfa1    = "A.usufructuario .............: ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyD;

     aAsigna   = "Entidad .....................: " + #fichero@#16 + " " + #fichero@#17;
     |HAZ Asigna;

     aAsigna   = "Por Entidades de Seguros S/N : " + #fichero@#18;
     |HAZ Asigna;

     aAsigna   = "Renta Vitalicia o Temporal ..: " + #fichero@#19;
     |HAZ Asigna;

     aAsigna   = "Edad del Rentista ...........: " + #fichero@#20;
     |HAZ Asigna;

     aAlfa1    = "Valor financiero ............: ";
     nImporte  = #fichero@#21;
     |HAZ ConverAyN;

     aAlfa1    = "Prima Satisfecha ............: ";
     nImporte  = #fichero@#22;
     |HAZ ConverAyN;

     aAlfa1    = "Rentabilidad ................: ";
     nImporte  = #fichero@#23;
     |HAZ ConverAyN;

     aAlfa1    = "Anualidad ...................: ";
     nImporte  = #fichero@#24;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion Anualidad ..... " +  #fichero@#25 + " : ";
     nImporte  = #fichero@#26;
     |HAZ ConverAyN;

     aAlfa1    = "Retencion ............... " +  #fichero@#28 + " : ";
     nImporte  = #fichero@#29;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Patrimonial ....... " +  #fichero@#11 + " : ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00052;
     |SI nCabecera = 0;
         aAsigna = " RENDIMIENTOS DEL CAPITAL MOBILIARIO";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Deuda Publica";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Tipo de Titularidad .........: " + #fichero@#13;
     |HAZ Asigna;

     aAlfa1    = "A.usufructuario .............: ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyD;

     aAsigna   = "Descripcion .................: " + #fichero@#16;
     |HAZ Asigna;

     aAsigna   = "Fecha de Adquisicion ........: " + #fichero@#17;
     |HAZ Asigna;

     aAsigna   = "Fecha de Transmision ........: " + #fichero@#18;
     |HAZ Asigna;

     aAlfa1    = "Valor de Transmision ........: ";
     nImporte  = #fichero@#19;
     |HAZ ConverAyN;

     aAlfa1    = "Valor de Adquisicion ........: ";
     nImporte  = #fichero@#20;
     |HAZ ConverAyN;

     aAlfa1    = "Diferencia ..................: ";
     nImporte  = #fichero@#21;
     |HAZ ConverAyN;

     aAlfa1    = "Saldo negativo ..............: ";
     nImporte  = #fichero@#22;
     |HAZ ConverAyN;

     aAlfa1    = "Numero de ejercicios ........: ";
     nImporte  = #fichero@#13;
     |HAZ ConverAyD;

     aAlfa1    = "Saldo positivo ..............: ";
     nImporte  = #fichero@#24;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Patrimonial ....... " +  #fichero@#11 + " : ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00060;
     aAsigna   = "Fecha de Adquisicion ........: " + #fichero2@#3;
     |HAZ Asigna;

     aAsigna   = "Fecha de Transmision ........: " + #fichero2@#4;
     |HAZ Asigna;

     aAlfa1    = "Valor de Transmision ........: ";
     nImporte  = #fichero2@#5;
     |HAZ ConverAyN;

     aAlfa1    = "Valor de Adquisicion ........: ";
     nImporte  = #fichero2@#6;
     |HAZ ConverAyN;

     aAlfa1    = "Diferencia ..................: ";
     nImporte  = #fichero2@#7;
     |HAZ ConverAyN;

     aAlfa1    = "Reinvertido 2019 R.vitalicias: ";
     nImporte  = #fichero2@#8;
     |HAZ ConverAyN;

     aAlfa1    = "Reinversion 2019 R.vitalicias: ";
     nImporte  = #fichero2@#9;
     |HAZ ConverAyN;

     aAlfa1    = "V.transmision R.vitalicias ..: ";
     nImporte  = #fichero2@#10;
     |HAZ ConverAyN;

     aAlfa1    = "Red.aplicable renta vitalicia: ";
     nImporte  = #fichero2@#11;
     |HAZ ConverAyN;

     aAlfa1    = "Valor patrimonial ...........: ";
     nImporte  = #fichero2@#12;
     |HAZ ConverAyN;

     aAlfa1    = "Valor transmision D.T.9 .....: ";
     nImporte  = #fichero2@#13;
     |HAZ ConverAyN;

     aAlfa1    = "Red.aplicable D.T.9 .........: ";
     nImporte  = #fichero2@#14;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancias ...................: ";
     nImporte  = #fichero2@#15;
     |HAZ ConverAyN;

     aAlfa1    = "Perdidas ....................: ";
     nImporte  = #fichero2@#16;
     |HAZ ConverAyN;

     aAlfa1    = "Retenciones ............... " + #fichero2@#17 + ": ";
     nImporte  = #fichero2@#18;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|DEFBUCLE rem00060;
     #fichero2@#1003;
     ;
     #fichero@#0, #fichero@#1, 01;
     #fichero@#0, #fichero@#1, 99;
     ;
     NULL, rem00060;
|FIN;

|PROCESO rem00055;
     |SI nCabecera = 0;
         aAsigna = " RENDIMIENTOS DEL CAPITAL MOBILIARIO";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Fondos de inversion colectiva";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Tipo de Titularidad .........: " + #fichero@#13;
     |HAZ Asigna;

     aAlfa1    = "A.usufructuario .............: ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyD;

     aAsigna   = "Descripcion .................: " + #fichero@#16;
     |HAZ Asigna;

     aAsigna   = "N.I.F. .... .................: " + #fichero@#17;
     |HAZ Asigna;

     aAlfa1    = "Valor Patrimonial ....... " +  #fichero@#11 + " : ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;

     |BUCLE rem00060;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00025;
     |SI nCabecera = 0;
         aAsigna = " RENDIMIENTOS DE ACTIVIDADES";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Estimacion Directa";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Actividad Comunera ..........: " + #fichero@#13;
     |HAZ Asigna;

     aAlfa1    = "Porcentaje de Aplicacion ....: ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyD;

     aAsigna   = "Opcion de Cobro y Pago ......: " + #fichero@#17;
     |HAZ Asigna;

     aAsigna   = "Actividad ...................: " + #fichero@#20 + " " + #fichero@#21;
     |HAZ Asigna;

     aAsigna   = "Entidad .....................: " + #fichero@#15 + " / " + #fichero@#16;
     |HAZ Asigna;

     aAsigna   = "Codigo Postal / Domicilio ...: " + (("00" + #fichero@#22) % -102) + (("000" + #fichero@#23) % -103) + " " + #fichero@#24;
     |HAZ Asigna;

     aAsigna   = "- Ingresos Integros";
     nImporte  = #fichero@#29;
     |HAZ FiltroImpre;

     aAlfa1    = "Total de ingresos computables: ";
     nImporte  = #fichero@#29;
     |HAZ ConverAyN;

     aAsigna   = "- Gastos fiscamente deducibles";
     nImporte  = #fichero@#27;
     |HAZ FiltroImpre;

     aAlfa1    = "Total de Gastos Deducibles ..: ";
     nImporte  = #fichero@#27;
     |HAZ ConverAyN;

     aAlfa1    = "Rendimiento Neto ............: ";
     nImporte  = #fichero@#28;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion del 30 por 100 ....: ";
     nImporte  = #fichero@#29;
     |HAZ ConverAyN;

     aAlfa1    = "Rendimiento Neto Reducido ...: ";
     nImporte  = #fichero@#30;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Patrimonial ...........: ";
     nImporte  = #fichero@#12;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00027;
     |SI nCabecera = 0;
         aAsigna = " RENDIMIENTOS DE ACTIVIDADES";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Estimacion Objetiva (Modulos)";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Actividad Comunera ..........: " + #fichero@#14;
     |HAZ Asigna;

     aAlfa1    = "Porcentaje de Aplicacion ....: ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyD;

     aAsigna   = "Actividad ...................: " + #fichero@#17 + " " + #fichero@#20;
     |HAZ Asigna;

     aAsigna   = "Entidad .....................: " + #fichero@#19 + " / " + #fichero@#126;
     |HAZ Asigna;

     aAsigna   = "Codigo Postal / Domicilio ...: " + (("00" + #fichero@#21) % -102) + (("000" + #fichero@#22) % -103) + " " + #fichero@#23;
     |HAZ Asigna;

     aAsigna   = "";
     nImporte  = #fichero@#45 + #fichero@#46 + #fichero@#47 + #fichero@#48 + #fichero@#49 + #fichero@#50 + #fichero@#51;
     |HAZ FiltroImpre;

     aAsigna   = "Definicion              Unidades      Importe   Rdto.Modulo";
     nImporte  = #fichero@#45 + #fichero@#46 + #fichero@#47 + #fichero@#48 + #fichero@#49 + #fichero@#50 + #fichero@#51;
     |HAZ FiltroImpre;

     aAlfa1    = #fichero@#24 + " " + (("           " + #fichero@#31) % -111);
     nImporte1 = #fichero@#38;
     nImporte2 = #fichero@#39;
     |HAZ ConverAyNN;

     aAlfa1    = #fichero@#25 + " " + (("           " + #fichero@#32) % -111);
     nImporte1 = #fichero@#39;
     nImporte2 = #fichero@#46;
     |HAZ ConverAyNN;

     aAlfa1    = #fichero@#26 + " " + (("           " + #fichero@#33) % -111);
     nImporte1 = #fichero@#40;
     nImporte2 = #fichero@#47;
     |HAZ ConverAyNN;

     aAlfa1    = #fichero@#27 + " " + (("           " + #fichero@#34) % -111);
     nImporte1 = #fichero@#41;
     nImporte2 = #fichero@#48;
     |HAZ ConverAyNN;

     aAlfa1    = #fichero@#28 + " " + (("           " + #fichero@#35) % -111);
     nImporte1 = #fichero@#42;
     nImporte2 = #fichero@#49;
     |HAZ ConverAyNN;

     aAlfa1    = #fichero@#29 + " " + (("           " + #fichero@#36) % -111);
     nImporte1 = #fichero@#43;
     nImporte2 = #fichero@#50;
     |HAZ ConverAyNN;

     aAlfa1    = #fichero@#30 + " " + (("           " + #fichero@#37) % -111);
     nImporte1 = #fichero@#44;
     nImporte2 = #fichero@#51;
     |HAZ ConverAyNN;

     aAsigna   = "";
     nImporte  = #fichero@#45 + #fichero@#46 + #fichero@#47 + #fichero@#48 + #fichero@#49 + #fichero@#50 + #fichero@#51;
     |HAZ FiltroImpre;

     aAlfa1    = "Rendimiento Previo ..........: ";
     nImporte  = #fichero@#52;
     |HAZ ConverAyN;

     aAlfa1    = "Por incentivos de empleo ....: ";
     nImporte  = #fichero@#64;
     |HAZ ConverAyN;

     aAlfa1    = "Por incentivos a la inversion: ";
     nImporte  = #fichero@#78;
     |HAZ ConverAyN;

     aAlfa1    = "Rendimiento neto minorado ...: ";
     nImporte  = #fichero@#79;
     |HAZ ConverAyN;

     aAlfa1    = "Quioscos  .............. " + #fichero@#80 + " : ";
     nImporte  = #fichero@#81;
     |HAZ ConverAyN;

     aAlfa1    = "Taxis .................. " + #fichero@#82 + " : ";
     nImporte  = #fichero@#83;
     |HAZ ConverAyN;

     aAlfa1    = "Transportes urbanos .... " + #fichero@#84 + " : ";
     nImporte  = #fichero@#85;
     |HAZ ConverAyN;

     aAlfa1    = "Mercancias ............. " + #fichero@#86 + " : ";
     nImporte  = #fichero@#87;
     |HAZ ConverAyN;

     aAlfa1    = "Empresas peq.dimension . " + #fichero@#88 + " : ";
     nImporte  = #fichero@#89;
     |HAZ ConverAyN;

     aAlfa1    = "Temporada .............. " + #fichero@#91 + " : ";
     nImporte  = #fichero@#92;
     |HAZ ConverAyN;

     aAlfa1    = "Exceso ......................: ";
     nImporte  = #fichero@#94;
     |HAZ ConverAyN;

     aAlfa1    = "Nueva Actividad ........ " + #fichero@#96 + " : ";
     nImporte  = #fichero@#97;
     |HAZ ConverAyN;

     aAlfa1    = "Rendimiento neto de modulos .: ";
     nImporte  = #fichero@#98;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion de caracter general: ";
     nImporte  = #fichero@#108;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion termino Lorcal ....: ";
     nImporte  = #fichero@#110;
     |HAZ ConverAyN;

     aAlfa1    = "Gastos extraordinarios ......: ";
     nImporte  = #fichero@#109;
     |HAZ ConverAyN;

     aAlfa1    = "Otras percepciones empres. ..: ";
     nImporte  = #fichero@#113;
     |HAZ ConverAyN;

     aAlfa1    = "Rendimiento neto actividad ..: ";
     nImporte  = #fichero@#114;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion A.30 Ley 40/1998 ..: ";
     nImporte  = #fichero@#116;
     |HAZ ConverAyN;

     aAlfa1    = "Rendimiento neto reducido ...: ";
     nImporte  = #fichero@#117;
     |HAZ ConverAyN;

     aAlfa1    = "Valor Patrimonial ...........: ";
     nImporte  = #fichero@#11;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00028;
     |SI nCabecera = 0;
         aAsigna = " RENDIMIENTOS DE ACTIVIDADES";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Estimacion Objetiva (Agricolas)";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Actividad Comunera ..........: " + #fichero@#14;
     |HAZ Asigna;

     aAlfa1    = "Porcentaje de Aplicacion ....: ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyD;

     aAsigna   = "Cobro y Pago ................: " + #fichero@#16;
     |HAZ Asigna;

     aAsigna   = "Actividad ...................: " + #fichero@#19 + " " + #fichero@#21;
     |HAZ Asigna;

     aAsigna   = "Entidad .....................: " + #fichero@#20 + " / " + #fichero@#69;
     |HAZ Asigna;

     aAsigna   = "Codigo Postal / Domicilio ...: " + (("00" + #fichero@#22) % -102) + (("000" + #fichero@#23) % -103) + " " + #fichero@#24;
     |HAZ Asigna;

     aAsigna   = "Clave Actividad .............: " + #fichero@#17;
     |HAZ Asigna;

     aAlfa1    = "Total de Ingresos ...........: ";
     nImporte  = #fichero@#25;
     |HAZ ConverAyN;

     aAlfa1    = "Tierras propias .............: ";
     nImporte  = #fichero@#26;
     |HAZ ConverAyN;

     aAlfa1    = "Tierras arrendadas ..........: ";
     nImporte  = #fichero@#27;
     |HAZ ConverAyN;

     aAlfa1    = "Rendimiento neto previo .....: ";
     nImporte  = #fichero@#30;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion gasoleo: 35% precio: ";
     nImporte  = #fichero@#58;
     |HAZ ConverAyN;

     aAlfa1    = "Amortizacion ................: ";
     nImporte  = #fichero@#33;
     |HAZ ConverAyN;

     aAlfa1    = "Rendimiento neto minorado ...: ";
     nImporte  = #fichero@#34;
     |HAZ ConverAyN;

     aAsigna   = "Medios productos ajenos .....: " + #fichero@#35;
     nImporte  = #fichero@#35;
     |HAZ FiltroImpre;

     aAsigna   = "Personal Asalariado .........: " + #fichero@#36;
     nImporte  = #fichero@#36;
     |HAZ FiltroImpre;

     aAsigna   = "Cultivos Tierras Arrendadas .: " + #fichero@#37;
     nImporte  = #fichero@#37;
     |HAZ FiltroImpre;

     aAsigna   = "Piensos adquiridos a terceros: " + #fichero@#38;
     nImporte  = #fichero@#38;
     |HAZ FiltroImpre;

     aAsigna   = "Agricultura ecologica .......: " + #fichero@#54;
     nImporte  = #fichero@#54;
     |HAZ FiltroImpre;

     aAsigna   = "Cultivo tierra regadio ......: " + #fichero@#64;
     nImporte  = #fichero@#54;
     |HAZ FiltroImpre;

     aAsigna   = "Empresas < 9.447,91 .........: " + #fichero@#39;
     nImporte  = #fichero@#39;
     |HAZ FiltroImpre;

     aAsigna   = "Actividades forestales ......: " + #fichero@#55;
     nImporte  = #fichero@#55;
     |HAZ FiltroImpre;

     aAlfa1    = "Rendimiento neto modulo .....: ";
     nImporte  = #fichero@#40;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion 2 por 100 .........: ";
     nImporte  = #fichero@#57;
     |HAZ ConverAyN;

     aAlfa1    = "Diferencia ..................: ";
     nImporte  = #fichero@#44;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion Agricultores Joven.: ";
     nImporte  = #fichero@#48;
     |HAZ ConverAyN;

     aAlfa1    = "Gastos extraordinarios ......: ";
     nImporte  = #fichero@#43;
     |HAZ ConverAyN;

     aAlfa1    = "Rendimiento neto actividad ..: ";
     nImporte  = #fichero@#49;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion Articulo 30 .......: ";
     nImporte  = #fichero@#51;
     |HAZ ConverAyN;

     aAlfa1    = "Rendimiento neto reducido ...: ";
     nImporte  = #fichero@#52;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00031;
     |SI nCabecera = 0;
         aAsigna = " RENDIMIENTOS DE ACTIVIDADES";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Retenciones y Pagos a Cuenta";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     aAsigna   = "Atribucion de Rentas ........: " + #fichero@#17;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAlfa1    = "Pago Fraccionado 1.Periodo ..: ";
     nImporte  = #fichero@#11;
     |HAZ ConverAyN;

     aAlfa1    = "Pago Fraccionado 2.Periodo ..: ";
     nImporte  = #fichero@#12;
     |HAZ ConverAyN;

     aAlfa1    = "Pago Fraccionado 3.Periodo ..: ";
     nImporte  = #fichero@#13;
     |HAZ ConverAyN;

     aAlfa1    = "Pago Fraccionado 4.Periodo ..: ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyN;

     aAlfa1    = "Retenciones .................: ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00058;
     |SI nCabecera = 0;
         aAsigna = " ATRIBUCIONES DE RENTA";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "N.I.F. de la entidad ........: " + #fichero@#12;
     |HAZ Asigna;

     aAsigna   = "Porcentaje de Participacion .: " + #fichero@#11;
     |HAZ Asigna;

     |SI #fichero@#13 = 1;  aAlfa1 = "Capital Mobiliario.                ";  |FINSI;
     |SI #fichero@#13 = 2;  aAlfa1 = "Capital Inmobiliario.              ";  |FINSI;
     |SI #fichero@#13 = 3;  aAlfa1 = "Actividades Economicas.            ";  |FINSI;
     |SI #fichero@#13 = 4;  aAlfa1 = "Ganancias y Perdidas Patrimoniales.";  |FINSI;

     aAsigna   = "Tipo de Atribucion ..........: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#13 = 1;
         aAsigna  = "Capital Mobiliario";
         nImporte  = #fichero@#17 + #fichero@#18 + #fichero@#19 + #fichero@#20 + #fichero@#21 + #fichero@#22;
         |HAZ FiltroImpre;

         aAlfa1    = "Rdto.neto atribuido .........: ";
         nImporte  = #fichero@#17;
         |HAZ ConverAyN;

         aAlfa1    = "Minoraciones ................: ";
         nImporte  = #fichero@#18;
         |HAZ ConverAyN;

         aAlfa1    = "Reducciones .................: ";
         nImporte  = #fichero@#19;
         |HAZ ConverAyN;

         aAlfa1    = "Rdto.neto computable ........: ";
         nImporte  = #fichero@#20;
         |HAZ ConverAyN;

         aAlfa1    = "Rdto.base imponible ahorro ..: ";
         nImporte  = #fichero@#21;
         |HAZ ConverAyN;

         aAlfa1    = "Deuda subordinada ...........: ";
         nImporte  = #fichero@#22;
         |HAZ ConverAyN;
     |FINSI;

     |SI #fichero@#13 = 2;
         aAsigna  = "Capital Inmobiliario";
         nImporte  = #fichero@#23 + #fichero@#24 + #fichero@#25 + #fichero@#26;
         |HAZ FiltroImpre;

         aAlfa1    = "Rdto.neto atribuido .........: ";
         nImporte  = #fichero@#23;
         |HAZ ConverAyN;

         aAlfa1    = "Minoraciones ................: ";
         nImporte  = #fichero@#24;
         |HAZ ConverAyN;

         aAlfa1    = "Reducciones .................: ";
         nImporte  = #fichero@#25;
         |HAZ ConverAyN;

         aAlfa1    = "Rdto.neto computable ........: ";
         nImporte  = #fichero@#26;
         |HAZ ConverAyN;
     |FINSI;

     |SI #fichero@#13 = 3;
         aAsigna  = "Actividades Economicas";
         nImporte  = #fichero@#27 + #fichero@#28 + #fichero@#29 + #fichero@#30;
         |HAZ FiltroImpre;

         aAlfa1    = "Rdto.neto atribuido .........: ";
         nImporte  = #fichero@#27;
         |HAZ ConverAyN;

         aAlfa1    = "Minoraciones ................: ";
         nImporte  = #fichero@#28;
         |HAZ ConverAyN;

         aAlfa1    = "Reducciones .................: ";
         nImporte  = #fichero@#29;
         |HAZ ConverAyN;

         aAlfa1    = "Rdto.neto computable ........: ";
         nImporte  = #fichero@#30;
         |HAZ ConverAyN;
     |FINSI;

     |SI #fichero@#13 = 4;
         aAsigna  = "Ganancias y Perdidas Patrimoniales";
         nImporte  = #fichero@#31 + #fichero@#32 + #fichero@#33 + #fichero@#42 + #fichero@#43 + #fichero@#44;
         |HAZ FiltroImpre;

         aAlfa1    = "Ganancias no derivadas ......: ";
         nImporte  = #fichero@#31;
         |HAZ ConverAyN;

         aAlfa1    = "Perdidas no derivadas .......: ";
         nImporte  = #fichero@#32;
         |HAZ ConverAyN;

         aAlfa1    = "Ganancias derivadas .........: ";
         nImporte  = #fichero@#33;
         |HAZ ConverAyN;

         aAlfa1    = "Rentas vitalicias reinvertido: ";
         nImporte  = #fichero@#34;
         |HAZ ConverAyN;

         aAlfa1    = "Rentas vitalicias  reinvertir: ";
         nImporte  = #fichero@#35;
         |HAZ ConverAyN;

         aAlfa1    = "V.transmision rent.vitalicias: ";
         nImporte  = #fichero@#36;
         |HAZ ConverAyN;

         aAlfa1    = "V.transmision D.T.9 .........: ";
         nImporte  = #fichero@#37;
         |HAZ ConverAyN;

         aAlfa1    = "Ganancia exenta 50% .........: ";
         nImporte  = #fichero@#38;
         |HAZ ConverAyN;

         aAlfa1    = "Ganancia exenta r.vitalicias.: ";
         nImporte  = #fichero@#39;
         |HAZ ConverAyN;

         aAlfa1    = "Parte ganancia D.T.9 ........: ";
         nImporte  = #fichero@#40;
         |HAZ ConverAyN;

         aAlfa1    = "Reduccion aplicable D.T.9 ...: ";
         nImporte  = #fichero@#41;
         |HAZ ConverAyN;

         aAlfa1    = "Ganancia no exenta reducida .: ";
         nImporte  = #fichero@#42;
         |HAZ ConverAyN;

         aAlfa1    = "Ganancia no exenta imputable : ";
         nImporte  = #fichero@#43;
         |HAZ ConverAyN;

         aAlfa1    = "Perdidas patrimoniales ......: ";
         nImporte  = #fichero@#44;
         |HAZ ConverAyN;
     |FINSI;

     aAlfa1    = "Retenciones e ingresos a cta.: ";
     nImporte  = #fichero@#45;
     |HAZ ConverAyN;

     aAlfa1    = "Retencion efectiva s/interes : ";
     nImporte  = #fichero@#46;
     |HAZ ConverAyN;

     aAlfa1    = "Retencion deducib. s/interes : ";
     nImporte  = #fichero@#47;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00032;
     |SI nCabecera = 0;
         aAsigna = "IMPUTACIONES DE AGRUPACIONES DE INTERES ECONOMICO Y UNIONES TEMPORALES DE EMPRESAS";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "N.I.F. de la entidad ........: " + #fichero@#11;
     |HAZ Asigna;

     aAsigna   = "Tipo de entidad / Criterio ..: " + #fichero@#13;
     |HAZ Asigna;

     aAlfa1    = "Base imponible imputada .....: ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyN;

     aAlfa1    = "Ded.inversion empresarial ...: ";
     nImporte  = #fichero@#18;
     |HAZ ConverAyN;

     aAlfa1    = "Ded.creacion de empleo ......: ";
     nImporte  = #fichero@#19;
     |HAZ ConverAyN;

     aAlfa1    = "Ded.obtenida en Ceuta/Melilla: ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAlfa1    = "Ded.doble imp.de dividendos .: ";
     nImporte  = #fichero@#16;
     |HAZ ConverAyN;

     aAlfa1    = "Ded.doble imp.internacional .: ";
     nImporte  = #fichero@#17;
     |HAZ ConverAyN;

     aAlfa1    = "Retenciones e Ingresos a Cta.: ";
     nImporte  = #fichero@#17;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00033;
     |SI nCabecera = 0;
         aAsigna = " TRANSPARENCIA FISCAL INTERNACIONAL ";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Denominacion ....... ........: " + #fichero@#11;
     |HAZ Asigna;

     aAsigna   = "Criterio ....................: " + #fichero@#12;
     |HAZ Asigna;

     aAlfa1    = "Importe renta positiva imput.: ";
     nImporte  = #fichero@#13;
     |HAZ ConverAyN;

     aAlfa1    = "Imp.analogos al I.S. no imp. : ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyN;

     aAlfa1    = "Importe de la Imputacion ....: ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00034;
     |SI nCabecera = 0;
         aAsigna = " DERECHOS DE IMAGEN";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Persona o entidad cesionaria : " + #fichero@#11;
     |HAZ Asigna;

     aAsigna   = "Persona o entidad rel.laboral: " + #fichero@#12;
     |HAZ Asigna;

     aAlfa1    = "Cantidad a imputar en la base: ";
     nImporte  = #fichero@#13;
     |HAZ ConverAyN;

     aAlfa1    = "Impuestos deducibles cuota ..: ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyN;

     aAlfa1    = "Ingresos a cuenta ...........: ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00035;
     |SI nCabecera = 0;
         aAsigna = " INSTITUCIONES DE INVERSION COLECTIVA";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Denominacion ................: " + #fichero@#11;
     |HAZ Asigna;

     aAlfa1    = "Valor liquidativo ...........: ";
     nImporte  = #fichero@#12;
     |HAZ ConverAyN;

     aAlfa1    = "Valor de adquisicion ........: ";
     nImporte  = #fichero@#13;
     |HAZ ConverAyN;

     aAlfa1    = "Importe de la imputacion ....: ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00061;
     |SI nCabecera = 0;
         aAsigna = " PATRIMONIOS PROTEGIDOS DE LAS PERSONAS DISCAPACITADAS";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "NIF o DNI ...................: " + #fichero@#11;
     |HAZ Asigna;

     aAlfa1    = "Excesos pendientes ..........: ";
     nImporte  = #fichero@#13;
     |HAZ ConverAyN;

     aAlfa1    = "Aportaciones realizadas .....: ";
     nImporte  = #fichero@#12;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00053;
     |SI nCabecera = 0;
         aAsigna = " PLANES DE PENSIONES Y MUTUALIDADES";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Descripcion .................: " + #fichero@#11;
     |HAZ Asigna;

     aAsigna   = "Minusvalido S/N .............: " + #fichero@#12;
     |HAZ Asigna;

     aAsigna   = "Regimen General";
     nImporte  = #fichero@#14 + #fichero@#15 + #fichero@#16 + #fichero@#25;
     |HAZ FiltroImpre;

     aAlfa1    = "Dependencia .................: ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyN;

     aAlfa1    = "Excesos anteriores ..........: ";
     nImporte  = #fichero@#27;
     |HAZ ConverAyN;

     aAlfa1    = "Aportacion de la empresa ....: ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAlfa1    = "Aportacion del declarante ...: ";
     nImporte  = #fichero@#16;
     |HAZ ConverAyN;

     aAsigna   = "Deportista profesional S/N ..: " + #fichero@#23;
     nImporte  = #fichero@#14 + #fichero@#15 + #fichero@#16 + #fichero@#25;
     |HAZ FiltroImpre;

     aAsigna   = "Reduccion adicional .........: " + #fichero@#24;
     nImporte  = #fichero@#14 + #fichero@#15 + #fichero@#16 + #fichero@#25;
     |HAZ FiltroImpre;

     aAlfa1    = "Importe manual ..............: ";
     nImporte  = #fichero@#25;
     |HAZ ConverAyN;

     aAsigna   = "Minusvalidos";
     nImporte  = #fichero@#18 + #fichero@#19 + #fichero@#20;
     |HAZ FiltroImpre;

     aAsigna   = "Es el declarante ............: " + #fichero@#13;
     nImporte  = #fichero@#18 + #fichero@#19 + #fichero@#20;
     |HAZ FiltroImpre;

     aAsigna   = "N.I.F. ......................: " + #fichero@#17;
     nImporte  = #fichero@#18 + #fichero@#19 + #fichero@#20;
     |HAZ FiltroImpre;

     aAlfa1    = "Aportacion de la empresa ....: ";
     nImporte  = #fichero@#18;
     |HAZ ConverAyN;

     aAlfa1    = "Aportacion del minusvalido ..: ";
     nImporte  = #fichero@#19;
     |HAZ ConverAyN;

     aAlfa1    = "Aportacion parientes ........: ";
     nImporte  = #fichero@#20;
     |HAZ ConverAyN;

     aAsigna   = "Viene de Rdtos del Trabajo ..: " + #fichero@#21;
     |HAZ Asigna;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00054;
     |SI nCabecera = 0;
         aAsigna = " PENSIONES COMPENSATORIAS Y ANUALIDADES POR ALIMENTOS";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "En favor de hijos S/N .......: " + #fichero@#14;
     |HAZ Asigna;

     aAsigna   = "Apellidos y Nombre ..........: " + #fichero@#11;
     |HAZ Asigna;

     aAsigna   = "N.I.F .......................: " + #fichero@#12;
     |HAZ Asigna;

     aAlfa1    = "Importe satisfecho ..........: ";
     nImporte  = #fichero@#13;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00057;
     |SI nCabecera = 0;
         aAsigna = " GANANCIAS Y PERDIDAS PATRIMONIALES";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Regimen especial de fusiones, escisiones y canje de entidades no residentes";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     aAsigna   = "Numero de operaciones .......: " + #fichero@#5;
     |HAZ Asigna;

     aAsigna   = "No aplicar regimen fiscal ...: " + #fichero@#6;
     |HAZ Asigna;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00036;
     |SI nCabecera = 0;
         aAsigna = " GANANCIAS Y PERDIDAS PATRIMONIALES";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Instituciones de inversion colectiva";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Descripcion .................: " + #fichero@#18;
     |HAZ Asigna;

     aAsigna   = "N.I.F. ......................: " + #fichero@#11;
     |HAZ Asigna;

     aAlfa1    = "Importe global transmisiones : ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAlfa1    = "Transmisiones renta vitalicia: ";
     nImporte  = #fichero@#18;
     |HAZ ConverAyN;

     aAlfa1    = "Transmisiones D.T.9 .........: ";
     nImporte  = #fichero@#19;
     |HAZ ConverAyN;

     aAlfa1    = "Importe global adquisiciones : ";
     nImporte  = #fichero@#20;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancias patrimoniales .....: ";
     nImporte  = #fichero@#21;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancias exentas R.vitalicia: ";
     nImporte  = #fichero@#22;
     |HAZ ConverAyN;

     aAlfa1    = "Parte ganancia D.T.9 ........: ";
     nImporte  = #fichero@#23;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion aplicable D.T.9 ...: ";
     nImporte  = #fichero@#24;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia no exenta reducida .: ";
     nImporte  = #fichero@#25;
     |HAZ ConverAyN;

     aAlfa1    = "Perdida patrimoniales .......: ";
     nImporte  = #fichero@#26;
     |HAZ ConverAyN;

     aAlfa1    = "Perd.patrimoniales imputables: ";
     nImporte  = #fichero@#27;
     |HAZ ConverAyN;

     aAlfa1    = "Retenciones .................: ";
     nImporte  = #fichero@#28;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00037;
     |SI nCabecera = 0;
         aAsigna = " GANANCIAS Y PERDIDAS PATRIMONIALES";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Premios en juegos, concurso, etc.";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAlfa1   = "Sin fines publicitarios";
     |SI #fichero@#19 = "C";
         aAlfa1 = "Con fines publicitarios";
     |FINSI;
     aAsigna   = "Tipo de premio ..............: " + aAlfa1;
     |HAZ Asigna;

     aAsigna   = "Premios en Metalico";
     nImporte  = #fichero@#11 + #fichero@#16;
     |HAZ FiltroImpre;

     aAlfa1    = "Importe total ...............: ";
     nImporte  = #fichero@#11;
     |HAZ ConverAyN;

     aAlfa1    = "Retenciones .................: ";
     nImporte  = #fichero@#16;
     |HAZ ConverAyN;

     aAsigna   = "Premios en especie";
     nImporte  = #fichero@#12 + #fichero@#13 + #fichero@#14 + #fichero@#15;
     |HAZ FiltroImpre;

     aAlfa1    = "Valoracion ..................: ";
     nImporte  = #fichero@#12;
     |HAZ ConverAyN;

     aAlfa1    = "Ingresos a cuenta ...........: ";
     nImporte  = #fichero@#13;
     |HAZ ConverAyN;

     aAlfa1    = "Ingresos a cuenta repercutido: ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyN;

     aAlfa1    = "Importe computable ..........: ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAlfa1    = "Importe obtenido ejercicio ..: ";
     nImporte  = #fichero@#17;
     |HAZ ConverAyN;

     aAsigna   = "Perdidas patrimoniales ......: ";
     nImporte  = #fichero@#17;
     |HAZ FiltroImpre;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00059;
     |SI nCabecera = 0;
         aAsigna = " GANANCIAS Y PERDIDAS PATRIMONIALES";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Acciones admitidas a negociacion en mercados oficiales";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Descripcion .................: " + #fichero@#18;
     |HAZ Asigna;

     aAsigna   = "N.I.F. ......................: " + #fichero@#11;
     |HAZ Asigna;

     aAlfa1    = "Importe global transmisiones : ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAlfa1    = "Transmisiones renta vitalicia: ";
     nImporte  = #fichero@#18;
     |HAZ ConverAyN;

     aAlfa1    = "Transmisiones D.T.9 .........: ";
     nImporte  = #fichero@#19;
     |HAZ ConverAyN;

     aAlfa1    = "Importe global adquisiciones : ";
     nImporte  = #fichero@#20;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancias patrimoniales .....: ";
     nImporte  = #fichero@#21;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancias exentas R.vitalicia: ";
     nImporte  = #fichero@#22;
     |HAZ ConverAyN;

     aAlfa1    = "Parte ganancia D.T.9 ........: ";
     nImporte  = #fichero@#23;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion aplicable D.T.9 ...: ";
     nImporte  = #fichero@#24;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia no exenta reducida .: ";
     nImporte  = #fichero@#25;
     |HAZ ConverAyN;

     aAlfa1    = "Perdida patrimoniales .......: ";
     nImporte  = #fichero@#26;
     |HAZ ConverAyN;

     aAlfa1    = "Perd.patrimoniales imputables: ";
     nImporte  = #fichero@#27;
     |HAZ ConverAyN;

     aAlfa1    = "Retenciones .................: ";
     nImporte  = #fichero@#28;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00040;
     |SI nCabecera = 0;
         aAsigna = " GANANCIAS Y PERDIDAS PATRIMONIALES";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Periodo de generacion igual o inferior a 1 ejercicio (Dif.por Reinversion)";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAlfa1    = "Importe Total ...............: ";
     nImporte  = #fichero@#11;
     |HAZ ConverAyN;

     aAlfa1    = "Importe imputable ejercicio .: ";
     nImporte  = #fichero@#12;
     |HAZ ConverAyN;

     |SI #fichero@#13 = 1;  aAlfa = "7 ejercicios siguientes";             |FINSI;
     |SI #fichero@#13 = 2;  aAlfa = "En los periodos en que se amorticen"; |FINSI;

     aAsigna   = "Metodo ......................: " + aAlfa;
     |HAZ Asigna;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00041;
     |SI nCabecera = 0;
         aAsigna = " GANANCIAS Y PERDIDAS PATRIMONIALES";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Derivadas de transmisiones de otros elementos patrimoniales";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Descripcion .................: " + #fichero@#13;
     |HAZ Asigna;

     aAsigna   = "Afecto a Actividades ........: " + #fichero@#16;
     |HAZ Asigna;

     aAsigna   = "Situacion. Clave ............: " + #fichero@#17;
     |HAZ Asigna;

     aAsigna   = "Referencia Catastral ........: " + #fichero@#18;
     |HAZ Asigna;

     |SI #fichero@#14 = "I";  aAlfa = "INMUEBLES";  |FINSI;
     |SI #fichero@#14 = "A";  aAlfa = "ACCIONES";   |FINSI;
     |SI #fichero@#14 = "O";  aAlfa = "RESTO";      |FINSI;
     |SI #fichero@#14 = "M";  aAlfa = "MANUAL";     |FINSI;

     aAsigna   = "Tipo de elemento ............: " + aAlfa;
     |HAZ Asigna;

     aAsigna   = "Fecha de Transmision ........: " + #fichero@#19;
     |HAZ Asigna;

     aAsigna   = "Fecha de Adquisicion ........: " + #fichero@#20;
     |HAZ Asigna;

     aAlfa1    = "Valor de Transmision ........: ";
     nImporte  = #fichero@#21;
     |HAZ ConverAyN;

     aAlfa1    = "Reinvertido 2019 R.vitalicias: ";
     nImporte  = #fichero@#22;
     |HAZ ConverAyN;

     aAlfa1    = "Reinversion 2019 R.vitalicias: ";
     nImporte  = #fichero@#23;
     |HAZ ConverAyN;

     aAlfa1    = "V.transmision R.vitalicias ..: ";
     nImporte  = #fichero@#24;
     |HAZ ConverAyN;

     aAlfa1    = "V.transmision viv.habitual ..: ";
     nImporte  = #fichero@#25;
     |HAZ ConverAyN;

     aAlfa1    = "Capital pdte. de amortizacion: ";
     nImporte  = #fichero@#45;
     |HAZ ConverAyN;

     aAlfa1    = "Valor transmision D.T.9 .....: ";
     nImporte  = #fichero@#26;
     |HAZ ConverAyN;

     aAlfa1    = "Valor de Adquisicion ........: ";
     nImporte  = #fichero@#27;
     |HAZ ConverAyN;

     aAsigna   = "Diferencia negativa";
     nImporte  = #fichero@#28 + #fichero@#29;
     |HAZ FiltroImpre;

     aAlfa1    = "Obtenida ....................: ";
     nImporte  = #fichero@#28;
     |HAZ ConverAyN;

     aAlfa1    = "Imputable ...................: ";
     nImporte  = #fichero@#29;
     |HAZ ConverAyN;

     aAsigna   = "Diferencia positiva";
     nImporte  = #fichero@#35;
     |HAZ FiltroImpre;

     aAlfa1    = "Ganancia ....................: ";
     nImporte  = #fichero@#30;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia exenta 50 por 100 ..: ";
     nImporte  = #fichero@#32;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia exenta renta vital. : ";
     nImporte  = #fichero@#33;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia exenta viv.habitual : ";
     nImporte  = #fichero@#34;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia no exenta ..........: ";
     nImporte  = #fichero@#35;
     |HAZ ConverAyN;

     aAsigna   = "Elementos no afectos a Actividades Economicas";
     nImporte  = #fichero@#39 + #fichero@#40;
     |HAZ FiltroImpre;

     aAlfa1    = "Parte ganancia red.D.T.9 ....: ";
     nImporte  = #fichero@#36;
     |HAZ ConverAyN;

     aAlfa1    = "Numero de a¤os ..............: ";
     nImporte  = #fichero@#37;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion aplicable D.T.9 ...: ";
     nImporte  = #fichero@#38;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia reducida ...........: ";
     nImporte  = #fichero@#39;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia reducida imputable .: ";
     nImporte  = #fichero@#40;
     |HAZ ConverAyN;

     aAsigna   = "Elementos afectos a Actividades Economicas";
     nImporte  = #fichero@#43 + #fichero@#44;
     |HAZ FiltroImpre;

     aAlfa1    = "Parte ganancia red.D.A.7 ....: ";
     nImporte  = #fichero@#41;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion licencia municipal : ";
     nImporte  = #fichero@#42;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia reducida ...........: ";
     nImporte  = #fichero@#43;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia reducida imputable .: ";
     nImporte  = #fichero@#44;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00064;
     |SI nCabecera = 0;
         aAsigna = " GANANCIAS Y PERDIDAS PATRIMONIALES";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "por cambio de residencia fuera del territorio espa¤ol";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Descripcion .................: " + #fichero@#12;
     |HAZ Asigna;

     aAsigna   = "N.I.F. ......................: " + #fichero@#11;
     |HAZ Asigna;

     aAlfa1    = "Valor de las acciones .......: ";
     nImporte  = #fichero@#13;
     |HAZ ConverAyN;

     aAlfa1    = "Valor de las tansmisiones ...: ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyN;

     aAlfa1    = "Valor aplicable D.T.9 .......: ";
     nImporte  = #fichero@#15;
     |HAZ ConverAyN;

     aAlfa1    = "Valor de adquisicion ........: ";
     nImporte  = #fichero@#16;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancias patrimoniales .....: ";
     nImporte  = #fichero@#17;
     |HAZ ConverAyN;

     aAlfa1    = "Parte ganancia D.T.9 ........: ";
     nImporte  = #fichero@#18;
     |HAZ ConverAyN;

     aAlfa1    = "Reduccion aplicable D.T.9 ...: ";
     nImporte  = #fichero@#19;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancia reducida ...........: ";
     nImporte  = #fichero@#20;
     |HAZ ConverAyN;

     aAlfa1    = "Retenciones .................: ";
     nImporte  = #fichero@#21;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00042;
     |SI nCabecera = 0;
         aAsigna = " GANANCIAS Y PERDIDAS PATRIMONIALES";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     |SI nSubCabecera = 0;
         aAsigna = "Ejercicios anteriores en la base imponible del ahorro";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;
         nSubCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Ganancia o Perdida ..........: " + #fichero@#11;
     |HAZ Asigna;

     aAsigna   = "Fecha de Venta ..............: " + #fichero@#14;
     |HAZ Asigna;

     aAsigna   = "Descripcion .................: " + #fichero@#15;
     |HAZ Asigna;

     aAlfa1    = "Valor de la venta ...........: ";
     nImporte  = #fichero@#16;
     |HAZ ConverAyN;

     aAlfa1    = "Valor No exento .............: ";
     nImporte  = #fichero@#17;
     |HAZ ConverAyN;

     aAlfa1    = "Importe pendiente ...........: ";
     nImporte  = #fichero@#18;
     |HAZ ConverAyN;

     aAlfa1    = "Valor cobrado hasta ejercicio: ";
     nImporte  = #fichero@#19;
     |HAZ ConverAyN;

     aAlfa1    = "Valor cobrado en el ejercicio:";
     nImporte  = #fichero@#20;
     |HAZ ConverAyN;

     aAlfa1    = "Importe imputable ejercicio .: ";
     nImporte  = #fichero@#13;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rew00002;
     |SI #rew00002#1 ! "   ";
         |SI #rey00005#43 ! "S";  |Y #rew00002#3 = 0;
             |ACABA;
         |FINSI;
     |FINSI;

     |SI #rew00002#1 ! "   ";
         nImporte = #rew00002#3;   |HAZ Importe;
         aAsigna  = (#rew00002#2 % 162) + " " + #rew00002#1 + " " + aImporte;
         |HAZ Asigna;
     |SINO;
         aAsigna  = "";
         |HAZ Asigna;

         aAsigna  = #rew00002#2 % 180;
         |HAZ Asigna;
     |FINSI;

|FPRC;

|DEFBUCLE rew00002;
     #rew00002#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, rew00002;
|FIN;

|PROCESO rem01002;
     nLinea  = nLinea + 1;

     |DDEFECTO #rew00002;
     #rew00002#0 = nLinea;
     #rew00002#1 = #rem01002#5;
     #rew00002#2 = "     " + #rem01002#6;
     #rew00002#3 = #rem01002#7;

     |GRABA 020#rew00002.n;
     |LIBERA #rew00002;
|FPRC;

|DEFBUCLE rem01002;
     #rem01002#1;
     ;
     #rem01001#0, #rem01001#1, #rem01001#2, nBloque, 000;
     #rem01001#0, #rem01001#1, #rem01001#2, nBloque, 999;
     ;
     NULL, rem01002;
|FIN;

|PROCESO rem00901;
     aAlfa = #rem00901#5 % 103;
     |SI aAlfa = "TIT";
         nLinea = nLinea + 1;

         #rew00002#0 = nLinea;
         #rew00002#1 = "";
         #rew00002#2 = #rem00901#4 > "";
         #rew00002#3 = 0;
         |GRABA 020#rew00002.n;
         |LIBERA #rew00002;
     |FINSI;

     |SI aAlfa = "LIQ";
         aAlfa = #rem00901#5;  |QBF aAlfa;
         aAlfa = aAlfa % -102;
         nBloque = aAlfa;
         |SI nBloque ] 60;  |Y nBloque [ 74;
             |ACABA;
         |FINSI;

         aAlfa   = #rem00901#5 % 103;
         aBloque = #rem00901#5 % 502;
         nBloque = aBloque;
         |BUCLE rem01002;
     |FINSI;
|FPRC;

|DEFBUCLE rem00901;
     #rem00901#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, rem00901;
|FIN;

|PROCESO Liquidacion;
     aFichero = ("TC" + Usuario + "zzzzzzzz") % 108;
     |NOME_DAT #rew00002#aFichero#;

     |ABRE #rew00002;  |CIERRA #rew00002;  |DELINDEX #rew00002;

     nLinea = 0;
     |ABRE #rew00002;
     |BUCLE rem00901;
     |CIERRA #rew00002;

     |BUCLE rew00002;

     |DELINDEX #rew00002;
|FPRC;

|PROCESO VeteCasillas;
     |SI #rem01001#2 = "ZPATRITIT ";  |ACABA;  |FINSI;
     |SI #rem01001#2 = "ZPATRICON ";  |ACABA;  |FINSI;
     |SI #rey00005#45 = "S";
         |SI #rem01001#5 = "   "; |ACABA;  |FINSI;
     |FINSI;

     |HAZ AbreWord2;

     aAsigna   = "RENTA : " + (("00000" + #reacceso#0) % -105) + " " + #reacceso#1;
     nContador = 1;
     aIdenti   = "!#" + nContador + "#";
     |WORD_ASIGNA_TEXTO nWord, aIdenti, aAsigna;

     aAsigna   = "LIQUIDACION " + #rem01001#2;
     nContador = 2;
     aIdenti   = "!#" + nContador + "#";
     |WORD_ASIGNA_TEXTO nWord, aIdenti, aAsigna;

     aAsigna   = "";
     nContador = 3;
     aIdenti   = "!#" + nContador + "#";
     |WORD_ASIGNA_TEXTO nWord, aIdenti, aAsigna;

     |HAZ Liquidacion;

     |HAZ CompletaLineas;
|FPRC;

|DEFBUCLE rem01001;
     #rem01001#1;
     ;
     #reacceso#0, 00, "          ";
     #reacceso#0, 99, "zzzzzzzzzz";
     ;
     NULL, VeteCasillas;
|FIN;

|PROCESO Opcion8;        || LIQUIDACION
     aDocumento = "wcompro2.doc";
     nSwLiqui   = 1;
     |BUCLE rem01001;
|FPRC;

|PROCESO rem00101;
     aAlfa1  = #rem00101#4 % 101;
     aAsigna = #rem00101#2  + "         " + #rem00101#3 + "  " + #rem00101#5 + "    " + #rem00101#6;
     aAsigna = aAsigna + "       " + #rem00101#14 + "      " + #rem00101#7 + "        " + aAlfa1 + "         " + #rem00101#15;
     aIdenti = "!#" + nContador + "#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     nContador = nContador + 1;
|FPRC;

|DEFBUCLE rem00101;
     #rem00101#1;
     ;
     #rem00100#0, 01;
     #rem00100#0, 99;
     ;
     NULL, rem00101;
|FIN;

|PROCESO Opcion0;        || DATOS PERSONALES
     |ABRE #rem00100;
     #rem00100#0 = #reacceso#0;
     |LEE 000#rem00100.=;
     |SI FSalida ! 0;  |DDEFECTO #rem00100;  |FINSI;

     || datos contribuyente
     aAlfa1 = ("00000" + #rem00100#0) % -105;

     aAsigna = "Codigo: " + aAlfa1 + "  Nombre : " + #rem00100#5 + " NIF: " + #rem00100#1;
     aIdenti = "!#1#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     aAsigna = "F.Nacimiento : " + #rem00100#103 + "       Estado Civil : " + #rem00100#6 + "       Conviven Juntos: " + #rem00100#95;
     aIdenti = "!#2#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     aAsigna = "Minusvalia : " + #rem00100#8 + "%       Necesita Ayuda : " + #rem00100#9 + "       C. Autonoma: " + #rem00100#11;
     aIdenti = "!#3#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     aAsigna = "Espanol : " + #rem00100#10 + "       Reside.Ext: " + #rem00100#94 + "       Telefono : " + #rem00100#12;
     aIdenti = "!#4#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     aAlfa1 = #rem00100#14 + " " + #rem00100#15;  |QBF aAlfa1;
     |SI #rem00100#16 ! "    "; aAlfa2 = aAlfa1 + ", N."    +  #rem00100#16; |FINSI;
     |SI #rem00100#17 ! "   ";  aAlfa2 = aAlfa2 + ", Esc."  +  #rem00100#17; |FINSI;
     |SI #rem00100#18 ! "  ";   aAlfa2 = aAlfa2 + ", Piso " +  #rem00100#18; |FINSI;
     |SI #rem00100#19 ! "  ";   aAlfa2 = aAlfa2 + ", Pta. " +  #rem00100#19; |FINSI;
     aAsigna = "Domicilio: " + aAlfa2;
     aIdenti = "!#5#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     aAsigna = "Cta.Corriente : " + #rem00100#53 + "       Cta.Corriente Conjunta : " + #rem00100#54;
     aIdenti = "!#6#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;


     || datos contribuyente 2
     aAsigna = "Nombre : " + #rem00100#39 + " NIF: " + #rem00100#35;
     aIdenti = "!#7#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     aAsigna = "F.Nacimiento : " + #rem00100#104 + "       Minusvalia : " + #rem00100#41 +"%       Necesita Ayuda: " + #rem00100#42 + "       C. Autonoma: " + #rem00100#43;
     aIdenti = "!#8#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     aAlfa1 = #rem00100#44 + " " + #rem00100#45;  |QBF aAlfa1;
     |SI #rem00100#46 ! "    "; aAlfa2 = aAlfa1 + ", N."    +  #rem00100#46; |FINSI;
     |SI #rem00100#47 ! "   ";  aAlfa2 = aAlfa2 + ", Esc."  +  #rem00100#47; |FINSI;
     |SI #rem00100#48 ! "  ";   aAlfa2 = aAlfa2 + ", Piso " +  #rem00100#48; |FINSI;
     |SI #rem00100#49 ! "  ";   aAlfa2 = aAlfa2 + ", Pta. " +  #rem00100#49; |FINSI;
     aAsigna = "Domicilio: " + aAlfa2;
     aIdenti = "!#9#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     aAsigna = "Cta.Corriente : " + #rem00100#54;
     aIdenti = "!#10#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     || datos representante
     aAsigna = "Codigo : " + (("00000" + #rem00100#65) % -105) + "      Nombre : " + #rem00100#66;
     aIdenti = "!#11#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     aAsigna = "NIF ..: " + #rem00100#67 + "       Telefono : " + #rem00100#68;
     aIdenti = "!#12#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     aAsigna = "Codigo : " + (("00" + #rem00100#69) % -102) + (("000" + #rem00100#70) % -103);
     aAsigna = aAsigna + "  " + #rem00100#71 + " " + #rem00100#72;
     aIdenti = "!#13#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     || asignacion tributaria
     |SI #rem00100#59 = "I"; aAlfa1 = "Iglesia";               |FINSI;
     |SI #rem00100#59 = "O"; aAlfa1 = "Otros Fines";           |FINSI;
     |SI #rem00100#59 = "D"; aAlfa1 = "Iglesia y Otros Fines"; |FINSI;
     |SI #rem00100#60 = "I"; aAlfa2 = "Iglesia";               |FINSI;
     |SI #rem00100#60 = "O"; aAlfa2 = "Otros Fines";           |FINSI;
     |SI #rem00100#60 = "D"; aAlfa2 =" Iglesia y Otros Fines"; |FINSI;

     aAsigna = "Contribuyente 1: " + aAlfa1 + " Contribuyente 2: " + aAlfa2;
     aIdenti = "!#14#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     aAlfa1 = "";
     aAlfa2 = "";

     |SI #rem00100#93 = "G"; aAlfa1 = "Ganancial";            |FINSI;
     |SI #rem00100#93 = "S"; aAlfa1 = "Separacion de Bienes"; |FINSI;
     |SI #rem00100#93 = "O"; aAlfa1 = "Otros";                |FINSI;

     |SI #rem00100#91 = "T"; aAlfa2 = "  Fallecimiento: Titular   Fecha: " + #rem00100#92; |FINSI;
     |SI #rem00100#91 = "C"; aAlfa2 = "  Fallecimiento: Conyuge   Fecha: " + #rem00100#92; |FINSI;
     aAsigna = "Reg. Economico : " + aAlfa1 + aAlfa2;
     aIdenti = "!#15#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     aAlfa1 = "";
     |SI #rem00100#97 = "N"; aAlfa1 = "No es complementaria"; |FINSI;
     |SI #rem00100#97 = "1"; aAlfa1 = "X en casilla 120";     |FINSI;
     |SI #rem00100#97 = "2"; aAlfa1 = "X en casilla 121";     |FINSI;
     |SI #rem00100#97 = "3"; aAlfa1 = "X en casilla 122";     |FINSI;
     |SI #rem00100#97 = "4"; aAlfa1 = "X en casilla 123";     |FINSI;
     |SI #rem00100#97 = "5"; aAlfa1 = "X en casilla 124";     |FINSI;

     aAsigna = "Complementaria: " + aAlfa1;
     aIdenti = "!#16#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     || modalidad solicitud devolucion
     aAlfa1 = "-"; aAlfa2 = "-"; aAlfa3 = "-";
     |SI #rem00100#58 = "X"; aAlfa1 = "X"; |FINSI;
     |SI #rem00100#57 = "X"; aAlfa1 = "X"; |FINSI;
     |SI #rem00100#56 = "X"; aAlfa1 = "X"; |FINSI;

     aAsigna = "Individual: "+ aAlfa3+ "          Conjunta: " + aAlfa2 + "          Separada: " + aAlfa1;
     aIdenti = "!#17#";
     |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;

     nContador = 20;
     |BUCLE rem00101;
     |PARA nCampo = nContador; |SI nCampo [ 30; |HACIENDO nCampo= nCampo + 1;
           aAsigna = "";
           aIdenti = "!#" + nCampo + "#";
           |WORD_ASIGNA_TEXTO nWord1, aIdenti, aAsigna;
     |SIGUE;
     |CIERRA #rem00100;
|FPRC;

|PROCESO rem00102;
     |SI nCabecera = 0;
         aAsigna = " DATOS ADICIONALES DE LA VIVIENDA EN LA QUE TIENE SU DOMICILIO ACTUAL";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 ! 0;  |O #fichero@#4 ! 0;  |O #fichero@#5 ! 0;
      |O #fichero@#6 ! 0;  |O #fichero@#7 ! 0;  |O #fichero@#8 ! 0;
         aAsigna = "Porcentajes por Declarante ..: " + #fichero@#3 + "-" + #fichero@#4 + "-" + #fichero@#5;
         aAsigna = aAsigna + "-" + #fichero@#6 + "-" + #fichero@#7 + "-" + #fichero@#8;
         |HAZ Asigna;
     |FINSI;

     aAsigna   = "Titularidad .................: " + #fichero@#9 + " " + #fichero@#10;
     |HAZ Asigna;

     aAsigna   = "Referencia Catastral ........: " + #fichero@#11;
     |HAZ Asigna;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO rem00030;
     |SI nCabecera = 0;
         aAsigna = " OTRAS GANANCIAS QUE NO DERIVAN DE TRANSMISION";
         |HAZ Asigna;

         aAsigna = "";
         |HAZ Asigna;

         nCabecera = 1;
     |FINSI;

     aAsigna   = "CONTRIBUYENTE ...............: " + #fichero@#2;
     |HAZ Asigna;

     |SI #fichero@#3 = "R"; aAlfa1 = "RENTA";              |FINSI;
     |SI #fichero@#3 = "P"; aAlfa1 = "PATRIMONIO";         |FINSI;
     |SI #fichero@#3 = "A"; aAlfa1 = "RENTA Y PATRIMONIO"; |FINSI;
     aAsigna   = "Tipo Calculo ................: " + aAlfa1;
     |HAZ Asigna;

     |SI #fichero@#5 ! 0;  |O #fichero@#6 ! 0;  |O #fichero@#7  ! 0;
      |O #fichero@#8 ! 0;  |O #fichero@#9 ! 0;  |O #fichero@#10 ! 0;
         aAsigna   = "Porcentajes por Declarante ..: " + #fichero@#5 + "-" + #fichero@#6 + "-" + #fichero@#7;
         aAsigna = aAsigna + "-" + #fichero@#8 + "-" + #fichero@#9 + "-" + #fichero@#10;
         |HAZ Asigna;
     |FINSI;

     aAlfa1    = "Subvenciones viv.hab.2019 ...: ";
     nImporte  = #fichero@#11;
     |HAZ ConverAyN;

     aAlfa1    = "Ganancias por los vecinos ...: ";
     nImporte  = #fichero@#12;
     |HAZ ConverAyN;

     aAlfa1    = "Otras ganancias .............: ";
     nImporte  = #fichero@#13;
     |HAZ ConverAyN;

     aAlfa1    = "Perdidas ....................: ";
     nImporte  = #fichero@#14;
     |HAZ ConverAyN;

     aAsigna = "";
     |HAZ Asigna;
|FPRC;

|PROCESO Opciones;
     |SI nOpcion = 1;   |HAZ rem00020;  |FINSI;
     |SI nOpcion = 2;   |HAZ rem00021;  |FINSI;
     |SI nOpcion = 31;  |HAZ rem00022;  |FINSI;
     |SI nOpcion = 32;  |HAZ rem00023;  |FINSI;
     |SI nOpcion = 33;  |HAZ rem00024;  |FINSI;
     |SI nOpcion = 34;  |HAZ rem00051;  |FINSI;
     |SI nOpcion = 35;  |HAZ rem00052;  |FINSI;
     |SI nOpcion = 36;  |HAZ rem00055;  |FINSI;
     |SI nOpcion = 41;  |HAZ rem00025;  |FINSI;
     |SI nOpcion = 44;  |HAZ rem00027;  |FINSI;
     |SI nOpcion = 45;  |HAZ rem00028;  |FINSI;
     |SI nOpcion = 46;  |HAZ rem00031;  |FINSI;
     |SI nOpcion = 57;  |HAZ rem00058;  |FINSI;
     |SI nOpcion = 51;  |HAZ rem00032;  |FINSI;
     |SI nOpcion = 52;  |HAZ rem00033;  |FINSI;
     |SI nOpcion = 53;  |HAZ rem00034;  |FINSI;
     |SI nOpcion = 54;  |HAZ rem00035;  |FINSI;
     |SI nOpcion = 55;  |HAZ rem00053;  |FINSI;
     |SI nOpcion = 56;  |HAZ rem00054;  |FINSI;
     |SI nOpcion = 60;  |HAZ rem00057;  |FINSI;
     |SI nOpcion = 61;  |HAZ rem00036;  |FINSI;
     |SI nOpcion = 62;  |HAZ rem00037;  |FINSI;
     |SI nOpcion = 65;  |HAZ rem00040;  |FINSI;
     |SI nOpcion = 66;  |HAZ rem00041;  |FINSI;
     |SI nOpcion = 67;  |HAZ rem00042;  |FINSI;
     |SI nOpcion = 71;  |HAZ rem00046;  |FINSI;
     |SI nOpcion = 72;  |HAZ rem00045;  |FINSI;
     |SI nOpcion = 73;  |HAZ rem00047;  |FINSI;
     |SI nOpcion = 74;  |HAZ rem00048;  |FINSI;
     |SI nOpcion = 76;  |HAZ rem00056;  |FINSI;
     |SI nOpcion = 77;  |HAZ rem00044;  |FINSI;
     |SI nOpcion = 78;  |HAZ rem00059;  |FINSI;
     |SI nOpcion = 79;  |HAZ rem00061;  |FINSI;
     |SI nOpcion = 80;  |HAZ rem00102;  |FINSI;
     |SI nOpcion = 81;  |HAZ rem00062;  |FINSI;
     |SI nOpcion = 82;  |HAZ rem00030;  |FINSI;
     |SI nOpcion = 83;  |HAZ rem00063;  |FINSI;
     |SI nOpcion = 84;  |HAZ rem00064;  |FINSI;
     |SI nOpcion = 85;  |HAZ rem00065;  |FINSI;
|FPRC;

|DEFBUCLE fichero;
     #fichero@#1002;
     ;
     #reacceso#0, 01;
     #reacceso#0, 99;
     ;
     NULL, Opciones;
|FIN;

|PROCESO Opcion1;        || RENDIMIENTOS DEL TRABAJO
     nCabecera = 0;
     nOpcion   = 1;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00020.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00020.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;
|FPRC;

|PROCESO Opcion2;        || CAPITAL INMOBILIARIO
     nCabecera = 0;
     nOpcion   = 2;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00021.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00021.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;
|FPRC;

|PROCESO Opcion3;        || CAPITAL MOBILIARIO
     nCabecera    = 0;
     nSubCabecera = 0;
     nOpcion      = 31;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00022.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00022.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 32;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00023.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00023.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 33;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00024.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00024.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 34;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00051.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00051.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 35;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00052.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00052.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 36;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00055.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00055.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00060.mas";
     |CARGA_DEF aDef, fichero2@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00060.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero2@;
     |DESCARGA_DEF #fichero@;

|FPRC;

|PROCESO Opcion4;        || ACTIVIDADES
     nCabecera    = 0;
     nSubCabecera = 0;
     nOpcion      = 41;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00025.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00025.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 44;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00027.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00027.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 45;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00028.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00028.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 46;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00031.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00031.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;
|FPRC;

|PROCESO Opcion5;        || IMPUTACIONES Y PENSIONES
     nCabecera    = 0;
     nOpcion      = 57;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00058.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00058.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nCabecera    = 0;
     nOpcion      = 51;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00032.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00032.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nCabecera    = 0;
     nOpcion      = 52;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00033.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00033.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nCabecera    = 0;
     nOpcion      = 53;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00034.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00034.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nCabecera    = 0;
     nOpcion      = 54;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00035.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00035.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nCabecera    = 0;
     nOpcion      = 79;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00061.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00061.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nCabecera    = 0;
     nOpcion      = 55;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00053.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00053.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nCabecera    = 0;
     nOpcion      = 56;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00054.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00054.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;
|FPRC;

|PROCESO Opcion6;        || GANANCIAS Y PERDIDAS PATRIMONIALES
     nCabecera    = 0;

     nSubCabecera = 0;
     nOpcion      = 60;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00057.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00057.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 61;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00036.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00036.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 62;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00037.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00037.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 82;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00030.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00030.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 78;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00059.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00059.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 65;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00040.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00040.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 84;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00064.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00064.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 66;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00041.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00041.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 67;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00042.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00042.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;
|FPRC;

|PROCESO Opcion7;        || DEDUCCIONES DE LA CUOTA
     nCabecera    = 0;

     nSubCabecera = 0;
     nOpcion      = 71;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00046.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00046.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 72;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00045.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00045.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 81;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00062.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00062.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 73;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00047.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00047.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 74;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00048.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00048.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 83;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00063.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00063.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 76;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00056.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00056.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 85;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00065.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00065.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;

     nSubCabecera = 0;
     nOpcion      = 77;

     |DBASE aPathRenta;  |QBT aPathRenta;
     aDef = aPathRenta + "def/rem00044.mas";
     |CARGA_DEF aDef, fichero@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def rem00044.mas";
         |MENAV aAlfa;
         |ERROR;
     |FINSI;

     |BUCLE fichero;

     |DESCARGA_DEF #fichero@;
|FPRC;

|PROCESO reacceso;
     nSwAlguno    = 1;
     nSwLiqui     = 0;

     |SI #rey00005#33 = "S";
          aDocumento = "wcompro1.doc";
          |HAZ AbreWord1;
          |HAZ Opcion0;
     |SINO;
          aDocumento = "wcompro0.doc";
          |HAZ AbreWord1;
     |FINSI;

     |SI #rey00005#34 = "N";  |Y #rey00005#35 = "N";  |Y #rey00005#36 = "N";  |Y #rey00005#37 = "N";
     |Y  #rey00005#38 = "N";  |Y #rey00005#39 = "N";  |Y #rey00005#40 = "N";  |Y #rey00005#41 = "N";
         |HAZ ImprimeWord;
         |ACABA;
     |FINSI;

     |SI #rey00005#34 = "S";  |Y #rey00005#35 = "N";  |Y #rey00005#36 = "N";  |Y #rey00005#37 = "N";
     |Y  #rey00005#38 = "N";  |Y #rey00005#39 = "N";  |Y #rey00005#40 = "N";  |Y #rey00005#41 = "N";
         |HAZ Opcion8;
         |HAZ ImprimeWord;
         |ACABA;
     |FINSI;

     aDocumento = "wcompro2.doc";
     |HAZ AbreWord2;

     aAsigna   = "RENTA : " + (("00000" + #reacceso#0) % -105) + " " + #reacceso#1;
     nContador = 1;
     aIdenti   = "!#" + nContador + "#";
     |WORD_ASIGNA_TEXTO nWord, aIdenti, aAsigna;

     aAsigna   = "";
     nContador = 2;
     aIdenti   = "!#" + nContador + "#";
     |WORD_ASIGNA_TEXTO nWord, aIdenti, aAsigna;

     |SI #rey00005#33 = "S";
         nCabecera = 0;
         nOpcion   = 80;

         |DBASE aPathRenta;  |QBT aPathRenta;
         aDef = aPathRenta + "def/rem00102.mas";
         |CARGA_DEF aDef, fichero@;
         |SI FSalida ! 0;
             aAlfa = "     Error en cargar el Def rem00102.mas";
             |MENAV aAlfa;
             |ERROR;
         |FINSI;

         |BUCLE fichero;

         |DESCARGA_DEF #fichero@;
     |FINSI;

     |SI #rey00005#35 = "S"; |HAZ Opcion1; |FINSI;
     |SI #rey00005#37 = "S"; |HAZ Opcion3; |FINSI;
     |SI #rey00005#36 = "S"; |HAZ Opcion2; |FINSI;
     |SI #rey00005#38 = "S"; |HAZ Opcion4; |FINSI;
     |SI #rey00005#39 = "S"; |HAZ Opcion5; |FINSI;
     |SI #rey00005#40 = "S"; |HAZ Opcion6; |FINSI;
     |SI #rey00005#41 = "S"; |HAZ Opcion7; |FINSI;

     |HAZ CompletaLineas;

     |SI #rey00005#34 = "S";  |HAZ Opcion8;  |FINSI;

     |HAZ ImprimeWord;
|FPRC;

|DEFBUCLE reacceso;
     #reacceso#1;
     ;
     #rey00005#1;
     #rey00005#2;
     ;
     NULL, reacceso;
|FIN;

|PROCESO Tipo3; |TIPO 3;
     |SI #rey00005#0 = "S";
          |BUCLE reacceso;
     |SINO;
          |PARA nCampoS = 3; |SI nCampoS [ 32; |HACIENDO nCampoS = nCampoS + 1;
                |SI #rey00005#nCampoS# ! 0;
                    #rey00005#1 = #rey00005#nCampoS#;
                    #rey00005#2 = #rey00005#nCampoS#;
                    |BUCLE reacceso;
                |FINSI;
          |SIGUE;
     |FINSI;

     |SI nSwAlguno = 0;
          |MENAV "0000Seleccion vacia.";
          |ACABA;
     |FINSI;
|FPRC;

|PROCESO Tipo80;  |TIPO 80;
     FSalida = 2499;
|FPRC;

|PROGRAMA;
     |HAZ LeeUnidadBasico;

     |CLS;
     |ABRE #rey00005;
     |LEE 000#rey00005.p;
     |SI FSalida ! 0;
          |GRABA 020#rey00005.b;
          |PDEFECTO #rey00005, 1,41;
     |FINSI;
     |PINPA #0#rey00005;
     |PINDA #0#rey00005;
     |ENDATOS #1#rey00005;
     |SI FSalida = 0;  |GRABA 020#rey00005.a;  |FINSI;
     |CIERRA #rey00005;
|FPRO;
