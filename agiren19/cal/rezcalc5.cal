|FICHEROS;
     rem00903;

     rem01033@;
     rem01035@;
     rem01037@;
     rem01045@;
     rem01046@;
     rem01047@;
     rem01056@;

     datfic0@;

     &refere1@;
     &refere2@;
     &refere3@;
|FIN;

|VARIABLES;
      aDef             = "";
      aAlfa            = "";
      aFichero         = "";
      aTCalc           = "";
      aTipo            = "";
      aRenta           = "";
      aCas             = "";
      aContri          = "";

      nCoefi           = 0;
      nSwFich          = 0;
      nLinea           = 0;
      nCampo           = 0;
      nCampo1          = 0;
      nCampo2          = 0;
      nValor           = 0;
      nPasada          = 0;
      nTCalc           = 0;
      nCanti           = 0;
      nResta           = 0;
      nResto           = 0;
      nRestoT          = 0;
      nRestoC          = 0;
      nSuma            = 0;
      nPdte            = 0;
      nDias            = 0;
      nExc             = 0;
      nTot             = 0;

      aAlfa1           = "";
      aAlfa2           = "";

     &enEmpresa        = 0;
     &enComplementaria = 0;
     &eaPathDef        = "";
     &eaContri         = "";
     &enMinusvalia     = 0;
     &eaMinuAyuda      = "";
     &eaCasilla        = "";
     &enImporte        = 0;
     &enSwAcum         = 0;
     &enNomeDat        = 0;
     &enNomeAgr        = 0;
     &eaMuerto         = "";
     &efFechaMuerto    = @;
     &enCalcuMuerto    = 0;
     &eaPrograma       = "";
     &enLinea          = 0;
     &eaObserva        = "";
     &enRedon          = 0;
|FIN;

|PROCESO GrabaExcesos_5;
     aCas = aCas % 104;

     |SELECT #2#rem01056@;
     #rem01056@#0  = #refere1@#0;
     #rem01056@#1  = #refere1@#1;
     #rem01056@#2  = #refere1@#2;
     #rem01056@#3  = aContri;
     #rem01056@#6  = aCas;
     |LEE 101#rem01056@.=;
     |SI FSalida ! 0;
         #rem00903#2 = aCas;
         |LEE 000#rem00903.=;
         |SI FSalida ! 0;  |ACABA;  |FINSI;

         |DDEFECTO #rem01056@;

         |SELECT #1#rem01056@;
         #rem01056@#0  = #refere1@#0;
         #rem01056@#1  = #refere1@#1;
         #rem01056@#2  = #refere1@#2;
         #rem01056@#3  = aContri;
         #rem01056@#4  = #rem00903#0;
         #rem01056@#5  = #rem00903#1;
         #rem01056@#6  = #rem00903#2;
         #rem01056@#8  = #rem00903#3;
         #rem01056@#10 = #rem00903#4;
         #rem01056@#12 = #rem00903#5;

         |GRABA 020#rem01056@.b;
     |FINSI;

     #rem01056@#7 = (N\ #rem01056@#7 + ((nExc % nCoefi) + enRedon));

     |GRABA 020#rem01056@.a;
     |LIBERA #rem01056@;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO I2
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaI2;
     || datfic0 = "rem00053";

     |SI #datfic0@#23 ! "N";  |ACABA;  |FINSI;

     |SI #datfic0@#14 = 0;  |Y #datfic0@#15 = 0;  |Y #datfic0@#16 = 0;  |Y #datfic0@#27 = 0;
         |ACABA;
     |FINSI;

     #rem01037@#0 = #refere1@#0;
     #rem01037@#1 = #refere1@#1;
     #rem01037@#2 = #refere1@#2;
     |SI #datfic0@#2 = "TITULAR   ";
         nLinea = 1;
     |SINO;
         nLinea = 2;
     |FINSI;

     |DDEFECTO #rem01037@;
     #rem01037@#0  = #refere1@#0;
     #rem01037@#1  = #refere1@#1;
     #rem01037@#2  = #refere1@#2;
     #rem01037@#3  = nLinea;
     |LEE 101#rem01037@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01037@;
         #rem01037@#0  = #refere1@#0;
         #rem01037@#1  = #refere1@#1;
         #rem01037@#2  = #refere1@#2;
         #rem01037@#3  = nLinea;
         |GRABA 020#rem01037@.b;
     |FINSI;

     #rem01037@#4  = eaContri;
     |SI #rem01037@#2 = "CONJUNTA  ";  |O #rem01037@#2 = "CONJUNTAE ";
         #rem01037@#4 = #datfic0@#2;

         |SI #rem01037@#4 = "GANANCIAL ";  #rem01037@#4 = "COMUNES";  |FINSI;

         |SI #rem01037@#4 = "VARIOS    ";
             #rem01037@#4 = "COMUNES";

             nTot = #datfic0@#5 + #datfic0@#6 + #datfic0@#7;
             nTot = nTot + #datfic0@#8 + #datfic0@#9 + #datfic0@#10;

             |SI #datfic0@#5  = nTot;  #rem01037@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#6  = nTot;  #rem01037@#4 = "CONYUGE";    |FINSI;
             |SI #datfic0@#7  = nTot;  #rem01037@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#8  = nTot;  #rem01037@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#9  = nTot;  #rem01037@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#10 = nTot;  #rem01037@#4 = "TITULAR";    |FINSI;
         |FINSI;
     |SINO;
         |SI #rem01037@#4 = "1 FAMILIAR";  #rem01037@#4 = "TITULAR";  |FINSI;
         |SI #rem01037@#4 = "2 FAMILIAR";  #rem01037@#4 = "TITULAR";  |FINSI;
         |SI #rem01037@#4 = "3 FAMILIAR";  #rem01037@#4 = "TITULAR";  |FINSI;
         |SI #rem01037@#4 = "4 FAMILIAR";  #rem01037@#4 = "TITULAR";  |FINSI;
     |FINSI;

     #rem01037@#10 = (N\ #rem01037@#10 + ((#datfic0@#14 % nCoefi) + enRedon));
     #rem01037@#5  = (N\ #rem01037@#5  + ((#datfic0@#27 % nCoefi) + enRedon));

     |SI #datfic0@#29 = "N";
         #rem01037@#6  = (N\ #rem01037@#6  + ((#datfic0@#15 % nCoefi) + enRedon));
         #rem01037@#6  = (N\ #rem01037@#6  + ((#datfic0@#16 % nCoefi) + enRedon));
     |FINSI;

     |SI #datfic0@#29 = "S";
         #rem01037@#12 = (N\ #rem01037@#12 + ((#datfic0@#15 % nCoefi) + enRedon));
         #rem01037@#12 = (N\ #rem01037@#12 + ((#datfic0@#16 % nCoefi) + enRedon));
     |FINSI;

     #rem01037@#7  = (N\ #rem01037@#5  + #rem01037@#6 + #rem01037@#12 + #rem01037@#10);

     |SI nPasada = 0;
         aTipo   = #datfic0@#24;
         nCanti  = #datfic0@#25;
         nPasada = 1;
     |FINSI;

     #rem01037@#8  = aTipo;
     #rem01037@#9  = nCanti;

     |GRABA 020#rem01037@.a;
     |LIBERA #rem01037@;

     aContri = #rem01037@#4;

     |SI #datfic0@#36 ! 0; nExc = (#datfic0@#36 % nCoefi) + enRedon; aCas = "1285-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#37 ! 0; nExc = (#datfic0@#37 % nCoefi) + enRedon; aCas = "1287-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#38 ! 0; nExc = (#datfic0@#38 % nCoefi) + enRedon; aCas = "1290-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#39 ! 0; nExc = (#datfic0@#39 % nCoefi) + enRedon; aCas = "1293-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#40 ! 0; nExc = (#datfic0@#40 % nCoefi) + enRedon; aCas = "1296-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;

     |SI #datfic0@#31 ! 0; nExc = (#datfic0@#31 % nCoefi) + enRedon; aCas = "1301-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#32 ! 0; nExc = (#datfic0@#32 % nCoefi) + enRedon; aCas = "1303-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#33 ! 0; nExc = (#datfic0@#33 % nCoefi) + enRedon; aCas = "1306-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#34 ! 0; nExc = (#datfic0@#34 % nCoefi) + enRedon; aCas = "1309-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#35 ! 0; nExc = (#datfic0@#35 % nCoefi) + enRedon; aCas = "1312-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO I3
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaI3;
     || datfic0 = "rem00053";

     |SI #datfic0@#23 ! "N";  |ACABA;  |FINSI;

     |SI #datfic0@#18 = 0;  |Y #datfic0@#19 = 0;  |Y #datfic0@#20 = 0;
      |Y #datfic0@#26 = 0;  |Y #datfic0@#30 = 0;
         |ACABA;
     |FINSI;

     #rem01045@#0 = #refere1@#0;
     #rem01045@#1 = #refere1@#1;
     #rem01045@#2 = #refere1@#2;
     |SI #datfic0@#2 = "TITULAR   ";
         nLinea = 1;
     |SINO;
         nLinea = 2;
     |FINSI;

     |DDEFECTO #rem01045@;
     #rem01045@#0  = #refere1@#0;
     #rem01045@#1  = #refere1@#1;
     #rem01045@#2  = #refere1@#2;
     #rem01045@#3  = nLinea;
     |LEE 101#rem01045@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01045@;
         #rem01045@#0  = #refere1@#0;
         #rem01045@#1  = #refere1@#1;
         #rem01045@#2  = #refere1@#2;
         #rem01045@#3  = nLinea;
         |GRABA 020#rem01045@.b;
     |FINSI;

     #rem01045@#4  = eaContri;
     |SI #rem01045@#2 = "CONJUNTA  ";  |O #rem01045@#2 = "CONJUNTAE ";
         #rem01045@#4 = #datfic0@#2;

         |SI #rem01045@#4 = "GANANCIAL ";  #rem01045@#4 = "COMUNES";  |FINSI;

         |SI #rem01045@#4 = "VARIOS    ";
             #rem01045@#4 = "COMUNES";

             nTot = #datfic0@#5 + #datfic0@#6 + #datfic0@#7;
             nTot = nTot + #datfic0@#8 + #datfic0@#9 + #datfic0@#10;

             |SI #datfic0@#5  = nTot;  #rem01045@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#6  = nTot;  #rem01045@#4 = "CONYUGE";    |FINSI;
             |SI #datfic0@#7  = nTot;  #rem01045@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#8  = nTot;  #rem01045@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#9  = nTot;  #rem01045@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#10 = nTot;  #rem01045@#4 = "TITULAR";    |FINSI;
         |FINSI;
     |SINO;
         |SI #rem01045@#4 = "1 FAMILIAR";  #rem01045@#4 = "TITULAR";  |FINSI;
         |SI #rem01045@#4 = "2 FAMILIAR";  #rem01045@#4 = "TITULAR";  |FINSI;
         |SI #rem01045@#4 = "3 FAMILIAR";  #rem01045@#4 = "TITULAR";  |FINSI;
         |SI #rem01045@#4 = "4 FAMILIAR";  #rem01045@#4 = "TITULAR";  |FINSI;
     |FINSI;

     #rem01045@#5  = #datfic0@#17;
     #rem01045@#6  = (N\ #rem01045@#6  + ((#datfic0@#26 % nCoefi) + enRedon));
     #rem01045@#11 = (N\ #rem01045@#11 + ((#datfic0@#30 % nCoefi) + enRedon));

     #rem01045@#9  = (N\ #rem01045@#9  + ((#datfic0@#18 % nCoefi) + enRedon));
     #rem01045@#9  = (N\ #rem01045@#9  + ((#datfic0@#19 % nCoefi) + enRedon));
     #rem01045@#7  = (N\ #rem01045@#7  + ((#datfic0@#18 % nCoefi) + enRedon));
     #rem01045@#7  = (N\ #rem01045@#7  + ((#datfic0@#19 % nCoefi) + enRedon));
     |SI #rem01045@#7 > 24250;  #rem01045@#7  = 24250;  |FINSI;

     #rem01045@#10 = (N\ #rem01045@#10 + ((#datfic0@#20 % nCoefi) + enRedon));
     #rem01045@#8  = (N\ #rem01045@#8  + ((#datfic0@#20 % nCoefi) + enRedon));
     |SI #rem01045@#8 > 8000;  #rem01045@#8  = 8000;  |FINSI;

     |GRABA 020#rem01045@.a;
     |LIBERA #rem01045@;

     aContri = #rem01045@#4;

     |SI #datfic0@#41 ! 0; nExc = (#datfic0@#41 % nCoefi) + enRedon; aCas = "1317-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#42 ! 0; nExc = (#datfic0@#42 % nCoefi) + enRedon; aCas = "1319-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#43 ! 0; nExc = (#datfic0@#43 % nCoefi) + enRedon; aCas = "1322-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#44 ! 0; nExc = (#datfic0@#44 % nCoefi) + enRedon; aCas = "1325-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#45 ! 0; nExc = (#datfic0@#45 % nCoefi) + enRedon; aCas = "1328-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;

     |SI #datfic0@#46 ! 0; nExc = (#datfic0@#46 % nCoefi) + enRedon; aCas = "1334-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#47 ! 0; nExc = (#datfic0@#47 % nCoefi) + enRedon; aCas = "1336-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#48 ! 0; nExc = (#datfic0@#48 % nCoefi) + enRedon; aCas = "1339-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#49 ! 0; nExc = (#datfic0@#49 % nCoefi) + enRedon; aCas = "1342-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#50 ! 0; nExc = (#datfic0@#50 % nCoefi) + enRedon; aCas = "1345-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
|FPRC;

|PROCESO rem01045C4;
     #rem01033@#0 = #rem01045@#0;
     #rem01033@#1 = #rem01045@#1;
     #rem01033@#2 = #rem01045@#2;
     |LEE 101#rem01033@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01033@;
         #rem01033@#0 = #rem01045@#0;
         #rem01033@#1 = #rem01045@#1;
         #rem01033@#2 = #rem01045@#2;
         |GRABA 020#rem01033@.b;
     |FINSI;

     #rem01033@#86  = (N\ #rem01033@#86  + #rem01045@#6 + #rem01045@#11);
     #rem01033@#87  = (N\ #rem01033@#87  + #rem01045@#7);
     #rem01033@#88  = (N\ #rem01033@#88  + #rem01045@#8);

     nSuma = #rem01033@#86 + #rem01033@#87;
     |SI nSuma ] 24250;
         #rem01033@#87 = 24250;
         #rem01033@#86 = 0;
     |FINSI;

     |SI #rem01033@#88 ] 10000;
         #rem01033@#88 = 10000;
         #rem01033@#86 = 0;
     |FINSI;

     #rem01033@#86  = (N\ #rem01033@#86 + #rem01033@#87 + #rem01033@#88);

     |GRABA 020#rem01033@.a;
     |LIBERA #rem01033@;

     #refere1@#0   = #rem01045@#0;
     #refere1@#1   = #rem01045@#1;
     #refere1@#2   = #rem01045@#2;

     enSwAcum  = 0;
     eaCasilla = "31-0476-LIQ19";  enImporte = #rem01033@#86;   |HAZ GrabaLineal;
|FPRC;

|DEFBUCLE rem01045C4;
     #rem01045@#1004;
     ;
     #refere1@#0, #refere1@#1, "          ", 001;
     #refere1@#0, #refere1@#1, "zzzzzzzzzz", 999;
     ;
     NULL, rem01045C4;
|FIN;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO I4
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaI4;
     || datfic0 = "rem00061";

     #rem01035@#0 = #refere1@#0;
     #rem01035@#1 = #refere1@#1;
     #rem01035@#2 = #refere1@#2;
     |SI #datfic0@#2 = "TITULAR   ";
         nLinea = 1;
     |SINO;
         nLinea = 2;
     |FINSI;

     |DDEFECTO #rem01035@;
     #rem01035@#0  = #refere1@#0;
     #rem01035@#1  = #refere1@#1;
     #rem01035@#2  = #refere1@#2;
     #rem01035@#3  = nLinea;
     |LEE 101#rem01035@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01035@;
         #rem01035@#0  = #refere1@#0;
         #rem01035@#1  = #refere1@#1;
         #rem01035@#2  = #refere1@#2;
         #rem01035@#3  = nLinea;
         |GRABA 020#rem01035@.b;
     |FINSI;

     #rem01035@#4  = eaContri;
     |SI #rem01035@#2 = "CONJUNTA  ";  |O #rem01035@#2 = "CONJUNTAE ";
         #rem01035@#4 = #datfic0@#2;

         |SI #rem01035@#4 = "GANANCIAL ";  #rem01035@#4 = "COMUNES";  |FINSI;

         |SI #rem01035@#4 = "VARIOS    ";
             #rem01035@#4 = "COMUNES";

             nTot = #datfic0@#5 + #datfic0@#6 + #datfic0@#7;
             nTot = nTot + #datfic0@#8 + #datfic0@#9 + #datfic0@#10;

             |SI #datfic0@#5  = nTot;  #rem01035@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#6  = nTot;  #rem01035@#4 = "CONYUGE";    |FINSI;
             |SI #datfic0@#7  = nTot;  #rem01035@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#8  = nTot;  #rem01035@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#9  = nTot;  #rem01035@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#10 = nTot;  #rem01035@#4 = "TITULAR";    |FINSI;
         |FINSI;
     |SINO;
         |SI #rem01035@#4 = "1 FAMILIAR";  #rem01035@#4 = "TITULAR";  |FINSI;
         |SI #rem01035@#4 = "2 FAMILIAR";  #rem01035@#4 = "TITULAR";  |FINSI;
         |SI #rem01035@#4 = "3 FAMILIAR";  #rem01035@#4 = "TITULAR";  |FINSI;
         |SI #rem01035@#4 = "4 FAMILIAR";  #rem01035@#4 = "TITULAR";  |FINSI;
     |FINSI;

     #rem01035@#5 = #datfic0@#11;
     #rem01035@#6 = (N\ #rem01035@#6 + ((#datfic0@#12 % nCoefi) + enRedon));
     #rem01035@#7 = (N\ #rem01035@#7 + ((#datfic0@#13 % nCoefi) + enRedon));

     |GRABA 020#rem01035@.a;
     |LIBERA #rem01035@;

     |SI #datfic0@#15 ! 0; nExc = (#datfic0@#15 % nCoefi) + enRedon; aCas = "1351-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#16 ! 0; nExc = (#datfic0@#16 % nCoefi) + enRedon; aCas = "1353-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#17 ! 0; nExc = (#datfic0@#17 % nCoefi) + enRedon; aCas = "1356-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#18 ! 0; nExc = (#datfic0@#18 % nCoefi) + enRedon; aCas = "1359-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
|FPRC;

|PROCESO rem01035C4;
     #rem01033@#0 = #rem01035@#0;
     #rem01033@#1 = #rem01035@#1;
     #rem01033@#2 = #rem01035@#2;
     |LEE 101#rem01033@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01033@;
         #rem01033@#0 = #rem01035@#0;
         #rem01033@#1 = #rem01035@#1;
         #rem01033@#2 = #rem01035@#2;
         |GRABA 020#rem01033@.b;
     |FINSI;

     nValor = #rem01035@#6 + #rem01035@#7;
     nResto = 0;
     |SI nValor > 10000;
         nValor = 10000;
         nResta = 10000 - #rem01035@#7;
         |SI nResta < 0;  nResta = 0;  |FINSI;

         nResto = #rem01035@#6 - nResta;
     |FINSI;

     #rem01033@#89 = (N\ #rem01033@#89 + nValor);

     |SI #rem01035@#3 = 1;
         #rem01033@#90 = (N\ #rem01033@#90 + nResto);
     |SINO;
         #rem01033@#91 = (N\ #rem01033@#91 + nResto);
     |FINSI;

     |GRABA 020#rem01033@.a;
     |LIBERA #rem01033@;

     #refere1@#0   = #rem01035@#0;
     #refere1@#1   = #rem01035@#1;
     #refere1@#2   = #rem01035@#2;

     enSwAcum  = 0;
     eaCasilla = "32-0481-LIQ19";  enImporte = #rem01033@#89;   |HAZ GrabaLineal;
|FPRC;

|DEFBUCLE rem01035C4;
     #rem01035@#1004;
     ;
     #refere1@#0, #refere1@#1, "          ", 001;
     #refere1@#0, #refere1@#1, "zzzzzzzzzz", 999;
     ;
     NULL, rem01035C4;
|FIN;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO I5
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO MeteNIFHijo;
     aAlfa1 = #rem01033@#157;  |QBF aAlfa1;
     aAlfa2 = #rem01033@#158;  |QBF aAlfa2;
     |SI aAlfa1 ! "";  |Y aAlfa2 ! "";
         |ACABA;
     |FINSI;

     |SI #rem01033@#157 = #datfic0@#12;
         |ACABA;
     |FINSI;

     |SI #rem01033@#158 = #datfic0@#12;
         |ACABA;
     |FINSI;

     |SI aAlfa1 = "";
         #rem01033@#157 = #datfic0@#12;

         |ACABA;
     |FINSI;

     |SI aAlfa2 = "";
         #rem01033@#158 = #datfic0@#12;
     |FINSI;
|FPRC;

|PROCESO LiquidaI5;
     || datfic0 = "rem00054";

     #rem01033@#0 = #refere1@#0;
     #rem01033@#1 = #refere1@#1;
     #rem01033@#2 = #refere1@#2;
     |LEE 101#rem01033@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01033@;
         #rem01033@#0 = #refere1@#0;
         #rem01033@#1 = #refere1@#1;
         #rem01033@#2 = #refere1@#2;
         |GRABA 020#rem01033@.b;
     |FINSI;

     |SI #datfic0@#14 = "N";
         #rem01046@#0 = #refere1@#0;
         #rem01046@#1 = #refere1@#1;
         #rem01046@#2 = #refere1@#2;
         #rem01046@#3 = 999;
         |LEE 040#rem01046@.];
         |SI FSalida = 0;
             |LEE 040#rem01046@.a;
         |SINO;
             |LEE 040#rem01046@.u;
         |FINSI;

         nLinea = 1;
         |SI FSalida = 0; |Y #rem01046@#0 = #refere1@#0; |Y #rem01046@#1 = #refere1@#1; |Y #rem01046@#2 = #refere1@#2;
             nLinea = #rem01046@#3 + 1;
         |FINSI;

         |DDEFECTO #rem01046@;
         #rem01046@#0  = #refere1@#0;
         #rem01046@#1  = #refere1@#1;
         #rem01046@#2  = #refere1@#2;
         #rem01046@#3  = nLinea;
         |LEE 101#rem01046@.=;
         |SI FSalida ! 0;
             |DDEFECTO #rem01046@;
             #rem01046@#0  = #refere1@#0;
             #rem01046@#1  = #refere1@#1;
             #rem01046@#2  = #refere1@#2;
             #rem01046@#3  = nLinea;
             |GRABA 020#rem01046@.b;
         |FINSI;

         #rem01046@#4  = eaContri;
         |SI #rem01046@#2 = "CONJUNTA  ";  |O #rem01046@#2 = "CONJUNTAE ";
             #rem01046@#4 = #datfic0@#2;

             |SI #rem01046@#4 = "GANANCIAL ";  #rem01046@#4 = "COMUNES";  |FINSI;

             |SI #rem01046@#4 = "VARIOS    ";
                 #rem01046@#4 = "COMUNES";

                 nTot = #datfic0@#5 + #datfic0@#6 + #datfic0@#7;
                 nTot = nTot + #datfic0@#8 + #datfic0@#9 + #datfic0@#10;

                 |SI #datfic0@#5  = nTot;  #rem01046@#4 = "TITULAR";    |FINSI;
                 |SI #datfic0@#6  = nTot;  #rem01046@#4 = "CONYUGE";    |FINSI;
                 |SI #datfic0@#7  = nTot;  #rem01046@#4 = "TITULAR";    |FINSI;
                 |SI #datfic0@#8  = nTot;  #rem01046@#4 = "TITULAR";    |FINSI;
                 |SI #datfic0@#9  = nTot;  #rem01046@#4 = "TITULAR";    |FINSI;
                 |SI #datfic0@#10 = nTot;  #rem01046@#4 = "TITULAR";    |FINSI;
             |FINSI;
         |SINO;
             |SI #rem01046@#4 = "1 FAMILIAR";  #rem01046@#4 = "TITULAR";  |FINSI;
             |SI #rem01046@#4 = "2 FAMILIAR";  #rem01046@#4 = "TITULAR";  |FINSI;
             |SI #rem01046@#4 = "3 FAMILIAR";  #rem01046@#4 = "TITULAR";  |FINSI;
             |SI #rem01046@#4 = "4 FAMILIAR";  #rem01046@#4 = "TITULAR";  |FINSI;
         |FINSI;

         |SI #datfic0@#17 = "S";
             #rem01046@#5 = #datfic0@#12;
         |SINO;
             #rem01046@#7 = #datfic0@#12;
         |FINSI;

         #rem01046@#6 = (N\ #rem01046@#6 + ((#datfic0@#13 % nCoefi) + enRedon));
         |GRABA 020#rem01046@.a;

         #rem01033@#92 = (N\ #rem01033@#92 + ((#datfic0@#13 % nCoefi) + enRedon));

         enSwAcum  = 0;
         eaCasilla = "33-0486-LIQ19";  enImporte = #rem01033@#92;   |HAZ GrabaLineal;
     |SINO;
         |HAZ MeteNIFHijo;

         enSwAcum  = 1;
         eaCasilla = "38-0527-LIQ19";  enImporte = #datfic0@#13 % nCoefi;   |HAZ GrabaLineal;
     |FINSI;
     |LIBERA #rem01046@;

     |GRABA 020#rem01033@.a;
     |LIBERA #rem01033@;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                        PUNTO I6
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO LiquidaI6;
     || datfic0 = "rem00053";

     |SI #datfic0@#23 ! "S";  |ACABA;  |FINSI;

     #rem01047@#0 = #refere1@#0;
     #rem01047@#1 = #refere1@#1;
     #rem01047@#2 = #refere1@#2;
     |SI #datfic0@#2 = "TITULAR   ";
         nLinea = 1;
     |SINO;
         nLinea = 2;
     |FINSI;

     |DDEFECTO #rem01047@;
     #rem01047@#0  = #refere1@#0;
     #rem01047@#1  = #refere1@#1;
     #rem01047@#2  = #refere1@#2;
     #rem01047@#3  = nLinea;
     |LEE 101#rem01047@.=;
     |SI FSalida ! 0;
         |DDEFECTO #rem01047@;
         #rem01047@#0  = #refere1@#0;
         #rem01047@#1  = #refere1@#1;
         #rem01047@#2  = #refere1@#2;
         #rem01047@#3  = nLinea;
         |GRABA 020#rem01047@.b;
     |FINSI;

     #rem01047@#4  = eaContri;
     |SI #rem01047@#2 = "CONJUNTA  ";  |O #rem01047@#2 = "CONJUNTAE ";
         #rem01047@#4 = #datfic0@#2;

         |SI #rem01047@#4 = "GANANCIAL ";  #rem01047@#4 = "COMUNES";  |FINSI;

         |SI #rem01047@#4 = "VARIOS    ";
             #rem01047@#4 = "COMUNES";

             nTot = #datfic0@#5 + #datfic0@#6 + #datfic0@#7;
             nTot = nTot + #datfic0@#8 + #datfic0@#9 + #datfic0@#10;

             |SI #datfic0@#5  = nTot;  #rem01047@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#6  = nTot;  #rem01047@#4 = "CONYUGE";    |FINSI;
             |SI #datfic0@#7  = nTot;  #rem01047@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#8  = nTot;  #rem01047@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#9  = nTot;  #rem01047@#4 = "TITULAR";    |FINSI;
             |SI #datfic0@#10 = nTot;  #rem01047@#4 = "TITULAR";    |FINSI;
         |FINSI;
     |SINO;
         |SI #rem01047@#4 = "1 FAMILIAR";  #rem01047@#4 = "TITULAR";  |FINSI;
         |SI #rem01047@#4 = "2 FAMILIAR";  #rem01047@#4 = "TITULAR";  |FINSI;
         |SI #rem01047@#4 = "3 FAMILIAR";  #rem01047@#4 = "TITULAR";  |FINSI;
         |SI #rem01047@#4 = "4 FAMILIAR";  #rem01047@#4 = "TITULAR";  |FINSI;
     |FINSI;

     #rem01047@#5 = (N\ #rem01047@#5 + ((#datfic0@#27 % nCoefi) + enRedon));
     #rem01047@#6 = (N\ #rem01047@#6 + ((#datfic0@#15 % nCoefi) + enRedon));
     #rem01047@#6 = (N\ #rem01047@#6 + ((#datfic0@#16 % nCoefi) + enRedon));

     |GRABA 020#rem01047@.a;
     |LIBERA #rem01047@;

     aContri = #rem01047@#4;

     |SI #datfic0@#36 ! 0; nExc = (#datfic0@#36 % nCoefi) + enRedon; aCas = "1364-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#37 ! 0; nExc = (#datfic0@#37 % nCoefi) + enRedon; aCas = "1366-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#38 ! 0; nExc = (#datfic0@#38 % nCoefi) + enRedon; aCas = "1369-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#39 ! 0; nExc = (#datfic0@#39 % nCoefi) + enRedon; aCas = "1372-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
     |SI #datfic0@#40 ! 0; nExc = (#datfic0@#40 % nCoefi) + enRedon; aCas = "1375-LIQ19"; |HAZ GrabaExcesos_5;  |FINSI;
|FPRC;

|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
||                   PROCESOS DE SELECCION
|| 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

|PROCESO Liquida5;
     |HAZ CreaLiquida;               || En el rezcalut

     |SI nSwFich = 1; |HAZ LiquidaI2; |FINSI;
     |SI nSwFich = 2; |HAZ LiquidaI3; |FINSI;
     |SI nSwFich = 3; |HAZ LiquidaI4; |FINSI;
     |SI nSwFich = 4; |HAZ LiquidaI5; |FINSI;
     |SI nSwFich = 5; |HAZ LiquidaI6; |FINSI;
|FPRC;

|PROCESO Seleccion5;
     |SI #datfic0@#2 = "GANANCIAL ";                || Si es Ganancial
         nCoefi = 50;  eaContri = "TITULAR   ";   |HAZ Liquida5;
         nCoefi = 50;  eaContri = "CONYUGE   ";   |HAZ Liquida5;
         nCoefi = 100; eaContri = "CONJUNTA  ";   |HAZ Liquida5;

         |SI eaMuerto ! "";
             nCoefi = 50;  eaContri = "CONJUNTAE ";   |HAZ Liquida5;
         |FINSI;

         |ACABA;
     |FINSI;

     |SI #datfic0@#2 ! "VARIOS    ";                || SI es TITULAR O CONYUGE;
         nCoefi = 100;  eaContri = #datfic0@#2;          |HAZ Liquida5;
         nCoefi = 100;  eaContri = "CONJUNTA  ";  |HAZ Liquida5;

         |SI eaMuerto = "T";  |Y #datfic0@#2 ! "TITULAR   ";
             nCoefi = 100;  eaContri = "CONJUNTAE ";   |HAZ Liquida5;
         |FINSI;

         |SI eaMuerto = "C";  |Y #datfic0@#2 ! "CONYUGE   ";
             nCoefi = 100;  eaContri = "CONJUNTAE ";   |HAZ Liquida5;
         |FINSI;
         |ACABA;
     |FINSI;
                                             || SI es Varios

     |SI #datfic0@#5  ! 0; nCoefi = #datfic0@#5;   eaContri = "TITULAR   ";  |HAZ Liquida5;  |FINSI;
     |SI #datfic0@#6  ! 0; nCoefi = #datfic0@#6;   eaContri = "CONYUGE   ";  |HAZ Liquida5;  |FINSI;
     |SI #datfic0@#7  ! 0; nCoefi = #datfic0@#7;   eaContri = "1 FAMILIAR";  |HAZ Liquida5;  |FINSI;
     |SI #datfic0@#8  ! 0; nCoefi = #datfic0@#8;   eaContri = "2 FAMILIAR";  |HAZ Liquida5;  |FINSI;
     |SI #datfic0@#9  ! 0; nCoefi = #datfic0@#9;   eaContri = "3 FAMILIAR";  |HAZ Liquida5;  |FINSI;
     |SI #datfic0@#10 ! 0; nCoefi = #datfic0@#10;  eaContri = "4 FAMILIAR";  |HAZ Liquida5;  |FINSI;

     nCoefi  = #datfic0@#5 + #datfic0@#6 + #datfic0@#7 + #datfic0@#8 + #datfic0@#9 + #datfic0@#10;
     eaContri = "CONJUNTA  "; |HAZ Liquida5;

     |SI eaMuerto = "T";
         nCoefi  = #datfic0@#6 + #datfic0@#7 + #datfic0@#8 + #datfic0@#9 + #datfic0@#10;
         eaContri = "CONJUNTAE "; |HAZ Liquida5;
     |FINSI;

     |SI eaMuerto = "C";
         nCoefi  = #datfic0@#5 + #datfic0@#7 + #datfic0@#8 + #datfic0@#9 + #datfic0@#10;
         eaContri = "CONJUNTAE "; |HAZ Liquida5;
     |FINSI;
|FPRC;

|PROCESO PuntoI2;
     nSwFich = 1;
     aDef    = eaPathDef + "rem00053.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01037.mas";
     |CARGA_DEF aDef, rem01037@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01037@#"zdat1037"#;  |FINSI;

     aDef    = eaPathDef + "rem01056.mas";
     |CARGA_DEF aDef, rem01056@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01056@#"zdat1056"#;  |FINSI;

     nPasada = 0;
     aTipo   = "";
     nCanti  = 0;
     |ABRE #datfic0@;
     |ABRE #rem01037@;
     |ABRE #rem01056@;
     |DDEFECTO #datfic0@;
     #datfic0@#0 = enEmpresa;
     #datfic0@#1 = 1;
     |LEE 040#datfic0@.];
     |PARA; |SI FSalida = 0;  |Y #datfic0@#0 = enEmpresa;  |HACIENDO;
            |SI #datfic0@#3 = "R"; |O #datfic0@#3 = "A";  |HAZ Seleccion5;  |FINSI;
            |SI #datfic0@#3 = "X";
                eaPrograma = "rem00053";
                enLinea    = #datfic0@#1;
                eaObserva  = "(I) PLANES DE PENSIONES Y MUTUALIDADES";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#datfic0@.s;
     |SIGUE;
     |CIERRA #datfic0@;
     |CIERRA #rem01037@;
     |CIERRA #rem01056@;

     |DESCARGA_DEF #rem01056@;
     |DESCARGA_DEF #rem01037@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoI3;
     nSwFich = 2;
     aDef    = eaPathDef + "rem00053.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01045.mas";
     |CARGA_DEF aDef, rem01045@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01045@#"zdat1045"#;  |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, rem01033@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01033@#"zdat1033"#;  |FINSI;


     aDef    = eaPathDef + "rem01056.mas";
     |CARGA_DEF aDef, rem01056@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01056@#"zdat1056"#;  |FINSI;

     nPasada = 0;
     aTipo   = "";
     nCanti  = 0;
     |ABRE #datfic0@;
     |ABRE #rem01045@;
     |ABRE #rem01056@;
     |DDEFECTO #datfic0@;
     #datfic0@#0 = enEmpresa;
     #datfic0@#1 = 1;
     |LEE 040#datfic0@.];
     |PARA; |SI FSalida = 0;  |Y #datfic0@#0 = enEmpresa;  |HACIENDO;
            |SI #datfic0@#3 = "R"; |O #datfic0@#3 = "A";  |HAZ Seleccion5;  |FINSI;
            |SI #datfic0@#3 = "X";
                eaPrograma = "rem00053";
                enLinea    = #datfic0@#1;
                eaObserva  = "(I) PLANES DE PENSIONES Y MUTUALIDADES";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#datfic0@.s;
     |SIGUE;
     |CIERRA #datfic0@;
     |CIERRA #rem01045@;
     |CIERRA #rem01056@;

     |ABRE #rem01033@;
     |BUCLE rem01045C4;
     |CIERRA #rem01033@;

     |DESCARGA_DEF #rem01056@;
     |DESCARGA_DEF #rem01033@;
     |DESCARGA_DEF #rem01045@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoI4;
     nSwFich = 3;
     aDef    = eaPathDef + "rem00061.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01035.mas";
     |CARGA_DEF aDef, rem01035@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01035@#"zdat1035"#;  |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, rem01033@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01033@#"zdat1033"#;  |FINSI;

     aDef    = eaPathDef + "rem01056.mas";
     |CARGA_DEF aDef, rem01056@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01056@#"zdat1056"#;  |FINSI;

     |ABRE #datfic0@;
     |ABRE #rem01035@;
     |ABRE #rem01056@;
     |DDEFECTO #datfic0@;
     #datfic0@#0 = enEmpresa;
     #datfic0@#1 = 1;
     |LEE 040#datfic0@.];
     |PARA; |SI FSalida = 0;  |Y #datfic0@#0 = enEmpresa;  |HACIENDO;
            |SI #datfic0@#3 = "R"; |O #datfic0@#3 = "A";  |HAZ Seleccion5;  |FINSI;
            |SI #datfic0@#3 = "X";
                eaPrograma = "rem00061";
                enLinea    = #datfic0@#1;
                eaObserva  = "(I) APORTACIONES A LOS PATRIMONIOS PROTEGIDOS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#datfic0@.s;
     |SIGUE;

     |CIERRA #datfic0@;
     |CIERRA #rem01035@;
     |CIERRA #rem01056@;

     |ABRE #rem01033@;
     |BUCLE rem01035C4;
     |CIERRA #rem01033@;

     |DESCARGA_DEF #rem01056@;
     |DESCARGA_DEF #rem01033@;
     |DESCARGA_DEF #rem01035@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoI5;
     nSwFich = 4;
     aDef    = eaPathDef + "rem00054.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01046.mas";
     |CARGA_DEF aDef, rem01046@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01046@#"zdat1046"#;  |FINSI;

     aDef    = eaPathDef + "rem01033.mas";
     |CARGA_DEF aDef, rem01033@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01033@#"zdat1033"#;  |FINSI;

     |ABRE #datfic0@;
     |ABRE #rem01046@;
     |ABRE #rem01033@;
     |DDEFECTO #datfic0@;
     #datfic0@#0 = enEmpresa;
     #datfic0@#1 = 1;
     |LEE 040#datfic0@.];
     |PARA; |SI FSalida = 0;  |Y #datfic0@#0 = enEmpresa;  |HACIENDO;
            |SI #datfic0@#3 = "R"; |O #datfic0@#3 = "A";  |HAZ Seleccion5;  |FINSI;
            |SI #datfic0@#3 = "X";
                eaPrograma = "rem00054";
                enLinea    = #datfic0@#1;
                eaObserva  = "(I) PENSIONES COMPENSATORIAS Y ANUALIDADES ALIMENTOS";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#datfic0@.s;
     |SIGUE;
     |CIERRA #datfic0@;
     |CIERRA #rem01046@;
     |CIERRA #rem01033@;

     |DESCARGA_DEF #rem01033@;
     |DESCARGA_DEF #rem01046@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO PuntoI6;
     nSwFich = 5;
     aDef    = eaPathDef + "rem00053.mas";
     |CARGA_DEF aDef, datfic0@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     aDef    = eaPathDef + "rem01047.mas";
     |CARGA_DEF aDef, rem01047@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01047@#"zdat1047"#;  |FINSI;

     aDef    = eaPathDef + "rem01056.mas";
     |CARGA_DEF aDef, rem01056@;
     |SI FSalida ! 0;
         aAlfa = "     Error en cargar el Def " + aDef;
         |MENAV aAlfa;
         |ACABA;
     |FINSI;

     |SI enNomeDat = 1;  |NOME_DAT #rem01056@#"zdat1056"#;  |FINSI;

     nPasada = 0;
     aTipo   = "";
     nCanti  = 0;

     |ABRE #datfic0@;
     |ABRE #rem01047@;
     |ABRE #rem01056@;
     |DDEFECTO #datfic0@;
     #datfic0@#0 = enEmpresa;
     #datfic0@#1 = 1;
     |LEE 040#datfic0@.];
     |PARA; |SI FSalida = 0;  |Y #datfic0@#0 = enEmpresa;  |HACIENDO;
            |SI #datfic0@#3 = "R"; |O #datfic0@#3 = "A";  |HAZ Seleccion5;  |FINSI;
            |SI #datfic0@#3 = "X";
                eaPrograma = "rem00053";
                enLinea    = #datfic0@#1;
                eaObserva  = "(I) PLANES DE PENSIONES Y MUTUALIDADES";
                |HAZ Graba1003;
            |FINSI;
            |LEE 040#datfic0@.s;
     |SIGUE;
     |CIERRA #datfic0@;
     |CIERRA #rem01047@;
     |CIERRA #rem01056@;

     |DESCARGA_DEF #rem01056@;
     |DESCARGA_DEF #rem01047@;
     |DESCARGA_DEF #datfic0@;
|FPRC;

|PROCESO Bloque5;
     |ABRE #rem00903;
     |SELECT #2#rem00903;

     |HAZ PuntoI2;
     |HAZ PuntoI3;
     |HAZ PuntoI4;
     |HAZ PuntoI5;
     |HAZ PuntoI6;

     |CIERRA #rem00903;
|FPRC;
