|FICHEROS;
    asagrclc #0;
    asagrcll #3;
|FIN;

|VARIABLES;
     nModo = 0;
     fFech1 = @;
     aAlfa1 = "";
     nNume1 = 0;
|FIN;

|PROCESO ascuolin;
     #0#6 = #0#6 + #3#7;
|FPRC;

|PROCESO Tipo3B; |TIPO 3;
     |ACABA;

     |CONFI "2400NDesea recalcular los importes de la cabecera : ";
     |SI FSalida ! 0; |ACABA; |FINSI;
     #0#6 = 0;
     #0#7 = 0;

     |BUCLELIN 0 ascuolin #0;

     |SI #0#2 = "M"; #0#7 = #0#6 / 12; |FINSI;
     |SI #0#2 = "T"; #0#7 = #0#6 / 4;  |FINSI;
     |SI #0#2 = "S"; #0#7 = #0#6 / 2;  |FINSI;
     |SI #0#2 = "A"; #0#7 = #0#6 / 1;  |FINSI;

    |PINTA #0#6;
    |PINTA #0#7;
|FPRC;

|PROCESO Defecto; |TIPO 7;    || calcula el a¤o por defecto segun sistema
     fFech1 = ~;
     aAlfa1 = fFech1;
     aAlfa1 = aAlfa1 % -104;
     #0Campo = aAlfa1;
     |PINTA #0Campo;
|FPRC;

|PROCESO CambiaPeriodo; |TIPO 0;
     |SI #0#2 = "M"; #0#7 = #0#6 / 12; |FINSI;
     |SI #0#2 = "T"; #0#7 = #0#6 / 4;  |FINSI;
     |SI #0#2 = "S"; #0#7 = #0#6 / 2;  |FINSI;
     |SI #0#2 = "A"; #0#7 = #0#6 / 1;  |FINSI;

     |PINTA #0#7;
|FPRC;
