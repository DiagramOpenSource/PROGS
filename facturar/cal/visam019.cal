|FICHEROS;
   visam019 #0;

   asclient #10;
   asexcont #11;
|FIN;

|VARIABLES;
   fFecha = @;
   aAlfa  = "";
|FIN;

|PROGRAMA;
   |ABRE #asclient; |ABRE #asexcont;

   |ABRE #visam019;
   |LEE 101#visam019.p;
   |SI FSalida ! 0;
      |DDEFECTO #visam019;

      |LEE 000#asclient.u;
      |SI FSalida ! 0; |DDEFECTO #asclient; |FINSI;
      #visam019#2 = #asclient#0 + 1;

      fFecha = ~;
      aAlfa = fFecha; |QBF aAlfa; aAlfa = aAlfa % -102;
      #asexcont#0 = aAlfa;
      |LEE 000#asexcont.=;
      |SI FSalida ! 0;
         |DDEFECTO #asexcont;
         #asexcont#0 = aAlfa;
         |GRABA 020#asexcont.n;
      |FINSI;
      #visam019#1 = #asexcont#1;
      |GRABA 020#visam019.b;
   |SINO;
      fFecha = ~;
      aAlfa = fFecha; |QBF aAlfa; aAlfa = aAlfa % -102;
      #asexcont#0 = aAlfa;
      |LEE 000#asexcont.=;
      |SI FSalida = 0;
         #visam019#1 = #asexcont#1;
      |FINSI;
      |GRABA 020#visam019.a;
   |FINSI;
   |CIERRA #asclient; |CIERRA #asexcont;

   |CLS;
   |CABEZA "Contadores";
   |PINPA #0#0; |PINDA #0#0;
   |ENDATOS #1#0;
   |SI FSalida = 0;
      |ABRE #asexcont;
      fFecha = ~;
      aAlfa = fFecha; |QBF aAlfa; aAlfa = aAlfa % -102;
      #asexcont#0 = aAlfa;
      |LEE 101#asexcont.=;
      |SI FSalida = 0;
         #asexcont#1 = #visam019#1 - 1;
         |GRABA 020#asexcont.a;
         |LIBERA #asexcont;
      |FINSI;
      |CIERRA #asexcont;

      |GRABA 020#visam019.a;
   |FINSI;
   |LIBERA #visam019; |CIERRA #visam019;
|FPRO;
