|FICHEROS;
     asagrcll #1;
     asagrclc #0;
     asagrupl #2;
     abom0505 #3;
|FIN;

|VARIABLES;
     nModo = 0;
     nNume1 = 0;
     nNume2 = 0;
|FIN;

|PROCESO GrabaLineas;
     |DDEFECTO #1;
     #1#0 = #0#0;        || cliente
     #1#9 = #0#8;        || a¤o
     #1#24 = #0#3;       || agrupacion
     #1#1 = #2#1;        || linea
     #1#2 = #2#2;        || seccion
     #1#3 = #2#3;        || concepto
     #1#4 = #2#4;        || descripcion
     |GRABA 000#1n;
|FPRC;

|DEFBUCLE abom0510;
     #2#1;
     ;
     #0#3, 001;
     #0#3, 999;
     ;
     NULL, GrabaLineas;
|FIN;

|PROCESO Tipo5;  |TIPO 5;
     nModo = (FEntrada / 100) ! 0;
     |SI nModo ! 1;|Y nModo ! 2;   |ACABA;   |FINSI;

     |BUCLE abom0510;
|FPRC;

|PROCESO Importe; |TIPO 0;
     #1#7 = #1#5 * #1#6;
     |PINTA #1#7;
|FPRC;

|PROCESO Tipo2B;  |TIPO 2;
     #0#9 = #0#9 +. #1#7;
     |PINTA #0#9;
|FPRC;

|PROCESO TotalHoras; |TIPO 0;
     #asagrcll#23 = #asagrcll#11 + #asagrcll#12 + #asagrcll#13 + #asagrcll#14 + #asagrcll#15 + #asagrcll#16 + #asagrcll#17 + #asagrcll#18 + #asagrcll#19 + #asagrcll#20 + #asagrcll#21 + #asagrcll#22;
     |PINTA #asagrcll#23;
     |HAZ Profesional;
|FPRC;

|PROCESO Profesional;
     |DDEFECTO #abom0505;
     |ABRE #abom0505;
     #abom0505#0 = #asagrcll#10;
     |LEE 000#abom0505.=;
     |CIERRA #abom0505;

     nNume1 = 60 / #abom0505#20;
     nNume2 = #asagrcll#23 / nNume1;

     #asagrcll#6 = nNume2;         |PINTA #asagrcll#6;
     #asagrcll#5 = #abom0505#19;   |PINTA #asagrcll#5;
     |HAZ Importe;
|FPRC;
