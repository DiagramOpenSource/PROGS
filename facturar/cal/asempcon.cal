|FICHEROS;
     asempcon #0;
     asw00001 #99;

     :/contagen/def/canempre #2;
|FIN;

|VARIABLES;
    cab = "Empresa Contable";
    path = "";
    emp_ant = 0;
    eje_ant = 0;
    sw_enlace = 0;
    alfa1 = "";
|FIN;

|INCLUYE i_varcof;

|PROCESO lee_conta1;
   sw_enlace = 1;
   |ERROR10;
|FPRC;

|DEFBUCLE lee_conta;
 #99#1;
 3, 4, 14;
 00,      0,   0, emp_ant, eje_ant, " ";
 99, 999999, 999, emp_ant, eje_ant, " ";
 e;
 NULL, lee_conta1;
|FIN;

|PROGRAMA;
  |CLS;
  |PINPA #0#0;
  |CABEZA cab;

  |ABRE #0;
  |DDEFECTO #0;
  |LEE 101#0p;
  |SI FSalida ! 0;
      |GRABA 020#0b;
      emp_ant = -1;
      eje_ant = -1;
  |SINO;
      emp_ant = #0#1;
      eje_ant = #0#2;
  |FINSI;

  |PINDA #0#0;
  |ENDATOS #1#0;
  |SI FSalida = 0;
      sw_enlace = 0;
      |SI emp_ant ! #0#1;|O eje_ant ! #0#2;
          |SI emp_ant ! -1;|Y eje_ant ! -1;
              |BUCLE lee_conta;
              |SI sw_enlace = 1;
                  |MENAV "    Existen Asientos Pendientes de Actualizar; MODIFICACION NO VALIDA ...";
              |FINSI;
          |FINSI;
      |FINSI;
      |SI sw_enlace = 0;
          |GRABA 020#0a;
      |FINSI;
  |FINSI;
  |LIBERA #0;
  |CIERRA #0;
|FPRO;

|PROCESO existes; |TIPO 66;
  enEmpresa  = #0#1;
  enPerConta = #0#2;
  |HAZ LeeEmpConta;
  |SI swerror  ! 0;
      |ERROR;
      |ACABA;
  |FINSI;
  |ATRI I;
  |PINTA 1416, #canempre#1;
  |ATRI 0;
|FPRC;
