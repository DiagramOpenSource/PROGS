|FICHEROS;
visam106 #0;
ashismic #1;
ashismil #2;
ashisrec #3;
asclient #4;
visam001 #5;
asfpagos #6;
|FIN;

|VARIABLES;
informe = "visam106";
&pend = 0;
fp1 = -1;
fp2 = 0;
&lin = 0;
hacer = 0;
fech = @;
&fecha = "";
&fpago = "";
|FIN;

|PROCESO exped;
#6#0 = #4#15;
|LEE 010#6=;
fpago = #6#1;
fp2 = #4#15;
/*
|SI fp1 ! fp2; |Y fp1 ! -1; || PIE
  lin = 2;
  |PRINT;
  lin = 0;
|FINSI;
|SI fp1 ! fp2; |O fp1 = -1; || CAB
  lin = 1;
  |PRINT;
  lin = 0;
|FINSI;
*/
|PRINT;

fp1 = #4#15;


|FPRC;

|DEFBUCLE expe;
#5#0;
24,25;
#3#0,#3#1;
#3#0,#3#1;
e;
NULL,exped;
|FIN;


|PROCESO recib;
#4#0 = #1#3;
|LEE 010#4=;
|SI FSalida = 0;
 |SI #4#15 = #0#3;
    #3#0 = #1#0;
    #3#1 = #1#1;
    |LEE 010#3=;
    |SI FSalida = 0;
      pend = #3#6 - #3#9;
      hacer = 0;
      |SI pend ! 0; |Y #0#11 = "I";
        hacer = 1;
      |FINSI;
      |SI pend = 0; |Y #0#11 = "P";
        hacer = 1;
      |FINSI;
      |SI #0#11 = "T";
        hacer = 1;
      |FINSI;

      |SI hacer = 1;
        #1#0 = #3#0;
        #1#1 = #3#1;
        |LEE 001#1=;
        |BUCLE expe;
      |FINSI;
    |FINSI;
  |FINSI;
|FINSI;
|FPRC;

|DEFBUCLE recibos;
#1#1;
3,29;
#0#5,#0#7,#0#9 ,#0#1;
#0#6,#0#8,#0#10,#0#2;
e;
NULL,NULL,NULL,NULL,NULL,recib;
#1#12,#1#0,#1#1,#4#15;
|FIN;

|PROGRAMA;
fech = ~;
fecha = fech;
|CLS;
|PINPA #0#0;
|ABRE #0;
|DDEFECTO #0;
#0#0 = "A";
|LEE 001#0=;
|SI FSalida ! 0;
    |DDEFECTO #0;
    |GRABA 010#0c;
|FINSI;
|PINDA #0#0;
|ABRE #1;
|ABRE #4;
|ABRE #6;
|ABRE #5;
|ABRE #3;
|ENDATOS #1#0;
|SI FSalida = 0;
  |MENAV "0000Para el listado en papel, colocar el dispositivo en horizontal, ajustar letra a hoja, 60 lineas, 115 columnas.";
  |GRABA 010#0a;
  |IMPRE #0;
  |SI FSalida = 0;
    |INFOR informe;
    |BUCLE recibos;
    lin = 2;
    |PRINT;
/*

    lin = 3;
    |PRINT;
*/
    |PIEINF;
    |FININF;
    |FINIMP;
  |FINSI;
  |CIERRA #1;
  |CIERRA #5;
  |CIERRA #3;
|FINSI;
|FPRO;
