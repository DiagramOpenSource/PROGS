|FICHEROS;
    fomparem #0;
    fomparca #1;
    fomparli #2;
    facemp   #3;
|FIN;

|VARIABLES;
     nTotal   = 0;
     nPasada  = 0;

     traba    = "";
     trab1    = "";
     directo  = "";
     dir_fich = "";

     &vacio   = "                                        ";
|FIN;

|PROCESO fomparli;
     |SI nPasada = 0;
         nTotal = nTotal + #fomparli#8;
         |ACABA;
     |FINSI;

     |PRINT;
|FPRC;

|PROCESO cabecera;
     |SI #fomparem#13 > 0;  |O #fomparem#14 < 999999999.99;
         nTotal  = 0;
         nPasada = 0;
         |BUCLELIN 0fomparli#1;

         |SI nTotal < #fomparem#13;  |O nTotal > #fomparem#14;
             |ACABA;
         |FINSI;
     |FINSI;

     nPasada = 1;
     |BUCLELIN 0fomparli#1;

     |PIEINF;
|FPRC;

|DEFBUCLE fomparca;
     #fomparca#3;
     6, 7, 10;
     #fomparem#0, #fomparem#2, #fomparem#4, #fomparem#7, #fomparem#9,  #fomparem#11;
     #fomparem#1, #fomparem#3, #fomparem#5, #fomparem#8, #fomparem#10, #fomparem#12;
     ;
     NULL, cabecera;
|FIN;

|PROCESO tipo_3; |TIPO 3;
     |IMPRE 0;
     |SI FSalida ! 0; |ACABA; |FINSI;

     |INFOR "fomparem";
     |SI FSalida ! 0; |FINIMP; |ACABA; |FINSI;

     |DBASE dir_fich;
     dir_fich = dir_fich + "fich/";
     |PATH_DAT #3 dir_fich;
     |ABRE #3;

     |DFICE directo;
     traba = directo - dir_fich;
     trab1 = traba % 102;

     #3#0 = trab1;
     |LEE 000#3=;
     |CIERRA #3;

     |BUCLE fomparca;

     |FININF;
     |FINIMP;
|FPRC;
