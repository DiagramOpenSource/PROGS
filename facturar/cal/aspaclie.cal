|FICHEROS;
    asteclie #0;
    asclient #1;
|FIN;

|VARIABLES;
    mensaje = "";
    aviso1 = "     *** ATENCION *** Error al Regrabar  ";
    aviso2 = "     *** ATENCION *** Error al Grabar  ";
    campo = 0;
|FIN;

|CALCULO proceso;
   #1#0 = #0#0;
   #1#1 = #0#1;
   |LEE 040#1=;
   |SI FSalida = 0;
       |HAZ paseclie;
       |GRABA 040#1a;
       |SI FSalida ! 0;
           mensaje = aviso1 + #1#0;
           |MENAV mensaje;
       |FINSI;
   |SINO;
       |DDEFECTO #1;
       |HAZ paseclie;
       |GRABA 141#1n;
       |SI FSalida ! 0;
           mensaje = aviso2 + #1#0;
           |MENAV mensaje;
       |FINSI;
   |FINSI;
|FCAL;

|CALCULO paseclie;
|PARA campo = 0; |SI campo [ 21; |HACIENDO campo = campo + 1;
      #1campo = #0campo;
|SIGUE;	
|FCAL;

|CALCULO leesec;|TIPO 3;
|ABRET #0;
|ABRET #1;
|LEE 040#0p;
|ET bucle1;
|HAZ proceso;
|LEE 040#0s;
|SI FSalida = 0;
    |VETE bucle1;
|FINSI;
|CIERRAT #0;
|CIERRAT #1;
|FCAL;
