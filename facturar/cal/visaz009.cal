|FICHEROS;
   visaz009 #0;

   ashisrec #10;
   ashismic #11;

   &bancosp@ #706;
   &fopagos@ #712;
|FIN;

|VARIABLES;
   &enCodBanco = 0;
   &enCodPago  = 0;
|FIN;

|PROCESO BancoRemesas; |TIPO 66;
   |ABRE #bancosp@;
   |CONSULTA_CLAVE #1#bancosp@;
   #visaz009#10 = #bancosp@#0;
   |CIERRA #bancosp@;

   |HAZ PintaBanco;
|FPRC;

|PROCESO PintaBanco;
   enCodBanco = #visaz009#10;
   |HAZ LeeBancoPropio;

   |ABRE #bancosp@;
   #bancosp@#0 = #visaz009#10;
   |LEE 000#bancosp@.=;
   |SI FSalida ! 0;
      |MENAV "    Codigo de banco inexistente"; |ERROR;
   |FINSI;

   |PINTA #visaz009#10;
   |PINTA 2130, #bancosp@#1;
   |CIERRA #bancosp@;
|FPRC;

|PROCESO FormaPago; |TIPO 66;
   |ABRE #fopagos@;
   |CONSULTA_CLAVE #1#fopagos@;
   #visaz009#9 = #fopagos@#0;
   |CIERRA #fopagos@;

   |HAZ PintaFPago;
|FPRC;

|PROCESO PintaFPago;
   enCodPago = #visaz009#9;
   |HAZ LeeFormaDePago;

   |ABRE #fopagos@;
   #fopagos@#0 = #visaz009#9;
   |LEE 000#fopagos@.=;
   |SI FSalida ! 0;
      |MENAV "    Forma de pago inexistente"; |ERROR;
   |FINSI;

   |PINTA #visaz009#9;
   |PINTA 2030, #fopagos@#1;
   |CIERRA #fopagos@;
|FPRC;

|PROCESO Recibos;
   #ashisrec#7  = #visaz009#10;
   #ashisrec#11 = #visaz009#9;
   |GRABA 020#ashisrec.a;

   #ashismic#0 = #ashisrec#0;
   #ashismic#1 = #ashisrec#1;
   |LEE 101#ashismic.=;
   |SI FSalida = 0;
      #ashismic#12 = #visaz009#9;
      #ashismic#13 = #visaz009#10;
      |GRABA 020#ashismic.a; |LIBERA #ashismic;
   |FINSI;
|FPRC;

|DEFBUCLE Recibos;
#ashisrec#3;
2, 5, 10;
#visaz009#0, #visaz009#5, #visaz009#7, #visaz009#1, #visaz009#3, "N";
#visaz009#0, #visaz009#6, #visaz009#8, #visaz009#2, #visaz009#4, "N";
be;
NULL, Recibos;
|FIN;

|PROGRAMA;
   |HAZ Tipo88;

   |CLS;
   |CABEZA "Cambio masivo formas de pago";

   |PINPA #0#0; |PINDA #0#0;
   |HAZ PintaBanco; |HAZ PintaFPago;
   |ENDATOS #1#0;
   |SI FSalida = 0;
      |ABRE #ashismic;
      |BUCLE Recibos;
      |CIERRA #ashismic;
   |FINSI;
|FPRO;
