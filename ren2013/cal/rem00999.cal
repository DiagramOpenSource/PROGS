|FICHEROS;
     rem00999;
|FIN;

|VARIABLES;
     aCodigo1   = "";
     aCodigo2   = "";
     aCodigo3   = "";
     aContenido = "";
     aCaracter  = "";
     aLineaMenu = "";
     aAlfa      = "";
     aAlfa1     = "";
     aAlfa2     = "";
     aAbre      = "";
     aPrograma  = "";
     aRetu      = "";
     aEsc1      = "";
     aEsc2      = "";
     aTecla     = "";

     nCodigos   = 0;
     nCodigo1   = 0;
     nCodigo2   = 0;
     nCodigo3   = 0;
     nPos       = 0;
     nPosi      = 0;
     nRango     = 0;
     nBoton1    = 0;
     nHandle    = 0;
     nLong      = 0;
     nCaracter  = 0;
     nLLaves    = 0;
     nGrid      = 0;
     nVent      = 0;
|FIN;

|PROGRAMA;
     |VENTANA 0501, 3499, -1, 0, "";
     nVent = FSalida;

     |PTEC 802;  |PAUSA;

     nRango = 4 + 8 + 16 + 32 + 128 + 256;

     |LEE 000#rem00999.p;

     |LINEAL_SIMPLE #1#rem00999, nRango, 0602, 3398, NULL, NULL, NULL;
     nGrid = FSalida;

     aEsc1  = &255 + "806";
     aEsc2  = &255 + "807";
     aRetu  = &255 + "802";
     |PARA; |SI;  |HACIENDO;
          FSalida = "::{{001}}sa&Lir," + nGrid;
          |LEETECLA aTecla;
          |SI aTecla = aEsc1; |SAL;  |FINSI;
          |SI aTecla = aEsc2; |SAL;  |FINSI;
          |SI aTecla = aRetu; |SAL;  |FINSI;
     |SIGUE;

     |PULSATECLA;

     |FINVENTANA nVent;
|FPRO;

|PROCESO RecogeDatos;
     aAlfa = "/u/dsprofes/ren2013/cogetxt/rem00999.txt";
     |XABRE "",  aAlfa,  nHandle;

     |PARA;  |SI;  |HACIENDO;
          |XLEE nHandle, 250, aLineaMenu;
          |SI FSalida [ 0;  |SAL;  |FINSI;

          aAlfa1 = aLineaMenu % 111;
          aAlfa2 = aLineaMenu - aAlfa1;

          aCodigo1 = aAlfa1 % 102;
          aCodigo2 = aAlfa1 % 403;
          aCodigo3 = aAlfa1 % 803;

          |DDEFECTO #rem00999;
          #rem00999#0 = aCodigo1;
          #rem00999#1 = aCodigo2;
          #rem00999#2 = aCodigo3;
          #rem00999#3 = aAlfa2;
          |GRABA 020#rem00999.n;
          |LIBERA #rem00999;
     |SIGUE;
     |XCIERRA nHandle;
|FPRC;

|PROCESO rem00999;
     aAlfa1 = (("00" + #rem00999#0) % -102) + " " + #rem00999#1 + ":" + #rem00999#2 + &13 + &10;
     |XGRABA nHandle, aAlfa1;
|FPRC;

|DEFBUCLE rem00999;
     #rem00999#1;
     ;
     INICIO;
     FINAL;
     ;
     NULL, rem00999;
|FIN;

|PROCESO HazElTxt;
     aAbre = "/u/dsprofes/ren2013/cogetxt/rem00999.txt";

     |XABRE "WB", aAbre, nHandle;
     |BUCLE rem00999;
     |XCIERRA nHandle;
|FPRC;

|PROCESO Tipo80Fm999;  |TIPO 80;
||     |HAZ HazElTxt;

     |ABRET #rem00999;
     |LEE 000#rem00999.p;
     |SI FSalida ! 0;
         |HAZ RecogeDatos;
     |FINSI;
|FPRC;

|PROCESO Tipo90Fm999;  |TIPO 90;
     |CIERRAT #rem00999;
|FPRC;
