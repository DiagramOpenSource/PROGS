|FICHEROS;
     rey00101 #0;
     rehusuar #100;
|FIN;

|VARIABLES;
     Campos     = 0;
     SwImpresio = 0;
     DEmpre     = 0;
     HEmpre     = 0;
     DUsuar     = "";
     HUsuar     = "";
     Listado    = "";
     SwParrilla = 0;
|FIN;

|INCLUYE i_consul;

|PROCESO Mayor; |TIPO 0;
#0Campo = #0Campo > #0Campo;
|PINTA #0Campo;
|FPRC;

|PROCESO SelecContribu; |TIPO 0;
|SI #0#0 = "S";
    |C_M #0#1, 1, "N"; #0#1 = 00001; |PINTA #0#1;
    |C_M #0#2, 1, "N"; #0#2 = 99999; |PINTA #0#2;

    |PARA Campos = 3; |SI Campos [ 32; |HACIENDO Campos = Campos + 1;
          |C_M #0Campos, 1, "S";
    |SIGUE;
|SINO;
    |C_M #0#1, 1, "S";
    |C_M #0#2, 1, "S";

    |PARA Campos = 3; |SI Campos [ 32; |HACIENDO Campos = Campos + 1;
          |C_M #0Campos, 1, "N"; #0Campos = 0; |PINTA #0Campos;
    |SIGUE;
|FINSI;
|FPRC;

|PROCESO SelecUsuario; |TIPO 0;
|SI #0#33 = "S";
    |C_M #0#34, 1, "N"; #0#34 = "          "; |PINTA #0#34;
    |C_M #0#35, 1, "N"; #0#35 = "zzzzzzzzzz"; |PINTA #0#35;

    |PARA Campos = 36; |SI Campos [ 45; |HACIENDO Campos = Campos + 1;
          |C_M #0Campos, 1, "S";
    |SIGUE;
|SINO;
    |C_M #0#34, 1, "S";
    |C_M #0#35, 1, "S";

    |PARA Campos = 36; |SI Campos [ 45; |HACIENDO Campos = Campos + 1;
          |C_M #0Campos, 1, "N"; #0Campos = "zzzzzzzzzz"; |PINTA #0Campos;
    |SIGUE;
|FINSI;
|FPRC;

|PROCESO Impresio;
SwParrilla = 1;

|SI #0#0 = "S";
    SwParrilla = 0;
    |PARA Campos = 3; |SI Campos [ 32; |HACIENDO Campos = Campos + 1;
          |SI #0Campos = #100#0; SwParrilla = 1; |SAL; |FINSI;
    |SIGUE;
|FINSI;

|SI SwParrilla = 0; |ACABA; |FINSI;

|SI #0#33 = "S";
    SwParrilla = 0;
    |PARA Campos = 36; |SI Campos [ 45; |HACIENDO Campos = Campos + 1;
          |SI #0Campos = #100#11; SwParrilla = 1; |SAL; |FINSI;
    |SIGUE;
|FINSI;

|SI SwParrilla = 0; |ACABA; |FINSI;

|PRINT;
SwImpresio = 1;
|FPRC;

|DEFBUCLE rehusuar1;
#100#2;
;
DEmpre, DUsuar, #0#46, 0000;
HEmpre, HUsuar, #0#47, 9999;
;
NULL, Impresio;
|FIN;

|DEFBUCLE rehusuar2;
#100#3;
;
DUsuar, DEmpre, #0#46, 0000;
HUsuar, HEmpre, #0#47, 9999;
;
NULL, Impresio;
|FIN;

|PROCESO Tipo3; |TIPO 3;
|IMPRE 0;
|SI FSalida ! 0; |ACABA; |FINSI;

|SI #0#48 = 1; Listado = "rey10101"; |FINSI;
|SI #0#48 = 2; Listado = "rey20101"; |FINSI;

|INFOR Listado;
|SI FSalida ! 0; |FINIMP; |ACABA; |FINSI;

DEmpre = #0#1;
HEmpre = #0#2;
DUsuar = #0#34;
HUsuar = #0#35;

|SI #0#48 = 1; |BUCLE rehusuar1; |FINSI;
|SI #0#48 = 2; |BUCLE rehusuar2; |FINSI;

|SI SwImpresio = 1; |PIEINF; |FINSI;
|FININF;
|FINIMP;
|FPRC;
